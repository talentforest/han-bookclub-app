var nB=Object.defineProperty;var rB=(t,e,n)=>e in t?nB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Me=(t,e,n)=>rB(t,typeof e!="symbol"?e+"":e,n);function iB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x0={exports:{}},Bc={},_0={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function sB(){if(Q2)return wt;Q2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function w(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}w.prototype.isReactComponent={},w.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=w.prototype;function x(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}var E=x.prototype=new b;E.constructor=x,g(E,w.prototype),E.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,C={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function N(j,U,V){var z,Q={},X=null,W=null;if(U!=null)for(z in U.ref!==void 0&&(W=U.ref),U.key!==void 0&&(X=""+U.key),U)k.call(U,z)&&!O.hasOwnProperty(z)&&(Q[z]=U[z]);var J=arguments.length-2;if(J===1)Q.children=V;else if(1<J){for(var Z=Array(J),te=0;te<J;te++)Z[te]=arguments[te+2];Q.children=Z}if(j&&j.defaultProps)for(z in J=j.defaultProps,J)Q[z]===void 0&&(Q[z]=J[z]);return{$$typeof:t,type:j,key:X,ref:W,props:Q,_owner:C.current}}function P(j,U){return{$$typeof:t,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function A(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return U[V]})}var D=/\/+/g;function L(j,U){return typeof j=="object"&&j!==null&&j.key!=null?A(""+j.key):U.toString(36)}function F(j,U,V,z,Q){var X=typeof j;(X==="undefined"||X==="boolean")&&(j=null);var W=!1;if(j===null)W=!0;else switch(X){case"string":case"number":W=!0;break;case"object":switch(j.$$typeof){case t:case e:W=!0}}if(W)return W=j,Q=Q(W),j=z===""?"."+L(W,0):z,S(Q)?(V="",j!=null&&(V=j.replace(D,"$&/")+"/"),F(Q,U,V,"",function(te){return te})):Q!=null&&(I(Q)&&(Q=P(Q,V+(!Q.key||W&&W.key===Q.key?"":(""+Q.key).replace(D,"$&/")+"/")+j)),U.push(Q)),1;if(W=0,z=z===""?".":z+":",S(j))for(var J=0;J<j.length;J++){X=j[J];var Z=z+L(X,J);W+=F(X,U,V,Z,Q)}else if(Z=p(j),typeof Z=="function")for(j=Z.call(j),J=0;!(X=j.next()).done;)X=X.value,Z=z+L(X,J++),W+=F(X,U,V,Z,Q);else if(X==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return W}function q(j,U,V){if(j==null)return j;var z=[],Q=0;return F(j,z,"","",function(X){return U.call(V,X,Q++)}),z}function M(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var B={current:null},Y={transition:null},H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Y,ReactCurrentOwner:C};return wt.Children={map:q,forEach:function(j,U,V){q(j,function(){U.apply(this,arguments)},V)},count:function(j){var U=0;return q(j,function(){U++}),U},toArray:function(j){return q(j,function(U){return U})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},wt.Component=w,wt.Fragment=n,wt.Profiler=i,wt.PureComponent=x,wt.StrictMode=r,wt.Suspense=l,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,wt.cloneElement=function(j,U,V){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var z=g({},j.props),Q=j.key,X=j.ref,W=j._owner;if(U!=null){if(U.ref!==void 0&&(X=U.ref,W=C.current),U.key!==void 0&&(Q=""+U.key),j.type&&j.type.defaultProps)var J=j.type.defaultProps;for(Z in U)k.call(U,Z)&&!O.hasOwnProperty(Z)&&(z[Z]=U[Z]===void 0&&J!==void 0?J[Z]:U[Z])}var Z=arguments.length-2;if(Z===1)z.children=V;else if(1<Z){J=Array(Z);for(var te=0;te<Z;te++)J[te]=arguments[te+2];z.children=J}return{$$typeof:t,type:j.type,key:Q,ref:X,props:z,_owner:W}},wt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},wt.createElement=N,wt.createFactory=function(j){var U=N.bind(null,j);return U.type=j,U},wt.createRef=function(){return{current:null}},wt.forwardRef=function(j){return{$$typeof:a,render:j}},wt.isValidElement=I,wt.lazy=function(j){return{$$typeof:c,_payload:{_status:-1,_result:j},_init:M}},wt.memo=function(j,U){return{$$typeof:h,type:j,compare:U===void 0?null:U}},wt.startTransition=function(j){var U=Y.transition;Y.transition={};try{j()}finally{Y.transition=U}},wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.useCallback=function(j,U){return B.current.useCallback(j,U)},wt.useContext=function(j){return B.current.useContext(j)},wt.useDebugValue=function(){},wt.useDeferredValue=function(j){return B.current.useDeferredValue(j)},wt.useEffect=function(j,U){return B.current.useEffect(j,U)},wt.useId=function(){return B.current.useId()},wt.useImperativeHandle=function(j,U,V){return B.current.useImperativeHandle(j,U,V)},wt.useInsertionEffect=function(j,U){return B.current.useInsertionEffect(j,U)},wt.useLayoutEffect=function(j,U){return B.current.useLayoutEffect(j,U)},wt.useMemo=function(j,U){return B.current.useMemo(j,U)},wt.useReducer=function(j,U,V){return B.current.useReducer(j,U,V)},wt.useRef=function(j){return B.current.useRef(j)},wt.useState=function(j){return B.current.useState(j)},wt.useSyncExternalStore=function(j,U,V){return B.current.useSyncExternalStore(j,U,V)},wt.useTransition=function(){return B.current.useTransition()},wt.version="18.2.0",wt}var X2;function ag(){return X2||(X2=1,_0.exports=sB()),_0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function oB(){if(J2)return Bc;J2=1;var t=ag(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,h){var c,f={},p=null,m=null;h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(f[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return Bc.Fragment=n,Bc.jsx=o,Bc.jsxs=o,Bc}var Z2;function aB(){return Z2||(Z2=1,x0.exports=oB()),x0.exports}var _=aB(),Yh={},S0={exports:{}},Xr={},E0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function lB(){return eC||(eC=1,function(t){function e(Y,H){var j=Y.length;Y.push(H);e:for(;0<j;){var U=j-1>>>1,V=Y[U];if(0<i(V,H))Y[U]=H,Y[j]=V,j=U;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],j=Y.pop();if(j!==H){Y[0]=j;e:for(var U=0,V=Y.length,z=V>>>1;U<z;){var Q=2*(U+1)-1,X=Y[Q],W=Q+1,J=Y[W];if(0>i(X,j))W<V&&0>i(J,X)?(Y[U]=J,Y[W]=j,U=W):(Y[U]=X,Y[Q]=j,U=Q);else if(W<V&&0>i(J,j))Y[U]=J,Y[W]=j,U=W;else break e}}return H}function i(Y,H){var j=Y.sortIndex-H.sortIndex;return j!==0?j:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=Y)r(h),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(h)}}function S(Y){if(y=!1,E(Y),!g)if(n(l)!==null)g=!0,M(k);else{var H=n(h);H!==null&&B(S,H.startTime-Y)}}function k(Y,H){g=!1,y&&(y=!1,b(N),N=-1),m=!0;var j=p;try{for(E(H),f=n(l);f!==null&&(!(f.expirationTime>H)||Y&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var V=U(f.expirationTime<=H);H=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),E(H)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var Q=n(h);Q!==null&&B(S,Q.startTime-H),z=!1}return z}finally{f=null,p=j,m=!1}}var C=!1,O=null,N=-1,P=5,I=-1;function A(){return!(t.unstable_now()-I<P)}function D(){if(O!==null){var Y=t.unstable_now();I=Y;var H=!0;try{H=O(!0,Y)}finally{H?L():(C=!1,O=null)}}else C=!1}var L;if(typeof x=="function")L=function(){x(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=D,L=function(){q.postMessage(null)}}else L=function(){w(D,0)};function M(Y){O=Y,C||(C=!0,L())}function B(Y,H){N=w(function(){Y(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,M(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var j=p;p=H;try{return Y()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=p;p=Y;try{return H()}finally{p=j}},t.unstable_scheduleCallback=function(Y,H,j){var U=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,Y={id:c++,callback:H,priorityLevel:Y,startTime:j,expirationTime:V,sortIndex:-1},j>U?(Y.sortIndex=j,e(h,Y),n(l)===null&&Y===n(h)&&(y?(b(N),N=-1):y=!0,B(S,j-U))):(Y.sortIndex=V,e(l,Y),g||m||(g=!0,M(k))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var H=p;return function(){var j=p;p=H;try{return Y.apply(this,arguments)}finally{p=j}}}}(k0)),k0}var tC;function uB(){return tC||(tC=1,E0.exports=lB()),E0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function cB(){if(nC)return Xr;nC=1;var t=ag(),e=uB();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function p(u){return l.call(f,u)?!0:l.call(c,u)?!1:h.test(u)?f[u]=!0:(c[u]=!0,!1)}function m(u,d,v,T){if(v!==null&&v.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return T?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function g(u,d,v,T){if(d===null||typeof d>"u"||m(u,d,v,T))return!0;if(T)return!1;if(v!==null)switch(v.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(u,d,v,T,R,$,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=R,this.mustUseProperty=v,this.propertyName=u,this.type=d,this.sanitizeURL=$,this.removeEmptyString=G}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];w[d]=new y(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function E(u,d,v,T){var R=w.hasOwnProperty(d)?w[d]:null;(R!==null?R.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(g(d,v,R,T)&&(v=null),T||R===null?p(d)&&(v===null?u.removeAttribute(d):u.setAttribute(d,""+v)):R.mustUseProperty?u[R.propertyName]=v===null?R.type===3?!1:"":v:(d=R.attributeName,T=R.attributeNamespace,v===null?u.removeAttribute(d):(R=R.type,v=R===3||R===4&&v===!0?"":""+v,T?u.setAttributeNS(T,d,v):u.setAttribute(d,v))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),C=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var j=Object.assign,U;function V(u){if(U===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+u}var z=!1;function Q(u,d){if(!u||z)return"";z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var T=de}Reflect.construct(u,[],d)}else{try{d.call()}catch(de){T=de}u.call(d.prototype)}else{try{throw Error()}catch(de){T=de}u()}}catch(de){if(de&&T&&typeof de.stack=="string"){for(var R=de.stack.split(`
`),$=T.stack.split(`
`),G=R.length-1,ee=$.length-1;1<=G&&0<=ee&&R[G]!==$[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(R[G]!==$[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||R[G]!==$[ee]){var ne=`
`+R[G].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=G&&0<=ee);break}}}finally{z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?V(u):""}function X(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=Q(u.type,!1),u;case 11:return u=Q(u.type.render,!1),u;case 1:return u=Q(u.type,!0),u;default:return""}}function W(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case O:return"Fragment";case C:return"Portal";case P:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case A:return(u.displayName||"Context")+".Consumer";case I:return(u._context.displayName||"Context")+".Provider";case D:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return d=u.displayName||null,d!==null?d:W(u.type)||"Memo";case M:d=u._payload,u=u._init;try{return W(u(d))}catch{}}return null}function J(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(d);case 8:return d===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function le(u){var d=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),T=""+u[d];if(!u.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,$=v.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return R.call(this)},set:function(G){T=""+G,$.call(this,G)}}),Object.defineProperty(u,d,{enumerable:v.enumerable}),{getValue:function(){return T},setValue:function(G){T=""+G},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function pe(u){u._valueTracker||(u._valueTracker=le(u))}function ge(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var v=d.getValue(),T="";return u&&(T=te(u)?u.checked?"true":"false":u.value),u=T,u!==v?(d.setValue(u),!0):!1}function Ce(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function $e(u,d){var v=d.checked;return j({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function De(u,d){var v=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;v=Z(d.value!=null?d.value:v),u._wrapperState={initialChecked:T,initialValue:v,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function nt(u,d){d=d.checked,d!=null&&E(u,"checked",d,!1)}function Qe(u,d){nt(u,d);var v=Z(d.value),T=d.type;if(v!=null)T==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?fe(u,d.type,v):d.hasOwnProperty("defaultValue")&&fe(u,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function ce(u,d,v){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,v||d===u.value||(u.value=d),u.defaultValue=d}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function fe(u,d,v){(d!=="number"||Ce(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var we=Array.isArray;function xe(u,d,v,T){if(u=u.options,d){d={};for(var R=0;R<v.length;R++)d["$"+v[R]]=!0;for(v=0;v<u.length;v++)R=d.hasOwnProperty("$"+u[v].value),u[v].selected!==R&&(u[v].selected=R),R&&T&&(u[v].defaultSelected=!0)}else{for(v=""+Z(v),d=null,R=0;R<u.length;R++){if(u[R].value===v){u[R].selected=!0,T&&(u[R].defaultSelected=!0);return}d!==null||u[R].disabled||(d=u[R])}d!==null&&(d.selected=!0)}}function he(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Be(u,d){var v=d.value;if(v==null){if(v=d.children,d=d.defaultValue,v!=null){if(d!=null)throw Error(n(92));if(we(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),v=d}u._wrapperState={initialValue:Z(v)}}function Ie(u,d){var v=Z(d.value),T=Z(d.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),d.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),T!=null&&(u.defaultValue=""+T)}function Ye(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Yt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function An(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Yt(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var it,qr=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,v,T,R){MSApp.execUnsafeLocalFunction(function(){return u(d,v,T,R)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=it.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function ft(u,d){if(d){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=d;return}}u.textContent=d}var Ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zn=["Webkit","ms","Moz","O"];Object.keys(Ht).forEach(function(u){Zn.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),Ht[d]=Ht[u]})});function Hr(u,d,v){return d==null||typeof d=="boolean"||d===""?"":v||typeof d!="number"||d===0||Ht.hasOwnProperty(u)&&Ht[u]?(""+d).trim():d+"px"}function Dr(u,d){u=u.style;for(var v in d)if(d.hasOwnProperty(v)){var T=v.indexOf("--")===0,R=Hr(v,d[v],T);v==="float"&&(v="cssFloat"),T?u.setProperty(v,R):u[v]=R}}var oe=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(u,d){if(d){if(oe[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function be(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Te(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oe=null,Ge=null,Ue=null;function He(u){if(u=kc(u)){if(typeof Oe!="function")throw Error(n(280));var d=u.stateNode;d&&(d=ah(d),Oe(u.stateNode,u.type,d))}}function rt(u){Ge?Ue?Ue.push(u):Ue=[u]:Ge=u}function Et(){if(Ge){var u=Ge,d=Ue;if(Ue=Ge=null,He(u),d)for(u=0;u<d.length;u++)He(d[u])}}function Dn(u,d){return u(d)}function jt(){}var cn=!1;function zr(u,d,v){if(cn)return u(d,v);cn=!0;try{return Dn(u,d,v)}finally{cn=!1,(Ge!==null||Ue!==null)&&(jt(),Et())}}function yi(u,d){var v=u.stateNode;if(v===null)return null;var T=ah(v);if(T===null)return null;v=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var ho=!1;if(a)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{ho=!1}function va(u,d,v,T,R,$,G,ee,ne){var de=Array.prototype.slice.call(arguments,3);try{d.apply(v,de)}catch(ye){this.onError(ye)}}var oc=!1,$f=null,Bf=!1,Bv=null,u6={onError:function(u){oc=!0,$f=u}};function c6(u,d,v,T,R,$,G,ee,ne){oc=!1,$f=null,va.apply(u6,arguments)}function d6(u,d,v,T,R,$,G,ee,ne){if(c6.apply(this,arguments),oc){if(oc){var de=$f;oc=!1,$f=null}else throw Error(n(198));Bf||(Bf=!0,Bv=de)}}function ya(u){var d=u,v=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(v=d.return),u=d.return;while(u)}return d.tag===3?v:null}function yk(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function wk(u){if(ya(u)!==u)throw Error(n(188))}function f6(u){var d=u.alternate;if(!d){if(d=ya(u),d===null)throw Error(n(188));return d!==u?null:u}for(var v=u,T=d;;){var R=v.return;if(R===null)break;var $=R.alternate;if($===null){if(T=R.return,T!==null){v=T;continue}break}if(R.child===$.child){for($=R.child;$;){if($===v)return wk(R),u;if($===T)return wk(R),d;$=$.sibling}throw Error(n(188))}if(v.return!==T.return)v=R,T=$;else{for(var G=!1,ee=R.child;ee;){if(ee===v){G=!0,v=R,T=$;break}if(ee===T){G=!0,T=R,v=$;break}ee=ee.sibling}if(!G){for(ee=$.child;ee;){if(ee===v){G=!0,v=$,T=R;break}if(ee===T){G=!0,T=$,v=R;break}ee=ee.sibling}if(!G)throw Error(n(189))}}if(v.alternate!==T)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:d}function bk(u){return u=f6(u),u!==null?xk(u):null}function xk(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=xk(u);if(d!==null)return d;u=u.sibling}return null}var _k=e.unstable_scheduleCallback,Sk=e.unstable_cancelCallback,h6=e.unstable_shouldYield,p6=e.unstable_requestPaint,kn=e.unstable_now,m6=e.unstable_getCurrentPriorityLevel,Uv=e.unstable_ImmediatePriority,Ek=e.unstable_UserBlockingPriority,Uf=e.unstable_NormalPriority,g6=e.unstable_LowPriority,kk=e.unstable_IdlePriority,Vf=null,ts=null;function v6(u){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Vf,u,void 0,(u.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:b6,y6=Math.log,w6=Math.LN2;function b6(u){return u>>>=0,u===0?32:31-(y6(u)/w6|0)|0}var qf=64,Hf=4194304;function ac(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function zf(u,d){var v=u.pendingLanes;if(v===0)return 0;var T=0,R=u.suspendedLanes,$=u.pingedLanes,G=v&268435455;if(G!==0){var ee=G&~R;ee!==0?T=ac(ee):($&=G,$!==0&&(T=ac($)))}else G=v&~R,G!==0?T=ac(G):$!==0&&(T=ac($));if(T===0)return 0;if(d!==0&&d!==T&&(d&R)===0&&(R=T&-T,$=d&-d,R>=$||R===16&&($&4194240)!==0))return d;if((T&4)!==0&&(T|=v&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=T;0<d;)v=31-Pi(d),R=1<<v,T|=u[v],d&=~R;return T}function x6(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _6(u,d){for(var v=u.suspendedLanes,T=u.pingedLanes,R=u.expirationTimes,$=u.pendingLanes;0<$;){var G=31-Pi($),ee=1<<G,ne=R[G];ne===-1?((ee&v)===0||(ee&T)!==0)&&(R[G]=x6(ee,d)):ne<=d&&(u.expiredLanes|=ee),$&=~ee}}function Vv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Tk(){var u=qf;return qf<<=1,(qf&4194240)===0&&(qf=64),u}function qv(u){for(var d=[],v=0;31>v;v++)d.push(u);return d}function lc(u,d,v){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Pi(d),u[d]=v}function S6(u,d){var v=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<v;){var R=31-Pi(v),$=1<<R;d[R]=0,T[R]=-1,u[R]=-1,v&=~$}}function Hv(u,d){var v=u.entangledLanes|=d;for(u=u.entanglements;v;){var T=31-Pi(v),R=1<<T;R&d|u[T]&d&&(u[T]|=d),v&=~R}}var Ft=0;function Ck(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Nk,zv,Ok,Ak,Dk,Wv=!1,Wf=[],po=null,mo=null,go=null,uc=new Map,cc=new Map,vo=[],E6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ik(u,d){switch(u){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":uc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(d.pointerId)}}function dc(u,d,v,T,R,$){return u===null||u.nativeEvent!==$?(u={blockedOn:d,domEventName:v,eventSystemFlags:T,nativeEvent:$,targetContainers:[R]},d!==null&&(d=kc(d),d!==null&&zv(d)),u):(u.eventSystemFlags|=T,d=u.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),u)}function k6(u,d,v,T,R){switch(d){case"focusin":return po=dc(po,u,d,v,T,R),!0;case"dragenter":return mo=dc(mo,u,d,v,T,R),!0;case"mouseover":return go=dc(go,u,d,v,T,R),!0;case"pointerover":var $=R.pointerId;return uc.set($,dc(uc.get($)||null,u,d,v,T,R)),!0;case"gotpointercapture":return $=R.pointerId,cc.set($,dc(cc.get($)||null,u,d,v,T,R)),!0}return!1}function Pk(u){var d=wa(u.target);if(d!==null){var v=ya(d);if(v!==null){if(d=v.tag,d===13){if(d=yk(v),d!==null){u.blockedOn=d,Dk(u.priority,function(){Ok(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Yf(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var v=Gv(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var T=new v.constructor(v.type,v);ke=T,v.target.dispatchEvent(T),ke=null}else return d=kc(v),d!==null&&zv(d),u.blockedOn=v,!1;d.shift()}return!0}function Rk(u,d,v){Yf(u)&&v.delete(d)}function T6(){Wv=!1,po!==null&&Yf(po)&&(po=null),mo!==null&&Yf(mo)&&(mo=null),go!==null&&Yf(go)&&(go=null),uc.forEach(Rk),cc.forEach(Rk)}function fc(u,d){u.blockedOn===d&&(u.blockedOn=null,Wv||(Wv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,T6)))}function hc(u){function d(R){return fc(R,u)}if(0<Wf.length){fc(Wf[0],u);for(var v=1;v<Wf.length;v++){var T=Wf[v];T.blockedOn===u&&(T.blockedOn=null)}}for(po!==null&&fc(po,u),mo!==null&&fc(mo,u),go!==null&&fc(go,u),uc.forEach(d),cc.forEach(d),v=0;v<vo.length;v++)T=vo[v],T.blockedOn===u&&(T.blockedOn=null);for(;0<vo.length&&(v=vo[0],v.blockedOn===null);)Pk(v),v.blockedOn===null&&vo.shift()}var Cl=S.ReactCurrentBatchConfig,Gf=!0;function C6(u,d,v,T){var R=Ft,$=Cl.transition;Cl.transition=null;try{Ft=1,Yv(u,d,v,T)}finally{Ft=R,Cl.transition=$}}function N6(u,d,v,T){var R=Ft,$=Cl.transition;Cl.transition=null;try{Ft=4,Yv(u,d,v,T)}finally{Ft=R,Cl.transition=$}}function Yv(u,d,v,T){if(Gf){var R=Gv(u,d,v,T);if(R===null)dy(u,d,T,Kf,v),Ik(u,T);else if(k6(R,u,d,v,T))T.stopPropagation();else if(Ik(u,T),d&4&&-1<E6.indexOf(u)){for(;R!==null;){var $=kc(R);if($!==null&&Nk($),$=Gv(u,d,v,T),$===null&&dy(u,d,T,Kf,v),$===R)break;R=$}R!==null&&T.stopPropagation()}else dy(u,d,T,null,v)}}var Kf=null;function Gv(u,d,v,T){if(Kf=null,u=Te(T),u=wa(u),u!==null)if(d=ya(u),d===null)u=null;else if(v=d.tag,v===13){if(u=yk(d),u!==null)return u;u=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Kf=u,null}function Mk(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m6()){case Uv:return 1;case Ek:return 4;case Uf:case g6:return 16;case kk:return 536870912;default:return 16}default:return 16}}var yo=null,Kv=null,Qf=null;function Lk(){if(Qf)return Qf;var u,d=Kv,v=d.length,T,R="value"in yo?yo.value:yo.textContent,$=R.length;for(u=0;u<v&&d[u]===R[u];u++);var G=v-u;for(T=1;T<=G&&d[v-T]===R[$-T];T++);return Qf=R.slice(u,1<T?1-T:void 0)}function Xf(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Jf(){return!0}function jk(){return!1}function si(u){function d(v,T,R,$,G){this._reactName=v,this._targetInst=R,this.type=T,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(v=u[ee],this[ee]=v?v($):$[ee]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Jf:jk,this.isPropagationStopped=jk,this}return j(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),d}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=si(Nl),pc=j({},Nl,{view:0,detail:0}),O6=si(pc),Xv,Jv,mc,Zf=j({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==mc&&(mc&&u.type==="mousemove"?(Xv=u.screenX-mc.screenX,Jv=u.screenY-mc.screenY):Jv=Xv=0,mc=u),Xv)},movementY:function(u){return"movementY"in u?u.movementY:Jv}}),Fk=si(Zf),A6=j({},Zf,{dataTransfer:0}),D6=si(A6),I6=j({},pc,{relatedTarget:0}),Zv=si(I6),P6=j({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),R6=si(P6),M6=j({},Nl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),L6=si(M6),j6=j({},Nl,{data:0}),$k=si(j6),F6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U6(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=B6[u])?!!d[u]:!1}function ey(){return U6}var V6=j({},pc,{key:function(u){if(u.key){var d=F6[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Xf(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?$6[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(u){return u.type==="keypress"?Xf(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Xf(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),q6=si(V6),H6=j({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bk=si(H6),z6=j({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),W6=si(z6),Y6=j({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),G6=si(Y6),K6=j({},Zf,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Q6=si(K6),X6=[9,13,27,32],ty=a&&"CompositionEvent"in window,gc=null;a&&"documentMode"in document&&(gc=document.documentMode);var J6=a&&"TextEvent"in window&&!gc,Uk=a&&(!ty||gc&&8<gc&&11>=gc),Vk=" ",qk=!1;function Hk(u,d){switch(u){case"keyup":return X6.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zk(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ol=!1;function Z6(u,d){switch(u){case"compositionend":return zk(d);case"keypress":return d.which!==32?null:(qk=!0,Vk);case"textInput":return u=d.data,u===Vk&&qk?null:u;default:return null}}function e$(u,d){if(Ol)return u==="compositionend"||!ty&&Hk(u,d)?(u=Lk(),Qf=Kv=yo=null,Ol=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Uk&&d.locale!=="ko"?null:d.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wk(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!t$[u.type]:d==="textarea"}function Yk(u,d,v,T){rt(T),d=ih(d,"onChange"),0<d.length&&(v=new Qv("onChange","change",null,v,T),u.push({event:v,listeners:d}))}var vc=null,yc=null;function n$(u){dT(u,0)}function eh(u){var d=Rl(u);if(ge(d))return u}function r$(u,d){if(u==="change")return d}var Gk=!1;if(a){var ny;if(a){var ry="oninput"in document;if(!ry){var Kk=document.createElement("div");Kk.setAttribute("oninput","return;"),ry=typeof Kk.oninput=="function"}ny=ry}else ny=!1;Gk=ny&&(!document.documentMode||9<document.documentMode)}function Qk(){vc&&(vc.detachEvent("onpropertychange",Xk),yc=vc=null)}function Xk(u){if(u.propertyName==="value"&&eh(yc)){var d=[];Yk(d,yc,u,Te(u)),zr(n$,d)}}function i$(u,d,v){u==="focusin"?(Qk(),vc=d,yc=v,vc.attachEvent("onpropertychange",Xk)):u==="focusout"&&Qk()}function s$(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return eh(yc)}function o$(u,d){if(u==="click")return eh(d)}function a$(u,d){if(u==="input"||u==="change")return eh(d)}function l$(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ri=typeof Object.is=="function"?Object.is:l$;function wc(u,d){if(Ri(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var v=Object.keys(u),T=Object.keys(d);if(v.length!==T.length)return!1;for(T=0;T<v.length;T++){var R=v[T];if(!l.call(d,R)||!Ri(u[R],d[R]))return!1}return!0}function Jk(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Zk(u,d){var v=Jk(u);u=0;for(var T;v;){if(v.nodeType===3){if(T=u+v.textContent.length,u<=d&&T>=d)return{node:v,offset:d-u};u=T}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Jk(v)}}function eT(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?eT(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function tT(){for(var u=window,d=Ce();d instanceof u.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)u=d.contentWindow;else break;d=Ce(u.document)}return d}function iy(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function u$(u){var d=tT(),v=u.focusedElem,T=u.selectionRange;if(d!==v&&v&&v.ownerDocument&&eT(v.ownerDocument.documentElement,v)){if(T!==null&&iy(v)){if(d=T.start,u=T.end,u===void 0&&(u=d),"selectionStart"in v)v.selectionStart=d,v.selectionEnd=Math.min(u,v.value.length);else if(u=(d=v.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var R=v.textContent.length,$=Math.min(T.start,R);T=T.end===void 0?$:Math.min(T.end,R),!u.extend&&$>T&&(R=T,T=$,$=R),R=Zk(v,$);var G=Zk(v,T);R&&G&&(u.rangeCount!==1||u.anchorNode!==R.node||u.anchorOffset!==R.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),u.removeAllRanges(),$>T?(u.addRange(d),u.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),u.addRange(d)))}}for(d=[],u=v;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<d.length;v++)u=d[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var c$=a&&"documentMode"in document&&11>=document.documentMode,Al=null,sy=null,bc=null,oy=!1;function nT(u,d,v){var T=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;oy||Al==null||Al!==Ce(T)||(T=Al,"selectionStart"in T&&iy(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),bc&&wc(bc,T)||(bc=T,T=ih(sy,"onSelect"),0<T.length&&(d=new Qv("onSelect","select",null,d,v),u.push({event:d,listeners:T}),d.target=Al)))}function th(u,d){var v={};return v[u.toLowerCase()]=d.toLowerCase(),v["Webkit"+u]="webkit"+d,v["Moz"+u]="moz"+d,v}var Dl={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},ay={},rT={};a&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function nh(u){if(ay[u])return ay[u];if(!Dl[u])return u;var d=Dl[u],v;for(v in d)if(d.hasOwnProperty(v)&&v in rT)return ay[u]=d[v];return u}var iT=nh("animationend"),sT=nh("animationiteration"),oT=nh("animationstart"),aT=nh("transitionend"),lT=new Map,uT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(u,d){lT.set(u,d),s(d,[u])}for(var ly=0;ly<uT.length;ly++){var uy=uT[ly],d$=uy.toLowerCase(),f$=uy[0].toUpperCase()+uy.slice(1);wo(d$,"on"+f$)}wo(iT,"onAnimationEnd"),wo(sT,"onAnimationIteration"),wo(oT,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(aT,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function cT(u,d,v){var T=u.type||"unknown-event";u.currentTarget=v,d6(T,d,void 0,u),u.currentTarget=null}function dT(u,d){d=(d&4)!==0;for(var v=0;v<u.length;v++){var T=u[v],R=T.event;T=T.listeners;e:{var $=void 0;if(d)for(var G=T.length-1;0<=G;G--){var ee=T[G],ne=ee.instance,de=ee.currentTarget;if(ee=ee.listener,ne!==$&&R.isPropagationStopped())break e;cT(R,ee,de),$=ne}else for(G=0;G<T.length;G++){if(ee=T[G],ne=ee.instance,de=ee.currentTarget,ee=ee.listener,ne!==$&&R.isPropagationStopped())break e;cT(R,ee,de),$=ne}}}if(Bf)throw u=Bv,Bf=!1,Bv=null,u}function en(u,d){var v=d[vy];v===void 0&&(v=d[vy]=new Set);var T=u+"__bubble";v.has(T)||(fT(d,u,2,!1),v.add(T))}function cy(u,d,v){var T=0;d&&(T|=4),fT(v,u,T,d)}var rh="_reactListening"+Math.random().toString(36).slice(2);function _c(u){if(!u[rh]){u[rh]=!0,r.forEach(function(v){v!=="selectionchange"&&(h$.has(v)||cy(v,!1,u),cy(v,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[rh]||(d[rh]=!0,cy("selectionchange",!1,d))}}function fT(u,d,v,T){switch(Mk(d)){case 1:var R=C6;break;case 4:R=N6;break;default:R=Yv}v=R.bind(null,d,v,u),R=void 0,!ho||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),T?R!==void 0?u.addEventListener(d,v,{capture:!0,passive:R}):u.addEventListener(d,v,!0):R!==void 0?u.addEventListener(d,v,{passive:R}):u.addEventListener(d,v,!1)}function dy(u,d,v,T,R){var $=T;if((d&1)===0&&(d&2)===0&&T!==null)e:for(;;){if(T===null)return;var G=T.tag;if(G===3||G===4){var ee=T.stateNode.containerInfo;if(ee===R||ee.nodeType===8&&ee.parentNode===R)break;if(G===4)for(G=T.return;G!==null;){var ne=G.tag;if((ne===3||ne===4)&&(ne=G.stateNode.containerInfo,ne===R||ne.nodeType===8&&ne.parentNode===R))return;G=G.return}for(;ee!==null;){if(G=wa(ee),G===null)return;if(ne=G.tag,ne===5||ne===6){T=$=G;continue e}ee=ee.parentNode}}T=T.return}zr(function(){var de=$,ye=Te(v),_e=[];e:{var ve=lT.get(u);if(ve!==void 0){var Pe=Qv,Ve=u;switch(u){case"keypress":if(Xf(v)===0)break e;case"keydown":case"keyup":Pe=q6;break;case"focusin":Ve="focus",Pe=Zv;break;case"focusout":Ve="blur",Pe=Zv;break;case"beforeblur":case"afterblur":Pe=Zv;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=D6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=W6;break;case iT:case sT:case oT:Pe=R6;break;case aT:Pe=G6;break;case"scroll":Pe=O6;break;case"wheel":Pe=Q6;break;case"copy":case"cut":case"paste":Pe=L6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Bk}var qe=(d&4)!==0,Tn=!qe&&u==="scroll",ae=qe?ve!==null?ve+"Capture":null:ve;qe=[];for(var re=de,ue;re!==null;){ue=re;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,ae!==null&&(Ee=yi(re,ae),Ee!=null&&qe.push(Sc(re,Ee,ue)))),Tn)break;re=re.return}0<qe.length&&(ve=new Pe(ve,Ve,null,v,ye),_e.push({event:ve,listeners:qe}))}}if((d&7)===0){e:{if(ve=u==="mouseover"||u==="pointerover",Pe=u==="mouseout"||u==="pointerout",ve&&v!==ke&&(Ve=v.relatedTarget||v.fromElement)&&(wa(Ve)||Ve[Is]))break e;if((Pe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(Ve=v.relatedTarget||v.toElement,Pe=de,Ve=Ve?wa(Ve):null,Ve!==null&&(Tn=ya(Ve),Ve!==Tn||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Pe=null,Ve=de),Pe!==Ve)){if(qe=Fk,Ee="onMouseLeave",ae="onMouseEnter",re="mouse",(u==="pointerout"||u==="pointerover")&&(qe=Bk,Ee="onPointerLeave",ae="onPointerEnter",re="pointer"),Tn=Pe==null?ve:Rl(Pe),ue=Ve==null?ve:Rl(Ve),ve=new qe(Ee,re+"leave",Pe,v,ye),ve.target=Tn,ve.relatedTarget=ue,Ee=null,wa(ye)===de&&(qe=new qe(ae,re+"enter",Ve,v,ye),qe.target=ue,qe.relatedTarget=Tn,Ee=qe),Tn=Ee,Pe&&Ve)t:{for(qe=Pe,ae=Ve,re=0,ue=qe;ue;ue=Il(ue))re++;for(ue=0,Ee=ae;Ee;Ee=Il(Ee))ue++;for(;0<re-ue;)qe=Il(qe),re--;for(;0<ue-re;)ae=Il(ae),ue--;for(;re--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Il(qe),ae=Il(ae)}qe=null}else qe=null;Pe!==null&&hT(_e,ve,Pe,qe,!1),Ve!==null&&Tn!==null&&hT(_e,Tn,Ve,qe,!0)}}e:{if(ve=de?Rl(de):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var ze=r$;else if(Wk(ve))if(Gk)ze=a$;else{ze=s$;var Je=i$}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(ze=o$);if(ze&&(ze=ze(u,de))){Yk(_e,ze,v,ye);break e}Je&&Je(u,ve,de),u==="focusout"&&(Je=ve._wrapperState)&&Je.controlled&&ve.type==="number"&&fe(ve,"number",ve.value)}switch(Je=de?Rl(de):window,u){case"focusin":(Wk(Je)||Je.contentEditable==="true")&&(Al=Je,sy=de,bc=null);break;case"focusout":bc=sy=Al=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,nT(_e,v,ye);break;case"selectionchange":if(c$)break;case"keydown":case"keyup":nT(_e,v,ye)}var Ze;if(ty)e:{switch(u){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Ol?Hk(u,v)&&(st="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(st="onCompositionStart");st&&(Uk&&v.locale!=="ko"&&(Ol||st!=="onCompositionStart"?st==="onCompositionEnd"&&Ol&&(Ze=Lk()):(yo=ye,Kv="value"in yo?yo.value:yo.textContent,Ol=!0)),Je=ih(de,st),0<Je.length&&(st=new $k(st,u,null,v,ye),_e.push({event:st,listeners:Je}),Ze?st.data=Ze:(Ze=zk(v),Ze!==null&&(st.data=Ze)))),(Ze=J6?Z6(u,v):e$(u,v))&&(de=ih(de,"onBeforeInput"),0<de.length&&(ye=new $k("onBeforeInput","beforeinput",null,v,ye),_e.push({event:ye,listeners:de}),ye.data=Ze))}dT(_e,d)})}function Sc(u,d,v){return{instance:u,listener:d,currentTarget:v}}function ih(u,d){for(var v=d+"Capture",T=[];u!==null;){var R=u,$=R.stateNode;R.tag===5&&$!==null&&(R=$,$=yi(u,v),$!=null&&T.unshift(Sc(u,$,R)),$=yi(u,d),$!=null&&T.push(Sc(u,$,R))),u=u.return}return T}function Il(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function hT(u,d,v,T,R){for(var $=d._reactName,G=[];v!==null&&v!==T;){var ee=v,ne=ee.alternate,de=ee.stateNode;if(ne!==null&&ne===T)break;ee.tag===5&&de!==null&&(ee=de,R?(ne=yi(v,$),ne!=null&&G.unshift(Sc(v,ne,ee))):R||(ne=yi(v,$),ne!=null&&G.push(Sc(v,ne,ee)))),v=v.return}G.length!==0&&u.push({event:d,listeners:G})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function pT(u){return(typeof u=="string"?u:""+u).replace(p$,`
`).replace(m$,"")}function sh(u,d,v){if(d=pT(d),pT(u)!==d&&v)throw Error(n(425))}function oh(){}var fy=null,hy=null;function py(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(u){return mT.resolve(null).then(u).catch(y$)}:my;function y$(u){setTimeout(function(){throw u})}function gy(u,d){var v=d,T=0;do{var R=v.nextSibling;if(u.removeChild(v),R&&R.nodeType===8)if(v=R.data,v==="/$"){if(T===0){u.removeChild(R),hc(d);return}T--}else v!=="$"&&v!=="$?"&&v!=="$!"||T++;v=R}while(v);hc(d)}function bo(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function gT(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return u;d--}else v==="/$"&&d++}u=u.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),ns="__reactFiber$"+Pl,Ec="__reactProps$"+Pl,Is="__reactContainer$"+Pl,vy="__reactEvents$"+Pl,w$="__reactListeners$"+Pl,b$="__reactHandles$"+Pl;function wa(u){var d=u[ns];if(d)return d;for(var v=u.parentNode;v;){if(d=v[Is]||v[ns]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(u=gT(u);u!==null;){if(v=u[ns])return v;u=gT(u)}return d}u=v,v=u.parentNode}return null}function kc(u){return u=u[ns]||u[Is],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Rl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function ah(u){return u[Ec]||null}var yy=[],Ml=-1;function xo(u){return{current:u}}function tn(u){0>Ml||(u.current=yy[Ml],yy[Ml]=null,Ml--)}function Gt(u,d){Ml++,yy[Ml]=u.current,u.current=d}var _o={},dr=xo(_o),Wr=xo(!1),ba=_o;function Ll(u,d){var v=u.type.contextTypes;if(!v)return _o;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var R={},$;for($ in v)R[$]=d[$];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=R),R}function Yr(u){return u=u.childContextTypes,u!=null}function lh(){tn(Wr),tn(dr)}function vT(u,d,v){if(dr.current!==_o)throw Error(n(168));Gt(dr,d),Gt(Wr,v)}function yT(u,d,v){var T=u.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return v;T=T.getChildContext();for(var R in T)if(!(R in d))throw Error(n(108,J(u)||"Unknown",R));return j({},v,T)}function uh(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||_o,ba=dr.current,Gt(dr,u),Gt(Wr,Wr.current),!0}function wT(u,d,v){var T=u.stateNode;if(!T)throw Error(n(169));v?(u=yT(u,d,ba),T.__reactInternalMemoizedMergedChildContext=u,tn(Wr),tn(dr),Gt(dr,u)):tn(Wr),Gt(Wr,v)}var Ps=null,ch=!1,wy=!1;function bT(u){Ps===null?Ps=[u]:Ps.push(u)}function x$(u){ch=!0,bT(u)}function So(){if(!wy&&Ps!==null){wy=!0;var u=0,d=Ft;try{var v=Ps;for(Ft=1;u<v.length;u++){var T=v[u];do T=T(!0);while(T!==null)}Ps=null,ch=!1}catch(R){throw Ps!==null&&(Ps=Ps.slice(u+1)),_k(Uv,So),R}finally{Ft=d,wy=!1}}return null}var jl=[],Fl=0,dh=null,fh=0,wi=[],bi=0,xa=null,Rs=1,Ms="";function _a(u,d){jl[Fl++]=fh,jl[Fl++]=dh,dh=u,fh=d}function xT(u,d,v){wi[bi++]=Rs,wi[bi++]=Ms,wi[bi++]=xa,xa=u;var T=Rs;u=Ms;var R=32-Pi(T)-1;T&=~(1<<R),v+=1;var $=32-Pi(d)+R;if(30<$){var G=R-R%5;$=(T&(1<<G)-1).toString(32),T>>=G,R-=G,Rs=1<<32-Pi(d)+R|v<<R|T,Ms=$+u}else Rs=1<<$|v<<R|T,Ms=u}function by(u){u.return!==null&&(_a(u,1),xT(u,1,0))}function xy(u){for(;u===dh;)dh=jl[--Fl],jl[Fl]=null,fh=jl[--Fl],jl[Fl]=null;for(;u===xa;)xa=wi[--bi],wi[bi]=null,Ms=wi[--bi],wi[bi]=null,Rs=wi[--bi],wi[bi]=null}var oi=null,ai=null,dn=!1,Mi=null;function _T(u,d){var v=Ei(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=u,d=u.deletions,d===null?(u.deletions=[v],u.flags|=16):d.push(v)}function ST(u,d){switch(u.tag){case 5:var v=u.type;return d=d.nodeType!==1||v.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,oi=u,ai=bo(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,oi=u,ai=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(v=xa!==null?{id:Rs,overflow:Ms}:null,u.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=Ei(18,null,null,0),v.stateNode=d,v.return=u,u.child=v,oi=u,ai=null,!0):!1;default:return!1}}function _y(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Sy(u){if(dn){var d=ai;if(d){var v=d;if(!ST(u,d)){if(_y(u))throw Error(n(418));d=bo(v.nextSibling);var T=oi;d&&ST(u,d)?_T(T,v):(u.flags=u.flags&-4097|2,dn=!1,oi=u)}}else{if(_y(u))throw Error(n(418));u.flags=u.flags&-4097|2,dn=!1,oi=u}}}function ET(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;oi=u}function hh(u){if(u!==oi)return!1;if(!dn)return ET(u),dn=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!py(u.type,u.memoizedProps)),d&&(d=ai)){if(_y(u))throw kT(),Error(n(418));for(;d;)_T(u,d),d=bo(d.nextSibling)}if(ET(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(d===0){ai=bo(u.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++}u=u.nextSibling}ai=null}}else ai=oi?bo(u.stateNode.nextSibling):null;return!0}function kT(){for(var u=ai;u;)u=bo(u.nextSibling)}function $l(){ai=oi=null,dn=!1}function Ey(u){Mi===null?Mi=[u]:Mi.push(u)}var _$=S.ReactCurrentBatchConfig;function Li(u,d){if(u&&u.defaultProps){d=j({},d),u=u.defaultProps;for(var v in u)d[v]===void 0&&(d[v]=u[v]);return d}return d}var ph=xo(null),mh=null,Bl=null,ky=null;function Ty(){ky=Bl=mh=null}function Cy(u){var d=ph.current;tn(ph),u._currentValue=d}function Ny(u,d,v){for(;u!==null;){var T=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),u===v)break;u=u.return}}function Ul(u,d){mh=u,ky=Bl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Gr=!0),u.firstContext=null)}function xi(u){var d=u._currentValue;if(ky!==u)if(u={context:u,memoizedValue:d,next:null},Bl===null){if(mh===null)throw Error(n(308));Bl=u,mh.dependencies={lanes:0,firstContext:u}}else Bl=Bl.next=u;return d}var Sa=null;function Oy(u){Sa===null?Sa=[u]:Sa.push(u)}function TT(u,d,v,T){var R=d.interleaved;return R===null?(v.next=v,Oy(d)):(v.next=R.next,R.next=v),d.interleaved=v,Ls(u,T)}function Ls(u,d){u.lanes|=d;var v=u.alternate;for(v!==null&&(v.lanes|=d),v=u,u=u.return;u!==null;)u.childLanes|=d,v=u.alternate,v!==null&&(v.childLanes|=d),v=u,u=u.return;return v.tag===3?v.stateNode:null}var Eo=!1;function Ay(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function js(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function ko(u,d,v){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(kt&2)!==0){var R=T.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),T.pending=d,Ls(u,v)}return R=T.interleaved,R===null?(d.next=d,Oy(T)):(d.next=R.next,R.next=d),T.interleaved=d,Ls(u,v)}function gh(u,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,Hv(u,v)}}function NT(u,d){var v=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,v===T)){var R=null,$=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};$===null?R=$=G:$=$.next=G,v=v.next}while(v!==null);$===null?R=$=d:$=$.next=d}else R=$=d;v={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:$,shared:T.shared,effects:T.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=d}function vh(u,d,v,T){var R=u.updateQueue;Eo=!1;var $=R.firstBaseUpdate,G=R.lastBaseUpdate,ee=R.shared.pending;if(ee!==null){R.shared.pending=null;var ne=ee,de=ne.next;ne.next=null,G===null?$=de:G.next=de,G=ne;var ye=u.alternate;ye!==null&&(ye=ye.updateQueue,ee=ye.lastBaseUpdate,ee!==G&&(ee===null?ye.firstBaseUpdate=de:ee.next=de,ye.lastBaseUpdate=ne))}if($!==null){var _e=R.baseState;G=0,ye=de=ne=null,ee=$;do{var ve=ee.lane,Pe=ee.eventTime;if((T&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ve=u,qe=ee;switch(ve=d,Pe=v,qe.tag){case 1:if(Ve=qe.payload,typeof Ve=="function"){_e=Ve.call(Pe,_e,ve);break e}_e=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=qe.payload,ve=typeof Ve=="function"?Ve.call(Pe,_e,ve):Ve,ve==null)break e;_e=j({},_e,ve);break e;case 2:Eo=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,ve=R.effects,ve===null?R.effects=[ee]:ve.push(ee))}else Pe={eventTime:Pe,lane:ve,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ye===null?(de=ye=Pe,ne=_e):ye=ye.next=Pe,G|=ve;if(ee=ee.next,ee===null){if(ee=R.shared.pending,ee===null)break;ve=ee,ee=ve.next,ve.next=null,R.lastBaseUpdate=ve,R.shared.pending=null}}while(!0);if(ye===null&&(ne=_e),R.baseState=ne,R.firstBaseUpdate=de,R.lastBaseUpdate=ye,d=R.shared.interleaved,d!==null){R=d;do G|=R.lane,R=R.next;while(R!==d)}else $===null&&(R.shared.lanes=0);Ta|=G,u.lanes=G,u.memoizedState=_e}}function OT(u,d,v){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var T=u[d],R=T.callback;if(R!==null){if(T.callback=null,T=v,typeof R!="function")throw Error(n(191,R));R.call(T)}}}var AT=new t.Component().refs;function Dy(u,d,v,T){d=u.memoizedState,v=v(T,d),v=v==null?d:j({},d,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var yh={isMounted:function(u){return(u=u._reactInternals)?ya(u)===u:!1},enqueueSetState:function(u,d,v){u=u._reactInternals;var T=Pr(),R=Oo(u),$=js(T,R);$.payload=d,v!=null&&($.callback=v),d=ko(u,$,R),d!==null&&($i(d,u,R,T),gh(d,u,R))},enqueueReplaceState:function(u,d,v){u=u._reactInternals;var T=Pr(),R=Oo(u),$=js(T,R);$.tag=1,$.payload=d,v!=null&&($.callback=v),d=ko(u,$,R),d!==null&&($i(d,u,R,T),gh(d,u,R))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var v=Pr(),T=Oo(u),R=js(v,T);R.tag=2,d!=null&&(R.callback=d),d=ko(u,R,T),d!==null&&($i(d,u,T,v),gh(d,u,T))}};function DT(u,d,v,T,R,$,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,$,G):d.prototype&&d.prototype.isPureReactComponent?!wc(v,T)||!wc(R,$):!0}function IT(u,d,v){var T=!1,R=_o,$=d.contextType;return typeof $=="object"&&$!==null?$=xi($):(R=Yr(d)?ba:dr.current,T=d.contextTypes,$=(T=T!=null)?Ll(u,R):_o),d=new d(v,$),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yh,u.stateNode=d,d._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=R,u.__reactInternalMemoizedMaskedChildContext=$),d}function PT(u,d,v,T){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,T),d.state!==u&&yh.enqueueReplaceState(d,d.state,null)}function Iy(u,d,v,T){var R=u.stateNode;R.props=v,R.state=u.memoizedState,R.refs=AT,Ay(u);var $=d.contextType;typeof $=="object"&&$!==null?R.context=xi($):($=Yr(d)?ba:dr.current,R.context=Ll(u,$)),R.state=u.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(Dy(u,d,$,v),R.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&yh.enqueueReplaceState(R,R.state,null),vh(u,v,R,T),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308)}function Tc(u,d,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var T=v.stateNode}if(!T)throw Error(n(147,u));var R=T,$=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===$?d.ref:(d=function(G){var ee=R.refs;ee===AT&&(ee=R.refs={}),G===null?delete ee[$]:ee[$]=G},d._stringRef=$,d)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function wh(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function RT(u){var d=u._init;return d(u._payload)}function MT(u){function d(ae,re){if(u){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function v(ae,re){if(!u)return null;for(;re!==null;)d(ae,re),re=re.sibling;return null}function T(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function R(ae,re){return ae=Do(ae,re),ae.index=0,ae.sibling=null,ae}function $(ae,re,ue){return ae.index=ue,u?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function G(ae){return u&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,re,ue,Ee){return re===null||re.tag!==6?(re=m0(ue,ae.mode,Ee),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function ne(ae,re,ue,Ee){var ze=ue.type;return ze===O?ye(ae,re,ue.props.children,Ee,ue.key):re!==null&&(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&RT(ze)===re.type)?(Ee=R(re,ue.props),Ee.ref=Tc(ae,re,ue),Ee.return=ae,Ee):(Ee=Fh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=Tc(ae,re,ue),Ee.return=ae,Ee)}function de(ae,re,ue,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=g0(ue,ae.mode,Ee),re.return=ae,re):(re=R(re,ue.children||[]),re.return=ae,re)}function ye(ae,re,ue,Ee,ze){return re===null||re.tag!==7?(re=Aa(ue,ae.mode,Ee,ze),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function _e(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=m0(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return ue=Fh(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=Tc(ae,null,re),ue.return=ae,ue;case C:return re=g0(re,ae.mode,ue),re.return=ae,re;case M:var Ee=re._init;return _e(ae,Ee(re._payload),ue)}if(we(re)||H(re))return re=Aa(re,ae.mode,ue,null),re.return=ae,re;wh(ae,re)}return null}function ve(ae,re,ue,Ee){var ze=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ze!==null?null:ee(ae,re,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===ze?ne(ae,re,ue,Ee):null;case C:return ue.key===ze?de(ae,re,ue,Ee):null;case M:return ze=ue._init,ve(ae,re,ze(ue._payload),Ee)}if(we(ue)||H(ue))return ze!==null?null:ye(ae,re,ue,Ee,null);wh(ae,ue)}return null}function Pe(ae,re,ue,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(ue)||null,ee(re,ae,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,ne(re,ae,Ee,ze);case C:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,de(re,ae,Ee,ze);case M:var Je=Ee._init;return Pe(ae,re,ue,Je(Ee._payload),ze)}if(we(Ee)||H(Ee))return ae=ae.get(ue)||null,ye(re,ae,Ee,ze,null);wh(re,Ee)}return null}function Ve(ae,re,ue,Ee){for(var ze=null,Je=null,Ze=re,st=re=0,Yn=null;Ze!==null&&st<ue.length;st++){Ze.index>st?(Yn=Ze,Ze=null):Yn=Ze.sibling;var Nt=ve(ae,Ze,ue[st],Ee);if(Nt===null){Ze===null&&(Ze=Yn);break}u&&Ze&&Nt.alternate===null&&d(ae,Ze),re=$(Nt,re,st),Je===null?ze=Nt:Je.sibling=Nt,Je=Nt,Ze=Yn}if(st===ue.length)return v(ae,Ze),dn&&_a(ae,st),ze;if(Ze===null){for(;st<ue.length;st++)Ze=_e(ae,ue[st],Ee),Ze!==null&&(re=$(Ze,re,st),Je===null?ze=Ze:Je.sibling=Ze,Je=Ze);return dn&&_a(ae,st),ze}for(Ze=T(ae,Ze);st<ue.length;st++)Yn=Pe(Ze,ae,st,ue[st],Ee),Yn!==null&&(u&&Yn.alternate!==null&&Ze.delete(Yn.key===null?st:Yn.key),re=$(Yn,re,st),Je===null?ze=Yn:Je.sibling=Yn,Je=Yn);return u&&Ze.forEach(function(Io){return d(ae,Io)}),dn&&_a(ae,st),ze}function qe(ae,re,ue,Ee){var ze=H(ue);if(typeof ze!="function")throw Error(n(150));if(ue=ze.call(ue),ue==null)throw Error(n(151));for(var Je=ze=null,Ze=re,st=re=0,Yn=null,Nt=ue.next();Ze!==null&&!Nt.done;st++,Nt=ue.next()){Ze.index>st?(Yn=Ze,Ze=null):Yn=Ze.sibling;var Io=ve(ae,Ze,Nt.value,Ee);if(Io===null){Ze===null&&(Ze=Yn);break}u&&Ze&&Io.alternate===null&&d(ae,Ze),re=$(Io,re,st),Je===null?ze=Io:Je.sibling=Io,Je=Io,Ze=Yn}if(Nt.done)return v(ae,Ze),dn&&_a(ae,st),ze;if(Ze===null){for(;!Nt.done;st++,Nt=ue.next())Nt=_e(ae,Nt.value,Ee),Nt!==null&&(re=$(Nt,re,st),Je===null?ze=Nt:Je.sibling=Nt,Je=Nt);return dn&&_a(ae,st),ze}for(Ze=T(ae,Ze);!Nt.done;st++,Nt=ue.next())Nt=Pe(Ze,ae,st,Nt.value,Ee),Nt!==null&&(u&&Nt.alternate!==null&&Ze.delete(Nt.key===null?st:Nt.key),re=$(Nt,re,st),Je===null?ze=Nt:Je.sibling=Nt,Je=Nt);return u&&Ze.forEach(function(tB){return d(ae,tB)}),dn&&_a(ae,st),ze}function Tn(ae,re,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var ze=ue.key,Je=re;Je!==null;){if(Je.key===ze){if(ze=ue.type,ze===O){if(Je.tag===7){v(ae,Je.sibling),re=R(Je,ue.props.children),re.return=ae,ae=re;break e}}else if(Je.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&RT(ze)===Je.type){v(ae,Je.sibling),re=R(Je,ue.props),re.ref=Tc(ae,Je,ue),re.return=ae,ae=re;break e}v(ae,Je);break}else d(ae,Je);Je=Je.sibling}ue.type===O?(re=Aa(ue.props.children,ae.mode,Ee,ue.key),re.return=ae,ae=re):(Ee=Fh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=Tc(ae,re,ue),Ee.return=ae,ae=Ee)}return G(ae);case C:e:{for(Je=ue.key;re!==null;){if(re.key===Je)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){v(ae,re.sibling),re=R(re,ue.children||[]),re.return=ae,ae=re;break e}else{v(ae,re);break}else d(ae,re);re=re.sibling}re=g0(ue,ae.mode,Ee),re.return=ae,ae=re}return G(ae);case M:return Je=ue._init,Tn(ae,re,Je(ue._payload),Ee)}if(we(ue))return Ve(ae,re,ue,Ee);if(H(ue))return qe(ae,re,ue,Ee);wh(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(v(ae,re.sibling),re=R(re,ue),re.return=ae,ae=re):(v(ae,re),re=m0(ue,ae.mode,Ee),re.return=ae,ae=re),G(ae)):v(ae,re)}return Tn}var Vl=MT(!0),LT=MT(!1),Cc={},rs=xo(Cc),Nc=xo(Cc),Oc=xo(Cc);function Ea(u){if(u===Cc)throw Error(n(174));return u}function Py(u,d){switch(Gt(Oc,d),Gt(Nc,u),Gt(rs,Cc),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:An(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=An(d,u)}tn(rs),Gt(rs,d)}function ql(){tn(rs),tn(Nc),tn(Oc)}function jT(u){Ea(Oc.current);var d=Ea(rs.current),v=An(d,u.type);d!==v&&(Gt(Nc,u),Gt(rs,v))}function Ry(u){Nc.current===u&&(tn(rs),tn(Nc))}var hn=xo(0);function bh(u){for(var d=u;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var My=[];function Ly(){for(var u=0;u<My.length;u++)My[u]._workInProgressVersionPrimary=null;My.length=0}var xh=S.ReactCurrentDispatcher,jy=S.ReactCurrentBatchConfig,ka=0,pn=null,Bn=null,zn=null,_h=!1,Ac=!1,Dc=0,S$=0;function fr(){throw Error(n(321))}function Fy(u,d){if(d===null)return!1;for(var v=0;v<d.length&&v<u.length;v++)if(!Ri(u[v],d[v]))return!1;return!0}function $y(u,d,v,T,R,$){if(ka=$,pn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,xh.current=u===null||u.memoizedState===null?C$:N$,u=v(T,R),Ac){$=0;do{if(Ac=!1,Dc=0,25<=$)throw Error(n(301));$+=1,zn=Bn=null,d.updateQueue=null,xh.current=O$,u=v(T,R)}while(Ac)}if(xh.current=kh,d=Bn!==null&&Bn.next!==null,ka=0,zn=Bn=pn=null,_h=!1,d)throw Error(n(300));return u}function By(){var u=Dc!==0;return Dc=0,u}function is(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?pn.memoizedState=zn=u:zn=zn.next=u,zn}function _i(){if(Bn===null){var u=pn.alternate;u=u!==null?u.memoizedState:null}else u=Bn.next;var d=zn===null?pn.memoizedState:zn.next;if(d!==null)zn=d,Bn=u;else{if(u===null)throw Error(n(310));Bn=u,u={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},zn===null?pn.memoizedState=zn=u:zn=zn.next=u}return zn}function Ic(u,d){return typeof d=="function"?d(u):d}function Uy(u){var d=_i(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=Bn,R=T.baseQueue,$=v.pending;if($!==null){if(R!==null){var G=R.next;R.next=$.next,$.next=G}T.baseQueue=R=$,v.pending=null}if(R!==null){$=R.next,T=T.baseState;var ee=G=null,ne=null,de=$;do{var ye=de.lane;if((ka&ye)===ye)ne!==null&&(ne=ne.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),T=de.hasEagerState?de.eagerState:u(T,de.action);else{var _e={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ne===null?(ee=ne=_e,G=T):ne=ne.next=_e,pn.lanes|=ye,Ta|=ye}de=de.next}while(de!==null&&de!==$);ne===null?G=T:ne.next=ee,Ri(T,d.memoizedState)||(Gr=!0),d.memoizedState=T,d.baseState=G,d.baseQueue=ne,v.lastRenderedState=T}if(u=v.interleaved,u!==null){R=u;do $=R.lane,pn.lanes|=$,Ta|=$,R=R.next;while(R!==u)}else R===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function Vy(u){var d=_i(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=v.dispatch,R=v.pending,$=d.memoizedState;if(R!==null){v.pending=null;var G=R=R.next;do $=u($,G.action),G=G.next;while(G!==R);Ri($,d.memoizedState)||(Gr=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),v.lastRenderedState=$}return[$,T]}function FT(){}function $T(u,d){var v=pn,T=_i(),R=d(),$=!Ri(T.memoizedState,R);if($&&(T.memoizedState=R,Gr=!0),T=T.queue,qy(VT.bind(null,v,T,u),[u]),T.getSnapshot!==d||$||zn!==null&&zn.memoizedState.tag&1){if(v.flags|=2048,Pc(9,UT.bind(null,v,T,R,d),void 0,null),Wn===null)throw Error(n(349));(ka&30)!==0||BT(v,d,R)}return R}function BT(u,d,v){u.flags|=16384,u={getSnapshot:d,value:v},d=pn.updateQueue,d===null?(d={lastEffect:null,stores:null},pn.updateQueue=d,d.stores=[u]):(v=d.stores,v===null?d.stores=[u]:v.push(u))}function UT(u,d,v,T){d.value=v,d.getSnapshot=T,qT(d)&&HT(u)}function VT(u,d,v){return v(function(){qT(d)&&HT(u)})}function qT(u){var d=u.getSnapshot;u=u.value;try{var v=d();return!Ri(u,v)}catch{return!0}}function HT(u){var d=Ls(u,1);d!==null&&$i(d,u,1,-1)}function zT(u){var d=is();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:u},d.queue=u,u=u.dispatch=T$.bind(null,pn,u),[d.memoizedState,u]}function Pc(u,d,v,T){return u={tag:u,create:d,destroy:v,deps:T,next:null},d=pn.updateQueue,d===null?(d={lastEffect:null,stores:null},pn.updateQueue=d,d.lastEffect=u.next=u):(v=d.lastEffect,v===null?d.lastEffect=u.next=u:(T=v.next,v.next=u,u.next=T,d.lastEffect=u)),u}function WT(){return _i().memoizedState}function Sh(u,d,v,T){var R=is();pn.flags|=u,R.memoizedState=Pc(1|d,v,void 0,T===void 0?null:T)}function Eh(u,d,v,T){var R=_i();T=T===void 0?null:T;var $=void 0;if(Bn!==null){var G=Bn.memoizedState;if($=G.destroy,T!==null&&Fy(T,G.deps)){R.memoizedState=Pc(d,v,$,T);return}}pn.flags|=u,R.memoizedState=Pc(1|d,v,$,T)}function YT(u,d){return Sh(8390656,8,u,d)}function qy(u,d){return Eh(2048,8,u,d)}function GT(u,d){return Eh(4,2,u,d)}function KT(u,d){return Eh(4,4,u,d)}function QT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function XT(u,d,v){return v=v!=null?v.concat([u]):null,Eh(4,4,QT.bind(null,d,u),v)}function Hy(){}function JT(u,d){var v=_i();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&Fy(d,T[1])?T[0]:(v.memoizedState=[u,d],u)}function ZT(u,d){var v=_i();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&Fy(d,T[1])?T[0]:(u=u(),v.memoizedState=[u,d],u)}function e2(u,d,v){return(ka&21)===0?(u.baseState&&(u.baseState=!1,Gr=!0),u.memoizedState=v):(Ri(v,d)||(v=Tk(),pn.lanes|=v,Ta|=v,u.baseState=!0),d)}function E$(u,d){var v=Ft;Ft=v!==0&&4>v?v:4,u(!0);var T=jy.transition;jy.transition={};try{u(!1),d()}finally{Ft=v,jy.transition=T}}function t2(){return _i().memoizedState}function k$(u,d,v){var T=Oo(u);if(v={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null},n2(u))r2(d,v);else if(v=TT(u,d,v,T),v!==null){var R=Pr();$i(v,u,T,R),i2(v,d,T)}}function T$(u,d,v){var T=Oo(u),R={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null};if(n2(u))r2(d,R);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var G=d.lastRenderedState,ee=$(G,v);if(R.hasEagerState=!0,R.eagerState=ee,Ri(ee,G)){var ne=d.interleaved;ne===null?(R.next=R,Oy(d)):(R.next=ne.next,ne.next=R),d.interleaved=R;return}}catch{}finally{}v=TT(u,d,R,T),v!==null&&(R=Pr(),$i(v,u,T,R),i2(v,d,T))}}function n2(u){var d=u.alternate;return u===pn||d!==null&&d===pn}function r2(u,d){Ac=_h=!0;var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}function i2(u,d,v){if((v&4194240)!==0){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,Hv(u,v)}}var kh={readContext:xi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},C$={readContext:xi,useCallback:function(u,d){return is().memoizedState=[u,d===void 0?null:d],u},useContext:xi,useEffect:YT,useImperativeHandle:function(u,d,v){return v=v!=null?v.concat([u]):null,Sh(4194308,4,QT.bind(null,d,u),v)},useLayoutEffect:function(u,d){return Sh(4194308,4,u,d)},useInsertionEffect:function(u,d){return Sh(4,2,u,d)},useMemo:function(u,d){var v=is();return d=d===void 0?null:d,u=u(),v.memoizedState=[u,d],u},useReducer:function(u,d,v){var T=is();return d=v!==void 0?v(d):d,T.memoizedState=T.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},T.queue=u,u=u.dispatch=k$.bind(null,pn,u),[T.memoizedState,u]},useRef:function(u){var d=is();return u={current:u},d.memoizedState=u},useState:zT,useDebugValue:Hy,useDeferredValue:function(u){return is().memoizedState=u},useTransition:function(){var u=zT(!1),d=u[0];return u=E$.bind(null,u[1]),is().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,v){var T=pn,R=is();if(dn){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),Wn===null)throw Error(n(349));(ka&30)!==0||BT(T,d,v)}R.memoizedState=v;var $={value:v,getSnapshot:d};return R.queue=$,YT(VT.bind(null,T,$,u),[u]),T.flags|=2048,Pc(9,UT.bind(null,T,$,v,d),void 0,null),v},useId:function(){var u=is(),d=Wn.identifierPrefix;if(dn){var v=Ms,T=Rs;v=(T&~(1<<32-Pi(T)-1)).toString(32)+v,d=":"+d+"R"+v,v=Dc++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=S$++,d=":"+d+"r"+v.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},N$={readContext:xi,useCallback:JT,useContext:xi,useEffect:qy,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:ZT,useReducer:Uy,useRef:WT,useState:function(){return Uy(Ic)},useDebugValue:Hy,useDeferredValue:function(u){var d=_i();return e2(d,Bn.memoizedState,u)},useTransition:function(){var u=Uy(Ic)[0],d=_i().memoizedState;return[u,d]},useMutableSource:FT,useSyncExternalStore:$T,useId:t2,unstable_isNewReconciler:!1},O$={readContext:xi,useCallback:JT,useContext:xi,useEffect:qy,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:ZT,useReducer:Vy,useRef:WT,useState:function(){return Vy(Ic)},useDebugValue:Hy,useDeferredValue:function(u){var d=_i();return Bn===null?d.memoizedState=u:e2(d,Bn.memoizedState,u)},useTransition:function(){var u=Vy(Ic)[0],d=_i().memoizedState;return[u,d]},useMutableSource:FT,useSyncExternalStore:$T,useId:t2,unstable_isNewReconciler:!1};function Hl(u,d){try{var v="",T=d;do v+=X(T),T=T.return;while(T);var R=v}catch($){R=`
Error generating stack: `+$.message+`
`+$.stack}return{value:u,source:d,stack:R,digest:null}}function zy(u,d,v){return{value:u,source:null,stack:v??null,digest:d??null}}function Wy(u,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var A$=typeof WeakMap=="function"?WeakMap:Map;function s2(u,d,v){v=js(-1,v),v.tag=3,v.payload={element:null};var T=d.value;return v.callback=function(){Ih||(Ih=!0,a0=T),Wy(u,d)},v}function o2(u,d,v){v=js(-1,v),v.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var R=d.value;v.payload=function(){return T(R)},v.callback=function(){Wy(u,d)}}var $=u.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(v.callback=function(){Wy(u,d),typeof T!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),v}function a2(u,d,v){var T=u.pingCache;if(T===null){T=u.pingCache=new A$;var R=new Set;T.set(d,R)}else R=T.get(d),R===void 0&&(R=new Set,T.set(d,R));R.has(v)||(R.add(v),u=H$.bind(null,u,d,v),d.then(u,u))}function l2(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function u2(u,d,v,T,R){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=js(-1,1),d.tag=2,ko(v,d,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=R,u)}var D$=S.ReactCurrentOwner,Gr=!1;function Ir(u,d,v,T){d.child=u===null?LT(d,null,v,T):Vl(d,u.child,v,T)}function c2(u,d,v,T,R){v=v.render;var $=d.ref;return Ul(d,R),T=$y(u,d,v,T,$,R),v=By(),u!==null&&!Gr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~R,Fs(u,d,R)):(dn&&v&&by(d),d.flags|=1,Ir(u,d,T,R),d.child)}function d2(u,d,v,T,R){if(u===null){var $=v.type;return typeof $=="function"&&!p0($)&&$.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=$,f2(u,d,$,T,R)):(u=Fh(v.type,null,T,d,d.mode,R),u.ref=d.ref,u.return=d,d.child=u)}if($=u.child,(u.lanes&R)===0){var G=$.memoizedProps;if(v=v.compare,v=v!==null?v:wc,v(G,T)&&u.ref===d.ref)return Fs(u,d,R)}return d.flags|=1,u=Do($,T),u.ref=d.ref,u.return=d,d.child=u}function f2(u,d,v,T,R){if(u!==null){var $=u.memoizedProps;if(wc($,T)&&u.ref===d.ref)if(Gr=!1,d.pendingProps=T=$,(u.lanes&R)!==0)(u.flags&131072)!==0&&(Gr=!0);else return d.lanes=u.lanes,Fs(u,d,R)}return Yy(u,d,v,T,R)}function h2(u,d,v){var T=d.pendingProps,R=T.children,$=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Wl,li),li|=v;else{if((v&1073741824)===0)return u=$!==null?$.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Gt(Wl,li),li|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:v,Gt(Wl,li),li|=T}else $!==null?(T=$.baseLanes|v,d.memoizedState=null):T=v,Gt(Wl,li),li|=T;return Ir(u,d,R,v),d.child}function p2(u,d){var v=d.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function Yy(u,d,v,T,R){var $=Yr(v)?ba:dr.current;return $=Ll(d,$),Ul(d,R),v=$y(u,d,v,T,$,R),T=By(),u!==null&&!Gr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~R,Fs(u,d,R)):(dn&&T&&by(d),d.flags|=1,Ir(u,d,v,R),d.child)}function m2(u,d,v,T,R){if(Yr(v)){var $=!0;uh(d)}else $=!1;if(Ul(d,R),d.stateNode===null)Ch(u,d),IT(d,v,T),Iy(d,v,T,R),T=!0;else if(u===null){var G=d.stateNode,ee=d.memoizedProps;G.props=ee;var ne=G.context,de=v.contextType;typeof de=="object"&&de!==null?de=xi(de):(de=Yr(v)?ba:dr.current,de=Ll(d,de));var ye=v.getDerivedStateFromProps,_e=typeof ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";_e||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==T||ne!==de)&&PT(d,G,T,de),Eo=!1;var ve=d.memoizedState;G.state=ve,vh(d,T,G,R),ne=d.memoizedState,ee!==T||ve!==ne||Wr.current||Eo?(typeof ye=="function"&&(Dy(d,v,ye,T),ne=d.memoizedState),(ee=Eo||DT(d,v,ee,T,ve,ne,de))?(_e||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=ne),G.props=T,G.state=ne,G.context=de,T=ee):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{G=d.stateNode,CT(u,d),ee=d.memoizedProps,de=d.type===d.elementType?ee:Li(d.type,ee),G.props=de,_e=d.pendingProps,ve=G.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=xi(ne):(ne=Yr(v)?ba:dr.current,ne=Ll(d,ne));var Pe=v.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==_e||ve!==ne)&&PT(d,G,T,ne),Eo=!1,ve=d.memoizedState,G.state=ve,vh(d,T,G,R);var Ve=d.memoizedState;ee!==_e||ve!==Ve||Wr.current||Eo?(typeof Pe=="function"&&(Dy(d,v,Pe,T),Ve=d.memoizedState),(de=Eo||DT(d,v,de,T,ve,Ve,ne)||!1)?(ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(T,Ve,ne),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(T,Ve,ne)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ve),G.props=T,G.state=Ve,G.context=ne,T=de):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),T=!1)}return Gy(u,d,v,T,$,R)}function Gy(u,d,v,T,R,$){p2(u,d);var G=(d.flags&128)!==0;if(!T&&!G)return R&&wT(d,v,!1),Fs(u,d,$);T=d.stateNode,D$.current=d;var ee=G&&typeof v.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,u!==null&&G?(d.child=Vl(d,u.child,null,$),d.child=Vl(d,null,ee,$)):Ir(u,d,ee,$),d.memoizedState=T.state,R&&wT(d,v,!0),d.child}function g2(u){var d=u.stateNode;d.pendingContext?vT(u,d.pendingContext,d.pendingContext!==d.context):d.context&&vT(u,d.context,!1),Py(u,d.containerInfo)}function v2(u,d,v,T,R){return $l(),Ey(R),d.flags|=256,Ir(u,d,v,T),d.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Qy(u){return{baseLanes:u,cachePool:null,transitions:null}}function y2(u,d,v){var T=d.pendingProps,R=hn.current,$=!1,G=(d.flags&128)!==0,ee;if((ee=G)||(ee=u!==null&&u.memoizedState===null?!1:(R&2)!==0),ee?($=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(R|=1),Gt(hn,R&1),u===null)return Sy(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=T.children,u=T.fallback,$?(T=d.mode,$=d.child,G={mode:"hidden",children:G},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=$h(G,T,0,null),u=Aa(u,T,v,null),$.return=d,u.return=d,$.sibling=u,d.child=$,d.child.memoizedState=Qy(v),d.memoizedState=Ky,u):Xy(d,G));if(R=u.memoizedState,R!==null&&(ee=R.dehydrated,ee!==null))return I$(u,d,G,T,ee,R,v);if($){$=T.fallback,G=d.mode,R=u.child,ee=R.sibling;var ne={mode:"hidden",children:T.children};return(G&1)===0&&d.child!==R?(T=d.child,T.childLanes=0,T.pendingProps=ne,d.deletions=null):(T=Do(R,ne),T.subtreeFlags=R.subtreeFlags&14680064),ee!==null?$=Do(ee,$):($=Aa($,G,v,null),$.flags|=2),$.return=d,T.return=d,T.sibling=$,d.child=T,T=$,$=d.child,G=u.child.memoizedState,G=G===null?Qy(v):{baseLanes:G.baseLanes|v,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=u.childLanes&~v,d.memoizedState=Ky,T}return $=u.child,u=$.sibling,T=Do($,{mode:"visible",children:T.children}),(d.mode&1)===0&&(T.lanes=v),T.return=d,T.sibling=null,u!==null&&(v=d.deletions,v===null?(d.deletions=[u],d.flags|=16):v.push(u)),d.child=T,d.memoizedState=null,T}function Xy(u,d){return d=$h({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Th(u,d,v,T){return T!==null&&Ey(T),Vl(d,u.child,null,v),u=Xy(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function I$(u,d,v,T,R,$,G){if(v)return d.flags&256?(d.flags&=-257,T=zy(Error(n(422))),Th(u,d,G,T)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):($=T.fallback,R=d.mode,T=$h({mode:"visible",children:T.children},R,0,null),$=Aa($,R,G,null),$.flags|=2,T.return=d,$.return=d,T.sibling=$,d.child=T,(d.mode&1)!==0&&Vl(d,u.child,null,G),d.child.memoizedState=Qy(G),d.memoizedState=Ky,$);if((d.mode&1)===0)return Th(u,d,G,null);if(R.data==="$!"){if(T=R.nextSibling&&R.nextSibling.dataset,T)var ee=T.dgst;return T=ee,$=Error(n(419)),T=zy($,T,void 0),Th(u,d,G,T)}if(ee=(G&u.childLanes)!==0,Gr||ee){if(T=Wn,T!==null){switch(G&-G){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(T.suspendedLanes|G))!==0?0:R,R!==0&&R!==$.retryLane&&($.retryLane=R,Ls(u,R),$i(T,u,R,-1))}return h0(),T=zy(Error(n(421))),Th(u,d,G,T)}return R.data==="$?"?(d.flags|=128,d.child=u.child,d=z$.bind(null,u),R._reactRetry=d,null):(u=$.treeContext,ai=bo(R.nextSibling),oi=d,dn=!0,Mi=null,u!==null&&(wi[bi++]=Rs,wi[bi++]=Ms,wi[bi++]=xa,Rs=u.id,Ms=u.overflow,xa=d),d=Xy(d,T.children),d.flags|=4096,d)}function w2(u,d,v){u.lanes|=d;var T=u.alternate;T!==null&&(T.lanes|=d),Ny(u.return,d,v)}function Jy(u,d,v,T,R){var $=u.memoizedState;$===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:v,tailMode:R}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=v,$.tailMode=R)}function b2(u,d,v){var T=d.pendingProps,R=T.revealOrder,$=T.tail;if(Ir(u,d,T.children,v),T=hn.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&w2(u,v,d);else if(u.tag===19)w2(u,v,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(Gt(hn,T),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(v=d.child,R=null;v!==null;)u=v.alternate,u!==null&&bh(u)===null&&(R=v),v=v.sibling;v=R,v===null?(R=d.child,d.child=null):(R=v.sibling,v.sibling=null),Jy(d,!1,R,v,$);break;case"backwards":for(v=null,R=d.child,d.child=null;R!==null;){if(u=R.alternate,u!==null&&bh(u)===null){d.child=R;break}u=R.sibling,R.sibling=v,v=R,R=u}Jy(d,!0,v,null,$);break;case"together":Jy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ch(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function Fs(u,d,v){if(u!==null&&(d.dependencies=u.dependencies),Ta|=d.lanes,(v&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,v=Do(u,u.pendingProps),d.child=v,v.return=d;u.sibling!==null;)u=u.sibling,v=v.sibling=Do(u,u.pendingProps),v.return=d;v.sibling=null}return d.child}function P$(u,d,v){switch(d.tag){case 3:g2(d),$l();break;case 5:jT(d);break;case 1:Yr(d.type)&&uh(d);break;case 4:Py(d,d.stateNode.containerInfo);break;case 10:var T=d.type._context,R=d.memoizedProps.value;Gt(ph,T._currentValue),T._currentValue=R;break;case 13:if(T=d.memoizedState,T!==null)return T.dehydrated!==null?(Gt(hn,hn.current&1),d.flags|=128,null):(v&d.child.childLanes)!==0?y2(u,d,v):(Gt(hn,hn.current&1),u=Fs(u,d,v),u!==null?u.sibling:null);Gt(hn,hn.current&1);break;case 19:if(T=(v&d.childLanes)!==0,(u.flags&128)!==0){if(T)return b2(u,d,v);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Gt(hn,hn.current),T)break;return null;case 22:case 23:return d.lanes=0,h2(u,d,v)}return Fs(u,d,v)}var x2,Zy,_2,S2;x2=function(u,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Zy=function(){},_2=function(u,d,v,T){var R=u.memoizedProps;if(R!==T){u=d.stateNode,Ea(rs.current);var $=null;switch(v){case"input":R=$e(u,R),T=$e(u,T),$=[];break;case"select":R=j({},R,{value:void 0}),T=j({},T,{value:void 0}),$=[];break;case"textarea":R=he(u,R),T=he(u,T),$=[];break;default:typeof R.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=oh)}ie(v,T);var G;v=null;for(de in R)if(!T.hasOwnProperty(de)&&R.hasOwnProperty(de)&&R[de]!=null)if(de==="style"){var ee=R[de];for(G in ee)ee.hasOwnProperty(G)&&(v||(v={}),v[G]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?$||($=[]):($=$||[]).push(de,null));for(de in T){var ne=T[de];if(ee=R!=null?R[de]:void 0,T.hasOwnProperty(de)&&ne!==ee&&(ne!=null||ee!=null))if(de==="style")if(ee){for(G in ee)!ee.hasOwnProperty(G)||ne&&ne.hasOwnProperty(G)||(v||(v={}),v[G]="");for(G in ne)ne.hasOwnProperty(G)&&ee[G]!==ne[G]&&(v||(v={}),v[G]=ne[G])}else v||($||($=[]),$.push(de,v)),v=ne;else de==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&($=$||[]).push(de,ne)):de==="children"?typeof ne!="string"&&typeof ne!="number"||($=$||[]).push(de,""+ne):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(ne!=null&&de==="onScroll"&&en("scroll",u),$||ee===ne||($=[])):($=$||[]).push(de,ne))}v&&($=$||[]).push("style",v);var de=$;(d.updateQueue=de)&&(d.flags|=4)}},S2=function(u,d,v,T){v!==T&&(d.flags|=4)};function Rc(u,d){if(!dn)switch(u.tailMode){case"hidden":d=u.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function hr(u){var d=u.alternate!==null&&u.alternate.child===u.child,v=0,T=0;if(d)for(var R=u.child;R!==null;)v|=R.lanes|R.childLanes,T|=R.subtreeFlags&14680064,T|=R.flags&14680064,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)v|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=T,u.childLanes=v,d}function R$(u,d,v){var T=d.pendingProps;switch(xy(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(d),null;case 1:return Yr(d.type)&&lh(),hr(d),null;case 3:return T=d.stateNode,ql(),tn(Wr),tn(dr),Ly(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(hh(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Mi!==null&&(c0(Mi),Mi=null))),Zy(u,d),hr(d),null;case 5:Ry(d);var R=Ea(Oc.current);if(v=d.type,u!==null&&d.stateNode!=null)_2(u,d,v,T,R),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(n(166));return hr(d),null}if(u=Ea(rs.current),hh(d)){T=d.stateNode,v=d.type;var $=d.memoizedProps;switch(T[ns]=d,T[Ec]=$,u=(d.mode&1)!==0,v){case"dialog":en("cancel",T),en("close",T);break;case"iframe":case"object":case"embed":en("load",T);break;case"video":case"audio":for(R=0;R<xc.length;R++)en(xc[R],T);break;case"source":en("error",T);break;case"img":case"image":case"link":en("error",T),en("load",T);break;case"details":en("toggle",T);break;case"input":De(T,$),en("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},en("invalid",T);break;case"textarea":Be(T,$),en("invalid",T)}ie(v,$),R=null;for(var G in $)if($.hasOwnProperty(G)){var ee=$[G];G==="children"?typeof ee=="string"?T.textContent!==ee&&($.suppressHydrationWarning!==!0&&sh(T.textContent,ee,u),R=["children",ee]):typeof ee=="number"&&T.textContent!==""+ee&&($.suppressHydrationWarning!==!0&&sh(T.textContent,ee,u),R=["children",""+ee]):i.hasOwnProperty(G)&&ee!=null&&G==="onScroll"&&en("scroll",T)}switch(v){case"input":pe(T),ce(T,$,!0);break;case"textarea":pe(T),Ye(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=oh)}T=R,d.updateQueue=T,T!==null&&(d.flags|=4)}else{G=R.nodeType===9?R:R.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Yt(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=G.createElement(v,{is:T.is}):(u=G.createElement(v),v==="select"&&(G=u,T.multiple?G.multiple=!0:T.size&&(G.size=T.size))):u=G.createElementNS(u,v),u[ns]=d,u[Ec]=T,x2(u,d,!1,!1),d.stateNode=u;e:{switch(G=be(v,T),v){case"dialog":en("cancel",u),en("close",u),R=T;break;case"iframe":case"object":case"embed":en("load",u),R=T;break;case"video":case"audio":for(R=0;R<xc.length;R++)en(xc[R],u);R=T;break;case"source":en("error",u),R=T;break;case"img":case"image":case"link":en("error",u),en("load",u),R=T;break;case"details":en("toggle",u),R=T;break;case"input":De(u,T),R=$e(u,T),en("invalid",u);break;case"option":R=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},R=j({},T,{value:void 0}),en("invalid",u);break;case"textarea":Be(u,T),R=he(u,T),en("invalid",u);break;default:R=T}ie(v,R),ee=R;for($ in ee)if(ee.hasOwnProperty($)){var ne=ee[$];$==="style"?Dr(u,ne):$==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&qr(u,ne)):$==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&ft(u,ne):typeof ne=="number"&&ft(u,""+ne):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ne!=null&&$==="onScroll"&&en("scroll",u):ne!=null&&E(u,$,ne,G))}switch(v){case"input":pe(u),ce(u,T,!1);break;case"textarea":pe(u),Ye(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Z(T.value));break;case"select":u.multiple=!!T.multiple,$=T.value,$!=null?xe(u,!!T.multiple,$,!1):T.defaultValue!=null&&xe(u,!!T.multiple,T.defaultValue,!0);break;default:typeof R.onClick=="function"&&(u.onclick=oh)}switch(v){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return hr(d),null;case 6:if(u&&d.stateNode!=null)S2(u,d,u.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(n(166));if(v=Ea(Oc.current),Ea(rs.current),hh(d)){if(T=d.stateNode,v=d.memoizedProps,T[ns]=d,($=T.nodeValue!==v)&&(u=oi,u!==null))switch(u.tag){case 3:sh(T.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&sh(T.nodeValue,v,(u.mode&1)!==0)}$&&(d.flags|=4)}else T=(v.nodeType===9?v:v.ownerDocument).createTextNode(T),T[ns]=d,d.stateNode=T}return hr(d),null;case 13:if(tn(hn),T=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(dn&&ai!==null&&(d.mode&1)!==0&&(d.flags&128)===0)kT(),$l(),d.flags|=98560,$=!1;else if($=hh(d),T!==null&&T.dehydrated!==null){if(u===null){if(!$)throw Error(n(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[ns]=d}else $l(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;hr(d),$=!1}else Mi!==null&&(c0(Mi),Mi=null),$=!0;if(!$)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=v,d):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(hn.current&1)!==0?Un===0&&(Un=3):h0())),d.updateQueue!==null&&(d.flags|=4),hr(d),null);case 4:return ql(),Zy(u,d),u===null&&_c(d.stateNode.containerInfo),hr(d),null;case 10:return Cy(d.type._context),hr(d),null;case 17:return Yr(d.type)&&lh(),hr(d),null;case 19:if(tn(hn),$=d.memoizedState,$===null)return hr(d),null;if(T=(d.flags&128)!==0,G=$.rendering,G===null)if(T)Rc($,!1);else{if(Un!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(G=bh(u),G!==null){for(d.flags|=128,Rc($,!1),T=G.updateQueue,T!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=v,v=d.child;v!==null;)$=v,u=T,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=u,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,u=G.dependencies,$.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Gt(hn,hn.current&1|2),d.child}u=u.sibling}$.tail!==null&&kn()>Yl&&(d.flags|=128,T=!0,Rc($,!1),d.lanes=4194304)}else{if(!T)if(u=bh(G),u!==null){if(d.flags|=128,T=!0,v=u.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),Rc($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!dn)return hr(d),null}else 2*kn()-$.renderingStartTime>Yl&&v!==1073741824&&(d.flags|=128,T=!0,Rc($,!1),d.lanes=4194304);$.isBackwards?(G.sibling=d.child,d.child=G):(v=$.last,v!==null?v.sibling=G:d.child=G,$.last=G)}return $.tail!==null?(d=$.tail,$.rendering=d,$.tail=d.sibling,$.renderingStartTime=kn(),d.sibling=null,v=hn.current,Gt(hn,T?v&1|2:v&1),d):(hr(d),null);case 22:case 23:return f0(),T=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(d.flags|=8192),T&&(d.mode&1)!==0?(li&1073741824)!==0&&(hr(d),d.subtreeFlags&6&&(d.flags|=8192)):hr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function M$(u,d){switch(xy(d),d.tag){case 1:return Yr(d.type)&&lh(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return ql(),tn(Wr),tn(dr),Ly(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return Ry(d),null;case 13:if(tn(hn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));$l()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return tn(hn),null;case 4:return ql(),null;case 10:return Cy(d.type._context),null;case 22:case 23:return f0(),null;case 24:return null;default:return null}}var Nh=!1,pr=!1,L$=typeof WeakSet=="function"?WeakSet:Set,je=null;function zl(u,d){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(T){vn(u,d,T)}else v.current=null}function e0(u,d,v){try{v()}catch(T){vn(u,d,T)}}var E2=!1;function j$(u,d){if(fy=Gf,u=tT(),iy(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var T=v.getSelection&&v.getSelection();if(T&&T.rangeCount!==0){v=T.anchorNode;var R=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{v.nodeType,$.nodeType}catch{v=null;break e}var G=0,ee=-1,ne=-1,de=0,ye=0,_e=u,ve=null;t:for(;;){for(var Pe;_e!==v||R!==0&&_e.nodeType!==3||(ee=G+R),_e!==$||T!==0&&_e.nodeType!==3||(ne=G+T),_e.nodeType===3&&(G+=_e.nodeValue.length),(Pe=_e.firstChild)!==null;)ve=_e,_e=Pe;for(;;){if(_e===u)break t;if(ve===v&&++de===R&&(ee=G),ve===$&&++ye===T&&(ne=G),(Pe=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Pe}v=ee===-1||ne===-1?null:{start:ee,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(hy={focusedElem:u,selectionRange:v},Gf=!1,je=d;je!==null;)if(d=je,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,je=u;else for(;je!==null;){d=je;try{var Ve=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var qe=Ve.memoizedProps,Tn=Ve.memoizedState,ae=d.stateNode,re=ae.getSnapshotBeforeUpdate(d.elementType===d.type?qe:Li(d.type,qe),Tn);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ee){vn(d,d.return,Ee)}if(u=d.sibling,u!==null){u.return=d.return,je=u;break}je=d.return}return Ve=E2,E2=!1,Ve}function Mc(u,d,v){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var R=T=T.next;do{if((R.tag&u)===u){var $=R.destroy;R.destroy=void 0,$!==void 0&&e0(d,v,$)}R=R.next}while(R!==T)}}function Oh(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&u)===u){var T=v.create;v.destroy=T()}v=v.next}while(v!==d)}}function t0(u){var d=u.ref;if(d!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof d=="function"?d(u):d.current=u}}function k2(u){var d=u.alternate;d!==null&&(u.alternate=null,k2(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[ns],delete d[Ec],delete d[vy],delete d[w$],delete d[b$])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function T2(u){return u.tag===5||u.tag===3||u.tag===4}function C2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||T2(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function n0(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.nodeType===8?v.parentNode.insertBefore(u,d):v.insertBefore(u,d):(v.nodeType===8?(d=v.parentNode,d.insertBefore(u,v)):(d=v,d.appendChild(u)),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=oh));else if(T!==4&&(u=u.child,u!==null))for(n0(u,d,v),u=u.sibling;u!==null;)n0(u,d,v),u=u.sibling}function r0(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.insertBefore(u,d):v.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(r0(u,d,v),u=u.sibling;u!==null;)r0(u,d,v),u=u.sibling}var er=null,ji=!1;function To(u,d,v){for(v=v.child;v!==null;)N2(u,d,v),v=v.sibling}function N2(u,d,v){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Vf,v)}catch{}switch(v.tag){case 5:pr||zl(v,d);case 6:var T=er,R=ji;er=null,To(u,d,v),er=T,ji=R,er!==null&&(ji?(u=er,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):er.removeChild(v.stateNode));break;case 18:er!==null&&(ji?(u=er,v=v.stateNode,u.nodeType===8?gy(u.parentNode,v):u.nodeType===1&&gy(u,v),hc(u)):gy(er,v.stateNode));break;case 4:T=er,R=ji,er=v.stateNode.containerInfo,ji=!0,To(u,d,v),er=T,ji=R;break;case 0:case 11:case 14:case 15:if(!pr&&(T=v.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){R=T=T.next;do{var $=R,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&e0(v,d,G),R=R.next}while(R!==T)}To(u,d,v);break;case 1:if(!pr&&(zl(v,d),T=v.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=v.memoizedProps,T.state=v.memoizedState,T.componentWillUnmount()}catch(ee){vn(v,d,ee)}To(u,d,v);break;case 21:To(u,d,v);break;case 22:v.mode&1?(pr=(T=pr)||v.memoizedState!==null,To(u,d,v),pr=T):To(u,d,v);break;default:To(u,d,v)}}function O2(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new L$),d.forEach(function(T){var R=W$.bind(null,u,T);v.has(T)||(v.add(T),T.then(R,R))})}}function Fi(u,d){var v=d.deletions;if(v!==null)for(var T=0;T<v.length;T++){var R=v[T];try{var $=u,G=d,ee=G;e:for(;ee!==null;){switch(ee.tag){case 5:er=ee.stateNode,ji=!1;break e;case 3:er=ee.stateNode.containerInfo,ji=!0;break e;case 4:er=ee.stateNode.containerInfo,ji=!0;break e}ee=ee.return}if(er===null)throw Error(n(160));N2($,G,R),er=null,ji=!1;var ne=R.alternate;ne!==null&&(ne.return=null),R.return=null}catch(de){vn(R,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)A2(d,u),d=d.sibling}function A2(u,d){var v=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Fi(d,u),ss(u),T&4){try{Mc(3,u,u.return),Oh(3,u)}catch(qe){vn(u,u.return,qe)}try{Mc(5,u,u.return)}catch(qe){vn(u,u.return,qe)}}break;case 1:Fi(d,u),ss(u),T&512&&v!==null&&zl(v,v.return);break;case 5:if(Fi(d,u),ss(u),T&512&&v!==null&&zl(v,v.return),u.flags&32){var R=u.stateNode;try{ft(R,"")}catch(qe){vn(u,u.return,qe)}}if(T&4&&(R=u.stateNode,R!=null)){var $=u.memoizedProps,G=v!==null?v.memoizedProps:$,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&$.type==="radio"&&$.name!=null&&nt(R,$),be(ee,G);var de=be(ee,$);for(G=0;G<ne.length;G+=2){var ye=ne[G],_e=ne[G+1];ye==="style"?Dr(R,_e):ye==="dangerouslySetInnerHTML"?qr(R,_e):ye==="children"?ft(R,_e):E(R,ye,_e,de)}switch(ee){case"input":Qe(R,$);break;case"textarea":Ie(R,$);break;case"select":var ve=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!$.multiple;var Pe=$.value;Pe!=null?xe(R,!!$.multiple,Pe,!1):ve!==!!$.multiple&&($.defaultValue!=null?xe(R,!!$.multiple,$.defaultValue,!0):xe(R,!!$.multiple,$.multiple?[]:"",!1))}R[Ec]=$}catch(qe){vn(u,u.return,qe)}}break;case 6:if(Fi(d,u),ss(u),T&4){if(u.stateNode===null)throw Error(n(162));R=u.stateNode,$=u.memoizedProps;try{R.nodeValue=$}catch(qe){vn(u,u.return,qe)}}break;case 3:if(Fi(d,u),ss(u),T&4&&v!==null&&v.memoizedState.isDehydrated)try{hc(d.containerInfo)}catch(qe){vn(u,u.return,qe)}break;case 4:Fi(d,u),ss(u);break;case 13:Fi(d,u),ss(u),R=u.child,R.flags&8192&&($=R.memoizedState!==null,R.stateNode.isHidden=$,!$||R.alternate!==null&&R.alternate.memoizedState!==null||(o0=kn())),T&4&&O2(u);break;case 22:if(ye=v!==null&&v.memoizedState!==null,u.mode&1?(pr=(de=pr)||ye,Fi(d,u),pr=de):Fi(d,u),ss(u),T&8192){if(de=u.memoizedState!==null,(u.stateNode.isHidden=de)&&!ye&&(u.mode&1)!==0)for(je=u,ye=u.child;ye!==null;){for(_e=je=ye;je!==null;){switch(ve=je,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Mc(4,ve,ve.return);break;case 1:zl(ve,ve.return);var Ve=ve.stateNode;if(typeof Ve.componentWillUnmount=="function"){T=ve,v=ve.return;try{d=T,Ve.props=d.memoizedProps,Ve.state=d.memoizedState,Ve.componentWillUnmount()}catch(qe){vn(T,v,qe)}}break;case 5:zl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){P2(_e);continue}}Pe!==null?(Pe.return=ve,je=Pe):P2(_e)}ye=ye.sibling}e:for(ye=null,_e=u;;){if(_e.tag===5){if(ye===null){ye=_e;try{R=_e.stateNode,de?($=R.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ee=_e.stateNode,ne=_e.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=Hr("display",G))}catch(qe){vn(u,u.return,qe)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(qe){vn(u,u.return,qe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Fi(d,u),ss(u),T&4&&O2(u);break;case 21:break;default:Fi(d,u),ss(u)}}function ss(u){var d=u.flags;if(d&2){try{e:{for(var v=u.return;v!==null;){if(T2(v)){var T=v;break e}v=v.return}throw Error(n(160))}switch(T.tag){case 5:var R=T.stateNode;T.flags&32&&(ft(R,""),T.flags&=-33);var $=C2(u);r0(u,$,R);break;case 3:case 4:var G=T.stateNode.containerInfo,ee=C2(u);n0(u,ee,G);break;default:throw Error(n(161))}}catch(ne){vn(u,u.return,ne)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function F$(u,d,v){je=u,D2(u)}function D2(u,d,v){for(var T=(u.mode&1)!==0;je!==null;){var R=je,$=R.child;if(R.tag===22&&T){var G=R.memoizedState!==null||Nh;if(!G){var ee=R.alternate,ne=ee!==null&&ee.memoizedState!==null||pr;ee=Nh;var de=pr;if(Nh=G,(pr=ne)&&!de)for(je=R;je!==null;)G=je,ne=G.child,G.tag===22&&G.memoizedState!==null?R2(R):ne!==null?(ne.return=G,je=ne):R2(R);for(;$!==null;)je=$,D2($),$=$.sibling;je=R,Nh=ee,pr=de}I2(u)}else(R.subtreeFlags&8772)!==0&&$!==null?($.return=R,je=$):I2(u)}}function I2(u){for(;je!==null;){var d=je;if((d.flags&8772)!==0){var v=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:pr||Oh(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!pr)if(v===null)T.componentDidMount();else{var R=d.elementType===d.type?v.memoizedProps:Li(d.type,v.memoizedProps);T.componentDidUpdate(R,v.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=d.updateQueue;$!==null&&OT(d,$,T);break;case 3:var G=d.updateQueue;if(G!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=d.child.stateNode;break;case 1:v=d.child.stateNode}OT(d,G,v)}break;case 5:var ee=d.stateNode;if(v===null&&d.flags&4){v=ee;var ne=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&hc(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pr||d.flags&512&&t0(d)}catch(ve){vn(d,d.return,ve)}}if(d===u){je=null;break}if(v=d.sibling,v!==null){v.return=d.return,je=v;break}je=d.return}}function P2(u){for(;je!==null;){var d=je;if(d===u){je=null;break}var v=d.sibling;if(v!==null){v.return=d.return,je=v;break}je=d.return}}function R2(u){for(;je!==null;){var d=je;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{Oh(4,d)}catch(ne){vn(d,v,ne)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var R=d.return;try{T.componentDidMount()}catch(ne){vn(d,R,ne)}}var $=d.return;try{t0(d)}catch(ne){vn(d,$,ne)}break;case 5:var G=d.return;try{t0(d)}catch(ne){vn(d,G,ne)}}}catch(ne){vn(d,d.return,ne)}if(d===u){je=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,je=ee;break}je=d.return}}var $$=Math.ceil,Ah=S.ReactCurrentDispatcher,i0=S.ReactCurrentOwner,Si=S.ReactCurrentBatchConfig,kt=0,Wn=null,In=null,tr=0,li=0,Wl=xo(0),Un=0,Lc=null,Ta=0,Dh=0,s0=0,jc=null,Kr=null,o0=0,Yl=1/0,$s=null,Ih=!1,a0=null,Co=null,Ph=!1,No=null,Rh=0,Fc=0,l0=null,Mh=-1,Lh=0;function Pr(){return(kt&6)!==0?kn():Mh!==-1?Mh:Mh=kn()}function Oo(u){return(u.mode&1)===0?1:(kt&2)!==0&&tr!==0?tr&-tr:_$.transition!==null?(Lh===0&&(Lh=Tk()),Lh):(u=Ft,u!==0||(u=window.event,u=u===void 0?16:Mk(u.type)),u)}function $i(u,d,v,T){if(50<Fc)throw Fc=0,l0=null,Error(n(185));lc(u,v,T),((kt&2)===0||u!==Wn)&&(u===Wn&&((kt&2)===0&&(Dh|=v),Un===4&&Ao(u,tr)),Qr(u,T),v===1&&kt===0&&(d.mode&1)===0&&(Yl=kn()+500,ch&&So()))}function Qr(u,d){var v=u.callbackNode;_6(u,d);var T=zf(u,u===Wn?tr:0);if(T===0)v!==null&&Sk(v),u.callbackNode=null,u.callbackPriority=0;else if(d=T&-T,u.callbackPriority!==d){if(v!=null&&Sk(v),d===1)u.tag===0?x$(L2.bind(null,u)):bT(L2.bind(null,u)),v$(function(){(kt&6)===0&&So()}),v=null;else{switch(Ck(T)){case 1:v=Uv;break;case 4:v=Ek;break;case 16:v=Uf;break;case 536870912:v=kk;break;default:v=Uf}v=H2(v,M2.bind(null,u))}u.callbackPriority=d,u.callbackNode=v}}function M2(u,d){if(Mh=-1,Lh=0,(kt&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Gl()&&u.callbackNode!==v)return null;var T=zf(u,u===Wn?tr:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||d)d=jh(u,T);else{d=T;var R=kt;kt|=2;var $=F2();(Wn!==u||tr!==d)&&($s=null,Yl=kn()+500,Na(u,d));do try{V$();break}catch(ee){j2(u,ee)}while(!0);Ty(),Ah.current=$,kt=R,In!==null?d=0:(Wn=null,tr=0,d=Un)}if(d!==0){if(d===2&&(R=Vv(u),R!==0&&(T=R,d=u0(u,R))),d===1)throw v=Lc,Na(u,0),Ao(u,T),Qr(u,kn()),v;if(d===6)Ao(u,T);else{if(R=u.current.alternate,(T&30)===0&&!B$(R)&&(d=jh(u,T),d===2&&($=Vv(u),$!==0&&(T=$,d=u0(u,$))),d===1))throw v=Lc,Na(u,0),Ao(u,T),Qr(u,kn()),v;switch(u.finishedWork=R,u.finishedLanes=T,d){case 0:case 1:throw Error(n(345));case 2:Oa(u,Kr,$s);break;case 3:if(Ao(u,T),(T&130023424)===T&&(d=o0+500-kn(),10<d)){if(zf(u,0)!==0)break;if(R=u.suspendedLanes,(R&T)!==T){Pr(),u.pingedLanes|=u.suspendedLanes&R;break}u.timeoutHandle=my(Oa.bind(null,u,Kr,$s),d);break}Oa(u,Kr,$s);break;case 4:if(Ao(u,T),(T&4194240)===T)break;for(d=u.eventTimes,R=-1;0<T;){var G=31-Pi(T);$=1<<G,G=d[G],G>R&&(R=G),T&=~$}if(T=R,T=kn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*$$(T/1960))-T,10<T){u.timeoutHandle=my(Oa.bind(null,u,Kr,$s),T);break}Oa(u,Kr,$s);break;case 5:Oa(u,Kr,$s);break;default:throw Error(n(329))}}}return Qr(u,kn()),u.callbackNode===v?M2.bind(null,u):null}function u0(u,d){var v=jc;return u.current.memoizedState.isDehydrated&&(Na(u,d).flags|=256),u=jh(u,d),u!==2&&(d=Kr,Kr=v,d!==null&&c0(d)),u}function c0(u){Kr===null?Kr=u:Kr.push.apply(Kr,u)}function B$(u){for(var d=u;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var T=0;T<v.length;T++){var R=v[T],$=R.getSnapshot;R=R.value;try{if(!Ri($(),R))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ao(u,d){for(d&=~s0,d&=~Dh,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var v=31-Pi(d),T=1<<v;u[v]=-1,d&=~T}}function L2(u){if((kt&6)!==0)throw Error(n(327));Gl();var d=zf(u,0);if((d&1)===0)return Qr(u,kn()),null;var v=jh(u,d);if(u.tag!==0&&v===2){var T=Vv(u);T!==0&&(d=T,v=u0(u,T))}if(v===1)throw v=Lc,Na(u,0),Ao(u,d),Qr(u,kn()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Oa(u,Kr,$s),Qr(u,kn()),null}function d0(u,d){var v=kt;kt|=1;try{return u(d)}finally{kt=v,kt===0&&(Yl=kn()+500,ch&&So())}}function Ca(u){No!==null&&No.tag===0&&(kt&6)===0&&Gl();var d=kt;kt|=1;var v=Si.transition,T=Ft;try{if(Si.transition=null,Ft=1,u)return u()}finally{Ft=T,Si.transition=v,kt=d,(kt&6)===0&&So()}}function f0(){li=Wl.current,tn(Wl)}function Na(u,d){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,g$(v)),In!==null)for(v=In.return;v!==null;){var T=v;switch(xy(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&lh();break;case 3:ql(),tn(Wr),tn(dr),Ly();break;case 5:Ry(T);break;case 4:ql();break;case 13:tn(hn);break;case 19:tn(hn);break;case 10:Cy(T.type._context);break;case 22:case 23:f0()}v=v.return}if(Wn=u,In=u=Do(u.current,null),tr=li=d,Un=0,Lc=null,s0=Dh=Ta=0,Kr=jc=null,Sa!==null){for(d=0;d<Sa.length;d++)if(v=Sa[d],T=v.interleaved,T!==null){v.interleaved=null;var R=T.next,$=v.pending;if($!==null){var G=$.next;$.next=R,T.next=G}v.pending=T}Sa=null}return u}function j2(u,d){do{var v=In;try{if(Ty(),xh.current=kh,_h){for(var T=pn.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}_h=!1}if(ka=0,zn=Bn=pn=null,Ac=!1,Dc=0,i0.current=null,v===null||v.return===null){Un=1,Lc=d,In=null;break}e:{var $=u,G=v.return,ee=v,ne=d;if(d=tr,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var de=ne,ye=ee,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=l2(G);if(Pe!==null){Pe.flags&=-257,u2(Pe,G,ee,$,d),Pe.mode&1&&a2($,de,d),d=Pe,ne=de;var Ve=d.updateQueue;if(Ve===null){var qe=new Set;qe.add(ne),d.updateQueue=qe}else Ve.add(ne);break e}else{if((d&1)===0){a2($,de,d),h0();break e}ne=Error(n(426))}}else if(dn&&ee.mode&1){var Tn=l2(G);if(Tn!==null){(Tn.flags&65536)===0&&(Tn.flags|=256),u2(Tn,G,ee,$,d),Ey(Hl(ne,ee));break e}}$=ne=Hl(ne,ee),Un!==4&&(Un=2),jc===null?jc=[$]:jc.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var ae=s2($,ne,d);NT($,ae);break e;case 1:ee=ne;var re=$.type,ue=$.stateNode;if(($.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Co===null||!Co.has(ue)))){$.flags|=65536,d&=-d,$.lanes|=d;var Ee=o2($,ee,d);NT($,Ee);break e}}$=$.return}while($!==null)}B2(v)}catch(ze){d=ze,In===v&&v!==null&&(In=v=v.return);continue}break}while(!0)}function F2(){var u=Ah.current;return Ah.current=kh,u===null?kh:u}function h0(){(Un===0||Un===3||Un===2)&&(Un=4),Wn===null||(Ta&268435455)===0&&(Dh&268435455)===0||Ao(Wn,tr)}function jh(u,d){var v=kt;kt|=2;var T=F2();(Wn!==u||tr!==d)&&($s=null,Na(u,d));do try{U$();break}catch(R){j2(u,R)}while(!0);if(Ty(),kt=v,Ah.current=T,In!==null)throw Error(n(261));return Wn=null,tr=0,Un}function U$(){for(;In!==null;)$2(In)}function V$(){for(;In!==null&&!h6();)$2(In)}function $2(u){var d=q2(u.alternate,u,li);u.memoizedProps=u.pendingProps,d===null?B2(u):In=d,i0.current=null}function B2(u){var d=u;do{var v=d.alternate;if(u=d.return,(d.flags&32768)===0){if(v=R$(v,d,li),v!==null){In=v;return}}else{if(v=M$(v,d),v!==null){v.flags&=32767,In=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Un=6,In=null;return}}if(d=d.sibling,d!==null){In=d;return}In=d=u}while(d!==null);Un===0&&(Un=5)}function Oa(u,d,v){var T=Ft,R=Si.transition;try{Si.transition=null,Ft=1,q$(u,d,v,T)}finally{Si.transition=R,Ft=T}return null}function q$(u,d,v,T){do Gl();while(No!==null);if((kt&6)!==0)throw Error(n(327));v=u.finishedWork;var R=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var $=v.lanes|v.childLanes;if(S6(u,$),u===Wn&&(In=Wn=null,tr=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Ph||(Ph=!0,H2(Uf,function(){return Gl(),null})),$=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||$){$=Si.transition,Si.transition=null;var G=Ft;Ft=1;var ee=kt;kt|=4,i0.current=null,j$(u,v),A2(v,u),u$(hy),Gf=!!fy,hy=fy=null,u.current=v,F$(v),p6(),kt=ee,Ft=G,Si.transition=$}else u.current=v;if(Ph&&(Ph=!1,No=u,Rh=R),$=u.pendingLanes,$===0&&(Co=null),v6(v.stateNode),Qr(u,kn()),d!==null)for(T=u.onRecoverableError,v=0;v<d.length;v++)R=d[v],T(R.value,{componentStack:R.stack,digest:R.digest});if(Ih)throw Ih=!1,u=a0,a0=null,u;return(Rh&1)!==0&&u.tag!==0&&Gl(),$=u.pendingLanes,($&1)!==0?u===l0?Fc++:(Fc=0,l0=u):Fc=0,So(),null}function Gl(){if(No!==null){var u=Ck(Rh),d=Si.transition,v=Ft;try{if(Si.transition=null,Ft=16>u?16:u,No===null)var T=!1;else{if(u=No,No=null,Rh=0,(kt&6)!==0)throw Error(n(331));var R=kt;for(kt|=4,je=u.current;je!==null;){var $=je,G=$.child;if((je.flags&16)!==0){var ee=$.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var de=ee[ne];for(je=de;je!==null;){var ye=je;switch(ye.tag){case 0:case 11:case 15:Mc(8,ye,$)}var _e=ye.child;if(_e!==null)_e.return=ye,je=_e;else for(;je!==null;){ye=je;var ve=ye.sibling,Pe=ye.return;if(k2(ye),ye===de){je=null;break}if(ve!==null){ve.return=Pe,je=ve;break}je=Pe}}}var Ve=$.alternate;if(Ve!==null){var qe=Ve.child;if(qe!==null){Ve.child=null;do{var Tn=qe.sibling;qe.sibling=null,qe=Tn}while(qe!==null)}}je=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,je=G;else e:for(;je!==null;){if($=je,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Mc(9,$,$.return)}var ae=$.sibling;if(ae!==null){ae.return=$.return,je=ae;break e}je=$.return}}var re=u.current;for(je=re;je!==null;){G=je;var ue=G.child;if((G.subtreeFlags&2064)!==0&&ue!==null)ue.return=G,je=ue;else e:for(G=re;je!==null;){if(ee=je,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Oh(9,ee)}}catch(ze){vn(ee,ee.return,ze)}if(ee===G){je=null;break e}var Ee=ee.sibling;if(Ee!==null){Ee.return=ee.return,je=Ee;break e}je=ee.return}}if(kt=R,So(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Vf,u)}catch{}T=!0}return T}finally{Ft=v,Si.transition=d}}return!1}function U2(u,d,v){d=Hl(v,d),d=s2(u,d,1),u=ko(u,d,1),d=Pr(),u!==null&&(lc(u,1,d),Qr(u,d))}function vn(u,d,v){if(u.tag===3)U2(u,u,v);else for(;d!==null;){if(d.tag===3){U2(d,u,v);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Co===null||!Co.has(T))){u=Hl(v,u),u=o2(d,u,1),d=ko(d,u,1),u=Pr(),d!==null&&(lc(d,1,u),Qr(d,u));break}}d=d.return}}function H$(u,d,v){var T=u.pingCache;T!==null&&T.delete(d),d=Pr(),u.pingedLanes|=u.suspendedLanes&v,Wn===u&&(tr&v)===v&&(Un===4||Un===3&&(tr&130023424)===tr&&500>kn()-o0?Na(u,0):s0|=v),Qr(u,d)}function V2(u,d){d===0&&((u.mode&1)===0?d=1:(d=Hf,Hf<<=1,(Hf&130023424)===0&&(Hf=4194304)));var v=Pr();u=Ls(u,d),u!==null&&(lc(u,d,v),Qr(u,v))}function z$(u){var d=u.memoizedState,v=0;d!==null&&(v=d.retryLane),V2(u,v)}function W$(u,d){var v=0;switch(u.tag){case 13:var T=u.stateNode,R=u.memoizedState;R!==null&&(v=R.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(d),V2(u,v)}var q2;q2=function(u,d,v){if(u!==null)if(u.memoizedProps!==d.pendingProps||Wr.current)Gr=!0;else{if((u.lanes&v)===0&&(d.flags&128)===0)return Gr=!1,P$(u,d,v);Gr=(u.flags&131072)!==0}else Gr=!1,dn&&(d.flags&1048576)!==0&&xT(d,fh,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;Ch(u,d),u=d.pendingProps;var R=Ll(d,dr.current);Ul(d,v),R=$y(null,d,T,u,R,v);var $=By();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Yr(T)?($=!0,uh(d)):$=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Ay(d),R.updater=yh,d.stateNode=R,R._reactInternals=d,Iy(d,T,u,v),d=Gy(null,d,T,!0,$,v)):(d.tag=0,dn&&$&&by(d),Ir(null,d,R,v),d=d.child),d;case 16:T=d.elementType;e:{switch(Ch(u,d),u=d.pendingProps,R=T._init,T=R(T._payload),d.type=T,R=d.tag=G$(T),u=Li(T,u),R){case 0:d=Yy(null,d,T,u,v);break e;case 1:d=m2(null,d,T,u,v);break e;case 11:d=c2(null,d,T,u,v);break e;case 14:d=d2(null,d,T,Li(T.type,u),v);break e}throw Error(n(306,T,""))}return d;case 0:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),Yy(u,d,T,R,v);case 1:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),m2(u,d,T,R,v);case 3:e:{if(g2(d),u===null)throw Error(n(387));T=d.pendingProps,$=d.memoizedState,R=$.element,CT(u,d),vh(d,T,null,v);var G=d.memoizedState;if(T=G.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){R=Hl(Error(n(423)),d),d=v2(u,d,T,v,R);break e}else if(T!==R){R=Hl(Error(n(424)),d),d=v2(u,d,T,v,R);break e}else for(ai=bo(d.stateNode.containerInfo.firstChild),oi=d,dn=!0,Mi=null,v=LT(d,null,T,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if($l(),T===R){d=Fs(u,d,v);break e}Ir(u,d,T,v)}d=d.child}return d;case 5:return jT(d),u===null&&Sy(d),T=d.type,R=d.pendingProps,$=u!==null?u.memoizedProps:null,G=R.children,py(T,R)?G=null:$!==null&&py(T,$)&&(d.flags|=32),p2(u,d),Ir(u,d,G,v),d.child;case 6:return u===null&&Sy(d),null;case 13:return y2(u,d,v);case 4:return Py(d,d.stateNode.containerInfo),T=d.pendingProps,u===null?d.child=Vl(d,null,T,v):Ir(u,d,T,v),d.child;case 11:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),c2(u,d,T,R,v);case 7:return Ir(u,d,d.pendingProps,v),d.child;case 8:return Ir(u,d,d.pendingProps.children,v),d.child;case 12:return Ir(u,d,d.pendingProps.children,v),d.child;case 10:e:{if(T=d.type._context,R=d.pendingProps,$=d.memoizedProps,G=R.value,Gt(ph,T._currentValue),T._currentValue=G,$!==null)if(Ri($.value,G)){if($.children===R.children&&!Wr.current){d=Fs(u,d,v);break e}}else for($=d.child,$!==null&&($.return=d);$!==null;){var ee=$.dependencies;if(ee!==null){G=$.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===T){if($.tag===1){ne=js(-1,v&-v),ne.tag=2;var de=$.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?ne.next=ne:(ne.next=ye.next,ye.next=ne),de.pending=ne}}$.lanes|=v,ne=$.alternate,ne!==null&&(ne.lanes|=v),Ny($.return,v,d),ee.lanes|=v;break}ne=ne.next}}else if($.tag===10)G=$.type===d.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=v,ee=G.alternate,ee!==null&&(ee.lanes|=v),Ny(G,v,d),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===d){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}Ir(u,d,R.children,v),d=d.child}return d;case 9:return R=d.type,T=d.pendingProps.children,Ul(d,v),R=xi(R),T=T(R),d.flags|=1,Ir(u,d,T,v),d.child;case 14:return T=d.type,R=Li(T,d.pendingProps),R=Li(T.type,R),d2(u,d,T,R,v);case 15:return f2(u,d,d.type,d.pendingProps,v);case 17:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),Ch(u,d),d.tag=1,Yr(T)?(u=!0,uh(d)):u=!1,Ul(d,v),IT(d,T,R),Iy(d,T,R,v),Gy(null,d,T,!0,u,v);case 19:return b2(u,d,v);case 22:return h2(u,d,v)}throw Error(n(156,d.tag))};function H2(u,d){return _k(u,d)}function Y$(u,d,v,T){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(u,d,v,T){return new Y$(u,d,v,T)}function p0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function G$(u){if(typeof u=="function")return p0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===D)return 11;if(u===q)return 14}return 2}function Do(u,d){var v=u.alternate;return v===null?(v=Ei(u.tag,d,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=d,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,d=u.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Fh(u,d,v,T,R,$){var G=2;if(T=u,typeof u=="function")p0(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case O:return Aa(v.children,R,$,d);case N:G=8,R|=8;break;case P:return u=Ei(12,v,d,R|2),u.elementType=P,u.lanes=$,u;case L:return u=Ei(13,v,d,R),u.elementType=L,u.lanes=$,u;case F:return u=Ei(19,v,d,R),u.elementType=F,u.lanes=$,u;case B:return $h(v,R,$,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case I:G=10;break e;case A:G=9;break e;case D:G=11;break e;case q:G=14;break e;case M:G=16,T=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=Ei(G,v,d,R),d.elementType=u,d.type=T,d.lanes=$,d}function Aa(u,d,v,T){return u=Ei(7,u,T,d),u.lanes=v,u}function $h(u,d,v,T){return u=Ei(22,u,T,d),u.elementType=B,u.lanes=v,u.stateNode={isHidden:!1},u}function m0(u,d,v){return u=Ei(6,u,null,d),u.lanes=v,u}function g0(u,d,v){return d=Ei(4,u.children!==null?u.children:[],u.key,d),d.lanes=v,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function K$(u,d,v,T,R){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qv(0),this.expirationTimes=qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qv(0),this.identifierPrefix=T,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function v0(u,d,v,T,R,$,G,ee,ne){return u=new K$(u,d,v,ee,ne),d===1?(d=1,$===!0&&(d|=8)):d=0,$=Ei(3,null,null,d),u.current=$,$.stateNode=u,$.memoizedState={element:T,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay($),u}function Q$(u,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:T==null?null:""+T,children:u,containerInfo:d,implementation:v}}function z2(u){if(!u)return _o;u=u._reactInternals;e:{if(ya(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Yr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(Yr(v))return yT(u,v,d)}return d}function W2(u,d,v,T,R,$,G,ee,ne){return u=v0(v,T,!0,u,R,$,G,ee,ne),u.context=z2(null),v=u.current,T=Pr(),R=Oo(v),$=js(T,R),$.callback=d??null,ko(v,$,R),u.current.lanes=R,lc(u,R,T),Qr(u,T),u}function Bh(u,d,v,T){var R=d.current,$=Pr(),G=Oo(R);return v=z2(v),d.context===null?d.context=v:d.pendingContext=v,d=js($,G),d.payload={element:u},T=T===void 0?null:T,T!==null&&(d.callback=T),u=ko(R,d,G),u!==null&&($i(u,R,G,$),gh(u,R,G)),G}function Uh(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function Y2(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<d?v:d}}function y0(u,d){Y2(u,d),(u=u.alternate)&&Y2(u,d)}function X$(){return null}var G2=typeof reportError=="function"?reportError:function(u){console.error(u)};function w0(u){this._internalRoot=u}Vh.prototype.render=w0.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));Bh(u,d,null,null)},Vh.prototype.unmount=w0.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Ca(function(){Bh(null,u,null,null)}),d[Is]=null}};function Vh(u){this._internalRoot=u}Vh.prototype.unstable_scheduleHydration=function(u){if(u){var d=Ak();u={blockedOn:null,target:u,priority:d};for(var v=0;v<vo.length&&d!==0&&d<vo[v].priority;v++);vo.splice(v,0,u),v===0&&Pk(u)}};function b0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function qh(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function K2(){}function J$(u,d,v,T,R){if(R){if(typeof T=="function"){var $=T;T=function(){var de=Uh(G);$.call(de)}}var G=W2(d,T,u,0,null,!1,!1,"",K2);return u._reactRootContainer=G,u[Is]=G.current,_c(u.nodeType===8?u.parentNode:u),Ca(),G}for(;R=u.lastChild;)u.removeChild(R);if(typeof T=="function"){var ee=T;T=function(){var de=Uh(ne);ee.call(de)}}var ne=v0(u,0,!1,null,null,!1,!1,"",K2);return u._reactRootContainer=ne,u[Is]=ne.current,_c(u.nodeType===8?u.parentNode:u),Ca(function(){Bh(d,ne,v,T)}),ne}function Hh(u,d,v,T,R){var $=v._reactRootContainer;if($){var G=$;if(typeof R=="function"){var ee=R;R=function(){var ne=Uh(G);ee.call(ne)}}Bh(d,G,u,R)}else G=J$(v,d,u,R,T);return Uh(G)}Nk=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var v=ac(d.pendingLanes);v!==0&&(Hv(d,v|1),Qr(d,kn()),(kt&6)===0&&(Yl=kn()+500,So()))}break;case 13:Ca(function(){var T=Ls(u,1);if(T!==null){var R=Pr();$i(T,u,1,R)}}),y0(u,1)}},zv=function(u){if(u.tag===13){var d=Ls(u,134217728);if(d!==null){var v=Pr();$i(d,u,134217728,v)}y0(u,134217728)}},Ok=function(u){if(u.tag===13){var d=Oo(u),v=Ls(u,d);if(v!==null){var T=Pr();$i(v,u,d,T)}y0(u,d)}},Ak=function(){return Ft},Dk=function(u,d){var v=Ft;try{return Ft=u,d()}finally{Ft=v}},Oe=function(u,d,v){switch(d){case"input":if(Qe(u,v),d=v.name,v.type==="radio"&&d!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<v.length;d++){var T=v[d];if(T!==u&&T.form===u.form){var R=ah(T);if(!R)throw Error(n(90));ge(T),Qe(T,R)}}}break;case"textarea":Ie(u,v);break;case"select":d=v.value,d!=null&&xe(u,!!v.multiple,d,!1)}},Dn=d0,jt=Ca;var Z$={usingClientEntryPoint:!1,Events:[kc,Rl,ah,rt,Et,d0]},$c={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eB={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=bk(u),u===null?null:u.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||X$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Vf=zh.inject(eB),ts=zh}catch{}}return Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z$,Xr.createPortal=function(u,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(d))throw Error(n(200));return Q$(u,d,null,v)},Xr.createRoot=function(u,d){if(!b0(u))throw Error(n(299));var v=!1,T="",R=G2;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=v0(u,1,!1,null,null,v,!1,T,R),u[Is]=d.current,_c(u.nodeType===8?u.parentNode:u),new w0(d)},Xr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=bk(d),u=u===null?null:u.stateNode,u},Xr.flushSync=function(u){return Ca(u)},Xr.hydrate=function(u,d,v){if(!qh(d))throw Error(n(200));return Hh(null,u,d,!0,v)},Xr.hydrateRoot=function(u,d,v){if(!b0(u))throw Error(n(405));var T=v!=null&&v.hydratedSources||null,R=!1,$="",G=G2;if(v!=null&&(v.unstable_strictMode===!0&&(R=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(G=v.onRecoverableError)),d=W2(d,null,u,1,v??null,R,!1,$,G),u[Is]=d.current,_c(u),T)for(u=0;u<T.length;u++)v=T[u],R=v._getVersion,R=R(v._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[v,R]:d.mutableSourceEagerHydrationData.push(v,R);return new Vh(d)},Xr.render=function(u,d,v){if(!qh(d))throw Error(n(200));return Hh(null,u,d,!1,v)},Xr.unmountComponentAtNode=function(u){if(!qh(u))throw Error(n(40));return u._reactRootContainer?(Ca(function(){Hh(null,null,u,!1,function(){u._reactRootContainer=null,u[Is]=null})}),!0):!1},Xr.unstable_batchedUpdates=d0,Xr.unstable_renderSubtreeIntoContainer=function(u,d,v,T){if(!qh(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Hh(u,d,v,!1,T)},Xr.version="18.2.0-next-9e3b772b8-20220608",Xr}var rC;function x_(){if(rC)return S0.exports;rC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S0.exports=cB(),S0.exports}var iC;function dB(){if(iC)return Yh;iC=1;var t=x_();return Yh.createRoot=t.createRoot,Yh.hydrateRoot=t.hydrateRoot,Yh}var fB=dB();const hB=ef(fB);var K=ag();const se=ef(K),Qp=iB({__proto__:null,default:se},[K]);var __=x_();const S_=ef(__);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ed.apply(this,arguments)}var qo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qo||(qo={}));const sC="popstate";function pB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return rx("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xp(i)}return gB(e,n,null,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function E_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mB(){return Math.random().toString(36).substr(2,8)}function oC(t,e){return{usr:t.state,key:t.key,idx:e}}function rx(t,e,n,r){return n===void 0&&(n=null),Ed({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qu(e):e,{state:n,key:e&&e.key||r||mB()})}function Xp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qo.Pop,l=null,h=c();h==null&&(h=0,o.replaceState(Ed({},o.state,{idx:h}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=qo.Pop;let w=c(),b=w==null?null:w-h;h=w,l&&l({action:a,location:y.location,delta:b})}function p(w,b){a=qo.Push;let x=rx(y.location,w,b);h=c()+1;let E=oC(x,h),S=y.createHref(x);try{o.pushState(E,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function m(w,b){a=qo.Replace;let x=rx(y.location,w,b);h=c();let E=oC(x,h),S=y.createHref(x);o.replaceState(E,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:Xp(w);return jn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sC,f),l=w,()=>{i.removeEventListener(sC,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(w){return o.go(w)}};return y}var aC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aC||(aC={}));function vB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qu(e):e,i=k_(r.pathname||"/",n);if(i==null)return null;let s=AP(t);yB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=CB(s[a],AB(i));return o}function AP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=Go([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(jn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),AP(s.children,e,c,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:kB(h,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of DP(s.path))i(s,o,l)}),e}function DP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wB=/^:[\w-]+$/,bB=3,xB=2,_B=1,SB=10,EB=-2,lC=t=>t==="*";function kB(t,e){let n=t.split("/"),r=n.length;return n.some(lC)&&(r+=EB),e&&(r+=xB),n.filter(i=>!lC(i)).reduce((i,s)=>i+(wB.test(s)?bB:s===""?_B:SB),r)}function TB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",c=NB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Go([i,c.pathname]),pathnameBase:MB(Go([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Go([i,c.pathnameBase]))}return s}function NB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?h[p]=void 0:h[p]=DB(g||"",p),h},{}),pathname:s,pathnameBase:o,pattern:t}}function OB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),E_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AB(t){try{return decodeURI(t)}catch(e){return E_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DB(t,e){try{return decodeURIComponent(t)}catch(n){return E_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function k_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qu(t):t;return{pathname:n?n.startsWith("/")?n:PB(n,e):e,search:LB(r),hash:jB(i)}}function PB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function T0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IP(t,e){let n=RB(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function PP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qu(t):(i=Ed({},t),jn(!i.pathname||!i.pathname.includes("?"),T0("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),T0("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),T0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=IB(i,a),h=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}const Go=t=>t.join("/").replace(/\/\/+/g,"/"),MB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RP=["post","put","patch","delete"];new Set(RP);const $B=["get",...RP];new Set($B);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(this,arguments)}const T_=K.createContext(null),BB=K.createContext(null),ml=K.createContext(null),lg=K.createContext(null),aa=K.createContext({outlet:null,matches:[],isDataRoute:!1}),MP=K.createContext(null);function UB(t,e){let{relative:n}=e===void 0?{}:e;tf()||jn(!1);let{basename:r,navigator:i}=K.useContext(ml),{hash:s,pathname:o,search:a}=jP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Go([r,o])),i.createHref({pathname:l,search:a,hash:s})}function tf(){return K.useContext(lg)!=null}function Br(){return tf()||jn(!1),K.useContext(lg).location}function LP(t){K.useContext(ml).static||K.useLayoutEffect(t)}function Or(){let{isDataRoute:t}=K.useContext(aa);return t?eU():VB()}function VB(){tf()||jn(!1);let t=K.useContext(T_),{basename:e,future:n,navigator:r}=K.useContext(ml),{matches:i}=K.useContext(aa),{pathname:s}=Br(),o=JSON.stringify(IP(i,n.v7_relativeSplatPath)),a=K.useRef(!1);return LP(()=>{a.current=!0}),K.useCallback(function(h,c){if(c===void 0&&(c={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let f=PP(h,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Go([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function C_(){let{matches:t}=K.useContext(aa),e=t[t.length-1];return e?e.params:{}}function jP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(ml),{matches:i}=K.useContext(aa),{pathname:s}=Br(),o=JSON.stringify(IP(i,r.v7_relativeSplatPath));return K.useMemo(()=>PP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qB(t,e){return HB(t,e)}function HB(t,e,n,r){tf()||jn(!1);let{navigator:i}=K.useContext(ml),{matches:s}=K.useContext(aa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let h=Br(),c;if(e){var f;let w=typeof e=="string"?qu(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||jn(!1),c=w}else c=h;let p=c.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",g=vB(t,{pathname:m}),y=KB(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Go([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Go([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&y?K.createElement(lg.Provider,{value:{location:kd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qo.Pop}},y):y}function zB(){let t=ZB(),e=FB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,null)}const WB=K.createElement(zB,null);class YB extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(aa.Provider,{value:this.props.routeContext},K.createElement(MP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GB(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(T_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(aa.Provider,{value:e},r)}function KB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||jn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let m,g=!1,y=null,w=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||WB,l&&(h<0&&p===0?(tU("route-fallback"),g=!0,w=null):h===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),x=()=>{let E;return m?E=y:g?E=w:f.route.Component?E=K.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,K.createElement(GB,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?K.createElement(YB,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var FP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FP||{}),$P=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($P||{});function QB(t){let e=K.useContext(T_);return e||jn(!1),e}function XB(t){let e=K.useContext(BB);return e||jn(!1),e}function JB(t){let e=K.useContext(aa);return e||jn(!1),e}function BP(t){let e=JB(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function ZB(){var t;let e=K.useContext(MP),n=XB(),r=BP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eU(){let{router:t}=QB(FP.UseNavigateStable),e=BP($P.UseNavigateStable),n=K.useRef(!1);return LP(()=>{n.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kd({fromRouteId:e},s)))},[t,e])}const uC={};function tU(t,e,n){uC[t]||(uC[t]=!0)}function Kt(t){jn(!1)}function nU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qo.Pop,navigator:s,static:o=!1,future:a}=t;tf()&&jn(!1);let l=e.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:l,navigator:s,static:o,future:kd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qu(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,y=K.useMemo(()=>{let w=k_(c,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return y==null?null:K.createElement(ml.Provider,{value:h},K.createElement(lg.Provider,{children:n,value:y}))}function cC(t){let{children:e,location:n}=t;return qB(ix(e),n)}new Promise(()=>{});function ix(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){n.push.apply(n,ix(r.props.children,s));return}r.type!==Kt&&jn(!1),!r.props.index||!r.props.children||jn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ix(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function rU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sU(t,e){return t.button===0&&(!e||e==="_self")&&!iU(t)}const oU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],aU="6";try{window.__reactRouterVersion=aU}catch{}const lU="startTransition",dC=Qp[lU];function uU(t){let{basename:e,children:n,future:r,window:i}=t,s=K.useRef();s.current==null&&(s.current=pB({window:i,v5Compat:!0}));let o=s.current,[a,l]=K.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},c=K.useCallback(f=>{h&&dC?dC(()=>l(f)):l(f)},[l,h]);return K.useLayoutEffect(()=>o.listen(c),[o,c]),K.createElement(nU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const cU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=K.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:c,unstable_viewTransition:f}=e,p=rU(e,oU),{basename:m}=K.useContext(ml),g,y=!1;if(typeof h=="string"&&dU.test(h)&&(g=h,cU))try{let E=new URL(window.location.href),S=h.startsWith("//")?new URL(E.protocol+h):new URL(h),k=k_(S.pathname,m);S.origin===E.origin&&k!=null?h=k+S.search+S.hash:y=!0}catch{}let w=UB(h,{relative:i}),b=fU(h,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function x(E){r&&r(E),E.defaultPrevented||b(E)}return K.createElement("a",sx({},p,{href:g||w,onClick:y||s?r:x,ref:n,target:l}))});var fC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fC||(fC={}));var hC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hC||(hC={}));function fU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Or(),h=Br(),c=jP(t,{relative:o});return K.useCallback(f=>{if(sU(f,n)){f.preventDefault();let p=r!==void 0?r:Xp(h)===Xp(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[h,l,c,r,i,n,t,s,o,a])}var pC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|h>>6,m=h&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||f==null)throw new pU;const p=s<<2|a>>4;if(r.push(p),h!==64){const m=a<<4&240|h>>2;if(r.push(m),f!==64){const g=h<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mU=function(t){const e=UP(t);return VP.encodeByteArray(e,!0)},Jp=function(t){return mU(t).replace(/\./g,"")},qP=function(t){try{return VP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=()=>gU().__FIREBASE_DEFAULTS__,yU=()=>{if(typeof process>"u"||typeof pC>"u")return;const t=pC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qP(t[1]);return e&&JSON.parse(e)},ug=()=>{try{return vU()||yU()||wU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HP=t=>{var e,n;return(n=(e=ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N_=t=>{const e=HP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zP=()=>{var t;return(t=ug())===null||t===void 0?void 0:t.config},WP=t=>{var e;return(e=ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jp(JSON.stringify(n)),Jp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function _U(){var t;const e=(t=ug())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kU(){const t=Tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GP(){try{return typeof indexedDB=="object"}catch{return!1}}function KP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function TU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CU,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,a,r)}}function NU(t,e){return t.replace(OU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OU=/\{\$([^}]+)}/g;function AU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mC(s)&&mC(o)){if(!Zp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DU(t,e){const n=new IU(t,e);return n.subscribe.bind(n)}class IU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=C0),i.error===void 0&&(i.error=C0),i.complete===void 0&&(i.complete=C0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function C0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LU(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MU(t){return t===Ia?void 0:t}function LU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const FU={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},$U=Ot.INFO,BU={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},UU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=$U,this._logHandler=UU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const VU=(t,e)=>e.some(n=>t instanceof n);let gC,vC;function qU(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HU(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QP=new WeakMap,ox=new WeakMap,XP=new WeakMap,N0=new WeakMap,A_=new WeakMap;function zU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QP.set(n,t)}).catch(()=>{}),A_.set(e,t),e}function WU(t){if(ox.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ox.set(t,e)}let ax={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ox.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YU(t){ax=t(ax)}function GU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O0(this),e,...n);return XP.set(r,e.sort?e.sort():[e]),Ko(r)}:HU().includes(t)?function(...e){return t.apply(O0(this),e),Ko(QP.get(this))}:function(...e){return Ko(t.apply(O0(this),e))}}function KU(t){return typeof t=="function"?GU(t):(t instanceof IDBTransaction&&WU(t),VU(t,qU())?new Proxy(t,ax):t)}function Ko(t){if(t instanceof IDBRequest)return zU(t);if(N0.has(t))return N0.get(t);const e=KU(t);return e!==t&&(N0.set(t,e),A_.set(e,t)),e}const O0=t=>A_.get(t);function QU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ko(o.result),l.oldVersion,l.newVersion,Ko(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const XU=["get","getKey","getAll","getAllKeys","count"],JU=["put","add","delete","clear"],A0=new Map;function yC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(A0.get(e))return A0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return A0.set(e,s),s}YU(t=>({...t,get:(e,n,r)=>yC(e,n)||t.get(e,n,r),has:(e,n)=>!!yC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lx="@firebase/app",wC="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new O_("@firebase/app"),t9="@firebase/app-compat",n9="@firebase/analytics-compat",r9="@firebase/analytics",i9="@firebase/app-check-compat",s9="@firebase/app-check",o9="@firebase/auth",a9="@firebase/auth-compat",l9="@firebase/database",u9="@firebase/database-compat",c9="@firebase/functions",d9="@firebase/functions-compat",f9="@firebase/installations",h9="@firebase/installations-compat",p9="@firebase/messaging",m9="@firebase/messaging-compat",g9="@firebase/performance",v9="@firebase/performance-compat",y9="@firebase/remote-config",w9="@firebase/remote-config-compat",b9="@firebase/storage",x9="@firebase/storage-compat",_9="@firebase/firestore",S9="@firebase/firestore-compat",E9="firebase",k9="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="[DEFAULT]",T9={[lx]:"fire-core",[t9]:"fire-core-compat",[r9]:"fire-analytics",[n9]:"fire-analytics-compat",[s9]:"fire-app-check",[i9]:"fire-app-check-compat",[o9]:"fire-auth",[a9]:"fire-auth-compat",[l9]:"fire-rtdb",[u9]:"fire-rtdb-compat",[c9]:"fire-fn",[d9]:"fire-fn-compat",[f9]:"fire-iid",[h9]:"fire-iid-compat",[p9]:"fire-fcm",[m9]:"fire-fcm-compat",[g9]:"fire-perf",[v9]:"fire-perf-compat",[y9]:"fire-rc",[w9]:"fire-rc-compat",[b9]:"fire-gcs",[x9]:"fire-gcs-compat",[_9]:"fire-fst",[S9]:"fire-fst-compat","fire-js":"fire-js",[E9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,cx=new Map;function C9(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(cx.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;cx.set(e,t);for(const n of em.values())C9(n,t);return!0}function la(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qo=new gl("app","Firebase",N9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=k9;function JP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ux,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=zP()),!n)throw Qo.create("no-options");const s=em.get(i);if(s){if(Zp(n,s.options)&&Zp(r,s.config))return s;throw Qo.create("duplicate-app",{appName:i})}const o=new jU(i);for(const l of cx.values())o.addComponent(l);const a=new O9(n,r,o);return em.set(i,a),a}function rf(t=ux){const e=em.get(t);if(!e&&t===ux&&zP())return JP();if(!e)throw Qo.create("no-app",{appName:t});return e}function _r(t,e,n){var r;let i=(r=T9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(a.join(" "));return}Oi(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="firebase-heartbeat-database",D9=1,Td="firebase-heartbeat-store";let D0=null;function ZP(){return D0||(D0=QU(A9,D9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Td)}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),D0}async function I9(t){try{return await(await ZP()).transaction(Td).objectStore(Td).get(eR(t))}catch(e){if(e instanceof Ai)Qa.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}async function bC(t,e){try{const r=(await ZP()).transaction(Td,"readwrite");await r.objectStore(Td).put(e,eR(t)),await r.done}catch(n){if(n instanceof Ai)Qa.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qa.warn(r.message)}}}function eR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=1024,R9=30*24*60*60*1e3;class M9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=R9}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xC(),{heartbeatsToSend:n,unsentEntries:r}=L9(this._heartbeatsCache.heartbeats),i=Jp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function xC(){return new Date().toISOString().substring(0,10)}function L9(t,e=P9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_C(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_C(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GP()?KP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await I9(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _C(t){return Jp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){Oi(new mi("platform-logger",e=>new ZU(e),"PRIVATE")),Oi(new mi("heartbeat",e=>new M9(e),"PRIVATE")),_r(lx,wC,t),_r(lx,wC,"esm2017"),_r("fire-js","")}F9("");var $9="firebase",B9="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r($9,B9,"app");function D_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U9=tR,nR=new gl("auth","Firebase",tR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new O_("@firebase/auth");function V9(t,...e){tm.logLevel<=Ot.WARN&&tm.warn(`Auth (${vl}): ${t}`,...e)}function Tp(t,...e){tm.logLevel<=Ot.ERROR&&tm.error(`Auth (${vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,...e){throw I_(t,...e)}function xs(t,...e){return I_(t,...e)}function q9(t,e,n){const r=Object.assign(Object.assign({},U9()),{[e]:n});return new gl("auth","Firebase",r).create(e,{appName:t.name})}function I_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nR.create(t,...e)}function at(t,e,...n){if(!t)throw I_(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function Zs(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function H9(){return SC()==="http:"||SC()==="https:"}function SC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H9()||SU()||"connection"in navigator)?navigator.onLine:!0}function W9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zs(n>e,"Short delay should be less than long delay!"),this.isMobile=xU()||EU()}get(){return z9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new sf(3e4,6e4);function yl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ua(t,e,n,r,i={}){return iR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rR.fetch()(sR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function iR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y9),e);try{const i=new K9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw q9(t,c,h);Yi(t,c)}}catch(i){if(i instanceof Ai)throw i;Yi(t,"network-request-failed",{message:String(i)})}}async function of(t,e,n,r,i={}){const s=await ua(t,e,n,r,i);return"mfaPendingCredential"in s&&Yi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`}class K9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),G9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function X9(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J9(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=R_(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pd(I0(i.auth_time)),issuedAtTime:pd(I0(i.iat)),expirationTime:pd(I0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function I0(t){return Number(t)*1e3}function R_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=qP(n);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z9(t){const e=R_(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&e8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xa(t,X9(n,{idToken:r}));at(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?i8(s.providerUserInfo):[],a=r8(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?h:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function n8(t){const e=Pt(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function i8(t){return t.map(e=>{var{providerId:n}=e,r=D_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e){const n=await iR(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return at(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await s8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cd;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=D_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J9(this,e)}reload(){return n8(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xa(this,Q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:S,isAnonymous:k,providerData:C,stsTokenManager:O}=n;at(E&&O,e,"internal-error");const N=Cd.fromJSON(this.name,O);at(typeof E=="string",e,"internal-error"),Po(f,e.name),Po(p,e.name),at(typeof S=="boolean",e,"internal-error"),at(typeof k=="boolean",e,"internal-error"),Po(m,e.name),Po(g,e.name),Po(y,e.name),Po(w,e.name),Po(b,e.name),Po(x,e.name);const P=new Va({uid:E,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:N,createdAt:b,lastLoginAt:x});return C&&Array.isArray(C)&&(P.providerData=C.map(I=>Object.assign({},I))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cd;i.updateFromServerResponse(n);const s=new Va({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Map;function Hs(t){Zs(t instanceof Function,"Expected a class definition");let e=EC.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aR.type="NONE";const kC=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Va._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(Hs(kC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Hs(kC);const o=Cp(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const c=await h._get(o);if(c){const f=Va._fromJSON(e,c);h!==s&&(a=f),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new au(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fR(e))return"Blackberry";if(hR(e))return"Webos";if(M_(e))return"Safari";if((e.includes("chrome/")||uR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lR(t=Tr()){return/firefox\//i.test(t)}function M_(t=Tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uR(t=Tr()){return/crios\//i.test(t)}function cR(t=Tr()){return/iemobile/i.test(t)}function dR(t=Tr()){return/android/i.test(t)}function fR(t=Tr()){return/blackberry/i.test(t)}function hR(t=Tr()){return/webos/i.test(t)}function cg(t=Tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o8(t=Tr()){var e;return cg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a8(){return kU()&&document.documentMode===10}function pR(t=Tr()){return cg(t)||dR(t)||hR(t)||fR(t)||/windows phone/i.test(t)||cR(t)}function l8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=[]){let n;switch(t){case"Browser":n=TC(Tr());break;case"Worker":n=`${TC(Tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${r}`}async function gR(t,e){return ua(t,"GET","/v2/recaptchaConfig",yl(t,e))}function CC(t){return t!==void 0&&t.enterprise!==void 0}class vR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function yR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",u8().appendChild(r)})}function c8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const d8="https://www.google.com/recaptcha/enterprise.js?render=",f8="recaptcha-enterprise",h8="NO_RECAPTCHA";class wR{constructor(e){this.type=f8,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new vR(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;CC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(h8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&CC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}yR(d8+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function xu(t,e,n,r=!1){const i=new wR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NC(this),this.idTokenSubscription=new NC(this),this.beforeStateQueue=new p8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pt(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}async initializeRecaptchaConfig(){const e=await gR(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new vR(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new wR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hs(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return at(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&V9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return Pt(t)}class NC{constructor(e){this.auth=e,this.observer=null,this.addObserver=DU(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t,e){const n=la(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zp(s,e??{}))return i;Yi(i,"already-initialized")}return n.initialize({options:e})}function v8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y8(t,e,n){const r=ca(t);at(r._canInitEmulator,r,"emulator-config-failed"),at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bR(e),{host:o,port:a}=w8(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),b8()}function bR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w8(t){const e=bR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OC(o)}}}function OC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function b8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function xR(t,e){return ua(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",yl(t,e))}async function x8(t,e){return ua(t,"POST","/v1/accounts:sendOobCode",yl(t,e))}async function R0(t,e){return x8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}async function S8(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends L_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await xu(e,r,"signInWithPassword");return P0(e,i)}else return P0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await xu(e,r,"signInWithPassword");return P0(e,s)}else return Promise.reject(i)});case"emailLink":return _8(e,{email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return xR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return S8(e,{idToken:n,email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="http://localhost";class Ja extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=D_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ja(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lu(e,n)}buildRequest(){const e={requestUri:E8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T8(t){const e=td(nd(t)).link,n=e?td(nd(e)).deep_link_id:null,r=td(nd(t)).deep_link_id;return(r?td(nd(r)).link:null)||r||n||e||t}class j_{constructor(e){var n,r,i,s,o,a;const l=td(nd(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=k8((i=l.mode)!==null&&i!==void 0?i:null);at(h&&c&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=T8(e);try{return new j_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,n){return Nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j_.parseLink(n);return at(r,"argument-error"),Nd._fromEmailAndCode(e,r.code,r.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends _R{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends af{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends af{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.GITHUB_SIGN_IN_METHOD="github.com";Bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends af{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(t,e){return of(t,"POST","/v1/accounts:signUp",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Va._fromIdTokenResponse(e,r,i),o=AC(r);return new eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=AC(r);return new eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function AC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t){var e;const n=ca(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new eo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Np(n,{returnSecureToken:!0}),i=await eo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rm(e,n,r,i)}}function SR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,s,e,r):s})}async function N8(t,e,n=!1){const r=await Xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Xa(t,SR(r,i,e,t),n);at(s.idToken,r,"internal-error");const o=R_(s.idToken);at(o,r,"internal-error");const{sub:a}=o;return at(t.uid===a,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e,n=!1){const r="signIn",i=await SR(t,r,e),s=await eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function O8(t,e){return kR(ca(t),e)}async function TR(t,e){return ER(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e,n){var r;const i=ca(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await xu(i,s,"getOobCode",!0);await R0(i,o)}else await R0(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await xu(i,s,"getOobCode",!0);await R0(i,a)}else return Promise.reject(o)})}async function D8(t,e,n){var r;const i=ca(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await xu(i,s,"signUpPassword");o=Np(i,h)}else o=Np(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await xu(i,s,"signUpPassword");return Np(i,c)}else return Promise.reject(h)});const a=await o.catch(h=>Promise.reject(h)),l=await eo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function I8(t,e,n){return O8(Pt(t),da.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e){return ua(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Pt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xa(r,P8(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function R8(t,e){return M8(Pt(t),null,e)}async function M8(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Xa(t,xR(r,s));await t._updateTokensIfNecessary(o,!0)}function L8(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function j8(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function dg(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}async function F8(t){return Pt(t).delete()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){const t=Tr();return M_(t)||cg(t)}const B8=1e3,U8=10;class NR extends CR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$8()&&l8(),this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NR.type="LOCAL";const V8=NR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR extends CR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OR.type="SESSION";const AR=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await q8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=F_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function z8(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function W8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function G8(){return DR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebaseLocalStorageDb",K8=1,sm="firebaseLocalStorage",PR="fbase_key";class lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hg(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function Q8(){const t=indexedDB.deleteDatabase(IR);return new lf(t).toPromise()}function fx(){const t=indexedDB.open(IR,K8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sm,{keyPath:PR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),await Q8(),e(await fx()))})})}async function IC(t,e,n){const r=hg(t,!0).put({[PR]:e,value:n});return new lf(r).toPromise()}async function X8(t,e){const n=hg(t,!1).get(e),r=await new lf(n).toPromise();return r===void 0?null:r.value}function PC(t,e){const n=hg(t,!0).delete(e);return new lf(n).toPromise()}const J8=800,Z8=3;class RR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fg._getInstance(G8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await W8(),!this.activeServiceWorker)return;this.sender=new H8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fx();return await IC(e,im,"1"),await PC(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hg(i,!1).getAll();return new lf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RR.type="LOCAL";const eV=RR;new sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){return e?Hs(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends L_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nV(t){return kR(t.auth,new $_(t),t.bypassAuthState)}function rV(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),ER(n,new $_(t),t.bypassAuthState)}async function iV(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),N8(n,new $_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return iV;case"reauthViaPopup":case"reauthViaRedirect":return rV;default:Yi(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new sf(2e3,1e4);class iu extends MR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sV.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="pendingRedirect",Op=new Map;class aV extends MR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const r=await lV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lV(t,e){const n=dV(e),r=cV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uV(t,e){Op.set(t._key(),e)}function cV(t){return Hs(t._redirectPersistence)}function dV(t){return Cp(oV,t.config.apiKey,t.name)}async function fV(t,e,n=!1){const r=ca(t),i=tV(r,e),o=await new aV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=10*60*1e3;class pV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(RC(e))}saveEventToCache(e){this.cachedEventUids.add(RC(e)),this.lastProcessedEventTime=Date.now()}}function RC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yV=/^https?/;async function wV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gV(t);for(const n of e)try{if(bV(n))return}catch{}Yi(t,"unauthorized-domain")}function bV(t){const e=dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yV.test(n))return!1;if(vV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new sf(3e4,6e4);function MC(){const t=_s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _V(t){return new Promise((e,n)=>{var r,i,s;function o(){MC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MC(),n(xs(t,"network-request-failed"))},timeout:xV.get()})}if(!((i=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_s().gapi)===null||s===void 0)&&s.load)o();else{const a=c8("iframefcb");return _s()[a]=()=>{gapi.load?o():n(xs(t,"network-request-failed"))},yR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ap=null,e})}let Ap=null;function SV(t){return Ap=Ap||_V(t),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new sf(5e3,15e3),kV="__/auth/iframe",TV="emulator/auth/iframe",CV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,TV):`https://${t.config.authDomain}/${kV}`,r={apiKey:e.apiKey,appName:t.name,v:vl},i=NV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nf(r).slice(1)}`}async function AV(t){const e=await SV(t),n=_s().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:OV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xs(t,"network-request-failed"),a=_s().setTimeout(()=>{s(o)},EV.get());function l(){_s().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IV=500,PV=600,RV="_blank",MV="http://localhost";class LC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LV(t,e,n,r=IV,i=PV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DV),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Tr().toLowerCase();n&&(a=uR(h)?RV:n),lR(h)&&(e=e||MV,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(o8(h)&&a!=="_self")return jV(e||"",a),new LC(null);const f=window.open(e||"",a,c);at(f,t,"popup-blocked");try{f.focus()}catch{}return new LC(f)}function jV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="__/auth/handler",$V="emulator/auth/handler",BV=encodeURIComponent("fac");async function jC(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vl,eventId:i};if(e instanceof _R){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof af){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),h=l?`#${BV}=${encodeURIComponent(l)}`:"";return`${UV(t)}?${nf(a).slice(1)}${h}`}function UV({config:t}){return t.emulator?P_(t,$V):`https://${t.authDomain}/${FV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="webStorageSupport";class VV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AR,this._completeRedirectFn=fV,this._overrideRedirectResult=uV}async _openPopup(e,n,r,i){var s;Zs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jC(e,n,r,dx(),i);return LV(e,o,F_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jC(e,n,r,dx(),i);return z8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AV(e),r=new pV(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(M0,{type:M0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[M0];o!==void 0&&n(!!o),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||M_()||cg()}}const qV=VV;var FC="@firebase/auth",$C="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function WV(t){Oi(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},h=new m8(r,i,s,l);return v8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new mi("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new HV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(FC,$C,zV(t)),_r(FC,$C,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=5*60,GV=WP("authIdTokenMaxAge")||YV;let BC=null;const KV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GV)return;const i=n==null?void 0:n.token;BC!==i&&(BC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pg(t=rf()){const e=la(t,"auth");if(e.isInitialized())return e.getImmediate();const n=g8(t,{popupRedirectResolver:qV,persistence:[eV,V8,AR]}),r=WP("authTokenSyncURL");if(r){const s=KV(r);j8(n,s,()=>s(n.currentUser)),L8(n,o=>s(o))}const i=HP("auth");return i&&y8(n,`http://${i}`),n}WV("Browser");var QV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne,B_=B_||{},ct=QV||self;function mg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XV(t,e,n){return t.call.apply(t.bind,arguments)}function JV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sr=XV:Sr=JV,Sr.apply(null,arguments)}function Kh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fa(){this.s=this.s,this.o=this.o}var ZV=0;fa.prototype.s=!1;fa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ZV!=0)};fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function U_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function UC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Er(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var eq=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ct.addEventListener("test",()=>{},e),ct.removeEventListener("test",()=>{},e)}catch{}return t}();function Od(t){return/^[\s\xa0]*$/.test(t)}function vg(){var t=ct.navigator;return t&&(t=t.userAgent)?t:""}function ds(t){return vg().indexOf(t)!=-1}function V_(t){return V_[" "](t),t}V_[" "]=function(){};function tq(t,e){var n=Gq;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nq=ds("Opera"),_u=ds("Trident")||ds("MSIE"),FR=ds("Edge"),hx=FR||_u,$R=ds("Gecko")&&!(vg().toLowerCase().indexOf("webkit")!=-1&&!ds("Edge"))&&!(ds("Trident")||ds("MSIE"))&&!ds("Edge"),rq=vg().toLowerCase().indexOf("webkit")!=-1&&!ds("Edge");function BR(){var t=ct.document;return t?t.documentMode:void 0}var px;e:{var L0="",j0=function(){var t=vg();if($R)return/rv:([^\);]+)(\)|;)/.exec(t);if(FR)return/Edge\/([\d\.]+)/.exec(t);if(_u)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rq)return/WebKit\/(\S+)/.exec(t);if(nq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(j0&&(L0=j0?j0[1]:""),_u){var F0=BR();if(F0!=null&&F0>parseFloat(L0)){px=String(F0);break e}}px=L0}var mx;if(ct.document&&_u){var VC=BR();mx=VC||parseInt(px,10)||void 0}else mx=void 0;var iq=mx;function Ad(t,e){if(Er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($R){e:{try{V_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ad.$.h.call(this)}}Qn(Ad,Er);var sq={2:"touch",3:"pen",4:"mouse"};Ad.prototype.h=function(){Ad.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yg="closure_listenable_"+(1e6*Math.random()|0),oq=0;function aq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oq,this.fa=this.ia=!1}function wg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function q_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function UR(t){const e={};for(const n in t)e[n]=t[n];return e}const qC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<qC.length;s++)n=qC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bg(t){this.src=t,this.g={},this.h=0}bg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=vx(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new aq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function gx(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=jR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vx(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var H_="closure_lm_"+(1e6*Math.random()|0),$0={};function qR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qR(t,e[s],n,r,i);return null}return n=WR(n),t&&t[yg]?t.O(e,n,gg(r)?!!r.capture:!1,i):uq(t,e,n,!1,r,i)}function uq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gg(i)?!!i.capture:!!i,a=W_(t);if(a||(t[H_]=a=new bg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=cq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cq(){function t(n){return e.call(t.src,t.listener,n)}const e=dq;return t}function HR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HR(t,e[s],n,r,i);else r=gg(r)?!!r.capture:!!r,n=WR(n),t&&t[yg]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=vx(s,n,r,i),-1<n&&(wg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=W_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vx(e,n,r,i)),(n=-1<t?e[t]:null)&&z_(n))}function z_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yg])gx(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=W_(e))?(gx(n,t),n.h==0&&(n.src=null,e[H_]=null)):wg(t)}}}function zR(t){return t in $0?$0[t]:$0[t]="on"+t}function dq(t,e){if(t.fa)t=!0;else{e=new Ad(e,this);var n=t.listener,r=t.la||t.src;t.ia&&z_(t),t=n.call(r,e)}return t}function W_(t){return t=t[H_],t instanceof bg?t:null}var B0="__closure_events_fn_"+(1e9*Math.random()>>>0);function WR(t){return typeof t=="function"?t:(t[B0]||(t[B0]=function(e){return t.handleEvent(e)}),t[B0])}function Kn(){fa.call(this),this.i=new bg(this),this.S=this,this.J=null}Qn(Kn,fa);Kn.prototype[yg]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){HR(this,t,e,n,r)};function lr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Er(e,t);else if(e instanceof Er)e.target=e.target||t;else{var i=e;e=new Er(r,t),VR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qh(o,r,!0,e)&&i}if(o=e.g=t,i=Qh(o,r,!0,e)&&i,i=Qh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qh(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wg(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&gx(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Y_=ct.JSON.stringify;class fq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hq(){var t=G_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pq{constructor(){this.h=this.g=null}add(e,n){const r=YR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var YR=new fq(()=>new mq,t=>t.reset());class mq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vq(t){ct.setTimeout(()=>{throw t},0)}let Dd,Id=!1,G_=new pq,GR=()=>{const t=ct.Promise.resolve(void 0);Dd=()=>{t.then(yq)}};var yq=()=>{for(var t;t=hq();){try{t.h.call(t.g)}catch(n){vq(n)}var e=YR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Id=!1};function xg(t,e){Kn.call(this),this.h=t||1,this.g=e||ct,this.j=Sr(this.qb,this),this.l=Date.now()}Qn(xg,Kn);Ne=xg.prototype;Ne.ga=!1;Ne.T=null;Ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lr(this,"tick"),this.ga&&(K_(this),this.start()))}};Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function K_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ne.N=function(){xg.$.N.call(this),K_(this),delete this.g};function Q_(t,e,n){if(typeof t=="function")n&&(t=Sr(t,n));else if(t&&typeof t.handleEvent=="function")t=Sr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ct.setTimeout(t,e||0)}function KR(t){t.g=Q_(()=>{t.g=null,t.i&&(t.i=!1,KR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wq extends fa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KR(this)}N(){super.N(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pd(t){fa.call(this),this.h=t,this.g={}}Qn(Pd,fa);var HC=[];function QR(t,e,n,r){Array.isArray(n)||(n&&(HC[0]=n.toString()),n=HC);for(var i=0;i<n.length;i++){var s=qR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XR(t){q_(t.g,function(e,n){this.g.hasOwnProperty(n)&&z_(e)},t),t.g={}}Pd.prototype.N=function(){Pd.$.N.call(this),XR(this)};Pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _g(){this.g=!0}_g.prototype.Ea=function(){this.g=!1};function bq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+h+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function xq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function su(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Sq(t,n)+(r?" "+r:"")})}function _q(t,e){t.info(function(){return"TIMEOUT: "+e})}_g.prototype.info=function(){};function Sq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Y_(n)}catch{return e}}var wl={},zC=null;function Sg(){return zC=zC||new Kn}wl.Ta="serverreachability";function JR(t){Er.call(this,wl.Ta,t)}Qn(JR,Er);function Rd(t){const e=Sg();lr(e,new JR(e))}wl.STAT_EVENT="statevent";function ZR(t,e){Er.call(this,wl.STAT_EVENT,t),this.stat=e}Qn(ZR,Er);function Lr(t){const e=Sg();lr(e,new ZR(e,t))}wl.Ua="timingevent";function eM(t,e){Er.call(this,wl.Ua,t),this.size=e}Qn(eM,Er);function uf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){t()},e)}var Eg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function X_(){}X_.prototype.h=null;function WC(t){return t.h||(t.h=t.i())}function nM(){}var cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function J_(){Er.call(this,"d")}Qn(J_,Er);function Z_(){Er.call(this,"c")}Qn(Z_,Er);var yx;function kg(){}Qn(kg,X_);kg.prototype.g=function(){return new XMLHttpRequest};kg.prototype.i=function(){return{}};yx=new kg;function df(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pd(this),this.P=Eq,t=hx?125:void 0,this.V=new xg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rM}function rM(){this.i=null,this.g="",this.h=!1}var Eq=45e3,wx={},om={};Ne=df.prototype;Ne.setTimeout=function(t){this.P=t};function bx(t,e,n){t.L=1,t.v=Cg(to(e)),t.s=n,t.S=!0,iM(t,null)}function iM(t,e){t.G=Date.now(),ff(t),t.A=to(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),fM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new rM,t.g=PM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wq(Sr(t.Pa,t,t.g),t.O)),QR(t.U,t.g,"readystatechange",t.nb),e=t.I?UR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Rd(),bq(t.j,t.u,t.A,t.m,t.W,t.s)}Ne.nb=function(t){t=t.target;const e=this.M;e&&gs(t)==3?e.l():this.Pa(t)};Ne.Pa=function(t){try{if(t==this.g)e:{const c=gs(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||hx||this.g&&(this.h.h||this.g.ja()||QC(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Rd(3):Rd(2)),Tg(this);var n=this.g.da();this.ca=n;t:if(sM(this)){var r=QC(this.g);t="";var i=r.length,s=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){La(this),md(this);var o="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,xq(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Od(a)){var h=a;break t}}h=null}if(n=h)su(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xx(this,n);else{this.i=!1,this.o=3,Lr(12),La(this),md(this);break e}}this.S?(oM(this,c,o),hx&&this.i&&c==3&&(QR(this.U,this.V,"tick",this.mb),this.V.start())):(su(this.j,this.m,o,null),xx(this,o)),c==4&&La(this),this.i&&!this.J&&(c==4?OM(this.l,this):(this.i=!1,ff(this)))}else zq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),La(this),md(this)}}}catch{}finally{}};function sM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function oM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=kq(t,n),i==om){e==4&&(t.o=4,Lr(14),r=!1),su(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wx){t.o=4,Lr(15),su(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else su(t.j,t.m,i,null),xx(t,i);sM(t)&&i!=om&&i!=wx&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Lr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sS(e),e.M=!0,Lr(11))):(su(t.j,t.m,n,"[Invalid Chunked Response]"),La(t),md(t))}Ne.mb=function(){if(this.g){var t=gs(this.g),e=this.g.ja();this.C<e.length&&(Tg(this),oM(this,t,e),this.i&&t!=4&&ff(this))}};function kq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?om:(n=Number(e.substring(n,r)),isNaN(n)?wx:(r+=1,r+n>e.length?om:(e=e.slice(r,r+n),t.C=r+n,e)))}Ne.cancel=function(){this.J=!0,La(this)};function ff(t){t.Y=Date.now()+t.P,aM(t,t.P)}function aM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=uf(Sr(t.lb,t),e)}function Tg(t){t.B&&(ct.clearTimeout(t.B),t.B=null)}Ne.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(_q(this.j,this.A),this.L!=2&&(Rd(),Lr(17)),La(this),this.o=2,md(this)):aM(this,this.Y-t)};function md(t){t.l.H==0||t.J||OM(t.l,t)}function La(t){Tg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,K_(t.V),XR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xx(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_x(n.i,t))){if(!t.K&&_x(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)um(n),Ag(n);else break e;iS(n),Lr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=uf(Sr(n.ib,n),6e3));if(1>=mM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ja(n,11)}else if((t.K||n.g==t)&&um(n),!Od(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const c=h[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=h[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=h[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(eS(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,nn(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IM(r,r.J?r.pa:null,r.Y),o.K){gM(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Tg(a),ff(a)),r.g=o}else CM(r);0<n.j.length&&Dg(n)}else h[0]!="stop"&&h[0]!="close"||ja(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?ja(n,7):rS(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Rd(4)}catch{}}function Tq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(mg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Cq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function lM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(mg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Cq(t),r=Tq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var uM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qa){this.h=t.h,am(this,t.j),this.s=t.s,this.g=t.g,lm(this,t.m),this.l=t.l;var e=t.i,n=new Md;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YC(this,n),this.o=t.o}else t&&(e=String(t).match(uM))?(this.h=!1,am(this,e[1]||"",!0),this.s=rd(e[2]||""),this.g=rd(e[3]||"",!0),lm(this,e[4]),this.l=rd(e[5]||"",!0),YC(this,e[6]||"",!0),this.o=rd(e[7]||"")):(this.h=!1,this.i=new Md(null,this.h))}qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(id(e,GC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(id(e,GC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(id(n,n.charAt(0)=="/"?Dq:Aq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",id(n,Pq)),t.join("")};function to(t){return new qa(t)}function am(t,e,n){t.j=n?rd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YC(t,e,n){e instanceof Md?(t.i=e,Rq(t.i,t.h)):(n||(e=id(e,Iq)),t.i=new Md(e,t.h))}function nn(t,e,n){t.i.set(e,n)}function Cg(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function id(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Oq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GC=/[#\/\?@]/g,Aq=/[#\?:]/g,Dq=/[#\?]/g,Iq=/[#\?@]/g,Pq=/#/g;function Md(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Map,t.h=0,t.i&&Nq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ne=Md.prototype;Ne.add=function(t,e){ha(this),this.i=null,t=Hu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cM(t,e){ha(t),e=Hu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dM(t,e){return ha(t),e=Hu(t,e),t.g.has(e)}Ne.forEach=function(t,e){ha(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ne.ta=function(){ha(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ne.Z=function(t){ha(this);let e=[];if(typeof t=="string")dM(this,t)&&(e=e.concat(this.g.get(Hu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ne.set=function(t,e){return ha(this),this.i=null,t=Hu(this,t),dM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fM(t,e,n){cM(t,e),0<n.length&&(t.i=null,t.g.set(Hu(t,e),U_(n)),t.h+=n.length)}Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Hu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Rq(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cM(this,r),fM(this,i,n))},t)),t.j=e}var Mq=class{constructor(t,e){this.g=t,this.map=e}};function hM(t){this.l=t||Lq,ct.PerformanceNavigationTiming?(t=ct.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ct.g&&ct.g.Ka&&ct.g.Ka()&&ct.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lq=10;function pM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mM(t){return t.h?1:t.g?t.g.size:0}function _x(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function eS(t,e){t.g?t.g.add(e):t.h=e}function gM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hM.prototype.cancel=function(){if(this.i=vM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function vM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return U_(t.i)}var jq=class{stringify(t){return ct.JSON.stringify(t,void 0)}parse(t){return ct.JSON.parse(t,void 0)}};function Fq(){this.g=new jq}function $q(t,e,n){const r=n||"";try{lM(t,function(i,s){let o=i;gg(i)&&(o=Y_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bq(t,e){const n=new _g;if(ct.Image){const r=new Image;r.onload=Kh(Xh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Kh(Xh,n,r,"TestLoadImage: error",!1,e),r.onabort=Kh(Xh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kh(Xh,n,r,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hf(t){this.l=t.fc||null,this.j=t.ob||!1}Qn(hf,X_);hf.prototype.g=function(){return new Ng(this.l,this.j)};hf.prototype.i=function(t){return function(){return t}}({});function Ng(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qn(Ng,Kn);var tS=0;Ne=Ng.prototype;Ne.open=function(t,e){if(this.readyState!=tS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ld(this)};Ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ct).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pf(this)),this.readyState=tS};Ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ld(this)),this.g&&(this.readyState=3,Ld(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ct.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pf(this):Ld(this),this.readyState==3&&yM(this)}};Ne.Za=function(t){this.g&&(this.response=this.responseText=t,pf(this))};Ne.Ya=function(t){this.g&&(this.response=t,pf(this))};Ne.ka=function(){this.g&&pf(this)};function pf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ld(t)}Ne.setRequestHeader=function(t,e){this.v.append(t,e)};Ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ld(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Uq=ct.JSON.parse;function xn(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wM,this.L=this.M=!1}Qn(xn,Kn);var wM="",Vq=/^https?$/i,qq=["POST","PUT"];Ne=xn.prototype;Ne.Oa=function(t){this.M=t};Ne.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yx.g(),this.C=this.u?WC(this.u):WC(yx),this.g.onreadystatechange=Sr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){KC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ct.FormData&&t instanceof ct.FormData,!(0<=jR(qq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_M(this),0<this.B&&((this.L=Hq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.ua,this)):this.A=Q_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KC(this,s)}};function Hq(t){return _u&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ne.ua=function(){typeof B_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))};function KC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bM(t),Og(t)}function bM(t){t.F||(t.F=!0,lr(t,"complete"),lr(t,"error"))}Ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lr(this,"complete"),lr(this,"abort"),Og(this))};Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Og(this,!0)),xn.$.N.call(this)};Ne.La=function(){this.s||(this.G||this.v||this.l?xM(this):this.kb())};Ne.kb=function(){xM(this)};function xM(t){if(t.h&&typeof B_<"u"&&(!t.C[1]||gs(t)!=4||t.da()!=2)){if(t.v&&gs(t)==4)Q_(t.La,0,t);else if(lr(t,"readystatechange"),gs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(uM)[1]||null;!i&&ct.self&&ct.self.location&&(i=ct.self.location.protocol.slice(0,-1)),r=!Vq.test(i?i.toLowerCase():"")}n=r}if(n)lr(t,"complete"),lr(t,"success");else{t.m=6;try{var s=2<gs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bM(t)}}finally{Og(t)}}}}function Og(t,e){if(t.g){_M(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lr(t,"ready");try{n.onreadystatechange=r}catch{}}}function _M(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ct.clearTimeout(t.A),t.A=null)}Ne.isActive=function(){return!!this.g};function gs(t){return t.g?t.g.readyState:0}Ne.da=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}};Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Uq(e)}};function QC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zq(t){const e={};t=(t.g&&2<=gs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Od(t[r]))continue;var n=gq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}lq(e,function(r){return r.join(", ")})}Ne.Ia=function(){return this.m};Ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SM(t){let e="";return q_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function nS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):nn(t,e,n))}function Uc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function EM(t){this.Ga=0,this.j=[],this.l=new _g,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uc("baseRetryDelayMs",5e3,t),this.hb=Uc("retryDelaySeedMs",1e4,t),this.eb=Uc("forwardChannelMaxRetries",2,t),this.xa=Uc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hM(t&&t.concurrentRequestLimit),this.Ja=new Fq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ne=EM.prototype;Ne.ra=8;Ne.H=1;function rS(t){if(kM(t),t.H==3){var e=t.W++,n=to(t.I);if(nn(n,"SID",t.K),nn(n,"RID",e),nn(n,"TYPE","terminate"),mf(t,n),e=new df(t,t.l,e),e.L=2,e.v=Cg(to(n)),n=!1,ct.navigator&&ct.navigator.sendBeacon)try{n=ct.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ct.Image&&(new Image().src=e.v,n=!0),n||(e.g=PM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ff(e)}DM(t)}function Ag(t){t.g&&(sS(t),t.g.cancel(),t.g=null)}function kM(t){Ag(t),t.u&&(ct.clearTimeout(t.u),t.u=null),um(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ct.clearTimeout(t.m),t.m=null)}function Dg(t){if(!pM(t.i)&&!t.m){t.m=!0;var e=t.Na;Dd||GR(),Id||(Dd(),Id=!0),G_.add(e,t),t.C=0}}function Wq(t,e){return mM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=uf(Sr(t.Na,t,e),AM(t,t.C)),t.C++,!0)}Ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new df(this,this.l,t);let s=this.s;if(this.U&&(s?(s=UR(s),VR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TM(this,i,e),n=to(this.I),nn(n,"RID",t),nn(n,"CVER",22),this.F&&nn(n,"X-HTTP-Session-Id",this.F),mf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(SM(s)))+"&"+e:this.o&&nS(n,this.o,s)),eS(this.i,i),this.bb&&nn(n,"TYPE","init"),this.P?(nn(n,"$req",e),nn(n,"SID","null"),i.aa=!0,bx(i,n,null)):bx(i,n,e),this.H=2}}else this.H==3&&(t?XC(this,t):this.j.length==0||pM(this.i)||XC(this))};function XC(t,e){var n;e?n=e.m:n=t.W++;const r=to(t.I);nn(r,"SID",t.K),nn(r,"RID",n),nn(r,"AID",t.V),mf(t,r),t.o&&t.s&&nS(r,t.o,t.s),n=new df(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=TM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),eS(t.i,n),bx(n,r,e)}function mf(t,e){t.na&&q_(t.na,function(n,r){nn(e,r,n)}),t.h&&lM({},function(n,r){nn(e,r,n)})}function TM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Sr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let h=i[l].g;const c=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),a=!1;else try{$q(c,o,"req"+h+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dd||GR(),Id||(Dd(),Id=!0),G_.add(e,t),t.A=0}}function iS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=uf(Sr(t.Ma,t),AM(t,t.A)),t.A++,!0)}Ne.Ma=function(){if(this.u=null,NM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=uf(Sr(this.jb,this),t)}};Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lr(10),Ag(this),NM(this))};function sS(t){t.B!=null&&(ct.clearTimeout(t.B),t.B=null)}function NM(t){t.g=new df(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=to(t.wa);nn(e,"RID","rpc"),nn(e,"SID",t.K),nn(e,"AID",t.V),nn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&nn(e,"TO",t.qa),nn(e,"TYPE","xmlhttp"),mf(t,e),t.o&&t.s&&nS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Cg(to(e)),n.s=null,n.S=!0,iM(n,t)}Ne.ib=function(){this.v!=null&&(this.v=null,Ag(this),iS(this),Lr(19))};function um(t){t.v!=null&&(ct.clearTimeout(t.v),t.v=null)}function OM(t,e){var n=null;if(t.g==e){um(t),sS(t),t.g=null;var r=2}else if(_x(t.i,e))n=e.F,gM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Sg(),lr(r,new eM(r,n)),Dg(t)}else CM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Wq(t,e)||r==2&&iS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ja(t,5);break;case 4:ja(t,10);break;case 3:ja(t,6);break;default:ja(t,2)}}}function AM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ja(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Sr(t.pb,t);n||(n=new qa("//www.google.com/images/cleardot.gif"),ct.location&&ct.location.protocol=="http"||am(n,"https"),Cg(n)),Bq(n.toString(),r)}else Lr(2);t.H=0,t.h&&t.h.za(e),DM(t),kM(t)}Ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Lr(2)):(this.l.info("Failed to ping google.com"),Lr(1))};function DM(t){if(t.H=0,t.ma=[],t.h){const e=vM(t.i);(e.length!=0||t.j.length!=0)&&(UC(t.ma,e),UC(t.ma,t.j),t.i.i.length=0,U_(t.j),t.j.length=0),t.h.ya()}}function IM(t,e,n){var r=n instanceof qa?to(n):new qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),lm(r,r.m);else{var i=ct.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qa(null);r&&am(s,r),e&&(s.g=e),i&&lm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&nn(r,n,e),nn(r,"VER",t.ra),mf(t,r),r}function PM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xn(new hf({ob:!0})):new xn(t.va),e.Oa(t.J),e}Ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function RM(){}Ne=RM.prototype;Ne.Ba=function(){};Ne.Aa=function(){};Ne.za=function(){};Ne.ya=function(){};Ne.isActive=function(){return!0};Ne.Va=function(){};function cm(){if(_u&&!(10<=Number(iq)))throw Error("Environmental error: no available transport.")}cm.prototype.g=function(t,e){return new gi(t,e)};function gi(t,e){Kn.call(this),this.g=new EM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Od(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Od(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zu(this)}Qn(gi,Kn);gi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Lr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IM(t,null,t.Y),Dg(t)};gi.prototype.close=function(){rS(this.g)};gi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Y_(t),t=n);e.j.push(new Mq(e.fb++,t)),e.H==3&&Dg(e)};gi.prototype.N=function(){this.g.h=null,delete this.j,rS(this.g),delete this.g,gi.$.N.call(this)};function MM(t){J_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qn(MM,J_);function LM(){Z_.call(this),this.status=1}Qn(LM,Z_);function zu(t){this.g=t}Qn(zu,RM);zu.prototype.Ba=function(){lr(this.g,"a")};zu.prototype.Aa=function(t){lr(this.g,new MM(t))};zu.prototype.za=function(t){lr(this.g,new LM)};zu.prototype.ya=function(){lr(this.g,"b")};function Yq(){this.blockSize=-1}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Qn(Gi,Yq);Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function U0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Gi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)U0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){U0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){U0(this,r),i=0;break}}this.h=i,this.i+=e};Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function qt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Gq={};function oS(t){return-128<=t&&128>t?tq(t,function(e){return new qt([e|0],0>e?-1:0)}):new qt([t|0],0>t?-1:0)}function vs(t){if(isNaN(t)||!isFinite(t))return uu;if(0>t)return or(vs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sx;return new qt(e,0)}function jM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return or(jM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vs(Math.pow(e,8)),r=uu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vs(Math.pow(e,s)),r=r.R(s).add(vs(o))):(r=r.R(n),r=r.add(vs(o)))}return r}var Sx=4294967296,uu=oS(0),Ex=oS(1),JC=oS(16777216);Ne=qt.prototype;Ne.ea=function(){if(Ci(this))return-or(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sx+r)*e,e*=Sx}return t};Ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Ci(this))return"-"+or(this).toString(t);for(var e=vs(Math.pow(t,6)),n=this,r="";;){var i=fm(n,e).g;n=dm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ci(t){return t.h==-1}Ne.X=function(t){return t=dm(this,t),Ci(t)?-1:zs(t)?0:1};function or(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new qt(n,~t.h).add(Ex)}Ne.abs=function(){return Ci(this)?or(this):this};Ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new qt(n,n[n.length-1]&-2147483648?-1:0)};function dm(t,e){return t.add(or(e))}Ne.R=function(t){if(zs(this)||zs(t))return uu;if(Ci(this))return Ci(t)?or(this).R(or(t)):or(or(this).R(t));if(Ci(t))return or(this.R(or(t)));if(0>this.X(JC)&&0>t.X(JC))return vs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Jh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Jh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Jh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Jh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new qt(n,0)};function Jh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Vc(t,e){this.g=t,this.h=e}function fm(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new Vc(uu,uu);if(Ci(t))return e=fm(or(t),e),new Vc(or(e.g),or(e.h));if(Ci(e))return e=fm(t,or(e)),new Vc(or(e.g),e.h);if(30<t.g.length){if(Ci(t)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ex,r=e;0>=r.X(t);)n=ZC(n),r=ZC(r);var i=Kl(n,1),s=Kl(r,1);for(r=Kl(r,2),n=Kl(n,2);!zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Kl(r,1),n=Kl(n,1)}return e=dm(t,i.R(e)),new Vc(i,e)}for(i=uu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=vs(n),o=s.R(e);Ci(o)||0<o.X(t);)n-=r,s=vs(n),o=s.R(e);zs(s)&&(s=Ex),i=i.add(s),t=dm(t,o)}return new Vc(i,t)}Ne.gb=function(t){return fm(this,t).h};Ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new qt(n,this.h&t.h)};Ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new qt(n,this.h|t.h)};Ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new qt(n,this.h^t.h)};function ZC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new qt(n,t.h)}function Kl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new qt(i,t.h)}cm.prototype.createWebChannel=cm.prototype.g;gi.prototype.send=gi.prototype.u;gi.prototype.open=gi.prototype.m;gi.prototype.close=gi.prototype.close;Eg.NO_ERROR=0;Eg.TIMEOUT=8;Eg.HTTP_ERROR=6;tM.COMPLETE="complete";nM.EventType=cf;cf.OPEN="a";cf.CLOSE="b";cf.ERROR="c";cf.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;xn.prototype.listenOnce=xn.prototype.P;xn.prototype.getLastError=xn.prototype.Sa;xn.prototype.getLastErrorCode=xn.prototype.Ia;xn.prototype.getStatus=xn.prototype.da;xn.prototype.getResponseJson=xn.prototype.Wa;xn.prototype.getResponseText=xn.prototype.ja;xn.prototype.send=xn.prototype.ha;xn.prototype.setWithCredentials=xn.prototype.Oa;Gi.prototype.digest=Gi.prototype.l;Gi.prototype.reset=Gi.prototype.reset;Gi.prototype.update=Gi.prototype.j;qt.prototype.add=qt.prototype.add;qt.prototype.multiply=qt.prototype.R;qt.prototype.modulo=qt.prototype.gb;qt.prototype.compare=qt.prototype.X;qt.prototype.toNumber=qt.prototype.ea;qt.prototype.toString=qt.prototype.toString;qt.prototype.getBits=qt.prototype.D;qt.fromNumber=vs;qt.fromString=jM;var Kq=function(){return new cm},Qq=function(){return Sg()},V0=Eg,Xq=tM,Jq=wl,eN={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zq=hf,Zh=nM,e7=xn,t7=Gi,cu=qt;const tN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new O_("@firebase/firestore");function nN(){return Za.logLevel}function We(t,...e){if(Za.logLevel<=Ot.DEBUG){const n=e.map(aS);Za.debug(`Firestore (${Wu}): ${t}`,...n)}}function no(t,...e){if(Za.logLevel<=Ot.ERROR){const n=e.map(aS);Za.error(`Firestore (${Wu}): ${t}`,...n)}}function Su(t,...e){if(Za.logLevel<=Ot.WARN){const n=e.map(aS);Za.warn(`Firestore (${Wu}): ${t}`,...n)}}function aS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t="Unexpected state"){const e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+t;throw no(e),new Error(e)}function an(t,e){t||ut()}function mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vr.UNAUTHENTICATED))}shutdown(){}}let r7=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class i7{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ha,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ha)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an(typeof r.accessToken=="string"),new FM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(e===null||typeof e=="string"),new vr(e)}}class s7{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class o7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new s7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l7{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(an(typeof n.token=="string"),this.T=n.token,new a7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function Eu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ht(e)}static min(){return new ht(new qn(0,0))}static max(){return new ht(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rn extends jd{construct(e,n,r){return new rn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rn(n)}static emptyPath(){return new rn([])}}const c7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends jd{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return c7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(rn.fromString(e))}static fromName(e){return new Ke(rn.fromString(e).popFirst(5))}static empty(){return new Ke(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new rn(e.slice()))}}function d7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ht.fromTimestamp(r===1e9?new qn(n+1,0):new qn(n,r));return new ea(i,Ke.empty(),e)}function f7(t){return new ea(t.readTime,t.key,-1)}class ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ea(ht.min(),Ke.empty(),-1)}static max(){return new ea(ht.max(),Ke.empty(),-1)}}function h7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==p7)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(c=>{o[h]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}lS.ct=-1;function Ig(t){return t==null}function hm(t){return t===0&&1/t==-1/0}function g7(t){return typeof t=="number"&&Number.isInteger(t)&&!hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ep(this.root,e,this.comparator,!0)}}class ep{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=s??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ir(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iN(this.data.getIterator())}getIteratorFrom(e){return new iN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class iN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new di([])}unionWith(e){let n=new kr(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UM("Invalid base64 string: "+i):i}}(e);return new Cr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const v7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(an(!!t),typeof t=="string"){let e=0;const n=v7.exec(t);if(an(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function el(t){return typeof t=="string"?Cr.fromBase64String(t):Cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cS(t){const e=t.mapValue.fields.__previous_value__;return uS(e)?cS(e):e}function Fd(t){const e=ta(t.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class $d{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp={mapValue:{}};function tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uS(t)?4:w7(t)?9007199254740991:10:ut()}function Ns(t,e){if(t===e)return!0;const n=tl(t);if(n!==tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ta(r.timestampValue),o=ta(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return el(r.bytesValue).isEqual(el(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Rn(r.geoPointValue.latitude)===Rn(i.geoPointValue.latitude)&&Rn(r.geoPointValue.longitude)===Rn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Rn(r.integerValue)===Rn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Rn(r.doubleValue),o=Rn(i.doubleValue);return s===o?hm(s)===hm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Eu(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(rN(s)!==rN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ns(s[a],o[a])))return!1;return!0}(t,e);default:return ut()}}function Bd(t,e){return(t.values||[]).find(n=>Ns(n,e))!==void 0}function ku(t,e){if(t===e)return 0;const n=tl(t),r=tl(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Rn(i.integerValue||i.doubleValue),a=Rn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return sN(t.timestampValue,e.timestampValue);case 4:return sN(Fd(t),Fd(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(i,s){const o=el(i),a=el(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const h=It(o[l],a[l]);if(h!==0)return h}return It(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=It(Rn(i.latitude),Rn(s.latitude));return o!==0?o:It(Rn(i.longitude),Rn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const h=ku(o[l],a[l]);if(h)return h}return It(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===tp.mapValue&&s===tp.mapValue)return 0;if(i===tp.mapValue)return 1;if(s===tp.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let c=0;c<a.length&&c<h.length;++c){const f=It(a[c],h[c]);if(f!==0)return f;const p=ku(o[a[c]],l[h[c]]);if(p!==0)return p}return It(a.length,h.length)}(t.mapValue,e.mapValue);default:throw ut()}}function sN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=ta(t),r=ta(e),i=It(n.seconds,r.seconds);return i!==0?i:It(n.nanos,r.nanos)}function Tu(t){return kx(t)}function kx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ta(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?el(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ke.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=kx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${kx(r.fields[a])}`;return s+"}"}(t.mapValue):ut();var e,n}function oN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tx(t){return!!t&&"integerValue"in t}function dS(t){return!!t&&"arrayValue"in t}function aN(t){return!!t&&"nullValue"in t}function lN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dp(t){return!!t&&"mapValue"in t}function gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zr(gd(this.value))}}function VM(t){const e=[];return bl(t.fields,(n,r)=>{const i=new wr([n]);if(Dp(r)){const s=VM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,ht.min(),ht.min(),ht.min(),Zr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,ht.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,ht.min(),ht.min(),Zr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,ht.min(),ht.min(),Zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.position=e,this.inclusive=n}}function uN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ke.comparator(Ke.fromName(o.referenceValue),n.key):r=ku(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function b7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class Ln extends qM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _7(e,n,r):n==="array-contains"?new k7(e,r):n==="in"?new T7(e,r):n==="not-in"?new C7(e,r):n==="array-contains-any"?new N7(e,r):new Ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S7(e,r):new E7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ku(n,this.value)):n!==null&&tl(this.value)===tl(n)&&this.matchesComparison(ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ki extends qM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ki(e,n)}matches(e){return HM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function HM(t){return t.op==="and"}function zM(t){return x7(t)&&HM(t)}function x7(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function Cx(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(zM(t))return t.filters.map(e=>Cx(e)).join(",");{const e=t.filters.map(n=>Cx(n)).join(",");return`${t.op}(${e})`}}function WM(t,e){return t instanceof Ln?function(n,r){return r instanceof Ln&&n.op===r.op&&n.field.isEqual(r.field)&&Ns(n.value,r.value)}(t,e):t instanceof Ki?function(n,r){return r instanceof Ki&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&WM(s,r.filters[o]),!0):!1}(t,e):void ut()}function YM(t){return t instanceof Ln?function(e){return`${e.field.canonicalString()} ${e.op} ${Tu(e.value)}`}(t):t instanceof Ki?function(e){return e.op.toString()+" {"+e.getFilters().map(YM).join(" ,")+"}"}(t):"Filter"}class _7 extends Ln{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class S7 extends Ln{constructor(e,n){super(e,"in",n),this.keys=GM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E7 extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=GM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class k7 extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dS(n)&&Bd(n.arrayValue,this.value)}}class T7 extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bd(this.value.arrayValue,n)}}class C7 extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bd(this.value.arrayValue,n)}}class N7 extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function dN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new O7(t,e,n,r,i,s,o)}function fS(t){const e=mt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),e.dt=n}return e.dt}function hS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cN(t.startAt,e.startAt)&&cN(t.endAt,e.endAt)}function Nx(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function A7(t,e,n,r,i,s,o,a){return new Yu(t,e,n,r,i,s,o,a)}function pS(t){return new Yu(t)}function fN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function KM(t){return t.collectionGroup!==null}function fu(t){const e=mt(t);if(e.wt===null){e.wt=[];const n=Pg(e),r=mS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new du(n)),e.wt.push(new du(wr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new du(wr.keyField(),s))}}}return e.wt}function ro(t){const e=mt(t);if(!e._t)if(e.limitType==="F")e._t=dN(e.path,e.collectionGroup,fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new du(s.field,o))}const r=e.endAt?new pm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pm(e.startAt.position,e.startAt.inclusive):null;e._t=dN(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ox(t,e){e.getFirstInequalityField(),Pg(t);const n=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ax(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rg(t,e){return hS(ro(t),ro(e))&&t.limitType===e.limitType}function QM(t){return`${fS(ro(t))}|lt:${t.limitType}`}function Dx(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>YM(r)).join(", ")}]`),Ig(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),`Target(${n})`}(ro(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ke.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of fu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=uN(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fu(n),r)||n.endAt&&!function(i,s,o){const a=uN(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fu(n),r))}(t,e)}function D7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XM(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const s=I7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I7(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ku(a,l):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=new gn(Ke.comparator);function io(){return P7}const JM=new gn(Ke.comparator);function sd(...t){let e=JM;for(const n of t)e=e.insert(n.key,n);return e}function ZM(t){let e=JM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return vd()}function eL(){return vd()}function vd(){return new Gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const R7=new gn(Ke.comparator),M7=new kr(Ke.comparator);function bt(...t){let e=M7;for(const n of t)e=e.add(n);return e}const L7=new kr(It);function j7(){return L7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(e)?"-0":e}}function nL(t){return{integerValue:""+t}}function F7(t,e){return g7(e)?nL(e):tL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this._=void 0}}function $7(t,e,n){return t instanceof mm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&uS(i)&&(i=cS(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ud?iL(t,e):t instanceof Vd?sL(t,e):function(r,i){const s=rL(r,i),o=hN(s)+hN(r.gt);return Tx(s)&&Tx(r.gt)?nL(o):tL(r.serializer,o)}(t,e)}function B7(t,e,n){return t instanceof Ud?iL(t,e):t instanceof Vd?sL(t,e):n}function rL(t,e){return t instanceof gm?Tx(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class mm extends Lg{}class Ud extends Lg{constructor(e){super(),this.elements=e}}function iL(t,e){const n=oL(e);for(const r of t.elements)n.some(i=>Ns(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vd extends Lg{constructor(e){super(),this.elements=e}}function sL(t,e){let n=oL(e);for(const r of t.elements)n=n.filter(i=>!Ns(i,r));return{arrayValue:{values:n}}}class gm extends Lg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function hN(t){return Rn(t.integerValue||t.doubleValue)}function oL(t){return dS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U7(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ud&&r instanceof Ud||n instanceof Vd&&r instanceof Vd?Eu(n.elements,r.elements,Ns):n instanceof gm&&r instanceof gm?Ns(n.gt,r.gt):n instanceof mm&&r instanceof mm}(t.transform,e.transform)}class V7{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jg{}function aL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gS(t.key,qi.none()):new yf(t.key,t.data,qi.none());{const n=t.data,r=Zr.empty();let i=new kr(wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pa(t.key,r,new di(i.toArray()),qi.none())}}function q7(t,e,n){t instanceof yf?function(r,i,s){const o=r.value.clone(),a=mN(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(r,i,s){if(!Ip(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mN(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(lL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yd(t,e,n,r){return t instanceof yf?function(i,s,o,a){if(!Ip(i.precondition,s))return o;const l=i.value.clone(),h=gN(i.fieldTransforms,a,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(i,s,o,a){if(!Ip(i.precondition,s))return o;const l=gN(i.fieldTransforms,a,s),h=s.data;return h.setAll(lL(i)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Ip(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function H7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rL(r.transform,i||null);s!=null&&(n===null&&(n=Zr.empty()),n.set(r.field,s))}return n||null}function pN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Eu(n,r,(i,s)=>U7(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends jg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pa extends jg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mN(t,e,n){const r=new Map;an(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,B7(o,a,n[i]))}return r}function gN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$7(s,o,e))}return r}class gS extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z7 extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=aL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ht.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),bt())}isEqual(e){return this.batchId===e.batchId&&Eu(this.mutations,e.mutations,(n,r)=>pN(n,r))&&Eu(this.baseMutations,e.baseMutations,(n,r)=>pN(n,r))}}class vS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){an(e.mutations.length===r.length);let i=R7;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,xt;function K7(t){switch(t){default:return ut();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function uL(t){if(t===void 0)return no("GRPC error has no .code"),me.UNKNOWN;switch(t){case Pn.OK:return me.OK;case Pn.CANCELLED:return me.CANCELLED;case Pn.UNKNOWN:return me.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return me.INTERNAL;case Pn.UNAVAILABLE:return me.UNAVAILABLE;case Pn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Pn.NOT_FOUND:return me.NOT_FOUND;case Pn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Pn.ABORTED:return me.ABORTED;case Pn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Pn.DATA_LOSS:return me.DATA_LOSS;default:return ut()}}(xt=Pn||(Pn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return np}static getOrCreateInstance(){return np===null&&(np=new yS),np}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let np=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new cu([4294967295,4294967295],0);function vN(t){const e=Q7().encode(t),n=new t7;return n.update(e),new Uint8Array(n.digest())}function yN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cu([n,r],0),new cu([i,s],0)]}class wS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new od(`Invalid padding: ${n}`);if(r<0)throw new od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new od(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=cu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(cu.fromNumber(r)));return i.compare(X7)===1&&(i=new cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=vN(e),[r,i]=yN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=vN(e),[r,i]=yN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fg(ht.min(),i,new gn(It),io(),bt())}}class wf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class cL{constructor(e,n){this.targetId=e,this.Vt=n}}class dL{constructor(e,n,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wN{constructor(){this.St=0,this.Dt=xN(),this.Ct=Cr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=bt(),n=bt(),r=bt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new wf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=xN()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class J7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=io(),this.zt=bN(),this.Wt=new gn(It)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ut()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Nx(o))if(i===0){const a=new Ke(o.path);this.Yt(r,a,yr.newNoDocument(a,ht.min()))}else an(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,h)}(n=yS.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,c,f){var p,m,g,y,w,b;const x={localCacheCount:c,existenceFilterCount:f.count},E=f.unchangedNames;return E&&(x.bloomFilter={applied:h===0,hashCount:(p=E==null?void 0:E.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(g=(m=E==null?void 0:E.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0,padding:(b=(w=E==null?void 0:E.bits)===null||w===void 0?void 0:w.padding)!==null&&b!==void 0?b:0}),x}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,h;try{l=el(s).toUint8Array()}catch(c){if(c instanceof UM)return Su("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{h=new wS(l,o,a)}catch(c){return Su(c instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return h.It===0?1:i!==n-this.oe(e.targetId,h)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Nx(a.target)){const l=new Ke(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,yr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=bt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.se(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Fg(e,n,this.Wt,this.jt,r);return this.jt=io(),this.zt=bN(),this.Wt=new gn(It),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new wN,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new kr(It),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wN),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function bN(){return new gn(Ke.comparator)}function xN(){return new gn(Ke.comparator)}const Z7={asc:"ASCENDING",desc:"DESCENDING"},eH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tH={and:"AND",or:"OR"};class nH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ix(t,e){return t.useProto3Json||Ig(e)?e:{value:e}}function vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rH(t,e){return vm(t,e.toTimestamp())}function Ss(t){return an(!!t),ht.fromTimestamp(function(e){const n=ta(e);return new qn(n.seconds,n.nanos)}(t))}function bS(t,e){return function(n){return new rn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function hL(t){const e=rn.fromString(t);return an(vL(e)),e}function Px(t,e){return bS(t.databaseId,e.path)}function q0(t,e){const n=hL(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(pL(n))}function Rx(t,e){return bS(t.databaseId,e)}function iH(t){const e=hL(t);return e.length===4?rn.emptyPath():pL(e)}function Mx(t){return new rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pL(t){return an(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _N(t,e,n){return{name:Px(t,e),fields:n.value.mapValue.fields}}function sH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(an(h===void 0||typeof h=="string"),Cr.fromBase64String(h||"")):(an(h===void 0||h instanceof Uint8Array),Cr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?me.UNKNOWN:uL(l.code);return new Fe(h,l.message||"")}(o);n=new dL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=q0(t,r.document.name),s=Ss(r.document.updateTime),o=r.document.createTime?Ss(r.document.createTime):ht.min(),a=new Zr({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),h=r.targetIds||[],c=r.removedTargetIds||[];n=new Pp(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=q0(t,r.document),s=r.readTime?Ss(r.readTime):ht.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=q0(t,r.document),s=r.removedTargetIds||[];n=new Pp([],s,i,null)}else{if(!("filter"in e))return ut();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new G7(i,s),a=r.targetId;n=new cL(a,o)}}return n}function oH(t,e){let n;if(e instanceof yf)n={update:_N(t,e.key,e.value)};else if(e instanceof gS)n={delete:Px(t,e.key)};else if(e instanceof pa)n={update:_N(t,e.key,e.data),updateMask:mH(e.fieldMask)};else{if(!(e instanceof z7))return ut();n={verify:Px(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ud)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ut()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ut()}(t,e.precondition)),n}function aH(t,e){return t&&t.length>0?(an(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ss(r.updateTime):Ss(i);return s.isEqual(ht.min())&&(s=Ss(i)),new V7(s,r.transformResults||[])}(n,e))):[]}function lH(t,e){return{documents:[Rx(t,e.path)]}}function uH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Rx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return gL(Ki.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(c){return{field:eu(c.field),direction:fH(c.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ix(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function cH(t){let e=iH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){an(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=mL(c);return f instanceof Ki&&zM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new du(tu(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Ig(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,p=c.values||[];return new pm(p,f)}(n.startAt));let h=null;return n.endAt&&(h=function(c){const f=!c.before,p=c.values||[];return new pm(p,f)}(n.endAt)),A7(e,i,o,s,a,"F",l,h)}function dH(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=tu(e.unaryFilter.field);return Ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=tu(e.unaryFilter.field);return Ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tu(e.unaryFilter.field);return Ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(e.unaryFilter.field);return Ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(t):t.fieldFilter!==void 0?function(e){return Ln.create(tu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ki.create(e.compositeFilter.filters.map(n=>mL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(t):ut()}function fH(t){return Z7[t]}function hH(t){return eH[t]}function pH(t){return tH[t]}function eu(t){return{fieldPath:t.canonicalString()}}function tu(t){return wr.fromServerFormat(t.fieldPath)}function gL(t){return t instanceof Ln?function(e){if(e.op==="=="){if(lN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NAN"}};if(aN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NAN"}};if(aN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(e.field),op:hH(e.op),value:e.value}}}(t):t instanceof Ki?function(e){const n=e.getFilters().map(r=>gL(r));return n.length===1?n[0]:{compositeFilter:{op:pH(e.op),filters:n}}}(t):ut()}function mH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r,i,s=ht.min(),o=ht.min(),a=Cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.fe=e}}function vH(t){const e=cH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ax(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.rn=new wH}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(ea.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class wH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(rn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cu(0)}static Mn(){return new Cu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.changes=new Gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _H=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yd(r.mutation,i,di.empty(),qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,bt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=bt()){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,bt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=io();const o=vd(),a=vd();return n.forEach((l,h)=>{const c=r.get(h.key);i.has(h.key)&&(c===void 0||c.mutation instanceof pa)?s=s.insert(h.key,h):c!==void 0?(o.set(h.key,c.mutation.getFieldMask()),yd(c.mutation,h,c.mutation.getFieldMask(),qn.now())):o.set(h.key,di.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,c)=>o.set(h,c)),n.forEach((h,c)=>{var f;return a.set(h,new xH(c,(f=o.get(h))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vd();let i=new gn((o,a)=>o-a),s=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let c=r.get(l)||di.empty();c=a.applyToLocalView(h,c),r.set(l,c);const f=(i.get(a.batchId)||bt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,c=l.value,f=eL();c.forEach(p=>{if(!s.has(p)){const m=aL(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ke.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Se.resolve(Fa());let a=-1,l=s;return o.next(h=>Se.forEach(h,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Se.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,bt())).next(c=>({batchId:a,changes:ZM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=sd();return this.indexManager.getCollectionParents(e,i).next(o=>Se.forEach(o,a=>{const l=function(h,c){return new Yu(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,yr.newInvalidDocument(h)))});let o=sd();return s.forEach((a,l)=>{const h=i.get(a);h!==void 0&&yd(h.mutation,l,di.empty(),qn.now()),Mg(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ss(r.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:vH(r.bundledQuery),readTime:Ss(r.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.overlays=new gn(Ke.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return Se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,o=new Ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gn((h,c)=>h-c);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let c=s.get(h.largestBatchId);c===null&&(c=Fa(),s=s.insert(h.largestBatchId,c)),c.set(h.getKey(),h)}}const a=Fa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,c)=>a.set(h,c)),!(a.size()>=i)););return Se.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y7(n,r));let s=this.ls.get(n);s===void 0&&(s=bt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.fs=new kr(Gn.ds),this.ws=new kr(Gn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Gn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ke(new rn([])),r=new Gn(n,e),i=new Gn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ke(new rn([])),r=new Gn(n,e),i=new Gn(n,e+1);let s=bt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ke.comparator(e.key,n.key)||It(e.As,n.As)}static _s(e,n){return It(e.As,n.As)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new kr(Gn.ds)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(It);return n.forEach(i=>{const s=new Gn(i,0),o=new Gn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ke.isDocumentKey(s)||(s=s.child(""));const o=new Gn(new Ke(s),0);let a=new kr(It);return this.Rs.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.As)),!0)},o),Se.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){an(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Se.forEach(n.mutations,i=>{const s=new Gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Rs.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.Ds=e,this.docs=new gn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=io();const o=n.path,a=new Ke(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:c}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||h7(f7(c),r)<=0||(i.has(c.key)||Mg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ut()}Cs(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CH(this)}getSize(e){return Se.resolve(this.size)}}class CH extends bH{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.persistence=e,this.xs=new Gu(n=>fS(n),hS),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Ns=0,this.ks=new xS,this.targetCount=0,this.Ms=Cu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.$s={},this.overlays={},this.Os=new lS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new NH(this),this.indexManager=new yH,this.remoteDocumentCache=function(r){return new TH(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new gH(n),this.qs=new SH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new kH(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new AH(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class AH extends m7{constructor(e){super(),this.currentSequenceNumber=e}}class _S{constructor(e){this.persistence=e,this.Qs=new xS,this.js=null}static zs(e){return new _S(e)}get Ws(){if(this.js)return this.js;throw ut()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,r=>{const i=Ke.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ht.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=bt(),i=bt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new SS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(fN(n))return Se.resolve(null);let r=ro(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ax(n,null,"F"),r=ro(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=bt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ji(n,a);return this.zi(n,h,o,l.readTime)?this.Ki(e,Ax(n,null,"F")):this.Wi(e,h,n,l)}))})))}Gi(e,n,r,i){return fN(n)||i.isEqual(ht.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(nN()<=Ot.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dx(n)),this.Wi(e,o,n,d7(i,-1)))})}ji(e,n){let r=new kr(XM(e));return n.forEach((i,s)=>{Mg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return nN()<=Ot.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Dx(n)),this.Ui.getDocumentsMatchingQuery(e,n,ea.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new gn(It),this.Yi=new Gu(s=>fS(s),hS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _H(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function PH(t,e,n,r){return new IH(t,e,n,r)}async function yL(t,e){const n=mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=bt();for(const h of i){o.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}for(const h of s){a.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(h=>({er:h,removedBatchIds:o,addedBatchIds:a}))})})}function RH(t,e){const n=mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,h){const c=l.batch,f=c.keys();let p=Se.resolve();return f.forEach(m=>{p=p.next(()=>h.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);an(y!==null),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),h.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=bt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wL(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function MH(t,e){const n=mt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Cr.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Bs.updateTargetData(s,m))});let l=io(),h=bt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(LH(s,o,e.documentUpdates).next(c=>{l=c.nr,h=c.sr})),!r.isEqual(ht.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function LH(t,e,n){let r=bt(),i=bt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=io();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ht.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):We("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{nr:o,sr:i}})}function jH(t,e){const n=mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FH(t,e){const n=mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Lx(t,e,n){const r=mt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vf(o))throw o;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function SN(t,e,n){const r=mt(t);let i=ht.min(),s=bt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,h){const c=mt(a),f=c.Yi.get(h);return f!==void 0?Se.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,h)}(r,o,ro(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ht.min(),n?s:bt())).next(a=>($H(r,D7(e),a),{documents:a,ir:s})))}function $H(t,e,n){let r=t.Xi.get(e)||ht.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class EN{constructor(){this.activeTargetIds=j7()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BH{constructor(){this.Hr=new EN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp=null;function H0(){return rp===null?rp=268435456+Math.round(2147483648*Math.random()):rp++,"0x"+rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class HH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=H0(),a=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(h=>(We("RestConnection",`Received RPC '${e}' ${o}: `,h),h),h=>{throw Su("RestConnection",`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=VH[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=H0();return new Promise((o,a)=>{const l=new e7;l.setWithCredentials(!0),l.listenOnce(Xq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case V0.NO_ERROR:const c=l.getResponseJson();We(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case V0.TIMEOUT:We(mr,`RPC '${e}' ${s} timed out`),a(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case V0.HTTP_ERROR:const f=l.getStatus();if(We(mr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(m.status);a(new Fe(g,m.message))}else a(new Fe(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{We(mr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);We(mr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Ro(e,n,r){const i=H0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kq(),a=Qq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new Zq({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");We(mr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,m=!1;const g=new qH({ro:w=>{m?We(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(We(mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),We(mr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},oo:()=>f.close()}),y=(w,b,x)=>{w.listen(b,E=>{try{x(E)}catch(S){setTimeout(()=>{throw S},0)}})};return y(f,Zh.EventType.OPEN,()=>{m||We(mr,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Zh.EventType.CLOSE,()=>{m||(m=!0,We(mr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(f,Zh.EventType.ERROR,w=>{m||(m=!0,Su(mr,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),y(f,Zh.EventType.MESSAGE,w=>{var b;if(!m){const x=w.data[0];an(!!x);const E=x,S=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(S){We(mr,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let C=function(N){const P=Pn[N];if(P!==void 0)return uL(P)}(k),O=S.message;C===void 0&&(C=me.INTERNAL,O="Unknown error status: "+k+" with message "+S.message),m=!0,g.wo(new Fe(C,O)),f.close()}else We(mr,`RPC '${e}' stream ${i} received:`,x),g._o(x)}}),y(a,Jq.STAT_EVENT,w=>{w.stat===eN.PROXY?We(mr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===eN.NOPROXY&&We(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function z0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return new nH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bL(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(no(n.toString()),no("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zH extends xL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=sH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ht.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ht.min():s.readTime?Ss(s.readTime):ht.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Mx(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Nx(a)?{documents:lH(i,a)}:{query:uH(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=fL(i,s.resumeToken);const l=Ix(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ht.min())>0){o.readTime=vm(i,s.snapshotVersion.toTimestamp());const l=Ix(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=dH(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Mx(this.serializer),n.removeTarget=e,this.Wo(n)}}class WH extends xL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=aH(e.writeResults,e.commitTime),r=Ss(e.commitTime);return this.listener.cu(r,n)}return an(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Mx(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oH(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class GH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(no(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{xl(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=mt(a);l.vu.add(4),await bf(l),l.bu.set("Unknown"),l.vu.delete(4),await Bg(l)}(this))})}),this.bu=new GH(r,i)}}async function Bg(t){if(xl(t))for(const e of t.Ru)await e(!0)}async function bf(t){for(const e of t.Ru)await e(!1)}function _L(t,e){const n=mt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),TS(n)?kS(n):Ku(n).Ko()&&ES(n,e))}function SL(t,e){const n=mt(t),r=Ku(n);n.Au.delete(e),r.Ko()&&EL(n,e),n.Au.size===0&&(r.Ko()?r.jo():xl(n)&&n.bu.set("Unknown"))}function ES(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ku(t).su(e)}function EL(t,e){t.Vu.qt(e),Ku(t).iu(e)}function kS(t){t.Vu=new J7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ku(t).start(),t.bu.gu()}function TS(t){return xl(t)&&!Ku(t).Uo()&&t.Au.size>0}function xl(t){return mt(t).vu.size===0}function kL(t){t.Vu=void 0}async function QH(t){t.Au.forEach((e,n)=>{ES(t,e)})}async function XH(t,e){kL(t),TS(t)?(t.bu.Iu(e),kS(t)):t.bu.set("Unknown")}async function JH(t,e,n){if(t.bu.set("Online"),e instanceof dL&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ym(t,r)}else if(e instanceof Pp?t.Vu.Ht(e):e instanceof cL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ht.min()))try{const r=await wL(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.Au.get(l);h&&i.Au.set(l,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const h=i.Au.get(a);if(!h)return;i.Au.set(a,h.withResumeToken(Cr.EMPTY_BYTE_STRING,h.snapshotVersion)),EL(i,a);const c=new Ho(h.target,a,l,h.sequenceNumber);ES(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await ym(t,r)}}async function ym(t,e,n){if(!vf(e))throw e;t.vu.add(1),await bf(t),t.bu.set("Offline"),n||(n=()=>wL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Bg(t)})}function TL(t,e){return e().catch(n=>ym(t,n,e))}async function Ug(t){const e=mt(t),n=na(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ZH(e);)try{const i=await jH(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,ez(e,i)}catch(i){await ym(e,i)}CL(e)&&NL(e)}function ZH(t){return xl(t)&&t.Eu.length<10}function ez(t,e){t.Eu.push(e);const n=na(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function CL(t){return xl(t)&&!na(t).Uo()&&t.Eu.length>0}function NL(t){na(t).start()}async function tz(t){na(t).hu()}async function nz(t){const e=na(t);for(const n of t.Eu)e.uu(n.mutations)}async function rz(t,e,n){const r=t.Eu.shift(),i=vS.from(r,e,n);await TL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ug(t)}async function iz(t,e){e&&na(t).ou&&await async function(n,r){if(i=r.code,K7(i)&&i!==me.ABORTED){const s=n.Eu.shift();na(n).Qo(),await TL(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ug(n)}var i}(t,e),CL(t)&&NL(t)}async function TN(t,e){const n=mt(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=xl(n);n.vu.add(3),await bf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Bg(n)}async function sz(t,e){const n=mt(t);e?(n.vu.delete(2),await Bg(n)):e||(n.vu.add(2),await bf(n),n.bu.set("Unknown"))}function Ku(t){return t.Su||(t.Su=function(e,n,r){const i=mt(e);return i.fu(),new zH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:QH.bind(null,t),ao:XH.bind(null,t),nu:JH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),TS(t)?kS(t):t.bu.set("Unknown")):(await t.Su.stop(),kL(t))})),t.Su}function na(t){return t.Du||(t.Du=function(e,n,r){const i=mt(e);return i.fu(),new WH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tz.bind(null,t),ao:iz.bind(null,t),au:nz.bind(null,t),cu:rz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ug(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new CS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NS(t,e){if(no("AsyncQueue",`${e}: ${t}`),vf(t))return new Fe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=sd(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Cu=new gn(Ke.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ut():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nu{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nu(e,n,hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.Nu=void 0,this.listeners=[]}}class az{constructor(){this.queries=new Gu(e=>QM(e),Rg),this.onlineState="Unknown",this.ku=new Set}}async function lz(t,e){const n=mt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new oz),i)try{s.Nu=await n.onListen(r)}catch(o){const a=NS(o,`Initialization of query '${Dx(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&OS(n)}async function uz(t,e){const n=mt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cz(t,e){const n=mt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&OS(n)}function dz(t,e,n){const r=mt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function OS(t){t.ku.forEach(e=>{e.next()})}class fz{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.key=e}}class AL{constructor(e){this.key=e}}class hz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=bt(),this.mutatedKeys=bt(),this.tc=XM(e),this.ec=new hu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new CN,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=Mg(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.tc(m,l)>0||h&&this.tc(m,h)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||h)&&(a=!0)),w&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((h,c)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return m(f)-m(p)}(h.type,c.type)||this.tc(h.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Nu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new CN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=bt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new AL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new OL(r))}),n}hc(e){this.Yu=e.ir,this.Zu=bt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Nu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class pz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mz{constructor(e){this.key=e,this.fc=!1}}class gz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gu(a=>QM(a),Rg),this._c=new Map,this.mc=new Set,this.gc=new gn(Ke.comparator),this.yc=new Map,this.Ic=new xS,this.Tc={},this.Ec=new Map,this.Ac=Cu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function vz(t,e){const n=Cz(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await FH(n.localStore,ro(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await yz(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&_L(n.remoteStore,o)}return i}async function yz(t,e,n,r,i){t.Rc=(f,p,m)=>async function(g,y,w,b){let x=y.view.sc(w);x.zi&&(x=await SN(g.localStore,y.query,!1).then(({documents:k})=>y.view.sc(k,x)));const E=b&&b.targetChanges.get(y.targetId),S=y.view.applyChanges(x,g.isPrimaryClient,E);return ON(g,y.targetId,S.cc),S.snapshot}(t,f,p,m);const s=await SN(t.localStore,e,!0),o=new hz(e,s.ir),a=o.sc(s.documents),l=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);ON(t,n,h.cc);const c=new pz(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),h.snapshot}async function wz(t,e){const n=mt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Rg(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lx(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),SL(n.remoteStore,r.targetId),jx(n,r.targetId)}).catch(gf)):(jx(n,r.targetId),await Lx(n.localStore,r.targetId,!0))}async function bz(t,e,n){const r=Nz(t);try{const i=await function(s,o){const a=mt(s),l=qn.now(),h=o.reduce((p,m)=>p.add(m.key),bt());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=io(),g=bt();return a.Zi.getEntries(p,h).next(y=>{m=y,m.forEach((w,b)=>{b.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(y=>{c=y;const w=[];for(const b of o){const x=H7(b,c.get(b.key).overlayedDocument);x!=null&&w.push(new pa(b.key,x,VM(x.value.mapValue),qi.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,w,o)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:ZM(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new gn(It)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await xf(r,i.changes),await Ug(r.remoteStore)}catch(i){const s=NS(i,"Failed to persist write");n.reject(s)}}async function DL(t,e){const n=mt(t);try{const r=await MH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(an(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?an(o.fc):i.removedDocuments.size>0&&(an(o.fc),o.fc=!1))}),await xf(n,r,e)}catch(r){await gf(r)}}function NN(t,e,n){const r=mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=mt(s);a.onlineState=o;let l=!1;a.queries.forEach((h,c)=>{for(const f of c.listeners)f.Mu(o)&&(l=!0)}),l&&OS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xz(t,e,n){const r=mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new gn(Ke.comparator);o=o.insert(s,yr.newNoDocument(s,ht.min()));const a=bt().add(s),l=new Fg(ht.min(),new Map,new gn(It),o,a);await DL(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),AS(r)}else await Lx(r.localStore,e,!1).then(()=>jx(r,e,n)).catch(gf)}async function _z(t,e){const n=mt(t),r=e.batch.batchId;try{const i=await RH(n.localStore,e);PL(n,r,null),IL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,i)}catch(i){await gf(i)}}async function Sz(t,e,n){const r=mt(t);try{const i=await function(s,o){const a=mt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(an(c!==null),h=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(r.localStore,e);PL(r,e,n),IL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,i)}catch(i){await gf(i)}}function IL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function PL(t,e,n){const r=mt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function jx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||RL(t,r)})}function RL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(SL(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),AS(t))}function ON(t,e,n){for(const r of n)r instanceof OL?(t.Ic.addReference(r.key,e),Ez(t,r)):r instanceof AL?(We("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||RL(t,r.key)):ut()}function Ez(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(We("SyncEngine","New document in limbo: "+n),t.mc.add(r),AS(t))}function AS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ke(rn.fromString(e)),r=t.Ac.next();t.yc.set(r,new mz(n)),t.gc=t.gc.insert(n,r),_L(t.remoteStore,new Ho(ro(pS(n.path)),r,"TargetPurposeLimboResolution",lS.ct))}}async function xf(t,e,n){const r=mt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const c=SS.Li(l.targetId,h);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const h=mt(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(l,f=>Se.forEach(f.Fi,p=>h.persistence.referenceDelegate.addReference(c,f.targetId,p)).next(()=>Se.forEach(f.Bi,p=>h.persistence.referenceDelegate.removeReference(c,f.targetId,p)))))}catch(c){if(!vf(c))throw c;We("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const p=h.Ji.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.Ji=h.Ji.insert(f,g)}}}(r.localStore,s))}async function kz(t,e){const n=mt(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await yL(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Fe(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.er)}}function Tz(t,e){const n=mt(t),r=n.yc.get(e);if(r&&r.fc)return bt().add(r.key);{let i=bt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function Cz(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xz.bind(null,e),e.dc.nu=cz.bind(null,e.eventManager),e.dc.Pc=dz.bind(null,e.eventManager),e}function Nz(t){const e=mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_z.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sz.bind(null,e),e}class AN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$g(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PH(this.persistence,new DH,e.initialUser,this.serializer)}createPersistence(e){return new OH(_S.zs,this.serializer)}createSharedClientState(e){return new BH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Oz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kz.bind(null,this.syncEngine),await sz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new az}createDatastore(e){const n=$g(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new HH(i));var i;return function(s,o,a,l){return new YH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>NN(this.syncEngine,a,0),o=kN.D()?new kN:new UH,new KH(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,h){const c=new gz(r,i,s,o,a,l);return h&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=mt(e);We("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await bf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):no("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=$M.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{We("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(We("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=NS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W0(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pz(t);We("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TN(e.remoteStore,s)),t._onlineComponents=e}function Iz(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Pz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await W0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Iz(n))throw n;Su("Error using user provided cache. Falling back to memory cache: "+n),await W0(t,new AN)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await W0(t,new AN);return t._offlineComponents}async function ML(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await DN(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await DN(t,new Oz))),t._onlineComponents}function Rz(t){return ML(t).then(e=>e.syncEngine)}async function IN(t){const e=await ML(t),n=e.eventManager;return n.onListen=vz.bind(null,e.syncEngine),n.onUnlisten=wz.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e,n){if(!n)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mz(t,e,n,r){if(e===!0&&r===!0)throw new Fe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RN(t){if(!Ke.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MN(t){if(Ke.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut()}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vg(t);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class qg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LN(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new n7;switch(n.type){case"firstParty":return new o7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=PN.get(e);n&&(We("ComponentProvider","Removing Datastore"),PN.delete(e),n.terminate())}(this),Promise.resolve()}}function Lz(t,e,n,r={}){var i;const s=(t=Ws(t,qg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vr.MOCK_USER;else{a=YP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vr(h)}t._authCredentials=new r7(new FM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class _l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class Xo extends _l{constructor(e,n,r){super(e,n,pS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Ke(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function FL(t,e,...n){if(t=Pt(t),jL("collection","path",e),t instanceof qg){const r=rn.fromString(e,...n);return MN(r),new Xo(t,null,r)}{if(!(t instanceof Fr||t instanceof Xo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return MN(r),new Xo(t.firestore,null,r)}}function ln(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=$M.A()),jL("doc","path",e),t instanceof qg){const r=rn.fromString(e,...n);return RN(r),new Fr(t,null,new Ke(r))}{if(!(t instanceof Fr||t instanceof Xo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return RN(r),new Fr(t.firestore,t instanceof Xo?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bL(this,"async_queue_retry"),this.Xc=()=>{const n=z0();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=z0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=z0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ha;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!vf(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw no("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=CS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ut()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function jN(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ou extends qg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BL(this),this._firestoreClient.terminate()}}function Fz(t,e){const n=rf(),r="(default)",i=la(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=N_("firestore");s&&Lz(i,...s)}return i}function $L(t){return t._firestoreClient||BL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BL(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,h){return new y7(o,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Dz(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(Cr.fromBase64String(e))}catch(n){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Au(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=/^__.*__$/;class Bz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class UL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class PS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new PS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(VL(this.ca)&&$z.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Uz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$g(e)}ya(e,n,r,i=!1){return new PS({ca:e,methodName:n,ga:r,path:wr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RS(t){const e=t._freezeSettings(),n=$g(t._databaseId);return new Uz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vz(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);MS("Data must be an object, but it was:",o,r);const a=qL(r,o);let l,h;if(s.merge)l=new di(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=Fx(e,f,n);if(!o.contains(p))throw new Fe(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zL(c,p)||c.push(p)}l=new di(c),h=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=o.fieldTransforms;return new Bz(new Zr(a),l,h)}class zg extends DS{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zg}}function qz(t,e,n,r){const i=t.ya(1,e,n);MS("Data must be an object, but it was:",i,r);const s=[],o=Zr.empty();bl(r,(l,h)=>{const c=LS(e,l,n);h=Pt(h);const f=i.da(c);if(h instanceof zg)s.push(c);else{const p=_f(h,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new di(s);return new UL(o,a,i.fieldTransforms)}function Hz(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Fx(e,r,n)],l=[i];if(s.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Fx(e,s[p])),l.push(s[p+1]);const h=[],c=Zr.empty();for(let p=a.length-1;p>=0;--p)if(!zL(h,a[p])){const m=a[p];let g=l[p];g=Pt(g);const y=o.da(m);if(g instanceof zg)h.push(m);else{const w=_f(g,y);w!=null&&(h.push(m),c.set(m,w))}}const f=new di(h);return new UL(c,f,o.fieldTransforms)}function zz(t,e,n,r=!1){return _f(n,t.ya(r?4:3,e))}function _f(t,e){if(HL(t=Pt(t)))return MS("Unsupported field value:",e,t),qL(t,e);if(t instanceof DS)return function(n,r){if(!VL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=_f(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return F7(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=qn.fromDate(n);return{timestampValue:vm(r.serializer,i)}}if(n instanceof qn){const i=new qn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vm(r.serializer,i)}}if(n instanceof IS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Au)return{bytesValue:fL(r.serializer,n._byteString)};if(n instanceof Fr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Vg(n)}`)}(t,e)}function qL(t,e){const n={};return BM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(r,i)=>{const s=_f(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof IS||t instanceof Au||t instanceof Fr||t instanceof DS)}function MS(t,e,n){if(!HL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Vg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Fx(t,e,n){if((e=Pt(e))instanceof Hg)return e._internalPath;if(typeof e=="string")return LS(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wz=new RegExp("[~\\*/\\[\\]]");function LS(t,e,n){if(e.search(Wz)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hg(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Fe(me.INVALID_ARGUMENT,a+t+l)}function zL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yz extends WL{data(){return super.data()}}function Wg(t,e){return typeof e=="string"?LS(t,e):e instanceof Hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jS{}class YL extends jS{}function Y0(t,e,...n){let r=[];e instanceof jS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof FS).length,o=i.filter(a=>a instanceof Yg).length;if(s>1||s>0&&o>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yg extends YL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){const n=this._parse(e);return GL(e._query,n),new _l(e.firestore,e.converter,Ox(e._query,n))}_parse(e){const n=RS(e.firestore);return function(i,s,o,a,l,h,c){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){BN(c,h);const p=[];for(const m of c)p.push($N(a,i,m));f={arrayValue:{values:p}}}else f=$N(a,i,c)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||BN(c,h),f=zz(o,s,c,h==="in"||h==="not-in");return Ln.create(l,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FN(t,e,n){const r=e,i=Wg("where",t);return Yg._create(i,r,n)}class FS extends jS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)GL(s,a),s=Ox(s,a)}(e._query,n),new _l(e.firestore,e.converter,Ox(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $S extends YL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $S(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new du(i,s);return function(a,l){if(mS(a)===null){const h=Pg(a);h!==null&&KL(a,h,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new _l(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Yu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Kz(t,e="asc"){const n=e,r=Wg("orderBy",t);return $S._create(r,n)}function $N(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KM(e)&&n.indexOf("/")!==-1)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rn.fromString(n));if(!Ke.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oN(t,new Ke(r))}if(n instanceof Fr)return oN(t,n._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vg(n)}.`)}function BN(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GL(t,e){if(e.isInequality()){const r=Pg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=mS(t);s!==null&&KL(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function KL(t,e,n){if(!n.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Qz{convertValue(e,n="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ut()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new IS(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=ta(e);return new qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rn.fromString(e);an(vL(r));const i=new $d(r.get(1),r.get(3)),s=new Ke(r.popFirst(5));return i.isEqual(n)||no(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QL extends WL{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rp extends QL{data(e={}){return super.data(e)}}class Jz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ad(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Rp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ad(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Rp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ad(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:Zz(o.type),doc:a,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}class XL extends Qz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,n)}}function Os(t,e,n){t=Ws(t,Fr);const r=Ws(t.firestore,Ou),i=Xz(t.converter,e);return BS(r,[Vz(RS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qi.none())])}function yn(t,e,n,...r){t=Ws(t,Fr);const i=Ws(t.firestore,Ou),s=RS(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof Hg?Hz(s,"updateDoc",t._key,e,n,r):qz(s,"updateDoc",t._key,e),BS(i,[o.toMutation(t._key,qi.exists(!0))])}function Gg(t){return BS(Ws(t.firestore,Ou),[new gS(t._key,qi.none())])}function JL(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||jN(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(jN(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,h,c;if(t instanceof Fr)h=Ws(t.firestore,Ou),c=pS(t._key.path),l={next:f=>{e[o]&&e[o](eW(h,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ws(t,_l);h=Ws(f.firestore,Ou),c=f._query;const p=new XL(h);l={next:m=>{e[o]&&e[o](new Jz(h,p,f,m))},error:e[o+1],complete:e[o+2]},Gz(t._query)}return function(f,p,m,g){const y=new Az(g),w=new fz(p,y,m);return f.asyncQueue.enqueueAndForget(async()=>lz(await IN(f),w)),()=>{y.Dc(),f.asyncQueue.enqueueAndForget(async()=>uz(await IN(f),w))}}($L(h),c,a,l)}function BS(t,e){return function(n,r){const i=new Ha;return n.asyncQueue.enqueueAndForget(async()=>bz(await Rz(n),r,i)),i.promise}($L(t),e)}function eW(t,e,n){const r=n.docs.get(e._key),i=new XL(t);return new QL(t,i,e._key,r,new ad(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Wu=n})(vl),Oi(new mi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ou(new i7(n.getProvider("auth-internal")),new l7(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),_r(tN,"3.13.0",t),_r(tN,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="type.googleapis.com/google.protobuf.Int64Value",nW="type.googleapis.com/google.protobuf.UInt64Value";function ZL(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function $x(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>$x(e));if(typeof t=="function"||typeof t=="object")return ZL(t,e=>$x(e));throw new Error("Data cannot be encoded in JSON: "+t)}function bm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case tW:case nW:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>bm(e)):typeof t=="function"||typeof t=="object"?ZL(t,e=>bm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pu extends Ai{constructor(e,n,r){super(`${US}/${e}`,n||""),this.details=r}}function rW(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function iW(t,e){let n=rW(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!UN[o])return new pu("internal","internal");n=UN[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=bm(i))}}catch{}return n==="ok"?null:new pu(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="us-central1";function oW(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new pu("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class aW{constructor(e,n,r,i,s=Bx,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new sW(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=Bx}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function lW(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function uW(t,e,n){return r=>dW(t,e,r,{})}async function cW(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function dW(t,e,n,r){const i=t._url(e);return fW(t,i,n,r)}async function fW(t,e,n,r){n=$x(n);const i={data:n},s={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=oW(a),h=await Promise.race([cW(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!h)throw new pu("cancelled","Firebase Functions instance was deleted.");const c=iW(h.status,h.json);if(c)throw c;if(!h.json)throw new pu("internal","Response is not valid JSON object.");let f=h.json.data;if(typeof f>"u"&&(f=h.json.result),typeof f>"u")throw new pu("internal","Response is missing data field.");return{data:bm(f)}}const VN="@firebase/functions",qN="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW="auth-internal",pW="app-check-internal",mW="messaging-internal";function gW(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(hW),a=r.getProvider(mW),l=r.getProvider(pW);return new aW(s,o,a,l,i,t)};Oi(new mi(US,n,"PUBLIC").setMultipleInstances(!0)),_r(VN,qN,e),_r(VN,qN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t=rf(),e=Bx){const r=la(Pt(t),US).getImmediate({identifier:e}),i=N_("functions");return i&&yW(r,...i),r}function yW(t,e,n){lW(Pt(t),e,n)}function e4(t,e,n){return uW(Pt(t),e)}gW(fetch.bind(self));const wW=(t,e)=>e.some(n=>t instanceof n);let HN,zN;function bW(){return HN||(HN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xW(){return zN||(zN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t4=new WeakMap,Ux=new WeakMap,n4=new WeakMap,G0=new WeakMap,VS=new WeakMap;function _W(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&t4.set(n,t)}).catch(()=>{}),VS.set(e,t),e}function SW(t){if(Ux.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ux.set(t,e)}let Vx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EW(t){Vx=t(Vx)}function kW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K0(this),e,...n);return n4.set(r,e.sort?e.sort():[e]),Jo(r)}:xW().includes(t)?function(...e){return t.apply(K0(this),e),Jo(t4.get(this))}:function(...e){return Jo(t.apply(K0(this),e))}}function TW(t){return typeof t=="function"?kW(t):(t instanceof IDBTransaction&&SW(t),wW(t,bW())?new Proxy(t,Vx):t)}function Jo(t){if(t instanceof IDBRequest)return _W(t);if(G0.has(t))return G0.get(t);const e=TW(t);return e!==t&&(G0.set(t,e),VS.set(e,t)),e}const K0=t=>VS.get(t);function CW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jo(o.result),l.oldVersion,l.newVersion,Jo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const NW=["get","getKey","getAll","getAllKeys","count"],OW=["put","add","delete","clear"],Q0=new Map;function WN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q0.get(e))return Q0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NW.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return Q0.set(e,s),s}EW(t=>({...t,get:(e,n,r)=>WN(e,n)||t.get(e,n,r),has:(e,n)=>!!WN(e,n)||t.has(e,n)}));const r4="@firebase/installations",qS="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1e4,s4=`w:${qS}`,o4="FIS_v2",AW="https://firebaseinstallations.googleapis.com/v1",DW=60*60*1e3,IW="installations",PW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nl=new gl(IW,PW,RW);function a4(t){return t instanceof Ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4({projectId:t}){return`${AW}/projects/${t}/installations`}function u4(t){return{token:t.token,requestStatus:2,expiresIn:LW(t.expiresIn),creationTime:Date.now()}}async function c4(t,e){const r=(await e.json()).error;return nl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function d4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MW(t,{refreshToken:e}){const n=d4(t);return n.append("Authorization",jW(e)),n}async function f4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function LW(t){return Number(t.replace("s","000"))}function jW(t){return`${o4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=l4(t),i=d4(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:o4,appId:t.appId,sdkVersion:s4},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await f4(()=>fetch(r,a));if(l.ok){const h=await l.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:u4(h.authToken)}}else throw await c4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=/^[cdef][\w-]{21}$/,qx="";function UW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=VW(t);return BW.test(n)?n:qx}catch{return qx}}function VW(t){return $W(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;function m4(t,e){const n=Kg(t);g4(n,e),qW(n,e)}function g4(t,e){const n=p4.get(t);if(n)for(const r of n)r(e)}function qW(t,e){const n=HW();n&&n.postMessage({key:t,fid:e}),zW()}let $a=null;function HW(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=t=>{g4(t.data.key,t.data.fid)}),$a}function zW(){p4.size===0&&$a&&($a.close(),$a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="firebase-installations-database",YW=1,rl="firebase-installations-store";let X0=null;function HS(){return X0||(X0=CW(WW,YW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),X0}async function xm(t,e){const n=Kg(t),i=(await HS()).transaction(rl,"readwrite"),s=i.objectStore(rl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&m4(t,e.fid),e}async function v4(t){const e=Kg(t),r=(await HS()).transaction(rl,"readwrite");await r.objectStore(rl).delete(e),await r.done}async function Qg(t,e){const n=Kg(t),i=(await HS()).transaction(rl,"readwrite"),s=i.objectStore(rl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&m4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t){let e;const n=await Qg(t.appConfig,r=>{const i=GW(r),s=KW(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===qx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GW(t){const e=t||{fid:UW(),registrationStatus:0};return y4(e)}function KW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(nl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=QW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XW(t)}:{installationEntry:e}}async function QW(t,e){try{const n=await FW(t,e);return xm(t.appConfig,n)}catch(n){throw a4(n)&&n.customData.serverCode===409?await v4(t.appConfig):await xm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XW(t){let e=await YN(t.appConfig);for(;e.registrationStatus===1;)await h4(100),e=await YN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await zS(t);return r||n}return e}function YN(t){return Qg(t,e=>{if(!e)throw nl.create("installation-not-found");return y4(e)})}function y4(t){return JW(t)?{fid:t.fid,registrationStatus:0}:t}function JW(t){return t.registrationStatus===1&&t.registrationTime+i4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW({appConfig:t,heartbeatServiceProvider:e},n){const r=eY(t,n),i=MW(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:s4,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await f4(()=>fetch(r,a));if(l.ok){const h=await l.json();return u4(h)}else throw await c4("Generate Auth Token",l)}function eY(t,{fid:e}){return`${l4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t,e=!1){let n;const r=await Qg(t.appConfig,s=>{if(!w4(s))throw nl.create("not-registered");const o=s.authToken;if(!e&&rY(o))return s;if(o.requestStatus===1)return n=tY(t,e),s;{if(!navigator.onLine)throw nl.create("app-offline");const a=sY(s);return n=nY(t,a),a}});return n?await n:r.authToken}async function tY(t,e){let n=await GN(t.appConfig);for(;n.authToken.requestStatus===1;)await h4(100),n=await GN(t.appConfig);const r=n.authToken;return r.requestStatus===0?WS(t,e):r}function GN(t){return Qg(t,e=>{if(!w4(e))throw nl.create("not-registered");const n=e.authToken;return oY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nY(t,e){try{const n=await ZW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xm(t.appConfig,r),n}catch(n){if(a4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xm(t.appConfig,r)}throw n}}function w4(t){return t!==void 0&&t.registrationStatus===2}function rY(t){return t.requestStatus===2&&!iY(t)}function iY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+DW}function sY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oY(t){return t.requestStatus===1&&t.requestTime+i4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t){const e=t,{installationEntry:n,registrationPromise:r}=await zS(e);return r?r.catch(console.error):WS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lY(t,e=!1){const n=t;return await uY(n),(await WS(n,e)).token}async function uY(t){const{registrationPromise:e}=await zS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t){if(!t||!t.options)throw J0("App Configuration");if(!t.name)throw J0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw J0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function J0(t){return nl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="installations",dY="installations-internal",fY=t=>{const e=t.getProvider("app").getImmediate(),n=cY(e),r=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hY=t=>{const e=t.getProvider("app").getImmediate(),n=la(e,b4).getImmediate();return{getId:()=>aY(n),getToken:i=>lY(n,i)}};function pY(){Oi(new mi(b4,fY,"PUBLIC")),Oi(new mi(dY,hY,"PRIVATE"))}pY();_r(r4,qS);_r(r4,qS,"esm2017");const mY=(t,e)=>e.some(n=>t instanceof n);let KN,QN;function gY(){return KN||(KN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vY(){return QN||(QN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x4=new WeakMap,Hx=new WeakMap,_4=new WeakMap,Z0=new WeakMap,YS=new WeakMap;function yY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x4.set(n,t)}).catch(()=>{}),YS.set(e,t),e}function wY(t){if(Hx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bY(t){zx=t(zx)}function xY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ew(this),e,...n);return _4.set(r,e.sort?e.sort():[e]),Ys(r)}:vY().includes(t)?function(...e){return t.apply(ew(this),e),Ys(x4.get(this))}:function(...e){return Ys(t.apply(ew(this),e))}}function _Y(t){return typeof t=="function"?xY(t):(t instanceof IDBTransaction&&wY(t),mY(t,gY())?new Proxy(t,zx):t)}function Ys(t){if(t instanceof IDBRequest)return yY(t);if(Z0.has(t))return Z0.get(t);const e=_Y(t);return e!==t&&(Z0.set(t,e),YS.set(e,t)),e}const ew=t=>YS.get(t);function S4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ys(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ys(o.result),l.oldVersion,l.newVersion,Ys(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function tw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ys(n).then(()=>{})}const SY=["get","getKey","getAll","getAllKeys","count"],EY=["put","add","delete","clear"],nw=new Map;function XN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nw.get(e))return nw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return nw.set(e,s),s}bY(t=>({...t,get:(e,n,r)=>XN(e,n)||t.get(e,n,r),has:(e,n)=>!!XN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="/firebase-messaging-sw.js",TY="/firebase-cloud-messaging-push-scope",E4="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",CY="https://fcmregistrations.googleapis.com/v1",k4="google.c.a.c_id",NY="google.c.a.c_l",OY="google.c.a.ts",AY="google.c.a.e";var JN;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(JN||(JN={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var qd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(qd||(qd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function DY(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="fcm_token_details_db",IY=5,ZN="fcm_token_object_Store";async function PY(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(rw))return null;let e=null;return(await S4(rw,IY,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(ZN))return;const l=o.objectStore(ZN),h=await l.index("fcmSenderId").get(t);if(await l.clear(),!!h){if(i===2){const c=h;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Us(c.vapidKey)}}}else if(i===3){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Us(c.auth),p256dh:Us(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Us(c.vapidKey)}}}else if(i===4){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Us(c.auth),p256dh:Us(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Us(c.vapidKey)}}}}}})).close(),await tw(rw),await tw("fcm_vapid_details_db"),await tw("undefined"),RY(e)?e:null}function RY(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY="firebase-messaging-database",LY=1,il="firebase-messaging-store";let iw=null;function GS(){return iw||(iw=S4(MY,LY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),iw}async function T4(t){const e=QS(t),r=await(await GS()).transaction(il).objectStore(il).get(e);if(r)return r;{const i=await PY(t.appConfig.senderId);if(i)return await KS(t,i),i}}async function KS(t,e){const n=QS(t),i=(await GS()).transaction(il,"readwrite");return await i.objectStore(il).put(e,n),await i.done,e}async function jY(t){const e=QS(t),r=(await GS()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}function QS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},$r=new gl("messaging","Messaging",FY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y(t,e){const n=await JS(t),r=N4(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(XS(t.appConfig),i)).json()}catch(o){throw $r.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw $r.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw $r.create("token-subscribe-no-token");return s.token}async function BY(t,e){const n=await JS(t),r=N4(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${XS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw $r.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw $r.create("token-update-failed",{errorInfo:o})}if(!s.token)throw $r.create("token-update-no-token");return s.token}async function C4(t,e){const r={method:"DELETE",headers:await JS(t)};try{const s=await(await fetch(`${XS(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw $r.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw $r.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function XS({projectId:t}){return`${CY}/projects/${t}/registrations`}async function JS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function N4({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==E4&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=7*24*60*60*1e3;async function VY(t){const e=await zY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Us(e.getKey("auth")),p256dh:Us(e.getKey("p256dh"))},r=await T4(t.firebaseDependencies);if(r){if(WY(r.subscriptionOptions,n))return Date.now()>=r.createTime+UY?HY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await C4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return eO(t.firebaseDependencies,n)}else return eO(t.firebaseDependencies,n)}async function qY(t){const e=await T4(t.firebaseDependencies);e&&(await C4(t.firebaseDependencies,e.token),await jY(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function HY(t,e){try{const n=await BY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await KS(t.firebaseDependencies,r),n}catch(n){throw await qY(t),n}}async function eO(t,e){const r={token:await $Y(t,e),createTime:Date.now(),subscriptionOptions:e};return await KS(t,r),r.token}async function zY(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:DY(e)})}function WY(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return YY(e,t),GY(e,t),KY(e,t),e}function YY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function GY(t,e){e.data&&(t.data=e.data)}function KY(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){return typeof t=="object"&&!!t&&k4 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */O4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");O4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function O4(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t){if(!t||!t.options)throw sw("App Configuration Object");if(!t.name)throw sw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw sw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function sw(t){return $r.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=XY(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t){try{t.swRegistration=await navigator.serviceWorker.register(kY,{scope:TY}),t.swRegistration.update().catch(()=>{})}catch(e){throw $r.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e){if(!e&&!t.swRegistration&&await ZY(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw $r.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=E4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){if(!navigator)throw $r.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw $r.create("permission-blocked");return await tG(t,e==null?void 0:e.vapidKey),await eG(t,e==null?void 0:e.serviceWorkerRegistration),VY(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e,n){const r=rG(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[k4],message_name:n[NY],message_time:n[OY],message_device_time:Math.floor(Date.now()/1e3)})}function rG(t){switch(t){case qd.NOTIFICATION_CLICKED:return"notification_open";case qd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===qd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(tO(n)):t.onMessageHandler.next(tO(n)));const r=n.data;QY(r)&&r[AY]==="1"&&await nG(t,n.messageType,r)}const nO="@firebase/messaging",rO="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=t=>{const e=new JY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>iG(e,n)),e},oG=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>A4(e,r)}};function aG(){Oi(new mi("messaging",sG,"PUBLIC")),Oi(new mi("messaging-internal",oG,"PRIVATE")),_r(nO,rO),_r(nO,rO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(){try{await KP()}catch{return!1}return typeof window<"u"&&GP()&&TU()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t=rf()){return lG().then(e=>{if(!e)throw $r.create("unsupported-browser")},e=>{throw $r.create("indexed-db-unsupported")}),la(Pt(t),"messaging").getImmediate()}async function cG(t,e){return t=Pt(t),A4(t,e)}aG();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="firebasestorage.googleapis.com",I4="storageBucket",dG=2*60*1e3,fG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends Ai{constructor(e,n,r=0){super(ow(e),`Firebase Storage: ${n} (${ow(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ow(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _n;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_n||(_n={}));function ow(t){return"storage/"+t}function ZS(){const t="An unknown error occurred, please check the error payload for server response.";return new En(_n.UNKNOWN,t)}function hG(t){return new En(_n.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pG(t){return new En(_n.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new En(_n.UNAUTHENTICATED,t)}function gG(){return new En(_n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vG(t){return new En(_n.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yG(){return new En(_n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wG(){return new En(_n.CANCELED,"User canceled the upload/download.")}function bG(t){return new En(_n.INVALID_URL,"Invalid URL '"+t+"'.")}function xG(t){return new En(_n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _G(){return new En(_n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I4+"' property when initializing the app?")}function SG(){return new En(_n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EG(){return new En(_n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kG(t){return new En(_n.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wx(t){return new En(_n.INVALID_ARGUMENT,t)}function P4(){return new En(_n.APP_DELETED,"The Firebase app was deleted.")}function TG(t){return new En(_n.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wd(t,e){return new En(_n.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qc(t){throw new En(_n.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fi.makeFromUrl(e,n)}catch{return new fi(e,"")}if(r.path==="")return r;throw xG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===D4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let S=0;S<E.length;S++){const k=E[S],C=k.regex.exec(e);if(C){const O=C[k.indices.bucket];let N=C[k.indices.path];N||(N=""),r=new fi(O,N),k.postModify(r);break}}if(r==null)throw bG(e);return r}}class CG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let h=!1;function c(...w){h||(h=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(m,l())},w)}function p(){s&&clearTimeout(s)}function m(w,...b){if(h){p();return}if(w){p(),c.call(null,w,...b);return}if(l()||o){p(),c.call(null,w,...b);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function y(w){g||(g=!0,p(),!h&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function OG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){return t!==void 0}function DG(t){return typeof t=="object"&&!Array.isArray(t)}function eE(t){return typeof t=="string"||t instanceof String}function iO(t){return tE()&&t instanceof Blob}function tE(){return typeof Blob<"u"&&!_U()}function sO(t,e,n,r){if(r<e)throw Wx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function R4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(za||(za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n,r,i,s,o,a,l,h,c,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ip(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===za.NO_ERROR,l=s.getStatus();if(!a||IG(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===za.ABORT;r(!1,new ip(!1,null,c));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new ip(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ZS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?P4():wG();o(l)}else{const l=yG();o(l)}};this.canceled_?n(!1,new ip(!1,null,!0)):this.backoffId_=NG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ip{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FG(t,e,n,r,i,s,o=!0){const a=R4(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return LG(h,e),RG(h,n),MG(h,s),jG(h,r),new PG(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BG(...t){const e=$G();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tE())return new Blob(t);throw new En(_n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t){if(typeof atob>"u")throw kG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aw{constructor(e,n){this.data=e,this.contentType=n||null}}function qG(t,e){switch(t){case ys.RAW:return new aw(M4(e));case ys.BASE64:case ys.BASE64URL:return new aw(L4(t,e));case ys.DATA_URL:return new aw(zG(e),WG(e))}throw ZS()}function M4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HG(t){let e;try{e=decodeURIComponent(t)}catch{throw wd(ys.DATA_URL,"Malformed data URL.")}return M4(e)}function L4(t,e){switch(t){case ys.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ys.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VG(e)}catch(i){throw i.message.includes("polyfill")?i:wd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class j4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wd(ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=YG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function zG(t){const e=new j4(t);return e.base64?L4(ys.BASE64,e.rest):HG(e.rest)}function WG(t){return new j4(t).contentType}function YG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){let r=0,i="";iO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(iO(this.data_)){const r=this.data_,i=UG(r,e,n);return i===null?null:new Vo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vo(r,!0)}}static getBlob(...e){if(tE()){const n=e.map(r=>r instanceof Vo?r.data_:r);return new Vo(BG.apply(null,n))}else{const n=e.map(o=>eE(o)?qG(ys.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Vo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){let e;try{e=JSON.parse(t)}catch{return null}return DG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(t,e){return e}class Rr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||QG}}let sp=null;function XG(t){return!eE(t)||t.length<2?t:$4(t)}function B4(){if(sp)return sp;const t=[];t.push(new Rr("bucket")),t.push(new Rr("generation")),t.push(new Rr("metageneration")),t.push(new Rr("name","fullPath",!0));function e(s,o){return XG(o)}const n=new Rr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Rr("size");return i.xform=r,t.push(i),t.push(new Rr("timeCreated")),t.push(new Rr("updated")),t.push(new Rr("md5Hash",null,!0)),t.push(new Rr("cacheControl",null,!0)),t.push(new Rr("contentDisposition",null,!0)),t.push(new Rr("contentEncoding",null,!0)),t.push(new Rr("contentLanguage",null,!0)),t.push(new Rr("contentType",null,!0)),t.push(new Rr("metadata","customMetadata",!0)),sp=t,sp}function JG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ZG(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return JG(r,t),r}function U4(t,e,n){const r=F4(e);return r===null?null:ZG(t,r,n)}function eK(t,e,n,r){const i=F4(e);if(i===null||!eE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const c=t.bucket,f=t.fullPath,p="/b/"+o(c)+"/o/"+o(f),m=nE(p,n,r),g=R4({alt:"media",token:h});return m+g})[0]}function tK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class V4{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){if(!t)throw ZS()}function nK(t,e){function n(r,i){const s=U4(t,i,e);return q4(s!==null),s}return n}function rK(t,e){function n(r,i){const s=U4(t,i,e);return q4(s!==null),eK(s,i,t.host,t._protocol)}return n}function H4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gG():i=mG():n.getStatus()===402?i=pG(t.bucket):n.getStatus()===403?i=vG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iK(t){const e=H4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=hG(t.path)),s.serverResponse=i.serverResponse,s}return n}function sK(t,e,n){const r=e.fullServerUrl(),i=nE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new V4(i,s,rK(t,n),o);return a.errorHandler=iK(e),a}function oK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oK(null,e)),r}function lK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let S=0;S<2;S++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const h=aK(e,r,i),c=tK(h,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Vo.getBlob(f,r,p);if(m===null)throw SG();const g={name:h.fullPath},y=nE(s,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,x=new V4(y,w,nK(t,n),b);return x.urlParams=g,x.headers=o,x.body=m.uploadData(),x.errorHandler=H4(e),x}class uK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw qc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cK extends uK{initXhr(){this.xhr_.responseType="text"}}function z4(){return new cK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this._service=e,n instanceof fi?this._location=n:this._location=fi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sl(e,n)}get root(){const e=new fi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $4(this._location.path)}get storage(){return this._service}get parent(){const e=GG(this._location.path);if(e===null)return null;const n=new fi(this._location.bucket,e);return new sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TG(e)}}function dK(t,e,n){t._throwIfRoot("uploadBytes");const r=lK(t.storage,t._location,B4(),new Vo(e,!0),n);return t.storage.makeRequestWithTokens(r,z4).then(i=>({metadata:i,ref:t}))}function fK(t){t._throwIfRoot("getDownloadURL");const e=sK(t.storage,t._location,B4());return t.storage.makeRequestWithTokens(e,z4).then(n=>{if(n===null)throw EG();return n})}function hK(t,e){const n=KG(t._location.path,e),r=new fi(t._location.bucket,n);return new sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t){return/^[A-Za-z]+:\/\//.test(t)}function mK(t,e){return new sl(t,e)}function W4(t,e){if(t instanceof rE){const n=t;if(n._bucket==null)throw _G();const r=new sl(n,n._bucket);return e!=null?W4(r,e):r}else return e!==void 0?hK(t,e):t}function gK(t,e){if(e&&pK(e)){if(t instanceof rE)return mK(t,e);throw Wx("To use ref(service, url), the first argument must be a Storage instance.")}else return W4(t,e)}function oO(t,e){const n=e==null?void 0:e[I4];return n==null?null:fi.makeFromBucketSpec(n,t)}function vK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:YP(i,t.app.options.projectId))}class rE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=D4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dG,this._maxUploadRetryTime=fG,this._requests=new Set,i!=null?this._bucket=fi.makeFromBucketSpec(i,this._host):this._bucket=oO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fi.makeFromBucketSpec(this._url,e):this._bucket=oO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new CG(P4());{const o=FG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aO="@firebase/storage",lO="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="storage";function uO(t,e,n){return t=Pt(t),dK(t,e,n)}function Yx(t){return t=Pt(t),fK(t)}function Gx(t,e){return t=Pt(t),gK(t,e)}function yK(t=rf(),e){t=Pt(t);const r=la(t,Y4).getImmediate({identifier:e}),i=N_("storage");return i&&wK(r,...i),r}function wK(t,e,n,r={}){vK(t,e,n,r)}function bK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rE(n,r,i,e,vl)}function xK(){Oi(new mi(Y4,bK,"PUBLIC").setMultipleInstances(!0)),_r(aO,lO,""),_r(aO,lO,"esm2017")}xK();const _K={apiKey:"AIzaSyA6HW3pwkb-agsEpSYWGmlYSuvFiJDxp5c",authDomain:"han-bookclub.firebaseapp.com",projectId:"han-bookclub",storageBucket:"han-bookclub.appspot.com",messagingSenderId:"1033530409448",appId:"1:1033530409448:web:aff6942a34c0a48c81645d",measurementId:"G-925LMFR6FK"},SK=JP(_K),Jt=pg(),Zt=Fz(),Kx=yK(),EK=uG(SK),G4=vW(),_m=async()=>cG(EK,{vapidKey:"BDj5rPznBXENjg3_ufDJ6BLBU1igiHvQTiBDYOUMRbVQTcQpQRh6erEWWBQyg1SVuC3yAvzgM4xarrhpqwM26ag",serviceWorkerRegistration:await navigator.serviceWorker.register("/han-bookclub-app/firebase-messaging-sw.js")}),lw=e4(G4,"sendUnicast"),cO=e4(G4,"sendMulticast");var K4={};function kK(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var TK=kK,gt=TK;function CK(t){return!!t&&typeof t.then=="function"}var sn=CK;function NK(t,e){if(t!=null)return t;throw gt(e??"Got unexpected null or undefined")}var fn=NK;function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Xg{getValue(){throw gt("BaseLoadable")}toPromise(){throw gt("BaseLoadable")}valueMaybe(){throw gt("BaseLoadable")}valueOrThrow(){throw gt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw gt("BaseLoadable")}promiseOrThrow(){throw gt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw gt("BaseLoadable")}errorOrThrow(){throw gt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw gt("BaseLoadable")}}class OK extends Xg{constructor(e){super(),pt(this,"state","hasValue"),pt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return sn(n)?ol(n):Du(n)?n:Sf(n)}catch(n){return sn(n)?ol(n.next(()=>this.map(e))):Jg(n)}}}class AK extends Xg{constructor(e){super(),pt(this,"state","hasError"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Q4 extends Xg{constructor(e){super(),pt(this,"state","loading"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ol(this.contents.then(n=>{const r=e(n);if(Du(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(sn(n))return n.then(()=>this.map(e).contents);throw n}))}}function Sf(t){return Object.freeze(new OK(t))}function Jg(t){return Object.freeze(new AK(t))}function ol(t){return Object.freeze(new Q4(t))}function X4(){return Object.freeze(new Q4(new Promise(()=>{})))}function DK(t){return t.every(e=>e.state==="hasValue")?Sf(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Jg(fn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ol(Promise.all(t.map(e=>e.contents)))}function J4(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Du(i)?i:sn(i)?ol(i):Sf(i)),r=DK(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Du(t){return t instanceof Xg}const IK={of:t=>sn(t)?ol(t):Du(t)?t:Sf(t),error:t=>Jg(t),loading:()=>X4(),all:J4,isLoadable:Du};var Sl={loadableWithValue:Sf,loadableWithError:Jg,loadableWithPromise:ol,loadableLoading:X4,loadableAll:J4,isLoadable:Du,RecoilLoadable:IK},PK=Sl.loadableWithValue,RK=Sl.loadableWithError,MK=Sl.loadableWithPromise,LK=Sl.loadableLoading,jK=Sl.loadableAll,FK=Sl.isLoadable,$K=Sl.RecoilLoadable,Ef=Object.freeze({__proto__:null,loadableWithValue:PK,loadableWithError:RK,loadableWithPromise:MK,loadableLoading:LK,loadableAll:jK,isLoadable:FK,RecoilLoadable:$K});const Qx={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function BK(t,e){var n,r;const i=(n=K4[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw gt(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function UK(t,e){var n;const r=(n=K4[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function VK(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(BK("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Qx.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),UK("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Qx.RECOIL_GKS_ENABLED.add(n)})}))}VK();var kf=Qx;function Zg(t){return kf.RECOIL_GKS_ENABLED.has(t)}Zg.setPass=t=>{kf.RECOIL_GKS_ENABLED.add(t)};Zg.setFail=t=>{kf.RECOIL_GKS_ENABLED.delete(t)};Zg.clear=()=>{kf.RECOIL_GKS_ENABLED.clear()};var Qt=Zg;function qK(t,e,{error:n}={}){return null}var HK=qK,ni=HK,uw,cw,dw;const zK=(uw=se.createMutableSource)!==null&&uw!==void 0?uw:se.unstable_createMutableSource,Z4=(cw=se.useMutableSource)!==null&&cw!==void 0?cw:se.unstable_useMutableSource,iE=(dw=se.useSyncExternalStore)!==null&&dw!==void 0?dw:se.unstable_useSyncExternalStore;let dO=!1;function WK(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null;return iE&&!i&&!dO&&(dO=!0,ni()),i}function YK(){return Qt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Qt("recoil_sync_external_store")&&iE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Qt("recoil_mutable_source")&&Z4!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Qt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Qt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var sE={createMutableSource:zK,useMutableSource:Z4,useSyncExternalStore:iE,currentRendererSupportsUseSyncExternalStore:WK,reactMode:YK};class oE{constructor(e){pt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class ej extends oE{}class tj extends oE{}function GK(t){return t instanceof ej||t instanceof tj}var ev={AbstractRecoilValue:oE,RecoilState:ej,RecoilValueReadOnly:tj,isRecoilValue:GK},KK=ev.AbstractRecoilValue,QK=ev.RecoilState,XK=ev.RecoilValueReadOnly,JK=ev.isRecoilValue,al=Object.freeze({__proto__:null,AbstractRecoilValue:KK,RecoilState:QK,RecoilValueReadOnly:XK,isRecoilValue:JK});function ZK(t,...e){}var eQ=ZK,nj=eQ;function tQ(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var tv=tQ;class rj{}const nQ=new rj,Iu=new Map,aE=new Map;function rQ(t){return tv(t,e=>fn(aE.get(e)))}function iQ(t){if(Iu.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function sQ(t){kf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&iQ(t.key),Iu.set(t.key,t);const e=t.set==null?new al.RecoilValueReadOnly(t.key):new al.RecoilState(t.key);return aE.set(t.key,e),e}class oQ extends Error{}function aQ(t){const e=Iu.get(t);if(e==null)throw new oQ(`Missing definition for RecoilValue: "${t}""`);return e}function lQ(t){return Iu.get(t)}const Sm=new Map;function uQ(t){var e;if(!Qt("recoil_memory_managament_2020"))return;const n=Iu.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Iu.delete(t),(r=ij(t))===null||r===void 0||r(),Sm.delete(t)}}function cQ(t,e){Qt("recoil_memory_managament_2020")&&(e===void 0?Sm.delete(t):Sm.set(t,e))}function ij(t){return Sm.get(t)}var Di={recoilValues:aE,registerNode:sQ,getNode:aQ,getNodeMaybe:lQ,deleteNodeConfigIfPossible:uQ,setConfigDeletionHandler:cQ,getConfigDeletionHandler:ij,recoilValuesForKeys:rQ,DefaultValue:rj,DEFAULT_VALUE:nQ};function dQ(t,e){e()}var fQ={enqueueExecution:dQ};function hQ(t,e){return e={exports:{}},t(e,e.exports),e.exports}var pQ=hQ(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},h=function(ie){return function(){return ie}},c=n.hash=function(oe){var ie=typeof oe>"u"?"undefined":e(oe);if(ie==="number")return oe;ie!=="string"&&(oe+="");for(var be=0,ke=0,Te=oe.length;ke<Te;++ke){var Oe=oe.charCodeAt(ke);be=(be<<5)-be+Oe|0}return be},f=function(ie){return ie-=ie>>1&1431655765,ie=(ie&858993459)+(ie>>2&858993459),ie=ie+(ie>>4)&252645135,ie+=ie>>8,ie+=ie>>16,ie&127},p=function(ie,be){return be>>>ie&s},m=function(ie){return 1<<ie},g=function(ie,be){return f(ie&be-1)},y=function(ie,be,ke,Te){var Oe=Te;if(!ie){var Ge=Te.length;Oe=new Array(Ge);for(var Ue=0;Ue<Ge;++Ue)Oe[Ue]=Te[Ue]}return Oe[be]=ke,Oe},w=function(ie,be,ke){var Te=ke.length-1,Oe=0,Ge=0,Ue=ke;if(ie)Oe=Ge=be;else for(Ue=new Array(Te);Oe<be;)Ue[Ge++]=ke[Oe++];for(++Oe;Oe<=Te;)Ue[Ge++]=ke[Oe++];return ie&&(Ue.length=Te),Ue},b=function(ie,be,ke,Te){var Oe=Te.length;if(ie){for(var Ge=Oe;Ge>=be;)Te[Ge--]=Te[Ge];return Te[be]=ke,Te}for(var Ue=0,He=0,rt=new Array(Oe+1);Ue<be;)rt[He++]=Te[Ue++];for(rt[be]=ke;Ue<Oe;)rt[++He]=Te[Ue++];return rt},x=1,E=2,S=3,k=4,C={__hamt_isEmpty:!0},O=function(ie){return ie===C||ie&&ie.__hamt_isEmpty},N=function(ie,be,ke,Te){return{type:x,edit:ie,hash:be,key:ke,value:Te,_modify:Y}},P=function(ie,be,ke){return{type:E,edit:ie,hash:be,children:ke,_modify:H}},I=function(ie,be,ke){return{type:S,edit:ie,mask:be,children:ke,_modify:j}},A=function(ie,be,ke){return{type:k,edit:ie,size:be,children:ke,_modify:U}},D=function(ie){return ie===C||ie.type===x||ie.type===E},L=function(ie,be,ke,Te,Oe){for(var Ge=[],Ue=Te,He=0,rt=0;Ue;++rt)Ue&1&&(Ge[rt]=Oe[He++]),Ue>>>=1;return Ge[be]=ke,A(ie,He+1,Ge)},F=function(ie,be,ke,Te){for(var Oe=new Array(be-1),Ge=0,Ue=0,He=0,rt=Te.length;He<rt;++He)if(He!==ke){var Et=Te[He];Et&&!O(Et)&&(Oe[Ge++]=Et,Ue|=1<<He)}return I(ie,Ue,Oe)},q=function oe(ie,be,ke,Te,Oe,Ge){if(ke===Oe)return P(ie,ke,[Ge,Te]);var Ue=p(be,ke),He=p(be,Oe);return I(ie,m(Ue)|m(He),Ue===He?[oe(ie,be+r,ke,Te,Oe,Ge)]:Ue<He?[Te,Ge]:[Ge,Te])},M=function(ie,be,ke,Te,Oe,Ge,Ue,He){for(var rt=Oe.length,Et=0;Et<rt;++Et){var Dn=Oe[Et];if(ke(Ue,Dn.key)){var jt=Dn.value,cn=Ge(jt);return cn===jt?Oe:cn===l?(--He.value,w(ie,Et,Oe)):y(ie,Et,N(be,Te,Ue,cn),Oe)}}var zr=Ge();return zr===l?Oe:(++He.value,y(ie,rt,N(be,Te,Ue,zr),Oe))},B=function(ie,be){return ie===be.edit},Y=function(ie,be,ke,Te,Oe,Ge,Ue){if(be(Ge,this.key)){var He=Te(this.value);return He===this.value?this:He===l?(--Ue.value,C):B(ie,this)?(this.value=He,this):N(ie,Oe,Ge,He)}var rt=Te();return rt===l?this:(++Ue.value,q(ie,ke,this.hash,this,Oe,N(ie,Oe,Ge,rt)))},H=function(ie,be,ke,Te,Oe,Ge,Ue){if(Oe===this.hash){var He=B(ie,this),rt=M(He,ie,be,this.hash,this.children,Te,Ge,Ue);return rt===this.children?this:rt.length>1?P(ie,this.hash,rt):rt[0]}var Et=Te();return Et===l?this:(++Ue.value,q(ie,ke,this.hash,this,Oe,N(ie,Oe,Ge,Et)))},j=function(ie,be,ke,Te,Oe,Ge,Ue){var He=this.mask,rt=this.children,Et=p(ke,Oe),Dn=m(Et),jt=g(He,Dn),cn=He&Dn,zr=cn?rt[jt]:C,yi=zr._modify(ie,be,ke+r,Te,Oe,Ge,Ue);if(zr===yi)return this;var ho=B(ie,this),Ii=He,va=void 0;if(cn&&O(yi)){if(Ii&=~Dn,!Ii)return C;if(rt.length<=2&&D(rt[jt^1]))return rt[jt^1];va=w(ho,jt,rt)}else if(!cn&&!O(yi)){if(rt.length>=o)return L(ie,Et,yi,He,rt);Ii|=Dn,va=b(ho,jt,yi,rt)}else va=y(ho,jt,yi,rt);return ho?(this.mask=Ii,this.children=va,this):I(ie,Ii,va)},U=function(ie,be,ke,Te,Oe,Ge,Ue){var He=this.size,rt=this.children,Et=p(ke,Oe),Dn=rt[Et],jt=(Dn||C)._modify(ie,be,ke+r,Te,Oe,Ge,Ue);if(Dn===jt)return this;var cn=B(ie,this),zr=void 0;if(O(Dn)&&!O(jt))++He,zr=y(cn,Et,jt,rt);else if(!O(Dn)&&O(jt)){if(--He,He<=a)return F(ie,He,Et,rt);zr=y(cn,Et,C,rt)}else zr=y(cn,Et,jt,rt);return cn?(this.size=He,this.children=zr,this):A(ie,He,zr)};C._modify=function(oe,ie,be,ke,Te,Oe,Ge){var Ue=ke();return Ue===l?C:(++Ge.value,N(oe,Te,Oe,Ue))};function V(oe,ie,be,ke,Te){this._editable=oe,this._edit=ie,this._config=be,this._root=ke,this._size=Te}V.prototype.setTree=function(oe,ie){return this._editable?(this._root=oe,this._size=ie,this):oe===this._root?this:new V(this._editable,this._edit,this._config,oe,ie)};var z=n.tryGetHash=function(oe,ie,be,ke){for(var Te=ke._root,Oe=0,Ge=ke._config.keyEq;;)switch(Te.type){case x:return Ge(be,Te.key)?Te.value:oe;case E:{if(ie===Te.hash)for(var Ue=Te.children,He=0,rt=Ue.length;He<rt;++He){var Et=Ue[He];if(Ge(be,Et.key))return Et.value}return oe}case S:{var Dn=p(Oe,ie),jt=m(Dn);if(Te.mask&jt){Te=Te.children[g(Te.mask,jt)],Oe+=r;break}return oe}case k:{if(Te=Te.children[p(Oe,ie)],Te){Oe+=r;break}return oe}default:return oe}};V.prototype.tryGetHash=function(oe,ie,be){return z(oe,ie,be,this)};var Q=n.tryGet=function(oe,ie,be){return z(oe,be._config.hash(ie),ie,be)};V.prototype.tryGet=function(oe,ie){return Q(oe,ie,this)};var X=n.getHash=function(oe,ie,be){return z(void 0,oe,ie,be)};V.prototype.getHash=function(oe,ie){return X(oe,ie,this)},n.get=function(oe,ie){return z(void 0,ie._config.hash(oe),oe,ie)},V.prototype.get=function(oe,ie){return Q(ie,oe,this)};var W=n.has=function(oe,ie,be){return z(l,oe,ie,be)!==l};V.prototype.hasHash=function(oe,ie){return W(oe,ie,this)};var J=n.has=function(oe,ie){return W(ie._config.hash(oe),oe,ie)};V.prototype.has=function(oe){return J(oe,this)};var Z=function(ie,be){return ie===be};n.make=function(oe){return new V(0,0,{keyEq:oe&&oe.keyEq||Z,hash:oe&&oe.hash||c},C,0)},n.empty=n.make();var te=n.isEmpty=function(oe){return oe&&!!O(oe._root)};V.prototype.isEmpty=function(){return te(this)};var le=n.modifyHash=function(oe,ie,be,ke){var Te={value:ke._size},Oe=ke._root._modify(ke._editable?ke._edit:NaN,ke._config.keyEq,0,oe,ie,be,Te);return ke.setTree(Oe,Te.value)};V.prototype.modifyHash=function(oe,ie,be){return le(be,oe,ie,this)};var pe=n.modify=function(oe,ie,be){return le(oe,be._config.hash(ie),ie,be)};V.prototype.modify=function(oe,ie){return pe(ie,oe,this)};var ge=n.setHash=function(oe,ie,be,ke){return le(h(be),oe,ie,ke)};V.prototype.setHash=function(oe,ie,be){return ge(oe,ie,be,this)};var Ce=n.set=function(oe,ie,be){return ge(be._config.hash(oe),oe,ie,be)};V.prototype.set=function(oe,ie){return Ce(oe,ie,this)};var $e=h(l),De=n.removeHash=function(oe,ie,be){return le($e,oe,ie,be)};V.prototype.removeHash=V.prototype.deleteHash=function(oe,ie){return De(oe,ie,this)};var nt=n.remove=function(oe,ie){return De(ie._config.hash(oe),oe,ie)};V.prototype.remove=V.prototype.delete=function(oe){return nt(oe,this)};var Qe=n.beginMutation=function(oe){return new V(oe._editable+1,oe._edit+1,oe._config,oe._root,oe._size)};V.prototype.beginMutation=function(){return Qe(this)};var ce=n.endMutation=function(oe){return oe._editable=oe._editable&&oe._editable-1,oe};V.prototype.endMutation=function(){return ce(this)};var fe=n.mutate=function(oe,ie){var be=Qe(ie);return oe(be),ce(be)};V.prototype.mutate=function(oe){return fe(oe,this)};var we=function(ie){return ie&&xe(ie[0],ie[1],ie[2],ie[3],ie[4])},xe=function(ie,be,ke,Te,Oe){for(;ke<ie;){var Ge=be[ke++];if(Ge&&!O(Ge))return he(Ge,Te,[ie,be,ke,Te,Oe])}return we(Oe)},he=function(ie,be,ke){switch(ie.type){case x:return{value:be(ie),rest:ke};case E:case k:case S:var Te=ie.children;return xe(Te.length,Te,0,be,ke);default:return we(ke)}},Be={done:!0};function Ie(oe){this.v=oe}Ie.prototype.next=function(){if(!this.v)return Be;var oe=this.v;return this.v=we(oe.rest),oe},Ie.prototype[Symbol.iterator]=function(){return this};var Ye=function(ie,be){return new Ie(he(ie._root,be))},Yt=function(ie){return[ie.key,ie.value]},An=n.entries=function(oe){return Ye(oe,Yt)};V.prototype.entries=V.prototype[Symbol.iterator]=function(){return An(this)};var it=function(ie){return ie.key},qr=n.keys=function(oe){return Ye(oe,it)};V.prototype.keys=function(){return qr(this)};var ft=function(ie){return ie.value},Ht=n.values=V.prototype.values=function(oe){return Ye(oe,ft)};V.prototype.values=function(){return Ht(this)};var Zn=n.fold=function(oe,ie,be){var ke=be._root;if(ke.type===x)return oe(ie,ke.value,ke.key);for(var Te=[ke.children],Oe=void 0;Oe=Te.pop();)for(var Ge=0,Ue=Oe.length;Ge<Ue;){var He=Oe[Ge++];He&&He.type&&(He.type===x?ie=oe(ie,He.value,He.key):Te.push(He.children))}return ie};V.prototype.fold=function(oe,ie){return Zn(oe,ie,this)};var Hr=n.forEach=function(oe,ie){return Zn(function(be,ke,Te){return oe(ke,Te,ie)},null,ie)};V.prototype.forEach=function(oe){return Hr(oe,this)};var Dr=n.count=function(oe){return oe._size};V.prototype.count=function(){return Dr(this)},Object.defineProperty(V.prototype,"size",{get:V.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class mQ{constructor(e){pt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return uE(this)}toMap(){return new Map(this._map)}}class lE{constructor(e){if(pt(this,"_hamt",pQ.empty.beginMutation()),e instanceof lE){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return uE(this)}toMap(){return new Map(this._hamt)}}function uE(t){return Qt("recoil_hamt_2020")?new lE(t):new mQ(t)}var gQ={persistentMap:uE},vQ=gQ.persistentMap,yQ=Object.freeze({__proto__:null,persistentMap:vQ});function wQ(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var fO=wQ;function bQ(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var hO=bQ;function xQ(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function _Q(t){return{nodeDeps:hO(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:hO(t.nodeToNodeSubscriptions,e=>new Set(e))}}function fw(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:fO(e,o);for(const l of a)s.has(l)||s.set(l,new Set),fn(s.get(l)).add(t);if(o){const l=fO(o,e);for(const h of l){if(!s.has(h))return;const c=fn(s.get(h));c.delete(t),c.size===0&&s.delete(h)}}}function SQ(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||r===((s=l.previousTree)===null||s===void 0?void 0:s.version)||ni();const h=n.getGraph(r);if(fw(t,e,h),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const f=n.getGraph(l.currentTree.version);fw(t,e,f,h)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const p=n.getGraph(f);fw(t,e,p,h)}}}var Tf={cloneGraph:_Q,graph:xQ,saveDepsToStore:SQ};let EQ=0;const kQ=()=>EQ++;let TQ=0;const CQ=()=>TQ++;let NQ=0;const OQ=()=>NQ++;var nv={getNextTreeStateVersion:kQ,getNextStoreID:CQ,getNextComponentID:OQ};const{persistentMap:pO}=yQ,{graph:AQ}=Tf,{getNextTreeStateVersion:sj}=nv;function DQ(){const t=sj();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:pO(),nonvalidatedAtoms:pO()}}function IQ(){const t=DQ();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,AQ()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var oj={makeEmptyStoreState:IQ,getNextTreeStateVersion:sj};class PQ{}var cE={RetentionZone:PQ};function RQ(t,e){const n=new Set(t);return n.add(e),n}var MQ={setByAddingToSet:RQ};function*LQ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var dE=LQ;function jQ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var aj=jQ;const{getNode:Cf,getNodeMaybe:FQ,recoilValuesForKeys:mO}=Di,{RetentionZone:gO}=cE,{setByAddingToSet:$Q}=MQ,BQ=Object.freeze(new Set);class UQ extends Error{}function VQ(t,e,n){if(!Qt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof gO)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Qt("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof gO)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function fE(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Cf(n),o=VQ(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function qQ(t,e,n){fE(t,t.getState().currentTree,e,n)}function HQ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function zQ(t,e,n){return fE(t,e,n,"get"),Cf(n).get(t,e)}function lj(t,e,n){return Cf(n).peek(t,e)}function WQ(t,e,n){var r;const i=FQ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:$Q(t.dirtyAtoms,e)}}function YQ(t,e,n,r){const i=Cf(n);if(i.set==null)throw new UQ(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return fE(t,e,n,"set"),s(t,e,r)}function GQ(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Cf(n).nodeType;return aj({type:s},{loadable:()=>lj(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return mO((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:mO(dE(uj(t,e,new Set([n])),l=>l!==n)),components:tv((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function uj(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:BQ;for(const h of l)r.has(h)||i.push(h)}return r}var El={getNodeLoadable:zQ,peekNodeLoadable:lj,setNodeValue:YQ,initializeNode:qQ,cleanUpNode:HQ,setUnvalidatedAtomValue_DEPRECATED:WQ,peekNodeInfo:GQ,getDownstreamNodes:uj};let cj=null;function KQ(t){cj=t}function QQ(){var t;(t=cj)===null||t===void 0||t()}var dj={setInvalidateMemoizedSnapshot:KQ,invalidateMemoizedSnapshot:QQ};const{getDownstreamNodes:XQ,getNodeLoadable:fj,setNodeValue:JQ}=El,{getNextComponentID:ZQ}=nv,{getNode:eX,getNodeMaybe:hj}=Di,{DefaultValue:hE}=Di,{reactMode:tX}=sE,{AbstractRecoilValue:nX,RecoilState:Gge,RecoilValueReadOnly:Kge,isRecoilValue:Qge}=al,{invalidateMemoizedSnapshot:rX}=dj;function iX(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||n.version===((i=s.previousTree)===null||i===void 0?void 0:i.version)||ni();const o=fj(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function sX(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof hE?n.delete(i):n.set(i,r)}),n}function oX(t,e,{key:n},r){if(typeof r=="function"){const i=fj(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ni(),gt(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function aX(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=oX(t,e,i,s),a=JQ(t,e,i.key,o);for(const[l,h]of a.entries())Xx(e,l,h)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Xx(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=hj(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else ni(`Unknown action ${n.type}`)}function Xx(t,e,n){n.state==="hasValue"&&n.contents instanceof hE?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function pj(t,e){t.replaceState(n=>{const r=mj(n);for(const i of e)aX(t,r,i);return gj(t,r),rX(),r})}function rv(t,e){if(bd.length){const n=bd[bd.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else pj(t,[e])}const bd=[];function lX(){const t=new Map;return bd.push(t),()=>{for(const[n,r]of t)pj(n,r);bd.pop()!==t&&ni()}}function mj(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function gj(t,e){const n=XQ(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=hj(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function vj(t,e,n){rv(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function uX(t,e,n){if(n instanceof hE)return vj(t,e,n);rv(t,{type:"setLoadable",recoilValue:e,loadable:n})}function cX(t,e){rv(t,{type:"markModified",recoilValue:e})}function dX(t,e,n){rv(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function fX(t,{key:e},n,r=null){const i=ZQ(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),fn(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=tX();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);if(l===void 0||!l.has(i)){ni();return}l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e)}}}function hX(t,e){var n;const{currentTree:r}=t.getState(),i=eX(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var ao={AbstractRecoilValue:nX,getRecoilValueAsLoadable:iX,setRecoilValue:vj,setRecoilValueLoadable:uX,markRecoilValueModified:cX,setUnvalidatedRecoilValue:dX,subscribeToRecoilValue:fX,applyAtomValueWrites:sX,batchStart:lX,writeLoadableToTreeState:Xx,invalidateDownstreams:gj,copyTreeState:mj,refreshRecoilValue:hX};function pX(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var mX=pX;const{cleanUpNode:gX}=El,{deleteNodeConfigIfPossible:vX,getNode:yj}=Di,{RetentionZone:wj}=cE,yX=12e4,bj=new Set;function xj(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree){ni();return}const i=new Set;for(const o of e)if(o instanceof wj)for(const a of _X(n,o))i.add(a);else i.add(o);const s=wX(t,i);for(const o of s)xX(t,r,o)}function wX(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const h=new Set,c=bX(t,r,l,s,o);for(const g of c){var f;if(yj(g).retainedBy==="recoilRoot"){o.add(g);continue}if(((f=n.retention.referenceCounts.get(g))!==null&&f!==void 0?f:0)>0){o.add(g);continue}if(_j(g).some(w=>n.retention.referenceCounts.get(w))){o.add(g);continue}const y=i.nodeToNodeSubscriptions.get(g);if(y&&mX(y,w=>o.has(w))){o.add(g);continue}s.add(g),h.add(g)}const p=new Set;for(const g of h)for(const y of(m=i.nodeDeps.get(g))!==null&&m!==void 0?m:bj){var m;s.has(y)||p.add(y)}p.size&&a(p)}}function bX(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(fn(n.values().next().value));return o;function l(h){if(r.has(h)||i.has(h)){n.delete(h);return}if(a.has(h))return;const c=s.nodeToNodeSubscriptions.get(h);if(c)for(const f of c)l(f);a.add(h),n.delete(h),o.push(h)}}function xX(t,e,n){if(!Qt("recoil_memory_managament_2020"))return;gX(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=_j(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const h of l){var a;(a=o.nodeToNodeSubscriptions.get(h))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}vX(n)}function _X(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:bj}function _j(t){const e=yj(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof wj?[e]:e}function SX(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):xj(t,new Set([e]))}function EX(t,e,n){var r;if(!Qt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?kX(t,e):i.set(e,s)}function kX(t,e){if(!Qt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),SX(t,e)}function TX(t){if(!Qt("recoil_memory_managament_2020"))return;const e=t.getState();xj(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function CX(t){return t===void 0?"recoilRoot":t}var Qu={SUSPENSE_TIMEOUT_MS:yX,updateRetainCount:EX,releaseScheduledRetainablesNow:TX,retainedByOptionWithDefault:CX};const{unstable_batchedUpdates:NX}=S_;var OX={unstable_batchedUpdates:NX};const{unstable_batchedUpdates:AX}=OX;var DX={unstable_batchedUpdates:AX};const{batchStart:IX}=ao,{unstable_batchedUpdates:PX}=DX;let RX=PX||(t=>t());const MX=t=>{RX(()=>{let e=()=>{};try{e=IX(),t()}finally{e()}})};var pE={batchUpdates:MX};function*LX(t){for(const e of t)for(const n of e)yield n}var Sj=LX;const jX=typeof Window>"u"||typeof window>"u";var mE={isSSR:jX};function FX(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var $X={memoizeOneWithArgsHashAndInvalidation:FX};const{batchUpdates:Jx}=pE,{initializeNode:BX,peekNodeInfo:UX}=El,{graph:VX}=Tf,{getNextStoreID:qX}=nv,{DEFAULT_VALUE:HX,recoilValues:vO,recoilValuesForKeys:yO}=Di,{AbstractRecoilValue:zX,getRecoilValueAsLoadable:WX,setRecoilValue:wO,setUnvalidatedRecoilValue:YX}=ao,{updateRetainCount:Mp}=Qu,{setInvalidateMemoizedSnapshot:GX}=dj,{getNextTreeStateVersion:KX,makeEmptyStoreState:QX}=oj,{isSSR:XX}=mE,{memoizeOneWithArgsHashAndInvalidation:JX}=$X;class iv{constructor(e,n){pt(this,"_store",void 0),pt(this,"_refCount",1),pt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),WX(this._store,r))),pt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),pt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return yO(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?vO.values():r.isInitialized===!0?yO(Sj([i,s])):dE(vO.values(),({key:o})=>!i.has(o)&&!s.has(o))}),pt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),UX(this._store,this._store.getState().currentTree,r))),pt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Zx(this,Jx);return r(i),i}),pt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Zx(this,Jx);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:qX(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return fn(i.get(r));const s=VX();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw gt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)BX(this._store,r,"get"),Mp(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&ni(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){XX||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Qt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Qt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Ej(t,e,n=!1){const r=t.getState(),i=n?KX():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(tv(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function ZX(t){const e=new iv(QX());return t!=null?e.map(t):e}const[bO,kj]=JX((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:fn(r.previousTree);return new iv(Ej(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});GX(kj);function eJ(t,e="latest"){const n=bO(t,e);return n.isRetained()?n:(kj(),bO(t,e))}class Zx extends iv{constructor(e,n){super(Ej(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),pt(this,"_batch",void 0),pt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Mp(s,r.key,1),wO(this.getStore_INTERNAL(),r,i)})}),pt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Mp(i,r.key,1),wO(this.getStore_INTERNAL(),r,HX)})}),pt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Jx(()=>{for(const[s,o]of r.entries())Mp(i,s,1),YX(i,new zX(s),o)})}),this._batch=n}}var sv={Snapshot:iv,MutableSnapshot:Zx,freshSnapshot:ZX,cloneSnapshot:eJ},tJ=sv.Snapshot,nJ=sv.MutableSnapshot,rJ=sv.freshSnapshot,iJ=sv.cloneSnapshot,ov=Object.freeze({__proto__:null,Snapshot:tJ,MutableSnapshot:nJ,freshSnapshot:rJ,cloneSnapshot:iJ});function sJ(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var oJ=sJ;const{useRef:aJ}=se;function lJ(t){const e=aJ(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var xO=lJ;const{getNextTreeStateVersion:uJ,makeEmptyStoreState:Tj}=oj,{cleanUpNode:cJ,getDownstreamNodes:dJ,initializeNode:fJ,setNodeValue:hJ,setUnvalidatedAtomValue_DEPRECATED:pJ}=El,{graph:mJ}=Tf,{cloneGraph:gJ}=Tf,{getNextStoreID:Cj}=nv,{createMutableSource:hw,reactMode:Nj}=sE,{applyAtomValueWrites:vJ}=ao,{releaseScheduledRetainablesNow:Oj}=Qu,{freshSnapshot:yJ}=ov,{useCallback:wJ,useContext:Aj,useEffect:e_,useMemo:bJ,useRef:xJ,useState:_J}=se;function Hc(){throw gt("This component must be used inside a <RecoilRoot> component.")}const Dj=Object.freeze({storeID:Cj(),getState:Hc,replaceState:Hc,getGraph:Hc,subscribeToTransactions:Hc,addTransactionMetadata:Hc});let t_=!1;function _O(t){if(t_)throw gt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Qt("recoil_memory_managament_2020")&&Qt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Oj(t);const n=e.currentTree.version,r=uJ();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,gJ(fn(e.graphsByVersion.get(n))))}}const Ij=se.createContext({current:Dj}),gE=()=>Aj(Ij),Pj=se.createContext(null);function SJ(){const t=Aj(Pj);return t==null&&nj(),t}function Rj(t,e,n){const r=dJ(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function EJ(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!Nj().early||e.suspendedComponentResolvers.size>0)&&(Rj(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function kJ(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,EJ(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):ni("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Qt("recoil_memory_managament_2020")&&n==null&&Oj(t)}finally{e.commitDepth--}}function TJ({setNotifyBatcherOfChange:t}){const e=gE(),[,n]=_J([]);return t(()=>n({})),e_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),e_(()=>{fQ.enqueueExecution("Batcher",()=>{kJ(e.current)})}),null}function CJ(t,e){const n=Tj();return e({set:(r,i)=>{const s=n.currentTree,o=hJ(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const h of a)l.delete(h);n.currentTree={...s,dirtyAtoms:oJ(s.dirtyAtoms,a),atomValues:vJ(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=pJ(n.currentTree,s,i)})}}),n}function NJ(t){const e=yJ(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let SO=0;function OJ({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=m=>{const g=i.current.graphsByVersion;if(g.has(m))return fn(g.get(m));const y=mJ();return g.set(m,y),y},o=(m,g)=>{if(g==null){const{transactionSubscriptions:y}=f.current.getState(),w=SO++;return y.set(w,m),{release:()=>{y.delete(w)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(g)||y.set(g,new Map);const w=SO++;return fn(y.get(g)).set(w,m),{release:()=>{const b=y.get(g);b&&(b.delete(w),b.size===0&&y.delete(g))}}}},a=m=>{_O(f.current);for(const g of Object.keys(m))fn(f.current.getState().nextTree).transactionMetadata[g]=m[g]},l=m=>{_O(f.current);const g=fn(i.current.nextTree);let y;try{t_=!0,y=m(g)}finally{t_=!1}y!==g&&(i.current.nextTree=y,Nj().early&&Rj(f.current,i.current,y),fn(h.current)())},h=xJ(null),c=wJ(m=>{h.current=m},[h]),f=xO(()=>n??{storeID:Cj(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(f.current=n),i=xO(()=>t!=null?CJ(f.current,t):e!=null?NJ(e):Tj());const p=bJ(()=>hw==null?void 0:hw(i,()=>i.current.currentTree.version),[i]);return e_(()=>{const m=f.current;for(const g of new Set(m.getState().knownAtoms))fJ(m,g,"get");return()=>{for(const g of m.getState().knownAtoms)cJ(m,g)}},[f]),se.createElement(Ij.Provider,{value:f},se.createElement(Pj.Provider,{value:p},se.createElement(TJ,{setNotifyBatcherOfChange:c}),r))}function AJ(t){const{override:e,...n}=t,r=gE();return e===!1&&r.current!==Dj?t.children:se.createElement(OJ,n)}var vE={RecoilRoot:AJ,useStoreRef:gE,useRecoilMutableSource:SJ};function DJ(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var IJ=DJ;const{useEffect:PJ,useRef:RJ}=se;function MJ(t){const e=RJ();return PJ(()=>{e.current=t}),e.current}var LJ=MJ;const{useStoreRef:jJ}=vE,{SUSPENSE_TIMEOUT_MS:FJ}=Qu,{updateRetainCount:zc}=Qu,{RetentionZone:$J}=cE,{useEffect:BJ,useRef:UJ}=se,{isSSR:EO}=mE;function VJ(t){if(Qt("recoil_memory_managament_2020"))return qJ(t)}function qJ(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof $J?o:o.key),r=jJ();BJ(()=>{if(!Qt("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!EO)window.clearTimeout(i.current),i.current=null;else for(const a of n)zc(o,a,1);return()=>{for(const a of n)zc(o,a,-1)}},[r,...n]);const i=UJ(),s=LJ(n);if(!EO&&(s===void 0||!IJ(s,n))){const o=r.current;for(const a of n)zc(o,a,1);if(s)for(const a of s)zc(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)zc(o,a,-1)},FJ)}}var HJ=VJ;function zJ(){return"<component name not available>"}var av=zJ;const{currentRendererSupportsUseSyncExternalStore:WJ,reactMode:Nf,useMutableSource:YJ,useSyncExternalStore:GJ}=sE,{useRecoilMutableSource:KJ,useStoreRef:Xu}=vE,{isRecoilValue:Xge}=al,{getRecoilValueAsLoadable:lv,setRecoilValue:QJ,subscribeToRecoilValue:uv}=ao,{useCallback:Hi,useEffect:Em,useMemo:XJ,useRef:Mj,useState:Lj}=se,{isSSR:JJ}=mE;function ZJ(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),JJ&&sn(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:gt(`Invalid value of loadable atom "${e.key}"`)}function eZ(t){const e=Xu(),n=av(),r=Hi(()=>{var a;const l=e.current,h=l.getState(),c=Nf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return{loadable:lv(l,t,c),key:t.key}},[e,t]),i=Hi(a=>{let l;return()=>{var h,c;const f=a();return(h=l)!==null&&h!==void 0&&h.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),s=XJ(()=>i(r),[r,i]),o=Hi(a=>{const l=e.current;return uv(l,t,a,n).release},[e,t,n]);return GJ(o,s,s).loadable}function tZ(t){const e=Xu(),n=Hi(()=>{var h;const c=e.current,f=c.getState(),p=Nf().early&&(h=f.nextTree)!==null&&h!==void 0?h:f.currentTree;return lv(c,t,p)},[e,t]),r=Hi(()=>n(),[n]),i=av(),s=Hi((h,c)=>{const f=e.current;return uv(f,t,()=>{if(!Qt("recoil_suppress_rerender_in_callback"))return c();const m=n();l.current.is(m)||c(),l.current=m},i).release},[e,t,i,n]),o=KJ();if(o==null)throw gt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=YJ(o,r,s),l=Mj(a);return Em(()=>{l.current=a}),a}function kO(t){const e=Xu(),n=av(),r=Hi(()=>{var l;const h=e.current,c=h.getState(),f=Nf().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return lv(h,t,f)},[e,t]),i=Hi(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Hi(l=>{const h=i();return l.loadable.is(h.loadable)&&l.key===h.key?l:h},[i]);Em(()=>{const l=uv(e.current,t,h=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Lj(i);return o.key!==t.key?i().loadable:o.loadable}function nZ(t){const e=Xu(),[,n]=Lj([]),r=av(),i=Hi(()=>{var a;const l=e.current,h=l.getState(),c=Nf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return lv(l,t,c)},[e,t]),s=i(),o=Mj(s);return Em(()=>{o.current=s}),Em(()=>{const a=e.current,l=a.getState(),h=uv(a,t,f=>{var p;if(!Qt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=o.current)!==null&&p!==void 0&&p.is(m)||n(m),o.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Qt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=o.current)!==null&&c!==void 0&&c.is(f)||n(f),o.current=f}return h.release},[r,i,t,e]),s}function rZ(t){return Qt("recoil_memory_managament_2020")&&HJ(t),{TRANSITION_SUPPORT:kO,SYNC_EXTERNAL_STORE:WJ()?eZ:kO,MUTABLE_SOURCE:tZ,LEGACY:nZ}[Nf().mode](t)}function jj(t){const e=Xu(),n=rZ(t);return ZJ(n,t,e)}function Fj(t){const e=Xu();return Hi(n=>{QJ(e.current,t,n)},[e,t])}function iZ(t){return[jj(t),Fj(t)]}var sZ={useRecoilState:iZ,useRecoilValue:jj,useSetRecoilState:Fj};const{batchUpdates:oZ}=pE,{DEFAULT_VALUE:aZ,getNode:lZ}=Di,{AbstractRecoilValue:uZ,setRecoilValueLoadable:cZ}=ao,{cloneSnapshot:Jge}=ov,{useCallback:Zge,useEffect:eve,useRef:tve,useState:nve}=se;function dZ(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;oZ(()=>{const o=new Set;for(const h of[i.atomValues.keys(),s.atomValues.keys()])for(const c of h){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&lZ(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(h=>{cZ(t,new uZ(h),s.atomValues.has(h)?fn(s.atomValues.get(h)):aZ)}),t.replaceState(h=>({...h,stateID:e.getID()}))})}var fZ={gotoSnapshot:dZ};const{useMemo:rve}=se,{loadableWithValue:hZ}=Ef,{initializeNode:pZ}=El,{DEFAULT_VALUE:mZ,getNode:gZ}=Di,{copyTreeState:vZ,getRecoilValueAsLoadable:yZ,invalidateDownstreams:wZ,writeLoadableToTreeState:bZ}=ao;function TO(t){return gZ(t.key).nodeType==="atom"}class xZ{constructor(e,n){pt(this,"_store",void 0),pt(this,"_treeState",void 0),pt(this,"_changes",void 0),pt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!TO(r))throw gt("Reading selectors within atomicUpdate is not supported");const i=yZ(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:gt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),pt(this,"set",(r,i)=>{if(!TO(r))throw gt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else pZ(this._store,r.key,"set"),this._changes.set(r.key,i)}),pt(this,"reset",r=>{this.set(r,mZ)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=vZ(this._treeState);for(const[n,r]of this._changes)bZ(e,n,hZ(r));return wZ(this._store,e),e}}function _Z(t){return e=>{t.replaceState(n=>{const r=new xZ(t,n);return e(r),r.newTreeState_INTERNAL()})}}var SZ={atomicUpdater:_Z},EZ=SZ.atomicUpdater,$j=Object.freeze({__proto__:null,atomicUpdater:EZ});function kZ(t,e){if(!t)throw new Error(e)}var TZ=kZ,ld=TZ;const{atomicUpdater:CZ}=$j,{batchUpdates:NZ}=pE,{DEFAULT_VALUE:OZ}=Di,{refreshRecoilValue:AZ,setRecoilValue:CO}=ao,{cloneSnapshot:DZ}=ov,{gotoSnapshot:IZ}=fZ,{useCallback:ive}=se;class Bj{}const PZ=new Bj;function RZ(t,e,n,r){let i=PZ,s;if(NZ(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw gt(a);const l=aj({...r??{},set:(c,f)=>CO(t,c,f),reset:c=>CO(t,c,OZ),refresh:c=>AZ(t,c),gotoSnapshot:c=>IZ(t,c),transact_UNSTABLE:c=>CZ(t)(c)},{snapshot:()=>{const c=DZ(t);return s=c.retain(),c}}),h=e(l);if(typeof h!="function")throw gt(a);i=h(...n)}),i instanceof Bj&&ld(!1),sn(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}var MZ={recoilCallback:RZ};const{useCallback:sve}=se,{atomicUpdater:ove}=$j,{useMemo:ave}=se;class LZ{constructor(e){pt(this,"value",void 0),this.value=e}}var jZ={WrappedValue:LZ},FZ=jZ.WrappedValue,Uj=Object.freeze({__proto__:null,WrappedValue:FZ});class NO extends Error{}class $Z{constructor(e){var n,r,i;pt(this,"_name",void 0),pt(this,"_numLeafs",void 0),pt(this,"_root",void 0),pt(this,"_onHit",void 0),pt(this,"_onSet",void 0),pt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let h,c;for(const[w,b]of e){var f,p,m;const x=this._root;if((x==null?void 0:x.type)==="leaf")throw this.invalidCacheError();const E=h;if(h=E?E.branches.get(c):x,h=(f=h)!==null&&f!==void 0?f:{type:"branch",nodeKey:w,parent:E,branches:new Map,branchKey:c},h.type!=="branch"||h.nodeKey!==w)throw this.invalidCacheError();E==null||E.branches.set(c,h),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,h),c=this._mapNodeValue(b),this._root=(m=this._root)!==null&&m!==void 0?m:h}const g=h?(s=h)===null||s===void 0?void 0:s.branches.get(c):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:h,branchKey:c};(o=h)===null||o===void 0||o.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(s){if(s instanceof NO)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw ni("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new NO}}var BZ={TreeCache:$Z},UZ=BZ.TreeCache,Vj=Object.freeze({__proto__:null,TreeCache:UZ});class VZ{constructor(e){var n;pt(this,"_maxSize",void 0),pt(this,"_size",void 0),pt(this,"_head",void 0),pt(this,"_tail",void 0),pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=fn(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var qZ={LRUCache:VZ},HZ=qZ.LRUCache,qj=Object.freeze({__proto__:null,LRUCache:HZ});const{LRUCache:zZ}=qj,{TreeCache:WZ}=Vj;function YZ({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new zZ({maxSize:e}),i=new WZ({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var OO=YZ;function Ui(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw gt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(sn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Ui(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Ui(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Ui(s,e)]=o;return Ui(i,e,n)}return t instanceof Set?Ui(Array.from(t).sort((i,s)=>Ui(i,e).localeCompare(Ui(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Ui(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Ui(i,e)}:${Ui(t[i],e,i)}`).join(",")}}`}function GZ(t,e={allowFunctions:!1}){return Ui(t,e)}var cv=GZ;const{TreeCache:KZ}=Vj,op={equality:"reference",eviction:"keep-all",maxSize:1/0};function QZ({equality:t=op.equality,eviction:e=op.eviction,maxSize:n=op.maxSize}=op,r){const i=XZ(t);return JZ(e,n,i,r)}function XZ(t){switch(t){case"reference":return e=>e;case"value":return e=>cv(e)}throw gt(`Unrecognized equality policy ${t}`)}function JZ(t,e,n,r){switch(t){case"keep-all":return new KZ({name:r,mapNodeValue:n});case"lru":return OO({name:r,maxSize:fn(e),mapNodeValue:n});case"most-recent":return OO({name:r,maxSize:1,mapNodeValue:n})}throw gt(`Unrecognized eviction policy ${t}`)}var ZZ=QZ;const{isLoadable:eee,loadableWithError:ap,loadableWithPromise:tee,loadableWithValue:pw}=Ef,{WrappedValue:Hj}=Uj,{getNodeLoadable:lp,peekNodeLoadable:nee,setNodeValue:ree}=El,{saveDepsToStore:iee}=Tf,{DEFAULT_VALUE:see,getConfigDeletionHandler:oee,getNode:aee,registerNode:AO}=Di,{isRecoilValue:lee}=al,{markRecoilValueModified:DO}=ao,{retainedByOptionWithDefault:uee}=Qu,{recoilCallback:cee}=MZ;class zj{}const Wc=new zj,Yc=[],up=new Map,dee=(()=>{let t=0;return()=>t++})();function Wj(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=ZZ(i??{equality:"reference",eviction:"keep-all"},n),l=uee(t.retainedBy_UNSTABLE),h=new Map;let c=0;function f(){return!Qt("recoil_memory_managament_2020")||c>0}function p(V){return V.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return oee(n)!==void 0&&!f()}function g(V,z,Q,X,W){M(z,X,W),y(V,Q)}function y(V,z){F(V,z)&&L(V),b(z,!0)}function w(V,z){F(V,z)&&(fn(I(V)).stateVersions.clear(),b(z,!1))}function b(V,z){const Q=up.get(V);if(Q!=null){for(const X of Q)DO(X,fn(e));z&&up.delete(V)}}function x(V,z){let Q=up.get(z);Q==null&&up.set(z,Q=new Set),Q.add(V)}function E(V,z,Q,X,W,J){return z.then(Z=>{if(!f())throw L(V),Wc;const te=pw(Z);return g(V,Q,W,te,X),Z}).catch(Z=>{if(!f())throw L(V),Wc;if(sn(Z))return S(V,Z,Q,X,W,J);const te=ap(Z);throw g(V,Q,W,te,X),Z})}function S(V,z,Q,X,W,J){return z.then(Z=>{if(!f())throw L(V),Wc;J.loadingDepKey!=null&&J.loadingDepPromise===z?Q.atomValues.set(J.loadingDepKey,pw(Z)):V.getState().knownSelectors.forEach(ge=>{Q.atomValues.delete(ge)});const te=O(V,Q);if(te&&te.state!=="loading"){if((F(V,W)||I(V)==null)&&y(V,W),te.state==="hasValue")return te.contents;throw te.contents}if(!F(V,W)){const ge=P(V,Q);if(ge!=null)return ge.loadingLoadable.contents}const[le,pe]=C(V,Q,W);if(le.state!=="loading"&&g(V,Q,W,le,pe),le.state==="hasError")throw le.contents;return le.contents}).catch(Z=>{if(Z instanceof zj)throw Wc;if(!f())throw L(V),Wc;const te=ap(Z);throw g(V,Q,W,te,X),Z})}function k(V,z,Q,X){var W,J,Z,te;if(F(V,X)||z.version===((W=V.getState())===null||W===void 0||(J=W.currentTree)===null||J===void 0?void 0:J.version)||z.version===((Z=V.getState())===null||Z===void 0||(te=Z.nextTree)===null||te===void 0?void 0:te.version)){var le,pe,ge;iee(n,Q,V,(le=(pe=V.getState())===null||pe===void 0||(ge=pe.nextTree)===null||ge===void 0?void 0:ge.version)!==null&&le!==void 0?le:V.getState().currentTree.version)}for(const Ce of Q)o.add(Ce)}function C(V,z,Q){let X=!0,W=!0;const J=()=>{W=!1};let Z,te=!1,le;const pe={loadingDepKey:null,loadingDepPromise:null},ge=new Map;function Ce({key:De}){const nt=lp(V,z,De);switch(ge.set(De,nt),X||(k(V,z,new Set(ge.keys()),Q),w(V,Q)),nt.state){case"hasValue":return nt.contents;case"hasError":throw nt.contents;case"loading":throw pe.loadingDepKey=De,pe.loadingDepPromise=nt.contents,nt.contents}throw gt("Invalid Loadable state")}const $e=De=>(...nt)=>{if(W)throw gt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&ld(!1),cee(V,De,nt,{node:e})};try{Z=r({get:Ce,getCallback:$e}),Z=lee(Z)?Ce(Z):Z,eee(Z)&&(Z.state==="hasError"&&(te=!0),Z=Z.contents),sn(Z)?Z=E(V,Z,z,ge,Q,pe).finally(J):J(),Z=Z instanceof Hj?Z.value:Z}catch(De){Z=De,sn(Z)?Z=S(V,Z,z,ge,Q,pe).finally(J):(te=!0,J())}return te?le=ap(Z):sn(Z)?le=tee(Z):le=pw(Z),X=!1,D(V,Q,ge),k(V,z,new Set(ge.keys()),Q),[le,ge]}function O(V,z){let Q=z.atomValues.get(n);if(Q!=null)return Q;const X=new Set;try{Q=a.get(J=>(typeof J!="string"&&ld(!1),lp(V,z,J).contents),{onNodeVisit:J=>{J.type==="branch"&&J.nodeKey!==n&&X.add(J.nodeKey)}})}catch(J){throw gt(`Problem with cache lookup for selector "${n}": ${J.message}`)}if(Q){var W;z.atomValues.set(n,Q),k(V,z,X,(W=I(V))===null||W===void 0?void 0:W.executionID)}return Q}function N(V,z){const Q=O(V,z);if(Q!=null)return L(V),Q;const X=P(V,z);if(X!=null){var W;return((W=X.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&x(V,X.executionID),X.loadingLoadable}const J=dee(),[Z,te]=C(V,z,J);return Z.state==="loading"?(A(V,J,Z,te,z),x(V,J)):(L(V),M(z,Z,te)),Z}function P(V,z){const Q=Sj([h.has(V)?[fn(h.get(V))]:[],tv(dE(h,([W])=>W!==V),([,W])=>W)]);function X(W){for(const[J,Z]of W)if(!lp(V,z,J).is(Z))return!0;return!1}for(const W of Q){if(W.stateVersions.get(z.version)||!X(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(z.version,!0),W;W.stateVersions.set(z.version,!1)}}function I(V){return h.get(V)}function A(V,z,Q,X,W){h.set(V,{depValuesDiscoveredSoFarDuringAsyncWork:X,executionID:z,loadingLoadable:Q,stateVersions:new Map([[W.version,!0]])})}function D(V,z,Q){if(F(V,z)){const X=I(V);X!=null&&(X.depValuesDiscoveredSoFarDuringAsyncWork=Q)}}function L(V){h.delete(V)}function F(V,z){var Q;return z===((Q=I(V))===null||Q===void 0?void 0:Q.executionID)}function q(V){return Array.from(V.entries()).map(([z,Q])=>[z,Q.contents])}function M(V,z,Q){V.atomValues.set(n,z);try{a.set(q(Q),z)}catch(X){throw gt(`Problem with setting cache for selector "${n}": ${X.message}`)}}function B(V){if(Yc.includes(n)){const z=`Recoil selector has circular dependencies: ${Yc.slice(Yc.indexOf(n)).join("  ")}`;return ap(gt(z))}Yc.push(n);try{return V()}finally{Yc.pop()}}function Y(V,z){const Q=z.atomValues.get(n);return Q??a.get(X=>{var W;return typeof X!="string"&&ld(!1),(W=nee(V,z,X))===null||W===void 0?void 0:W.contents})}function H(V,z){return B(()=>N(V,z))}function j(V){V.atomValues.delete(n)}function U(V,z){e==null&&ld(!1);for(const X of o){var Q;const W=aee(X);(Q=W.clearCache)===null||Q===void 0||Q.call(W,V,z)}o.clear(),j(z),a.clear(),DO(V,e)}return s!=null?e=AO({key:n,nodeType:"selector",peek:Y,get:H,set:(z,Q,X)=>{let W=!1;const J=new Map;function Z({key:ge}){if(W)throw gt("Recoil: Async selector sets are not currently supported.");const Ce=lp(z,Q,ge);if(Ce.state==="hasValue")return Ce.contents;if(Ce.state==="loading"){const $e=`Getting value of asynchronous atom or selector "${ge}" in a pending state while setting selector "${n}" is not yet supported.`;throw ni(),gt($e)}else throw Ce.contents}function te(ge,Ce){if(W){const nt="Recoil: Async selector sets are not currently supported.";throw ni(),gt(nt)}const $e=typeof Ce=="function"?Ce(Z(ge)):Ce;ree(z,Q,ge.key,$e).forEach((nt,Qe)=>J.set(Qe,nt))}function le(ge){te(ge,see)}const pe=s({set:te,get:Z,reset:le},X);if(pe!==void 0)throw sn(pe)?gt("Recoil: Async selector sets are not currently supported."):gt("Recoil: selector set should be a void function.");return W=!0,J},init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=AO({key:n,nodeType:"selector",peek:Y,get:H,init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Wj.value=t=>new Hj(t);var Pu=Wj;const{isLoadable:fee,loadableWithError:mw,loadableWithPromise:gw,loadableWithValue:Ql}=Ef,{WrappedValue:Yj}=Uj,{peekNodeInfo:hee}=El,{DEFAULT_VALUE:Ma,DefaultValue:jo,getConfigDeletionHandler:Gj,registerNode:pee,setConfigDeletionHandler:mee}=Di,{isRecoilValue:gee}=al,{getRecoilValueAsLoadable:vee,markRecoilValueModified:yee,setRecoilValue:IO,setRecoilValueLoadable:wee}=ao,{retainedByOptionWithDefault:bee}=Qu,Gc=t=>t instanceof Yj?t.value:t;function xee(t){const{key:e,persistence_UNSTABLE:n}=t,r=bee(t.retainedBy_UNSTABLE);let i=0;function s(x){return gw(x.then(E=>(o=Ql(E),E)).catch(E=>{throw o=mw(E),E}))}let o=sn(t.default)?s(t.default):fee(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Ql(Gc(t.default));o.contents;let a;const l=new Map;function h(x){return x}function c(x,E){const S=E.then(k=>{var C,O;return((O=((C=x.getState().nextTree)!==null&&C!==void 0?C:x.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&IO(x,b,k),k}).catch(k=>{var C,O;throw((O=((C=x.getState().nextTree)!==null&&C!==void 0?C:x.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&wee(x,b,mw(k)),k});return S}function f(x,E,S){var k;i++;const C=()=>{var I;i--,(I=l.get(x))===null||I===void 0||I.forEach(A=>A()),l.delete(x)};if(x.getState().knownAtoms.add(e),o.state==="loading"){const I=()=>{var A;((A=x.getState().nextTree)!==null&&A!==void 0?A:x.getState().currentTree).atomValues.has(e)||yee(x,b)};o.contents.finally(I)}const O=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(O!=null){let I=function(j){if(F&&j.key===e){const U=L;return U instanceof jo?p(x,E):sn(U)?gw(U.then(V=>V instanceof jo?o.toPromise():V)):Ql(U)}return vee(x,j)},A=function(j){return I(j).toPromise()},D=function(j){var U;const V=hee(x,(U=x.getState().nextTree)!==null&&U!==void 0?U:x.getState().currentTree,j.key);return F&&j.key===e&&!(L instanceof jo)?{...V,isSet:!0,loadable:I(j)}:V},L=Ma,F=!0,q=!1,M=null;const B=j=>U=>{if(F){const V=I(b),z=V.state==="hasValue"?V.contents:Ma;L=typeof U=="function"?U(z):U,sn(L)&&(L=L.then(Q=>(M={effect:j,value:Q},Q)))}else{if(sn(U))throw gt("Setting atoms to async values is not implemented.");typeof U!="function"&&(M={effect:j,value:Gc(U)}),IO(x,b,typeof U=="function"?V=>{const z=Gc(U(V));return M={effect:j,value:z},z}:Gc(U))}},Y=j=>()=>B(j)(Ma),H=j=>U=>{var V;const{release:z}=x.subscribeToTransactions(Q=>{var X;let{currentTree:W,previousTree:J}=Q.getState();J||(ni(),J=W);const Z=(X=W.atomValues.get(e))!==null&&X!==void 0?X:o;if(Z.state==="hasValue"){var te,le,pe,ge;const Ce=Z.contents,$e=(te=J.atomValues.get(e))!==null&&te!==void 0?te:o,De=$e.state==="hasValue"?$e.contents:Ma;((le=M)===null||le===void 0?void 0:le.effect)!==j||((pe=M)===null||pe===void 0?void 0:pe.value)!==Ce?U(Ce,De,!W.atomValues.has(e)):((ge=M)===null||ge===void 0?void 0:ge.effect)===j&&(M=null)}},e);l.set(x,[...(V=l.get(x))!==null&&V!==void 0?V:[],z])};for(const j of O)try{const U=j({node:b,storeID:x.storeID,parentStoreID_UNSTABLE:x.parentStoreID,trigger:S,setSelf:B(j),resetSelf:Y(j),onSet:H(j),getPromise:A,getLoadable:I,getInfo_UNSTABLE:D});if(U!=null){var N;l.set(x,[...(N=l.get(x))!==null&&N!==void 0?N:[],U])}}catch(U){L=U,q=!0}if(F=!1,!(L instanceof jo)){var P;const j=q?mw(L):sn(L)?gw(c(x,L)):Ql(Gc(L));j.contents,E.atomValues.set(e,j),(P=x.getState().nextTree)===null||P===void 0||P.atomValues.set(e,j)}}return C}function p(x,E){var S,k;return(S=(k=E.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&S!==void 0?S:o}function m(x,E){if(E.atomValues.has(e))return fn(E.atomValues.get(e));if(E.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return nj(),o;const S=E.nonvalidatedAtoms.get(e),k=n.validator(S,Ma);return a=k instanceof jo?o:Ql(k),a}else return o}function g(){a=void 0}function y(x,E,S){if(E.atomValues.has(e)){const k=fn(E.atomValues.get(e));if(k.state==="hasValue"&&S===k.contents)return new Map}else if(!E.nonvalidatedAtoms.has(e)&&S instanceof jo)return new Map;return a=void 0,new Map().set(e,Ql(S))}function w(){return Gj(e)!==void 0&&i<=0}const b=pee({key:e,nodeType:"atom",peek:p,get:m,set:y,init:f,invalidate:g,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return b}function yE(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return gee(n)?_ee({...e,default:n}):xee({...e,default:n})}function _ee(t){const e=yE({...t,default:Ma,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof jo?r:fn(t.persistence_UNSTABLE).validator(r,Ma)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Pu({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof jo?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return mee(n.key,Gj(t.key)),n}yE.value=t=>new Yj(t);var Kj=yE;class See{constructor(e){var n;pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Eee={MapCache:See},kee=Eee.MapCache,Tee=Object.freeze({__proto__:null,MapCache:kee});const{LRUCache:PO}=qj,{MapCache:Cee}=Tee,cp={equality:"reference",eviction:"none",maxSize:1/0};function Nee({equality:t=cp.equality,eviction:e=cp.eviction,maxSize:n=cp.maxSize}=cp){const r=Oee(t);return Aee(e,n,r)}function Oee(t){switch(t){case"reference":return e=>e;case"value":return e=>cv(e)}throw gt(`Unrecognized equality policy ${t}`)}function Aee(t,e,n){switch(t){case"keep-all":return new Cee({mapKey:n});case"lru":return new PO({mapKey:n,maxSize:fn(e)});case"most-recent":return new PO({mapKey:n,maxSize:1})}throw gt(`Unrecognized eviction policy ${t}`)}var Qj=Nee;const{setConfigDeletionHandler:Dee}=Di;function Iee(t){var e,n;const r=Qj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...h}=t,c="default"in t?t.default:new Promise(()=>{}),f=Kj({...h,key:`${t.key}__${(s=cv(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,f),Dee(f.key,()=>{r.delete(i)}),f}}var Pee=Iee;const{setConfigDeletionHandler:Ree}=Di;let Mee=0;function Lee(t){var e,n;const r=Qj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(p){throw gt(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=cv(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${Mee++}`,l=p=>t.get(i)(p),h=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const p=t.set;f=Pu({key:a,get:l,set:(g,y)=>p(i)(g,y),cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Pu({key:a,get:l,cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),Ree(f.key,()=>{r.delete(i)}),f}}var ma=Lee;ma({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});ma({key:"__error",get:t=>()=>{throw gt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:Xj,loadableWithPromise:Jj,loadableWithValue:Zj}=Ef;function dv(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function jee(t){return t!=null&&!sn(t)}function fv(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function n_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function mu(t,e,n){const r=n.map((i,s)=>i==null?Zj(e[s]):sn(i)?Jj(i):Xj(i));return n_(t,r)}function Fee(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}ma({key:"__waitForNone",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);return mu(t,r,i)},dangerouslyAllowMutability:!0});ma({key:"__waitForAny",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);return i.some(s=>!sn(s))?mu(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())sn(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(mu(t,r,i))}).catch(l=>{i[o]=l,s(mu(t,r,i))})})},dangerouslyAllowMutability:!0});ma({key:"__waitForAll",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);if(i.every(o=>o==null))return n_(t,r);const s=i.find(jee);if(s!=null)throw s;return Promise.all(i).then(o=>n_(t,Fee(r,o)))},dangerouslyAllowMutability:!0});ma({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);return i.every(s=>!sn(s))?mu(t,r,i):Promise.all(i.map((s,o)=>sn(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>mu(t,r,i))},dangerouslyAllowMutability:!0});ma({key:"__noWait",get:t=>({get:e})=>{try{return Pu.value(Zj(e(t)))}catch(n){return Pu.value(sn(n)?Jj(n):Xj(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:lve}=Ef,{RecoilRoot:$ee}=vE,{isRecoilValue:uve}=al,{freshSnapshot:cve}=ov,{useRecoilState:Bee,useRecoilValue:Uee,useSetRecoilState:Vee}=sZ;var ga={RecoilRoot:$ee,atom:Kj,selector:Pu,atomFamily:Pee,selectorFamily:ma,useRecoilValue:Uee,useRecoilState:Bee,useSetRecoilState:Vee},qee=ga.RecoilRoot,On=ga.atom,e3=ga.selector,Hee=ga.atomFamily,t3=ga.selectorFamily,Le=ga.useRecoilValue,Wt=ga.useRecoilState,so=ga.useSetRecoilState;const n3=On({key:"modalList",default:[]});var dp,zee=new Uint8Array(16);function Wee(){if(!dp&&(dp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dp(zee)}const Yee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Gee(t){return typeof t=="string"&&Yee.test(t)}var nr=[];for(var vw=0;vw<256;++vw)nr.push((vw+256).toString(16).substr(1));function Kee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(nr[t[e+0]]+nr[t[e+1]]+nr[t[e+2]]+nr[t[e+3]]+"-"+nr[t[e+4]]+nr[t[e+5]]+"-"+nr[t[e+6]]+nr[t[e+7]]+"-"+nr[t[e+8]]+nr[t[e+9]]+"-"+nr[t[e+10]]+nr[t[e+11]]+nr[t[e+12]]+nr[t[e+13]]+nr[t[e+14]]+nr[t[e+15]]).toLowerCase();if(!Gee(n))throw TypeError("Stringified UUID is invalid");return n}function zt(t,e,n){t=t||{};var r=t.random||(t.rng||Wee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Kee(r)}const wE=On({key:`recommendedBook/${zt()}`,default:{thumbnail:"",title:"",authors:[],url:"",publisher:""}}),r3=On({key:`bookDesc${zt()}`,default:null}),i3=On({key:`searchList${zt()}`,default:[]}),xd=[{id:1,name:""},{id:2,name:""},{id:3,name:"/"},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:"/"},{id:12,name:""}];function Qee(t,e){return t.length<e?t:`${t.slice(0,e)}...`}const s3=6048e5,Xee=864e5,RO=Symbol.for("constructDateFrom");function ra(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&RO in t?t[RO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ji(t,e){return ra(e||t,t)}let Jee={};function hv(){return Jee}function Hd(t,e){var a,l,h,c;const n=hv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Ji(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function km(t,e){return Hd(t,{...e,weekStartsOn:1})}function o3(t,e){const n=Ji(t,e==null?void 0:e.in),r=n.getFullYear(),i=ra(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=km(i),o=ra(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=km(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function MO(t){const e=Ji(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zee(t,...e){const n=ra.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function LO(t,e){const n=Ji(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ete(t,e,n){const[r,i]=Zee(n==null?void 0:n.in,t,e),s=LO(r),o=LO(i),a=+s-MO(s),l=+o-MO(o);return Math.round((a-l)/Xee)}function tte(t,e){const n=o3(t,e),r=ra(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),km(r)}function nte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rte(t){return!(!nte(t)&&typeof t!="number"||isNaN(+Ji(t)))}function ite(t,e){const n=Ji(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ste={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ote=(t,e,n)=>{let r;const i=ste[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ate={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ute={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cte={date:gu({formats:ate,defaultWidth:"full"}),time:gu({formats:lte,defaultWidth:"full"}),dateTime:gu({formats:ute,defaultWidth:"full"})},dte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fte=(t,e,n,r)=>dte[t];function fs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const hte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bte={ordinalNumber:wte,era:fs({values:hte,defaultWidth:"wide"}),quarter:fs({values:pte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fs({values:mte,defaultWidth:"wide"}),day:fs({values:gte,defaultWidth:"wide"}),dayPeriod:fs({values:vte,defaultWidth:"wide",formattingValues:yte,defaultFormattingWidth:"wide"})};function hs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?_te(a,f=>f.test(o)):xte(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function xte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _te(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function a3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Ste=/^(\d+)(th|st|nd|rd)?/i,Ete=/\d+/i,kte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tte={any:[/^b/i,/^(a|c)/i]},Cte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nte={any:[/1/i,/2/i,/3/i,/4/i]},Ote={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ate={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ite={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mte={ordinalNumber:a3({matchPattern:Ste,parsePattern:Ete,valueCallback:t=>parseInt(t,10)}),era:hs({matchPatterns:kte,defaultMatchWidth:"wide",parsePatterns:Tte,defaultParseWidth:"any"}),quarter:hs({matchPatterns:Cte,defaultMatchWidth:"wide",parsePatterns:Nte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hs({matchPatterns:Ote,defaultMatchWidth:"wide",parsePatterns:Ate,defaultParseWidth:"any"}),day:hs({matchPatterns:Dte,defaultMatchWidth:"wide",parsePatterns:Ite,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:Pte,defaultMatchWidth:"any",parsePatterns:Rte,defaultParseWidth:"any"})},Lte={code:"en-US",formatDistance:ote,formatLong:cte,formatRelative:fte,localize:bte,match:Mte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jte(t,e){const n=Ji(t,e==null?void 0:e.in);return ete(n,ite(n))+1}function Fte(t,e){const n=Ji(t,e==null?void 0:e.in),r=+km(n)-+tte(n);return Math.round(r/s3)+1}function l3(t,e){var c,f,p,m;const n=Ji(t,e==null?void 0:e.in),r=n.getFullYear(),i=hv(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ra((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Hd(o,e),l=ra((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=Hd(l,e);return+n>=+a?r+1:+n>=+h?r:r-1}function $te(t,e){var a,l,h,c;const n=hv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=l3(t,e),s=ra((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Hd(s,e)}function Bte(t,e){const n=Ji(t,e==null?void 0:e.in),r=+Hd(n,e)-+$te(n,e);return Math.round(r/s3)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ro={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ro.y(t,e)},Y:function(t,e,n,r){const i=l3(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return $t(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,e.length)},R:function(t,e){const n=o3(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ro.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Bte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=Fte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ro.d(t,e)},D:function(t,e,n){const r=jte(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xl.noon:r===0?i=Xl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xl.evening:r>=12?i=Xl.afternoon:r>=4?i=Xl.morning:i=Xl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ro.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ro.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ro.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ro.s(t,e)},S:function(t,e){return Ro.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $O(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $O(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FO(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FO(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return $t(r,e.length)},T:function(t,e,n){return $t(+t,e.length)}};function FO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$t(s,2)}function $O(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+i+e+s}const BO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},u3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ute=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BO(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BO(r,e)).replace("{{time}}",u3(i,e))},Vte={p:u3,P:Ute},qte=/^D+$/,Hte=/^Y+$/,zte=["D","DD","YY","YYYY"];function Wte(t){return qte.test(t)}function Yte(t){return Hte.test(t)}function Gte(t,e,n){const r=Kte(t,e,n);if(console.warn(r),zte.includes(t))throw new RangeError(r)}function Kte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jte=/^'([^]*?)'?$/,Zte=/''/g,ene=/[a-zA-Z]/;function tne(t,e,n){var c,f,p,m,g,y,w,b;const r=hv(),i=(n==null?void 0:n.locale)??r.locale??Lte,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Ji(t,n==null?void 0:n.in);if(!rte(a))throw new RangeError("Invalid time value");let l=e.match(Xte).map(x=>{const E=x[0];if(E==="p"||E==="P"){const S=Vte[E];return S(x,i.formatLong)}return x}).join("").match(Qte).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:nne(x)};if(jO[E])return{isToken:!0,value:x};if(E.match(ene))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const E=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Yte(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Wte(E))&&Gte(E,e,String(t));const S=jO[E[0]];return S(a,E,i.localize,h)}).join("")}function nne(t){const e=t.match(Jte);return e?e[1].replace(Zte,"'"):t}const rne={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},ine=(t,e,n)=>{let r;const i=rne[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" ":r+" ":r},sne={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},one={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ane={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},lne={date:gu({formats:sne,defaultWidth:"full"}),time:gu({formats:one,defaultWidth:"full"}),dateTime:gu({formats:ane,defaultWidth:"full"})},une={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},cne=(t,e,n,r)=>une[t],dne={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},fne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},hne={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},pne={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},mne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},gne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},vne=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},yne={ordinalNumber:vne,era:fs({values:dne,defaultWidth:"wide"}),quarter:fs({values:fne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fs({values:hne,defaultWidth:"wide"}),day:fs({values:pne,defaultWidth:"wide"}),dayPeriod:fs({values:mne,defaultWidth:"wide",formattingValues:gne,defaultFormattingWidth:"wide"})},wne=/^(\d+)(|)?/i,bne=/\d+/i,xne={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},_ne={any:[/^(bc|)/i,/^(ad|)/i]},Sne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},Ene={any:[/1/i,/2/i,/3/i,/4/i]},kne={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Tne={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Cne={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Nne={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},One={any:/^(am|pm|||||||)/i},Ane={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Dne={ordinalNumber:a3({matchPattern:wne,parsePattern:bne,valueCallback:t=>parseInt(t,10)}),era:hs({matchPatterns:xne,defaultMatchWidth:"wide",parsePatterns:_ne,defaultParseWidth:"any"}),quarter:hs({matchPatterns:Sne,defaultMatchWidth:"wide",parsePatterns:Ene,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hs({matchPatterns:kne,defaultMatchWidth:"wide",parsePatterns:Tne,defaultParseWidth:"any"}),day:hs({matchPatterns:Cne,defaultMatchWidth:"wide",parsePatterns:Nne,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:One,defaultMatchWidth:"any",parsePatterns:Ane,defaultParseWidth:"any"})},c3={code:"ko",formatDistance:ine,formatLong:lne,formatRelative:cne,localize:yne,match:Dne,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ju=new Date,dt=(t,e="yy M d HH:mm")=>{try{const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("  ");return tne(n,e,{locale:c3})}catch(n){console.error("    :",n)}};function Ru(t){const e=new Date;e.setHours(0,0,0,0);const n=new Date(t);n.setHours(0,0,0,0);const r=+n-+e;return`${Math.floor(r/(1e3*60*60*24))}`}const d3=()=>{const t=new Date(dt(Ju,"yyyy-MM"));return t.setMonth(t.getMonth()+1),dt(t,"yyyy-MM")};function f3(t=+vt,e=+ei,n=0,r=0){const i=new Date(t,e-1,1);for(;i.getDay()!==0;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+14),i.setHours(n,r,0,0),i}const wn=dt(Ju,"yyyy-MM"),vt=dt(Ju,"yyyy"),ei=dt(Ju,"MM");dt(Ju,"dd");const yw=dt(d3(),"yyyy-MM"),Ine=`${+vt+1}`,Lp=dt(d3(),"MM"),Tm=dt(Ju,"yyyy-MM-dd");function Zu(t){return t?!!Object.keys(t).length:{}}const xr=(t,e)=>`${`BookClub-${t.slice(0,4)}`}/${t}/${e}`;function UO(t,e,n){return n==="latest"?t.monthId.localeCompare(e.monthId):e.monthId.localeCompare(t.monthId)}const Pne=(t,e)=>t==null?void 0:t.map(({id:r,book:{title:i}})=>{const s=e.map(({votedItem:a})=>a).flat(),o=s==null?void 0:s.filter(a=>(a==null?void 0:a.id)===r).length;return{id:r,voteCount:o,title:i}}),Cm=(t,e,n=0)=>t===0&&e===0?0:+(Math.round(t/e*1e4/10)/10).toFixed(n),Nr=`BookClub-${vt}`,zo="BookVote",ll="Challenge",Rne="TagList",zd="FCMNotification",Qi="User",r_="VotedItems",h3="RecommendedBooks",Wd="HostReview",bE="Reviews",Mu="Subjects",Yd="BookFieldAndHost",ul="AbsenceMembers",Mne="MeetingPlace",p3=[{step:1,stepName:" "},{step:2,stepName:" "},{step:3,stepName:" "}],Lne=["",""],jne={absenceMembers:Array.from({length:12},(t,e)=>({month:e+1,breakMembers:[],onceAbsenceMembers:[]}))},Fne={id:vt,info:Array.from({length:12},(t,e)=>({month:e+1,hosts:[],field:"",detail:""}))},VO=["01","02","03","04","05","06","07","08","09","10","11","12"],$ne=Array.from({length:+vt-2020},(t,e)=>`${+vt-e}`),pv="wowo6806@naver.com";function Xn(t,e,n){const r=JL(ln(Zt,t,e),i=>{n({id:i.id,...i.data()})});m3(r)}function Hn(t,e){const n=FL(Zt,t),r=Y0(n,FN("name","!=","")),i=Y0(n,FN("__name__",">=",`${vt}-`)),s=Y0(n,Kz("createdAt","desc")),a=JL(t===Qi?r:t===ll?i:s,l=>{const h=l.docs.map(c=>({id:c.id,...c.data()}));e(h)});m3(a)}function m3(t){dg(Jt,e=>{e==null&&t()})}async function xE(t,e,n){const r=ln(Zt,t,e);await Os(r,n)}var fp={exports:{}},ww,qO;function g3(){return qO||(qO=1,ww=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}}),ww}var bw,HO;function cr(){if(HO)return bw;HO=1;var t=g3(),e=Object.prototype.toString,n=function(M){return function(B){var Y=e.call(B);return M[Y]||(M[Y]=Y.slice(8,-1).toLowerCase())}}(Object.create(null));function r(M){return M=M.toLowerCase(),function(Y){return n(Y)===M}}function i(M){return Array.isArray(M)}function s(M){return typeof M>"u"}function o(M){return M!==null&&!s(M)&&M.constructor!==null&&!s(M.constructor)&&typeof M.constructor.isBuffer=="function"&&M.constructor.isBuffer(M)}var a=r("ArrayBuffer");function l(M){var B;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?B=ArrayBuffer.isView(M):B=M&&M.buffer&&a(M.buffer),B}function h(M){return typeof M=="string"}function c(M){return typeof M=="number"}function f(M){return M!==null&&typeof M=="object"}function p(M){if(n(M)!=="object")return!1;var B=Object.getPrototypeOf(M);return B===null||B===Object.prototype}var m=r("Date"),g=r("File"),y=r("Blob"),w=r("FileList");function b(M){return e.call(M)==="[object Function]"}function x(M){return f(M)&&b(M.pipe)}function E(M){var B="[object FormData]";return M&&(typeof FormData=="function"&&M instanceof FormData||e.call(M)===B||b(M.toString)&&M.toString()===B)}var S=r("URLSearchParams");function k(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")}function C(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function O(M,B){if(!(M===null||typeof M>"u"))if(typeof M!="object"&&(M=[M]),i(M))for(var Y=0,H=M.length;Y<H;Y++)B.call(null,M[Y],Y,M);else for(var j in M)Object.prototype.hasOwnProperty.call(M,j)&&B.call(null,M[j],j,M)}function N(){var M={};function B(j,U){p(M[U])&&p(j)?M[U]=N(M[U],j):p(j)?M[U]=N({},j):i(j)?M[U]=j.slice():M[U]=j}for(var Y=0,H=arguments.length;Y<H;Y++)O(arguments[Y],B);return M}function P(M,B,Y){return O(B,function(j,U){Y&&typeof j=="function"?M[U]=t(j,Y):M[U]=j}),M}function I(M){return M.charCodeAt(0)===65279&&(M=M.slice(1)),M}function A(M,B,Y,H){M.prototype=Object.create(B.prototype,H),M.prototype.constructor=M,Y&&Object.assign(M.prototype,Y)}function D(M,B,Y){var H,j,U,V={};B=B||{};do{for(H=Object.getOwnPropertyNames(M),j=H.length;j-- >0;)U=H[j],V[U]||(B[U]=M[U],V[U]=!0);M=Object.getPrototypeOf(M)}while(M&&(!Y||Y(M,B))&&M!==Object.prototype);return B}function L(M,B,Y){M=String(M),(Y===void 0||Y>M.length)&&(Y=M.length),Y-=B.length;var H=M.indexOf(B,Y);return H!==-1&&H===Y}function F(M){if(!M)return null;var B=M.length;if(s(B))return null;for(var Y=new Array(B);B-- >0;)Y[B]=M[B];return Y}var q=function(M){return function(B){return M&&B instanceof M}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return bw={isArray:i,isArrayBuffer:a,isBuffer:o,isFormData:E,isArrayBufferView:l,isString:h,isNumber:c,isObject:f,isPlainObject:p,isUndefined:s,isDate:m,isFile:g,isBlob:y,isFunction:b,isStream:x,isURLSearchParams:S,isStandardBrowserEnv:C,forEach:O,merge:N,extend:P,trim:k,stripBOM:I,inherits:A,toFlatObject:D,kindOf:n,kindOfTest:r,endsWith:L,toArray:F,isTypedArray:q,isFileList:w},bw}var xw,zO;function v3(){if(zO)return xw;zO=1;var t=cr();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return xw=function(r,i,s){if(!i)return r;var o;if(s)o=s(i);else if(t.isURLSearchParams(i))o=i.toString();else{var a=[];t.forEach(i,function(c,f){c===null||typeof c>"u"||(t.isArray(c)?f=f+"[]":c=[c],t.forEach(c,function(m){t.isDate(m)?m=m.toISOString():t.isObject(m)&&(m=JSON.stringify(m)),a.push(e(f)+"="+e(m))}))}),o=a.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},xw}var _w,WO;function Bne(){if(WO)return _w;WO=1;var t=cr();function e(){this.handlers=[]}return e.prototype.use=function(r,i,s){return this.handlers.push({fulfilled:r,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(s){s!==null&&r(s)})},_w=e,_w}var Sw,YO;function Une(){if(YO)return Sw;YO=1;var t=cr();return Sw=function(n,r){t.forEach(n,function(s,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=s,delete n[o])})},Sw}var Ew,GO;function ec(){if(GO)return Ew;GO=1;var t=cr();function e(i,s,o,a,l){Error.call(this),this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),a&&(this.request=a),l&&(this.response=l)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,s,o,a,l,h){var c=Object.create(n);return t.toFlatObject(i,c,function(p){return p!==Error.prototype}),e.call(c,i.message,s,o,a,l),c.name=i.name,h&&Object.assign(c,h),c},Ew=e,Ew}var kw,KO;function y3(){return KO||(KO=1,kw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),kw}var Tw,QO;function w3(){if(QO)return Tw;QO=1;var t=cr();function e(n,r){r=r||new FormData;var i=[];function s(a){return a===null?"":t.isDate(a)?a.toISOString():t.isArrayBuffer(a)||t.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function o(a,l){if(t.isPlainObject(a)||t.isArray(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+l);i.push(a),t.forEach(a,function(c,f){if(!t.isUndefined(c)){var p=l?l+"."+f:f,m;if(c&&!l&&typeof c=="object"){if(t.endsWith(f,"{}"))c=JSON.stringify(c);else if(t.endsWith(f,"[]")&&(m=t.toArray(c))){m.forEach(function(g){!t.isUndefined(g)&&r.append(p,s(g))});return}}o(c,p)}}),i.pop()}else r.append(l,s(a))}return o(n),r}return Tw=e,Tw}var Cw,XO;function Vne(){if(XO)return Cw;XO=1;var t=ec();return Cw=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Cw}var Nw,JO;function qne(){if(JO)return Nw;JO=1;var t=cr();return Nw=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Nw}var Ow,ZO;function Hne(){return ZO||(ZO=1,Ow=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Ow}var Aw,eA;function zne(){return eA||(eA=1,Aw=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Aw}var Dw,tA;function b3(){if(tA)return Dw;tA=1;var t=Hne(),e=zne();return Dw=function(r,i){return r&&!t(i)?e(r,i):i},Dw}var Iw,nA;function Wne(){if(nA)return Iw;nA=1;var t=cr(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Iw=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(h){if(a=h.indexOf(":"),s=t.trim(h.substr(0,a)).toLowerCase(),o=t.trim(h.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Iw}var Pw,rA;function Yne(){if(rA)return Pw;rA=1;var t=cr();return Pw=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Pw}var Rw,iA;function mv(){if(iA)return Rw;iA=1;var t=ec(),e=cr();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Rw=n,Rw}var Mw,sA;function Gne(){return sA||(sA=1,Mw=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Mw}var Lw,oA;function aA(){if(oA)return Lw;oA=1;var t=cr(),e=Vne(),n=qne(),r=v3(),i=b3(),s=Wne(),o=Yne(),a=y3(),l=ec(),h=mv(),c=Gne();return Lw=function(p){return new Promise(function(g,y){var w=p.data,b=p.headers,x=p.responseType,E;function S(){p.cancelToken&&p.cancelToken.unsubscribe(E),p.signal&&p.signal.removeEventListener("abort",E)}t.isFormData(w)&&t.isStandardBrowserEnv()&&delete b["Content-Type"];var k=new XMLHttpRequest;if(p.auth){var C=p.auth.username||"",O=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";b.Authorization="Basic "+btoa(C+":"+O)}var N=i(p.baseURL,p.url);k.open(p.method.toUpperCase(),r(N,p.params,p.paramsSerializer),!0),k.timeout=p.timeout;function P(){if(k){var D="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,L=!x||x==="text"||x==="json"?k.responseText:k.response,F={data:L,status:k.status,statusText:k.statusText,headers:D,config:p,request:k};e(function(M){g(M),S()},function(M){y(M),S()},F),k=null}}if("onloadend"in k?k.onloadend=P:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(P)},k.onabort=function(){k&&(y(new l("Request aborted",l.ECONNABORTED,p,k)),k=null)},k.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,p,k,k)),k=null},k.ontimeout=function(){var L=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",F=p.transitional||a;p.timeoutErrorMessage&&(L=p.timeoutErrorMessage),y(new l(L,F.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,k)),k=null},t.isStandardBrowserEnv()){var I=(p.withCredentials||o(N))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;I&&(b[p.xsrfHeaderName]=I)}"setRequestHeader"in k&&t.forEach(b,function(L,F){typeof w>"u"&&F.toLowerCase()==="content-type"?delete b[F]:k.setRequestHeader(F,L)}),t.isUndefined(p.withCredentials)||(k.withCredentials=!!p.withCredentials),x&&x!=="json"&&(k.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&k.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(E=function(D){k&&(y(!D||D&&D.type?new h:D),k.abort(),k=null)},p.cancelToken&&p.cancelToken.subscribe(E),p.signal&&(p.signal.aborted?E():p.signal.addEventListener("abort",E))),w||(w=null);var A=c(N);if(A&&["http","https","file"].indexOf(A)===-1){y(new l("Unsupported protocol "+A+":",l.ERR_BAD_REQUEST,p));return}k.send(w)})},Lw}var jw,lA;function Kne(){return lA||(lA=1,jw=null),jw}var Fw,uA;function _E(){if(uA)return Fw;uA=1;var t=cr(),e=Une(),n=ec(),r=y3(),i=w3(),s={"Content-Type":"application/x-www-form-urlencoded"};function o(c,f){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=f)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=aA()),c}function l(c,f,p){if(t.isString(c))try{return(f||JSON.parse)(c),t.trim(c)}catch(m){if(m.name!=="SyntaxError")throw m}return(p||JSON.stringify)(c)}var h={transitional:r,adapter:a(),transformRequest:[function(f,p){if(e(p,"Accept"),e(p,"Content-Type"),t.isFormData(f)||t.isArrayBuffer(f)||t.isBuffer(f)||t.isStream(f)||t.isFile(f)||t.isBlob(f))return f;if(t.isArrayBufferView(f))return f.buffer;if(t.isURLSearchParams(f))return o(p,"application/x-www-form-urlencoded;charset=utf-8"),f.toString();var m=t.isObject(f),g=p&&p["Content-Type"],y;if((y=t.isFileList(f))||m&&g==="multipart/form-data"){var w=this.env&&this.env.FormData;return i(y?{"files[]":f}:f,w&&new w)}else if(m||g==="application/json")return o(p,"application/json"),l(f);return f}],transformResponse:[function(f){var p=this.transitional||h.transitional,m=p&&p.silentJSONParsing,g=p&&p.forcedJSONParsing,y=!m&&this.responseType==="json";if(y||g&&t.isString(f)&&f.length)try{return JSON.parse(f)}catch(w){if(y)throw w.name==="SyntaxError"?n.from(w,n.ERR_BAD_RESPONSE,this,null,this.response):w}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kne()},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(f){h.headers[f]={}}),t.forEach(["post","put","patch"],function(f){h.headers[f]=t.merge(s)}),Fw=h,Fw}var $w,cA;function Qne(){if(cA)return $w;cA=1;var t=cr(),e=_E();return $w=function(r,i,s){var o=this||e;return t.forEach(s,function(l){r=l.call(o,r,i)}),r},$w}var Bw,dA;function x3(){return dA||(dA=1,Bw=function(e){return!!(e&&e.__CANCEL__)}),Bw}var Uw,fA;function Xne(){if(fA)return Uw;fA=1;var t=cr(),e=Qne(),n=x3(),r=_E(),i=mv();function s(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new i}return Uw=function(a){s(a),a.headers=a.headers||{},a.data=e.call(a,a.data,a.headers,a.transformRequest),a.headers=t.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var l=a.adapter||r.adapter;return l(a).then(function(c){return s(a),c.data=e.call(a,c.data,c.headers,a.transformResponse),c},function(c){return n(c)||(s(a),c&&c.response&&(c.response.data=e.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},Uw}var Vw,hA;function _3(){if(hA)return Vw;hA=1;var t=cr();return Vw=function(n,r){r=r||{};var i={};function s(f,p){return t.isPlainObject(f)&&t.isPlainObject(p)?t.merge(f,p):t.isPlainObject(p)?t.merge({},p):t.isArray(p)?p.slice():p}function o(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(n[f],r[f])}function a(f){if(!t.isUndefined(r[f]))return s(void 0,r[f])}function l(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(void 0,r[f])}function h(f){if(f in r)return s(n[f],r[f]);if(f in n)return s(void 0,n[f])}var c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(p){var m=c[p]||o,g=m(p);t.isUndefined(g)&&m!==h||(i[p]=g)}),i},Vw}var qw,pA;function S3(){return pA||(pA=1,qw={version:"0.27.2"}),qw}var Hw,mA;function Jne(){if(mA)return Hw;mA=1;var t=S3().version,e=ec(),n={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){n[s]=function(l){return typeof l===s||"a"+(o<1?"n ":" ")+s}});var r={};n.transitional=function(o,a,l){function h(c,f){return"[Axios v"+t+"] Transitional option '"+c+"'"+f+(l?". "+l:"")}return function(c,f,p){if(o===!1)throw new e(h(f," has been removed"+(a?" in "+a:"")),e.ERR_DEPRECATED);return a&&!r[f]&&(r[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),o?o(c,f,p):!0}};function i(s,o,a){if(typeof s!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(s),h=l.length;h-- >0;){var c=l[h],f=o[c];if(f){var p=s[c],m=p===void 0||f(p,c,s);if(m!==!0)throw new e("option "+c+" must be "+m,e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new e("Unknown option "+c,e.ERR_BAD_OPTION)}}return Hw={assertOptions:i,validators:n},Hw}var zw,gA;function Zne(){if(gA)return zw;gA=1;var t=cr(),e=v3(),n=Bne(),r=Xne(),i=_3(),s=b3(),o=Jne(),a=o.validators;function l(h){this.defaults=h,this.interceptors={request:new n,response:new n}}return l.prototype.request=function(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var p=f.transitional;p!==void 0&&o.assertOptions(p,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=[],g=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(f)===!1||(g=g&&C.synchronous,m.unshift(C.fulfilled,C.rejected))});var y=[];this.interceptors.response.forEach(function(C){y.push(C.fulfilled,C.rejected)});var w;if(!g){var b=[r,void 0];for(Array.prototype.unshift.apply(b,m),b=b.concat(y),w=Promise.resolve(f);b.length;)w=w.then(b.shift(),b.shift());return w}for(var x=f;m.length;){var E=m.shift(),S=m.shift();try{x=E(x)}catch(k){S(k);break}}try{w=r(x)}catch(k){return Promise.reject(k)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},l.prototype.getUri=function(c){c=i(this.defaults,c);var f=s(c.baseURL,c.url);return e(f,c.params,c.paramsSerializer)},t.forEach(["delete","get","head","options"],function(c){l.prototype[c]=function(f,p){return this.request(i(p||{},{method:c,url:f,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(c){function f(p){return function(g,y,w){return this.request(i(w||{},{method:c,headers:p?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}l.prototype[c]=f(),l.prototype[c+"Form"]=f(!0)}),zw=l,zw}var Ww,vA;function ere(){if(vA)return Ww;vA=1;var t=mv();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},Ww=e,Ww}var Yw,yA;function tre(){return yA||(yA=1,Yw=function(e){return function(r){return e.apply(null,r)}}),Yw}var Gw,wA;function nre(){if(wA)return Gw;wA=1;var t=cr();return Gw=function(n){return t.isObject(n)&&n.isAxiosError===!0},Gw}var bA;function rre(){if(bA)return fp.exports;bA=1;var t=cr(),e=g3(),n=Zne(),r=_3(),i=_E();function s(a){var l=new n(a),h=e(n.prototype.request,l);return t.extend(h,n.prototype,l),t.extend(h,l),h.create=function(f){return s(r(a,f))},h}var o=s(i);return o.Axios=n,o.CanceledError=mv(),o.CancelToken=ere(),o.isCancel=x3(),o.VERSION=S3().version,o.toFormData=w3(),o.AxiosError=ec(),o.Cancel=o.CanceledError,o.all=function(l){return Promise.all(l)},o.spread=tre(),o.isAxiosError=nre(),fp.exports=o,fp.exports.default=o,fp.exports}var Kw,xA;function ire(){return xA||(xA=1,Kw=rre()),Kw}var sre=ire();const ore=ef(sre),are=ore.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK e8625f56dd420c3a1e0b08fa4e2550d4"}}),lre=t=>are.get("/v3/search/book",{params:t}),ure=async(t,e)=>{const n={query:t},{data:r}=await lre(n);e(r.documents)},cre=pg(),lo=On({key:`allUsers/${zt}`,default:[],effects:[({setSelf:t})=>{Hn(Qi,t)}]}),Ct=On({key:`currUser/${zt}`,default:null,effects:[({setSelf:t})=>{const e=dg(cre,n=>{if(n){const{uid:r,email:i,displayName:s,photoURL:o}=n;t({uid:r??"",email:i??"",displayName:s??" ",photoURL:o??""})}else t(null)});return()=>{e()}}]}),SE=Hee({key:`user/${zt}`,default:{},effects:t=>[({setSelf:e})=>{t&&Xn(Qi,t,e)}]}),EE=({collName:t,initialDocData:e})=>{const[n,r]=K.useState(e),{uid:i}=Le(Ct),[s,o]=Wt(SE(i)),a=so(wE),{alertAskJoinMember:l}=ii("write");K.useEffect(()=>{i&&!Zu(s)&&Xn(Qi,i,o)},[i]);const h=ln(FL(Zt,t)),c=async m=>{m.preventDefault();try{if(n.text.length===0)return;await Os(h,{...n,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss")});const g={monthId:wn,docId:h.id};f(g),n!=null&&n.recommendedBook&&a({thumbnail:"",title:"",authors:[],url:"",publisher:""})}catch(g){console.error("Error adding document:",g)}},f=async m=>{var y,w,b,x,E;const g=ln(Zt,Qi,i);t.includes("Sentence")&&await yn(g,{"userRecords.sentences":[...((y=s==null?void 0:s.userRecords)==null?void 0:y.sentences)??[],m]}),t.includes("Reviews")&&await yn(g,{"userRecords.reviews":[...((w=s==null?void 0:s.userRecords)==null?void 0:w.reviews)??[],m]}),t.includes("Subjects")&&await yn(g,{"userRecords.subjects":[...((b=s==null?void 0:s.userRecords)==null?void 0:b.subjects)??[],m]}),t.includes("RecommendedBooks")&&await yn(g,{"userRecords.recommendedBooks":[...((x=s==null?void 0:s.userRecords)==null?void 0:x.recommendedBooks)??[],{monthId:wn,docId:h.id}]}),t.includes("HostReview")&&await yn(g,{"userRecords.hostReviews":[...((E=s==null?void 0:s.userRecords)==null?void 0:E.hostReviews)??[],m]})};return{onAddDocSubmit:c,onDataChange:async m=>{if(Jt.currentUser.isAnonymous)return l();r({...n,...m})},newDocData:n}},St=()=>{const[t,e]=Wt(n3);return{modalList:t,showModal:i=>new Promise(s=>{const o={...i,isOpen:!0};e(a=>[...a,o]),s()}),hideModal:async i=>{if(typeof i=="string"&&i){const s=t.map(o=>o.key===i?{...o,isOpen:!1}:o);e(s)}else e([])}}},dre=({collName:t,docId:e})=>{const{uid:n}=Le(Ct),[r,i]=Wt(SE(n)),s=ln(Zt,t,e),{hideModal:o}=St();K.useEffect(()=>{n&&!Zu(r)&&Xn(Qi,n,i)},[n]);const a=async()=>{window.confirm(" ?")&&(await Gg(s),l(),o())},l=async()=>{const h=ln(Zt,Qi,n),{reviews:c,subjects:f,recommendedBooks:p,hostReviews:m,sentences:g}=r.userRecords;if(t.includes("Reviews")){const y=c.filter(w=>w.docId!==s.id);await yn(h,{"userRecords.reviews":y})}if(t.includes("Subjects")){const y=f.filter(w=>w.docId!==s.id);await yn(h,{"userRecords.subjects":y})}if(t.includes("Recommended")){const y=p.filter(w=>w.docId!==s.id);await yn(h,{"userRecords.recommendedBooks":y})}if(t.includes("HostReview")){const y=m.filter(w=>w.docId!==s.id);await yn(h,{"userRecords.hostReviews":y})}if(t.includes("Sentence-2024")){const y=g.filter(w=>w.docId!==s.id);await yn(h,{"userRecords.sentences":y})}};return{onDeleteClick:a}},Of=({collName:t,docId:e,dataToUpdate:n})=>{const[r,i]=K.useState(n),{alertAskJoinMember:s,anonymous:o}=ii("see"),{hideModal:a}=St();return{editedData:r,setEditedData:i,onEditSubmit:async c=>{if(c.preventDefault(),o)return s();if((r==null?void 0:r.text)==="<p><br></p>")return alert("  .");const f=ln(Zt,t,e);await yn(f,{...r,updatedAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss")}),a()},onEditSubmitClick:async c=>{if(o)return s();const f=ln(Zt,t,e);await yn(f,c)}}},ii=t=>{var a;const e=Or(),n=(a=Jt.currentUser)==null?void 0:a.isAnonymous,{hideModal:r}=St(),i=()=>{switch(t){case"see":return"  ";case"edit":return"  ";case"register":return"  ";case"write":return"  "}};function s(){if(Jt.currentUser.isAnonymous){const l=window.confirm(`  ${i()}.  .`);if(r(),l)return e("/login")}}return{alertAskJoinMember:s,blockLinkAndAlertJoinMember:l=>{n&&(l.preventDefault(),s())},anonymous:n}},fre=()=>{var y;const[t,e]=K.useState(""),[n,r]=K.useState(""),[i,s]=K.useState(""),o=(y=Jt.currentUser)==null?void 0:y.isAnonymous,a=Jt==null?void 0:Jt.currentUser,l=Or(),h=w=>{if(w.preventDefault(),!t||!n||!i)return;const b=da.credential(a==null?void 0:a.email,t);TR(a,b).then(()=>{if(n!==i){m();return}g()}).catch(x=>{if(console.error(x),x.message.includes("auth/missing-email"))return window.alert(" .")})},c=w=>{if(o)return alert(" !");r(w.currentTarget.value)},f=w=>{if(o)return alert(" !");e(w.currentTarget.value)},p=w=>{if(o)return alert(" !");s(w.currentTarget.value)};function m(){window.alert("   .   .")}function g(){R8(a,n).then(()=>{window.alert("  ."),e(""),r(""),s(""),l(-1)}).catch(w=>{console.error(w)})}return{onSubmit:h,originPassword:t,onOriginChange:f,newPassword:n,onNewChange:c,checkNewPassword:i,onCheckNewChange:p}},hre=()=>{const[t,e]=K.useState(p3[0]),[n,r]=K.useState(""),[i,s]=K.useState(""),[o,a]=K.useState(""),[l,h]=K.useState(""),[c,f]=K.useState(""),[p,m]=K.useState(""),[g,y]=K.useState(""),[w,b]=K.useState(new Set),x=Or();return{currentStep:t,keyword:n,onFirstStepChange:I=>{const{currentTarget:{value:A}}=I;r(A)},onFirstStepSubmit:I=>{I.preventDefault(),n===""?e({step:2,stepName:" "}):alert("  !")},email:i,password:o,checkPassword:l,showErrorMsg:c,onSecondStepChange:I=>{const{currentTarget:{name:A,value:D}}=I;switch(A){case"email":s(D);break;case"password":a(D),f("");break;case"checkPassword":h(D);break}},onSecondStepSubmit:async I=>{I.preventDefault();try{if(i.length===0)return f("  !");if(o.length<8)return f(" 8 .");if(o!==l)return f("  .");window.alert("      !"),e({step:3,stepName:" "})}catch(A){if(A.message.includes("email-already-in-use"))return f("    .   .")}},username:p,userGender:g,checkedBookField:w,onThirdStepChange:async I=>{const{currentTarget:{name:A,value:D}}=I;switch(A){case"username":m(D);break;case"gender":y(D);break}},onThirdStepSubmit:async I=>{var A;I.preventDefault();try{await D8(Jt,i,o),p&&g&&w.size!==0?(await Os(ln(Zt,Qi,`${(A=Jt.currentUser)==null?void 0:A.uid}`),{favoriteBookField:Array.from(w),gender:g,name:p,displayName:"  ",photoURL:""}),window.alert("  .      !"),x("/")):alert("    .")}catch(D){if(D.message.includes("auth/invalid-email"))return f("   .");console.error(D.message)}},checkedBoxHandler:(I,A)=>{A?(w.add(I),b(w)):!A&&w.has(I)&&(w.delete(I),b(w))}}},pre={id:"",title:"",creatorId:"",createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),deadline:"",voteItems:[]},mre={id:0,selectReason:"",book:{title:"",thumbnail:"",url:""}},kE=On({key:`bookVoteDocs/${zt()}`,default:null}),gre=()=>{const{uid:t}=Le(Ct),n=Le(kE).length,r={id:1,book:{title:"",thumbnail:"",url:""},selectReason:""},i={id:`${(n+1).toString().padStart(3,"0")}`,title:"",createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:t,deadline:dt(new Date,"yyyy-MM-dd"),voteItems:[r,{...r,id:2}]},[s,o]=K.useState(i),{alertAskJoinMember:a,anonymous:l}=ii("register"),{sendPushNotificationToAllUser:h,isPending:c}=Zi(),f=async()=>{const x=ln(Zt,zo,`VoteId-${s.id}`);await Os(x,s)},{hideModal:p}=St();return{newVote:s,setNewVote:o,onNewVoteSubmit:async x=>{if(x.preventDefault(),l)return a();if(s.title==="")return;if(s.voteItems.find(S=>S.book.title===""))return alert("    !");try{f(),window.alert("  !"),p(),h({title:"  ",body:`${s.title}  .    !`,subPath:"/vote"})}catch(S){console.error("Error adding document:",S)}},onVoteTitleChange:x=>{const E={...s,title:x.currentTarget.value};o(E)},onDateChange:x=>{const E={...s,deadline:dt(x,"yyyy-MM-dd")};o(E)},onAddVoteItemBtn:()=>{const x={voteItems:[...s.voteItems,{...mre,id:s.voteItems.length+1}]};o(E=>({...E,...x}))},onDeleteVoteItemClick:x=>{const E=s.voteItems.filter(({id:S})=>S!==x);o(S=>({...S,voteItems:E}))},isPending:c}},vre=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(!1),{uid:i}=Le(Ct),s=Or();return{onDeleteSubmit:l=>{if(l.preventDefault(),t==="")return;const h=Jt.currentUser,c=da.credential(h==null?void 0:h.email,t);try{window.confirm(" ?")===!0?TR(h,c).then(()=>{const p=ln(Zt,Qi,i);Gg(p),F8(h),s("/")}).catch(p=>{p.message.includes("wrong-password")&&r(!0)}):window.alert(".")}catch(f){console.log(f)}},showMessage:n,password:t,onChange:l=>{var c;if((c=Jt.currentUser)==null?void 0:c.isAnonymous)return alert(" !");e(l.currentTarget.value)}}},TE=On({key:`basePhotoAtom/${zt()}`,default:null});On({key:`selectedYearAtom/${zt()}`,default:vt});const tc=On({key:`clubByYearAtom/${zt()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),Ur=t3({key:"clubByMonthSelector",get:t=>({get:e})=>e(tc).find(({id:r})=>r===t)||null}),Af=()=>{const[t,e]=K.useState(vt),[n,r]=Wt(tc);K.useEffect(()=>{Hn(`BookClub-${t}`,r)},[t]);const i=K.useMemo(()=>n.filter(s=>s==null?void 0:s.book).filter(({book:s})=>s.thumbnail!=="").map(({book:{title:s,url:o,publisher:a,authors:l,thumbnail:h},id:c})=>({title:s,url:o,publisher:a,authors:l,thumbnail:h,yearMonthId:c})),[n]);return{clubByYear:n,selectedYear:t,setSelectedYear:e,clubBookListByYear:i}},kl=On({key:`absence/${zt()}`,default:null,effects:[({setSelf:t})=>{(async()=>{Xn(Nr,ul,t)})()}]}),E3=t3({key:"attendanceSelector",get:t=>({get:e})=>{const n=e(lo),r=e(kl);if(!(r!=null&&r.absenceMembers))return{absenteeList:null,participantList:null};const i=r==null?void 0:r.absenceMembers,s=+t.slice(0,4),o=+t.slice(-2),a=i.find(({month:c})=>o===c),l=[...(a==null?void 0:a.breakMembers)||[],...(a==null?void 0:a.onceAbsenceMembers)||[]],h=n.filter(({membershipJoinTime:c})=>{const f=new Date(s,o-1);return new Date(c).getTime()<f.getTime()}).filter(c=>!l.includes(c.id)).map(c=>c.id);return{absenteeList:l,participantList:h}}}),yre={month:1,breakMonth:!1,onceAbsenceMonth:!1},wre=()=>{const{uid:t}=Le(Ct),[e,n]=Wt(kl),[r,i]=K.useState(yre),s=ln(Zt,Nr,ul),o=(h,c)=>c?h.includes(t)?h:[...h,t]:h.filter(f=>f!==t),{hideModal:a}=St();return{onSubmit:async(h,c)=>{h.preventDefault();const{onceAbsenceMonth:f,breakMonth:p}=r,m=e.absenceMembers.map(y=>{const{breakMembers:w,onceAbsenceMembers:b}=y,x={...y,breakMembers:o(w,p),onceAbsenceMembers:o(b,f)};return y.month===c?x:y}),g={...e,absenceMembers:m};n(g),await yn(s,{absenceMembers:m}),a()},selectedValues:r,setSelectedValues:i}},Df=On({key:`fieldAndHostAtom/${zt()}`,default:{id:"",bookFieldAndHostList:[]},effects:[({setSelf:t})=>{(async()=>{Xn(`BookClub-${vt}`,Yd,t)})()}]}),bre=e3({key:"clubByMonthSelector",get:({get:t})=>{var n;const e=t(Df);return(n=e==null?void 0:e.bookFieldAndHostList)==null?void 0:n.find(({month:r})=>r===+ei+1)}}),xre=()=>{const[t,e]=K.useState(null),[n,r]=Wt(Df),{alertAskJoinMember:i,anonymous:s}=ii("edit"),{bookFieldAndHostList:o}=n,a=ln(Zt,`BookClub-${vt}`,Yd),{errorMsg:l,handleErrorMsg:h}=CE(),{hideModal:c}=St(),f={field:[{condition:(t==null?void 0:t.field)==="",error:"  ."}],hosts:[{condition:(t==null?void 0:t.hosts.length)===0,error:"   ."}]},p=async(m,g)=>{if(m.preventDefault(),s)return i();if(h(f))return;const w=o.map(x=>{const E={...x,...t};return x.month===g?E:x}),b={...n,bookFieldAndHostList:w};r(b),await yn(a,b),c()};return K.useEffect(()=>{Zu(o)||Xn(`BookClub-${vt}`,Yd,r)},[n]),{fieldAndHostList:o,onSubmit:p,selectedValues:t,setSelectedValues:e,errorMsg:l}},CE=()=>{const[t,e]=K.useState({});return{errorMsg:t,handleErrorMsg:r=>{const i=a=>{var h;return((h=a==null?void 0:a.find(c=>c.condition))==null?void 0:h.error)||""},s=Object.fromEntries(Object.keys(r).map(a=>[a,i(r[a])]));return e(s),Object.values(s).some(a=>a!=="")}}},_re=({likes:t,likeUsers:e,docId:n,collName:r})=>{const[i,s]=K.useState(!1),[o,a]=K.useState(!1),{uid:l}=Le(Ct),{onEditSubmitClick:h}=Of({collName:r,docId:n});return{like:i,setLike:s,onLikeClick:async()=>{r&&(i?(a(!1),await h({likes:t-1,likeUsers:e.filter(p=>p!==l)})):await h({likes:t+1,likeUsers:[...e,l]}),s(p=>!p))},showLikeUsers:o,toggleShowLikeUsers:()=>a(p=>!p)}},Sre=On({key:`penaltyDoc/${zt()}`,default:{}});e3({key:`userPenaltyList/${zt()}`,get:({get:t})=>{const e=t(Sre),{createdAt:n,id:r,...i}=e;return Object.entries(i).map(([s,o])=>({[s]:o}))}});const Ere=()=>{const[t,e]=K.useState(!1),[{uid:n,displayName:r},i]=Wt(Ct),[s,o]=Wt(SE(n)),[a,l]=K.useState(null),[h,c]=K.useState(r),f=()=>{const k=pg().currentUser;i({uid:k.uid,email:k.email,displayName:k.displayName,photoURL:k.photoURL})},p=ln(Zt,Qi,n),m=async()=>{const{original:k,compressed:C}=a,O=Gx(Kx,`avatars/${n}/original`),N=await uO(O,k),P=await Yx(N.ref),I=Gx(Kx,`avatars/${n}/compressed`),A=await uO(I,C),D=await Yx(A.ref);await DC(Jt.currentUser,{photoURL:P}),await yn(p,{photoURL:{original:P,compressed:D}}),f()},g=async()=>{const k={displayName:h};await DC(Jt.currentUser,k),await yn(p,k),f()},y=async()=>{await yn(p,{favoriteBookField:Array.from(s.favoriteBookField)})};return{isEditing:t,onToggleEditClick:()=>e(!0),onHandleFieldClick:(k,C)=>{const{name:O}=C.currentTarget,N={id:k,name:O};if(!s.favoriteBookField.some(I=>I.id===k)){const A=[...s.favoriteBookField,N].filter((D,L,F)=>L===F.findIndex(q=>q.id===D.id));return o(D=>({...D,favoriteBookField:A}))}o(I=>({...I,favoriteBookField:I.favoriteBookField.filter(A=>A.id!==k)}))},onProfileSubmit:async k=>{k.preventDefault();try{a&&m(),r!==h&&g(),y(),e(!1)}catch(C){console.error("Error adding document:",C)}},newUserImgUrl:a,setNewUserImgUrl:l,newDisplayName:h,setNewDisplayName:c,userDoc:s,onDisplayNameChange:k=>{c(k.currentTarget.value)},isSelected:k=>{var C;return(C=s==null?void 0:s.favoriteBookField)==null?void 0:C.some(O=>O.id===k)}}},k3=(t,e)=>{const[n,r]=K.useState(t),[i,s]=K.useState(null),o=Le(Ur(e)),a=so(tc),{hideModal:l}=St(),{sendPushNotificationToAllUser:h}=Zi(),c=+e.slice(-2),f=async g=>{const y=ln(Zt,Nr,e),{meeting:{time:w,place:b}}=g;if(t.time===w.toLocaleString()&&t.place===b)return l();await yn(y,g),a(x=>x.map(E=>o.id===e?{...E,...g}:E)),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ! ${dt(w,"M d EEEE a h mm")} ${b}  `})},p=async g=>{await xE(Nr,e,g),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ${g.book.title}. ${dt(g.meeting.time,"M d EEEE a h mm")} ${g.meeting.place} `})},m=g=>{r(y=>({...y,...g}))};return K.useEffect(()=>{var g;((g=i==null?void 0:i.place)==null?void 0:g.length)!==null&&Xn(Rne,Mne,s)},[]),{savedPlaceList:i,currMeeting:n,onMeetingChange:m,onMeetingEdit:f,onNewBookClubSubmit:p}},kre=({docId:t})=>{var k;const{uid:e}=Le(Ct),[n,r]=K.useState(pre),[i,s]=K.useState([]),[o,a]=K.useState([]),[l,h]=K.useState(!1),c=()=>h(C=>!C),f=Or(),{anonymous:p,alertAskJoinMember:m}=ii("see");K.useEffect(()=>{t&&n.id===""&&Xn(zo,`VoteId-${t}`,r),n.id&&Hn(`${zo}/VoteId-${n.id}/${r_}`,a)},[t,n.id,a]);const g=async()=>{if(window.confirm(" ?")){const O=ln(Zt,zo,`VoteId-${t}`);await Gg(O),f(-1)}},y=async C=>{if(C.preventDefault(),p)return m();if(i.length===0)return window.alert("   .");try{const O=ln(Zt,`${zo}/VoteId-${n.id}/${r_}`,e);await Os(O,{createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),votedItem:i}),window.alert(" !"),x&&c()}catch(O){console.error(O)}},w=C=>i.find(({id:O})=>O===C),b=C=>{const O=w(C);s(O?i.filter(({id:N})=>N!==C):[...i,{id:C}])},x=o==null?void 0:o.find(({id:C})=>C===e),E=Pne(n.voteItems,o),S=(k=E==null?void 0:E.map(C=>C.voteCount))==null?void 0:k.reduce((C,O)=>C+O,0);return{currentVote:n,votedItemsByMember:o,voteCountsById:E,totalVoteCount:S,selectedItem:w,onVotingSubmit:y,onVoteItemClick:b,myVotedItems:x,onVoteDeleteClick:g,isRevote:l,onToggleRevoteClick:c}},Tre=t=>{const[e,n]=K.useState({email:"",error:""}),[r,i]=K.useState({password:"",error:""}),s=Or(),o={email:{HAS_NOT_EMAIL:"  ."},password:{HAS_NOT_PASSWORD:"  .",NOT_CORRECT:"    ."}},a=(f,p)=>{f==="email"&&n(m=>({...m,error:p})),f==="password"&&i(m=>({...m,error:p}))};return{currEmail:e,currPassword:r,onSubmit:async f=>{f.preventDefault();const{email:p}=e,{password:m}=r,{email:{HAS_NOT_EMAIL:g},password:{HAS_NOT_PASSWORD:y,NOT_CORRECT:w}}=o;try{if(!p&&!m){a("email",g),a("password",y);return}if(!p){a("email",g);return}if(!m){a("password",y);return}await I8(Jt,p,m),s("/")}catch(b){b.message.includes("invalid-login-credentials")&&a("password",w)}},onChange:f=>{const{currentTarget:{name:p,value:m}}=f;p==="email"&&n({email:m,error:""}),p==="password"&&i({password:m,error:""})},onAnonymousLoginClick:()=>{if(!t)try{C8(Jt),dg(Jt,f=>{f&&s("/")})}catch(f){console.log(f)}}}},NE=()=>{var o;const[t,e]=Wt(i3),n=K.useRef(null),r=(o=n==null?void 0:n.current)==null?void 0:o.value;return K.useEffect(()=>{if(r==="")return e([])},[]),{searchInputRef:n,onBookQueryChange:a=>{const{value:l}=a.currentTarget;l!==""?ure(l,e):e([])},searchList:t,setSearchList:e,resetSearchList:()=>e([])}},Zi=()=>{const[t,e]=K.useState(!1),{uid:n,displayName:r}=Le(Ct),i=async(h,c)=>{e(!0);const{title:f,body:p,subPath:m,notification:g}=h,y=`https://talentforest.github.io/han-bookclub-app${m||""}`;try{if(!c){if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!g)return{result:"fail"};const w=await _m();return await lw({title:f,body:p,token:w,link:y}),{result:"success"}}if(c)return c!=null&&c.notification?(c.tokens.map(async w=>lw({title:f,body:p,token:w,link:y})),{result:"success"}):{result:"fail"}}catch(w){console.log(w)}finally{e(!1)}},s=async({title:h,body:c,subPath:f})=>{e(!0);try{const p=`https://talentforest.github.io/han-bookclub-app${f||""}`;await cO({title:h,body:c,link:p,uid:n})}catch(p){console.log(p)}finally{e(!1)}},o=async(h,c)=>{e(!0);try{if(!n||!h)return{result:"fail"};const f=+(c==null?void 0:c.slice(-2))||+ei,p={:{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r}  .  !`,subPath:"/bookclub"},:{title:"  ",body:`${r} ${f}  .`,subPath:"/bookclub"},:{title:" ",body:`${r}  .   !`,subPath:"/bookclub"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}},{title:m,body:g,subPath:y}=p[h],w=`https://talentforest.github.io/han-bookclub-app${y}`;return await cO({title:m,body:g,link:w,uid:n}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},a=(h,c)=>{const f=+(c==null?void 0:c.slice(-2))||+ei,p=c?`/${c}`:"";return{:{title:"  ",body:`${r} ${f}  .  ?`,subPath:`/bookclub${p}/subjects`}," ":{title:"  ",body:`${r} ${f}   .  ?`,subPath:`/bookclub${p}/host-review`}," ":{title:"  ",body:`${r}  .  !`,subPath:`/bookclub${p}`},:{title:"  ",body:`${r} ${f}   .`,subPath:`/bookclub${p}`},:{title:" ",body:`${r}  .      ?!`,subPath:"/challenge"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}}[h]};return{sendTestToMe:async(h,c)=>{e(!0);try{if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!n||!h)return{result:"fail"};const{title:f,body:p,subPath:m}=a(h,c),g=`http://localhost:3000/han-bookclub-app${m}`,y=await _m();return await lw({title:f,body:p,token:y,link:g}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},sendPostPushNotification:o,sendPushNotificationToUser:i,sendPushNotificationToAllUser:s,isPending:t}},Cre=On({key:`rereadingChallenge/${zt()}`,default:null}),T3=On({key:`completeReadingChallenge/${zt()}`,default:null});On({key:`sentences/${zt()}`,default:null});const C3=()=>{const t=Le(lo),[e,n]=Wt(Cre);K.useEffect(()=>{e||Hn(ll,n)},[]);const r=K.useMemo(()=>{if(!e)return null;const s=e.map(o=>{const{creatorId:a,id:l,...h}=o;return Object.entries(h).map(([c,{book:f,counts:p,impressionList:m}])=>({...f,counts:p,id:l,impressionList:m.map(g=>({...g,creatorId:a}))}))}).flat();return Object.values(s.reduce((o,a)=>{const{title:l,counts:h,impressionList:c}=a;return o[l]?(o[l].counts+=h,o[l].readers+=1,o[l].impressionList=[...o[l].impressionList??[],...c]):o[l]={...a,readers:1},o},{})).sort((o,a)=>a.counts+a.readers-(o.counts+o.readers))},[e]),i=K.useMemo(()=>{const o=t.map(({id:c})=>(e==null?void 0:e.find(({creatorId:p})=>p===c))||{id:c,creatorId:c}).map(c=>{const f=Object.entries(c).filter(([m])=>m!=="id"&&m!=="creatorId").map(([m,g])=>({...g.book,counts:g.counts})),p=f.reduce((m,g)=>m+g.counts,0);return{creatorId:c.creatorId,totalScore:p,rereadingBookList:f}}).sort((c,f)=>f.totalScore-c.totalScore);let a=0,l=null,h=0;return o.map((c,f)=>{const{rereadingBookList:p,creatorId:m,totalScore:g}=c;l===g?a=h:a=f+1,l=g,h=a;const y=p.reduce((w,{counts:b})=>w+b,0);return{creatorId:m,rank:a,rereadingBookList:p,totalRereadingCounts:y}})},[e]);return{bookWithRankList:r,userRankList:i}};var N3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_A=se.createContext&&se.createContext(N3),Nre=["attr","size","title"];function Ore(t,e){if(t==null)return{};var n=Are(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O3(t){return t&&t.map((e,n)=>se.createElement(e.tag,Om({key:n},e.attr),O3(e.child)))}function ot(t){return e=>se.createElement(Rre,Nm({attr:Om({},t.attr)},e),O3(t.child))}function Rre(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Ore(t,Nre),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),se.createElement("svg",Nm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Om(Om({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&se.createElement("title",null,s),t.children)};return _A!==void 0?se.createElement(_A.Consumer,null,n=>e(n)):e(N3)}function Mre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Lre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(t)}function jre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function Fre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(t)}function OE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function A3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function $re(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Bre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function AE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Ure(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function D3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(t)}function Vre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"},child:[]},{tag:"polyline",attr:{points:"17 18 12 13 7 18"},child:[]}]})(t)}function qre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function I3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function DE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Hre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function zre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function Wre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Yre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Gre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function Kre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function IE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function gv(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function P3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function PE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Qre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function If(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Xre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Am(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Jre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function R3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function $n({title:t,backBtn:e,showDesktop:n,children:r,backTo:i}){const s=Or(),o=()=>{s(i||-1)};return _.jsxs("header",{className:`items-center gap-2 py-4 max-sm:flex ${n?"flex":"hidden"} header`,children:[t===" "&&_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-[20px]"}),e&&_.jsx("button",{onClick:o,type:"button","aria-label":"",onKeyDown:o,children:_.jsx(Bre,{fontSize:22})}),_.jsx("span",{className:"mr-auto text-lg font-medium",children:t}),r]})}function Vr({title:t,children:e,className:n,headerType:r="normal"}){const{hideModal:i}=St();K.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const s=document.getElementById("modal");return S_.createPortal(_.jsxs("section",{className:`fixed inset-0 z-10 m-auto flex h-fit max-h-[80vh] w-[55vw] flex-col rounded-2xl bg-white px-5 py-6 max-sm:w-[90%] ${n}`,children:[r!=="noHeader"&&_.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-medium",children:t}),r!=="onlyTitle"&&_.jsx("button",{type:"button",onClick:()=>i(),className:"px-1",children:_.jsx(R3,{size:20})})]}),e]}),s)}function Zre(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(t)}function RE(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3zm1 7H5v-1h14v1zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54 4.95-4.95z"},child:[]}]})(t)}function M3({url:t,title:e,className:n=""}){return _.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:`p-1.5 text-gray1 ${e?"flex items-center gap-1":"inline-block"} ${n}`,children:[_.jsx(Hre,{className:e?"":"size-full"}),e&&_.jsx("span",{className:"truncate text-[15px]",children:e})]})}function un({title:t,thumbnail:e,url:n,className:r="",iconName:i}){const s={MdEventAvailable:_.jsx(Zre,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"}),FiPlus:_.jsx(P3,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-blue2 max-sm:w-[55%]"})},o="aspect-[0.68/1] h-fit shadow-book overflow-hidden rounded-r-[8%]";return _.jsxs(_.Fragment,{children:[e&&_.jsxs("div",{className:`relative ${o} ${r}`,children:[_.jsx("img",{className:"size-full",src:e,alt:`${t} `}),n&&_.jsx(M3,{url:n,className:"absolute bottom-1 right-1 flex size-7 items-center justify-center rounded-full bg-indigo-500 text-white opacity-50"})]}),!e&&_.jsx("div",{className:`flex items-center justify-center bg-gray4 ${o} ${r}`,children:i?s[i]:_.jsx(jre,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"})})]})}function ME({text:t,lineClamp:e}){const n=`line-clamp-[${e}]`,r=t.replaceAll("","");return _.jsx("p",{className:`ql-editor min-h-12 w-full truncate whitespace-pre-line !p-0 leading-7 ${e?n:""}`,dangerouslySetInnerHTML:{__html:r}})}function eie({collName:t,like:e,onLikeClick:n}){return _.jsx("button",{type:"button",disabled:!t,onClick:n,className:"p-1",children:_.jsx(Wre,{stroke:t?"red":"#aaa",fill:t?e?"red":"transparent":"#aaa",fontSize:13})})}function ur({userId:t,className:e,isLink:n=!0}){const{uid:r}=Le(Ct),i=Le(TE),[s,o]=Wt(lo),a=s==null?void 0:s.find(({id:p})=>p===t);K.useEffect(()=>{(s==null?void 0:s.length)===0&&Hn(Qi,o)},[t,s,o]);const l=p=>(p.preventDefault(),p.stopPropagation(),!1),h="size-[20px] aspect-square rounded-full shadow-card";if(!a)return;const f=`/bookshelf${r===(a==null?void 0:a.id)?"":`/${a==null?void 0:a.displayName}`}`;return n?_.jsxs(br,{to:f,state:{userId:a.id},className:`flex min-w-fit cursor-pointer items-center justify-between gap-x-1 ${e}`,children:[_.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),_.jsx("span",{className:"min-w-fit",children:a.displayName})]}):_.jsxs("div",{className:`flex min-w-fit items-center justify-between gap-x-1 ${e}`,children:[_.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),_.jsx("span",{className:"min-w-fit",children:a.displayName})]})}const tie=({post:t,collName:e})=>{var c,f,p;const{uid:n}=Le(Ct),r=n===t.creatorId,{like:i,setLike:s,onLikeClick:o,showLikeUsers:a,toggleShowLikeUsers:l}=_re({likes:t.likes||0,likeUsers:t.likeUsers||[],docId:t.id,collName:e}),h=(c=t.likeUsers)==null?void 0:c.some(m=>m===n);return K.useEffect(()=>{h&&s(!0)},[]),_.jsxs("div",{className:"relative flex",children:[_.jsx("button",{type:"button",onClick:l,className:"px-1",children:a?_.jsx(Ure,{className:"text-gray1"}):_.jsx($re,{className:"text-gray1"})}),_.jsxs("span",{className:"text-sm",children:[((f=t==null?void 0:t.likeUsers)==null?void 0:f.length)||0," Likes"]}),!r&&_.jsx(eie,{collName:e,like:i,onLikeClick:o}),a&&_.jsxs("div",{className:"absolute bottom-7 right-0 rounded-xl border bg-white p-3",children:[_.jsx("h4",{className:"mb-2 min-w-20 text-sm text-gray1",children:" "}),_.jsx("ul",{className:"flex w-full flex-wrap gap-x-2 gap-y-1",children:(p=t==null?void 0:t.likeUsers)==null?void 0:p.map(m=>_.jsx(ur,{userId:m,className:""},m))})]})]})};function vv({post:t,createdAt:e,footerType:n,collName:r}){return _.jsxs("footer",{className:"mt-4 flex items-center justify-between",children:[_.jsx("span",{className:"min-w-fit text-sm text-gray1",children:dt(e)}),n==="likes"&&_.jsx(tie,{collName:r,post:t})]})}function nie({docId:t,collName:e}){const{onDeleteClick:n}=dre({docId:t,collName:e});return _.jsx("button",{onClick:n,children:_.jsx(If,{fontSize:15,stroke:"#aaa"})})}function lt({name:t,type:e="button",children:n,disabled:r,handleClick:i,color:s="blue",className:o="",tailChildren:a,size:l="md"}){const h={gray:"text-gray1 bg-gray4",blue:"text-white bg-blue1",purple:"text-white bg-purple2",lightBlue:"text-blue4 bg-blue2"},c={lg:"h-14 min-h-14 px-4 text-[17px]",md:"h-12 min-h-12 px-4 text-[15px]",sm:"h-9 min-h-4 px-2 text-[13px]"};return _.jsxs("button",{type:e,onClick:i,disabled:r,className:`flex w-fit min-w-max items-center justify-center rounded-lg shadow-lg disabled:bg-gray4 disabled:text-gray2 max-sm:px-4 ${c[l]} ${h[s]} ${o}`,children:[n,_.jsx("span",{className:"font-medium tracking-tight",children:t}),a]})}var Qw,EA;function rie(){if(EA)return Qw;EA=1;function t(){this.__data__=[],this.size=0}return Qw=t,Qw}var Xw,kA;function L3(){if(kA)return Xw;kA=1;function t(e,n){return e===n||e!==e&&n!==n}return Xw=t,Xw}var Jw,TA;function yv(){if(TA)return Jw;TA=1;var t=L3();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Jw=e,Jw}var Zw,CA;function iie(){if(CA)return Zw;CA=1;var t=yv(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Zw=r,Zw}var e1,NA;function sie(){if(NA)return e1;NA=1;var t=yv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return e1=e,e1}var t1,OA;function oie(){if(OA)return t1;OA=1;var t=yv();function e(n){return t(this.__data__,n)>-1}return t1=e,t1}var n1,AA;function aie(){if(AA)return n1;AA=1;var t=yv();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return n1=e,n1}var r1,DA;function wv(){if(DA)return r1;DA=1;var t=rie(),e=iie(),n=sie(),r=oie(),i=aie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,r1=s,r1}var i1,IA;function lie(){if(IA)return i1;IA=1;var t=wv();function e(){this.__data__=new t,this.size=0}return i1=e,i1}var s1,PA;function uie(){if(PA)return s1;PA=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return s1=t,s1}var o1,RA;function cie(){if(RA)return o1;RA=1;function t(e){return this.__data__.get(e)}return o1=t,o1}var a1,MA;function die(){if(MA)return a1;MA=1;function t(e){return this.__data__.has(e)}return a1=t,a1}var l1,LA;function j3(){if(LA)return l1;LA=1;var t=typeof Wh=="object"&&Wh&&Wh.Object===Object&&Wh;return l1=t,l1}var u1,jA;function uo(){if(jA)return u1;jA=1;var t=j3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return u1=n,u1}var c1,FA;function LE(){if(FA)return c1;FA=1;var t=uo(),e=t.Symbol;return c1=e,c1}var d1,$A;function fie(){if($A)return d1;$A=1;var t=LE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var h=!0}catch{}var c=r.call(o);return h&&(a?o[i]=l:delete o[i]),c}return d1=s,d1}var f1,BA;function hie(){if(BA)return f1;BA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return f1=n,f1}var h1,UA;function bv(){if(UA)return h1;UA=1;var t=LE(),e=fie(),n=hie(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return h1=o,h1}var p1,VA;function F3(){if(VA)return p1;VA=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return p1=t,p1}var m1,qA;function $3(){if(qA)return m1;qA=1;var t=bv(),e=F3(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return m1=o,m1}var g1,HA;function pie(){if(HA)return g1;HA=1;var t=uo(),e=t["__core-js_shared__"];return g1=e,g1}var v1,zA;function mie(){if(zA)return v1;zA=1;var t=pie(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return v1=n,v1}var y1,WA;function B3(){if(WA)return y1;WA=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return y1=n,y1}var w1,YA;function gie(){if(YA)return w1;YA=1;var t=$3(),e=mie(),n=F3(),r=B3(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,h=a.hasOwnProperty,c=RegExp("^"+l.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=t(p)?c:s;return m.test(r(p))}return w1=f,w1}var b1,GA;function vie(){if(GA)return b1;GA=1;function t(e,n){return e==null?void 0:e[n]}return b1=t,b1}var x1,KA;function nc(){if(KA)return x1;KA=1;var t=gie(),e=vie();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return x1=n,x1}var _1,QA;function jE(){if(QA)return _1;QA=1;var t=nc(),e=uo(),n=t(e,"Map");return _1=n,_1}var S1,XA;function xv(){if(XA)return S1;XA=1;var t=nc(),e=t(Object,"create");return S1=e,S1}var E1,JA;function yie(){if(JA)return E1;JA=1;var t=xv();function e(){this.__data__=t?t(null):{},this.size=0}return E1=e,E1}var k1,ZA;function wie(){if(ZA)return k1;ZA=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return k1=t,k1}var T1,eD;function bie(){if(eD)return T1;eD=1;var t=xv(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return T1=i,T1}var C1,tD;function xie(){if(tD)return C1;tD=1;var t=xv(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return C1=r,C1}var N1,nD;function _ie(){if(nD)return N1;nD=1;var t=xv(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return N1=n,N1}var O1,rD;function Sie(){if(rD)return O1;rD=1;var t=yie(),e=wie(),n=bie(),r=xie(),i=_ie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,O1=s,O1}var A1,iD;function Eie(){if(iD)return A1;iD=1;var t=Sie(),e=wv(),n=jE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return A1=r,A1}var D1,sD;function kie(){if(sD)return D1;sD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return D1=t,D1}var I1,oD;function _v(){if(oD)return I1;oD=1;var t=kie();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return I1=e,I1}var P1,aD;function Tie(){if(aD)return P1;aD=1;var t=_v();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return P1=e,P1}var R1,lD;function Cie(){if(lD)return R1;lD=1;var t=_v();function e(n){return t(this,n).get(n)}return R1=e,R1}var M1,uD;function Nie(){if(uD)return M1;uD=1;var t=_v();function e(n){return t(this,n).has(n)}return M1=e,M1}var L1,cD;function Oie(){if(cD)return L1;cD=1;var t=_v();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return L1=e,L1}var j1,dD;function U3(){if(dD)return j1;dD=1;var t=Eie(),e=Tie(),n=Cie(),r=Nie(),i=Oie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,j1=s,j1}var F1,fD;function Aie(){if(fD)return F1;fD=1;var t=wv(),e=jE(),n=U3(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return F1=i,F1}var $1,hD;function Die(){if(hD)return $1;hD=1;var t=wv(),e=lie(),n=uie(),r=cie(),i=die(),s=Aie();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,$1=o,$1}var B1,pD;function Iie(){if(pD)return B1;pD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return B1=e,B1}var U1,mD;function Pie(){if(mD)return U1;mD=1;function t(e){return this.__data__.has(e)}return U1=t,U1}var V1,gD;function Rie(){if(gD)return V1;gD=1;var t=U3(),e=Iie(),n=Pie();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,V1=r,V1}var q1,vD;function Mie(){if(vD)return q1;vD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return q1=t,q1}var H1,yD;function Lie(){if(yD)return H1;yD=1;function t(e,n){return e.has(n)}return H1=t,H1}var z1,wD;function V3(){if(wD)return z1;wD=1;var t=Rie(),e=Mie(),n=Lie(),r=1,i=2;function s(o,a,l,h,c,f){var p=l&r,m=o.length,g=a.length;if(m!=g&&!(p&&g>m))return!1;var y=f.get(o),w=f.get(a);if(y&&w)return y==a&&w==o;var b=-1,x=!0,E=l&i?new t:void 0;for(f.set(o,a),f.set(a,o);++b<m;){var S=o[b],k=a[b];if(h)var C=p?h(k,S,b,a,o,f):h(S,k,b,o,a,f);if(C!==void 0){if(C)continue;x=!1;break}if(E){if(!e(a,function(O,N){if(!n(E,N)&&(S===O||c(S,O,l,h,f)))return E.push(N)})){x=!1;break}}else if(!(S===k||c(S,k,l,h,f))){x=!1;break}}return f.delete(o),f.delete(a),x}return z1=s,z1}var W1,bD;function jie(){if(bD)return W1;bD=1;var t=uo(),e=t.Uint8Array;return W1=e,W1}var Y1,xD;function Fie(){if(xD)return Y1;xD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return Y1=t,Y1}var G1,_D;function $ie(){if(_D)return G1;_D=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return G1=t,G1}var K1,SD;function Bie(){if(SD)return K1;SD=1;var t=LE(),e=jie(),n=L3(),r=V3(),i=Fie(),s=$ie(),o=1,a=2,l="[object Boolean]",h="[object Date]",c="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",E=t?t.prototype:void 0,S=E?E.valueOf:void 0;function k(C,O,N,P,I,A,D){switch(N){case x:if(C.byteLength!=O.byteLength||C.byteOffset!=O.byteOffset)return!1;C=C.buffer,O=O.buffer;case b:return!(C.byteLength!=O.byteLength||!A(new e(C),new e(O)));case l:case h:case p:return n(+C,+O);case c:return C.name==O.name&&C.message==O.message;case m:case y:return C==O+"";case f:var L=i;case g:var F=P&o;if(L||(L=s),C.size!=O.size&&!F)return!1;var q=D.get(C);if(q)return q==O;P|=a,D.set(C,O);var M=r(L(C),L(O),P,I,A,D);return D.delete(C),M;case w:if(S)return S.call(C)==S.call(O)}return!1}return K1=k,K1}var Q1,ED;function Uie(){if(ED)return Q1;ED=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return Q1=t,Q1}var X1,kD;function FE(){if(kD)return X1;kD=1;var t=Array.isArray;return X1=t,X1}var J1,TD;function Vie(){if(TD)return J1;TD=1;var t=Uie(),e=FE();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return J1=n,J1}var Z1,CD;function qie(){if(CD)return Z1;CD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return Z1=t,Z1}var eb,ND;function Hie(){if(ND)return eb;ND=1;function t(){return[]}return eb=t,eb}var tb,OD;function zie(){if(OD)return tb;OD=1;var t=qie(),e=Hie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return tb=s,tb}var nb,AD;function Wie(){if(AD)return nb;AD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return nb=t,nb}var rb,DD;function Sv(){if(DD)return rb;DD=1;function t(e){return e!=null&&typeof e=="object"}return rb=t,rb}var ib,ID;function Yie(){if(ID)return ib;ID=1;var t=bv(),e=Sv(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ib=r,ib}var sb,PD;function Gie(){if(PD)return sb;PD=1;var t=Yie(),e=Sv(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return sb=s,sb}var ud={exports:{}},ob,RD;function Kie(){if(RD)return ob;RD=1;function t(){return!1}return ob=t,ob}ud.exports;var MD;function q3(){return MD||(MD=1,function(t,e){var n=uo(),r=Kie(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,h=l||r;t.exports=h}(ud,ud.exports)),ud.exports}var ab,LD;function Qie(){if(LD)return ab;LD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ab=n,ab}var lb,jD;function H3(){if(jD)return lb;jD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return lb=e,lb}var ub,FD;function Xie(){if(FD)return ub;FD=1;var t=bv(),e=H3(),n=Sv(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",h="[object Map]",c="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",A={};A[x]=A[E]=A[S]=A[k]=A[C]=A[O]=A[N]=A[P]=A[I]=!0,A[r]=A[i]=A[w]=A[s]=A[b]=A[o]=A[a]=A[l]=A[h]=A[c]=A[f]=A[p]=A[m]=A[g]=A[y]=!1;function D(L){return n(L)&&e(L.length)&&!!A[t(L)]}return ub=D,ub}var cb,$D;function Jie(){if($D)return cb;$D=1;function t(e){return function(n){return e(n)}}return cb=t,cb}var cd={exports:{}};cd.exports;var BD;function Zie(){return BD||(BD=1,function(t,e){var n=j3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(cd,cd.exports)),cd.exports}var db,UD;function z3(){if(UD)return db;UD=1;var t=Xie(),e=Jie(),n=Zie(),r=n&&n.isTypedArray,i=r?e(r):t;return db=i,db}var fb,VD;function ese(){if(VD)return fb;VD=1;var t=Wie(),e=Gie(),n=FE(),r=q3(),i=Qie(),s=z3(),o=Object.prototype,a=o.hasOwnProperty;function l(h,c){var f=n(h),p=!f&&e(h),m=!f&&!p&&r(h),g=!f&&!p&&!m&&s(h),y=f||p||m||g,w=y?t(h.length,String):[],b=w.length;for(var x in h)(c||a.call(h,x))&&!(y&&(x=="length"||m&&(x=="offset"||x=="parent")||g&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&w.push(x);return w}return fb=l,fb}var hb,qD;function tse(){if(qD)return hb;qD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return hb=e,hb}var pb,HD;function nse(){if(HD)return pb;HD=1;function t(e,n){return function(r){return e(n(r))}}return pb=t,pb}var mb,zD;function rse(){if(zD)return mb;zD=1;var t=nse(),e=t(Object.keys,Object);return mb=e,mb}var gb,WD;function ise(){if(WD)return gb;WD=1;var t=tse(),e=rse(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return gb=i,gb}var vb,YD;function sse(){if(YD)return vb;YD=1;var t=$3(),e=H3();function n(r){return r!=null&&e(r.length)&&!t(r)}return vb=n,vb}var yb,GD;function ose(){if(GD)return yb;GD=1;var t=ese(),e=ise(),n=sse();function r(i){return n(i)?t(i):e(i)}return yb=r,yb}var wb,KD;function ase(){if(KD)return wb;KD=1;var t=Vie(),e=zie(),n=ose();function r(i){return t(i,n,e)}return wb=r,wb}var bb,QD;function lse(){if(QD)return bb;QD=1;var t=ase(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,h,c){var f=a&e,p=t(s),m=p.length,g=t(o),y=g.length;if(m!=y&&!f)return!1;for(var w=m;w--;){var b=p[w];if(!(f?b in o:r.call(o,b)))return!1}var x=c.get(s),E=c.get(o);if(x&&E)return x==o&&E==s;var S=!0;c.set(s,o),c.set(o,s);for(var k=f;++w<m;){b=p[w];var C=s[b],O=o[b];if(l)var N=f?l(O,C,b,o,s,c):l(C,O,b,s,o,c);if(!(N===void 0?C===O||h(C,O,a,l,c):N)){S=!1;break}k||(k=b=="constructor")}if(S&&!k){var P=s.constructor,I=o.constructor;P!=I&&"constructor"in s&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof I=="function"&&I instanceof I)&&(S=!1)}return c.delete(s),c.delete(o),S}return bb=i,bb}var xb,XD;function use(){if(XD)return xb;XD=1;var t=nc(),e=uo(),n=t(e,"DataView");return xb=n,xb}var _b,JD;function cse(){if(JD)return _b;JD=1;var t=nc(),e=uo(),n=t(e,"Promise");return _b=n,_b}var Sb,ZD;function dse(){if(ZD)return Sb;ZD=1;var t=nc(),e=uo(),n=t(e,"Set");return Sb=n,Sb}var Eb,eI;function fse(){if(eI)return Eb;eI=1;var t=nc(),e=uo(),n=t(e,"WeakMap");return Eb=n,Eb}var kb,tI;function hse(){if(tI)return kb;tI=1;var t=use(),e=jE(),n=cse(),r=dse(),i=fse(),s=bv(),o=B3(),a="[object Map]",l="[object Object]",h="[object Promise]",c="[object Set]",f="[object WeakMap]",p="[object DataView]",m=o(t),g=o(e),y=o(n),w=o(r),b=o(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=p||e&&x(new e)!=a||n&&x(n.resolve())!=h||r&&x(new r)!=c||i&&x(new i)!=f)&&(x=function(E){var S=s(E),k=S==l?E.constructor:void 0,C=k?o(k):"";if(C)switch(C){case m:return p;case g:return a;case y:return h;case w:return c;case b:return f}return S}),kb=x,kb}var Tb,nI;function pse(){if(nI)return Tb;nI=1;var t=Die(),e=V3(),n=Bie(),r=lse(),i=hse(),s=FE(),o=q3(),a=z3(),l=1,h="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(y,w,b,x,E,S){var k=s(y),C=s(w),O=k?c:i(y),N=C?c:i(w);O=O==h?f:O,N=N==h?f:N;var P=O==f,I=N==f,A=O==N;if(A&&o(y)){if(!o(w))return!1;k=!0,P=!1}if(A&&!P)return S||(S=new t),k||a(y)?e(y,w,b,x,E,S):n(y,w,O,b,x,E,S);if(!(b&l)){var D=P&&m.call(y,"__wrapped__"),L=I&&m.call(w,"__wrapped__");if(D||L){var F=D?y.value():y,q=L?w.value():w;return S||(S=new t),E(F,q,b,x,S)}}return A?(S||(S=new t),r(y,w,b,x,E,S)):!1}return Tb=g,Tb}var Cb,rI;function mse(){if(rI)return Cb;rI=1;var t=pse(),e=Sv();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return Cb=n,Cb}var Nb,iI;function gse(){if(iI)return Nb;iI=1;var t=mse();function e(n,r){return t(n,r)}return Nb=e,Nb}var jp={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var vse=jp.exports,sI;function yse(){return sI||(sI=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:vse,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),h=i(46),c=i(47),f=i(48),p=i(49),m=i(12),g=i(32),y=i(33),w=i(31),b=i(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:h.default,Text:p.default,Attributor:{Attribute:m.default,Class:g.default,Style:y.default,Store:w.default}};r.default=x},function(n,r,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var E in x)x.hasOwnProperty(E)&&(b[E]=x[E])};return function(b,x){w(b,x);function E(){this.constructor=b}b.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){s(b,w);function b(x){var E=this;return x="[Parchment] "+x,E=w.call(this,x)||this,E.message=x,E.name=E.constructor.name,E}return b}(Error);r.ParchmentError=o;var a={},l={},h={},c={};r.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function p(w,b){var x=g(w);if(x==null)throw new o("Unable to create "+w+" blot");var E=x,S=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(b);return new E(S,b)}r.create=p;function m(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?m(w.parentNode,b):null}r.find=m;function g(w,b){b===void 0&&(b=f.ANY);var x;if(typeof w=="string")x=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)x=c.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?x=c.block:w&f.LEVEL&f.INLINE&&(x=c.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var S in E)if(x=l[E[S]],x)break;x=x||h[w.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}r.query=g;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(S){return y(S)});var x=w[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(c[x.blotName||x.attrName]=x,typeof x.keyName=="string")a[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(S){return S.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var E=Array.isArray(x.tagName)?x.tagName:[x.tagName];E.forEach(function(S){(h[S]==null||x.className==null)&&(h[S]=x)})}return x}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),h="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,p){var m={};return f.length===0?this:(m.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,p){if(f<=0)return this;var m={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},c.prototype.push=function(f){var p=this.ops.length,m=this.ops[p-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(f),this;if(o(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var p=[],m=[];return this.forEach(function(g){var y=f(g)?p:m;y.push(g)}),[p,m]},c.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},c.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},c.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var m=[],g=l.iterator(this.ops),y=0;y<p&&g.hasNext();){var w;y<f?w=g.next(f-y):(w=g.next(p-y),m.push(w)),y+=l.length(w)}return new c(m)},c.prototype.compose=function(f){var p=l.iterator(this.ops),m=l.iterator(f.ops),g=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),g.push(p.next());y.retain-w>0&&m.next(y.retain-w)}for(var b=new c(g);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(p.peekType()==="delete")b.push(p.next());else{var x=Math.min(p.peekLength(),m.peekLength()),E=p.next(x),S=m.next(x);if(typeof S.retain=="number"){var k={};typeof E.retain=="number"?k.retain=x:k.insert=E.insert;var C=l.attributes.compose(E.attributes,S.attributes,typeof E.retain=="number");if(C&&(k.attributes=C),b.push(k),!m.hasNext()&&o(b.ops[b.ops.length-1],k)){var O=new c(p.rest());return b.concat(O).chop()}}else typeof S.delete=="number"&&typeof E.retain=="number"&&b.push(S)}return b.chop()},c.prototype.concat=function(f){var p=new c(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},c.prototype.diff=function(f,p){if(this.ops===f.ops)return new c;var m=[this,f].map(function(x){return x.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:h;var S=x===f?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),g=new c,y=s(m[0],m[1],p),w=l.iterator(this.ops),b=l.iterator(f.ops);return y.forEach(function(x){for(var E=x[1].length;E>0;){var S=0;switch(x[0]){case s.INSERT:S=Math.min(b.peekLength(),E),g.push(b.next(S));break;case s.DELETE:S=Math.min(E,w.peekLength()),w.next(S),g.delete(S);break;case s.EQUAL:S=Math.min(w.peekLength(),b.peekLength(),E);var k=w.next(S),C=b.next(S);o(k.insert,C.insert)?g.retain(S,l.attributes.diff(k.attributes,C.attributes)):g.push(C).delete(S);break}E-=S}}),g.chop()},c.prototype.eachLine=function(f,p){p=p||`
`;for(var m=l.iterator(this.ops),g=new c,y=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),b=l.length(w)-m.peekLength(),x=typeof w.insert=="string"?w.insert.indexOf(p,b)-b:-1;if(x<0)g.push(m.next());else if(x>0)g.push(m.next(x));else{if(f(g,m.next(1).attributes||{},y)===!1)return;y+=1,g=new c}}g.length()>0&&f(g,{},y)},c.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var m=l.iterator(this.ops),g=l.iterator(f.ops),y=new c;m.hasNext()||g.hasNext();)if(m.peekType()==="insert"&&(p||g.peekType()!=="insert"))y.retain(l.length(m.next()));else if(g.peekType()==="insert")y.push(g.next());else{var w=Math.min(m.peekLength(),g.peekLength()),b=m.next(w),x=g.next(w);if(b.delete)continue;x.delete?y.push(x):y.retain(w,l.attributes.transform(b.attributes,x.attributes,p))}return y.chop()},c.prototype.transformPosition=function(f,p){p=!!p;for(var m=l.iterator(this.ops),g=0;m.hasNext()&&g<=f;){var y=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){f-=Math.min(y,f-g);continue}else w==="insert"&&(g<f||!p)&&(f+=y);g+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},h=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var g=i.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},c=function(m,g){o&&g.name==="__proto__"?o(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},f=function(m,g){if(g==="__proto__")if(i.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};n.exports=function p(){var m,g,y,w,b,x,E=arguments[0],S=1,k=arguments.length,C=!1;for(typeof E=="boolean"&&(C=E,E=arguments[1]||{},S=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});S<k;++S)if(m=arguments[S],m!=null)for(g in m)y=f(E,g),w=f(m,g),E!==w&&(C&&w&&(h(w)||(b=l(w)))?(b?(b=!1,x=y&&l(y)?y:[]):x=y&&h(y)?y:{},c(E,{name:g,newValue:p(C,x,w)})):typeof w<"u"&&c(E,{name:g,newValue:w}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(D,L){for(var F=0;F<L.length;F++){var q=L[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,L,F){return L&&A(D.prototype,L),F&&A(D,F),D}}(),o=function A(D,L,F){D===null&&(D=Function.prototype);var q=Object.getOwnPropertyDescriptor(D,L);if(q===void 0){var M=Object.getPrototypeOf(D);return M===null?void 0:A(M,L,F)}else{if("value"in q)return q.value;var B=q.get;return B===void 0?void 0:B.call(F)}},a=i(3),l=E(a),h=i(2),c=E(h),f=i(0),p=E(f),m=i(16),g=E(m),y=i(6),w=E(y),b=i(7),x=E(b);function E(A){return A&&A.__esModule?A:{default:A}}function S(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function k(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function C(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var O=1,N=function(A){C(D,A);function D(){return S(this,D),k(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"attach",value:function(){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,q){var M=p.default.query(F,p.default.Scope.BLOCK_ATTRIBUTE);M!=null&&this.attributes.attribute(M,q)}},{key:"formatAt",value:function(F,q,M,B){this.format(M,B)}},{key:"insertAt",value:function(F,q,M){if(typeof q=="string"&&q.endsWith(`
`)){var B=p.default.create(P.blotName);this.parent.insertBefore(B,F===0?this:this.next),B.insertAt(0,q.slice(0,-1))}else o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,M)}}]),D}(p.default.Embed);N.scope=p.default.Scope.BLOCK_BLOT;var P=function(A){C(D,A);function D(L){S(this,D);var F=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return F.cache={},F}return s(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(F,q){return q.length()===0?F:F.insert(q.value(),I(q))},new c.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,F,q),this.cache={}}},{key:"formatAt",value:function(F,q,M,B){q<=0||(p.default.query(M,p.default.Scope.BLOCK)?F+q===this.length()&&this.format(M,B):o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,F,Math.min(q,this.length()-F-1),M,B),this.cache={})}},{key:"insertAt",value:function(F,q,M){if(M!=null)return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,M);if(q.length!==0){var B=q.split(`
`),Y=B.shift();Y.length>0&&(F<this.length()-1||this.children.tail==null?o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var H=this;B.reduce(function(j,U){return H=H.split(j,!0),H.insertAt(0,U),U.length},F+Y.length)}}},{key:"insertBefore",value:function(F,q){var M=this.children.head;o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,F,q),M instanceof g.default&&M.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,F,q),this.cache={}}},{key:"optimize",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(F===0||F>=this.length()-O)){var M=this.clone();return F===0?(this.parent.insertBefore(M,this),this):(this.parent.insertBefore(M,this.next),M)}else{var B=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,F,q);return this.cache={},B}}}]),D}(p.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[w.default,p.default.Embed,x.default];function I(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(D=(0,l.default)(D,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?D:I(A.parent,D)}r.bubbleFormats=I,r.BlockEmbed=N,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(j,U){var V=[],z=!0,Q=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){Q=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(Q)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}();i(50);var l=i(2),h=I(l),c=i(14),f=I(c),p=i(8),m=I(p),g=i(9),y=I(g),w=i(0),b=I(w),x=i(15),E=I(x),S=i(3),k=I(S),C=i(10),O=I(C),N=i(34),P=I(N);function I(H){return H&&H.__esModule?H:{default:H}}function A(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function D(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var L=(0,O.default)("quill"),F=function(){a(H,null,[{key:"debug",value:function(U){U===!0&&(U="log"),O.default.level(U)}},{key:"find",value:function(U){return U.__quill||b.default.find(U)}},{key:"import",value:function(U){return this.imports[U]==null&&L.error("Cannot import "+U+". Are you sure it was registered?"),this.imports[U]}},{key:"register",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof U!="string"){var X=U.attrName||U.blotName;typeof X=="string"?this.register("formats/"+X,U,V):Object.keys(U).forEach(function(W){z.register(W,U[W],V)})}else this.imports[U]!=null&&!Q&&L.warn("Overwriting "+U+" with",V),this.imports[U]=V,(U.startsWith("blots/")||U.startsWith("formats/"))&&V.blotName!=="abstract"?b.default.register(V):U.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function H(j){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,H),this.options=q(j,V),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",j);this.options.debug&&H.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,W){var J=U.selection.lastRange,Z=J&&J.length===0?J.index:void 0;M.call(U,function(){return U.editor.update(null,W,Z)},X)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof U=="string"){var z=U;U=document.createElement("div"),U.classList.add(z)}return this.container.insertBefore(U,V),U}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(U,V,z){var Q=this,X=B(U,V,z),W=o(X,4);return U=W[0],V=W[1],z=W[3],M.call(this,function(){return Q.editor.deleteText(U,V)},z,U,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(U),this.container.classList.toggle("ql-disabled",!U)}},{key:"focus",value:function(){var U=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=U,this.scrollIntoView()}},{key:"format",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return M.call(this,function(){var X=z.getSelection(!0),W=new h.default;if(X==null)return W;if(b.default.query(U,b.default.Scope.BLOCK))W=z.editor.formatLine(X.index,X.length,A({},U,V));else{if(X.length===0)return z.selection.format(U,V),W;W=z.editor.formatText(X.index,X.length,A({},U,V))}return z.setSelection(X,m.default.sources.SILENT),W},Q)}},{key:"formatLine",value:function(U,V,z,Q,X){var W=this,J=void 0,Z=B(U,V,z,Q,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],M.call(this,function(){return W.editor.formatLine(U,V,J)},X,U,0)}},{key:"formatText",value:function(U,V,z,Q,X){var W=this,J=void 0,Z=B(U,V,z,Q,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],M.call(this,function(){return W.editor.formatText(U,V,J)},X,U,0)}},{key:"getBounds",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof U=="number"?z=this.selection.getBounds(U,V):z=this.selection.getBounds(U.index,U.length);var Q=this.container.getBoundingClientRect();return{bottom:z.bottom-Q.top,height:z.height,left:z.left-Q.left,right:z.right-Q.left,top:z.top-Q.top,width:z.width}}},{key:"getContents",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),Q=o(z,2);return U=Q[0],V=Q[1],this.editor.getContents(U,V)}},{key:"getFormat",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof U=="number"?this.editor.getFormat(U,V):this.editor.getFormat(U.index,U.length)}},{key:"getIndex",value:function(U){return U.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(U){return this.scroll.leaf(U)}},{key:"getLine",value:function(U){return this.scroll.line(U)}},{key:"getLines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof U!="number"?this.scroll.lines(U.index,U.length):this.scroll.lines(U,V)}},{key:"getModule",value:function(U){return this.theme.modules[U]}},{key:"getSelection",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return U&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),Q=o(z,2);return U=Q[0],V=Q[1],this.editor.getText(U,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(U,V,z){var Q=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return M.call(this,function(){return Q.editor.insertEmbed(U,V,z)},X,U)}},{key:"insertText",value:function(U,V,z,Q,X){var W=this,J=void 0,Z=B(U,0,z,Q,X),te=o(Z,4);return U=te[0],J=te[2],X=te[3],M.call(this,function(){return W.editor.insertText(U,V,J)},X,U,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(U,V,z){this.clipboard.dangerouslyPasteHTML(U,V,z)}},{key:"removeFormat",value:function(U,V,z){var Q=this,X=B(U,V,z),W=o(X,4);return U=W[0],V=W[1],z=W[3],M.call(this,function(){return Q.editor.removeFormat(U,V)},z,U)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){U=new h.default(U);var Q=V.getLength(),X=V.editor.deleteText(0,Q),W=V.editor.applyDelta(U),J=W.ops[W.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),W.delete(1));var Z=X.compose(W);return Z},z)}},{key:"setSelection",value:function(U,V,z){if(U==null)this.selection.setRange(null,V||H.sources.API);else{var Q=B(U,V,z),X=o(Q,4);U=X[0],V=X[1],z=X[3],this.selection.setRange(new x.Range(U,V),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new h.default().insert(U);return this.setContents(z,V)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,V=this.scroll.update(U);return this.selection.update(U),V}},{key:"updateContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){return U=new h.default(U),V.editor.applyDelta(U,z)},z,!0)}}]),H}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=m.default.events,F.sources=m.default.sources,F.version="1.3.7",F.imports={delta:h.default,parchment:b.default,"core/module":y.default,"core/theme":P.default};function q(H,j){if(j=(0,k.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===F.DEFAULTS.theme)j.theme=P.default;else if(j.theme=F.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var U=(0,k.default)(!0,{},j.theme.DEFAULTS);[U,j].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(X){Q.modules[X]===!0&&(Q.modules[X]={})})});var V=Object.keys(U.modules).concat(Object.keys(j.modules)),z=V.reduce(function(Q,X){var W=F.import("modules/"+X);return W==null?L.error("Cannot load "+X+" module. Are you sure you registered it?"):Q[X]=W.DEFAULTS||{},Q},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,k.default)(!0,{},F.DEFAULTS,{modules:z},U,j),["bounds","container","scrollingContainer"].forEach(function(Q){typeof j[Q]=="string"&&(j[Q]=document.querySelector(j[Q]))}),j.modules=Object.keys(j.modules).reduce(function(Q,X){return j.modules[X]&&(Q[X]=j.modules[X]),Q},{}),j}function M(H,j,U,V){if(this.options.strict&&!this.isEnabled()&&j===m.default.sources.USER)return new h.default;var z=U==null?null:this.getSelection(),Q=this.editor.delta,X=H();if(z!=null&&(U===!0&&(U=z.index),V==null?z=Y(z,X,j):V!==0&&(z=Y(z,U,V,j)),this.setSelection(z,m.default.sources.SILENT)),X.length()>0){var W,J=[m.default.events.TEXT_CHANGE,X,Q,j];if((W=this.emitter).emit.apply(W,[m.default.events.EDITOR_CHANGE].concat(J)),j!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}return X}function B(H,j,U,V,z){var Q={};return typeof H.index=="number"&&typeof H.length=="number"?typeof j!="number"?(z=V,V=U,U=j,j=H.length,H=H.index):(j=H.length,H=H.index):typeof j!="number"&&(z=V,V=U,U=j,j=0),(typeof U>"u"?"undefined":s(U))==="object"?(Q=U,z=V):typeof U=="string"&&(V!=null?Q[U]=V:z=U),z=z||m.default.sources.API,[H,j,Q,z]}function Y(H,j,U,V){if(H==null)return null;var z=void 0,Q=void 0;if(j instanceof h.default){var X=[H.index,H.index+H.length].map(function(te){return j.transformPosition(te,V!==m.default.sources.USER)}),W=o(X,2);z=W[0],Q=W[1]}else{var J=[H.index,H.index+H.length].map(function(te){return te<j||te===j&&V===m.default.sources.USER?te:U>=0?te+U:Math.max(j,te+U)}),Z=o(J,2);z=Z[0],Q=Z[1]}return new x.Range(z,Q-z)}r.expandConfig=q,r.overload=B,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(E)}},a=i(7),l=f(a),h=i(0),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){g(b,w);function b(){return p(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(E,S,k,C){if(b.compare(this.statics.blotName,k)<0&&c.default.query(k,c.default.Scope.BLOT)){var O=this.isolate(E,S);C&&O.wrap(k,C)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,E,S,k,C)}},{key:"optimize",value:function(E){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(E,S){var k=b.order.indexOf(E),C=b.order.indexOf(S);return k>=0||C>=0?k-C:E===S?0:E<S?-1:1}}]),b}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(E,S){for(var k=0;k<S.length;k++){var C=S[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,S,k){return S&&x(E.prototype,S),k&&x(E,k),E}}(),o=function x(E,S,k){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,S);if(C===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:x(O,S,k)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(k)}},a=i(54),l=f(a),h=i(10),c=f(h);function f(x){return x&&x.__esModule?x:{default:x}}function p(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function m(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function g(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(x){document.addEventListener(x,function(){for(var E=arguments.length,S=Array(E),k=0;k<E;k++)S[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var O;(O=C.__quill.emitter).handleDOM.apply(O,S)}})})});var b=function(x){g(E,x);function E(){p(this,E);var S=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return S.listeners={},S.on("error",y.error),S}return s(E,[{key:"emit",value:function(){y.log.apply(y,arguments),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var C=arguments.length,O=Array(C>1?C-1:0),N=1;N<C;N++)O[N-1]=arguments[N];(this.listeners[k.type]||[]).forEach(function(P){var I=P.node,A=P.handler;(k.target===I||I.contains(k.target))&&A.apply(void 0,[k].concat(O))})}},{key:"listenDOM",value:function(k,C,O){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:C,handler:O})}}]),E}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=h};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(h){if(s.indexOf(h)<=s.indexOf(o)){for(var c,f=arguments.length,p=Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];(c=console)[h].apply(c,p)}}function l(h){return s.reduce(function(c,f){return c[f]=a.bind(console,f,h),c},{})}a.level=l.level=function(h){o=h},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(p,m,g){return g||(g={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?g.strict?p===m:p==m:f(p,m,g)};function h(p){return p==null}function c(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,m,g){var y,w;if(h(p)||h(m)||p.prototype!==m.prototype)return!1;if(a(p))return a(m)?(p=s.call(p),m=s.call(m),l(p,m,g)):!1;if(c(p)){if(!c(m)||p.length!==m.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==m[y])return!1;return!0}try{var b=o(p),x=o(m)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),y=b.length-1;y>=0;y--)if(b[y]!=x[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!l(p[w],m[w],g))return!1;return typeof p==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,h,c){c===void 0&&(c={}),this.attrName=l,this.keyName=h;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(h){return h.name})},a.prototype.add=function(l,h){return this.canAdd(l,h)?(l.setAttribute(this.keyName,h),!0):!1},a.prototype.canAdd=function(l,h){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var h=l.getAttribute(this.keyName);return this.canAdd(l,h)&&h?h:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function N(P,I){var A=[],D=!0,L=!1,F=void 0;try{for(var q=P[Symbol.iterator](),M;!(D=(M=q.next()).done)&&(A.push(M.value),!(I&&A.length===I));D=!0);}catch(B){L=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(L)throw F}}return A}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return N(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(P,I){for(var A=0;A<I.length;A++){var D=I[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,I,A){return I&&N(P.prototype,I),A&&N(P,A),P}}(),a=function N(P,I,A){P===null&&(P=Function.prototype);var D=Object.getOwnPropertyDescriptor(P,I);if(D===void 0){var L=Object.getPrototypeOf(P);return L===null?void 0:N(L,I,A)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(A)}},l=i(2),h=x(l),c=i(0),f=x(c),p=i(4),m=x(p),g=i(6),y=x(g),w=i(7),b=x(w);function x(N){return N&&N.__esModule?N:{default:N}}function E(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")}function S(N,P){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:N}function k(N,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);N.prototype=Object.create(P&&P.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(N,P):N.__proto__=P)}var C=function(N){k(P,N);function P(){return E(this,P),S(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(y.default);C.blotName="code",C.tagName="CODE";var O=function(N){k(P,N);function P(){return E(this,P),S(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"delta",value:function(){var A=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(L,F){return L.insert(F).insert(`
`,A.formats())},new h.default)}},{key:"format",value:function(A,D){if(!(A===this.statics.blotName&&D)){var L=this.descendant(b.default,this.length()-1),F=s(L,1),q=F[0];q!=null&&q.deleteAt(q.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,A,D)}}},{key:"formatAt",value:function(A,D,L,F){if(D!==0&&!(f.default.query(L,f.default.Scope.BLOCK)==null||L===this.statics.blotName&&F===this.statics.formats(this.domNode))){var q=this.newlineIndex(A);if(!(q<0||q>=A+D)){var M=this.newlineIndex(A,!0)+1,B=q-M+1,Y=this.isolate(M,B),H=Y.next;Y.format(L,F),H instanceof P&&H.formatAt(0,A-M+D-B,L,F)}}}},{key:"insertAt",value:function(A,D,L){if(L==null){var F=this.descendant(b.default,A),q=s(F,2),M=q[0],B=q[1];M.insertAt(B,D)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var L=this.domNode.textContent.slice(A).indexOf(`
`);return L>-1?A+L:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,A);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(A),D.moveChildren(this),D.remove())}},{key:"replace",value:function(A){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var L=f.default.find(D);L==null?D.parentNode.removeChild(D):L instanceof f.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(A){var D=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,A);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),P}(m.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=C,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(j,U){var V=[],z=!0,Q=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){Q=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(Q)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}(),l=i(2),h=D(l),c=i(20),f=D(c),p=i(0),m=D(p),g=i(13),y=D(g),w=i(24),b=D(w),x=i(4),E=D(x),S=i(16),k=D(S),C=i(21),O=D(C),N=i(11),P=D(N),I=i(3),A=D(I);function D(H){return H&&H.__esModule?H:{default:H}}function L(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function F(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,M=function(){function H(j){F(this,H),this.scroll=j,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function(U){var V=this,z=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),U=Y(U),U.reduce(function(X,W){var J=W.retain||W.delete||W.insert.length||1,Z=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var te=W.insert;te.endsWith(`
`)&&z&&(z=!1,te=te.slice(0,-1)),X>=Q&&!te.endsWith(`
`)&&(z=!0),V.scroll.insertAt(X,te);var le=V.scroll.line(X),pe=o(le,2),ge=pe[0],Ce=pe[1],$e=(0,A.default)({},(0,x.bubbleFormats)(ge));if(ge instanceof E.default){var De=ge.descendant(m.default.Leaf,Ce),nt=o(De,1),Qe=nt[0];$e=(0,A.default)($e,(0,x.bubbleFormats)(Qe))}Z=f.default.attributes.diff($e,Z)||{}}else if(s(W.insert)==="object"){var ce=Object.keys(W.insert)[0];if(ce==null)return X;V.scroll.insertAt(X,ce,W.insert[ce])}Q+=J}return Object.keys(Z).forEach(function(fe){V.scroll.formatAt(X,J,fe,Z[fe])}),X+J},0),U.reduce(function(X,W){return typeof W.delete=="number"?(V.scroll.deleteAt(X,W.delete),X):X+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(U)}},{key:"deleteText",value:function(U,V){return this.scroll.deleteAt(U,V),this.update(new h.default().retain(U).delete(V))}},{key:"formatLine",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(X){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[X])){var W=z.scroll.lines(U,Math.max(V,1)),J=V;W.forEach(function(Z){var te=Z.length();if(!(Z instanceof y.default))Z.format(X,Q[X]);else{var le=U-Z.offset(z.scroll),pe=Z.newlineIndex(le+J)-le+1;Z.formatAt(le,pe,X,Q[X])}J-=te})}}),this.scroll.optimize(),this.update(new h.default().retain(U).retain(V,(0,O.default)(Q)))}},{key:"formatText",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(X){z.scroll.formatAt(U,V,X,Q[X])}),this.update(new h.default().retain(U).retain(V,(0,O.default)(Q)))}},{key:"getContents",value:function(U,V){return this.delta.slice(U,U+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(U,V){return U.concat(V.delta())},new h.default)}},{key:"getFormat",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],Q=[];V===0?this.scroll.path(U).forEach(function(W){var J=o(W,1),Z=J[0];Z instanceof E.default?z.push(Z):Z instanceof m.default.Leaf&&Q.push(Z)}):(z=this.scroll.lines(U,V),Q=this.scroll.descendants(m.default.Leaf,U,V));var X=[z,Q].map(function(W){if(W.length===0)return{};for(var J=(0,x.bubbleFormats)(W.shift());Object.keys(J).length>0;){var Z=W.shift();if(Z==null)return J;J=B((0,x.bubbleFormats)(Z),J)}return J});return A.default.apply(A.default,X)}},{key:"getText",value:function(U,V){return this.getContents(U,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(U,V,z){return this.scroll.insertAt(U,V,z),this.update(new h.default().retain(U).insert(L({},V,z)))}},{key:"insertText",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(U,V),Object.keys(Q).forEach(function(X){z.scroll.formatAt(U,V.length,X,Q[X])}),this.update(new h.default().retain(U).insert(V,(0,O.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var U=this.scroll.children.head;return U.statics.blotName!==E.default.blotName||U.children.length>1?!1:U.children.head instanceof k.default}},{key:"removeFormat",value:function(U,V){var z=this.getText(U,V),Q=this.scroll.line(U+V),X=o(Q,2),W=X[0],J=X[1],Z=0,te=new h.default;W!=null&&(W instanceof y.default?Z=W.newlineIndex(J)-J+1:Z=W.length()-J,te=W.delta().slice(J,J+Z-1).insert(`
`));var le=this.getContents(U,V+Z),pe=le.diff(new h.default().insert(z).concat(te)),ge=new h.default().retain(U).concat(pe);return this.applyDelta(ge)}},{key:"update",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(q)&&m.default.find(V[0].target)){var X=m.default.find(V[0].target),W=(0,x.bubbleFormats)(X),J=X.offset(this.scroll),Z=V[0].oldValue.replace(b.default.CONTENTS,""),te=new h.default().insert(Z),le=new h.default().insert(X.value()),pe=new h.default().retain(J).concat(te.diff(le,z));U=pe.reduce(function(ge,Ce){return Ce.insert?ge.insert(Ce.insert,W):ge.push(Ce)},new h.default),this.delta=Q.compose(U)}else this.delta=this.getDelta(),(!U||!(0,P.default)(Q.compose(U),this.delta))&&(U=Q.diff(this.delta,z));return U}}]),H}();function B(H,j){return Object.keys(j).reduce(function(U,V){return H[V]==null||(j[V]===H[V]?U[V]=j[V]:Array.isArray(j[V])?j[V].indexOf(H[V])<0&&(U[V]=j[V].concat([H[V]])):U[V]=[j[V],H[V]]),U},{})}function Y(H){return H.reduce(function(j,U){if(U.insert===1){var V=(0,O.default)(U.attributes);return delete V.image,j.insert({image:U.attributes.image},V)}if(U.attributes!=null&&(U.attributes.list===!0||U.attributes.bullet===!0)&&(U=(0,O.default)(U),U.attributes.list?U.attributes.list="ordered":(U.attributes.list="bullet",delete U.attributes.bullet)),typeof U.insert=="string"){var z=U.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(z,U.attributes)}return j.push(U)},new h.default)}r.default=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function N(P,I){var A=[],D=!0,L=!1,F=void 0;try{for(var q=P[Symbol.iterator](),M;!(D=(M=q.next()).done)&&(A.push(M.value),!(I&&A.length===I));D=!0);}catch(B){L=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(L)throw F}}return A}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return N(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(P,I){for(var A=0;A<I.length;A++){var D=I[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,I,A){return I&&N(P.prototype,I),A&&N(P,A),P}}(),a=i(0),l=b(a),h=i(21),c=b(h),f=i(11),p=b(f),m=i(8),g=b(m),y=i(10),w=b(y);function b(N){return N&&N.__esModule?N:{default:N}}function x(N){if(Array.isArray(N)){for(var P=0,I=Array(N.length);P<N.length;P++)I[P]=N[P];return I}else return Array.from(N)}function E(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")}var S=(0,w.default)("quill:selection"),k=function N(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,N),this.index=P,this.length=I},C=function(){function N(P,I){var A=this;E(this,N),this.emitter=I,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(D,L){D===g.default.events.TEXT_CHANGE&&L.length()>0&&A.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var D=A.getNativeRange();D!=null&&D.start.node!==A.cursor.textNode&&A.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(D,L){if(L.range){var F=L.range,q=F.startNode,M=F.startOffset,B=F.endNode,Y=F.endOffset;A.setNativeRange(q,M,B,Y)}}),this.update(g.default.sources.SILENT)}return o(N,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var A=I.cursor.restore();if(!A)return;setTimeout(function(){I.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||l.default.query(I,l.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var L=l.default.find(D.start.node,!1);if(L==null)return;if(L instanceof l.default.Leaf){var F=L.split(D.start.offset);L.parent.insertBefore(this.cursor,F)}else L.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(I,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();I=Math.min(I,D-1),A=Math.min(I+A,D-1)-I;var L=void 0,F=this.scroll.leaf(I),q=s(F,2),M=q[0],B=q[1];if(M==null)return null;var Y=M.position(B,!0),H=s(Y,2);L=H[0],B=H[1];var j=document.createRange();if(A>0){j.setStart(L,B);var U=this.scroll.leaf(I+A),V=s(U,2);if(M=V[0],B=V[1],M==null)return null;var z=M.position(B,!0),Q=s(z,2);return L=Q[0],B=Q[1],j.setEnd(L,B),j.getBoundingClientRect()}else{var X="left",W=void 0;return L instanceof Text?(B<L.data.length?(j.setStart(L,B),j.setEnd(L,B+1)):(j.setStart(L,B-1),j.setEnd(L,B),X="right"),W=j.getBoundingClientRect()):(W=M.domNode.getBoundingClientRect(),B>0&&(X="right")),{bottom:W.top+W.height,height:W.height,left:W[X],right:W[X],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var A=I.getRangeAt(0);if(A==null)return null;var D=this.normalizeNative(A);return S.info("getNativeRange",D),D}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var A=this.normalizedToRange(I);return[A,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var A=this,D=[[I.start.node,I.start.offset]];I.native.collapsed||D.push([I.end.node,I.end.offset]);var L=D.map(function(M){var B=s(M,2),Y=B[0],H=B[1],j=l.default.find(Y,!0),U=j.offset(A.scroll);return H===0?U:j instanceof l.default.Container?U+j.length():U+j.index(Y,H)}),F=Math.min(Math.max.apply(Math,x(L)),this.scroll.length()-1),q=Math.min.apply(Math,[F].concat(x(L)));return new k(q,F-q)}},{key:"normalizeNative",value:function(I){if(!O(this.root,I.startContainer)||!I.collapsed&&!O(this.root,I.endContainer))return null;var A={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[A.start,A.end].forEach(function(D){for(var L=D.node,F=D.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>F)L=L.childNodes[F],F=0;else if(L.childNodes.length===F)L=L.lastChild,F=L instanceof Text?L.data.length:L.childNodes.length+1;else break;D.node=L,D.offset=F}),A}},{key:"rangeToNative",value:function(I){var A=this,D=I.collapsed?[I.index]:[I.index,I.index+I.length],L=[],F=this.scroll.length();return D.forEach(function(q,M){q=Math.min(F-1,q);var B=void 0,Y=A.scroll.leaf(q),H=s(Y,2),j=H[0],U=H[1],V=j.position(U,M!==0),z=s(V,2);B=z[0],U=z[1],L.push(B,U)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(I){var A=this.lastRange;if(A!=null){var D=this.getBounds(A.index,A.length);if(D!=null){var L=this.scroll.length()-1,F=this.scroll.line(Math.min(A.index,L)),q=s(F,1),M=q[0],B=M;if(A.length>0){var Y=this.scroll.line(Math.min(A.index+A.length,L)),H=s(Y,1);B=H[0]}if(!(M==null||B==null)){var j=I.getBoundingClientRect();D.top<j.top?I.scrollTop-=j.top-D.top:D.bottom>j.bottom&&(I.scrollTop+=D.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(I,A){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",I,A,D,L),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||D.parentNode==null))){var q=document.getSelection();if(q!=null)if(I!=null){this.hasFocus()||this.root.focus();var M=(this.getNativeRange()||{}).native;if(M==null||F||I!==M.startContainer||A!==M.startOffset||D!==M.endContainer||L!==M.endOffset){I.tagName=="BR"&&(A=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),D.tagName=="BR"&&(L=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var B=document.createRange();B.setStart(I,A),B.setEnd(D,L),q.removeAllRanges(),q.addRange(B)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof A=="string"&&(D=A,A=!1),S.info("setRange",I),I!=null){var L=this.rangeToNative(I);this.setNativeRange.apply(this,x(L).concat([A]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,A=this.lastRange,D=this.getRange(),L=s(D,2),F=L[0],q=L[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(A,this.lastRange)){var M;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(A),I];if((M=this.emitter).emit.apply(M,[g.default.events.EDITOR_CHANGE].concat(B)),I!==g.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,B)}}}}]),N}();function O(N,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),N.contains(P)}r.Range=k,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(0),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(b,x){b.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),h=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.build(),g}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=c(g);m.insertBefore(y,m.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(m,g){if(m===0&&g===this.length())return this.remove();this.children.forEachAt(m,g,function(y,w,b){y.deleteAt(w,b)})},p.prototype.descendant=function(m,g){var y=this.children.find(g),w=y[0],b=y[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,b]:w instanceof p?w.descendant(m,b):[null,-1]},p.prototype.descendants=function(m,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(g,y,function(x,E,S){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&w.push(x),x instanceof p&&(w=w.concat(x.descendants(m,E,b))),b-=S}),w},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(m,g,y,w){this.children.forEachAt(m,g,function(b,x,E){b.formatAt(x,E,y,w)})},p.prototype.insertAt=function(m,g,y){var w=this.children.find(m),b=w[0],x=w[1];if(b)b.insertAt(x,g,y);else{var E=y==null?l.create("text",g):l.create(g,y);this.appendChild(E)}},p.prototype.insertBefore=function(m,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return m instanceof y}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,g)},p.prototype.length=function(){return this.children.reduce(function(m,g){return m+g.length()},0)},p.prototype.moveChildren=function(m,g){this.children.forEach(function(y){m.insertBefore(y,g)})},p.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(m)}else this.remove()},p.prototype.path=function(m,g){g===void 0&&(g=!1);var y=this.children.find(m,g),w=y[0],b=y[1],x=[[this,m]];return w instanceof p?x.concat(w.path(b,g)):(w!=null&&x.push([w,b]),x)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),f.prototype.replace.call(this,m)},p.prototype.split=function(m,g){if(g===void 0&&(g=!1),!g){if(m===0)return this;if(m===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(m,this.length(),function(w,b,x){w=w.split(b,g),y.appendChild(w)}),y},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,g){var y=this,w=[],b=[];m.forEach(function(x){x.target===y.domNode&&x.type==="childList"&&(w.push.apply(w,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(x);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===y.domNode)&&E.detach()}}),w.filter(function(x){return x.parentNode==y.domNode}).sort(function(x,E){return x===E?0:x.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var E=null;x.nextSibling!=null&&(E=l.find(x.nextSibling));var S=c(x);(S.next!=E||S.next==null)&&(S.parent!=null&&S.parent.removeChild(y),y.insertBefore(S,E||void 0))})},p}(a.default);function c(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){p.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),h=i(1),c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.attributes=new a.default(g.domNode),g}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,g){var y=h.query(m);y instanceof o.default?this.attributes.attribute(y,g):g&&y!=null&&(m!==this.statics.blotName||this.formats()[m]!==g)&&this.replaceWith(m,g)},p.prototype.formats=function(){var m=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(m[this.statics.blotName]=g),m},p.prototype.replaceWith=function(m,g){var y=f.prototype.replaceWith.call(this,m,g);return this.attributes.copy(y),y},p.prototype.update=function(m,g){var y=this;f.prototype.update.call(this,m,g),m.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,g){var y=f.prototype.wrap.call(this,m,g);return y instanceof p&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},p}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},c.prototype.position=function(f,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(h,c,f){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var p=o(!0,{},c);f||(p=Object.keys(p).reduce(function(g,y){return p[y]!=null&&(g[y]=p[y]),g},{}));for(var m in h)h[m]!==void 0&&c[m]===void 0&&(p[m]=h[m]);return Object.keys(p).length>0?p:void 0},diff:function(h,c){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var f=Object.keys(h).concat(Object.keys(c)).reduce(function(p,m){return s(h[m],c[m])||(p[m]=c[m]===void 0?null:c[m]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(h,c,f){if(typeof h!="object")return c;if(typeof c=="object"){if(!f)return c;var p=Object.keys(c).reduce(function(m,g){return h[g]===void 0&&(m[g]=c[g]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(h){return new l(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function l(h){this.ops=h,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(h){h||(h=1/0);var c=this.ops[this.index];if(c){var f=this.offset,p=a.length(c);if(h>=p-f?(h=p-f,this.index+=1,this.offset=0):this.offset+=h,typeof c.delete=="number")return{delete:h};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=h:typeof c.insert=="string"?m.insert=c.insert.substr(f,h):m.insert=c.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,c=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=h,this.index=c,[f].concat(p)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function h(y,w,b,x,E){typeof w=="object"&&(b=w.depth,x=w.prototype,E=w.includeNonEnumerable,w=w.circular);var S=[],k=[],C=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function O(N,P){if(N===null)return null;if(P===0)return N;var I,A;if(typeof N!="object")return N;if(s(N,o))I=new o;else if(s(N,a))I=new a;else if(s(N,l))I=new l(function(j,U){N.then(function(V){j(O(V,P-1))},function(V){U(O(V,P-1))})});else if(h.__isArray(N))I=[];else if(h.__isRegExp(N))I=new RegExp(N.source,g(N)),N.lastIndex&&(I.lastIndex=N.lastIndex);else if(h.__isDate(N))I=new Date(N.getTime());else{if(C&&Buffer.isBuffer(N))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(N.length):I=new Buffer(N.length),N.copy(I),I;s(N,Error)?I=Object.create(N):typeof x>"u"?(A=Object.getPrototypeOf(N),I=Object.create(A)):(I=Object.create(x),A=x)}if(w){var D=S.indexOf(N);if(D!=-1)return k[D];S.push(N),k.push(I)}s(N,o)&&N.forEach(function(j,U){var V=O(U,P-1),z=O(j,P-1);I.set(V,z)}),s(N,a)&&N.forEach(function(j){var U=O(j,P-1);I.add(U)});for(var L in N){var F;A&&(F=Object.getOwnPropertyDescriptor(A,L)),!(F&&F.set==null)&&(I[L]=O(N[L],P-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(N),L=0;L<q.length;L++){var M=q[L],B=Object.getOwnPropertyDescriptor(N,M);B&&!B.enumerable&&!E||(I[M]=O(N[M],P-1),B.enumerable||Object.defineProperty(I,M,{enumerable:!1}))}if(E)for(var Y=Object.getOwnPropertyNames(N),L=0;L<Y.length;L++){var H=Y[L],B=Object.getOwnPropertyDescriptor(N,H);B&&B.enumerable||(I[H]=O(N[H],P-1),Object.defineProperty(I,H,{enumerable:!1}))}return I}return O(y,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(y){return Object.prototype.toString.call(y)}h.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}h.__isDate=f;function p(y){return typeof y=="object"&&c(y)==="[object Array]"}h.__isArray=p;function m(y){return typeof y=="object"&&c(y)==="[object RegExp]"}h.__isRegExp=m;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return h.__getRegExpFlags=g,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(A,D){var L=[],F=!0,q=!1,M=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(L.push(Y.value),!(D&&L.length===D));F=!0);}catch(H){q=!0,M=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw M}}return L}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(A,D){for(var L=0;L<D.length;L++){var F=D[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,L){return D&&I(A.prototype,D),L&&I(A,L),A}}(),a=function I(A,D,L){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:I(q,D,L)}else{if("value"in F)return F.value;var M=F.get;return M===void 0?void 0:M.call(L)}},l=i(0),h=S(l),c=i(8),f=S(c),p=i(4),m=S(p),g=i(16),y=S(g),w=i(13),b=S(w),x=i(25),E=S(x);function S(I){return I&&I.__esModule?I:{default:I}}function k(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function C(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function O(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}function N(I){return I instanceof m.default||I instanceof p.BlockEmbed}var P=function(I){O(A,I);function A(D,L){k(this,A);var F=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D));return F.emitter=L.emitter,Array.isArray(L.whitelist)&&(F.whitelist=L.whitelist.reduce(function(q,M){return q[M]=!0,q},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,F){var q=this.line(L),M=s(q,2),B=M[0],Y=M[1],H=this.line(L+F),j=s(H,1),U=j[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,L,F),U!=null&&B!==U&&Y>0){if(B instanceof p.BlockEmbed||U instanceof p.BlockEmbed){this.optimize();return}if(B instanceof b.default){var V=B.newlineIndex(B.length(),!0);if(V>-1&&(B=B.split(V+1),B===U)){this.optimize();return}}else if(U instanceof b.default){var z=U.newlineIndex(0);z>-1&&U.split(z+1)}var Q=U.children.head instanceof y.default?null:U.children.head;B.moveChildren(U,Q),B.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,F,q,M){this.whitelist!=null&&!this.whitelist[q]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,L,F,q,M),this.optimize())}},{key:"insertAt",value:function(L,F,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[F])){if(L>=this.length())if(q==null||h.default.query(F,h.default.Scope.BLOCK)==null){var M=h.default.create(this.statics.defaultChild);this.appendChild(M),q==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),M.insertAt(0,F,q)}else{var B=h.default.create(F,q);this.appendChild(B)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,L,F,q);this.optimize()}}},{key:"insertBefore",value:function(L,F){if(L.statics.scope===h.default.Scope.INLINE_BLOT){var q=h.default.create(this.statics.defaultChild);q.appendChild(L),L=q}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,L,F)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(N,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function M(B,Y,H){var j=[],U=H;return B.children.forEachAt(Y,H,function(V,z,Q){N(V)?j.push(V):V instanceof h.default.Container&&(j=j.concat(M(V,z,U))),U-=Q}),j};return q(this,L,F)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,L,F),L.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,L,F))}},{key:"path",value:function(L){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var F=f.default.sources.USER;typeof L=="string"&&(F=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,F,L),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,F,L)}}}]),A}(h.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[m.default,p.BlockEmbed,E.default],r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(J,Z){var te=[],le=!0,pe=!1,ge=void 0;try{for(var Ce=J[Symbol.iterator](),$e;!(le=($e=Ce.next()).done)&&(te.push($e.value),!(Z&&te.length===Z));le=!0);}catch(De){pe=!0,ge=De}finally{try{!le&&Ce.return&&Ce.return()}finally{if(pe)throw ge}}return te}return function(J,Z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return W(J,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(J,Z){for(var te=0;te<Z.length;te++){var le=Z[te];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,Z,te){return Z&&W(J.prototype,Z),te&&W(J,te),J}}(),l=i(21),h=I(l),c=i(11),f=I(c),p=i(3),m=I(p),g=i(2),y=I(g),w=i(20),b=I(w),x=i(0),E=I(x),S=i(5),k=I(S),C=i(10),O=I(C),N=i(9),P=I(N);function I(W){return W&&W.__esModule?W:{default:W}}function A(W,J,Z){return J in W?Object.defineProperty(W,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):W[J]=Z,W}function D(W,J){if(!(W instanceof J))throw new TypeError("Cannot call a class as a function")}function L(W,J){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:W}function F(W,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}var q=(0,O.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(W){F(J,W),a(J,null,[{key:"match",value:function(te,le){return le=X(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==te[pe]&&le[pe]!==null})?!1:le.key===(te.which||te.keyCode)}}]);function J(Z,te){D(this,J);var le=L(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,Z,te));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:J.keys.ENTER,shiftKey:null},V),le.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0},j)):(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),le.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},U),le.addBinding({key:J.keys.DELETE},{collapsed:!1},U),le.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),le.listen(),le}return a(J,[{key:"addBinding",value:function(te){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=X(te);if(ge==null||ge.key==null)return q.warn("Attempted to add invalid keyboard binding",ge);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ge=(0,m.default)(ge,le,pe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var te=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ge=(te.bindings[pe]||[]).filter(function(ft){return J.match(le,ft)});if(ge.length!==0){var Ce=te.quill.getSelection();if(!(Ce==null||!te.quill.hasFocus())){var $e=te.quill.getLine(Ce.index),De=o($e,2),nt=De[0],Qe=De[1],ce=te.quill.getLeaf(Ce.index),fe=o(ce,2),we=fe[0],xe=fe[1],he=Ce.length===0?[we,xe]:te.quill.getLeaf(Ce.index+Ce.length),Be=o(he,2),Ie=Be[0],Ye=Be[1],Yt=we instanceof E.default.Text?we.value().slice(0,xe):"",An=Ie instanceof E.default.Text?Ie.value().slice(Ye):"",it={collapsed:Ce.length===0,empty:Ce.length===0&&nt.length()<=1,format:te.quill.getFormat(Ce),offset:Qe,prefix:Yt,suffix:An},qr=ge.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==it.collapsed||ft.empty!=null&&ft.empty!==it.empty||ft.offset!=null&&ft.offset!==it.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(Ht){return it.format[Ht]==null}))return!1}else if(s(ft.format)==="object"&&!Object.keys(ft.format).every(function(Ht){return ft.format[Ht]===!0?it.format[Ht]!=null:ft.format[Ht]===!1?it.format[Ht]==null:(0,f.default)(ft.format[Ht],it.format[Ht])}))return!1;return ft.prefix!=null&&!ft.prefix.test(it.prefix)||ft.suffix!=null&&!ft.suffix.test(it.suffix)?!1:ft.handler.call(te,Ce,it)!==!0});qr&&le.preventDefault()}}}})}}]),J}(P.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,Z){Z.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,k.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(J){this.quill.history.cutoff();var Z=new y.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(Z,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,k.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,Z){this.quill.format("list",!1,k.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=(0,m.default)({},le.formats(),{list:"checked"}),Ce=new y.default().retain(J.index).insert(`
`,ge).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,Z){var te=this.quill.getLine(J.index),le=o(te,2),pe=le[0],ge=le[1],Ce=new y.default().retain(J.index).insert(`
`,Z.format).retain(pe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,Z){var te=Z.prefix.length,le=this.quill.getLine(J.index),pe=o(le,2),ge=pe[0],Ce=pe[1];if(Ce>te)return!0;var $e=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":$e="unchecked";break;case"[x]":$e="checked";break;case"-":case"*":$e="bullet";break;default:$e="ordered"}this.quill.insertText(J.index," ",k.default.sources.USER),this.quill.history.cutoff();var De=new y.default().retain(J.index-Ce).delete(te+1).retain(ge.length()-2-Ce).retain(1,{list:$e});this.quill.updateContents(De,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-te,k.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=new y.default().retain(J.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Y(B.keys.LEFT,!1),"embed left shift":Y(B.keys.LEFT,!0),"embed right":Y(B.keys.RIGHT,!1),"embed right shift":Y(B.keys.RIGHT,!0)}};function Y(W,J){var Z,te=W===B.keys.LEFT?"prefix":"suffix";return Z={key:W,shiftKey:J,altKey:null},A(Z,te,/^$/),A(Z,"handler",function(pe){var ge=pe.index;W===B.keys.RIGHT&&(ge+=pe.length+1);var Ce=this.quill.getLeaf(ge),$e=o(Ce,1),De=$e[0];return De instanceof E.default.Embed?(W===B.keys.LEFT?J?this.quill.setSelection(pe.index-1,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index-1,k.default.sources.USER):J?this.quill.setSelection(pe.index,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,k.default.sources.USER),!1):!0}),Z}function H(W,J){if(!(W.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(W.index),te=o(Z,1),le=te[0],pe={};if(J.offset===0){var ge=this.quill.getLine(W.index-1),Ce=o(ge,1),$e=Ce[0];if($e!=null&&$e.length()>1){var De=le.formats(),nt=this.quill.getFormat(W.index-1,1);pe=b.default.attributes.diff(De,nt)||{}}}var Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(W.index-Qe,Qe,k.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(W.index-Qe,Qe,pe,k.default.sources.USER),this.quill.focus()}}function j(W,J){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(W.index>=this.quill.getLength()-Z)){var te={},le=0,pe=this.quill.getLine(W.index),ge=o(pe,1),Ce=ge[0];if(J.offset>=Ce.length()-1){var $e=this.quill.getLine(W.index+1),De=o($e,1),nt=De[0];if(nt){var Qe=Ce.formats(),ce=this.quill.getFormat(W.index,1);te=b.default.attributes.diff(Qe,ce)||{},le=nt.length()}}this.quill.deleteText(W.index,Z,k.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(W.index+le-1,Z,te,k.default.sources.USER)}}function U(W){var J=this.quill.getLines(W),Z={};if(J.length>1){var te=J[0].formats(),le=J[J.length-1].formats();Z=b.default.attributes.diff(le,te)||{}}this.quill.deleteText(W,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(W.index,1,Z,k.default.sources.USER),this.quill.setSelection(W.index,k.default.sources.SILENT),this.quill.focus()}function V(W,J){var Z=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var te=Object.keys(J.format).reduce(function(le,pe){return E.default.query(pe,E.default.Scope.BLOCK)&&!Array.isArray(J.format[pe])&&(le[pe]=J.format[pe]),le},{});this.quill.insertText(W.index,`
`,te,k.default.sources.USER),this.quill.setSelection(W.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(le){te[le]==null&&(Array.isArray(J.format[le])||le!=="link"&&Z.quill.format(le,J.format[le],k.default.sources.USER))})}function z(W){return{key:B.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(Z){var te=E.default.query("code-block"),le=Z.index,pe=Z.length,ge=this.quill.scroll.descendant(te,le),Ce=o(ge,2),$e=Ce[0],De=Ce[1];if($e!=null){var nt=this.quill.getIndex($e),Qe=$e.newlineIndex(De,!0)+1,ce=$e.newlineIndex(nt+De+pe),fe=$e.domNode.textContent.slice(Qe,ce).split(`
`);De=0,fe.forEach(function(we,xe){W?($e.insertAt(Qe+De,te.TAB),De+=te.TAB.length,xe===0?le+=te.TAB.length:pe+=te.TAB.length):we.startsWith(te.TAB)&&($e.deleteAt(Qe+De,te.TAB.length),De-=te.TAB.length,xe===0?le-=te.TAB.length:pe-=te.TAB.length),De+=we.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(le,pe,k.default.sources.SILENT)}}}}function Q(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(Z,te){this.quill.format(W,!te.format[W],k.default.sources.USER)}}}function X(W){if(typeof W=="string"||typeof W=="number")return X({key:W});if((typeof W>"u"?"undefined":s(W))==="object"&&(W=(0,h.default)(W,!1)),typeof W.key=="string")if(B.keys[W.key.toUpperCase()]!=null)W.key=B.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[M]=W.shortKey,delete W.shortKey),W}r.default=B,r.SHORTKEY=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(x,E){var S=[],k=!0,C=!1,O=void 0;try{for(var N=x[Symbol.iterator](),P;!(k=(P=N.next()).done)&&(S.push(P.value),!(E&&S.length===E));k=!0);}catch(I){C=!0,O=I}finally{try{!k&&N.return&&N.return()}finally{if(C)throw O}}return S}return function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(x,E,S){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:b(C,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=function(){function b(x,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,S){return E&&b(x.prototype,E),S&&b(x,S),x}}(),l=i(0),h=p(l),c=i(7),f=p(c);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function g(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function y(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var w=function(b){y(x,b),a(x,null,[{key:"value",value:function(){}}]);function x(E,S){m(this,x);var k=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E));return k.selection=S,k.textNode=document.createTextNode(x.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,k){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,S,k);for(var C=this,O=0;C!=null&&C.statics.scope!==h.default.Scope.BLOCK_BLOT;)O+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=x.CONTENTS.length,C.optimize(),C.formatAt(O,x.CONTENTS.length,S,k),this._length=0)}},{key:"index",value:function(S,k){return S===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,S,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,k=this.selection.getNativeRange(),C=void 0,O=void 0,N=void 0;if(k!=null&&k.start.node===S&&k.end.node===S){var P=[S,k.start.offset,k.end.offset];C=P[0],O=P[1],N=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var I=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(C=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=x.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var A=[O,N].map(function(L){return Math.max(0,Math.min(C.data.length,L-1))}),D=s(A,2);return O=D[0],N=D[1],{startNode:C,startOffset:O,endNode:C,endOffset:N}}}}},{key:"update",value:function(S,k){var C=this;if(S.some(function(N){return N.type==="characterData"&&N.target===C.textNode})){var O=this.restore();O&&(k.range=O)}}},{key:"value",value:function(){return""}}]),x}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=h(s),a=i(4),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=h(a);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var m=function(w){p(b,w);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(E){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,E);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):S}}]),b}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=g,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(w,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,x){return b&&y(w.prototype,b),x&&y(w,x),w}}(),o=function y(w,b,x){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},a=i(6),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(x,E){if(x!==this.statics.blotName||!E)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,x,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(x){var E=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,x);return x=this.sanitize(x),E.setAttribute("href",x),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return g(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),w}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,w){var b=document.createElement("a");b.href=y;var x=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(x)>-1}r.default=m,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),a=i(23),l=f(a),h=i(107),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function g(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var x=this;p(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var E=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),x.hasAttribute("value")&&S.setAttribute("data-value",x.getAttribute("value")),x.textContent&&S.setAttribute("data-label",x.textContent),S.addEventListener("click",function(){E.selectItem(S,!0)}),S.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:E.selectItem(S,!0),k.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=c.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(S){var k=x.buildItem(S);E.appendChild(k),S.selected===!0&&x.selectItem(k)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(E){x.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(x!==S&&(S!=null&&S.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var S=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=q(s),a=i(5),l=q(a),h=i(4),c=q(h),f=i(16),p=q(f),m=i(25),g=q(m),y=i(24),w=q(y),b=i(35),x=q(b),E=i(6),S=q(E),k=i(22),C=q(k),O=i(7),N=q(O),P=i(55),I=q(P),A=i(42),D=q(A),L=i(23),F=q(L);function q(M){return M&&M.__esModule?M:{default:M}}l.default.register({"blots/block":c.default,"blots/block/embed":h.BlockEmbed,"blots/break":p.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":x.default,"blots/inline":S.default,"blots/scroll":C.default,"blots/text":N.default,"modules/clipboard":I.default,"modules/history":D.default,"modules/keyboard":F.default}),o.default.register(c.default,p.default,w.default,S.default,C.default,N.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?h=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?h=document.createElement(l):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,h){var c=this.isolate(l,h);c.remove()},a.prototype.formatAt=function(l,h,c,f){var p=this.isolate(l,h);if(s.query(c,s.Scope.BLOT)!=null&&f)p.wrap(c,f);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);p.wrap(m),m.format(c,f)}},a.prototype.insertAt=function(l,h,c){var f=c==null?s.create("text",h):s.create(h,c),p=this.split(l);this.parent.insertBefore(f,p)},a.prototype.insertInto=function(l,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,h),h!=null&&(c=h.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,h){var c=this.split(l);return c.split(h),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return c.replace(this),c},a.prototype.split=function(l,h){return l===0?this:this.next},a.prototype.update=function(l,h){},a.prototype.wrap=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),h=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var p=s.default.keys(this.domNode),m=o.default.keys(this.domNode),g=a.default.keys(this.domNode);p.concat(m).concat(g).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof s.default&&(f.attributes[w.attrName]=w)})},c.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(m){var g=p.attributes[m].value(p.domNode);f.format(m,g)})},c.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=f.attributes[m].value(f.domNode),p},{})},c}();r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h,c){var f=h.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(c+"-")===0})}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},c.prototype.remove=function(f){var p=a(f,this.keyName);p.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var p=a(f,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h){var c=h.split("-"),f=c.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return c[0]+f}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[a(this.keyName)]=p,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var p=f.style[a(this.keyName)];return this.canAdd(f,p)?p:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){o(this,l),this.quill=h,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(x,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,S){return E&&b(x.prototype,E),S&&b(x,S),x}}(),o=function b(x,E,S){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:b(C,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=f(a),h=i(7),c=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y="\uFEFF",w=function(b){g(x,b);function x(E){p(this,x);var S=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(k){S.contentNode.appendChild(k)}),S.leftGuard=document.createTextNode(y),S.rightGuard=document.createTextNode(y),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return s(x,[{key:"index",value:function(S,k){return S===this.leftGuard?0:S===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,S,k)}},{key:"restore",value:function(S){var k=void 0,C=void 0,O=S.data.split(y).join("");if(S===this.leftGuard)if(this.prev instanceof c.default){var N=this.prev.length();this.prev.insertAt(N,O),k={startNode:this.prev.domNode,startOffset:N+O.length}}else C=document.createTextNode(O),this.parent.insertBefore(l.default.create(C),this),k={startNode:C,startOffset:O.length};else S===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,O),k={startNode:this.next.domNode,startOffset:O.length}):(C=document.createTextNode(O),this.parent.insertBefore(l.default.create(C),this.next),k={startNode:C,startOffset:O.length}));return S.data=y,k}},{key:"update",value:function(S,k){var C=this;S.forEach(function(O){if(O.type==="characterData"&&(O.target===C.leftGuard||O.target===C.rightGuard)){var N=C.restore(O.target);N&&(k.range=N)}})}}]),x}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=h,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=h,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function b(x,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,S){return E&&b(x.prototype,E),S&&b(x,S),x}}(),o=function b(x,E,S){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:b(C,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=h(a);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function p(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",m),y=function(b){p(x,b);function x(){return c(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(S){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),x}(l.default.Attributor.Style),w=new y("font","font-family",m);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=h},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function E(S,k){for(var C=0;C<k.length;C++){var O=k[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,C){return k&&E(S.prototype,k),C&&E(S,C),S}}(),o=i(0),a=p(o),l=i(5),h=p(l),c=i(9),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function m(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function y(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=function(E){y(S,E);function S(k,C){m(this,S);var O=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,C));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(h.default.events.EDITOR_CHANGE,function(N,P,I,A){N!==h.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||A===h.default.sources.USER?O.record(P,I):O.transform(P))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return s(S,[{key:"change",value:function(C,O){if(this.stack[C].length!==0){var N=this.stack[C].pop();this.stack[O].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[C],h.default.sources.USER),this.ignoreChange=!1;var P=x(N[C]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,O){if(C.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(O),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var I=this.stack.undo.pop();N=N.compose(I.undo),C=I.redo.compose(C)}else this.lastRecorded=P;this.stack.undo.push({redo:C,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(O){O.undo=C.transform(O.undo,!0),O.redo=C.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=C.transform(O.undo,!0),O.redo=C.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(E){var S=E.ops[E.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function x(E){var S=E.reduce(function(C,O){return C+=O.delete||0,C},0),k=E.length()-S;return b(E)&&(k-=1),k}r.default=w,r.getLastChangeIndex=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(z,Q){for(var X=0;X<Q.length;X++){var W=Q[X];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,W.key,W)}}return function(z,Q,X){return Q&&V(z.prototype,Q),X&&V(z,X),z}}(),o=function V(z,Q,X){z===null&&(z=Function.prototype);var W=Object.getOwnPropertyDescriptor(z,Q);if(W===void 0){var J=Object.getPrototypeOf(z);return J===null?void 0:V(J,Q,X)}else{if("value"in W)return W.value;var Z=W.get;return Z===void 0?void 0:Z.call(X)}},a=i(3),l=P(a),h=i(2),c=P(h),f=i(8),p=P(f),m=i(23),g=P(m),y=i(34),w=P(y),b=i(59),x=P(b),E=i(60),S=P(E),k=i(28),C=P(k),O=i(61),N=P(O);function P(V){return V&&V.__esModule?V:{default:V}}function I(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function A(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function D(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var L=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],M=["1","2","3",!1],B=["small",!1,"large","huge"],Y=function(V){D(z,V);function z(Q,X){I(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Q,X)),J=function Z(te){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",Z);W.tooltip!=null&&!W.tooltip.root.contains(te.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(le){le.container.contains(te.target)||le.close()})};return Q.emitter.listenDOM("click",document.body,J),W}return s(z,[{key:"addModule",value:function(X){var W=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(X,W){X.forEach(function(J){var Z=J.getAttribute("class")||"";Z.split(/\s+/).forEach(function(te){if(te.startsWith("ql-")&&(te=te.slice(3),W[te]!=null))if(te==="direction")J.innerHTML=W[te][""]+W[te].rtl;else if(typeof W[te]=="string")J.innerHTML=W[te];else{var le=J.value||"";le!=null&&W[te][le]&&(J.innerHTML=W[te][le])}})})}},{key:"buildPickers",value:function(X,W){var J=this;this.pickers=X.map(function(te){if(te.classList.contains("ql-align"))return te.querySelector("option")==null&&U(te,L),new S.default(te,W.align);if(te.classList.contains("ql-background")||te.classList.contains("ql-color")){var le=te.classList.contains("ql-background")?"background":"color";return te.querySelector("option")==null&&U(te,F,le==="background"?"#ffffff":"#000000"),new x.default(te,W[le])}else return te.querySelector("option")==null&&(te.classList.contains("ql-font")?U(te,q):te.classList.contains("ql-header")?U(te,M):te.classList.contains("ql-size")&&U(te,B)),new C.default(te)});var Z=function(){J.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,Z)}}]),z}(w.default);Y.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var X=new FileReader;X.onload=function(W){var J=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(J.index).delete(J.length).insert({image:W.target.result}),p.default.sources.USER),z.quill.setSelection(J.index+1,p.default.sources.SILENT),Q.value=""},X.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(V){D(z,V);function z(Q,X){I(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Q,X));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return s(z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(W){g.default.match(W,"enter")?(X.save(),W.preventDefault()):g.default.match(W,"escape")&&(X.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,p.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":X=j(X);case"formula":{if(!X)break;var J=this.quill.getSelection(!0);if(J!=null){var Z=J.index+J.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),X,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",p.default.sources.USER),this.quill.setSelection(Z+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(N.default);function j(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function U(V,z){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(X){var W=document.createElement("option");X===Q?W.setAttribute("selected","selected"):W.setAttribute("value",X),V.appendChild(W)})}r.BaseTooltip=H,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,h=this.iterator();l=h();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,h=this.head;h!=null;){if(h===a)return l;l+=h.length(),h=h.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var h,c=this.iterator();h=c();){var f=h.length();if(a<f||l&&a===f&&(h.next==null||h.next.length()!==0))return[h,a];a-=f}return[null,0]},o.prototype.forEach=function(a){for(var l,h=this.iterator();l=h();)a(l)},o.prototype.forEachAt=function(a,l,h){if(!(l<=0))for(var c=this.find(a),f=c[0],p=c[1],m,g=a-p,y=this.iterator(f);(m=y())&&g<a+l;){var w=m.length();a>g?h(m,a-g,Math.min(l,g+w-a)):h(m,0,Math.min(w,a+l-g)),g+=w}},o.prototype.map=function(a){return this.reduce(function(l,h){return l.push(a(h)),l},[])},o.prototype.reduce=function(a,l){for(var h,c=this.iterator();h=c();)l=a(l,h);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,l),g.attach(),g}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,g){this.update(),m===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,m,g)},p.prototype.formatAt=function(m,g,y,w){this.update(),f.prototype.formatAt.call(this,m,g,y,w)},p.prototype.insertAt=function(m,g,y){this.update(),f.prototype.insertAt.call(this,m,g,y)},p.prototype.optimize=function(m,g){var y=this;m===void 0&&(m=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var b=function(k,C){C===void 0&&(C=!0),!(k==null||k===y)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),C&&b(k.parent))},x=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(x),k.optimize(g))},E=m,S=0;E.length>0;S+=1){if(S>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(k){var C=a.find(k.target,!0);C!=null&&(C.domNode===k.target&&(k.type==="childList"?(b(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(O){var N=a.find(O,!1);b(N,!1),N instanceof o.default&&N.children.forEach(function(P){b(P,!1)})})):k.type==="attributes"&&b(C.prev)),b(C))}),this.children.forEach(x),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)m.push(w.pop())}},p.prototype.update=function(m,g){var y=this;g===void 0&&(g={}),m=m||this.observer.takeRecords(),m.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(m,g)},p.blotName="scroll",p.defaultChild="block",p.scope=a.Scope.BLOCK_BLOT,p.tagName="DIV",p}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var p in c)if(c[p]!==f[p])return!1;return!0}var h=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return c.formats.call(this,p)},f.prototype.format=function(p,m){var g=this;p===this.statics.blotName&&!m?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(f.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,p,m)},f.prototype.formatAt=function(p,m,g,y){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(p,m);w.format(g,y)}else c.prototype.formatAt.call(this,p,m,g,y)},f.prototype.optimize=function(p){c.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(m,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){var p=a.query(c.blotName).tagName;if(f.tagName!==p)return h.formats.call(this,f)},c.prototype.format=function(f,p){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(c.blotName):h.prototype.format.call(this,f,p))},c.prototype.formatAt=function(f,p,m,g){a.query(m,a.Scope.BLOCK)!=null?this.format(m,g):h.prototype.formatAt.call(this,f,p,m,g)},c.prototype.insertAt=function(f,p,m){if(m==null||a.query(p,a.Scope.INLINE)!=null)h.prototype.insertAt.call(this,f,p,m);else{var g=this.split(f),y=a.create(p,m);g.parent.insertBefore(y,g)}},c.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,f,p)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(h,l);function h(){return l!==null&&l.apply(this,arguments)||this}return h.formats=function(c){},h.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},h.prototype.formatAt=function(c,f,p,m){c===0&&f===this.length()?this.format(p,m):l.prototype.formatAt.call(this,c,f,p,m)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(h){s(c,h);function c(f){var p=h.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},c.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},c.prototype.index=function(f,p){return this.domNode===f?p:-1},c.prototype.insertAt=function(f,p,m){m==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):h.prototype.insertAt.call(this,f,p,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,p){return[this.domNode,f]},c.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(f,p){var m=this;f.some(function(g){return g.type==="characterData"&&g.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var h=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>h.length)&&(l=h.length),l-=a.length;var c=h.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),c=h.length>>>0,f=arguments[1],p,m=0;m<c;m++)if(p=h[m],l.call(f,p,m,h))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(S,k,C){if(S==k)return S?[[o,S]]:[];(C<0||S.length<C)&&(C=null);var O=f(S,k),N=S.substring(0,O);S=S.substring(O),k=k.substring(O),O=p(S,k);var P=S.substring(S.length-O);S=S.substring(0,S.length-O),k=k.substring(0,k.length-O);var I=l(S,k);return N&&I.unshift([o,N]),P&&I.push([o,P]),g(I),C!=null&&(I=b(I,C)),I=x(I),I}function l(S,k){var C;if(!S)return[[s,k]];if(!k)return[[i,S]];var O=S.length>k.length?S:k,N=S.length>k.length?k:S,P=O.indexOf(N);if(P!=-1)return C=[[s,O.substring(0,P)],[o,N],[s,O.substring(P+N.length)]],S.length>k.length&&(C[0][0]=C[2][0]=i),C;if(N.length==1)return[[i,S],[s,k]];var I=m(S,k);if(I){var A=I[0],D=I[1],L=I[2],F=I[3],q=I[4],M=a(A,L),B=a(D,F);return M.concat([[o,q]],B)}return h(S,k)}function h(S,k){for(var C=S.length,O=k.length,N=Math.ceil((C+O)/2),P=N,I=2*N,A=new Array(I),D=new Array(I),L=0;L<I;L++)A[L]=-1,D[L]=-1;A[P+1]=0,D[P+1]=0;for(var F=C-O,q=F%2!=0,M=0,B=0,Y=0,H=0,j=0;j<N;j++){for(var U=-j+M;U<=j-B;U+=2){var V=P+U,z;U==-j||U!=j&&A[V-1]<A[V+1]?z=A[V+1]:z=A[V-1]+1;for(var Q=z-U;z<C&&Q<O&&S.charAt(z)==k.charAt(Q);)z++,Q++;if(A[V]=z,z>C)B+=2;else if(Q>O)M+=2;else if(q){var X=P+F-U;if(X>=0&&X<I&&D[X]!=-1){var W=C-D[X];if(z>=W)return c(S,k,z,Q)}}}for(var J=-j+Y;J<=j-H;J+=2){var X=P+J,W;J==-j||J!=j&&D[X-1]<D[X+1]?W=D[X+1]:W=D[X-1]+1;for(var Z=W-J;W<C&&Z<O&&S.charAt(C-W-1)==k.charAt(O-Z-1);)W++,Z++;if(D[X]=W,W>C)H+=2;else if(Z>O)Y+=2;else if(!q){var V=P+F-J;if(V>=0&&V<I&&A[V]!=-1){var z=A[V],Q=P+z-V;if(W=C-W,z>=W)return c(S,k,z,Q)}}}}return[[i,S],[s,k]]}function c(S,k,C,O){var N=S.substring(0,C),P=k.substring(0,O),I=S.substring(C),A=k.substring(O),D=a(N,P),L=a(I,A);return D.concat(L)}function f(S,k){if(!S||!k||S.charAt(0)!=k.charAt(0))return 0;for(var C=0,O=Math.min(S.length,k.length),N=O,P=0;C<N;)S.substring(P,N)==k.substring(P,N)?(C=N,P=C):O=N,N=Math.floor((O-C)/2+C);return N}function p(S,k){if(!S||!k||S.charAt(S.length-1)!=k.charAt(k.length-1))return 0;for(var C=0,O=Math.min(S.length,k.length),N=O,P=0;C<N;)S.substring(S.length-N,S.length-P)==k.substring(k.length-N,k.length-P)?(C=N,P=C):O=N,N=Math.floor((O-C)/2+C);return N}function m(S,k){var C=S.length>k.length?S:k,O=S.length>k.length?k:S;if(C.length<4||O.length*2<C.length)return null;function N(B,Y,H){for(var j=B.substring(H,H+Math.floor(B.length/4)),U=-1,V="",z,Q,X,W;(U=Y.indexOf(j,U+1))!=-1;){var J=f(B.substring(H),Y.substring(U)),Z=p(B.substring(0,H),Y.substring(0,U));V.length<Z+J&&(V=Y.substring(U-Z,U)+Y.substring(U,U+J),z=B.substring(0,H-Z),Q=B.substring(H+J),X=Y.substring(0,U-Z),W=Y.substring(U+J))}return V.length*2>=B.length?[z,Q,X,W,V]:null}var P=N(C,O,Math.ceil(C.length/4)),I=N(C,O,Math.ceil(C.length/2)),A;if(!P&&!I)return null;I?P?A=P[4].length>I[4].length?P:I:A=I:A=P;var D,L,F,q;S.length>k.length?(D=A[0],L=A[1],F=A[2],q=A[3]):(F=A[0],q=A[1],D=A[2],L=A[3]);var M=A[4];return[D,L,F,q,M]}function g(S){S.push([o,""]);for(var k=0,C=0,O=0,N="",P="",I;k<S.length;)switch(S[k][0]){case s:O++,P+=S[k][1],k++;break;case i:C++,N+=S[k][1],k++;break;case o:C+O>1?(C!==0&&O!==0&&(I=f(P,N),I!==0&&(k-C-O>0&&S[k-C-O-1][0]==o?S[k-C-O-1][1]+=P.substring(0,I):(S.splice(0,0,[o,P.substring(0,I)]),k++),P=P.substring(I),N=N.substring(I)),I=p(P,N),I!==0&&(S[k][1]=P.substring(P.length-I)+S[k][1],P=P.substring(0,P.length-I),N=N.substring(0,N.length-I))),C===0?S.splice(k-O,C+O,[s,P]):O===0?S.splice(k-C,C+O,[i,N]):S.splice(k-C-O,C+O,[i,N],[s,P]),k=k-C-O+(C?1:0)+(O?1:0)+1):k!==0&&S[k-1][0]==o?(S[k-1][1]+=S[k][1],S.splice(k,1)):k++,O=0,C=0,N="",P="";break}S[S.length-1][1]===""&&S.pop();var A=!1;for(k=1;k<S.length-1;)S[k-1][0]==o&&S[k+1][0]==o&&(S[k][1].substring(S[k][1].length-S[k-1][1].length)==S[k-1][1]?(S[k][1]=S[k-1][1]+S[k][1].substring(0,S[k][1].length-S[k-1][1].length),S[k+1][1]=S[k-1][1]+S[k+1][1],S.splice(k-1,1),A=!0):S[k][1].substring(0,S[k+1][1].length)==S[k+1][1]&&(S[k-1][1]+=S[k+1][1],S[k][1]=S[k][1].substring(S[k+1][1].length)+S[k+1][1],S.splice(k+1,1),A=!0)),k++;A&&g(S)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function w(S,k){if(k===0)return[o,S];for(var C=0,O=0;O<S.length;O++){var N=S[O];if(N[0]===i||N[0]===o){var P=C+N[1].length;if(k===P)return[O+1,S];if(k<P){S=S.slice();var I=k-C,A=[N[0],N[1].slice(0,I)],D=[N[0],N[1].slice(I)];return S.splice(O,1,A,D),[O+1,S]}else C=P}}throw new Error("cursor_pos is out of bounds!")}function b(S,k){var C=w(S,k),O=C[1],N=C[0],P=O[N],I=O[N+1];if(P==null)return S;if(P[0]!==o)return S;if(I!=null&&P[1]+I[1]===I[1]+P[1])return O.splice(N,2,I,P),E(O,N,2);if(I!=null&&I[1].indexOf(P[1])===0){O.splice(N,2,[I[0],P[1]],[0,P[1]]);var A=I[1].slice(P[1].length);return A.length>0&&O.splice(N+2,0,[I[0],A]),E(O,N,3)}else return S}function x(S){for(var k=!1,C=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},O=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},N=2;N<S.length;N+=1)S[N-2][0]===o&&O(S[N-2][1])&&S[N-1][0]===i&&C(S[N-1][1])&&S[N][0]===s&&C(S[N][1])&&(k=!0,S[N-1][1]=S[N-2][1].slice(-1)+S[N-1][1],S[N][1]=S[N-2][1].slice(-1)+S[N][1],S[N-2][1]=S[N-2][1].slice(0,-1));if(!k)return S;for(var P=[],N=0;N<S.length;N+=1)S[N][1].length>0&&P.push(S[N]);return P}function E(S,k,C){for(var O=k+C-1;O>=0&&O>=k-1;O--)if(O+1<S.length){var N=S[O],P=S[O+1];N[0]===P[1]&&S.splice(O,2,[N[0],N[1]+P[1]])}return S}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)i.call(f,p)&&c.push(s?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var p=s?s+c:c,m=this._events[p];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.emit=function(c,f,p,m,g,y){var w=s?s+c:c;if(!this._events[w])return!1;var b=this._events[w],x=arguments.length,E,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,y),!0}for(S=1,E=new Array(x-1);S<x;S++)E[S-1]=arguments[S];b.fn.apply(b.context,E)}else{var k=b.length,C;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),x){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,p);break;case 4:b[S].fn.call(b[S].context,f,p,m);break;default:if(!E)for(C=1,E=new Array(x-1);C<x;C++)E[C-1]=arguments[C];b[S].fn.apply(b[S].context,E)}}return!0},l.prototype.on=function(c,f,p){var m=new a(f,p||this),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.once=function(c,f,p){var m=new a(f,p||this,!0),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.removeListener=function(c,f,p,m){var g=s?s+c:c;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===f&&(!m||y.once)&&(!p||y.context===p)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var w=0,b=[],x=y.length;w<x;w++)(y[w].fn!==f||m&&!y[w].once||p&&y[w].context!==p)&&b.push(y[w]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=s?s+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},o=function(){function ce(fe,we){var xe=[],he=!0,Be=!1,Ie=void 0;try{for(var Ye=fe[Symbol.iterator](),Yt;!(he=(Yt=Ye.next()).done)&&(xe.push(Yt.value),!(we&&xe.length===we));he=!0);}catch(An){Be=!0,Ie=An}finally{try{!he&&Ye.return&&Ye.return()}finally{if(Be)throw Ie}}return xe}return function(fe,we){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ce(fe,we){for(var xe=0;xe<we.length;xe++){var he=we[xe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(fe,he.key,he)}}return function(fe,we,xe){return we&&ce(fe.prototype,we),xe&&ce(fe,xe),fe}}(),l=i(3),h=D(l),c=i(2),f=D(c),p=i(0),m=D(p),g=i(5),y=D(g),w=i(10),b=D(w),x=i(9),E=D(x),S=i(36),k=i(37),C=i(13),O=D(C),N=i(26),P=i(38),I=i(39),A=i(40);function D(ce){return ce&&ce.__esModule?ce:{default:ce}}function L(ce,fe,we){return fe in ce?Object.defineProperty(ce,fe,{value:we,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=we,ce}function F(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function q(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function M(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var B=(0,b.default)("quill:clipboard"),Y="__ql-matcher",H=[[Node.TEXT_NODE,Qe],[Node.TEXT_NODE,$e],["br",pe],[Node.ELEMENT_NODE,$e],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,nt],["li",Ce],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ge]],j=[S.AlignAttribute,P.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),U=[S.AlignStyle,k.BackgroundStyle,N.ColorStyle,P.DirectionStyle,I.FontStyle,A.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),V=function(ce){M(fe,ce);function fe(we,xe){F(this,fe);var he=q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,we,xe));return he.quill.root.addEventListener("paste",he.onPaste.bind(he)),he.container=he.quill.addContainer("ql-clipboard"),he.container.setAttribute("contenteditable",!0),he.container.setAttribute("tabindex",-1),he.matchers=[],H.concat(he.options.matchers).forEach(function(Be){var Ie=o(Be,2),Ye=Ie[0],Yt=Ie[1];!xe.matchVisual&&Yt===De||he.addMatcher(Ye,Yt)}),he}return a(fe,[{key:"addMatcher",value:function(xe,he){this.matchers.push([xe,he])}},{key:"convert",value:function(xe){if(typeof xe=="string")return this.container.innerHTML=xe.replace(/\>\r?\n +\</g,"><"),this.convert();var he=this.quill.getFormat(this.quill.selection.savedRange.index);if(he[O.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Be,L({},O.default.blotName,he[O.default.blotName]))}var Ie=this.prepareMatching(),Ye=o(Ie,2),Yt=Ye[0],An=Ye[1],it=J(this.container,Yt,An);return X(it,`
`)&&it.ops[it.ops.length-1].attributes==null&&(it=it.compose(new f.default().retain(it.length()-1).delete(1))),B.log("convert",this.container.innerHTML,it),this.container.innerHTML="",it}},{key:"dangerouslyPasteHTML",value:function(xe,he){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof xe=="string")this.quill.setContents(this.convert(xe),he),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ie=this.convert(he);this.quill.updateContents(new f.default().retain(xe).concat(Ie),Be),this.quill.setSelection(xe+Ie.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(xe){var he=this;if(!(xe.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),Ie=new f.default().retain(Be.index),Ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ie=Ie.concat(he.convert()).delete(Be.length),he.quill.updateContents(Ie,y.default.sources.USER),he.quill.setSelection(Ie.length()-Be.length,y.default.sources.SILENT),he.quill.scrollingContainer.scrollTop=Ye,he.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xe=this,he=[],Be=[];return this.matchers.forEach(function(Ie){var Ye=o(Ie,2),Yt=Ye[0],An=Ye[1];switch(Yt){case Node.TEXT_NODE:Be.push(An);break;case Node.ELEMENT_NODE:he.push(An);break;default:[].forEach.call(xe.container.querySelectorAll(Yt),function(it){it[Y]=it[Y]||[],it[Y].push(An)});break}}),[he,Be]}}]),fe}(E.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(ce,fe,we){return(typeof fe>"u"?"undefined":s(fe))==="object"?Object.keys(fe).reduce(function(xe,he){return z(xe,he,fe[he])},ce):ce.reduce(function(xe,he){return he.attributes&&he.attributes[fe]?xe.push(he):xe.insert(he.insert,(0,h.default)({},L({},fe,we),he.attributes))},new f.default)}function Q(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function X(ce,fe){for(var we="",xe=ce.ops.length-1;xe>=0&&we.length<fe.length;--xe){var he=ce.ops[xe];if(typeof he.insert!="string")break;we=he.insert+we}return we.slice(-1*fe.length)===fe}function W(ce){if(ce.childNodes.length===0)return!1;var fe=Q(ce);return["block","list-item"].indexOf(fe.display)>-1}function J(ce,fe,we){return ce.nodeType===ce.TEXT_NODE?we.reduce(function(xe,he){return he(ce,xe)},new f.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(xe,he){var Be=J(he,fe,we);return he.nodeType===ce.ELEMENT_NODE&&(Be=fe.reduce(function(Ie,Ye){return Ye(he,Ie)},Be),Be=(he[Y]||[]).reduce(function(Ie,Ye){return Ye(he,Ie)},Be)),xe.concat(Be)},new f.default):new f.default}function Z(ce,fe,we){return z(we,ce,!0)}function te(ce,fe){var we=m.default.Attributor.Attribute.keys(ce),xe=m.default.Attributor.Class.keys(ce),he=m.default.Attributor.Style.keys(ce),Be={};return we.concat(xe).concat(he).forEach(function(Ie){var Ye=m.default.query(Ie,m.default.Scope.ATTRIBUTE);Ye!=null&&(Be[Ye.attrName]=Ye.value(ce),Be[Ye.attrName])||(Ye=j[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Be[Ye.attrName]=Ye.value(ce)||void 0),Ye=U[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Ye=U[Ie],Be[Ye.attrName]=Ye.value(ce)||void 0))}),Object.keys(Be).length>0&&(fe=z(fe,Be)),fe}function le(ce,fe){var we=m.default.query(ce);if(we==null)return fe;if(we.prototype instanceof m.default.Embed){var xe={},he=we.value(ce);he!=null&&(xe[we.blotName]=he,fe=new f.default().insert(xe,we.formats(ce)))}else typeof we.formats=="function"&&(fe=z(fe,we.blotName,we.formats(ce)));return fe}function pe(ce,fe){return X(fe,`
`)||fe.insert(`
`),fe}function ge(){return new f.default}function Ce(ce,fe){var we=m.default.query(ce);if(we==null||we.blotName!=="list-item"||!X(fe,`
`))return fe;for(var xe=-1,he=ce.parentNode;!he.classList.contains("ql-clipboard");)(m.default.query(he)||{}).blotName==="list"&&(xe+=1),he=he.parentNode;return xe<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:xe}))}function $e(ce,fe){return X(fe,`
`)||(W(ce)||fe.length()>0&&ce.nextSibling&&W(ce.nextSibling))&&fe.insert(`
`),fe}function De(ce,fe){if(W(ce)&&ce.nextElementSibling!=null&&!X(fe,`

`)){var we=ce.offsetHeight+parseFloat(Q(ce).marginTop)+parseFloat(Q(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+we*1.5&&fe.insert(`
`)}return fe}function nt(ce,fe){var we={},xe=ce.style||{};return xe.fontStyle&&Q(ce).fontStyle==="italic"&&(we.italic=!0),xe.fontWeight&&(Q(ce).fontWeight.startsWith("bold")||parseInt(Q(ce).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(fe=z(fe,we)),parseFloat(xe.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Qe(ce,fe){var we=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(we.trim());if(we.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!Q(ce.parentNode).whiteSpace.startsWith("pre")){var xe=function(Be,Ie){return Ie=Ie.replace(/[^\u00a0]/g,""),Ie.length<1&&Be?" ":Ie};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,xe.bind(xe,!0)),(ce.previousSibling==null&&W(ce.parentNode)||ce.previousSibling!=null&&W(ce.previousSibling))&&(we=we.replace(/^\s+/,xe.bind(xe,!1))),(ce.nextSibling==null&&W(ce.parentNode)||ce.nextSibling!=null&&W(ce.nextSibling))&&(we=we.replace(/\s+$/,xe.bind(xe,!1)))}return fe.insert(we)}r.default=V,r.matchAttributor=te,r.matchBlot=le,r.matchNewline=$e,r.matchSpacing=De,r.matchText=Qe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(D,L){var F=[],q=!0,M=!1,B=void 0;try{for(var Y=D[Symbol.iterator](),H;!(q=(H=Y.next()).done)&&(F.push(H.value),!(L&&F.length===L));q=!0);}catch(j){M=!0,B=j}finally{try{!q&&Y.return&&Y.return()}finally{if(M)throw B}}return F}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return A(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(D,L){for(var F=0;F<L.length;F++){var q=L[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,L,F){return L&&A(D.prototype,L),F&&A(D,F),D}}(),a=i(2),l=b(a),h=i(0),c=b(h),f=i(5),p=b(f),m=i(10),g=b(m),y=i(9),w=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function x(A,D,L){return D in A?Object.defineProperty(A,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[D]=L,A}function E(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function S(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function k(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var C=(0,g.default)("quill:toolbar"),O=function(A){k(D,A);function D(L,F){E(this,D);var q=S(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L,F));if(Array.isArray(q.options.container)){var M=document.createElement("div");P(M,q.options.container),L.container.parentNode.insertBefore(M,L.container),q.container=M}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var B;return B=C.error("Container required for toolbar",q.options),S(q,B)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Y){q.addHandler(Y,q.options.handlers[Y])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Y){q.attach(Y)}),q.quill.on(p.default.events.EDITOR_CHANGE,function(Y,H){Y===p.default.events.SELECTION_CHANGE&&q.update(H)}),q.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var Y=q.quill.selection.getRange(),H=s(Y,1),j=H[0];q.update(j)}),q}return o(D,[{key:"addHandler",value:function(F,q){this.handlers[F]=q}},{key:"attach",value:function(F){var q=this,M=[].find.call(F.classList,function(Y){return Y.indexOf("ql-")===0});if(M){if(M=M.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[M]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[M]==null){C.warn("ignoring attaching to disabled format",M,F);return}if(c.default.query(M)==null){C.warn("ignoring attaching to nonexistent format",M,F);return}}var B=F.tagName==="SELECT"?"change":"click";F.addEventListener(B,function(Y){var H=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var j=F.options[F.selectedIndex];j.hasAttribute("selected")?H=!1:H=j.value||!1}else F.classList.contains("ql-active")?H=!1:H=F.value||!F.hasAttribute("value"),Y.preventDefault();q.quill.focus();var U=q.quill.selection.getRange(),V=s(U,1),z=V[0];if(q.handlers[M]!=null)q.handlers[M].call(q,H);else if(c.default.query(M).prototype instanceof c.default.Embed){if(H=prompt("Enter "+M),!H)return;q.quill.updateContents(new l.default().retain(z.index).delete(z.length).insert(x({},M,H)),p.default.sources.USER)}else q.quill.format(M,H,p.default.sources.USER);q.update(z)}),this.controls.push([M,F])}}},{key:"update",value:function(F){var q=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(M){var B=s(M,2),Y=B[0],H=B[1];if(H.tagName==="SELECT"){var j=void 0;if(F==null)j=null;else if(q[Y]==null)j=H.querySelector("option[selected]");else if(!Array.isArray(q[Y])){var U=q[Y];typeof U=="string"&&(U=U.replace(/\"/g,'\\"')),j=H.querySelector('option[value="'+U+'"]')}j==null?(H.value="",H.selectedIndex=-1):j.selected=!0}else if(F==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var V=q[Y]===H.getAttribute("value")||q[Y]!=null&&q[Y].toString()===H.getAttribute("value")||q[Y]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",V)}else H.classList.toggle("ql-active",q[Y]!=null)})}}]),D}(w.default);O.DEFAULTS={};function N(A,D,L){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+D),L!=null&&(F.value=L),A.appendChild(F)}function P(A,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(L){var F=document.createElement("span");F.classList.add("ql-formats"),L.forEach(function(q){if(typeof q=="string")N(F,q);else{var M=Object.keys(q)[0],B=q[M];Array.isArray(B)?I(F,M,B):N(F,M,B)}}),A.appendChild(F)})}function I(A,D,L){var F=document.createElement("select");F.classList.add("ql-"+D),L.forEach(function(q){var M=document.createElement("option");q!==!1?M.setAttribute("value",q):M.setAttribute("selected","selected"),F.appendChild(M)}),A.appendChild(F)}O.DEFAULTS={container:null,handlers:{clean:function(){var D=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(q){c.default.query(q,c.default.Scope.INLINE)!=null&&D.quill.format(q,!1)})}else this.quill.removeFormat(L,p.default.sources.USER)},direction:function(D){var L=this.quill.getFormat().align;D==="rtl"&&L==null?this.quill.format("align","right",p.default.sources.USER):!D&&L==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",D,p.default.sources.USER)},indent:function(D){var L=this.quill.getSelection(),F=this.quill.getFormat(L),q=parseInt(F.indent||0);if(D==="+1"||D==="-1"){var M=D==="+1"?1:-1;F.direction==="rtl"&&(M*=-1),this.quill.format("indent",q+M,p.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,p.default.sources.USER)},list:function(D){var L=this.quill.getSelection(),F=this.quill.getFormat(L);D==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",D,p.default.sources.USER)}}},r.default=O,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var x=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),x}return s(y,[{key:"buildItem",value:function(b){var x=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,x);var E=this.label.querySelector(".ql-color-label"),S=b&&b.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=S:E.style.fill=S)}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var x=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=b[E.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(y,[{key:"selectItem",value:function(b,x){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){var f=this;o(this,l),this.quill=h,this.boundsContainer=c||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,p=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>m.right&&(y=m.right-g.right,this.root.style.left=f+y+"px"),g.left<m.left&&(y=m.left-g.left,this.root.style.left=f+y+"px"),g.bottom>m.bottom){var w=g.bottom-g.top,b=c.bottom-c.top+w;this.root.style.top=p-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(A,D){var L=[],F=!0,q=!1,M=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(L.push(Y.value),!(D&&L.length===D));F=!0);}catch(H){q=!0,M=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw M}}return L}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function I(A,D,L){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:I(q,D,L)}else{if("value"in F)return F.value;var M=F.get;return M===void 0?void 0:M.call(L)}},a=function(){function I(A,D){for(var L=0;L<D.length;L++){var F=D[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,L){return D&&I(A.prototype,D),L&&I(A,L),A}}(),l=i(3),h=E(l),c=i(8),f=E(c),p=i(43),m=E(p),g=i(27),y=E(g),w=i(15),b=i(41),x=E(b);function E(I){return I&&I.__esModule?I:{default:I}}function S(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function k(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function C(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(I){C(A,I);function A(D,L){S(this,A),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=O);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,L));return F.quill.container.classList.add("ql-snow"),F}return a(A,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),x.default),this.tooltip=new P(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,q){L.handlers.link.call(L,!q.format.link)})}}]),A}(m.default);N.DEFAULTS=(0,h.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var D=this.quill.getSelection();if(D==null||D.length==0)return;var L=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var F=this.quill.theme.tooltip;F.edit("link",L)}else this.quill.format("link",!1)}}}}});var P=function(I){C(A,I);function A(D,L){S(this,A);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,L));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(A,[{key:"listen",value:function(){var L=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(L.linkRange!=null){var q=L.linkRange;L.restoreFocus(),L.quill.formatText(q,"link",!1,f.default.sources.USER),delete L.linkRange}F.preventDefault(),L.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(F,q,M){if(F!=null){if(F.length===0&&M===f.default.sources.USER){var B=L.quill.scroll.descendant(y.default,F.index),Y=s(B,2),H=Y[0],j=Y[1];if(H!=null){L.linkRange=new w.Range(F.index-j,H.length());var U=y.default.formats(H.domNode);L.preview.textContent=U,L.preview.setAttribute("href",U),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(p.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=he(s),a=i(36),l=i(38),h=i(64),c=i(65),f=he(c),p=i(66),m=he(p),g=i(67),y=he(g),w=i(37),b=i(26),x=i(39),E=i(40),S=i(56),k=he(S),C=i(68),O=he(C),N=i(27),P=he(N),I=i(69),A=he(I),D=i(70),L=he(D),F=i(71),q=he(F),M=i(72),B=he(M),Y=i(73),H=he(Y),j=i(13),U=he(j),V=i(74),z=he(V),Q=i(75),X=he(Q),W=i(57),J=he(W),Z=i(41),te=he(Z),le=i(28),pe=he(le),ge=i(59),Ce=he(ge),$e=i(60),De=he($e),nt=i(61),Qe=he(nt),ce=i(108),fe=he(ce),we=i(62),xe=he(we);function he(Be){return Be&&Be.__esModule?Be:{default:Be}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":E.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":U.default,"formats/header":m.default,"formats/list":y.default,"formats/bold":k.default,"formats/code":j.Code,"formats/italic":O.default,"formats/link":P.default,"formats/script":A.default,"formats/strike":L.default,"formats/underline":q.default,"formats/image":B.default,"formats/video":H.default,"formats/list/item":g.ListItem,"modules/formula":z.default,"modules/syntax":X.default,"modules/toolbar":J.default,"themes/bubble":fe.default,"themes/snow":xe.default,"ui/icons":te.default,"ui/picker":pe.default,"ui/icon-picker":De.default,"ui/color-picker":Ce.default,"ui/tooltip":Qe.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(w,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,x){return b&&y(w.prototype,b),x&&y(w,x),w}}(),o=function y(w,b,x){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},a=i(0),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(x,E){if(E==="+1"||E==="-1"){var S=this.value(x)||0;E=E==="+1"?S+1:S-1}return E===0?(this.remove(x),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,x,E)}},{key:"canAdd",value:function(x,E){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,x,E)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,x,parseInt(E))}},{key:"value",value:function(x){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,x))||void 0}}]),w}(l.default.Attributor.Class),g=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(g,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,w){return y&&m(g.prototype,y),w&&m(g,w),g}}(),o=i(4),a=l(o);function l(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){f(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function S(k,C){for(var O=0;O<C.length;O++){var N=C[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,C,O){return C&&S(k.prototype,C),O&&S(k,O),k}}(),o=function S(k,C,O){k===null&&(k=Function.prototype);var N=Object.getOwnPropertyDescriptor(k,C);if(N===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:S(P,C,O)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(O)}},a=i(0),l=m(a),h=i(4),c=m(h),f=i(25),p=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function g(S,k,C){return k in S?Object.defineProperty(S,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[k]=C,S}function y(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function w(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function b(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var x=function(S){b(k,S);function k(){return y(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(O,N){O===E.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,O,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,N){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,N),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,O,N))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,O)}}]),k}(c.default);x.blotName="list-item",x.tagName="LI";var E=function(S){b(k,S),s(k,null,[{key:"create",value:function(O){var N=O==="ordered"?"OL":"UL",P=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,N);return(O==="checked"||O==="unchecked")&&P.setAttribute("data-checked",O==="checked"),P}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(C){y(this,k);var O=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C)),N=function(I){if(I.target.parentNode===C){var A=O.statics.formats(C),D=l.default.find(I.target);A==="checked"?D.format("list","unchecked"):A==="unchecked"&&D.format("list","checked")}};return C.addEventListener("touchstart",N),C.addEventListener("mousedown",N),O}return s(k,[{key:"format",value:function(O,N){this.children.length>0&&this.children.tail.format(O,N)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,N){if(O instanceof x)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,N);else{var P=N==null?this.length():N.offset(this),I=this.split(P);I.parent.insertBefore(O,I)}}},{key:"optimize",value:function(O){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);O.moveChildren(N),this.appendChild(N)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,O)}}]),k}(p.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[x],r.ListItem=x,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=c(a),h=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["alt","height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(E,S){g.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return typeof E=="string"&&S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return g.reduce(function(S,k){return E.hasAttribute(k)&&(S[k]=E.getAttribute(k)),S},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,h.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(E)}},a=i(4),l=i(27),h=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(E,S){g.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return g.reduce(function(S,k){return E.hasAttribute(k)&&(S[k]=E.getAttribute(k)),S},{})}},{key:"sanitize",value:function(E){return h.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function E(S,k){for(var C=0;C<k.length;C++){var O=k[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,C){return k&&E(S.prototype,k),C&&E(S,C),S}}(),o=function E(S,k,C){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,k);if(O===void 0){var N=Object.getPrototypeOf(S);return N===null?void 0:E(N,k,C)}else{if("value"in O)return O.value;var P=O.get;return P===void 0?void 0:P.call(C)}},a=i(35),l=m(a),h=i(5),c=m(h),f=i(9),p=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var b=function(E){w(S,E);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,null,[{key:"create",value:function(C){var O=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",C)),O}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),S}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=function(E){w(S,E),s(S,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function S(){g(this,S);var k=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return S}(p.default);r.FormulaBlot=b,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function C(O,N){for(var P=0;P<N.length;P++){var I=N[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,I.key,I)}}return function(O,N,P){return N&&C(O.prototype,N),P&&C(O,P),O}}(),o=function C(O,N,P){O===null&&(O=Function.prototype);var I=Object.getOwnPropertyDescriptor(O,N);if(I===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:C(A,N,P)}else{if("value"in I)return I.value;var D=I.get;return D===void 0?void 0:D.call(P)}},a=i(0),l=y(a),h=i(5),c=y(h),f=i(9),p=y(f),m=i(13),g=y(m);function y(C){return C&&C.__esModule?C:{default:C}}function w(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function b(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function x(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var E=function(C){x(O,C);function O(){return w(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),O}(g.default);E.className="ql-syntax";var S=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(C){x(O,C),s(O,null,[{key:"register",value:function(){c.default.register(S,!0),c.default.register(E,!0)}}]);function O(N,P){w(this,O);var I=b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,P));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return I.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){I.highlight(),A=null},I.options.interval)}),I.highlight(),I}return s(O,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(A){A.highlight(P.options.highlight)}),this.quill.update(c.default.sources.SILENT),I!=null&&this.quill.setSelection(I,c.default.sources.SILENT)}}}]),O}(p.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var O=window.hljs.highlightAuto(C);return O.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=S,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function O(N,P,I){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,P);if(A===void 0){var D=Object.getPrototypeOf(N);return D===null?void 0:O(D,P,I)}else{if("value"in A)return A.value;var L=A.get;return L===void 0?void 0:L.call(I)}},o=function(){function O(N,P){for(var I=0;I<P.length;I++){var A=P[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,P,I){return P&&O(N.prototype,P),I&&O(N,I),N}}(),a=i(3),l=w(a),h=i(8),c=w(h),f=i(43),p=w(f),m=i(15),g=i(41),y=w(g);function w(O){return O&&O.__esModule?O:{default:O}}function b(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function x(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:O}function E(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(O){E(N,O);function N(P,I){b(this,N),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=S);var A=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,P,I));return A.quill.container.classList.add("ql-bubble"),A}return o(N,[{key:"extendToolbar",value:function(I){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),y.default)}}]),N}(p.default);k.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(O){E(N,O);function N(P,I){b(this,N);var A=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,P,I));return A.quill.on(c.default.events.EDITOR_CHANGE,function(D,L,F,q){if(D===c.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&q===c.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var M=A.quill.getLines(L.index,L.length);if(M.length===1)A.position(A.quill.getBounds(L));else{var B=M[M.length-1],Y=A.quill.getIndex(B),H=Math.min(B.length()-1,L.index+L.length-Y),j=A.quill.getBounds(new m.Range(Y,H));A.position(j)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(N,[{key:"listen",value:function(){var I=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var A=I.quill.getSelection();A!=null&&I.position(I.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var A=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,I),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",A===0)return A;D.style.marginLeft=-1*A-D.offsetWidth/2+"px"}}]),N}(f.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=k},function(n,r,i){n.exports=i(63)}]).default})}(jp)),jp.exports}var Bi,oI;function wse(){if(oI)return Bi;oI=1;var t=Bi&&Bi.__extends||function(){var c=function(f,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])},c(f,p)};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Bi&&Bi.__assign||function(){return e=Object.assign||function(c){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},e.apply(this,arguments)},n=Bi&&Bi.__spreadArrays||function(){for(var c=0,f=0,p=arguments.length;f<p;f++)c+=arguments[f].length;for(var m=Array(c),g=0,f=0;f<p;f++)for(var y=arguments[f],w=0,b=y.length;w<b;w++,g++)m[g]=y[w];return m},r=Bi&&Bi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},i=r(ag()),s=r(x_()),o=r(gse()),a=r(yse()),l=function(c){t(f,c);function f(p){var m=c.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(y,w,b,x){var E,S,k,C;y==="text-change"?(S=(E=m).onEditorChangeText)===null||S===void 0||S.call(E,m.editor.root.innerHTML,w,x,m.unprivilegedEditor):y==="selection-change"&&((C=(k=m).onEditorChangeSelection)===null||C===void 0||C.call(k,w,x,m.unprivilegedEditor))};var g=m.isControlled()?p.value:p.defaultValue;return m.value=g??"",m}return f.prototype.validateProps=function(p){var m;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var g=i.default.Children.only(p.children);if(((m=g)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(p,m){var g=this,y;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var w=this.getEditorContents(),b=(y=p.value,y??"");this.isEqualValue(b,w)||this.setEditorContents(this.editor,b)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!o.default(p[x],g.props[x])})},f.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(g){return!o.default(p[g],m.props[g])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(p,m){var g=this;if(this.editor&&this.shouldComponentRegenerate(p)){var y=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var b=this.regenerationSnapshot,y=b.delta,x=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var E=this.editor;E.setContents(y),h(function(){return g.setEditorSelection(E,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(p,m){var g=new a.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(g,m.tabIndex),this.hookEditor(g),g},f.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(p){return p&&p.ops},f.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?o.default(p.ops,m.ops):o.default(p,m)},f.prototype.setEditorContents=function(p,m){var g=this;this.value=m;var y=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),h(function(){return g.setEditorSelection(p,y)})},f.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var g=p.getLength();m.index=Math.max(0,Math.min(m.index,g-1)),m.length=Math.max(0,Math.min(m.length,g-1-m.index)),p.setSelection(m)}},f.prototype.setEditorTabIndex=function(p,m){var g,y;!((y=(g=p)===null||g===void 0?void 0:g.scroll)===null||y===void 0)&&y.domNode&&(p.scroll.domNode.tabIndex=m)},f.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},f.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=s.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},f.prototype.renderEditingArea=function(){var p=this,m=this.props,g=m.children,y=m.preserveWhitespace,w=this.state.generation,b={key:w,ref:function(x){p.editingArea=x}};return i.default.Children.count(g)?i.default.cloneElement(i.default.Children.only(g),b):y?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(p,m,g,y){var w,b;if(this.editor){var x=this.isDelta(this.value)?y.getContents():y.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=x,(b=(w=this.props).onChange)===null||b===void 0||b.call(w,p,m,g,y))}},f.prototype.onEditorChangeSelection=function(p,m,g){var y,w,b,x,E,S;if(this.editor){var k=this.getEditorSelection(),C=!k&&p,O=k&&!p;o.default(p,k)||(this.selection=p,(w=(y=this.props).onChangeSelection)===null||w===void 0||w.call(y,p,m,g),C?(x=(b=this.props).onFocus)===null||x===void 0||x.call(b,p,m,g):O&&((S=(E=this.props).onBlur)===null||S===void 0||S.call(E,k,m,g)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=a.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(i.default.Component);function h(c){Promise.resolve().then(c)}return Bi=l,Bi}var bse=wse();const xse=ef(bse),W3=({placeholder:t,text:e,setText:n})=>{const r=K.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large"]}],[{color:[]}],["italic","underline","blockquote","bold"],[{list:"ordered"},{list:"bullet"}],["link"]]}}),[]);return _.jsx(xse,{value:e,onChange:n,modules:r,placeholder:t,className:"mb-2 w-full rounded-xl border-0 bg-white scrollbar-hide"})};function _se({postType:t,post:e,collName:n}){const{onEditSubmit:r,setEditedData:i,editedData:s}=Of({dataToUpdate:{text:e.text,updatedAt:(e==null?void 0:e.updatedAt)||""},collName:n,docId:e.id}),o=a=>{i({text:a})};return _.jsx(Vr,{title:`${t} `,children:_.jsxs("form",{onSubmit:r,children:[_.jsx(W3,{placeholder:"  .",text:s.text,setText:o}),_.jsx(lt,{name:"",type:"submit",className:"ml-auto"})]})})}function Sse({collName:t,postType:e,post:n}){const{showModal:r,hideModal:i}=St(),s=()=>{i(),r({element:_.jsx(_se,{postType:e,post:n,collName:t})})};return _.jsx("button",{onClick:s,children:_.jsx(DE,{fontSize:14,stroke:"#aaa"})})}const Y3=({collName:t,post:e,postType:n})=>_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Sse,{collName:t,post:e,postType:n}),_.jsx(nie,{docId:e.id,collName:t})]}),Ese=({postId:t,postType:e})=>{const{uid:n}=Le(Ct),r=Le(lo),[i,s]=K.useState({}),{docId:o,monthId:a}=t,{showModal:l}=St(),h=()=>{if(e==="")return xr(a,Mu);if(e===" ")return xr(a,bE);if(e===" ")return xr(a,Wd)};K.useEffect(()=>{o&&Xn(h(),o,s)},[]);const{thumbnail:c,title:f,createdAt:p,creatorId:m,text:g}=i,y=n===m,w=r==null?void 0:r.find(E=>E.id===m),b=y?"":w==null?void 0:w.displayName,x=()=>l({element:_.jsx(Vr,{title:`${b} ${e}`,children:_.jsxs("div",{className:"overflow-scroll",children:[_.jsx(ME,{text:g}),_.jsx("div",{className:"mb-4 mt-10 flex justify-end",children:n===m&&_.jsx(Y3,{post:i,collName:h(),postType:e})}),_.jsx(vv,{createdAt:p,footerType:"likes",post:i})]})})});return _.jsx(_.Fragment,{children:Zu(i)&&_.jsx("button",{type:"button",onClick:x,children:_.jsx(un,{thumbnail:c,title:f,className:"w-full overflow-hidden"})})})};function kse({userRecords:t,postType:e}){const n=(t==null?void 0:t.subjects)||[],r=(t==null?void 0:t.hostReviews)||[],i=(t==null?void 0:t.reviews)||[],s={:n," ":i," ":r};return _.jsx("ul",{className:"grid grid-cols-7 gap-5 max-md:grid-cols-6 max-sm:grid-cols-4 max-sm:gap-4",children:s[e].length!==0?s[e].map(o=>_.jsx(Ese,{postId:o,postType:e},o.docId)):_.jsxs("span",{children:["  ",e," ."]})})}function Tse({percentage:t}){return _.jsx("div",{className:"mt-2 flex items-center gap-4",children:_.jsx("div",{className:`flex h-[14px] w-full items-center rounded-2xl border p-0.5 ${t==="100%"?"border-green1":"border-yellow-600"}`,children:_.jsx("div",{style:{width:t},className:`relative h-full rounded-3xl ${t==="100%"?"w-full bg-green1":"bg-yellow-300"}`})})})}function Fn({text:t,color:e="lightBlue",children:n,shape:r="square",className:i,onClick:s}){const o={lightGray:"bg-gray4 text-gray1",lightGreen:"bg-green3 text-green-700",lightBlue:"bg-blue4 text-blue2",yellow:"bg-amber-100 text-yellow-700",purple:"bg-purple4 text-purple-700",green:"bg-green1 text-white",red:"bg-pointCoral text-white"},a={rounded:"rounded-full",square:"rounded-lg"};return s?_.jsxs("button",{type:"button",onClick:s,className:`${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 text-sm ${i}`,children:[_.jsx("span",{children:t&&t}),n&&n]}):_.jsxs("div",{className:`min-w-fit text-sm ${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[_.jsx("span",{children:t&&t}),n&&n]})}function Ds({authors:t,publisher:e}){return _.jsxs("span",{className:"line-clamp-1 truncate whitespace-pre-wrap text-sm tracking-tight text-gray1",children:[t.length!==0?_.jsxs("span",{children:[t[0],t.length!==1&&`( ${t.length-1})`]}):_.jsx("span",{className:"text-gray1",children:" "}),e&&_.jsxs("span",{children:["  ",e]})]})}function Cse({currentPage:t,wholePage:e}){const n=Cm(t,e);return _.jsxs("span",{className:`text-sm font-medium tracking-tighter ${n===100?"text-green2":"text-pointCoral"}`,children:[n===100?"":""," ",t," / ",e," (",n,"%)"]})}function Nse({docId:t,creatorId:e,challengeBook:n}){const{title:r,thumbnail:i,authors:s,publisher:o,wholePage:a,currentPage:l}=n,[h]=K.useState(l),{uid:c}=Le(Ct),{pathname:f}=Br(),p=ln(Zt,ll,t),m=async()=>{window.confirm(" ?")&&await Gg(p)},g=`${Cm(l,a)}%`;return _.jsxs("li",{className:`rounded-xl border bg-white px-4 pb-3 pt-4 shadow-card ${g==="100%"?"border-green1":"border-pointCoral opacity-50"}`,children:[_.jsxs("div",{className:"mb-2.5 flex flex-1",children:[_.jsxs("div",{className:"mr-4 flex flex-1 flex-col gap-1",children:[_.jsx(Fn,{text:g==="100%"?"  ":"  ",color:g==="100%"?"green":"red",className:"mb-1.5 min-w-fit font-medium"}),_.jsx("h3",{className:"font-medium leading-5",children:r}),_.jsx(Ds,{authors:s,publisher:o}),f==="/challenge"&&c===e&&_.jsx("div",{className:"absolute right-3 top-3 flex gap-3",children:_.jsx("button",{type:"button",onClick:m,children:_.jsx(If,{fontSize:15})})}),_.jsx(Cse,{currentPage:h,wholePage:a})]}),_.jsx(un,{title:r,thumbnail:i,className:"w-20"})]}),_.jsx(Tse,{percentage:g})]})}const Es=({text:t,color:e="gray",icon:n=!0})=>{const r={red:"text-pointCoral stroke-pointCoral",green:"text-green1 stroke-green1",gray:"text-gray1 stroke-gray1"};return _.jsxs("div",{className:"mb-2 gap-1",children:[n&&(e==="red"?_.jsx(Mre,{className:`mb-0.5 inline text-base ${r[e]}`}):_.jsx(Kre,{className:`mb-0.5 inline text-base ${r[e]}`})),_.jsx("span",{className:`ml-1 text-base leading-6 ${r[e]}`,children:t})]})};function Ose(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h10v10"},child:[]},{tag:"path",attr:{d:"M7 17 17 7"},child:[]}]})(t)}function Ase(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"},child:[]},{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function Dse(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function Ise(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5.8 11.3 2 22l10.7-3.79"},child:[]},{tag:"path",attr:{d:"M4 3h.01"},child:[]},{tag:"path",attr:{d:"M22 8h.01"},child:[]},{tag:"path",attr:{d:"M15 2h.01"},child:[]},{tag:"path",attr:{d:"M22 20h.01"},child:[]},{tag:"path",attr:{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"},child:[]},{tag:"path",attr:{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"},child:[]},{tag:"path",attr:{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"},child:[]},{tag:"path",attr:{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"},child:[]}]})(t)}function rc({size:t=200,className:e=""}){return _.jsx("div",{className:`flex items-center justify-center ${e}`,children:_.jsxs("div",{className:"relative flex items-center justify-center rounded-full",style:{height:`${t}px`,width:`${t}px`},children:[_.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"11",fill:"none",className:"stroke-purple4"}),_.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:10,strokeLinecap:"round",strokeDasharray:"45 240",strokeDashoffset:"100",className:"origin-center animate-spin border stroke-purple2"})]}),_.jsx(Ase,{className:"absolute size-[40%] text-purple2"})]})})}const Dm=({title:t,className:e})=>_.jsx("h3",{className:`flex w-fit items-center text-[17px] font-medium text-blue1 ${e}`,children:t});function Lt({children:t,title:e,titleBtn:n,className:r=""}){return _.jsxs("section",{className:`relative mb-20 mt-2.5 flex flex-col max-md:mb-16 ${r}`,children:[e&&(n?_.jsxs("div",{className:"mb-2 flex items-center justify-between px-1",children:[_.jsx(Dm,{title:e}),n]}):_.jsx(Dm,{title:e,className:"mb-2 pl-1"})),t]})}function Pse(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function G3(t,e){return new Promise(function(n,r){let i;return Rse(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Rse=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const h=o+10;let c;switch(s.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(h+2,c)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(h+4,c),p=h+f+2+12*s.getUint16(h+f,c);for(let m=h+f+2;m<p;m+=12)if(s.getUint16(m,c)==274){if(s.getUint16(m+2,c)!==3)return n("Orientation data type is invalid");if(s.getUint32(m+4,c)!==1)return n("Orientation data count is invalid");s.setUint16(m+8,1,c);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Im={},Mse={get exports(){return Im},set exports(t){Im=t}};(function(t){var e,n,r={};Mse.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,h={},c=new Uint8Array(i),f=c.length-4;a(c,f)!=101010256;)f--;l=f,l+=4;var p=o(c,l+=4);o(c,l+=2);var m=a(c,l+=2),g=a(c,l+=4);l+=4,l=g;for(var y=0;y<p;y++){a(c,l),l+=4,l+=4,l+=4,a(c,l+=4),m=a(c,l+=4);var w=a(c,l+=4),b=o(c,l+=4),x=o(c,l+2),E=o(c,l+4);l+=6;var S=a(c,l+=8);l+=4,l+=b+x+E,r._readLocal(c,S,h,m,w,s)}return h},r._readLocal=function(i,s,o,a,l,h){var c=r.bin.readUshort,f=r.bin.readUint;f(i,s),c(i,s+=4),c(i,s+=2);var p=c(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var m=c(i,s+=8),g=c(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,m);if(s+=m,s+=g,h)o[y]={size:l,csize:a};else{var w=new Uint8Array(i.buffer,s);if(p==0)o[y]=new Uint8Array(w.buffer.slice(s,s+a));else{if(p!=8)throw"unknown compression method: "+p;var b=new Uint8Array(l);r.inflateRaw(w,b),o[y]=b}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,h={};for(var c in i){var f=!r._noNeed(c)&&!s,p=i[c],m=r.crc.crc(p,0,p.length);h[c]={cpr:f,usize:p.length,crc:m,file:f?r.deflateRaw(p):p}}for(var c in h)o+=h[c].file.length+30+46+2*r.bin.sizeUTF8(c);o+=22;var g=new Uint8Array(o),y=0,w=[];for(var c in h){var b=h[c];w.push(y),y=r._writeHeader(g,y,c,b,0)}var x=0,E=y;for(var c in h)b=h[c],w.push(y),y=r._writeHeader(g,y,c,b,1,w[x++]);var S=y-E;return a(g,y,101010256),y+=4,l(g,y+=4,x),l(g,y+=2,x),a(g,y+=2,S),a(g,y+=4,E),y+=4,y+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,h){var c=r.bin.writeUint,f=r.bin.writeUshort,p=a.file;return c(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,a.cpr?8:0),c(i,s+=2,0),c(i,s+=4,a.crc),c(i,s+=4,p.length),c(i,s+=4,a.usize),f(i,s+=4,r.bin.sizeUTF8(o)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,c(i,s+=6,h),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(p,s),s+=p.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,h=s,c=s+o;h<c;){for(var f=Math.min(h+5552,c);h<f;)l+=a+=i[h++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",h=0;h<o;h++)l+="%"+r.bin.pad(i[s+h].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,h=0;h<a;h++){var c=o.charCodeAt(h);if((4294967168&c)==0)i[s+l]=c,l++;else if((4294965248&c)==0)i[s+l]=192|c>>6,i[s+l+1]=128|c>>0&63,l+=2;else if((4294901760&c)==0)i[s+l]=224|c>>12,i[s+l+1]=128|c>>6&63,i[s+l+2]=128|c>>0&63,l+=3;else{if((4292870144&c)!=0)throw"e";i[s+l]=240|c>>18,i[s+l+1]=128|c>>12&63,i[s+l+2]=128|c>>6&63,i[s+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if((4294967168&l)==0)o++;else if((4294965248&l)==0)o+=2;else if((4294901760&l)==0)o+=3;else{if((4292870144&l)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,p=0,m=o<<3,g=0,y=i.length;if(a==0){for(;p<y;)f(s,m,p+(A=Math.min(65535,y-p))==y?1:0),m=r.F._copyExact(i,p,A,s,m+8),p+=A;return m>>>3}var w=h.lits,b=h.strt,x=h.prev,E=0,S=0,k=0,C=0,O=0,N=0;for(y>2&&(b[N=r.F._hash(i,0)]=0),p=0;p<y;p++){if(O=N,p+1<y-2){N=r.F._hash(i,p+1);var P=p+1&32767;x[P]=b[N],b[N]=P}if(g<=p){(E>14e3||S>26697)&&y-p>100&&(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(p==y-1||g==y?1:0,w,E,C,i,k,p-k,s,m),E=S=C=0,k=p);var I=0;p<y-2&&(I=r.F._bestMatch(i,p,x,O,Math.min(l[2],y-p),l[3]));var A=I>>>16,D=65535&I;if(I!=0){D=65535&I;var L=c(A=I>>>16,h.of0);h.lhst[257+L]++;var F=c(D,h.df0);h.dhst[F]++,C+=h.exb[L]+h.dxb[F],w[E]=A<<23|p-g,w[E+1]=D<<16|L<<8|F,E+=2,g=p+A}else h.lhst[i[p]]++;S++}}for(k==p&&i.length!=0||(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(1,w,E,C,i,k,p-k,s,m),E=0,S=0,E=S=C=0,k=p);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,s,o,a,l,h){var c=32767&s,f=o[c],p=c-f+32768&32767;if(f==c||a!=r.F._hash(i,s-p))return 0;for(var m=0,g=0,y=Math.min(32767,s);p<=y&&--h!=0&&f!=c;){if(m==0||i[s+m]==i[s+m-p]){var w=r.F._howLong(i,s,p);if(w>m){if(g=p,(m=w)>=l)break;p+2<w&&(w=p+2);for(var b=0,x=0;x<w-2;x++){var E=s-p+x+32768&32767,S=E-o[E]+32768&32767;S>b&&(b=S,f=E)}}}p+=(c=f)-(f=o[c])+32768&32767}return m<<16|g},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,h,c,f,p){var m,g,y,w,b,x,E,S,k,C=r.F.U,O=r.F._putsF,N=r.F._putsE;C.lhst[256]++,g=(m=r.F.getTrees())[0],y=m[1],w=m[2],b=m[3],x=m[4],E=m[5],S=m[6],k=m[7];var P=32+((p+3&7)==0?0:8-(p+3&7))+(c<<3),I=a+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),A=a+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);A+=14+3*E+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var D=0;D<286;D++)C.lhst[D]=0;for(D=0;D<30;D++)C.dhst[D]=0;for(D=0;D<19;D++)C.ihst[D]=0;var L=P<I&&P<A?0:I<A?1:2;if(O(f,p,i),O(f,p+1,L),p+=3,L==0){for(;(7&p)!=0;)p++;p=r.F._copyExact(l,h,c,f,p)}else{var F,q;if(L==1&&(F=C.fltree,q=C.fdtree),L==2){r.F.makeCodes(C.ltree,g),r.F.revCodes(C.ltree,g),r.F.makeCodes(C.dtree,y),r.F.revCodes(C.dtree,y),r.F.makeCodes(C.itree,w),r.F.revCodes(C.itree,w),F=C.ltree,q=C.dtree,N(f,p,b-257),N(f,p+=5,x-1),N(f,p+=5,E-4),p+=4;for(var M=0;M<E;M++)N(f,p+3*M,C.itree[1+(C.ordr[M]<<1)]);p+=3*E,p=r.F._codeTiny(S,C.itree,f,p),p=r.F._codeTiny(k,C.itree,f,p)}for(var B=h,Y=0;Y<o;Y+=2){for(var H=s[Y],j=H>>>23,U=B+(8388607&H);B<U;)p=r.F._writeLit(l[B++],F,f,p);if(j!=0){var V=s[Y+1],z=V>>16,Q=V>>8&255,X=255&V;N(f,p=r.F._writeLit(257+Q,F,f,p),j-C.of0[Q]),p+=C.exb[Q],O(f,p=r.F._writeLit(X,q,f,p),z-C.df0[X]),p+=C.dxb[X],B+=j}}p=r.F._writeLit(256,F,f,p)}return p},r.F._copyExact=function(i,s,o,a,l){var h=l>>>3;return a[h]=o,a[h+1]=o>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(i.buffer,s,o),h),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),h=[],c=r.F._lenCodes(i.dtree,h),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<h.length;f+=2)i.ihst[h[f]]++;for(var p=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[s,o,p,l,c,m,a,h]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var h=i[l],c=i[l+1];a=r.F._writeLit(h,s,o,a);var f=h==16?2:h==17?3:7;h>15&&(r.F._putsE(o,a,c,f),a+=f)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],h=a+3<o?i[a+3]:-1,c=a+5<o?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&h==l&&c==l){for(var p=a+5;p+2<o&&i[p+2]==l;)p+=2;(m=Math.min(p+1-a>>>1,138))<11?s.push(17,m-3):s.push(18,m-11),a+=2*m-2}else if(l==f&&h==l&&c==l){for(p=a+5;p+2<o&&i[p+2]==l;)p+=2;var m=Math.min(p+1-a>>>1,6);s.push(16,m-3),a+=2*m-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,h=s.length,c=0;for(c=0;c<h;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&a.push({lit:c,f:i[c]});var f=a.length,p=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return p=m==0?1:0,s[1+(m<<1)]=1,s[1+(p<<1)]=1,1}a.sort(function(S,k){return S.f-k.f});var g=a[0],y=a[1],w=0,b=1,x=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};b!=f-1;)g=w!=b&&(x==f||a[w].f<a[x].f)?a[w++]:a[x++],y=w!=b&&(x==f||a[w].f<a[x].f)?a[w++]:a[x++],a[b++]={lit:-1,f:g.f+y.f,l:g,r:y};var E=r.F.setDepth(a[b-1],0);for(E>o&&(r.F.restrictDepth(p,o,E),E=o),c=0;c<f;c++)s[1+(p[c].lit<<1)]=p[c].d;return E},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,h=0;for(i.sort(function(f,p){return p.d==f.d?f.f-p.f:p.d-f.d}),a=0;a<i.length&&i[a].d>s;a++){var c=i[a].d;i[a].d=s,h+=l-(1<<o-c)}for(h>>>=o-s;h>0;)(c=i[a].d)<s?(i[a].d++,h-=1<<s-c-1):a++;for(;a>=0;a--)i[a].d==s&&h<0&&(i[a].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,p=a.codes2map,m=a._get17,g=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var w,b,x=0,E=0,S=0,k=0,C=0,O=0,N=0,P=0,I=0;x==0;)if(x=l(i,I,1),E=l(i,I+1,2),I+=3,E!=0){if(y&&(s=r.F._check(s,P+(1<<17))),E==1&&(w=g.flmap,b=g.fdmap,O=511,N=31),E==2){S=h(i,I,5)+257,k=h(i,I+5,5)+1,C=h(i,I+10,4)+4,I+=14;for(var A=0;A<38;A+=2)g.itree[A]=0,g.itree[A+1]=0;var D=1;for(A=0;A<C;A++){var L=h(i,I+3*A,3);g.itree[1+(g.ordr[A]<<1)]=L,L>D&&(D=L)}I+=3*C,f(g.itree,D),p(g.itree,D,g.imap),w=g.lmap,b=g.dmap,I=c(g.imap,(1<<D)-1,S+k,i,I,g.ttree);var F=a._copyOut(g.ttree,0,S,g.ltree);O=(1<<F)-1;var q=a._copyOut(g.ttree,S,k,g.dtree);N=(1<<q)-1,f(g.ltree,F),p(g.ltree,F,w),f(g.dtree,q),p(g.dtree,q,b)}for(;;){var M=w[m(i,I)&O];I+=15&M;var B=M>>>4;if(!(B>>>8))s[P++]=B;else{if(B==256)break;var Y=P+B-254;if(B>264){var H=g.ldef[B-257];Y=P+(H>>>3)+h(i,I,7&H),I+=7&H}var j=b[m(i,I)&N];I+=15&j;var U=j>>>4,V=g.ddef[U],z=(V>>>4)+l(i,I,15&V);for(I+=15&V,y&&(s=r.F._check(s,P+(1<<17)));P<Y;)s[P]=s[P++-z],s[P]=s[P++-z],s[P]=s[P++-z],s[P]=s[P++-z];P=Y}}}else{(7&I)!=0&&(I+=8-(7&I));var Q=4+(I>>>3),X=i[Q-4]|i[Q-3]<<8;y&&(s=r.F._check(s,P+X)),s.set(new o(i.buffer,i.byteOffset+Q,X),P),I=Q+X<<3,P+=X}return s.length==P?s:s.slice(0,P)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,h){for(var c=r.F._bitsE,f=r.F._get17,p=0;p<o;){var m=i[f(a,l)&s];l+=15&m;var g=m>>>4;if(g<=15)h[p]=g,p++;else{var y=0,w=0;g==16?(w=3+c(a,l,2),l+=2,y=h[p-1]):g==17?(w=3+c(a,l,3),l+=3):g==18&&(w=11+c(a,l,7),l+=7);for(var b=p+w;p<b;)h[p]=y,p++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,h=0,c=a.length>>>1;h<o;){var f=i[h+s];a[h<<1]=0,a[1+(h<<1)]=f,f>l&&(l=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,h,c=r.F.U,f=i.length,p=c.bl_count,m=0;m<=s;m++)p[m]=0;for(m=1;m<f;m+=2)p[i[m]]++;var g=c.next_code;for(o=0,p[0]=0,a=1;a<=s;a++)o=o+p[a-1]<<1,g[a]=o;for(l=0;l<f;l+=2)(h=i[l+1])!=0&&(i[l]=g[h],g[h]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,h=0;h<a;h+=2)if(i[h+1]!=0)for(var c=h>>1,f=i[h+1],p=c<<4|f,m=s-f,g=i[h]<<m,y=g+(1<<m);g!=y;)o[l[g]>>>15-s]=p,g++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var h=i[l]<<s-i[l+1];i[l]=o[h]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,h,c){for(;h--!=0;)l.push(0,c)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Lse=Pse({__proto__:null,default:Im},[Im]);const Vi=function(){var t={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,p){c[f]=p>>8&255,c[f+1]=255&p},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,p){c[f]=p>>24&255,c[f+1]=p>>16&255,c[f+2]=p>>8&255,c[f+3]=255&p},readASCII(c,f,p){let m="";for(let g=0;g<p;g++)m+=String.fromCharCode(c[f+g]);return m},writeASCII(c,f,p){for(let m=0;m<p.length;m++)c[f+m]=p.charCodeAt(m)},readBytes(c,f,p){const m=[];for(let g=0;g<p;g++)m.push(c[f+g]);return m},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,p){let m,g="";for(let y=0;y<p;y++)g+=`%${t.pad(c[f+y].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(c,f,p)}return m}};function e(c,f,p,m){const g=f*p,y=s(m),w=Math.ceil(f*y/8),b=new Uint8Array(4*g),x=new Uint32Array(b.buffer),{ctype:E}=m,{depth:S}=m,k=t.readUshort;if(E==6){const H=g<<2;if(S==8)for(var C=0;C<H;C+=4)b[C]=c[C],b[C+1]=c[C+1],b[C+2]=c[C+2],b[C+3]=c[C+3];if(S==16)for(C=0;C<H;C++)b[C]=c[C<<1]}else if(E==2){const H=m.tabs.tRNS;if(H==null){if(S==8)for(C=0;C<g;C++){var O=3*C;x[C]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O]}if(S==16)for(C=0;C<g;C++)O=6*C,x[C]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O]}else{var N=H[0];const j=H[1],U=H[2];if(S==8)for(C=0;C<g;C++){var P=C<<2;O=3*C,x[C]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O],c[O]==N&&c[O+1]==j&&c[O+2]==U&&(b[P+3]=0)}if(S==16)for(C=0;C<g;C++)P=C<<2,O=6*C,x[C]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O],k(c,O)==N&&k(c,O+2)==j&&k(c,O+4)==U&&(b[P+3]=0)}}else if(E==3){const H=m.tabs.PLTE,j=m.tabs.tRNS,U=j?j.length:0;if(S==1)for(var I=0;I<p;I++){var A=I*w,D=I*f;for(C=0;C<f;C++){P=D+C<<2;var L=3*(F=c[A+(C>>3)]>>7-((7&C)<<0)&1);b[P]=H[L],b[P+1]=H[L+1],b[P+2]=H[L+2],b[P+3]=F<U?j[F]:255}}if(S==2)for(I=0;I<p;I++)for(A=I*w,D=I*f,C=0;C<f;C++)P=D+C<<2,L=3*(F=c[A+(C>>2)]>>6-((3&C)<<1)&3),b[P]=H[L],b[P+1]=H[L+1],b[P+2]=H[L+2],b[P+3]=F<U?j[F]:255;if(S==4)for(I=0;I<p;I++)for(A=I*w,D=I*f,C=0;C<f;C++)P=D+C<<2,L=3*(F=c[A+(C>>1)]>>4-((1&C)<<2)&15),b[P]=H[L],b[P+1]=H[L+1],b[P+2]=H[L+2],b[P+3]=F<U?j[F]:255;if(S==8)for(C=0;C<g;C++){var F;P=C<<2,L=3*(F=c[C]),b[P]=H[L],b[P+1]=H[L+1],b[P+2]=H[L+2],b[P+3]=F<U?j[F]:255}}else if(E==4){if(S==8)for(C=0;C<g;C++){P=C<<2;var q=c[M=C<<1];b[P]=q,b[P+1]=q,b[P+2]=q,b[P+3]=c[M+1]}if(S==16)for(C=0;C<g;C++){var M;P=C<<2,q=c[M=C<<2],b[P]=q,b[P+1]=q,b[P+2]=q,b[P+3]=c[M+2]}}else if(E==0)for(N=m.tabs.tRNS?m.tabs.tRNS:-1,I=0;I<p;I++){const H=I*w,j=I*f;if(S==1)for(var B=0;B<f;B++){var Y=(q=255*(c[H+(B>>>3)]>>>7-(7&B)&1))==255*N?0:255;x[j+B]=Y<<24|q<<16|q<<8|q}else if(S==2)for(B=0;B<f;B++)Y=(q=85*(c[H+(B>>>2)]>>>6-((3&B)<<1)&3))==85*N?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(S==4)for(B=0;B<f;B++)Y=(q=17*(c[H+(B>>>1)]>>>4-((1&B)<<2)&15))==17*N?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(S==8)for(B=0;B<f;B++)Y=(q=c[H+B])==N?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(S==16)for(B=0;B<f;B++)q=c[H+(B<<1)],Y=k(c,H+(B<<1))==N?0:255,x[j+B]=Y<<24|q<<16|q<<8|q}return b}function n(c,f,p,m){const g=s(c),y=Math.ceil(p*g/8),w=new Uint8Array((y+1+c.interlace)*m);return f=c.tabs.CgBI?i(f,w):r(f,w),c.interlace==0?f=o(f,c,0,p,m):c.interlace==1&&(f=function(x,E){const S=E.width,k=E.height,C=s(E),O=C>>3,N=Math.ceil(S*C/8),P=new Uint8Array(k*N);let I=0;const A=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const B=L[q],Y=F[q];let H=0,j=0,U=A[q];for(;U<k;)U+=B,j++;let V=D[q];for(;V<S;)V+=Y,H++;const z=Math.ceil(H*C/8);o(x,E,I,H,j);let Q=0,X=A[q];for(;X<k;){let W=D[q],J=I+Q*z<<3;for(;W<S;){var M;if(C==1&&(M=(M=x[J>>3])>>7-(7&J)&1,P[X*N+(W>>3)]|=M<<7-((7&W)<<0)),C==2&&(M=(M=x[J>>3])>>6-(7&J)&3,P[X*N+(W>>2)]|=M<<6-((3&W)<<1)),C==4&&(M=(M=x[J>>3])>>4-(7&J)&15,P[X*N+(W>>1)]|=M<<4-((1&W)<<2)),C>=8){const Z=X*N+W*O;for(let te=0;te<O;te++)P[Z+te]=x[(J>>3)+te]}J+=C,W+=Y}Q++,X+=B}H*j!=0&&(I+=j*(1+z)),q+=1}return P}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,p){const m=Uint8Array;let g,y,w=0,b=0,x=0,E=0,S=0,k=0,C=0,O=0,N=0;if(f[0]==3&&f[1]==0)return p||new m(0);const P=c.H,I=P.b,A=P.e,D=P.R,L=P.n,F=P.A,q=P.Z,M=P.m,B=p==null;for(B&&(p=new m(f.length>>>2<<5));w==0;)if(w=I(f,N,1),b=I(f,N+1,2),N+=3,b!=0){if(B&&(p=c.H.W(p,O+(1<<17))),b==1&&(g=M.J,y=M.h,k=511,C=31),b==2){x=A(f,N,5)+257,E=A(f,N+5,5)+1,S=A(f,N+10,4)+4,N+=14;let H=1;for(var Y=0;Y<38;Y+=2)M.Q[Y]=0,M.Q[Y+1]=0;for(Y=0;Y<S;Y++){const V=A(f,N+3*Y,3);M.Q[1+(M.X[Y]<<1)]=V,V>H&&(H=V)}N+=3*S,L(M.Q,H),F(M.Q,H,M.u),g=M.w,y=M.d,N=D(M.u,(1<<H)-1,x+E,f,N,M.v);const j=P.V(M.v,0,x,M.C);k=(1<<j)-1;const U=P.V(M.v,x,E,M.D);C=(1<<U)-1,L(M.C,j),F(M.C,j,g),L(M.D,U),F(M.D,U,y)}for(;;){const H=g[q(f,N)&k];N+=15&H;const j=H>>>4;if(!(j>>>8))p[O++]=j;else{if(j==256)break;{let U=O+j-254;if(j>264){const W=M.q[j-257];U=O+(W>>>3)+A(f,N,7&W),N+=7&W}const V=y[q(f,N)&C];N+=15&V;const z=V>>>4,Q=M.c[z],X=(Q>>>4)+I(f,N,15&Q);for(N+=15&Q;O<U;)p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X];O=U}}}}else{(7&N)!=0&&(N+=8-(7&N));const H=4+(N>>>3),j=f[H-4]|f[H-3]<<8;B&&(p=c.H.W(p,O+j)),p.set(new m(f.buffer,f.byteOffset+H,j),O),N=H+j<<3,O+=j}return p.length==O?p:p.slice(0,O)},c.H.W=function(f,p){const m=f.length;if(p<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},c.H.R=function(f,p,m,g,y,w){const b=c.H.e,x=c.H.Z;let E=0;for(;E<m;){const S=f[x(g,y)&p];y+=15&S;const k=S>>>4;if(k<=15)w[E]=k,E++;else{let C=0,O=0;k==16?(O=3+b(g,y,2),y+=2,C=w[E-1]):k==17?(O=3+b(g,y,3),y+=3):k==18&&(O=11+b(g,y,7),y+=7);const N=E+O;for(;E<N;)w[E]=C,E++}}return y},c.H.V=function(f,p,m,g){let y=0,w=0;const b=g.length>>>1;for(;w<m;){const x=f[w+p];g[w<<1]=0,g[1+(w<<1)]=x,x>y&&(y=x),w++}for(;w<b;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},c.H.n=function(f,p){const m=c.H.m,g=f.length;let y,w,b,x;const E=m.j;for(var S=0;S<=p;S++)E[S]=0;for(S=1;S<g;S+=2)E[f[S]]++;const k=m.K;for(y=0,E[0]=0,w=1;w<=p;w++)y=y+E[w-1]<<1,k[w]=y;for(b=0;b<g;b+=2)x=f[b+1],x!=0&&(f[b]=k[x],k[x]++)},c.H.A=function(f,p,m){const g=f.length,y=c.H.m.r;for(let w=0;w<g;w+=2)if(f[w+1]!=0){const b=w>>1,x=f[w+1],E=b<<4|x,S=p-x;let k=f[w]<<S;const C=k+(1<<S);for(;k!=C;)m[y[k]>>>15-p]=E,k++}},c.H.l=function(f,p){const m=c.H.m.r,g=15-p;for(let y=0;y<f.length;y+=2){const w=f[y]<<p-f[y+1];f[y]=m[w]>>>g}},c.H.M=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8},c.H.I=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},c.H.e=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8)>>>(7&p)&(1<<m)-1},c.H.b=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)&(1<<m)-1},c.H.Z=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)},c.H.i=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16|f[3+(p>>>3)]<<24)>>>(7&p)},c.H.m=function(){const f=Uint16Array,p=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[p]=(g>>>16|g<<16)>>>17}function m(g,y,w){for(;y--!=0;)g.push(0,w)}for(p=0;p<32;p++)f.q[p]=f.S[p]<<3|f.T[p],f.c[p]=f.p[p]<<4|f.z[p];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),m(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function o(c,f,p,m,g){let y=s(f);const w=Math.ceil(m*y/8);let b,x;y=Math.ceil(y/8);let E=c[p],S=0;if(E>1&&(c[p]=[0,0,1][E-2]),E==3)for(S=y;S<w;S++)c[S+1]=c[S+1]+(c[S+1-y]>>>1)&255;for(let k=0;k<g;k++)if(b=p+k*w,x=b+k+1,E=c[x-1],S=0,E==0)for(;S<w;S++)c[b+S]=c[x+S];else if(E==1){for(;S<y;S++)c[b+S]=c[x+S];for(;S<w;S++)c[b+S]=c[x+S]+c[b+S-y]}else if(E==2)for(;S<w;S++)c[b+S]=c[x+S]+c[b+S-w];else if(E==3){for(;S<y;S++)c[b+S]=c[x+S]+(c[b+S-w]>>>1);for(;S<w;S++)c[b+S]=c[x+S]+(c[b+S-w]+c[b+S-y]>>>1)}else{for(;S<y;S++)c[b+S]=c[x+S]+a(0,c[b+S-w],0);for(;S<w;S++)c[b+S]=c[x+S]+a(c[b+S-y],c[b+S-w],c[b+S-y-w])}return c}function a(c,f,p){const m=c+f-p,g=m-c,y=m-f,w=m-p;return g*g<=y*y&&g*g<=w*w?c:y*y<=w*w?f:p}function l(c,f,p){p.width=t.readUint(c,f),f+=4,p.height=t.readUint(c,f),f+=4,p.depth=c[f],f++,p.ctype=c[f],f++,p.compress=c[f],f++,p.filter=c[f],f++,p.interlace=c[f],f++}function h(c,f,p,m,g,y,w,b,x){const E=Math.min(f,g),S=Math.min(p,y);let k=0,C=0;for(let q=0;q<S;q++)for(let M=0;M<E;M++)if(w>=0&&b>=0?(k=q*f+M<<2,C=(b+q)*g+w+M<<2):(k=(-b+q)*f-w+M<<2,C=q*g+M<<2),x==0)m[C]=c[k],m[C+1]=c[k+1],m[C+2]=c[k+2],m[C+3]=c[k+3];else if(x==1){var O=c[k+3]*.00392156862745098,N=c[k]*O,P=c[k+1]*O,I=c[k+2]*O,A=m[C+3]*(1/255),D=m[C]*A,L=m[C+1]*A,F=m[C+2]*A;const B=1-O,Y=O+A*B,H=Y==0?0:1/Y;m[C+3]=255*Y,m[C+0]=(N+D*B)*H,m[C+1]=(P+L*B)*H,m[C+2]=(I+F*B)*H}else if(x==2)O=c[k+3],N=c[k],P=c[k+1],I=c[k+2],A=m[C+3],D=m[C],L=m[C+1],F=m[C+2],O==A&&N==D&&P==L&&I==F?(m[C]=0,m[C+1]=0,m[C+2]=0,m[C+3]=0):(m[C]=N,m[C+1]=P,m[C+2]=I,m[C+3]=O);else if(x==3){if(O=c[k+3],N=c[k],P=c[k+1],I=c[k+2],A=m[C+3],D=m[C],L=m[C+1],F=m[C+2],O==A&&N==D&&P==L&&I==F)continue;if(O<220&&A>20)return!1}return!0}return{decode:function(f){const p=new Uint8Array(f);let m=8;const g=t,y=g.readUshort,w=g.readUint,b={tabs:{},frames:[]},x=new Uint8Array(p.length);let E,S=0,k=0;const C=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(p[O]!=C[O])throw"The input is not a PNG file!";for(;m<p.length;){const q=g.readUint(p,m);m+=4;const M=g.readASCII(p,m,4);if(m+=4,M=="IHDR")l(p,m,b);else if(M=="iCCP"){for(var N=m;p[N]!=0;)N++;g.readASCII(p,m,N-m),p[N+1];const B=p.slice(N+2,m+q);let Y=null;try{Y=r(B)}catch{Y=i(B)}b.tabs[M]=Y}else if(M=="CgBI")b.tabs[M]=p.slice(m,m+4);else if(M=="IDAT"){for(O=0;O<q;O++)x[S+O]=p[m+O];S+=q}else if(M=="acTL")b.tabs[M]={num_frames:w(p,m),num_plays:w(p,m+4)},E=new Uint8Array(p.length);else if(M=="fcTL"){k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height),k=0);const B={x:w(p,m+12),y:w(p,m+16),width:w(p,m+4),height:w(p,m+8)};let Y=y(p,m+22);Y=y(p,m+20)/(Y==0?100:Y);const H={rect:B,delay:Math.round(1e3*Y),dispose:p[m+24],blend:p[m+25]};b.frames.push(H)}else if(M=="fdAT"){for(O=0;O<q-4;O++)E[k+O]=p[m+O+4];k+=q-4}else if(M=="pHYs")b.tabs[M]=[g.readUint(p,m),g.readUint(p,m+4),p[m+8]];else if(M=="cHRM")for(b.tabs[M]=[],O=0;O<8;O++)b.tabs[M].push(g.readUint(p,m+4*O));else if(M=="tEXt"||M=="zTXt"){b.tabs[M]==null&&(b.tabs[M]={});var P=g.nextZero(p,m),I=g.readASCII(p,m,P-m),A=m+q-P-1;if(M=="tEXt")L=g.readASCII(p,P+1,A);else{var D=r(p.slice(P+2,P+2+A));L=g.readUTF8(D,0,D.length)}b.tabs[M][I]=L}else if(M=="iTXt"){b.tabs[M]==null&&(b.tabs[M]={}),P=0,N=m,P=g.nextZero(p,N),I=g.readASCII(p,N,P-N);const B=p[N=P+1];var L;p[N+1],N+=2,P=g.nextZero(p,N),g.readASCII(p,N,P-N),N=P+1,P=g.nextZero(p,N),g.readUTF8(p,N,P-N),A=q-((N=P+1)-m),B==0?L=g.readUTF8(p,N,A):(D=r(p.slice(N,N+A)),L=g.readUTF8(D,0,D.length)),b.tabs[M][I]=L}else if(M=="PLTE")b.tabs[M]=g.readBytes(p,m,q);else if(M=="hIST"){const B=b.tabs.PLTE.length/3;for(b.tabs[M]=[],O=0;O<B;O++)b.tabs[M].push(y(p,m+2*O))}else if(M=="tRNS")b.ctype==3?b.tabs[M]=g.readBytes(p,m,q):b.ctype==0?b.tabs[M]=y(p,m):b.ctype==2&&(b.tabs[M]=[y(p,m),y(p,m+2),y(p,m+4)]);else if(M=="gAMA")b.tabs[M]=g.readUint(p,m)/1e5;else if(M=="sRGB")b.tabs[M]=p[m];else if(M=="bKGD")b.ctype==0||b.ctype==4?b.tabs[M]=[y(p,m)]:b.ctype==2||b.ctype==6?b.tabs[M]=[y(p,m),y(p,m+2),y(p,m+4)]:b.ctype==3&&(b.tabs[M]=p[m]);else if(M=="IEND")break;m+=q,g.readUint(p,m),m+=4}var F;return k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height)),b.data=n(b,x,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(f){const p=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,p,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=p*m*4,w=new Uint8Array(y),b=new Uint8Array(y),x=new Uint8Array(y);for(let S=0;S<f.frames.length;S++){const k=f.frames[S],C=k.rect.x,O=k.rect.y,N=k.rect.width,P=k.rect.height,I=e(k.data,N,P,f);if(S!=0)for(var E=0;E<y;E++)x[E]=w[E];if(k.blend==0?h(I,N,P,w,p,m,C,O,0):k.blend==1&&h(I,N,P,w,p,m,C,O,1),g.push(w.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)h(b,N,P,w,p,m,C,O,0);else if(k.dispose==2)for(E=0;E<y;E++)w[E]=x[E]}}return g},_paeth:a,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=Vi,{_bin:e}=Vi,n=Vi._paeth;var r={table:function(){const N=new Uint32Array(256);for(let P=0;P<256;P++){let I=P;for(let A=0;A<8;A++)1&I?I=3988292384^I>>>1:I>>>=1;N[P]=I}return N}(),update(N,P,I,A){for(let D=0;D<A;D++)N=r.table[255&(N^P[I+D])]^N>>>8;return N},crc:(N,P,I)=>4294967295^r.update(4294967295,N,P,I)};function i(N,P,I,A){P[I]+=N[0]*A>>4,P[I+1]+=N[1]*A>>4,P[I+2]+=N[2]*A>>4,P[I+3]+=N[3]*A>>4}function s(N){return Math.max(0,Math.min(255,N))}function o(N,P){const I=N[0]-P[0],A=N[1]-P[1],D=N[2]-P[2],L=N[3]-P[3];return I*I+A*A+D*D+L*L}function a(N,P,I,A,D,L,F){F==null&&(F=1);const q=A.length,M=[];for(var B=0;B<q;B++){const X=A[B];M.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(B=0;B<q;B++){let X=4294967295;for(var Y=0,H=0;H<q;H++){var j=o(M[B],M[H]);H!=B&&j<X&&(X=j,Y=H)}}const U=new Uint32Array(D.buffer),V=new Int16Array(P*I*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<z.length;B++)z[B]=255*((z[B]+.5)/16-.5);for(let X=0;X<I;X++)for(let W=0;W<P;W++){var Q;B=4*(X*P+W),F!=2?Q=[s(N[B]+V[B]),s(N[B+1]+V[B+1]),s(N[B+2]+V[B+2]),s(N[B+3]+V[B+3])]:(j=z[4*(3&X)+(3&W)],Q=[s(N[B]+j),s(N[B+1]+j),s(N[B+2]+j),s(N[B+3]+j)]),Y=0;let J=16777215;for(H=0;H<q;H++){const le=o(Q,M[H]);le<J&&(J=le,Y=H)}const Z=M[Y],te=[Q[0]-Z[0],Q[1]-Z[1],Q[2]-Z[2],Q[3]-Z[3]];F==1&&(W!=P-1&&i(te,V,B+4,7),X!=I-1&&(W!=0&&i(te,V,B+4*P-4,3),i(te,V,B+4*P,5),W!=P-1&&i(te,V,B+4*P+4,1))),L[B>>2]=Y,U[B>>2]=A[Y]}}function l(N,P,I,A,D){D==null&&(D={});const{crc:L}=r,F=e.writeUint,q=e.writeUshort,M=e.writeASCII;let B=8;const Y=N.frames.length>1;let H,j=!1,U=33+(Y?20:0);if(D.sRGB!=null&&(U+=13),D.pHYs!=null&&(U+=21),D.iCCP!=null&&(H=pako.deflate(D.iCCP),U+=21+H.length+4),N.ctype==3){for(var V=N.plte.length,z=0;z<V;z++)N.plte[z]>>>24!=255&&(j=!0);U+=8+3*V+4+(j?8+1*V+4:0)}for(var Q=0;Q<N.frames.length;Q++)Y&&(U+=38),U+=(Z=N.frames[Q]).cimg.length+12,Q!=0&&(U+=4);U+=12;const X=new Uint8Array(U),W=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)X[z]=W[z];if(F(X,B,13),B+=4,M(X,B,"IHDR"),B+=4,F(X,B,P),B+=4,F(X,B,I),B+=4,X[B]=N.depth,B++,X[B]=N.ctype,B++,X[B]=0,B++,X[B]=0,B++,X[B]=0,B++,F(X,B,L(X,B-17,17)),B+=4,D.sRGB!=null&&(F(X,B,1),B+=4,M(X,B,"sRGB"),B+=4,X[B]=D.sRGB,B++,F(X,B,L(X,B-5,5)),B+=4),D.iCCP!=null){const te=13+H.length;F(X,B,te),B+=4,M(X,B,"iCCP"),B+=4,M(X,B,"ICC profile"),B+=11,B+=2,X.set(H,B),B+=H.length,F(X,B,L(X,B-(te+4),te+4)),B+=4}if(D.pHYs!=null&&(F(X,B,9),B+=4,M(X,B,"pHYs"),B+=4,F(X,B,D.pHYs[0]),B+=4,F(X,B,D.pHYs[1]),B+=4,X[B]=D.pHYs[2],B++,F(X,B,L(X,B-13,13)),B+=4),Y&&(F(X,B,8),B+=4,M(X,B,"acTL"),B+=4,F(X,B,N.frames.length),B+=4,F(X,B,D.loop!=null?D.loop:0),B+=4,F(X,B,L(X,B-12,12)),B+=4),N.ctype==3){for(F(X,B,3*(V=N.plte.length)),B+=4,M(X,B,"PLTE"),B+=4,z=0;z<V;z++){const te=3*z,le=N.plte[z],pe=255&le,ge=le>>>8&255,Ce=le>>>16&255;X[B+te+0]=pe,X[B+te+1]=ge,X[B+te+2]=Ce}if(B+=3*V,F(X,B,L(X,B-3*V-4,3*V+4)),B+=4,j){for(F(X,B,V),B+=4,M(X,B,"tRNS"),B+=4,z=0;z<V;z++)X[B+z]=N.plte[z]>>>24&255;B+=V,F(X,B,L(X,B-V-4,V+4)),B+=4}}let J=0;for(Q=0;Q<N.frames.length;Q++){var Z=N.frames[Q];Y&&(F(X,B,26),B+=4,M(X,B,"fcTL"),B+=4,F(X,B,J++),B+=4,F(X,B,Z.rect.width),B+=4,F(X,B,Z.rect.height),B+=4,F(X,B,Z.rect.x),B+=4,F(X,B,Z.rect.y),B+=4,q(X,B,A[Q]),B+=2,q(X,B,1e3),B+=2,X[B]=Z.dispose,B++,X[B]=Z.blend,B++,F(X,B,L(X,B-30,30)),B+=4);const te=Z.cimg;F(X,B,(V=te.length)+(Q==0?0:4)),B+=4;const le=B;M(X,B,Q==0?"IDAT":"fdAT"),B+=4,Q!=0&&(F(X,B,J++),B+=4),X.set(te,B),B+=V,F(X,B,L(X,le,B-le)),B+=4}return F(X,B,0),B+=4,M(X,B,"IEND"),B+=4,F(X,B,L(X,B-4,4)),B+=4,X.buffer}function h(N,P,I){for(let A=0;A<N.frames.length;A++){const D=N.frames[A];D.rect.width;const L=D.rect.height,F=new Uint8Array(L*D.bpl+L);D.cimg=m(D.img,L,D.bpp,D.bpl,F,P,I)}}function c(N,P,I,A,D){const L=D[0],F=D[1],q=D[2],M=D[3],B=D[4],Y=D[5];let H=6,j=8,U=255;for(var V=0;V<N.length;V++){const nt=new Uint8Array(N[V]);for(var z=nt.length,Q=0;Q<z;Q+=4)U&=nt[Q+3]}const X=U!=255,W=function(Qe,ce,fe,we,xe,he){const Be=[];for(var Ie=0;Ie<Qe.length;Ie++){const ft=new Uint8Array(Qe[Ie]),Ht=new Uint32Array(ft.buffer);var Ye;let Zn=0,Hr=0,Dr=ce,oe=fe,ie=we?1:0;if(Ie!=0){const be=he||we||Ie==1||Be[Ie-2].dispose!=0?1:2;let ke=0,Te=1e9;for(let Oe=0;Oe<be;Oe++){var Yt=new Uint8Array(Qe[Ie-1-Oe]);const Ge=new Uint32Array(Qe[Ie-1-Oe]);let Ue=ce,He=fe,rt=-1,Et=-1;for(let jt=0;jt<fe;jt++)for(let cn=0;cn<ce;cn++)Ht[it=jt*ce+cn]!=Ge[it]&&(cn<Ue&&(Ue=cn),cn>rt&&(rt=cn),jt<He&&(He=jt),jt>Et&&(Et=jt));rt==-1&&(Ue=He=rt=Et=0),xe&&((1&Ue)==1&&Ue--,(1&He)==1&&He--);const Dn=(rt-Ue+1)*(Et-He+1);Dn<Te&&(Te=Dn,ke=Oe,Zn=Ue,Hr=He,Dr=rt-Ue+1,oe=Et-He+1)}Yt=new Uint8Array(Qe[Ie-1-ke]),ke==1&&(Be[Ie-1].dispose=2),Ye=new Uint8Array(Dr*oe*4),t(Yt,ce,fe,Ye,Dr,oe,-Zn,-Hr,0),ie=t(ft,ce,fe,Ye,Dr,oe,-Zn,-Hr,3)?1:0,ie==1?p(ft,ce,fe,Ye,{x:Zn,y:Hr,width:Dr,height:oe}):t(ft,ce,fe,Ye,Dr,oe,-Zn,-Hr,0)}else Ye=ft.slice(0);Be.push({rect:{x:Zn,y:Hr,width:Dr,height:oe},img:Ye,blend:ie,dispose:0})}if(we)for(Ie=0;Ie<Be.length;Ie++){if((qr=Be[Ie]).blend==1)continue;const ft=qr.rect,Ht=Be[Ie-1].rect,Zn=Math.min(ft.x,Ht.x),Hr=Math.min(ft.y,Ht.y),Dr={x:Zn,y:Hr,width:Math.max(ft.x+ft.width,Ht.x+Ht.width)-Zn,height:Math.max(ft.y+ft.height,Ht.y+Ht.height)-Hr};Be[Ie-1].dispose=1,Ie-1!=0&&f(Qe,ce,fe,Be,Ie-1,Dr,xe),f(Qe,ce,fe,Be,Ie,Dr,xe)}let An=0;if(Qe.length!=1)for(var it=0;it<Be.length;it++){var qr;An+=(qr=Be[it]).rect.width*qr.rect.height}return Be}(N,P,I,L,F,q),J={},Z=[],te=[];if(A!=0){const nt=[];for(Q=0;Q<W.length;Q++)nt.push(W[Q].img.buffer);const Qe=function(xe){let he=0;for(var Be=0;Be<xe.length;Be++)he+=xe[Be].byteLength;const Ie=new Uint8Array(he);let Ye=0;for(Be=0;Be<xe.length;Be++){const Yt=new Uint8Array(xe[Be]),An=Yt.length;for(let it=0;it<An;it+=4){let qr=Yt[it],ft=Yt[it+1],Ht=Yt[it+2];const Zn=Yt[it+3];Zn==0&&(qr=ft=Ht=0),Ie[Ye+it]=qr,Ie[Ye+it+1]=ft,Ie[Ye+it+2]=Ht,Ie[Ye+it+3]=Zn}Ye+=An}return Ie.buffer}(nt),ce=y(Qe,A);for(Q=0;Q<ce.plte.length;Q++)Z.push(ce.plte[Q].est.rgba);let fe=0;for(Q=0;Q<W.length;Q++){const we=(pe=W[Q]).img.length;var le=new Uint8Array(ce.inds.buffer,fe>>2,we>>2);te.push(le);const xe=new Uint8Array(ce.abuf,fe,we);Y&&a(pe.img,pe.rect.width,pe.rect.height,Z,xe,le),pe.img.set(xe),fe+=we}}else for(V=0;V<W.length;V++){var pe=W[V];const nt=new Uint32Array(pe.img.buffer);var ge=pe.rect.width;for(z=nt.length,le=new Uint8Array(z),te.push(le),Q=0;Q<z;Q++){const Qe=nt[Q];if(Q!=0&&Qe==nt[Q-1])le[Q]=le[Q-1];else if(Q>ge&&Qe==nt[Q-ge])le[Q]=le[Q-ge];else{let ce=J[Qe];if(ce==null&&(J[Qe]=ce=Z.length,Z.push(Qe),Z.length>=300))break;le[Q]=ce}}}const Ce=Z.length;for(Ce<=256&&B==0&&(j=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,j=Math.max(j,M)),V=0;V<W.length;V++){(pe=W[V]).rect.x,pe.rect.y,ge=pe.rect.width;const nt=pe.rect.height;let Qe=pe.img;new Uint32Array(Qe.buffer);let ce=4*ge,fe=4;if(Ce<=256&&B==0){ce=Math.ceil(j*ge/8);var $e=new Uint8Array(ce*nt);const we=te[V];for(let xe=0;xe<nt;xe++){Q=xe*ce;const he=xe*ge;if(j==8)for(var De=0;De<ge;De++)$e[Q+De]=we[he+De];else if(j==4)for(De=0;De<ge;De++)$e[Q+(De>>1)]|=we[he+De]<<4-4*(1&De);else if(j==2)for(De=0;De<ge;De++)$e[Q+(De>>2)]|=we[he+De]<<6-2*(3&De);else if(j==1)for(De=0;De<ge;De++)$e[Q+(De>>3)]|=we[he+De]<<7-1*(7&De)}Qe=$e,H=3,fe=1}else if(X==0&&W.length==1){$e=new Uint8Array(ge*nt*3);const we=ge*nt;for(Q=0;Q<we;Q++){const xe=3*Q,he=4*Q;$e[xe]=Qe[he],$e[xe+1]=Qe[he+1],$e[xe+2]=Qe[he+2]}Qe=$e,H=2,fe=3,ce=3*ge}pe.img=Qe,pe.bpl=ce,pe.bpp=fe}return{ctype:H,depth:j,plte:Z,frames:W}}function f(N,P,I,A,D,L,F){const q=Uint8Array,M=Uint32Array,B=new q(N[D-1]),Y=new M(N[D-1]),H=D+1<N.length?new q(N[D+1]):null,j=new q(N[D]),U=new M(j.buffer);let V=P,z=I,Q=-1,X=-1;for(let J=0;J<L.height;J++)for(let Z=0;Z<L.width;Z++){const te=L.x+Z,le=L.y+J,pe=le*P+te,ge=U[pe];ge==0||A[D-1].dispose==0&&Y[pe]==ge&&(H==null||H[4*pe+3]!=0)||(te<V&&(V=te),te>Q&&(Q=te),le<z&&(z=le),le>X&&(X=le))}Q==-1&&(V=z=Q=X=0),F&&((1&V)==1&&V--,(1&z)==1&&z--),L={x:V,y:z,width:Q-V+1,height:X-z+1};const W=A[D];W.rect=L,W.blend=1,W.img=new Uint8Array(L.width*L.height*4),A[D-1].dispose==0?(t(B,P,I,W.img,L.width,L.height,-L.x,-L.y,0),p(j,P,I,W.img,L)):t(j,P,I,W.img,L.width,L.height,-L.x,-L.y,0)}function p(N,P,I,A,D){t(N,P,I,A,D.width,D.height,-D.x,-D.y,2)}function m(N,P,I,A,D,L,F){const q=[];let M,B=[0,1,2,3,4];L!=-1?B=[L]:(P*A>5e5||I==1)&&(B=[0]),F&&(M={level:0});const Y=Lse;for(var H=0;H<B.length;H++){for(let V=0;V<P;V++)g(D,N,V,A,I,B[H]);q.push(Y.deflate(D,M))}let j,U=1e9;for(H=0;H<q.length;H++)q[H].length<U&&(j=H,U=q[H].length);return q[j]}function g(N,P,I,A,D,L){const F=I*A;let q=F+I;if(N[q]=L,q++,L==0)if(A<500)for(var M=0;M<A;M++)N[q+M]=P[F+M];else N.set(new Uint8Array(P.buffer,F,A),q);else if(L==1){for(M=0;M<D;M++)N[q+M]=P[F+M];for(M=D;M<A;M++)N[q+M]=P[F+M]-P[F+M-D]+256&255}else if(I==0){for(M=0;M<D;M++)N[q+M]=P[F+M];if(L==2)for(M=D;M<A;M++)N[q+M]=P[F+M];if(L==3)for(M=D;M<A;M++)N[q+M]=P[F+M]-(P[F+M-D]>>1)+256&255;if(L==4)for(M=D;M<A;M++)N[q+M]=P[F+M]-n(P[F+M-D],0,0)+256&255}else{if(L==2)for(M=0;M<A;M++)N[q+M]=P[F+M]+256-P[F+M-A]&255;if(L==3){for(M=0;M<D;M++)N[q+M]=P[F+M]+256-(P[F+M-A]>>1)&255;for(M=D;M<A;M++)N[q+M]=P[F+M]+256-(P[F+M-A]+P[F+M-D]>>1)&255}if(L==4){for(M=0;M<D;M++)N[q+M]=P[F+M]+256-n(0,P[F+M-A],0)&255;for(M=D;M<A;M++)N[q+M]=P[F+M]+256-n(P[F+M-D],P[F+M-A],P[F+M-D-A])&255}}}function y(N,P){const I=new Uint8Array(N),A=I.slice(0),D=new Uint32Array(A.buffer),L=w(A,P),F=L[0],q=L[1],M=I.length,B=new Uint8Array(M>>2);let Y;if(I.length<2e7)for(var H=0;H<M;H+=4)Y=b(F,j=I[H]*(1/255),U=I[H+1]*(1/255),V=I[H+2]*(1/255),z=I[H+3]*(1/255)),B[H>>2]=Y.ind,D[H>>2]=Y.est.rgba;else for(H=0;H<M;H+=4){var j=I[H]*.00392156862745098,U=I[H+1]*(1/255),V=I[H+2]*(1/255),z=I[H+3]*(1/255);for(Y=F;Y.left;)Y=x(Y.est,j,U,V,z)<=0?Y.left:Y.right;B[H>>2]=Y.ind,D[H>>2]=Y.est.rgba}return{abuf:A.buffer,inds:B,plte:q}}function w(N,P,I){I==null&&(I=1e-4);const A=new Uint32Array(N.buffer),D={i0:0,i1:N.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=k(N,D.i0,D.i1),D.est=C(D.bst);const L=[D];for(;L.length<P;){let q=0,M=0;for(var F=0;F<L.length;F++)L[F].est.L>q&&(q=L[F].est.L,M=F);if(q<I)break;const B=L[M],Y=E(N,A,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=Y||B.i1<=Y){B.est.L=0;continue}const H={i0:B.i0,i1:Y,bst:null,est:null,tdst:0,left:null,right:null};H.bst=k(N,H.i0,H.i1),H.est=C(H.bst);const j={i0:Y,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:B.bst.N-H.bst.N},F=0;F<16;F++)j.bst.R[F]=B.bst.R[F]-H.bst.R[F];for(F=0;F<4;F++)j.bst.m[F]=B.bst.m[F]-H.bst.m[F];j.est=C(j.bst),B.left=H,B.right=j,L[M]=H,L.push(j)}for(L.sort((q,M)=>M.bst.N-q.bst.N),F=0;F<L.length;F++)L[F].ind=F;return[D,L]}function b(N,P,I,A,D){if(N.left==null)return N.tdst=function(H,j,U,V,z){const Q=j-H[0],X=U-H[1],W=V-H[2],J=z-H[3];return Q*Q+X*X+W*W+J*J}(N.est.q,P,I,A,D),N;const L=x(N.est,P,I,A,D);let F=N.left,q=N.right;L>0&&(F=N.right,q=N.left);const M=b(F,P,I,A,D);if(M.tdst<=L*L)return M;const B=b(q,P,I,A,D);return B.tdst<M.tdst?B:M}function x(N,P,I,A,D){const{e:L}=N;return L[0]*P+L[1]*I+L[2]*A+L[3]*D-N.eMq}function E(N,P,I,A,D,L){for(A-=4;I<A;){for(;S(N,I,D)<=L;)I+=4;for(;S(N,A,D)>L;)A-=4;if(I>=A)break;const F=P[I>>2];P[I>>2]=P[A>>2],P[A>>2]=F,I+=4,A-=4}for(;S(N,I,D)>L;)I-=4;return I+4}function S(N,P,I){return N[P]*I[0]+N[P+1]*I[1]+N[P+2]*I[2]+N[P+3]*I[3]}function k(N,P,I){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],L=I-P>>2;for(let F=P;F<I;F+=4){const q=N[F]*.00392156862745098,M=N[F+1]*(1/255),B=N[F+2]*(1/255),Y=N[F+3]*(1/255);D[0]+=q,D[1]+=M,D[2]+=B,D[3]+=Y,A[0]+=q*q,A[1]+=q*M,A[2]+=q*B,A[3]+=q*Y,A[5]+=M*M,A[6]+=M*B,A[7]+=M*Y,A[10]+=B*B,A[11]+=B*Y,A[15]+=Y*Y}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:D,N:L}}function C(N){const{R:P}=N,{m:I}=N,{N:A}=N,D=I[0],L=I[1],F=I[2],q=I[3],M=A==0?0:1/A,B=[P[0]-D*D*M,P[1]-D*L*M,P[2]-D*F*M,P[3]-D*q*M,P[4]-L*D*M,P[5]-L*L*M,P[6]-L*F*M,P[7]-L*q*M,P[8]-F*D*M,P[9]-F*L*M,P[10]-F*F*M,P[11]-F*q*M,P[12]-q*D*M,P[13]-q*L*M,P[14]-q*F*M,P[15]-q*q*M],Y=B,H=O;let j=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,V=0;if(A!=0)for(let Q=0;Q<16&&(j=H.multVec(Y,j),V=Math.sqrt(H.dot(j,j)),j=H.sml(1/V,j),!(Q!=0&&Math.abs(V-U)<1e-9));Q++)U=V;const z=[D*M,L*M,F*M,q*M];return{Cov:B,q:z,e:j,L:U,eMq255:H.dot(H.sml(255,z),j),eMq:H.dot(j,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(N,P)=>[N[0]*P[0]+N[1]*P[1]+N[2]*P[2]+N[3]*P[3],N[4]*P[0]+N[5]*P[1]+N[6]*P[2]+N[7]*P[3],N[8]*P[0]+N[9]*P[1]+N[10]*P[2]+N[11]*P[3],N[12]*P[0]+N[13]*P[1]+N[14]*P[2]+N[15]*P[3]],dot:(N,P)=>N[0]*P[0]+N[1]*P[1]+N[2]*P[2]+N[3]*P[3],sml:(N,P)=>[N*P[0],N*P[1],N*P[2],N*P[3]]};Vi.encode=function(P,I,A,D,L,F,q){D==null&&(D=0),q==null&&(q=!1);const M=c(P,I,A,D,[!1,!1,!1,0,q,!1]);return h(M,-1),l(M,I,A,L,F)},Vi.encodeLL=function(P,I,A,D,L,F,q,M){const B={ctype:0+(D==1?0:2)+(L==0?0:4),depth:F,frames:[]},Y=(D+L)*F,H=Y*I;for(let j=0;j<P.length;j++)B.frames.push({rect:{x:0,y:0,width:I,height:A},img:new Uint8Array(P[j]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(H/8)});return h(B,0,!0),l(B,I,A,q,M)},Vi.encode.compress=c,Vi.encode.dither=a,Vi.quantize=y,Vi.quantize.getKDtree=w,Vi.quantize.getNearest=b})();const K3={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,h=122+l,c=new ArrayBuffer(h),f=new DataView(c),p=1<<20;let m,g,y,w,b=p,x=0,E=0,S=0;function k(N){f.setUint16(E,N,!0),E+=2}function C(N){f.setUint32(E,N,!0),E+=4}function O(N){E+=N}k(19778),C(h),O(4),C(122),C(108),C(n),C(-r>>>0),k(1),k(32),C(3),C(l),C(2835),C(2835),O(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function N(){for(;x<r&&b>0;){for(w=122+x*a,m=0;m<i;)b--,g=o[S++],y=g>>>24,f.setUint32(w+m,g<<8|y),m+=4;x++}S<o.length?(b=p,setTimeout(N,K3._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Jr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},jse={[Jr.CHROME]:16384,[Jr.FIREFOX]:11180,[Jr.DESKTOP_SAFARI]:16384,[Jr.IE]:8192,[Jr.IOS]:4096,[Jr.ETC]:8192};const $E=typeof window<"u",Q3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Pm=$E&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Fse=($E||Q3)&&(Pm&&Pm.getOriginalSymbol(window,"File")||typeof File<"u"&&File),X3=($E||Q3)&&(Pm&&Pm.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function BE(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const h=new Blob([l],{type:s});h.name=e,h.lastModified=n,r(h)})}function J3(t){return new Promise((e,n)=>{const r=new X3;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Z3(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ba(){if(Ba.cachedResult!==void 0)return Ba.cachedResult;let t=Jr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Jr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Jr.IOS:/Safari/i.test(e)?t=Jr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Jr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Jr.IE),Ba.cachedResult=t,Ba.cachedResult}function e5(t,e){const n=Ba(),r=jse[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,h=(r+s)/2;l<h?(s=h,i=h*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function Ev(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function t5(t,e){const{width:n,height:r}=e5(t.width,t.height),[i,s]=Ev(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Fp(){return Fp.cachedResult!==void 0||(Fp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Fp.cachedResult}function Rm(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=t5(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var h=function(c){try{throw c}catch(f){return r(f)}};try{let c;return J3(t).then(function(f){try{return c=f,Z3(c).then(function(p){try{return i=p,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return h(m)}},h)}catch(p){return h(p)}},h)}catch(c){h(c)}}catch(c){return r(c)}};try{if(Fp()||[Jr.DESKTOP_SAFARI,Jr.MOBILE_SAFARI].includes(Ba()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Mm(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,p,m;return f=t.getContext("2d"),{data:p}=f.getImageData(0,0,t.width,t.height),m=Vi.encode([p.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var h=f;if(e==="image/bmp")return new Promise(p=>K3.toBlob(t,p)).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p=function(){return f.call(this)};var c=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,p.call(this)}catch(g){return o(g)}}).bind(this),o);{let m;return m=t.toDataURL(e,i),BE(m,n,r).then((function(g){try{return a=g,p.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function as(t){t.width=0,t.height=0}function ou(){return new Promise(function(t,e){let n,r,i,s;return ou.cachedResult!==void 0?t(ou.cachedResult):BE("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Rm(n).then(function(a){try{return r=a[1],Mm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,as(r),Rm(i).then(function(h){try{return s=h[0],ou.cachedResult=s.width===1&&s.height===2,t(ou.cachedResult)}catch(c){return e(c)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function n5(t){return new Promise((e,n)=>{const r=new X3;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const h=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,h);const c=s.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(s.getUint16(a+12*f,h)==274)return e(s.getUint16(a+12*f+8,h))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function r5(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=Ev(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),as(t)),o}function i5(t,e){const{width:n}=t,{height:r}=t,[i,s]=Ev(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),as(t),i}function aI(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,h,c,f,p,m,g,y,w,b,x,E,S,k,C,O,N;function P(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function I(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,P(),Rm(t,e).then((function(A){try{return[,l]=A,P(),h=r5(l,e),P(),new Promise(function(D,L){var F;if(!(F=e.exifOrientation))return n5(t).then((function(M){try{return F=M,q.call(this)}catch(B){return L(B)}}).bind(this),L);function q(){return D(F)}return q.call(this)}).then((function(D){try{return c=D,P(),ou().then((function(L){try{return f=L?h:i5(h,c),P(),p=e.initialQuality||1,m=e.fileType||t.type,Mm(f,m,t.name,t.lastModified,p).then((function(F){try{{let Y=function(){if(o--&&(E>a||E>b)){let j,U;return j=N?.95*O.width:O.width,U=N?.95*O.height:O.height,[k,C]=Ev(j,U),C.drawImage(O,0,0,j,U),p*=m==="image/png"?.85:.95,Mm(k,m,t.name,t.lastModified,p).then(function(V){try{return S=V,as(O),O=k,E=S.size,I(Math.min(99,Math.floor((x-E)/(x-a)*100))),Y}catch(z){return i(z)}},i)}return[1]},H=function(){return as(O),as(k),as(h),as(f),as(l),I(100),r(S)};var M=Y,B=H;if(g=F,P(),y=g.size>a,w=g.size>t.size,!y&&!w)return I(100),r(g);var q;return b=t.size,x=g.size,E=x,O=f,N=!e.alwaysKeepResolution&&y,(q=(function(j){for(;j;){if(j.then)return void j.then(q,i);try{if(j.pop){if(j.length)return j.pop()?H.call(this):j;j=Y}else j=j.call(this)}catch(U){return i(U)}}}).bind(this))(Y)}}catch(Y){return i(Y)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)})}const $se=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ob;function Bse(t,e){return new Promise((n,r)=>{Ob||(Ob=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}($se));const i=new Worker(Ob);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function rr(t,e){return new Promise(function(n,r){let i,s,o,a,l,h;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof Fse))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||h)return aI(t,i).then((function(m){try{return s=m,p.call(this)}catch(g){return r(g)}}).bind(this),r);var c=(function(){try{return p.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return aI(t,i).then(function(g){try{return s=g,c()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Bse(t,i).then(function(m){try{return s=m,c()}catch{return f()}},f)}catch{f()}function p(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=G3(t,s))}catch{}return n(s)}})}rr.getDataUrlFromFile=J3,rr.getFilefromDataUrl=BE,rr.loadImage=Z3,rr.drawImageInCanvas=t5,rr.drawFileInCanvas=Rm,rr.canvasToFile=Mm,rr.getExifOrientation=n5,rr.handleMaxWidthOrHeight=r5,rr.followExifOrientation=i5,rr.cleanupCanvasMemory=as,rr.isAutoOrientationInBrowser=ou,rr.approximateBelowMaximumCanvasSizeOfBrowser=e5,rr.copyExifWithoutOrientation=G3,rr.getBrowserName=Ba,rr.version="2.0.2";function Use({onImageChange:t,className:e=""}){const n=K.useRef(null);return _.jsxs(_.Fragment,{children:[_.jsx("button",{type:"button",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},className:`absolute bottom-2 right-3 flex size-11 cursor-pointer items-center justify-center rounded-full border-0 bg-purple2 max-sm:size-8 ${e}`,children:_.jsx(Gre,{fontSize:13,className:"size-4 text-white"})}),_.jsx("input",{type:"file",style:{display:"none"},accept:"image/jpg,image/png,image/jpeg",name:"profile_img",onChange:t,ref:n})]})}const s5=({isEditing:t,setNewUserImgUrl:e,imgUrl:n})=>{const[r,i]=K.useState(!0),[s,o]=K.useState(""),a=Le(TE),l=async h=>{const{currentTarget:{files:c}}=h;if(!c||!c[0])return;const f=c[0],p=new FileReader,m={maxSizeMB:.1,useWebWorker:!0,maxWidthOrHeight:100,initialQuality:.8},g={maxSizeMB:1,useWebWorker:!0,maxWidthOrHeight:600,initialQuality:1},y=await rr(f,m),w=await rr(f,g);p.onload=b=>{const{target:{result:x}}=b;o(x)},e({compressed:y,original:f.size>1e5?w:f}),p.readAsDataURL(f),i(!1)};return _.jsxs("div",{className:"relative m-3 mx-auto flex w-fit items-center justify-center",children:[_.jsx("img",{src:r?n||a:s,alt:" ",onContextMenu:h=>h.preventDefault(),className:"size-52 min-h-52 min-w-52 rounded-full bg-white object-cover shadow-card max-sm:size-40"}),t&&_.jsx(Use,{onImageChange:l})]})},Vse=()=>{var y;const[t,e]=Wt(T3),{state:n}=Br(),{absenteeList:r}=Le(E3(wn)),{uid:i}=Le(Ct),s=Le(lo),o=s==null?void 0:s.find(w=>w.id===((n==null?void 0:n.userId)||i)),{id:a,favoriteBookField:l,userRecords:h,displayName:c,photoURL:f}=o||{},p=i===a,m=p?"":c,g=r==null?void 0:r.includes(n==null?void 0:n.userId);return K.useEffect(()=>{(t==null?void 0:t.creatorId)!==a&&a&&Xn(ll,`2024-${a}`,e)},[a]),_.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${m} `,backBtn:!p,backTo:"/bookshelf",children:p&&_.jsx(br,{to:"/setting",children:_.jsx(Qre,{fontSize:18})})}),o&&_.jsxs("main",{children:[_.jsxs(Lt,{children:[_.jsx(s5,{isEditing:!1,imgUrl:(f==null?void 0:f.original)||f}),_.jsx("span",{className:"mx-auto text-lg font-medium",children:c}),_.jsx("div",{className:"mt-3 flex flex-col items-center gap-1",children:g?_.jsx(Fn,{text:"  ",color:"red",shape:"square"}):_.jsx(Fn,{text:"  ",color:"lightGreen",shape:"square"})})]}),_.jsx(Lt,{title:`${m}   `,children:_.jsx("ul",{className:"flex min-h-14 flex-wrap gap-2",children:l&&(l==null?void 0:l.length)!==0?l.map(({id:w,name:b})=>_.jsx(Fn,{text:b,color:"lightBlue",shape:"rounded"},w)):_.jsx(rc,{size:100,className:"h-[30vh] w-full"})})}),(t==null?void 0:t.books)&&_.jsx(Lt,{title:`${m} 2024  `,children:_.jsx("ul",{className:"grid grid-cols-2 gap-4 max-sm:flex max-sm:flex-col",children:(y=t==null?void 0:t.books)==null?void 0:y.map(w=>_.jsx(Nse,{challengeBook:w,creatorId:t.creatorId,docId:`2024-${t.creatorId}`},w.title))})}),[""," "," "].map(w=>_.jsxs(Lt,{title:`${m} ${w}`,children:[_.jsx(Es,{text:"2022 6   ."}),_.jsx(kse,{userRecords:h,postType:w})]},w))]})]})};function qse({bookWithRank:t}){const{counts:e,readers:n,title:r,thumbnail:i,authors:s,publisher:o,impressionList:a}=t;return _.jsxs(Vr,{title:"  ",children:[_.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[_.jsx(un,{title:r,thumbnail:i,className:"float-left w-14"}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full font-medium",children:r}),_.jsx(Ds,{authors:s,publisher:o}),_.jsxs("div",{className:"mt-2 flex gap-1",children:[_.jsx(Fn,{text:` ${e} `,color:"yellow",shape:"rounded",className:"!px-3 !py-1 text-sm"}),_.jsx(Fn,{text:`${n} `,color:"lightBlue",shape:"rounded",className:"!px-3 !py-1 text-sm"})]})]})]}),_.jsx("h3",{className:"font-bold text-blue1",children:"  "}),_.jsx("ul",{className:"mt-2 flex flex-col gap-y-4 overflow-scroll scrollbar-hide",children:a==null?void 0:a.map(({text:l,creatorId:h,createdAt:c})=>_.jsxs("li",{className:"gap-2 border-l-4 border-gray3 pl-3",children:[_.jsxs("div",{className:"mb-2 flex justify-between",children:[_.jsx(ur,{userId:h}),_.jsx("span",{className:"text-[15px] text-gray1",children:new Date(c).toLocaleDateString()})]}),_.jsx("p",{children:l})]},l))})]})}function Hse({bookWithRank:t}){const{title:e,thumbnail:n}=t,{showModal:r}=St(),i=()=>{r({element:_.jsx(qse,{bookWithRank:t})})};return _.jsx("li",{className:"flex items-center justify-center",children:_.jsx("button",{type:"button",onClick:i,className:"relative",children:_.jsx(un,{title:e,thumbnail:n,className:"w-full"})})})}function zse({coll:t,onChallengeBookClick:e}){const[n,r]=K.useState([]);return K.useEffect(()=>{n.length===0&&Hn(t,r)},[]),_.jsx(_.Fragment,{children:n.map(({recommendedBook:i,text:s,creatorId:o})=>_.jsx("li",{children:_.jsx("button",{type:"button",className:"w-full",onClick:()=>e(i,s,o),children:_.jsx(un,{title:i.title,thumbnail:i.thumbnail})})},i.title))})}function Wse({selectedBook:t,readers:e,counts:n,reason:r,recommendedUser:i,yearMonthId:s}){const o=K.useRef(),{uid:a,displayName:l}=Le(Ct),[h,c]=K.useState(null),{anonymous:f}=ii("register");K.useEffect(()=>{Xn(ll,`${vt}-${a}`,c)},[a]);const{hideModal:p}=St(),{sendPushNotificationToAllUser:m}=Zi(),g=async E=>{E.preventDefault();try{if(o.current.value==="")return window.alert("  .");const S=h==null?void 0:h.creatorId,k=h[y],C=ln(Zt,ll,`${vt}-${a}`),O={text:o.current.value,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:a},N={[y]:{yearMonthId:"",book:{title:y,thumbnail:w,authors:b,publisher:x},counts:1,impressionList:[{id:1,...O}]}};S?await yn(C,k?{[y]:{...k,counts:k.counts+1,impressionList:[...k.impressionList,{id:k.impressionList.length+1,...O}]}}:N):await Os(C,{creatorId:a,...N}),alert("  .  !"),m({title:`${l}  !`,body:`${l} ${y}  .    !`,subPath:"/challenge"})}catch{window.alert("    .  .")}finally{p()}},{title:y,thumbnail:w,authors:b,publisher:x}=t;return _.jsx(Vr,{title:" ",children:_.jsxs("div",{className:"overflow-scroll scrollbar-hide",children:[_.jsxs("div",{className:"mb-4",children:[_.jsx(un,{title:y,thumbnail:w,className:"float-left mb-3 mr-3 w-16"}),_.jsxs("div",{children:[s&&_.jsx(Fn,{color:"purple",shape:"rounded",className:"!py-2",text:`${dt(s,"yyyy M")} `}),_.jsx("h2",{className:"mb-0.5 mt-1.5 w-full font-medium",children:y}),_.jsx(Ds,{authors:b,publisher:x}),i&&_.jsxs("div",{className:"mt-2 flex items-center",children:[_.jsx(ur,{userId:i,isLink:!1}),_.jsx("span",{className:"text-[15px]",children:" "})]}),r&&_.jsx("p",{className:"mt-2 border-l-4 border-gray3 pl-2 text-[15px]",children:r})]})]}),_.jsxs("div",{className:"mt-4 flex w-full flex-wrap gap-2",children:[_.jsx(Fn,{text:` ${e}  `,color:"lightBlue",className:"!py-1.5"}),_.jsx(Fn,{text:`  ${n} `,color:"yellow",className:"!py-1.5"})]}),_.jsxs("form",{onSubmit:g,className:"mt-5 flex flex-col gap-3",children:[_.jsx("textarea",{ref:o,placeholder:"    .",className:"min-h-32 resize-none rounded-xl border p-3 outline-none"}),_.jsx(lt,{name:"",color:"blue",type:"submit",className:"self-end",disabled:f}),f&&_.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})]})})}function Yse(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Gse(t){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Kse(t){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Qse(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function UE(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function Xse(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function VE({title:t,children:e,headerChildren:n,iconClassName:r,className:i=""}){const[s,o]=K.useState(!1),a=()=>o(l=>!l);return _.jsxs("li",{className:`h-fit list-none rounded-xl bg-white shadow-card ${i}`,children:[_.jsxs("div",{className:"flex w-full items-center pl-4",children:[n||_.jsx("h1",{className:"py-2",children:t}),_.jsx("button",{type:"button",onClick:a,className:"ml-auto px-4 py-5",children:s?_.jsx(Kse,{className:`size-3.5 text-blue3 ${r}`}):_.jsx(Gse,{className:`size-3.5 text-blue3 ${r}`})})]}),_.jsx("div",{className:`flex overflow-hidden px-4 transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${s?"max-h-[5000px]":"max-h-0"}`,children:e})]})}function o5({userRank:t}){const{creatorId:e,rank:n,rereadingBookList:r,totalRereadingCounts:i}=t;return _.jsx(VE,{className:n===1?"border-2 border-yellow-400":"",headerChildren:_.jsxs("div",{className:"flex w-full items-center gap-x-2",children:[n===1&&_.jsx(UE,{className:"mr-2 size-5 text-yellow-600"}),i!==0&&_.jsxs("span",{className:"font-RomanticGumi text-lg font-bold text-blue2",children:[n,_.jsx("span",{className:"text-sm font-bold text-gray1",children:""})]}),_.jsx(ur,{userId:e,className:"font-mediu2 ml-2"}),_.jsx(Fn,{className:"ml-auto !px-3 !py-1.5 font-GiantsInline !text-sm font-medium",text:`${r.length}`,color:"yellow"})]}),children:_.jsxs("div",{className:"-mt-2 mb-3 flex items-start gap-x-4 pt-1",children:[_.jsx("ul",{className:"w-[85px] pt-1.5",children:[{key:"  ",value:`${i}`},{key:" ",value:`${r.length}`}].map(({key:s,value:o})=>_.jsxs("li",{className:"flex items-center justify-between pb-1",children:[_.jsx("span",{className:"min-w-14 text-sm text-purple2",children:s}),_.jsx("span",{className:"min-w-fit text-sm font-semibold",children:o})]},s))}),r.length!==0&&_.jsx("div",{className:"-mx-2 flex flex-1 gap-x-2.5 overflow-scroll rounded-lg px-2.5 py-2 scrollbar-hide",children:r.map(s=>_.jsx("button",{type:"button",onClick:()=>{},children:_.jsx(un,{thumbnail:s.thumbnail,title:s.title,className:"w-12 min-w-12"})},s.title))})]})})}function a5({selectedYear:t,handleChangeYear:e,buttonClassName:n=""}){return _.jsx("ul",{className:"flex flex-wrap gap-2",children:$ne.map(r=>_.jsx("li",{children:_.jsx(lt,{color:r===t?"blue":"gray",name:`${r}`,type:"button",handleClick:()=>e(r),className:n})},r))})}function Jse(){const[t,e]=K.useState(!1),{showModal:n}=St(),{bookWithRankList:r,userRankList:i}=C3(),{selectedYear:s,setSelectedYear:o,clubBookListByYear:a}=Af(),l=K.useMemo(()=>(s===vt?VO.filter(f=>+f<=+ei):VO).map(f=>xr(`${s}-${f}`,h3)),[s]),h=(c,f,p)=>{const m=r.find(({title:g})=>g===c.title);n({element:_.jsx(Wse,{selectedBook:m||c,readers:(m==null?void 0:m.readers)||0,counts:(m==null?void 0:m.counts)||0,reason:f,recommendedUser:p,yearMonthId:c.yearMonthId})})};return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${vt}  `,backBtn:!0,backTo:"/"}),_.jsxs("main",{children:[_.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-y-3 rounded-xl bg-white p-4 shadow-card",children:[_.jsx("h4",{className:"font-GiantsInline font-semibold leading-6 text-blue2",children:"2025: Challenge"}),_.jsx("span",{className:"font-RomanticGumi font-bold text-blue1",children:"   "})]}),_.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-white p-4 shadow-card",children:[_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/dday.png",alt:"dday",className:"aspect-auto h-7 w-fit"}),_.jsxs("div",{className:"mt-1 flex flex-col items-center",children:[_.jsxs("span",{className:"font-RomanticGumi text-[28px] text-blue2",children:[+Ru(`${vt}-12-21`)>0?"+":"",Ru(`${vt}-12-21`)]}),_.jsx("span",{className:"font-RomanticGumi text-sm tracking-tighter text-gray2",children:dt(`${vt}-12-21`,"yy.M.d")})]})]})]}),r&&(r==null?void 0:r.length)>0&&_.jsx(Lt,{className:"!mb-10 !mt-16 flex",title:"      ?",children:_.jsx("ul",{className:"grid grid-cols-4 gap-4",children:r.map(c=>_.jsx(Hse,{bookWithRank:c},c.title))})}),_.jsx(Lt,{className:"!mt-10",title:"   ",children:(i==null?void 0:i.length)!==0&&_.jsxs(_.Fragment,{children:[_.jsx("ul",{className:"flex flex-col gap-y-3",children:i==null?void 0:i.slice(0,t?void 0:4).map(c=>_.jsx(o5,{userRank:c},c.creatorId))}),_.jsx("button",{type:"button",className:"mt-7 flex items-center self-center rounded-full bg-gray4 px-6 py-2 text-sm text-blue3",onClick:()=>e(c=>!c),children:t?"":""})]})}),_.jsxs(Lt,{title:" ",children:[_.jsx("p",{className:"mb-4 text-sm text-gray1",children:"        !      ?!"}),_.jsx(a5,{selectedYear:s,handleChangeYear:o,buttonClassName:"shadow-none"}),_.jsxs("ul",{className:"mt-5 grid grid-cols-10 gap-4 max-md:grid-cols-8 max-sm:grid-cols-4 max-sm:gap-4",children:[a.map(c=>_.jsx("li",{children:_.jsx("button",{type:"button",className:"w-full",onClick:()=>h(c),children:_.jsx(un,{title:c.title,thumbnail:c.thumbnail})})},c.title)),l.map(c=>_.jsx(zse,{coll:c,onChallengeBookClick:h},c))]})]})]})]})}function lI({title:t,memberList:e}){return _.jsxs("div",{className:"rounded-card bg-white shadow-card",children:[_.jsxs("h3",{className:`rounded-t-card border-b-2 border-dotted px-4 pb-3 pt-4 text-[15px] font-medium ${t.includes("")?"border-green3 text-green1":"border-red-100 text-pointCoral"}`,children:[t.includes("")?"":""," ",t]}),e.length!==0?_.jsx("ul",{className:"mt-4 flex flex-wrap items-center gap-x-4 gap-y-3 px-4 pb-4",children:e.map(n=>_.jsx("li",{children:_.jsx(ur,{userId:n,isLink:!0})},n))}):_.jsx("span",{className:"mt-4 block px-4 pb-4 text-gray2",children:"  !"})]})}function l5({time:t,place:e,className:n}){return _.jsxs("div",{className:n,children:[_.jsxs("div",{className:"mb-1 flex items-start gap-x-1",children:[_.jsx(OE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),_.jsx("span",{className:"text-[15px]",children:t?dt(t,"M d a h:mm"):"   ."})]}),_.jsxs("div",{className:"flex items-start gap-x-1",children:[_.jsx(IE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),_.jsx("span",{className:"text-[15px]",children:e||"   ."})]})]})}function u5({bookClub:t,className:e=""}){const{meeting:{place:n,time:r},book:i}=t;return _.jsxs("div",{className:`flex gap-x-4 rounded-card bg-white p-5 shadow-card ${e}`,children:[_.jsx(un,{thumbnail:i.thumbnail,title:i.title,iconName:i.title.includes("")?"MdEventAvailable":void 0,url:i.url,className:"w-28"}),_.jsxs("div",{className:"flex w-full flex-col justify-between",children:[_.jsx("h1",{className:"line-clamp-2 pr-1 text-lg font-medium leading-5",children:i.title}),i.authors&&_.jsx(Ds,{authors:i.authors,publisher:i.publisher}),_.jsx(l5,{time:r,place:n,className:"mt-3.5"})]})]})}function c5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=c5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ar(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=c5(t))&&(r&&(r+=" "),r+=e);return r}function Re(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ut(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function zi(t,e){const n=Re(t);return isNaN(e)?Ut(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Xi(t,e){const n=Re(t);if(isNaN(e))return Ut(t,NaN);if(!e)return n;const r=n.getDate(),i=Ut(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function qE(t,e){const n=+Re(t);return Ut(t,n+e)}const d5=6048e5,Zse=864e5,kv=6e4,Tv=36e5,eoe=1e3;function toe(t,e){return qE(t,e*Tv)}let noe={};function Tl(){return noe}function oo(t,e){var a,l,h,c;const n=Tl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Re(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lu(t){return oo(t,{weekStartsOn:1})}function f5(t){const e=Re(t),n=e.getFullYear(),r=Ut(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lu(r),s=Ut(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Lu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cl(t){const e=Re(t);return e.setHours(0,0,0,0),e}function Lm(t){const e=Re(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ju(t,e){const n=cl(t),r=cl(e),i=+n-Lm(n),s=+r-Lm(r);return Math.round((i-s)/Zse)}function roe(t){const e=f5(t),n=Ut(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lu(n)}function i_(t,e){return qE(t,e*kv)}function HE(t,e){const n=e*3;return Xi(t,n)}function ioe(t,e){return qE(t,e*1e3)}function jm(t,e){const n=e*7;return zi(t,n)}function Gs(t,e){return Xi(t,e*12)}function uI(t){let e;return t.forEach(function(n){const r=Re(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function cI(t){let e;return t.forEach(n=>{const r=Re(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function soe(t,e){const n=cl(t),r=cl(e);return+n==+r}function Ks(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Fm(t){if(!Ks(t)&&typeof t!="number")return!1;const e=Re(t);return!isNaN(Number(e))}function $m(t,e){const n=Re(t),r=Re(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Wa(t){const e=Re(t);return Math.trunc(e.getMonth()/3)+1}function Bm(t,e){const n=Re(t),r=Re(e),i=n.getFullYear()-r.getFullYear(),s=Wa(n)-Wa(r);return i*4+s}function Um(t,e){const n=Re(t),r=Re(e);return n.getFullYear()-r.getFullYear()}function ooe(t,e){const n=Re(t),r=Re(e),i=dI(n,r),s=Math.abs(ju(n,r));n.setDate(n.getDate()-i*s);const o=+(dI(n,r)===-i),a=i*(s-o);return a===0?0:a}function dI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function h5(t){const e=Re(t);return e.setHours(23,59,59,999),e}function p5(t){const e=Re(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function s_(t){const e=Re(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function m5(t){const e=Re(t);return e.setDate(1),e.setHours(0,0,0,0),e}function g5(t){const e=Re(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Cv(t){const e=Re(t),n=Ut(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aoe(t,e){var a,l;const n=Tl(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=Re(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const loe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uoe=(t,e,n)=>{let r;const i=loe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ab(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const coe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},doe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},foe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hoe={date:Ab({formats:coe,defaultWidth:"full"}),time:Ab({formats:doe,defaultWidth:"full"}),dateTime:Ab({formats:foe,defaultWidth:"full"})},poe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},moe=(t,e,n,r)=>poe[t];function Kc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const goe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},voe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},woe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},boe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_oe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Soe={ordinalNumber:_oe,era:Kc({values:goe,defaultWidth:"wide"}),quarter:Kc({values:voe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Kc({values:yoe,defaultWidth:"wide"}),day:Kc({values:woe,defaultWidth:"wide"}),dayPeriod:Kc({values:boe,defaultWidth:"wide",formattingValues:xoe,defaultFormattingWidth:"wide"})};function Qc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?koe(a,f=>f.test(o)):Eoe(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function Eoe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function koe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Toe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Coe=/^(\d+)(th|st|nd|rd)?/i,Noe=/\d+/i,Ooe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Aoe={any:[/^b/i,/^(a|c)/i]},Doe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ioe={any:[/1/i,/2/i,/3/i,/4/i]},Poe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Roe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Moe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Loe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},joe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Foe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$oe={ordinalNumber:Toe({matchPattern:Coe,parsePattern:Noe,valueCallback:t=>parseInt(t,10)}),era:Qc({matchPatterns:Ooe,defaultMatchWidth:"wide",parsePatterns:Aoe,defaultParseWidth:"any"}),quarter:Qc({matchPatterns:Doe,defaultMatchWidth:"wide",parsePatterns:Ioe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qc({matchPatterns:Poe,defaultMatchWidth:"wide",parsePatterns:Roe,defaultParseWidth:"any"}),day:Qc({matchPatterns:Moe,defaultMatchWidth:"wide",parsePatterns:Loe,defaultParseWidth:"any"}),dayPeriod:Qc({matchPatterns:joe,defaultMatchWidth:"any",parsePatterns:Foe,defaultParseWidth:"any"})},v5={code:"en-US",formatDistance:uoe,formatLong:hoe,formatRelative:moe,localize:Soe,match:$oe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Boe(t){const e=Re(t);return ju(e,Cv(e))+1}function zE(t){const e=Re(t),n=+Lu(e)-+roe(e);return Math.round(n/d5)+1}function WE(t,e){var c,f,p,m;const n=Re(t),r=n.getFullYear(),i=Tl(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ut(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=oo(o,e),l=Ut(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=oo(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function Uoe(t,e){var a,l,h,c;const n=Tl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=WE(t,e),s=Ut(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),oo(s,e)}function y5(t,e){const n=Re(t),r=+oo(n,e)-+Uoe(n,e);return Math.round(r/d5)+1}function Bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Mo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Bt(n+1,2)},d(t,e){return Bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Bt(t.getHours()%12||12,e.length)},H(t,e){return Bt(t.getHours(),e.length)},m(t,e){return Bt(t.getMinutes(),e.length)},s(t,e){return Bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Bt(i,e.length)}},Jl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Mo.y(t,e)},Y:function(t,e,n,r){const i=WE(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Bt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Bt(s,e.length)},R:function(t,e){const n=f5(t);return Bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Mo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=y5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Bt(i,e.length)},I:function(t,e,n){const r=zE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Mo.d(t,e)},D:function(t,e,n){const r=Boe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Jl.noon:r===0?i=Jl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Jl.evening:r>=12?i=Jl.afternoon:r>=4?i=Jl.morning:i=Jl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Mo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Mo.s(t,e)},S:function(t,e){return Mo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return pI(r);case"XXXX":case"XX":return Ra(r);case"XXXXX":case"XXX":default:return Ra(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return pI(r);case"xxxx":case"xx":return Ra(r);case"xxxxx":case"xxx":default:return Ra(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hI(r,":");case"OOOO":default:return"GMT"+Ra(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hI(r,":");case"zzzz":default:return"GMT"+Ra(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Bt(r,e.length)}};function hI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Bt(s,2)}function pI(t,e){return t%60===0?(t>0?"-":"+")+Bt(Math.abs(t)/60,2):Ra(t,e)}function Ra(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Bt(Math.trunc(r/60),2),s=Bt(r%60,2);return n+i+e+s}const mI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},w5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Voe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return mI(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",mI(r,e)).replace("{{time}}",w5(i,e))},Vm={p:w5,P:Voe},qoe=/^D+$/,Hoe=/^Y+$/,zoe=["D","DD","YY","YYYY"];function b5(t){return qoe.test(t)}function x5(t){return Hoe.test(t)}function o_(t,e,n){const r=Woe(t,e,n);if(console.warn(r),zoe.includes(t))throw new RangeError(r)}function Woe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Goe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Koe=/^'([^]*?)'?$/,Qoe=/''/g,Xoe=/[a-zA-Z]/;function gI(t,e,n){var c,f,p,m,g,y,w,b;const r=Tl(),i=(n==null?void 0:n.locale)??r.locale??v5,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Re(t);if(!Fm(a))throw new RangeError("Invalid time value");let l=e.match(Goe).map(x=>{const E=x[0];if(E==="p"||E==="P"){const S=Vm[E];return S(x,i.formatLong)}return x}).join("").match(Yoe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:Joe(x)};if(fI[E])return{isToken:!0,value:x};if(E.match(Xoe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const E=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&x5(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&b5(E))&&o_(E,e,String(t));const S=fI[E[0]];return S(a,E,i.localize,h)}).join("")}function Joe(t){const e=t.match(Koe);return e?e[1].replace(Qoe,"'"):t}function vI(t){return Re(t).getDate()}function Zoe(t){return Re(t).getDay()}function eae(t){const e=Re(t),n=e.getFullYear(),r=e.getMonth(),i=Ut(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function tae(){return Object.assign({},Tl())}function ks(t){return Re(t).getHours()}function nae(t){let n=Re(t).getDay();return n===0&&(n=7),n}function Ts(t){return Re(t).getMinutes()}function jr(t){return Re(t).getMonth()}function Qs(t){return Re(t).getSeconds()}function a_(t){return Re(t).getTime()}function yt(t){return Re(t).getFullYear()}function ia(t,e){const n=Re(t),r=Re(e);return n.getTime()>r.getTime()}function dl(t,e){const n=Re(t),r=Re(e);return+n<+r}function rae(t,e){const n=Re(t),r=Re(e);return+n==+r}function iae(t,e){const n=e instanceof Date?Ut(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const sae=10;class _5{constructor(){Me(this,"subPriority",0)}validate(e,n){return!0}}class oae extends _5{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class aae extends _5{constructor(){super(...arguments);Me(this,"priority",sae);Me(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ut(n,iae(n,Date))}}class Rt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new oae(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class lae extends Rt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ps={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nn(t,e){return t&&{value:e(t.value),rest:t.rest}}function mn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ms(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Tv+s*kv+o*eoe),rest:e.slice(n[0].length)}}function S5(t){return mn(Cn.anyDigitsSigned,t)}function Sn(t,e){switch(t){case 1:return mn(Cn.singleDigit,e);case 2:return mn(Cn.twoDigits,e);case 3:return mn(Cn.threeDigits,e);case 4:return mn(Cn.fourDigits,e);default:return mn(new RegExp("^\\d{1,"+t+"}"),e)}}function qm(t,e){switch(t){case 1:return mn(Cn.singleDigitSigned,e);case 2:return mn(Cn.twoDigitsSigned,e);case 3:return mn(Cn.threeDigitsSigned,e);case 4:return mn(Cn.fourDigitsSigned,e);default:return mn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function YE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function E5(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function k5(t){return t%400===0||t%4===0&&t%100!==0}class uae extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Nn(Sn(4,n),s);case"yo":return Nn(i.ordinalNumber(n,{unit:"year"}),s);default:return Nn(Sn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=E5(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class cae extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Nn(Sn(4,n),s);case"Yo":return Nn(i.ordinalNumber(n,{unit:"year"}),s);default:return Nn(Sn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=WE(n,s);if(i.isTwoDigitYear){const l=E5(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),oo(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),oo(n,s)}}class dae extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return qm(r==="R"?4:r.length,n)}set(n,r,i){const s=Ut(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Lu(s)}}class fae extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return qm(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class hae extends Rt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Sn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class pae extends Rt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Sn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class mae extends Rt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Nn(mn(Cn.month,n),s);case"MM":return Nn(Sn(2,n),s);case"Mo":return Nn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class gae extends Rt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Nn(mn(Cn.month,n),s);case"LL":return Nn(Sn(2,n),s);case"Lo":return Nn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function vae(t,e,n){const r=Re(t),i=y5(r,n)-e;return r.setDate(r.getDate()-i*7),r}class yae extends Rt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return mn(Cn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return oo(vae(n,i,s),s)}}function wae(t,e){const n=Re(t),r=zE(n)-e;return n.setDate(n.getDate()-r*7),n}class bae extends Rt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return mn(Cn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Lu(wae(n,i))}}const xae=[31,28,31,30,31,30,31,31,30,31,30,31],_ae=[31,29,31,30,31,30,31,31,30,31,30,31];class Sae extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return mn(Cn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Sn(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=k5(i),o=n.getMonth();return s?r>=1&&r<=_ae[o]:r>=1&&r<=xae[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Eae extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return mn(Cn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Sn(r.length,n)}}validate(n,r){const i=n.getFullYear();return k5(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function GE(t,e,n){var f,p,m,g;const r=Tl(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=Re(t),o=s.getDay(),l=(e%7+7)%7,h=7-i,c=e<0||e>6?e-(o+h)%7:(l+h)%7-(o+h)%7;return zi(s,c)}class kae extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=GE(n,i,s),n.setHours(0,0,0,0),n}}class Tae extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Nn(Sn(r.length,n),o);case"eo":return Nn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=GE(n,i,s),n.setHours(0,0,0,0),n}}class Cae extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Nn(Sn(r.length,n),o);case"co":return Nn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=GE(n,i,s),n.setHours(0,0,0,0),n}}function Nae(t,e){const n=Re(t),r=nae(n),i=e-r;return zi(n,i)}class Oae extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Sn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Nn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Nn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Nn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Nn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Nae(n,i),n.setHours(0,0,0,0),n}}class Aae extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(YE(i),0,0,0),n}}class Dae extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(YE(i),0,0,0),n}}class Iae extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(YE(i),0,0,0),n}}class Pae extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return mn(Cn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Rae extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return mn(Cn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Mae extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return mn(Cn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Lae extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return mn(Cn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class jae extends Rt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return mn(Cn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Fae extends Rt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return mn(Cn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class $ae extends Rt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Nn(Sn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Bae extends Rt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ms(ps.basicOptionalMinutes,n);case"XX":return ms(ps.basic,n);case"XXXX":return ms(ps.basicOptionalSeconds,n);case"XXXXX":return ms(ps.extendedOptionalSeconds,n);case"XXX":default:return ms(ps.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ut(n,n.getTime()-Lm(n)-i)}}class Uae extends Rt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ms(ps.basicOptionalMinutes,n);case"xx":return ms(ps.basic,n);case"xxxx":return ms(ps.basicOptionalSeconds,n);case"xxxxx":return ms(ps.extendedOptionalSeconds,n);case"xxx":default:return ms(ps.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ut(n,n.getTime()-Lm(n)-i)}}class Vae extends Rt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(n){return S5(n)}set(n,r,i){return[Ut(n,i*1e3),{timestampIsSet:!0}]}}class qae extends Rt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(n){return S5(n)}set(n,r,i){return[Ut(n,i),{timestampIsSet:!0}]}}const Hae={G:new lae,y:new uae,Y:new cae,R:new dae,u:new fae,Q:new hae,q:new pae,M:new mae,L:new gae,w:new yae,I:new bae,d:new Sae,D:new Eae,E:new kae,e:new Tae,c:new Cae,i:new Oae,a:new Aae,b:new Dae,B:new Iae,h:new Pae,H:new Rae,K:new Mae,k:new Lae,m:new jae,s:new Fae,S:new $ae,X:new Bae,x:new Uae,t:new Vae,T:new qae},zae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yae=/^'([^]*?)'?$/,Gae=/''/g,Kae=/\S/,Qae=/[a-zA-Z]/;function Db(t,e,n,r){var y,w,b,x,E,S,k,C;const i=tae(),s=(r==null?void 0:r.locale)??i.locale??v5,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((S=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((C=(k=i.locale)==null?void 0:k.options)==null?void 0:C.weekStartsOn)??0;if(e==="")return t===""?Re(n):Ut(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},h=[new aae],c=e.match(Wae).map(O=>{const N=O[0];if(N in Vm){const P=Vm[N];return P(O,s.formatLong)}return O}).join("").match(zae),f=[];for(let O of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&x5(O)&&o_(O,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&b5(O)&&o_(O,e,t);const N=O[0],P=Hae[N];if(P){const{incompatibleTokens:I}=P;if(Array.isArray(I)){const D=f.find(L=>I.includes(L.token)||L.token===N);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${O}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);f.push({token:N,fullToken:O});const A=P.run(t,O,s.match,l);if(!A)return Ut(n,NaN);h.push(A.setter),t=A.rest}else{if(N.match(Qae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(O==="''"?O="'":N==="'"&&(O=Xae(O)),t.indexOf(O)===0)t=t.slice(O.length);else return Ut(n,NaN)}}if(t.length>0&&Kae.test(t))return Ut(n,NaN);const p=h.map(O=>O.priority).sort((O,N)=>N-O).filter((O,N,P)=>P.indexOf(O)===N).map(O=>h.filter(N=>N.priority===O).sort((N,P)=>P.subPriority-N.subPriority)).map(O=>O[0]);let m=Re(n);if(isNaN(m.getTime()))return Ut(n,NaN);const g={};for(const O of p){if(!O.validate(m,l))return Ut(n,NaN);const N=O.set(m,g,l);Array.isArray(N)?(m=N[0],Object.assign(g,N[1])):m=N}return Ut(n,m)}function Xae(t){return t.match(Yae)[1].replace(Gae,"'")}function Jae(t,e){const n=Re(t),r=Re(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Zae(t,e){const n=s_(t),r=s_(e);return+n==+r}function ele(t,e){const n=Re(t),r=Re(e);return n.getFullYear()===r.getFullYear()}function Gd(t,e){const n=+Re(t),[r,i]=[+Re(e.start),+Re(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function tle(t,e){return zi(t,-1)}function nle(t,e){const r=ole(t);let i;if(r.date){const l=ale(r.date,2);i=lle(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=ule(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=cle(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),h=new Date(0);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return new Date(s+o+a)}const hp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ile=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ole(t){const e={},n=t.split(hp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],hp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(hp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=hp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ale(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function lle(t,e){if(e===null)return new Date(NaN);const n=t.match(rle);if(!n)return new Date(NaN);const r=!!n[4],i=Xc(n[1]),s=Xc(n[2])-1,o=Xc(n[3]),a=Xc(n[4]),l=Xc(n[5])-1;if(r)return mle(e,a,l)?dle(e,a,l):new Date(NaN);{const h=new Date(0);return!hle(e,s,o)||!ple(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Xc(t){return t?parseInt(t):1}function ule(t){const e=t.match(ile);if(!e)return NaN;const n=Ib(e[1]),r=Ib(e[2]),i=Ib(e[3]);return gle(n,r,i)?n*Tv+r*kv+i*1e3:NaN}function Ib(t){return t&&parseFloat(t.replace(",","."))||0}function cle(t){if(t==="Z")return 0;const e=t.match(sle);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return vle(r,i)?n*(r*Tv+i*kv):NaN}function dle(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const fle=[31,null,31,30,31,30,31,31,30,31,30,31];function T5(t){return t%400===0||t%4===0&&t%100!==0}function hle(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(fle[e]||(T5(t)?29:28))}function ple(t,e){return e>=1&&e<=(T5(t)?366:365)}function mle(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function gle(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function vle(t,e){return e>=0&&e<=59}function ui(t,e){const n=Re(t),r=n.getFullYear(),i=n.getDate(),s=Ut(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=eae(s);return n.setMonth(e,Math.min(i,o)),n}function yle(t,e){let n=Re(t);return isNaN(+n)?Ut(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ui(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function $p(t,e){const n=Re(t);return n.setHours(e),n}function Bp(t,e){const n=Re(t);return n.setMinutes(e),n}function nu(t,e){const n=Re(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return ui(n,n.getMonth()+i*3)}function Up(t,e){const n=Re(t);return n.setSeconds(e),n}function os(t,e){const n=Re(t);return isNaN(+n)?Ut(t,NaN):(n.setFullYear(e),n)}function Ya(t,e){return Xi(t,-e)}function C5(t,e){return HE(t,-1)}function yI(t,e){return jm(t,-1)}function Fu(t,e){return Gs(t,-e)}function Nv(){return typeof window<"u"}function sa(t){return N5(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function co(t){var e;return(e=(N5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function N5(t){return Nv()?t instanceof Node||t instanceof hi(t).Node:!1}function ti(t){return Nv()?t instanceof Element||t instanceof hi(t).Element:!1}function As(t){return Nv()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function wI(t){return!Nv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}function Pf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function wle(t){return["table","td","th"].includes(sa(t))}function ble(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function KE(t){const e=QE(),n=ti(t)?vi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function O5(t){let e=$u(t);for(;As(e)&&!Ov(e);){if(KE(e))return e;if(ble(e))return null;e=$u(e)}return null}function QE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ov(t){return["html","body","#document"].includes(sa(t))}function vi(t){return hi(t).getComputedStyle(t)}function Av(t){return ti(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $u(t){if(sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wI(t)&&t.host||co(t);return wI(e)?e.host:e}function A5(t){const e=$u(t);return Ov(e)?t.ownerDocument?t.ownerDocument.body:t.body:As(e)&&Pf(e)?e:A5(e)}function Kd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=A5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=hi(i);if(s){const a=xle(o);return e.concat(o,o.visualViewport||[],Pf(i)?i:[],a&&n?Kd(a):[])}return e.concat(i,Kd(i,[],n))}function xle(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Bu=Math.min,Ga=Math.max,Hm=Math.round,pp=Math.floor,oa=t=>({x:t,y:t}),_le={left:"right",right:"left",bottom:"top",top:"bottom"},Sle={start:"end",end:"start"};function Ele(t,e,n){return Ga(t,Bu(e,n))}function Dv(t,e){return typeof t=="function"?t(e):t}function Uu(t){return t.split("-")[0]}function Rf(t){return t.split("-")[1]}function kle(t){return t==="x"?"y":"x"}function XE(t){return t==="y"?"height":"width"}function JE(t){return["top","bottom"].includes(Uu(t))?"y":"x"}function ZE(t){return kle(JE(t))}function Tle(t,e,n){n===void 0&&(n=!1);const r=Rf(t),i=ZE(t),s=XE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zm(o)),[o,zm(o)]}function Cle(t){const e=zm(t);return[l_(t),e,l_(e)]}function l_(t){return t.replace(/start|end/g,e=>Sle[e])}function Nle(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Ole(t,e,n,r){const i=Rf(t);let s=Nle(Uu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(l_)))),s}function zm(t){return t.replace(/left|right|bottom|top/g,e=>_le[e])}function Ale(t){return{top:0,right:0,bottom:0,left:0,...t}}function D5(t){return typeof t!="number"?Ale(t):{top:t,right:t,bottom:t,left:t}}function Wm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bI(t,e,n){let{reference:r,floating:i}=t;const s=JE(e),o=ZE(e),a=XE(o),l=Uu(e),h=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-i.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Rf(e)){case"start":m[o]-=p*(n&&h?-1:1);break;case"end":m[o]+=p*(n&&h?-1:1);break}return m}const Dle=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=bI(h,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x,y:E,data:S,reset:k}=await b({x:c,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:h,platform:o,elements:{reference:t,floating:e}});c=x??c,f=E??f,m={...m,[w]:{...m[w],...S}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(h=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:c,y:f}=bI(h,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:i,middlewareData:m}};async function Ile(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Dv(e,t),g=D5(m),w=a[p?f==="floating"?"reference":"floating":f],b=Wm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),x=f==="floating"?{...o.floating,x:r,y:i}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Wm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:E,strategy:l}):x);return{top:(b.top-k.top+g.top)/S.y,bottom:(k.bottom-b.bottom+g.bottom)/S.y,left:(b.left-k.left+g.left)/S.x,right:(k.right-b.right+g.right)/S.x}}const Ple=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:h,padding:c=0}=Dv(t,e)||{};if(h==null)return{};const f=D5(c),p={x:n,y:r},m=ZE(i),g=XE(m),y=await o.getDimensions(h),w=m==="y",b=w?"top":"left",x=w?"bottom":"right",E=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[m]-p[m]-s.floating[g],k=p[m]-s.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let O=C?C[E]:0;(!O||!await(o.isElement==null?void 0:o.isElement(C)))&&(O=a.floating[E]||s.floating[g]);const N=S/2-k/2,P=O/2-y[g]/2-1,I=Bu(f[b],P),A=Bu(f[x],P),D=I,L=O-y[g]-A,F=O/2-y[g]/2+N,q=Ele(D,F,L),M=!l.arrow&&Rf(i)!=null&&F!==q&&s.reference[g]/2-(F<D?I:A)-y[g]/2<0,B=M?F<D?F-D:F-L:0;return{[m]:p[m]+B,data:{[m]:q,centerOffset:F-q-B,...M&&{alignmentOffset:B}},reset:M}}}),Rle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=Dv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Uu(i),x=Uu(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(h.floating)),S=p||(x||!y?[zm(a)]:Cle(a));!p&&g!=="none"&&S.push(...Ole(a,y,g,E));const k=[a,...S],C=await Ile(e,w),O=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&O.push(C[b]),f){const D=Tle(i,o,E);O.push(C[D[0]],C[D[1]])}if(N=[...N,{placement:i,overflows:O}],!O.every(D=>D<=0)){var P,I;const D=(((P=s.flip)==null?void 0:P.index)||0)+1,L=k[D];if(L)return{data:{index:D,overflows:N},reset:{placement:L}};let F=(I=N.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(m){case"bestFit":{var A;const q=(A=N.map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:A[0];q&&(F=q);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function Mle(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Uu(n),a=Rf(n),l=JE(n)==="y",h=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=Dv(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*c,y:p*h}:{x:p*h,y:m*c}}const Lle=function(t){return{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Mle(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function I5(t){const e=vi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=As(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Hm(n)!==s||Hm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ek(t){return ti(t)?t:t.contextElement}function vu(t){const e=ek(t);if(!As(e))return oa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=I5(e);let o=(s?Hm(n.width):n.width)/r,a=(s?Hm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const jle=oa(0);function P5(t){const e=hi(t);return!QE()||!e.visualViewport?jle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Fle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hi(t)?!1:e}function fl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ek(t);let o=oa(1);e&&(r?ti(r)&&(o=vu(r)):o=vu(t));const a=Fle(s,n,r)?P5(s):oa(0);let l=(i.left+a.x)/o.x,h=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const p=hi(s),m=r&&ti(r)?hi(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=vu(g),w=g.getBoundingClientRect(),b=vi(g),x=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,h*=y.y,c*=y.x,f*=y.y,l+=x,h+=E,g=hi(g).frameElement}}return Wm({width:c,height:f,x:l,y:h})}const $le=[":popover-open",":modal"];function R5(t){let e=!1,n=0,r=0;function i(s){try{e=e||t.matches(s)}catch{}}if($le.forEach(s=>{i(s)}),e){const s=O5(t);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[e,n,r]}function Ble(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=co(r),[o]=e?R5(e.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=oa(1);const h=oa(0),c=As(r);if((c||!c&&i!=="fixed")&&((sa(r)!=="body"||Pf(s))&&(a=Av(r)),As(r))){const f=fl(r);l=vu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+h.x,y:n.y*l.y-a.scrollTop*l.y+h.y}}function Ule(t){return Array.from(t.getClientRects())}function M5(t){return fl(co(t)).left+Av(t).scrollLeft}function Vle(t){const e=co(t),n=Av(t),r=t.ownerDocument.body,i=Ga(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ga(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+M5(t);const a=-n.scrollTop;return vi(r).direction==="rtl"&&(o+=Ga(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function qle(t,e){const n=hi(t),r=co(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const h=QE();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Hle(t,e){const n=fl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=As(t)?vu(t):oa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,h=r*s.y;return{width:o,height:a,x:l,y:h}}function xI(t,e,n){let r;if(e==="viewport")r=qle(t,n);else if(e==="document")r=Vle(co(t));else if(ti(e))r=Hle(e,n);else{const i=P5(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Wm(r)}function L5(t,e){const n=$u(t);return n===e||!ti(n)||Ov(n)?!1:vi(n).position==="fixed"||L5(n,e)}function zle(t,e){const n=e.get(t);if(n)return n;let r=Kd(t,[],!1).filter(a=>ti(a)&&sa(a)!=="body"),i=null;const s=vi(t).position==="fixed";let o=s?$u(t):t;for(;ti(o)&&!Ov(o);){const a=vi(o),l=KE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pf(o)&&!l&&L5(t,o))?r=r.filter(c=>c!==o):i=a,o=$u(o)}return e.set(t,r),r}function Wle(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?zle(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((h,c)=>{const f=xI(e,c,i);return h.top=Ga(f.top,h.top),h.right=Bu(f.right,h.right),h.bottom=Bu(f.bottom,h.bottom),h.left=Ga(f.left,h.left),h},xI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yle(t){const{width:e,height:n}=I5(t);return{width:e,height:n}}function Gle(t,e,n,r){const i=As(e),s=co(e),o=n==="fixed",a=fl(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const h=oa(0);if(i||!i&&!o)if((sa(e)!=="body"||Pf(s))&&(l=Av(e)),i){const y=fl(e,!0,o,e);h.x=y.x+e.clientLeft,h.y=y.y+e.clientTop}else s&&(h.x=M5(s));let c=a.left+l.scrollLeft-h.x,f=a.top+l.scrollTop-h.y;const[p,m,g]=R5(r);return p&&(c+=m,f+=g,i&&(c+=e.clientLeft,f+=e.clientTop)),{x:c,y:f,width:a.width,height:a.height}}function _I(t,e){return!As(t)||vi(t).position==="fixed"?null:e?e(t):t.offsetParent}function j5(t,e){const n=hi(t);if(!As(t))return n;let r=_I(t,e);for(;r&&wle(r)&&vi(r).position==="static";)r=_I(r,e);return r&&(sa(r)==="html"||sa(r)==="body"&&vi(r).position==="static"&&!KE(r))?n:r||O5(t)||n}const Kle=async function(t){const e=this.getOffsetParent||j5,n=this.getDimensions;return{reference:Gle(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function Qle(t){return vi(t).direction==="rtl"}const Xle={convertOffsetParentRelativeRectToViewportRelativeRect:Ble,getDocumentElement:co,getClippingRect:Wle,getOffsetParent:j5,getElementRects:Kle,getClientRects:Ule,getDimensions:Yle,getScale:vu,isElement:ti,isRTL:Qle};function Jle(t,e){let n=null,r;const i=co(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:h,top:c,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=pp(c),g=pp(i.clientWidth-(h+f)),y=pp(i.clientHeight-(c+p)),w=pp(h),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ga(0,Bu(1,l))||1};let E=!0;function S(k){const C=k[0].intersectionRatio;if(C!==l){if(!E)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),s}function F5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=ek(t),c=i||s?[...h?Kd(h):[],...Kd(e)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=h&&a?Jle(h,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===h&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),h&&!l&&m.observe(h),m.observe(e));let g,y=l?fl(t):null;l&&w();function w(){const b=fl(t);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const Zle=Rle,SI=Ple,eue=(t,e,n)=>{const r=new Map,i={platform:Xle,...n},s={...i.platform,_c:r};return Dle(t,e,{...i,platform:s})};var Vp=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Ym(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ym(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ym(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function $5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EI(t,e){const n=$5(t);return Math.round(e*n)/n}function Pb(t){const e=K.useRef(t);return Vp(()=>{e.current=t}),e}function tue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:h}=t,[c,f]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=K.useState(r);Ym(p,r)||m(r);const[g,y]=K.useState(null),[w,b]=K.useState(null),x=K.useCallback(Y=>{Y!==C.current&&(C.current=Y,y(Y))},[]),E=K.useCallback(Y=>{Y!==O.current&&(O.current=Y,b(Y))},[]),S=s||g,k=o||w,C=K.useRef(null),O=K.useRef(null),N=K.useRef(c),P=l!=null,I=Pb(l),A=Pb(i),D=Pb(h),L=K.useCallback(()=>{if(!C.current||!O.current)return;const Y={placement:e,strategy:n,middleware:p};A.current&&(Y.platform=A.current),eue(C.current,O.current,Y).then(H=>{const j={...H,isPositioned:D.current!==!1};F.current&&!Ym(N.current,j)&&(N.current=j,__.flushSync(()=>{f(j)}))})},[p,e,n,A,D]);Vp(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[h]);const F=K.useRef(!1);Vp(()=>(F.current=!0,()=>{F.current=!1}),[]),Vp(()=>{if(S&&(C.current=S),k&&(O.current=k),S&&k){if(I.current)return I.current(S,k,L);L()}},[S,k,L,I,P]);const q=K.useMemo(()=>({reference:C,floating:O,setReference:x,setFloating:E}),[x,E]),M=K.useMemo(()=>({reference:S,floating:k}),[S,k]),B=K.useMemo(()=>{const Y={position:n,left:0,top:0};if(!M.floating)return Y;const H=EI(M.floating,c.x),j=EI(M.floating,c.y);return a?{...Y,transform:"translate("+H+"px, "+j+"px)",...$5(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:j}},[n,a,M.floating,c.x,c.y]);return K.useMemo(()=>({...c,update:L,refs:q,elements:M,floatingStyles:B}),[c,L,q,M,B])}const nue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SI({element:r.current,padding:i}).fn(n):{}:r?SI({element:r,padding:i}).fn(n):{}}}},rue=(t,e)=>({...Lle(t),options:[t,e]}),iue=(t,e)=>({...Zle(t),options:[t,e]}),sue=(t,e)=>({...nue(t),options:[t,e]}),B5={...Qp},oue=B5.useInsertionEffect,aue=oue||(t=>t());function lue(t){const e=K.useRef(()=>{});return aue(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Gm=typeof document<"u"?K.useLayoutEffect:K.useEffect;let kI=!1,uue=0;const TI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uue++;function cue(){const[t,e]=K.useState(()=>kI?TI():void 0);return Gm(()=>{t==null&&e(TI())},[]),K.useEffect(()=>{kI=!0},[]),t}const due=B5.useId,U5=due||cue,fue=K.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:h=0,strokeWidth:c=0,staticOffset:f,stroke:p,d:m,style:{transform:g,...y}={},...w}=e,b=U5(),[x,E]=K.useState(!1);if(Gm(()=>{if(!i)return;vi(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[S,k]=r.split("-"),C=S==="top"||S==="bottom";let O=f;(C&&o!=null&&o.x||!C&&o!=null&&o.y)&&(O=null);const N=c*2,P=N/2,I=a/2*(h/-8+1),A=l/2*h/4,D=!!m,L=O&&k==="end"?"bottom":"top";let F=O&&k==="end"?"right":"left";O&&x&&(F=k==="end"?"left":"right");const q=(s==null?void 0:s.x)!=null?O||s.x:"",M=(s==null?void 0:s.y)!=null?O||s.y:"",B=m||"M0,0"+(" H"+a)+(" L"+(a-I)+","+(l-A))+(" Q"+a/2+","+l+" "+I+","+(l-A))+" Z",Y={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[S];return _.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:D?a:a+N,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[F]:q,[L]:M,[S]:C||D?"100%":"calc(100% - "+N/2+"px)",transform:[Y,g].filter(H=>!!H).join(" "),...y},children:[N>0&&_.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:p,strokeWidth:N+(m?0:1),d:B}),_.jsx("path",{stroke:N&&!m?w.fill:"none",d:B}),_.jsx("clipPath",{id:b,children:_.jsx("rect",{x:-P,y:P*(D?-1:1),width:a+N,height:a})})]})});function hue(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const pue=K.createContext(null),mue=K.createContext(null),gue=()=>{var t;return((t=K.useContext(pue))==null?void 0:t.id)||null},vue=()=>K.useContext(mue);function yue(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=U5(),s=K.useRef({}),[o]=K.useState(()=>hue()),a=gue()!=null,[l,h]=K.useState(r.reference),c=lue((m,g,y)=>{s.current.openEvent=m?g:void 0,o.emit("openchange",{open:m,event:g,reason:y,nested:a}),n==null||n(m,g,y)}),f=K.useMemo(()=>({setPositionReference:h}),[]),p=K.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:p,events:o,floatingId:i,refs:f}),[e,c,p,o,i,f])}function wue(t){t===void 0&&(t={});const{nodeId:e}=t,n=yue({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[a,l]=K.useState(null),c=(i==null?void 0:i.domReference)||s,f=K.useRef(null),p=vue();Gm(()=>{c&&(f.current=c)},[c]);const m=tue({...t,elements:{...i,...a&&{reference:a}}}),g=K.useCallback(E=>{const S=ti(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(S),m.refs.setReference(S)},[m.refs]),y=K.useCallback(E=>{(ti(E)||E===null)&&(f.current=E,o(E)),(ti(m.refs.reference.current)||m.refs.reference.current===null||E!==null&&!ti(E))&&m.refs.setReference(E)},[m.refs]),w=K.useMemo(()=>({...m.refs,setReference:y,setPositionReference:g,domReference:f}),[m.refs,y,g]),b=K.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),x=K.useMemo(()=>({...m,...r,refs:w,elements:b,nodeId:e}),[m,w,b,e,r]);return Gm(()=>{r.dataRef.current.floatingContext=x;const E=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);E&&(E.context=x)}),K.useMemo(()=>({...m,context:x,refs:w,elements:b}),[m,w,b,x])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var u_=function(e,n){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},u_(e,n)};function Jn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tt=function(){return Tt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Tt.apply(this,arguments)};function ws(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var bue=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},xue=function(t,e){var n=K.useRef(null),r=K.useRef(t);r.current=t;var i=K.useCallback(function(s){var o;n.current&&!n.current.contains(s.target)&&(e&&s.target instanceof HTMLElement&&s.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Iv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=xue(n,o);return se.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ae;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ae||(Ae={}));function V5(){var t=typeof window<"u"?window:globalThis;return t}var Mf=12,_ue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Vt(t){if(t==null)return new Date;var e=typeof t=="string"?nle(t):Re(t);return Vs(e)?e:new Date}function Rb(t,e,n,r,i){var s,o=null,a=Ka(n)||Ka(_d()),l=!0;if(Array.isArray(e))return e.forEach(function(c){var f=Db(t,c,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Vs(f,i)&&t===on(f,c,n)),Vs(f,i)&&l&&(o=f)}),o;if(o=Db(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Vs(o)&&t===on(o,e,n);else if(!Vs(o)){var h=((s=e.match(_ue))!==null&&s!==void 0?s:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var p=Vm[f];return a?p(c,a.formatLong):f}return c}).join("");t.length>0&&(o=Db(t,h.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Vs(o)||(o=new Date(t))}return Vs(o)&&l?o:null}function Vs(t,e){return Fm(t)&&!dl(t,e??new Date("1/1/1800"))}function on(t,e,n){if(n==="en")return gI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ka(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&_d()&&Ka(_d())&&(r=Ka(_d())),gI(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ki(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&on(t,i,r)||""}function Sue(t,e,n){if(!t)return"";var r=ki(t,n),i=e?ki(e,n):"";return"".concat(r," - ").concat(i)}function Eue(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?ki(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=ki(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Mb(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return $p(Bp(Up(t,a),s),r)}function kue(t){return zE(t)}function Tue(t,e){return on(t,"ddd",e)}function qp(t){return cl(t)}function Zo(t,e,n){var r=Ka(e||_d());return oo(t,{locale:r,weekStartsOn:n})}function Xs(t){return m5(t)}function dd(t){return Cv(t)}function CI(t){return s_(t)}function NI(){return cl(Vt())}function OI(t){return h5(t)}function Cue(t){return aoe(t)}function Nue(t){return p5(t)}function ls(t,e){return t&&e?ele(t,e):!t&&!e}function Mr(t,e){return t&&e?Jae(t,e):!t&&!e}function Km(t,e){return t&&e?Zae(t,e):!t&&!e}function _t(t,e){return t&&e?soe(t,e):!t&&!e}function Ua(t,e){return t&&e?rae(t,e):!t&&!e}function fd(t,e,n){var r,i=cl(e),s=h5(n);try{r=Gd(t,{start:i,end:s})}catch{r=!1}return r}function _d(){var t=V5();return t.__localeId__}function Ka(t){if(typeof t=="string"){var e=V5();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Oue(t,e,n){return e(on(t,"EEEE",n))}function Aue(t,e){return on(t,"EEEEEE",e)}function Due(t,e){return on(t,"EEE",e)}function tk(t,e){return on(ui(Vt(),t),"LLLL",e)}function q5(t,e){return on(ui(Vt(),t),"LLL",e)}function Iue(t,e){return on(nu(Vt(),t),"QQQ",e)}function Ti(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,h=n.filterDate;return Lf(t,{minDate:r,maxDate:i})||s&&s.some(function(c){return c instanceof Date?_t(t,c):_t(t,c.date)})||o&&o.some(function(c){var f=c.start,p=c.end;return Gd(t,{start:f,end:p})})||a&&!a.some(function(c){return _t(t,c)})||l&&!l.some(function(c){var f=c.start,p=c.end;return Gd(t,{start:f,end:p})})||h&&!h(Vt(t))||!1}function nk(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Gd(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?_t(t,s):_t(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function H5(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Lf(t,{minDate:r?m5(r):void 0,maxDate:i?p5(i):void 0})||(s==null?void 0:s.some(function(l){return Mr(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Mr(t,l)})||a&&!a(Vt(t))||!1}function mp(t,e,n,r){var i=yt(t),s=jr(t),o=yt(e),a=jr(e),l=yt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Pue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Lf(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return Mr(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Mr(a,t)})||!1}function gp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Lf(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return Km(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Km(t,l)})||a&&!a(Vt(t))||!1}function vp(t,e,n){if(!e||!n||!Fm(e)||!Fm(n))return!1;var r=yt(e),i=yt(n);return r<=t&&i>=t}function Hp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Lf(l,{minDate:r?Cv(r):void 0,maxDate:i?g5(i):void 0})||(s==null?void 0:s.some(function(h){return ls(l,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return ls(l,h)})||a&&!a(Vt(l))||!1}function yp(t,e,n,r){var i=yt(t),s=Wa(t),o=yt(e),a=Wa(e),l=yt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Lf(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&ju(t,i)<0||s&&ju(t,s)>0)!==null&&n!==void 0?n:!1}function AI(t,e){return e.some(function(n){return ks(n)===ks(t)&&Ts(n)===Ts(t)&&Qs(n)===Qs(t)})}function DI(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&AI(t,r)||i&&!AI(t,i)||s&&!s(t)||!1}function II(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Vt();i=$p(i,ks(t)),i=Bp(i,Ts(t)),i=Up(i,Qs(t));var s=Vt();s=$p(s,ks(n)),s=Bp(s,Ts(n)),s=Up(s,Qs(n));var o=Vt();o=$p(o,ks(r)),o=Bp(o,Ts(r)),o=Up(o,Qs(r));var a;try{a=!Gd(i,{start:s,end:o})}catch{a=!1}return a}function PI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Ya(t,1);return r&&$m(r,s)>0||i&&i.every(function(o){return $m(o,s)>0})||!1}function RI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Xi(t,1);return r&&$m(s,r)>0||i&&i.every(function(o){return $m(s,o)>0})||!1}function Rue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Cv(t),o=C5(s);return r&&Bm(r,o)>0||i&&i.every(function(a){return Bm(a,o)>0})||!1}function Mue(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=g5(t),o=HE(s,1);return r&&Bm(o,r)>0||i&&i.every(function(a){return Bm(o,a)>0})||!1}function MI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Fu(t,1);return r&&Um(r,s)>0||i&&i.every(function(o){return Um(o,s)>0})||!1}function Lue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?Mf:i,o=dd(Fu(t,s)),a=Wo(o,s).endPeriod,l=r&&yt(r);return l&&l>a||!1}function LI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Gs(t,1);return r&&Um(s,r)>0||i&&i.every(function(o){return Um(s,o)>0})||!1}function jue(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?Mf:i,o=Gs(t,s),a=Wo(o,s).startPeriod,l=r&&yt(r);return l&&l<a||!1}function z5(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ju(i,e)>=0});return cI(r)}else return n?cI(n):e}function W5(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ju(i,e)<=0});return uI(r)}else return n?uI(n):e}function jI(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(Ks(o)){var a=on(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var h=Object.keys(o),c=(n=h[0])!==null&&n!==void 0?n:"",f=o[c];if(typeof c=="string"&&Array.isArray(f))for(var p=0,m=f.length;p<m;p++){var g=f[p];if(g){var a=on(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function Fue(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function $ue(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(Ks(i)){var o=on(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&Fue(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?ws(ws([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function Bue(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,h=i[a];h&&(l=toe(l,ks(h)),l=i_(l,Ts(h)),l=ioe(l,Qs(h)));var c=i_(t,(n+1)*r);ia(l,e)&&dl(l,c)&&h!=null&&o.push(h)}return o}function FI(t){return t<10?"0".concat(t):"".concat(t)}function Wo(t,e){e===void 0&&(e=Mf);var n=Math.ceil(yt(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function Uue(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function $I(t){var e=t.getSeconds(),n=t.getMilliseconds();return Re(t.getTime()-e*1e3-n)}function Vue(t,e){return $I(t).getTime()===$I(e).getTime()}function BI(t){if(!Ks(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function UI(t,e){if(!Ks(t)||!Ks(e))throw new Error("Invalid date received");var n=BI(t),r=BI(e);return dl(n,r)}function Y5(t){return t.key===Ae.Space}var que=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),h=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),f=c[0],p=c[1];h.setHours(Number(f)),h.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,h)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?K.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){r.onTimeChange(h.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(K.Component),Hue=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=K.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return _t(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ti(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return nk(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return _t(n.props.day,Zo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&_t(r,Zo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=on(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=on(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:fd(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,h=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!p||!h&&n.isDisabled()?!1:o&&f&&(dl(p,f)||Ua(p,f))?fd(s,p,f):a&&c&&(ia(p,c)||Ua(p,c))||l&&c&&!f&&(ia(p,c)||Ua(p,c))?fd(s,c,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?_t(s,l):_t(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?_t(s,h):_t(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:_t(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:_t(o,i)},n.isWeekend=function(){var r=Zoe(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===jr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(jr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Vt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return ar("react-datepicker__day",i,"react-datepicker__day--"+Tue(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,h=n.isDisabled()||n.isExcluded()?l:o;return"".concat(h," ").concat(on(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=on(i,"MM.dd.yyyy"),h=[];return o.has(l)&&h.push.apply(h,o.get(l).holidayNames),n.isExcluded()&&h.push(a==null?void 0:a.filter(function(c){return c instanceof Date?_t(c,i):_t(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),h.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&_t(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(vI(n.props.day),n.props.day):vI(n.props.day)},n.render=function(){return se.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&se.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(K.Component),zue=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=K.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.props.date,n.props.selected)&&_t(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||_t(n.props.date,n.props.selected)&&_t(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&_t(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:ar(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(K.Component),Wue=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Ti(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,h=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var p=!n.isDisabled(f);if(p){h=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(h,i,s),n.props.showWeekPicker&&n.handleDayClick(h,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):kue(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=zi(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=zi(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(se.createElement(zue,Tt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(r,a);return se.createElement(Hue,Tt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Zo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.startOfWeek(),n.props.selected)&&_t(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return se.createElement("div",{className:ar(n)},this.renderDays())},e}(K.Component),Jc,Yue=6,yu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lb=(Jc={},Jc[yu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Jc[yu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Jc[yu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Jc),wp=1;function VI(t,e){return t?yu.FOUR_COLUMNS:e?yu.TWO_COLUMNS:yu.THREE_COLUMNS}var Gue=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=ws([],Array(12),!0).map(function(){return K.createRef()}),n.QUARTER_REFS=ws([],Array(4),!0).map(function(){return K.createRef()}),n.isDisabled=function(r){return Ti(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return nk(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Mr(ui(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Km(nu(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Mr(ui(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Km(nu(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?mp(p,f,r,o):l&&c||h&&c&&!f?mp(c,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,h=ui(o,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Mr(h,c):Mr(h,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,h=s.selectsRange,c=ui(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||h?Mr(c,f):Mr(c,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?yp(p,f,r,o):l&&c||h&&c&&!f?yp(c,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=zi(r,6);return Mr(r,i)||Mr(s,i)},n.isCurrentMonth=function(r,i){return yt(r)===yt(Vt())&&i===jr(Vt())},n.isCurrentQuarter=function(r,i){return yt(r)===yt(Vt())&&i===Wa(Vt())},n.isSelectedMonth=function(r,i,s){return jr(s)===i&&yt(r)===yt(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Wa(r)===i&&yt(r)===yt(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Zo(Xs(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Zo(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},h=function(g){return n.props.showWeekPicker?Zo(g,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?h(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(se.createElement(Wue,Tt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:jr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=jm(a,1);var p=i&&s>=Yue,m=!i&&!n.isWeekInMonth(a);if(p||m)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Xs(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Xs(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,h=a.preSelection,c=a.setPreSelection,f=a.minDate,p=a.maxDate,m=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(h){var y=VI(m,g),w=n.getVerticalOffset(y),b=(o=Lb[y])===null||o===void 0?void 0:o.grid,x=function(O,N,P){var I,A,D=N,L=P;switch(O){case Ae.ArrowRight:D=Xi(N,wp),L=P===11?0:P+wp;break;case Ae.ArrowLeft:D=Ya(N,wp),L=P===0?11:P-wp;break;case Ae.ArrowUp:D=Ya(N,w),L=!((I=b==null?void 0:b[0])===null||I===void 0)&&I.includes(P)?P+12-w:P-w;break;case Ae.ArrowDown:D=Xi(N,w),L=!((A=b==null?void 0:b[b.length-1])===null||A===void 0)&&A.includes(P)?P-12+w:P+w;break}return{newCalculatedDate:D,newCalculatedMonth:L}},E=function(O,N,P){for(var I=40,A=O,D=!1,L=0,F=x(A,N,P),q=F.newCalculatedDate,M=F.newCalculatedMonth;!D;){if(L>=I){q=N,M=P;break}if(f&&q<f){A=Ae.ArrowRight;var B=x(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}if(p&&q>p){A=Ae.ArrowLeft;var B=x(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}if(Pue(q,n.props)){var B=x(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}else D=!0;L++}return{newCalculatedDate:q,newCalculatedMonth:M}};if(i===Ae.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),c==null||c(l));return}var S=E(i,h,s),k=S.newCalculatedDate,C=S.newCalculatedMonth;switch(i){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:n.handleMonthNavigation(C,k);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=Lb[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ae.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=nu(n.props.day,i);gp(s,n.props)||n.handleDayClick(CI(s),r)},n.onQuarterMouseEnter=function(r){var i=nu(n.props.day,r);gp(i,n.props)||n.handleDayMouseEnter(CI(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ae.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Ae.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,HE(n.props.preSelection,1));break;case Ae.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,C5(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,h=s.excludeDates,c=s.includeDates,f=ui(o,r);return{isDisabled:(i=(a||l||h||c)&&H5(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,h=i.monthClassName,c=h?h(ui(s,r)):void 0,f=n.getSelection();return ar("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?mp(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=jr(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Wa(n.props.preSelection),s=gp(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,h=i.day,c=i.locale,f=ui(h,r),p=n.isDisabled(f)||n.isExcluded(f)?l:o;return"".concat(p," ").concat(on(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,h=i.minDate,c=i.maxDate,f=i.excludeDates,p=i.includeDates,m=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,w=(h||c||f||p||m)&&gp(nu(s,r),n.props);return ar("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(s,r,g)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?yp(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,h=q5(r,a),c=tk(r,a);return o?o(r,h,c,l):s?c:h},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=Iue(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,h=(r=Lb[VI(o,s)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(c,f){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(p,m){return se.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(g){n.onMonthClick(g,p)},onKeyDown:function(g){Y5(g)&&(g.preventDefault(),g.key=Ae.Enter),n.onMonthKeyDown(g,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return se.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(h){n.onQuarterClick(h,a)},onKeyDown:function(h){n.onQuarterKeyDown(h,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,h=r.showWeekPicker;return ar("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":h})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(on(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(K.Component),Kue=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return se.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return se.createElement(Iv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),Que=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return se.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return se.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return se.createElement(Kue,Tt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return q5(s,n.props.locale)}:function(s){return tk(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(K.Component);function Xue(t,e){for(var n=[],r=Xs(t),i=Xs(e);!ia(r,i);)n.push(Vt(r)),r=Xi(r,1);return n}var Jue=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=a_(i),o=ls(r.props.date,i)&&Mr(r.props.date,i);return se.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",on(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Xue(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=ar({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(Iv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),Zue=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Xs(n.props.minDate),i=Xs(n.props.maxDate),s=[];!ia(r,i);){var o=a_(r);s.push(se.createElement("option",{key:o,value:o},on(r,n.props.dateFormat,n.props.locale))),r=Xi(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:a_(Xs(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=on(n.props.date,n.props.dateFormat,n.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return se.createElement(Jue,Tt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Vt(r);ls(n.props.date,i)&&Mr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(K.Component),ece=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&II(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&DI(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&Vue(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&II(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&DI(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(ks(r)*3600+Ts(r)*60+Qs(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Vt(),l=qp(a),h=n.props.injectTimes&&n.props.injectTimes.sort(function(w,b){return w.getTime()-b.getTime()}),c=60*Uue(a),f=c/o,p=0;p<f;p++){var m=i_(l,p*o);if(i.push(m),h){var g=Bue(l,m,p,o,h);i=i.concat(g)}}var y=i.reduce(function(w,b){return b.getTime()<=a.getTime()?b:w},i[0]);return i.map(function(w){return se.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(b){w===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},on(w,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(K.Component),qI=3,tce=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=ws([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return Ti(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return nk(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,h,c=r.props,f=c.date,p=c.yearItemNumber;if(!(f===void 0||p===void 0)){var m=Wo(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-m<0?r.updateFocusOnPaginate(p-(m-i)):i-m>=p?r.updateFocusOnPaginate(Math.abs(p-(i-m))):(h=(l=r.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||h===void 0||h.focus())}},r.isSameDay=function(i,s){return _t(i,s)},r.isCurrentYear=function(i){return i===yt(Vt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&ls(os(Vt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&ls(os(Vt(),i),r.props.endDate)},r.isInRange=function(i){return vp(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,h=s.startDate,c=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&c?vp(i,r.selectingDate(),c):a&&h||l&&h&&!c?vp(i,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,h=os(Vt(),i);return l?ls(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):ls(h,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,h=o.selectsRange,c=os(Vt(),i);return l||h?ls(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):ls(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,h=s.includeDates,c=s.filterDate,f=dd(os(r.props.date,i)),p=(o||a||l||h||c)&&Hp(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!_t(f,dd(r.props.selected))&&_t(f,dd(r.props.preSelection))&&!p}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(dd(os(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,h=r.props,c=h.date,f=h.yearItemNumber,p=h.handleOnKeyDown;if(l!==Ae.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Gs(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Fu(r.props.preSelection,1));break;case Ae.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var m=Wo(c,f).startPeriod,g=qI,y=s-g;if(y<m){var w=f%g;s>=m&&s<m+w?g=w:g+=w,y=s-g}r.handleYearNavigation(y,Fu(r.props.preSelection,g));break}case Ae.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var b=Wo(c,f).endPeriod,g=qI,y=s+g;if(y>b){var w=f%g;s<=b&&s>b-w?g=w:g+=w,y=s+g}r.handleYearNavigation(y,Gs(r.props.preSelection,g));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,h=s.selected,c=s.excludeDates,f=s.includeDates,p=s.filterDate,m=s.yearClassName;return ar("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(os(o,i)):void 0,{"react-datepicker__year-text--selected":h?i===yt(h):void 0,"react-datepicker__year-text--disabled":(a||l||c||f||p)&&Hp(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=yt(r.props.preSelection),o=Hp(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var h=Wo(s,o),c=h.startPeriod,f=h.endPeriod,p=function(y){r.push(se.createElement("div",{ref:m.YEAR_REFS[y-c],onClick:function(w){n.onYearClick(w,y)},onKeyDown:function(w){Y5(w)&&(w.preventDefault(),w.key=Ae.Enter),n.onYearKeyDown(w,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return a(w,y)},onPointerEnter:m.props.usePointerEvent?function(w){return a(w,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return l(w,y)},onPointerLeave:m.props.usePointerEvent?function(w){return l(w,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,g=c;g<=f;g++)p(g);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(K.Component);function nce(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=yt(n)<=o),r&&a&&(a=yt(r)>=o),a&&i.push(o)}return i}var rce=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return se.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),h=r.props.minDate?yt(r.props.minDate):null,c=r.props.maxDate?yt(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(f){return f===h}))&&l.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(h){return h+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:nce(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=ar({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(Iv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),ice=function(t){Jn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?yt(n.props.minDate):1900,i=n.props.maxDate?yt(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(se.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return se.createElement(rce,Tt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(K.Component),sce=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],oce=function(t){var e=(t.className||"").split(/\s+/);return sce.some(function(n){return e.indexOf(n)>=0})},ace=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;oce(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=z5(r.props),h=W5(r.props),c=Vt(),f=a||o||s;return f||(l&&dl(c,l)?l:h&&ia(c,h)?h:c)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Xi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ya(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:os(Vt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ti(i,r.props))return i;for(var s=Xs(i),o=Nue(i),a=ooe(o,s),l=null,h=0;h<=a;h++){var c=zi(s,h);if(!Ti(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:os(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:ui(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:os(ui(o,jr(i)),yt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Zo(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(s,a),h=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return se.createElement("div",{key:a,"aria-label":on(l,"EEEE",r.props.locale),className:ar("react-datepicker__day-name",c)},h)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?Oue(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Due(i,s):Aue(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Fu(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,c=Ya(r.state.date,h),f;switch(!0){case r.props.showMonthYearPicker:f=MI(r.state.date,r.props);break;case r.props.showYearPicker:f=Lue(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=Rue(r.state.date,r.props);break;default:f=PI(c,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,b=w.previousMonthButtonLabel,x=b===void 0?e.defaultProps.previousMonthButtonLabel:b,E=w.previousYearButtonLabel,S=E===void 0?e.defaultProps.previousYearButtonLabel:E,k=r.props,C=k.previousMonthAriaLabel,O=C===void 0?typeof x=="string"?x:"Previous Month":C,N=k.previousYearAriaLabel,P=N===void 0?typeof S=="string"?S:"Previous Year":N;return se.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?P:O},se.createElement("span",{className:p.join(" ")},y?S:x))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Gs(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=LI(r.state.date,r.props);break;case r.props.showYearPicker:s=jue(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=Mue(r.state.date,r.props);break;default:s=RI(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,m=c.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=r.props,w=y.nextMonthAriaLabel,b=w===void 0?typeof p=="string"?p:"Next Month":w,x=y.nextYearAriaLabel,E=x===void 0?typeof g=="string"?g:"Next Year":x;return se.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?E:b},se.createElement("span",{className:a.join(" ")},h?g:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:s.join(" ")},on(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(ice,Tt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:yt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(Que,Tt({},e.defaultProps,r.props,{month:jr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(Zue,Tt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(NI(),i),r.props.setPreSelection&&r.props.setPreSelection(NI())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),se.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=PI(r.state.date,r.props),c=RI(r.state.date,r.props),f=MI(r.state.date,r.props),p=LI(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Tt(Tt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),m&&se.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,h=l===void 0?e.defaultProps.yearItemNumber:l,c=Wo(s,h),f=c.startPeriod,p=c.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):yt(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gs(r.state.date,l):Ya(r.state.date,l),c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<a;++f){var p=f-c+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gs(h,p):Xi(h,p),g="month-".concat(f),y=f<a-1,w=f>0;o.push(se.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:f}),se.createElement(Gue,Tt({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(tce,Tt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(ece,Tt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Vs(i)&&!!r.props.selected,o=s?"".concat(FI(i.getHours()),":").concat(FI(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(que,Tt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Wo(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=yt(r.state.date):l="".concat(tk(jr(r.state.date),r.props.locale)," ").concat(yt(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Mf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Mr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||bue;return se.createElement(Iv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},se.createElement(n,{className:ar("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(K.Component),lce=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):se.isValidElement(e)?se.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},G5=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return S_.createPortal(this.props.children,this.el)},e}(K.Component),uce="[tabindex], a, button, input, select, textarea",cce=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},K5=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(uce),1,-1).filter(cce)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(K.Component);function dce(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=K.useRef(null),o=wue(Tt({open:!i,whileElementsMounted:F5,placement:n.popperPlacement,middleware:ws([iue({padding:15}),rue(10),sue({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=Tt(Tt({},n),{hidePopper:i,popperProps:Tt(Tt({},o),{arrowRef:s})});return se.createElement(t,Tt({},a))};return e}var fce=function(t){Jn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,h=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,m=n.popperProps,g=n.showArrow,y=void 0;if(!o){var w=ar("react-datepicker-popper",r);y=se.createElement(K5,{enableTabLoop:h},se.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},a,g&&se.createElement(fue,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=K.createElement(this.props.popperContainer,{},y)),f&&!o&&(y=se.createElement(G5,{portalId:f,portalHost:p},y));var b=ar("react-datepicker-wrapper",i);return se.createElement(se.Fragment,null,se.createElement("div",{ref:m.refs.setReference,className:b},l),y)},e}(K.Component),hce=dce(fce),HI="react-datepicker-ignore-onclickoutside";function pce(t,e){return t&&e?jr(t)!==jr(e)||yt(t)!==yt(e):t!==e}var jb="Date input not valid.",mce=function(t){Jn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Vt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Vs(a)?ws(ws([],s,!0),[Tt(Tt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=z5(r.props),a=W5(r.props),l=o&&dl(s,qp(o))?o:a&&ia(s,OI(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:jI(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Tt(Tt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Tt(Tt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Fb},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ks(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:gce});var h=r.props,c=h.dateFormat,f=c===void 0?e.defaultProps.dateFormat:c,p=h.strictParsing,m=p===void 0?e.defaultProps.strictParsing:p,g=h.selectsRange,y=h.startDate,w=h.endDate,b=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(g){var x=b.split("-",2).map(function(I){return I.trim()}),E=x[0],S=x[1],k=Rb(E??"",f,r.props.locale,m),C=Rb(S??"",f,r.props.locale,m),O=(y==null?void 0:y.getTime())!==(k==null?void 0:k.getTime()),N=(w==null?void 0:w.getTime())!==(C==null?void 0:C.getTime());if(!O&&!N||k&&Ti(k,r.props)||C&&Ti(C,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[k,C],l)}else{var P=Rb(b,f,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&P&&!_t(P,r.props.selected)&&(P=yle(r.props.selected,{hours:ks(P),minutes:Ts(P),seconds:Qs(P)})),(P||!b)&&r.setSelected(P,l,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,h=a.endDate;l&&!h&&(r.props.swapRange||!UI(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,h,c=i;if(r.props.showYearPicker){if(c!==null&&Hp(yt(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&H5(c,r.props))return}else if(c!==null&&Ti(c,r.props))return;var f=r.props,p=f.onChange,m=f.selectsRange,g=f.startDate,y=f.endDate,w=f.selectsMultiple,b=f.selectedDates,x=f.minTime,E=f.swapRange;if(!Ua(r.props.selected,c)||r.props.allowSameDay||m||w)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Mb(c,{hour:ks(r.props.selected),minute:Ts(r.props.selected),second:Qs(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&x&&(c=Mb(c,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var S=!g&&!y,k=g&&!y,C=g&&y;S?p==null||p([c,null],s):k&&(c===null?p==null||p([null,null],s):UI(c,g)?E?p==null||p([c,g],s):p==null||p([c,null],s):p==null||p([g,c],s)),C&&(p==null||p([c,null],s))}else if(w){if(c!==null)if(!(b!=null&&b.length))p==null||p([c],s);else{var O=b.some(function(P){return _t(P,c)});if(O){var N=b.filter(function(P){return!_t(P,c)});p==null||p(N,s)}else p==null||p(ws(ws([],b,!0),[c],!1),s)}}else p==null||p(c,s);o||((h=(l=r.props).onSelect)===null||h===void 0||h.call(l,c,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=Ks(r.props.minDate),o=Ks(r.props.maxDate),a=!0;if(i){var l=qp(i);if(s&&o)a=fd(i,r.props.minDate,r.props.maxDate);else if(s){var h=qp(r.props.minDate);a=ia(i,h)||Ua(l,h)}else if(o){var c=OI(r.props.maxDate);a=dl(i,c)||Ua(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Mb(a,{hour:ks(i),minute:Ts(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,h,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Ae.ArrowDown||f===Ae.ArrowUp||f===Ae.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Ae.ArrowDown||f===Ae.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=Vt(r.state.preSelection);f===Ae.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Fb?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===Ae.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Ae.Tab&&r.setOpen(!1),r.inputOk()||(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,h,c,f=r.props,p=f.minDate,m=f.maxDate,g=f.disabledKeyboardNavigation,y=f.showWeekPicker,w=f.shouldCloseOnSelect,b=f.locale,x=f.calendarStartDay,E=f.adjustDateOnChange,S=f.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var k=i.key,C=i.shiftKey,O=Vt(r.state.preSelection),N=function(q,M){var B=M;switch(q){case Ae.ArrowRight:B=y?jm(M,1):zi(M,1);break;case Ae.ArrowLeft:B=y?yI(M):tle(M);break;case Ae.ArrowUp:B=yI(M);break;case Ae.ArrowDown:B=jm(M,1);break;case Ae.PageUp:B=C?Fu(M,1):Ya(M,1);break;case Ae.PageDown:B=C?Gs(M,1):Xi(M,1);break;case Ae.Home:B=Zo(M,b,x);break;case Ae.End:B=Cue(M);break}return B},P=function(q,M){for(var B=40,Y=q,H=!1,j=0,U=N(q,M);!H;){if(j>=B){U=M;break}p&&U<p&&(Y=Ae.ArrowRight,U=Ti(p,r.props)?N(Y,U):p),m&&U>m&&(Y=Ae.ArrowLeft,U=Ti(m,r.props)?N(Y,U):m),Ti(U,r.props)?((Y===Ae.PageUp||Y===Ae.Home)&&(Y=Ae.ArrowRight),(Y===Ae.PageDown||Y===Ae.End)&&(Y=Ae.ArrowLeft),U=N(Y,U)):H=!0,j++}return U};if(k===Ae.Enter){i.preventDefault(),r.handleSelect(O,i),!w&&r.setPreSelection(O);return}else if(k===Ae.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:jb});return}var I=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:I=P(k,O);break}if(!I){(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Fb}),E&&r.setSelected(I),r.setPreSelection(I),S){var A=jr(O),D=jr(I),L=yt(O),F=yt(I);A!==D||L!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(ace,Tt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:$ue(r.modifyHolidays()),outsideClickIgnoreClass:HI,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,h=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(ki(r.props.startDate,{dateFormat:h,locale:a}),". ").concat(r.props.endDate?"End date: "+ki(r.props.endDate,{dateFormat:h,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(ki(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(ki(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(ki(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(ki(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(ki(r.props.selected,{dateFormat:h,locale:a})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o,a=ar(r.props.className,(i={},i[HI]=r.state.open,i)),l=r.props.customInput||se.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,m=c.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Sue(r.props.startDate,r.props.endDate,{dateFormat:p,locale:m}):r.props.selectsMultiple?Eue((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:m}):ki(r.props.selected,{dateFormat:p,locale:m});return K.cloneElement(l,(s={},s[h]=function(y){r.input=y},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=ar(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,h=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,m=i.ariaLabelClose,g=m===void 0?"Close":m,y=i.selectedDates;return s&&(a!=null||l!=null||h!=null||y!=null&&y.length)?se.createElement("button",{type:"button",className:ar("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Mf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&pce(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:jI(this.props.highlightDates)}),!r.focused&&!Ua(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(lce,Tt({icon:i,className:ar(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?se.createElement(K5,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(G5,Tt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(hce,Tt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(K.Component),gce="input",Fb="navigate";function Wi({text:t,htmlFor:e,className:n}){return _.jsx("label",{htmlFor:e||t,className:`flex flex-col py-1 pl-1 text-sm font-medium text-blue1 ${n}`,children:t})}function Pv({label:t,resetDate:e,...n}){return _.jsxs("div",{className:"flex flex-col",children:[t&&_.jsx(Wi,{text:t}),_.jsxs("div",{className:"relative",children:[_.jsx(OE,{className:"absolute left-3 top-3.5 z-[1] size-5"}),_.jsx(mce,{...n,locale:c3,minDate:new Date,shouldCloseOnSelect:!0,popperPlacement:"bottom",timeCaption:"",timeInputLabel:":",timeFormat:"HH:mm",timeIntervals:10,onFocus:r=>r.target.blur(),className:`h-12 w-full rounded-xl border border-gray1 px-3 py-2 pl-10 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none ${n.className}`}),e&&_.jsx("button",{type:"button",onClick:e,children:_.jsx(R3,{className:"absolute right-3 top-3 z-[1] size-[23px] text-gray1"})})]})]})}const Xt=se.forwardRef(function({iconName:t,inputType:e,label:n,errorMsg:r,containerClassName:i,children:s,tailIconChildren:o,...a},l){const h={FiMapPin:_.jsx(IE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiSearch:_.jsx(PE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiHash:_.jsx(zre,{className:"absolute left-3 top-3.5 size-[20px]"}),FiChevronsDown:_.jsx(D3,{className:"absolute left-3 top-3.5 size-[20px]"}),FaMedal:_.jsx(UE,{className:"absolute left-3 top-3.5 size-[20px]"})},c="h-12 w-full rounded-xl border focus:border-purple2 border-gray1 focus:read-only:border-gray1 focus:read-only:border focus:border-2 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none py-2";return _.jsxs("div",{className:`relative flex w-full flex-col ${i}`,children:[n&&_.jsx(Wi,{text:n}),t?_.jsxs("div",{className:"relative w-full",children:[h[t],_.jsx("input",{...a,ref:l,id:n||a.id,className:`pl-10 pr-3 ${c} ${a.className}`}),o]}):_.jsxs(_.Fragment,{children:[_.jsx("input",{...a,ref:l,id:n||a.id,className:`px-3 ${c} ${a.className}`}),o]}),r&&_.jsx("p",{className:"pl-2 pt-1 text-sm text-red-500",children:r}),s]})});function Q5({title:t,currentValue:e,yearMonthId:n,registerBook:r}){var S;const i=Le(Ct),s=Le(Ur(n)),o=s?{...s.meeting,...e}:e,{currMeeting:a,onMeetingChange:l,savedPlaceList:h,onMeetingEdit:c,onNewBookClubSubmit:f}=k3(o,n),{anonymous:p}=ii("register"),{isPending:m}=Zi(),{hideModal:g}=St(),{errorMsg:y,handleErrorMsg:w}=CE(),b={place:[{condition:a.place==="",error:" ."}]},x=+n.slice(-2),E=async k=>{k.preventDefault();try{if(w(b))return;if(s)await c({meeting:a}),alert(`${x}   !`);else{const O={meeting:a,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i.uid,book:r};await f(O),alert(`${x}   !`)}}catch{window.alert("     .  .")}finally{g()}};return _.jsx(Vr,{title:t,className:"max-w-96 max-sm:mt-[30%]",children:_.jsxs("form",{onSubmit:E,className:"flex flex-col gap-y-3",children:["time"in e&&_.jsx(Pv,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:new Date(a.time),dateFormat:"M d EEEE a hh:mm",onChange:k=>{l({time:dt(k,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0}),"place"in e&&_.jsx(Xt,{label:"",value:a.place,onChange:k=>{l({place:k.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:y==null?void 0:y.place,children:_.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(S=h==null?void 0:h.place)==null?void 0:S.map(k=>_.jsx(Fn,{text:k,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>l({place:k})},k))})}),_.jsx(lt,{type:"submit",name:s!=null&&s.meeting?"":`${x}  `,className:"ml-auto",disabled:m||p,color:"blue"}),p&&_.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function rk({label:t,value:e,editable:n}){const{showModal:r}=St(),i={:_.jsx(IE,{className:"inline"}),:_.jsx(OE,{className:"inline"}),:_.jsx(Am,{className:"inline"}),:_.jsx(Am,{className:"inline"})};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"relative flex h-full items-center overflow-hidden rounded-card bg-white px-4 py-2 shadow-card max-sm:px-4",children:[_.jsxs("h4",{className:"flex min-w-20 items-center gap-0.5 tracking-tight text-gray2",children:[i[t],t]}),_.jsxs("div",{className:"flex w-full flex-1 py-1",children:[e&&_.jsxs(_.Fragment,{children:[typeof e!="string"&&(e.includes("no_host")?_.jsx("span",{children:" "}):e==null?void 0:e.map(s=>_.jsx(ur,{userId:s,className:"mr-1"},s))),typeof e=="string"&&e&&_.jsx("span",{className:"tracking-tight",children:t===""?dt(e,"M d a h:mm"):e})]}),!e&&_.jsx("span",{className:"text-center text-sm text-gray2 max-sm:text-start",children:"  "})]}),n&&_.jsx("button",{type:"button",onClick:()=>r({element:typeof e=="string"&&_.jsx(Q5,{title:t,currentValue:t===""?{time:e}:{place:e},yearMonthId:wn})}),className:"absolute bottom-0 right-0 p-3",children:_.jsx(I3,{stroke:"#aaa",size:16})})]})})}function ik({yearMonthId:t,event:e,className:n=""}){var a,l,h;const r=Le(Ur(t)),i=r&&[{label:"",value:(a=r.meeting)==null?void 0:a.place},{label:"",value:(l=r.meeting)==null?void 0:l.time},{label:"",value:(h=r.meeting.eventMonth)==null?void 0:h.hosts}],s=+t.slice(-2),{pathname:o}=Br();return _.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[_.jsxs("div",{className:`flex flex-col justify-between rounded-card bg-white px-4 py-5 shadow-card ${n}`,children:[o==="/"&&_.jsx(Fn,{text:`${s} `,color:+s==+ei?"green":"purple",shape:"rounded",className:"mb-3 font-medium shadow-2xl"}),_.jsx("h1",{className:"mb-1.5 line-clamp-2 w-full text-lg font-medium leading-6",children:e.eventMonth.title}),_.jsxs("span",{className:"text-gray1",children:["  ",e.eventMonth.contents.length,""]})]}),_.jsx("ul",{className:"col-span-1 flex flex-col gap-4",children:i.map(({label:c,value:f})=>_.jsx("li",{children:_.jsx(rk,{label:c,value:f,editable:!1})},c))})]})}function zI({initialContent:t,contents:e}){const{onEditSubmit:n,setEditedData:r,editedData:i}=Of({collName:Nr,docId:`${vt}-12`,dataToUpdate:{"meeting.eventMonth.contents":e}}),s=i["meeting.eventMonth.contents"].find(({id:a})=>a===t.id),o=a=>{const l=i["meeting.eventMonth.contents"],h={...s,...a},c=l.map(f=>f.id===h.id?h:f);r({"meeting.eventMonth.contents":c})};return _.jsx(Vr,{title:" ",children:_.jsxs("form",{className:"mb-4 flex flex-col gap-y-2 overflow-scroll",onSubmit:n,children:[_.jsx(Xt,{value:(s==null?void 0:s.title)||"",onChange:a=>o({title:a.target.value}),label:" ",placeholder:"  ."}),_.jsxs("div",{children:[_.jsx(Wi,{text:" "}),_.jsx("textarea",{id:" ",placeholder:"    .",value:s==null?void 0:s.detail,onChange:a=>o({detail:a.target.value}),className:"min-h-40 w-full resize-none rounded-xl border border-gray1 bg-white p-2.5 outline-none"})]}),_.jsx(Xt,{value:(s==null?void 0:s.reward)||"",onChange:a=>o({reward:a.target.value}),label:"",placeholder:"  .",iconName:"FaMedal"}),_.jsx(Pv,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:s!=null&&s.deadline?new Date(s==null?void 0:s.deadline):null,dateFormat:"MM dd",onChange:a=>o({deadline:dt(a,"yyyy-MM-dd")}),resetDate:()=>o({deadline:null})}),_.jsx(lt,{type:"submit",name:"",className:"ml-auto",size:"md"})]})})}function c_({onClick:t,disabled:e,className:n=""}){return _.jsx("button",{type:"button",onClick:t,disabled:e,className:`flex size-[26px] items-center justify-center p-1 disabled:text-gray2 ${n}`,children:_.jsx(DE,{className:"size-full"})})}function es({text:t,children:e,createBtnTitle:n,onCreateClick:r}){return _.jsxs("div",{className:"flex h-full min-h-[200px] w-full flex-col items-center justify-center gap-5 rounded-card bg-white p-4 shadow-card max-md:h-[200px]",children:[_.jsx("span",{className:"text-sm text-gray1",children:t}),r&&_.jsx(lt,{name:n,color:"purple",handleClick:r,tailChildren:_.jsx(Ose,{size:18})}),e]})}function vce({eventDetail:t}){const{showModal:e}=St(),n=async o=>{e({element:_.jsx(zI,{initialContent:o,contents:t.contents})})},r=()=>{const o={id:zt(),title:"",detail:""};e({element:_.jsx(zI,{initialContent:o,contents:[...t.contents,o]})})},i=C_(),s=wn===i.id||!i;return _.jsx(Lt,{title:" ",titleBtn:s&&_.jsx("button",{type:"button",onClick:r,children:_.jsx(gv,{className:"text-lg text-blue1"})}),children:t.contents.length>0?_.jsx("ul",{className:"flex flex-col gap-y-3",children:t.contents.map(o=>_.jsxs(VE,{title:`${o.title} ${o!=null&&o.reward?"":""} ${o!=null&&o.deadline?"":""}`,children:[_.jsxs("div",{className:"flex items-start gap-x-1",children:[(o==null?void 0:o.reward)&&_.jsx(Fn,{text:`${o!=null&&o.reward?"":""} `,shape:"rounded",className:"!mb-2 border border-blue3 !px-2.5 !py-1.5 !text-[13px] font-medium"}),(o==null?void 0:o.deadline)&&_.jsx(Fn,{text:`${o!=null&&o.deadline?"":""} ${dt(o.deadline,"yy.M.d")} `,color:"lightGreen",shape:"rounded",className:"!mb-2 border border-green-500 !px-2.5 !py-1.5 !text-[13px] font-medium"})]}),_.jsx("p",{className:"whitespace-pre-wrap px-0.5 text-[15px] text-gray1",children:o.detail||"   ."}),_.jsx("div",{className:"mb-4 ml-auto flex gap-x-2",children:_.jsx(c_,{onClick:()=>n(o),className:"size-[24px] text-gray1"})})]},o.id))}):_.jsx(es,{text:" "})})}function X5({month:t,book:e,bookFields:n,className:r=""}){const{title:i,thumbnail:s,authors:o,publisher:a,url:l}=e;return _.jsxs("div",{className:`flex justify-between gap-x-2 rounded-card bg-white px-4 py-5 shadow-card ${r}`,children:[_.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[_.jsx(Fn,{text:`${t} `,color:+t==+ei?"lightBlue":"purple",shape:"rounded",className:"font-medium"}),_.jsxs("div",{className:"ml-1",children:[_.jsx("h1",{className:"mb-0.5 mt-2.5 line-clamp-2 w-full text-lg font-medium leading-[22px]",children:i}),_.jsx(Ds,{authors:o,publisher:a}),_.jsxs("div",{className:"mt-2 flex flex-1 items-center gap-x-0.5",children:[_.jsx(Fre,{className:"text-[15px] text-purple2"}),_.jsx("span",{className:"text-[15px] text-purple2",children:n})]})]})]}),_.jsx(un,{title:i,thumbnail:s,url:l,className:"w-[84px]"})]})}function J5(){var l,h;const t=Le(Ur(wn)),[e,n]=Wt(Df),{pathname:r}=Br(),i=Or(),{bookFieldAndHostList:s}=e,o=s==null?void 0:s.find(({month:c})=>c===+ei);K.useEffect(()=>{e.bookFieldAndHostList.length===0&&Xn(Nr,Yd,n)},[]);const a=t&&[{label:"",value:(l=t.meeting)==null?void 0:l.time,editable:r==="/bookclub"},{label:"",value:(h=t.meeting)==null?void 0:h.place,editable:r==="/bookclub"},{label:"",value:o==null?void 0:o.hosts}];return _.jsx(_.Fragment,{children:t?t!=null&&t.book?_.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[_.jsx(X5,{month:`${+ei}`,book:t.book,bookFields:o==null?void 0:o.field,className:"col-span-1"}),_.jsx("div",{className:"col-span-1 flex flex-col gap-4",children:a.map(({label:c,value:f,editable:p})=>_.jsx(rk,{label:c,value:f,editable:p},c))})]}):_.jsx(ik,{yearMonthId:wn,event:t.meeting}):_.jsx(es,{text:"    .",createBtnTitle:"  ",onCreateClick:()=>i("/search",{state:{registerYearMonth:wn}})})})}function yce(){const t=so(i3),e=Le(T3),n=Le(r3),{uid:r}=Le(Ct),[i,s]=K.useState({wholePage:0,currentPage:0}),o=e,{title:a,thumbnail:l,authors:h,publisher:c}=n,{anonymous:f,alertAskJoinMember:p}=ii("write"),{hideModal:m}=St(),g=async w=>{var E;if(w.preventDefault(),f)return p();if(Number.isNaN(i.currentPage)||Number.isNaN(i.wholePage))return alert(" .");if(i.wholePage===0)return alert("   0   .   !");if(i.currentPage>i.wholePage)return alert("       .   !");if((E=o==null?void 0:o.books)==null?void 0:E.find(S=>S.title===n.title))return alert("    .");const x=o?{...o,books:[...o.books,{...n,...i}]}:{createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r,books:[{...n,...i}]};await Os(ln(Zt,ll,r),x),t([]),m(),alert("2024    !   !")},y=(w,b)=>{const{value:x}=w.target,E=b==="wholePage"?{wholePage:+x}:{currentPage:+x};s({...i,...E})};return _.jsxs("form",{onSubmit:g,children:[_.jsx("h3",{children:"  "}),_.jsxs("div",{children:[_.jsx(un,{title:a,thumbnail:l}),_.jsxs("div",{children:[_.jsx("h4",{children:a}),_.jsx(Ds,{authors:h,publisher:c})]})]}),_.jsxs("div",{children:[_.jsx(Xt,{label:"  ",name:"wholePage",value:`${i.wholePage}`,placeholder:"   .",onChange:w=>y(w,"wholePage")}),_.jsx(Xt,{label:"  ",name:"currentPage",value:`${i.currentPage}`,placeholder:"   .",onChange:w=>y(w,"currentPage")})]}),_.jsx(lt,{type:"submit",name:" "})]})}function ic({book:t,className:e}){const{authors:n,publisher:r,thumbnail:i,title:s}=t;return _.jsxs("div",{className:`flex w-full items-center gap-2 py-1 ${e}`,children:[_.jsx(un,{thumbnail:i,title:s,className:"ml-1 w-7"}),_.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-start",children:[_.jsx("h5",{className:"line-clamp-1 truncate whitespace-pre-wrap text-start font-medium",children:s}),n&&r&&_.jsx(Ds,{authors:n,publisher:r})]})]})}function wce(){const{book:t}=Le(Ur(wn)),e=Le(wE),{uid:n}=Le(Ct),{sendPostPushNotification:r,isPending:i}=Zi(),s=xr(wn,h3),o={text:"",createdAt:"",creatorId:n,clubBook:t||null,recommendedBook:e},{onAddDocSubmit:a,onDataChange:l,newDocData:h}=EE({collName:s,initialDocData:o}),{hideModal:c}=St(),f=async p=>{if(p.preventDefault(),e.title==="")return window.alert("    .");if(h.text==="")return window.alert("  .");try{await a(p),l({text:""}),await r("")}catch{window.alert("    .  .")}finally{c()}};return _.jsxs("form",{onSubmit:f,children:[_.jsx("textarea",{placeholder:"   .",onChange:p=>l({text:p.target.value}),value:h.text,className:"h-32 w-full resize-none rounded-xl border border-gray2 p-3 outline-none"}),_.jsxs("div",{className:"mt-3 flex items-end justify-between gap-3",children:[e.thumbnail&&_.jsx(ic,{book:e,className:"h-14"}),_.jsx(lt,{name:"",type:"submit",className:"ml-auto h-fit min-w-max",disabled:i})]})]})}function Z5(){return _.jsx("div",{className:"border-b-2 border-dotted border-gray2"})}function eF({searchList:t,onSelectBtnClick:e}){return _.jsx("ul",{className:"mt-2 h-64 overflow-scroll",children:t.map((n,r)=>_.jsxs(K.Fragment,{children:[_.jsx("li",{className:"py-2",children:_.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-x-2",onClick:()=>e(n),children:[_.jsx(ic,{book:n,className:"h-14"}),_.jsx(A3,{className:"text-lg text-blue1"})]})}),(t==null?void 0:t.length)-1!==r&&_.jsx(Z5,{})]},`${n.title}-${n.isbn}`))})}function bce({title:t}){const e=so(wE),n=so(r3),[r,i]=K.useState(1),{searchInputRef:s,onBookQueryChange:o,searchList:a}=NE();K.useEffect(()=>{s&&!a.length&&s.current.focus()},[]);const l=c=>{if(h(2),t===" "){const{url:f,title:p,publisher:m,thumbnail:g,authors:y}=c;e({url:f,title:p,publisher:m,thumbnail:g,authors:y})}else n(c)},h=c=>i(c);return _.jsxs(Vr,{title:t,children:[r===1&&_.jsxs("div",{className:"relative mt-3 min-h-64 max-sm:mt-0",children:[_.jsx(Xt,{ref:s,placeholder:`${t===" "?"":" "} .`,onChange:o,className:"bg-gray-50 pl-9",iconName:"FiSearch"}),(a==null?void 0:a.length)!==0&&_.jsx(eF,{searchList:a,onSelectBtnClick:l})]}),r===2&&(t===" "?_.jsx(wce,{}):_.jsx(yce,{}))]})}const xce=()=>{const{showModal:t}=St();return _.jsx(_.Fragment,{children:_.jsxs("button",{className:"mb-[10px] flex w-1/2 items-center gap-1 rounded-full bg-white px-4 py-3 shadow-card max-sm:w-full",onClick:()=>t({element:_.jsx(bce,{title:" "})}),children:[_.jsx(PE,{fontSize:18}),_.jsx("span",{className:"text-sm text-gray2",children:" "})]})})},tF=On({key:`subjectDocs/${zt()}`,default:null}),nF=On({key:`hostReviews/${zt()}`,default:null}),_ce=On({key:`meetingReviewDocs/${zt()}`,default:[]});function Sce(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function Ece(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"},child:[]}]})(t)}function kce(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"m6.293 13.293 1.414 1.414L12 10.414l4.293 4.293 1.414-1.414L12 7.586z"},child:[]}]})(t)}function Tce(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.379-2.143-4.288-4.521-3.965C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.035C6.138 3.712 4 5.621 4 8c0 .173.012.347.035.521C2.802 9.215 2 10.535 2 12s.802 2.785 2.035 3.479A3.976 3.976 0 0 0 4 16c0 2.379 2.138 4.283 4.521 3.965C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.035C17.857 20.283 20 18.379 20 16c0-.173-.012-.347-.035-.521C21.198 14.785 22 13.465 22 12s-.802-2.785-2.035-3.479zm-9.01 7.895-3.667-3.714 1.424-1.404 2.257 2.286 4.327-4.294 1.408 1.42-5.749 5.706z"},child:[]}]})(t)}const Cce=({docMonth:t})=>{const[e,n]=K.useState(!1),{book:r}=Le(Ur(wn)),{uid:i}=Le(Ct),s=xr(t,bE),o={text:"",createdAt:"",creatorId:i,clubBook:r||null,isAnonymous:e},{onAddDocSubmit:a,onDataChange:l,newDocData:h}=EE({collName:s,initialDocData:o}),{isPending:c,sendPostPushNotification:f}=Zi(),p=async m=>{if(m.preventDefault(),h.text!=="")try{await a(m),l({text:""}),await f(" ")}catch{window.alert("     .  .")}};return _.jsx("form",{onSubmit:p,className:"mb-5 rounded-2xl bg-purple4 p-4 shadow-card max-sm:p-4",children:_.jsxs("div",{className:"flex flex-col",children:[_.jsx("textarea",{placeholder:"     (  !).",value:h.text,onChange:m=>{l({text:m.target.value})},className:"mb-1 min-h-40 w-full resize-none rounded-xl bg-white p-2.5 outline-none"}),_.jsxs("div",{className:"flex items-end",children:[_.jsxs("button",{type:"button",className:`flex items-center ${e?"text-blue3":"text-gray2"} py-1`,onClick:()=>n(m=>!m),children:[_.jsx(Sce,{}),_.jsx("span",{className:"pl-1",children:" "})]}),_.jsx(lt,{name:"",type:"submit",color:"blue",className:"ml-auto mt-2 !px-5 !py-2",disabled:c})]})]})})};function rF({creatorId:t,isAnonymous:e}){return _.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[_.jsx(Xre,{fontSize:14}),_.jsx("span",{className:"mr-2 text-sm",children:""}),e?_.jsx("span",{className:"text-sm",children:" "}):_.jsx(ur,{userId:t,isLink:!1})]})}function iF({collName:t,post:e,postType:n}){const{uid:r}=Le(Ct),{creatorId:i,isAnonymous:s}=e;return _.jsxs("header",{className:"flex items-center justify-between gap-1 rounded-xl",children:[_.jsx(rF,{creatorId:i,isAnonymous:s}),r===i&&t&&_.jsx(Y3,{post:e,collName:t,postType:n})]})}function sk({type:t,post:e,collName:n,className:r,children:i}){const{text:s}=e;return _.jsxs("article",{className:`flex min-h-[80px] w-full flex-col gap-2.5 ${r}`,children:[_.jsx(iF,{collName:n,post:e,postType:t}),_.jsx(ME,{text:s}),i]})}const Nce=({yearMonthId:t=wn})=>{const[e,n]=Wt(_ce),r=xr(t,bE);K.useEffect(()=>{Hn(r,n)},[r]);const i=t===wn;return _.jsxs("div",{className:`${!i&&e.length===0?"columns-1":"columns-2"} max-sm:columns-1`,children:[i&&_.jsx(Cce,{docMonth:t}),(e==null?void 0:e.length)!==0?_.jsx("ul",{children:e==null?void 0:e.map(s=>_.jsx("li",{className:"mb-6 flex w-full break-inside-avoid flex-col gap-4",children:_.jsx(sk,{type:" ",post:s,collName:r,className:"rounded-2xl bg-white p-4 shadow-card",children:_.jsx(vv,{createdAt:s.createdAt,footerType:"likes",post:s,collName:r})})},s.id))}):_.jsx(es,{text:"   ."})]})};function WI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ok(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:WI(e[n])&&WI(t[n])&&Object.keys(e[n]).length>0&&ok(t[n],e[n])})}const sF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ni(){const t=typeof document<"u"?document:{};return ok(t,sF),t}const Oce={document:sF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ar(){const t=typeof window<"u"?window:{};return ok(t,Oce),t}function Lo(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Ace(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Qm(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Xm(){return Date.now()}function Dce(t){const e=Ar();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Ice(t,e){e===void 0&&(e="x");const n=Ar();let r,i,s;const o=Dce(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function bp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Pce(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ci(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!Pce(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(bp(t[a])&&bp(r[a])?r[a].__swiper__?t[a]=r[a]:ci(t[a],r[a]):!bp(t[a])&&bp(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:ci(t[a],r[a])):t[a]=r[a])}}}return t}function xp(t,e,n){t.style.setProperty(e,n)}function oF(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Ar(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const h=n>s?"next":"prev",c=(p,m)=>h==="next"&&p>=m||h==="prev"&&p<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let g=s+m*(n-s);if(c(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),c(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function bs(t,e){e===void 0&&(e="");const n=Ar(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function Rce(t,e){var r,i;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((r=s.shadowRoot)==null?void 0:r.children)||[],...((i=s.assignedElements)==null?void 0:i.call(s))||[])}}function Mce(t,e){const n=Ar();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Rce(t,e))),r}function Jm(t){try{console.warn(t);return}catch{}}function Qd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Lo(e)),n}function Lce(t){const e=Ar(),n=Ni(),r=t.getBoundingClientRect(),i=n.body,s=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:r.top+a-s,left:r.left+l-o}}function jce(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Fce(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Yo(t,e){return Ar().getComputedStyle(t,null).getPropertyValue(e)}function Zm(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function aF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function d_(t,e,n){const r=Ar();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Vn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let $b;function $ce(){const t=Ar(),e=Ni();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function lF(){return $b||($b=$ce()),$b}let Bb;function Bce(t){let{userAgent:e}=t===void 0?{}:t;const n=lF(),r=Ar(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let g=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),h&&!m&&(o.os="android",o.android=!0),(c||p||f)&&(o.os="ios",o.ios=!0),o}function uF(t){return t===void 0&&(t={}),Bb||(Bb=Bce(t)),Bb}let Ub;function Uce(){const t=Ar(),e=uF();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,h]=a.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));n=l<16||l===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function Vce(){return Ub||(Ub=Uce()),Ub}function qce(t){let{swiper:e,on:n,emit:r}=t;const i=Ar();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:p,height:m}=e;let g=p,y=m;f.forEach(w=>{let{contentBoxSize:b,contentRect:x,target:E}=w;E&&E!==e.el||(g=x?x.width:(b[0]||b).inlineSize,y=x?x.height:(b[0]||b).blockSize)}),(g!==p||y!==m)&&a()})}),s.observe(e.el))},h=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),n("destroy",()=>{h(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Hce(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Ar(),a=function(c,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const y=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=aF(e.hostEl);for(let f=0;f<c.length;f+=1)a(c[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",h)}var zce={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(h=>{h.apply(r,n)})}),t}};function Wce(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Yo(r,"padding-left")||0,10)-parseInt(Yo(r,"padding-right")||0,10),n=n-parseInt(Yo(r,"padding-top")||0,10)-parseInt(Yo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Yce(){const t=this;function e(I,A){return parseFloat(I.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,c=bs(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let p=[];const m=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,x=t.slidesGrid.length;let E=n.spaceBetween,S=-y,k=0,C=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,c.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(xp(r,"--swiper-centered-offset-before",""),xp(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let N;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<f;I+=1){N=0;let A;if(c[I]&&(A=c[I]),O&&t.grid.updateSlide(I,A,c),!(c[I]&&Yo(A,"display")==="none")){if(n.slidesPerView==="auto"){P&&(c[I].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(A),L=A.style.transform,F=A.style.webkitTransform;if(L&&(A.style.transform="none"),F&&(A.style.webkitTransform="none"),n.roundLengths)N=t.isHorizontal()?d_(A,"width"):d_(A,"height");else{const q=e(D,"width"),M=e(D,"padding-left"),B=e(D,"padding-right"),Y=e(D,"margin-left"),H=e(D,"margin-right"),j=D.getPropertyValue("box-sizing");if(j&&j==="border-box")N=q+Y+H;else{const{clientWidth:U,offsetWidth:V}=A;N=q+M+B+Y+H+(V-U)}}L&&(A.style.transform=L),F&&(A.style.webkitTransform=F),n.roundLengths&&(N=Math.floor(N))}else N=(s-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(N=Math.floor(N)),c[I]&&(c[I].style[t.getDirectionLabel("width")]=`${N}px`);c[I]&&(c[I].swiperSlideSize=N),g.push(N),n.centeredSlides?(S=S+N/2+k/2+E,k===0&&I!==0&&(S=S-s/2-E),I===0&&(S=S-s/2-E),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),C%n.slidesPerGroup===0&&p.push(S),m.push(S)):(n.roundLengths&&(S=Math.floor(S)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup===0&&p.push(S),m.push(S),S=S+N+E),t.virtualSize+=N+E,k=N,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),O&&t.grid.updateWrapperSize(N,p),!n.centeredSlides){const I=[];for(let A=0;A<p.length;A+=1){let D=p[A];n.roundLengths&&(D=Math.floor(D)),p[A]<=t.virtualSize-s&&I.push(D)}p=I,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const I=g[0]+E;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=I*n.slidesPerGroup;for(let L=0;L<A;L+=1)p.push(p[p.length-1]+D)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+I),m.push(m[m.length-1]+I),t.virtualSize+=I}if(p.length===0&&(p=[0]),E!==0){const I=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");c.filter((A,D)=>!n.cssMode||n.loop?!0:D!==c.length-1).forEach(A=>{A.style[I]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;g.forEach(D=>{I+=D+(E||0)}),I-=E;const A=I>s?I-s:0;p=p.map(D=>D<=0?-y:D>A?A+w:D)}if(n.centerInsufficientSlides){let I=0;g.forEach(D=>{I+=D+(E||0)}),I-=E;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(I+A<s){const D=(s-I-A)/2;p.forEach((L,F)=>{p[F]=L-D}),m.forEach((L,F)=>{m[F]=L+D})}}if(Object.assign(t,{slides:c,snapGrid:p,slidesGrid:m,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){xp(r,"--swiper-centered-offset-before",`${-p[0]}px`),xp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const I=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+I),t.slidesGrid=t.slidesGrid.map(D=>D+A)}if(f!==h&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const I=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(I);f<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(I):A&&t.el.classList.remove(I)}}function Gce(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function Kce(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const YI=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Qce(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const h=r[l];let c=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),m=-(o-c),g=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||g>1&&g<=e.size||m<=0&&g>=e.size;w&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l)),YI(h,w,n.slideVisibleClass),YI(h,y,n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-p:p}}function Xce(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,h=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;s=c||i<=0,o=f||i>=1,c&&(i=0),f&&(i=1)}if(n.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[c],m=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?a=(y-p)/g:a=(y+g-m)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!h&&e.emit("reachEnd toEdge"),(l&&!s||h&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Vb=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Jce(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>bs(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,h,c;if(s)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),c=e.find(f=>f.column===i+1),h=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(c=Fce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=e[0]),h=jce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(f=>{Vb(f,f===l,n.slideActiveClass),Vb(f,f===c,n.slideNextClass),Vb(f,f===h,n.slidePrevClass)}),t.emitSlidesClasses()}const zp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},qb=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},f_=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,h)=>o+r+h)),t.slides.forEach((l,h)=>{a.includes(l.column)&&qb(t,h)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&qb(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&qb(t,o)};function Zce(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function ede(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,h;const c=m=>{let g=m-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=Zce(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);h=m+Math.floor((l-m)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===s&&!e.params.loop){h!==a&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=c(l);else if(f){const m=e.slides.find(y=>y.column===l);let g=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(m),0)),p=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:h,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&f_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function tde(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var nde={updateSize:Wce,updateSlides:Yce,updateAutoHeight:Gce,updateSlidesOffset:Kce,updateSlidesProgress:Qce,updateProgress:Xce,updateSlidesClasses:Jce,updateActiveIndex:ede,updateClickedSlide:tde};function rde(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=Ice(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function ide(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const h=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${h}px)`);let c;const f=n.maxTranslate()-n.minTranslate();f===0?c=0:c=(t-n.minTranslate())/f,c!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function sde(){return-this.snapGrid[0]}function ode(){return-this.snapGrid[this.snapGrid.length-1]}function ade(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),h=s.maxTranslate();let c;if(r&&t>l?c=l:r&&t<h?c=h:c=t,s.updateProgress(c),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return oF({swiper:s,targetPosition:-c,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var lde={getTranslate:rde,setTranslate:ide,minTranslate:sde,maxTranslate:ode,translateTo:ade};function ude(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function cF(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function cde(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),cF({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function dde(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),cF({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var fde={setTransition:ude,transitionStart:cde,transitionEnd:dde};function hde(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:g}=s;if(!g&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let w=y+Math.floor((o-y)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let k=0;k<h.length;k+=1){const C=-Math.floor(b*100),O=Math.floor(h[k]*100),N=Math.floor(h[k+1]*100);typeof h[k+1]<"u"?C>=O&&C<N-(N-O)/2?o=k:C>=O&&C<N&&(o=k+1):C>=O&&(o=k)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(p?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(f||0)!==o))return!1;o!==(c||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let x;o>f?x="next":o<f?x="prev":x="reset";const E=s.virtual&&s.params.virtual.enabled;if(!(E&&i)&&(p&&-b===s.translate||!p&&b===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(b),x!=="reset"&&(s.transitionStart(n,x),s.transitionEnd(n,x)),!1;if(a.cssMode){const k=s.isHorizontal(),C=p?b:-b;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[k?"scrollLeft":"scrollTop"]=C})):m[k?"scrollLeft":"scrollTop"]=C,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return oF({swiper:s,targetPosition:C,side:k?"left":"top"}),!0;m.scrollTo({[k?"left":"top"]:C,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(b),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,x),e===0?s.transitionEnd(n,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function pde(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const p=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&c%2===0&&(c=c+1));let f=l-a<c;if(h&&(f=f||a<Math.ceil(c/2)),r&&h&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const p=h?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(s){const p=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function mde(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,h=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!h&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function gde(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:h}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const c=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(f),g=s.map(b=>p(b));let y=s[g.indexOf(m)-1];if(typeof y>"u"&&i.cssMode){let b;s.forEach((x,E)=>{m>=x&&(b=E)}),typeof b<"u"&&(y=s[b>0?b-1:b])}let w=0;if(typeof y<"u"&&(w=o.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function vde(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function yde(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const h=i.snapGrid[a],c=i.snapGrid[a+1];l-h>(c-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[a-1],c=i.snapGrid[a];l-h<=(c-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function wde(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(bs(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Qm(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(bs(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Qm(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var bde={slideTo:hde,slideToLoop:pde,slideNext:mde,slidePrev:gde,slideReset:vde,slideToClosest:yde,slideToClickedSlide:wde};function xde(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{bs(r,`.${n.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,h=c=>{for(let f=0;f<c;f+=1){const p=e.isElement?Qd("swiper-slide",[n.slideBlankClass]):Qd("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const c=o-e.slides.length%o;h(c),e.recalcSlides(),e.updateSlides()}else Jm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const c=n.grid.rows-e.slides.length%n.grid.rows;h(c),e.recalcSlides(),e.updateSlides()}else Jm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function _de(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:h,allowSlidePrev:c,allowSlideNext:f,slidesEl:p,params:m}=l,{centeredSlides:g}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=m.loopAdditionalSlides,l.loopedSlides=b;const x=l.grid&&m.grid&&m.grid.rows>1;h.length<y+b?Jm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&m.grid.fill==="row"&&Jm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],S=[];let k=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(h.find(L=>L.classList.contains(m.slideActiveClass))):k=s;const C=r==="next"||!r,O=r==="prev"||!r;let N=0,P=0;const I=x?Math.ceil(h.length/m.grid.rows):h.length,D=(x?h[s].column:s)+(g&&typeof i>"u"?-y/2+.5:0);if(D<b){N=Math.max(b-D,w);for(let L=0;L<b-D;L+=1){const F=L-Math.floor(L/I)*I;if(x){const q=I-F-1;for(let M=h.length-1;M>=0;M-=1)h[M].column===q&&E.push(M)}else E.push(I-F-1)}}else if(D+y>I-b){P=Math.max(D-(I-b*2),w);for(let L=0;L<P;L+=1){const F=L-Math.floor(L/I)*I;x?h.forEach((q,M)=>{q.column===F&&S.push(M)}):S.push(F)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),O&&E.forEach(L=>{h[L].swiperLoopMoveDOM=!0,p.prepend(h[L]),h[L].swiperLoopMoveDOM=!1}),C&&S.forEach(L=>{h[L].swiperLoopMoveDOM=!0,p.append(h[L]),h[L].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():x&&(E.length>0&&O||S.length>0&&C)&&l.slides.forEach((L,F)=>{l.grid.updateSlide(F,L,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(E.length>0&&O){if(typeof e>"u"){const L=l.slidesGrid[k],q=l.slidesGrid[k+N]-L;a?l.setTranslate(l.translate-q):(l.slideTo(k+Math.ceil(N),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else if(i){const L=x?E.length/m.grid.rows:E.length;l.slideTo(l.activeIndex+L,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&C)if(typeof e>"u"){const L=l.slidesGrid[k],q=l.slidesGrid[k-P]-L;a?l.setTranslate(l.translate-q):(l.slideTo(k-P,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else{const L=x?S.length/m.grid.rows:S.length;l.slideTo(l.activeIndex-L,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const L={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(F=>{!F.destroyed&&F.params.loop&&F.loopFix({...L,slideTo:F.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...L,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Sde(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Ede={loopCreate:xde,loopFix:_de,loopDestroy:Sde};function kde(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Tde(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Cde={setGrabCursor:kde,unsetGrabCursor:Tde};function Nde(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Ni()||r===Ar())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function GI(t,e,n){const r=Ar(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Ode(t){const e=this,n=Ni();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){GI(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!Mce(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",c=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&c&&(l=c[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(p?Nde(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,g=o.currentY;if(!GI(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,i.touchStartTime=Xm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let y=!0;l.matches(i.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Ade(t){const e=Ni(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].find(k=>k.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=h.pageX,f=h.pageY;if(l.preventedByNestedSwiper){s.startX=c,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=Xm());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=c,s.currentY=f;const p=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let k;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+m*m>=25&&(k=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?k>i.touchAngle:90-k>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?p:m,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=g,g*=i.touchRatio,o&&(g=-g,y=-y);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!i.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&b&&x&&Math.abs(g)>=1){Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let E=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),g>0?(b&&x&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(b&&x&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),E&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Dde(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(k=>k.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:h,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Xm(),p=f-n.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Xm(),Qm(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const g=m>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let k=0;k<h.length;k+=k<o.slidesPerGroupSkip?1:o.slidesPerGroup){const C=k<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof h[k+C]<"u"?(g||m>=h[k]&&m<h[k+C])&&(y=k,w=h[k+C]-h[k]):(g||m>=h[k])&&(y=k,w=h[h.length-1]-h[h.length-2])}let b=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const E=(m-h[y])/w,S=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?b:y+S):e.slideTo(y)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(y+S):x!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+S):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+S),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function KI(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Ide(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Pde(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Rde(t){const e=this;zp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Mde(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const dF=(t,e)=>{const n=Ni(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[h](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",KI,!0):t[h]("observerUpdate",KI,!0),i[l]("load",t.onLoad,{capture:!0}))};function Lde(){const t=this,{params:e}=t;t.onTouchStart=Ode.bind(t),t.onTouchMove=Ade.bind(t),t.onTouchEnd=Dde.bind(t),t.onDocumentTouchStart=Mde.bind(t),e.cssMode&&(t.onScroll=Pde.bind(t)),t.onClick=Ide.bind(t),t.onLoad=Rde.bind(t),dF(t,"on")}function jde(){dF(this,"off")}var Fde={attachEvents:Lde,detachEvents:jde};const QI=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $de(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Ni(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),h=t.getBreakpoint(s,a,l);if(!h||t.currentBreakpoint===h)return;const f=(h in s?s[h]:void 0)||t.originalParams,p=QI(t,r),m=QI(t,f),g=t.params.grabCursor,y=f.grabCursor,w=r.enabled;p&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof f[C]>"u")return;const O=r[C]&&r[C].enabled,N=f[C]&&f[C].enabled;O&&!N&&t[C].disable(),!O&&N&&t[C].enable()});const b=f.direction&&f.direction!==r.direction,x=r.loop&&(f.slidesPerView!==r.slidesPerView||b),E=r.loop;b&&n&&t.changeDirection(),ci(t.params,f);const S=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!S?t.disable():!w&&S&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",f),n&&(x?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&k?(t.loopCreate(e),t.updateSlides()):E&&!k&&t.loopDestroy()),t.emit("breakpoint",f)}function Bde(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Ar(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:h}=o[a];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=n.clientWidth&&(r=l)}return r||"max"}var Ude={setBreakpoint:$de,getBreakpoint:Bde};function Vde(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function qde(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=Vde(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function Hde(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var zde={addClasses:qde,removeClasses:Hde};function Wde(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Yde={checkOverflow:Wde},h_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Gde(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){ci(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){ci(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),ci(e,r)}}const Hb={eventsEmitter:zce,update:nde,translate:lde,transition:fde,slide:bde,loop:Ede,grabCursor:Cde,events:Fde,breakpoints:Ude,checkOverflow:Yde,classes:zde},zb={};let ak=class Bs{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=ci({},n),e&&!n.el&&(n.el=e);const o=Ni();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const c=[];return o.querySelectorAll(n.el).forEach(f=>{const p=ci({},n,{el:f});c.push(new Bs(p))}),c}const a=this;a.__swiper__=!0,a.support=lF(),a.device=uF({userAgent:n.userAgent}),a.browser=Vce(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(c=>{c({params:n,swiper:a,extendParams:Gde(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const h=ci({},h_,l);return a.params=ci({},h,zb,n),a.originalParams=ci({},a.params),a.passedParams=ci({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=bs(n,`.${r.slideClass}, swiper-slide`),s=Zm(i[0]);return Zm(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=bs(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:h}=r;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[h]?Math.ceil(s[h].swiperSlideSize):0,p;for(let m=h+1;m<s.length;m+=1)s[m]&&!p&&(f+=Math.ceil(s[m].swiperSlideSize),c+=1,f>l&&(p=!0));for(let m=h-1;m>=0;m-=1)s[m]&&!p&&(f+=s[m].swiperSlideSize,c+=1,f>l&&(p=!0))}else if(e==="current")for(let f=h+1;f<s.length;f+=1)(n?o[f]+a[f]-o[h]<l:o[f]-o[h]<l)&&(c+=1);else for(let f=h-1;f>=0;f-=1)o[h]-o[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&zp(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):bs(r,i())[0];return!o&&n.params.createElements&&(o=Qd("div",n.params.wrapperClass),r.append(o),bs(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Yo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Yo(r,"direction")==="rtl"),wrongRTL:Yo(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?zp(n,s):s.addEventListener("load",o=>{zp(n,o.target)})}),f_(n),n.initialized=!0,f_(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Ace(r)),r.destroyed=!0),null}static extendDefaults(e){ci(zb,e)}static get extendedDefaults(){return zb}static get defaults(){return h_}static installModule(e){Bs.prototype.__modules__||(Bs.prototype.__modules__=[]);const n=Bs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Bs.installModule(n)),Bs):(Bs.installModule(e),Bs)}};Object.keys(Hb).forEach(t=>{Object.keys(Hb[t]).forEach(e=>{ak.prototype[e]=Hb[t][e]})});ak.use([qce,Hce]);const fF=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function hl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function wu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:hl(e[r])&&hl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:wu(t[r],e[r]):t[r]=e[r]})}function hF(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function pF(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function mF(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function gF(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Kde(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Qde(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const h=i.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:c,pagination:f,navigation:p,scrollbar:m,virtual:g,thumbs:y}=e;let w,b,x,E,S,k,C,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(b=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(c.scrollbar||c.scrollbar===!1)&&m&&!m.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(S=!0);const N=P=>{e[P]&&(e[P].destroy(),P==="navigation"?(e.isElement&&(e[P].prevEl.remove(),e[P].nextEl.remove()),c[P].prevEl=void 0,c[P].nextEl=void 0,e[P].prevEl=void 0,e[P].nextEl=void 0):(e.isElement&&e[P].el.remove(),c[P].el=void 0,e[P].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!r.loop?k=!0:!c.loop&&r.loop?C=!0:O=!0),h.forEach(P=>{if(hl(c[P])&&hl(r[P]))Object.assign(c[P],r[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in r[P]&&!r[P].enabled&&N(P);else{const I=r[P];(I===!0||I===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?I===!1&&N(P):c[P]=r[P]}}),h.includes("controller")&&!b&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&n&&g&&c.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&c.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&c.loop&&(O=!0),w&&y.init()&&y.update(!0),b&&(e.controller.control=c.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),S&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(k||O)&&e.loopDestroy(),(C||O)&&e.loopCreate(),e.update()}function Xde(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};wu(n,h_),n._emitClasses=!0,n.init=!1;const s={},o=fF.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?hl(t[l])?(n[l]={},i[l]={},wu(n[l],t[l]),wu(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function Jde(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;hF(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),pF(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),mF(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Zde(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),h=n.map(i);l.join("")!==h.join("")&&o("children"),r.length!==n.length&&o("children")}return fF.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(hl(t[l])&&hl(e[l])){const h=Object.keys(t[l]),c=Object.keys(e[l]);h.length!==c.length?o(l):(h.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const efe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function vF(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function yF(t){const e=[];return se.Children.toArray(t).forEach(n=>{vF(n)?e.push(n):n.props&&n.props.children&&yF(n.props.children).forEach(r=>e.push(r))}),e}function tfe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return se.Children.toArray(t).forEach(r=>{if(vF(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=yF(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function nfe(t,e,n){if(!n)return null;const r=c=>{let f=c;return c<0?f=e.length+c:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,h=[];for(let c=a;c<l;c+=1)c>=s&&c<=o&&h.push(e[r(c)]);return h.map((c,f)=>se.cloneElement(c,{swiper:t,style:i,key:c.props.virtualIndex||c.key||`slide-${f}`}))}function Sd(t,e){return typeof window>"u"?K.useEffect(t,e):K.useLayoutEffect(t,e)}const XI=K.createContext(null),rfe=K.createContext(null),wF=K.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[h,c]=K.useState("swiper"),[f,p]=K.useState(null),[m,g]=K.useState(!1),y=K.useRef(!1),w=K.useRef(null),b=K.useRef(null),x=K.useRef(null),E=K.useRef(null),S=K.useRef(null),k=K.useRef(null),C=K.useRef(null),O=K.useRef(null),{params:N,passedParams:P,rest:I,events:A}=Xde(a),{slides:D,slots:L}=tfe(s),F=()=>{g(!m)};Object.assign(N.on,{_containerClasses(H,j){c(j)}});const q=()=>{Object.assign(N.on,A),l=!0;const H={...N};if(delete H.wrapperClass,b.current=new ak(H),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=D;const j={cache:!1,slides:D,renderExternal:p,renderExternalUpdate:!1};wu(b.current.params.virtual,j),wu(b.current.originalParams.virtual,j)}};w.current||q(),b.current&&b.current.on("_beforeBreakpoint",F);const M=()=>{l||!A||!b.current||Object.keys(A).forEach(H=>{b.current.on(H,A[H])})},B=()=>{!A||!b.current||Object.keys(A).forEach(H=>{b.current.off(H,A[H])})};K.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",F)}),K.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),Sd(()=>{if(e&&(e.current=w.current),!!w.current)return b.current.destroyed&&q(),Jde({el:w.current,nextEl:S.current,prevEl:k.current,paginationEl:C.current,scrollbarEl:O.current,swiper:b.current},N),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Sd(()=>{M();const H=Zde(P,x.current,D,E.current,j=>j.key);return x.current=P,E.current=D,H.length&&b.current&&!b.current.destroyed&&Qde({swiper:b.current,slides:D,passedParams:P,changedParams:H,nextEl:S.current,prevEl:k.current,scrollbarEl:O.current,paginationEl:C.current}),()=>{B()}}),Sd(()=>{efe(b.current)},[f]);function Y(){return N.virtual?nfe(b.current,D,f):D.map((H,j)=>se.cloneElement(H,{swiper:b.current,swiperSlideIndex:j}))}return se.createElement(r,eg({ref:w,className:gF(`${h}${n?` ${n}`:""}`)},I),se.createElement(rfe.Provider,{value:b.current},L["container-start"],se.createElement(i,{className:Kde(N.wrapperClass)},L["wrapper-start"],Y(),L["wrapper-end"]),hF(N)&&se.createElement(se.Fragment,null,se.createElement("div",{ref:k,className:"swiper-button-prev"}),se.createElement("div",{ref:S,className:"swiper-button-next"})),mF(N)&&se.createElement("div",{ref:O,className:"swiper-scrollbar"}),pF(N)&&se.createElement("div",{ref:C,className:"swiper-pagination"}),L["container-end"]))});wF.displayName="Swiper";const jf=K.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:h,...c}=t===void 0?{}:t;const f=K.useRef(null),[p,m]=K.useState("swiper-slide"),[g,y]=K.useState(!1);function w(S,k,C){k===f.current&&m(C)}Sd(()=>{if(typeof h<"u"&&(f.current.swiperSlideIndex=h),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),Sd(()=>{s&&f.current&&!s.destroyed&&m(s.getSlideClasses(f.current))},[s]);const b={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(b):r,E=()=>{y(!0)};return se.createElement(n,eg({ref:f,className:gF(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:E},c),o&&se.createElement(XI.Provider,{value:b},se.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&se.createElement(XI.Provider,{value:b},x(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"})))});jf.displayName="SwiperSlide";function tg({title:t,to:e,state:n,className:r="",onClick:i}){return _.jsxs(br,{to:e,state:n,className:`mt-3 flex items-center justify-end gap-1 text-sm text-gray1 ${r}`,onClick:i,children:[t&&_.jsx("span",{className:"font-medium",children:t}),_.jsx(AE,{className:""})]})}function ife({to:t,name:e,state:n}){return _.jsxs(br,{to:t,state:n,className:"mb-2 flex items-center gap-1 rounded-xl px-4 py-3",children:[_.jsx(P3,{className:"text-lg text-blue3"}),_.jsx("span",{className:"font-medium text-blue3",children:e})]})}function lk(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=bs(t.el,`.${r[i]}`)[0];s||(s=Qd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function sfe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function o(g,y){const w=e.params.navigation;g=Vn(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const g=e.params.navigation;if(e.params.navigation=lk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=s(g.nextEl),w=s(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=Vn(y),w=Vn(w);const b=(x,E)=>{x&&x.addEventListener("click",E==="next"?h:l),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>b(x,"next")),w.forEach(x=>b(x,"prev"))}function f(){let{nextEl:g,prevEl:y}=e.navigation;g=Vn(g),y=Vn(y);const w=(b,x)=>{b.removeEventListener("click",x==="next"?h:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>w(b,"next")),y.forEach(b=>w(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(c(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=Vn(g),y=Vn(y),e.enabled){a();return}[...g,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:w,prevEl:b}=e.navigation;w=Vn(w),b=Vn(b);const x=y.target;let E=b.includes(x)||w.includes(x);if(e.isElement&&!E){const S=y.path||y.composedPath&&y.composedPath();S&&(E=S.find(k=>w.includes(k)||b.includes(k)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let S;w.length?S=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(S=b[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...w,...b].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:c,destroy:f})}function ru(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ofe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(x,E){const{bulletActiveClass:S}=e.params.pagination;x&&(x=x[`${E==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${S}-${E}`),x=x[`${E==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${S}-${E}-${E}`)))}function c(x,E,S){if(x=x%S,E=E%S,E===x+1)return"next";if(E===x-1)return"previous"}function f(x){const E=x.target.closest(ru(e.params.pagination.bulletClass));if(!E)return;x.preventDefault();const S=Zm(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const k=c(e.realIndex,S,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function p(){const x=e.rtl,E=e.params.pagination;if(l())return;let S=e.pagination.el;S=Vn(S);let k,C;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,k=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const P=e.pagination.bullets;let I,A,D;if(E.dynamicBullets&&(o=d_(P[0],e.isHorizontal()?"width":"height"),S.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&C!==void 0&&(a+=k-(C||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),I=Math.max(k-a,0),A=I+(Math.min(P.length,E.dynamicMainBullets)-1),D=(A+I)/2),P.forEach(L=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${E.bulletActiveClass}${q}`)].map(q=>typeof q=="string"&&q.includes(" ")?q.split(" "):q).flat();L.classList.remove(...F)}),S.length>1)P.forEach(L=>{const F=Zm(L);F===k?L.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),E.dynamicBullets&&(F>=I&&F<=A&&L.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),F===I&&h(L,"prev"),F===A&&h(L,"next"))});else{const L=P[k];if(L&&L.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&P.forEach((F,q)=>{F.setAttribute("part",q===k?"bullet-active":"bullet")}),E.dynamicBullets){const F=P[I],q=P[A];for(let M=I;M<=A;M+=1)P[M]&&P[M].classList.add(...`${E.bulletActiveClass}-main`.split(" "));h(F,"prev"),h(q,"next")}}if(E.dynamicBullets){const L=Math.min(P.length,E.dynamicMainBullets+4),F=(o*L-o)/2-D*o,q=x?"right":"left";P.forEach(M=>{M.style[e.isHorizontal()?q:"top"]=`${F}px`})}}S.forEach((P,I)=>{if(E.type==="fraction"&&(P.querySelectorAll(ru(E.currentClass)).forEach(A=>{A.textContent=E.formatFractionCurrent(k+1)}),P.querySelectorAll(ru(E.totalClass)).forEach(A=>{A.textContent=E.formatFractionTotal(N)})),E.type==="progressbar"){let A;E.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const D=(k+1)/N;let L=1,F=1;A==="horizontal"?L=D:F=D,P.querySelectorAll(ru(E.progressbarFillClass)).forEach(q=>{q.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${F})`,q.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(P.innerHTML=E.renderCustom(e,k+1,N),I===0&&i("paginationRender",P)):(I===0&&i("paginationRender",P),i("paginationUpdate",P)),e.params.watchOverflow&&e.enabled&&P.classList[e.isLocked?"add":"remove"](E.lockClass)})}function m(){const x=e.params.pagination;if(l())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=Vn(S);let k="";if(x.type==="bullets"){let C=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>E&&(C=E);for(let O=0;O<C;O+=1)x.renderBullet?k+=x.renderBullet.call(e,O,x.bulletClass):k+=`<${x.bulletElement} ${e.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?k=x.renderFraction.call(e,x.currentClass,x.totalClass):k=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?k=x.renderProgressbar.call(e,x.progressbarFillClass):k=`<span class="${x.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(C=>{x.type!=="custom"&&(C.innerHTML=k||""),x.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(ru(x.bulletClass)))}),x.type!=="custom"&&i("paginationRender",S[0])}function g(){e.params.pagination=lk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const x=e.params.pagination;if(!x.el)return;let E;typeof x.el=="string"&&e.isElement&&(E=e.el.querySelector(x.el)),!E&&typeof x.el=="string"&&(E=[...document.querySelectorAll(x.el)]),E||(E=x.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(x.el)],E.length>1&&(E=E.find(S=>aF(S,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Vn(E),E.forEach(S=>{x.type==="bullets"&&x.clickable&&S.classList.add(...(x.clickableClass||"").split(" ")),S.classList.add(x.modifierClass+x.type),S.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(S.classList.add(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&S.classList.add(x.progressbarOppositeClass),x.clickable&&S.addEventListener("click",f),e.enabled||S.classList.add(x.lockClass)}))}function y(){const x=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=Vn(E),E.forEach(S=>{S.classList.remove(x.hiddenClass),S.classList.remove(x.modifierClass+x.type),S.classList.remove(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(S.classList.remove(...(x.clickableClass||"").split(" ")),S.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...x.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const x=e.params.pagination;let{el:E}=e.pagination;E=Vn(E),E.forEach(S=>{S.classList.remove(x.horizontalClass,x.verticalClass),S.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:x}=e.pagination;x&&(x=Vn(x),x.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(x,E)=>{const S=E.target,k=Vn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const C=k[0].classList.contains(e.params.pagination.hiddenClass);i(C===!0?"paginationShow":"paginationHide"),k.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Vn(x),x.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),g(),m(),p()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Vn(x),x.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:b,render:m,update:p,init:g,destroy:y})}function afe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=Ni();let o=!1,a=null,l=null,h,c,f,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D,rtlTranslate:L}=e,{dragEl:F,el:q}=D,M=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress;let Y=c,H=(f-c)*B;L?(H=-H,H>0?(Y=c-H,H=0):-H+c>f&&(Y=f+H)):H<0?(Y=c+H,H=0):H+c>f&&(Y=f-H),e.isHorizontal()?(F.style.transform=`translate3d(${H}px, 0, 0)`,F.style.width=`${Y}px`):(F.style.transform=`translate3d(0px, ${H}px, 0)`,F.style.height=`${Y}px`),M.hide&&(clearTimeout(a),q.style.opacity=1,a=setTimeout(()=>{q.style.opacity=0,q.style.transitionDuration="400ms"},1e3))}function g(D){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${D}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D}=e,{dragEl:L,el:F}=D;L.style.width="",L.style.height="",f=e.isHorizontal()?F.offsetWidth:F.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=f*p:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?L.style.width=`${c}px`:L.style.height=`${c}px`,p>=1?F.style.display="none":F.style.display="",e.params.scrollbar.hide&&(F.style.opacity=0),e.params.watchOverflow&&e.enabled&&D.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(D){return e.isHorizontal()?D.clientX:D.clientY}function b(D){const{scrollbar:L,rtlTranslate:F}=e,{el:q}=L;let M;M=(w(D)-Lce(q)[e.isHorizontal()?"left":"top"]-(h!==null?h:c/2))/(f-c),M=Math.max(Math.min(M,1),0),F&&(M=1-M);const B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*M;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function x(D){const L=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:M,dragEl:B}=F;o=!0,h=D.target===B?w(D)-D.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,D.preventDefault(),D.stopPropagation(),q.style.transitionDuration="100ms",B.style.transitionDuration="100ms",b(D),clearTimeout(l),M.style.transitionDuration="0ms",L.hide&&(M.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",D)}function E(D){const{scrollbar:L,wrapperEl:F}=e,{el:q,dragEl:M}=L;o&&(D.preventDefault&&D.cancelable?D.preventDefault():D.returnValue=!1,b(D),F.style.transitionDuration="0ms",q.style.transitionDuration="0ms",M.style.transitionDuration="0ms",i("scrollbarDragMove",D))}function S(D){const L=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:M}=F;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",q.style.transitionDuration=""),L.hide&&(clearTimeout(l),l=Qm(()=>{M.style.opacity=0,M.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",D),L.snapOnRelease&&e.slideToClosest())}function k(D){const{scrollbar:L,params:F}=e,q=L.el;if(!q)return;const M=q,B=F.passiveListeners?{passive:!1,capture:!1}:!1,Y=F.passiveListeners?{passive:!0,capture:!1}:!1;if(!M)return;const H=D==="on"?"addEventListener":"removeEventListener";M[H]("pointerdown",x,B),s[H]("pointermove",E,B),s[H]("pointerup",S,Y)}function C(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function O(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function N(){const{scrollbar:D,el:L}=e;e.params.scrollbar=lk(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const F=e.params.scrollbar;if(!F.el)return;let q;if(typeof F.el=="string"&&e.isElement&&(q=e.el.querySelector(F.el)),!q&&typeof F.el=="string"){if(q=s.querySelectorAll(F.el),!q.length)return}else q||(q=F.el);e.params.uniqueNavElements&&typeof F.el=="string"&&q.length>1&&L.querySelectorAll(F.el).length===1&&(q=L.querySelector(F.el)),q.length>0&&(q=q[0]),q.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass);let M;q&&(M=q.querySelector(ru(e.params.scrollbar.dragClass)),M||(M=Qd("div",e.params.scrollbar.dragClass),q.append(M))),Object.assign(D,{el:q,dragEl:M}),F.draggable&&C(),q&&q.classList[e.enabled?"remove":"add"](...Lo(e.params.scrollbar.lockClass))}function P(){const D=e.params.scrollbar,L=e.scrollbar.el;L&&L.classList.remove(...Lo(e.isHorizontal()?D.horizontalClass:D.verticalClass)),O()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const D=e.params.scrollbar;let{el:L}=e.scrollbar;L=Vn(L),L.forEach(F=>{F.classList.remove(D.horizontalClass,D.verticalClass),F.classList.add(e.isHorizontal()?D.horizontalClass:D.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?A():(N(),y(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{y()}),r("setTranslate",()=>{m()}),r("setTransition",(D,L)=>{g(L)}),r("enable disable",()=>{const{el:D}=e.scrollbar;D&&D.classList[e.enabled?"remove":"add"](...Lo(e.params.scrollbar.lockClass))}),r("destroy",()=>{P()});const I=()=>{e.el.classList.remove(...Lo(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Lo(e.params.scrollbar.scrollbarDisabledClass)),N(),y(),m()},A=()=>{e.el.classList.add(...Lo(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Lo(e.params.scrollbar.scrollbarDisabledClass)),P()};Object.assign(e.scrollbar,{enable:I,disable:A,updateSize:y,setTranslate:m,init:N,destroy:P})}function lfe(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,h=s&&s.autoplay?s.autoplay.delay:3e3,c,f=new Date().getTime(),p,m,g,y,w,b,x;function E(Y){!e||e.destroyed||!e.wrapperEl||Y.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(x||Y.detail&&Y.detail.bySwiperTouchMove)&&I())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(h=c,p=!1);const Y=e.autoplay.paused?c:f+h-new Date().getTime();e.autoplay.timeLeft=Y,i("autoplayTimeLeft",Y,Y/l),a=requestAnimationFrame(()=>{S()})},k=()=>{let Y;return e.virtual&&e.params.virtual.enabled?Y=e.slides.find(j=>j.classList.contains("swiper-slide-active")):Y=e.slides[e.activeIndex],Y?parseInt(Y.getAttribute("data-swiper-autoplay"),10):void 0},C=Y=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),S();let H=typeof Y>"u"?e.params.autoplay.delay:Y;l=e.params.autoplay.delay,h=e.params.autoplay.delay;const j=k();!Number.isNaN(j)&&j>0&&typeof Y>"u"&&(H=j,l=j,h=j),c=H;const U=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,U,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,U,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return H>0?(clearTimeout(o),o=setTimeout(()=>{V()},H)):requestAnimationFrame(()=>{V()}),H},O=()=>{f=new Date().getTime(),e.autoplay.running=!0,C(),i("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},P=(Y,H)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),Y||(b=!0);const j=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):I()};if(e.autoplay.paused=!0,H){w&&(c=e.params.autoplay.delay),w=!1,j();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),j())},I=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,C(c)):C(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const Y=Ni();Y.visibilityState==="hidden"&&(b=!0,P(!0)),Y.visibilityState==="visible"&&I()},D=Y=>{Y.pointerType==="mouse"&&(b=!0,x=!0,!(e.animating||e.autoplay.paused)&&P(!0))},L=Y=>{Y.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&I())},F=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",L))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",L))},M=()=>{Ni().addEventListener("visibilitychange",A)},B=()=>{Ni().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(F(),M(),O())}),r("destroy",()=>{q(),B(),e.autoplay.running&&N()}),r("_freeModeStaticRelease",()=>{(g||b)&&I()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():P(!0,!0)}),r("beforeTransitionStart",(Y,H,j)=>{e.destroyed||!e.autoplay.running||(j||!e.params.autoplay.disableOnInteraction?P(!0,!0):N())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}m=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,P(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,m=!1;return}g&&e.params.cssMode&&I(),g=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:O,stop:N,pause:P,resume:I})}const Rv=K.forwardRef(({children:t,options:e},n)=>{const r={modules:[lfe,ofe,sfe,afe],spaceBetween:15,slidesPerView:"auto",speed:800,autoplay:{disableOnInteraction:!0},navigation:!0,pagination:{type:"bullets"},scrollbar:{draggable:!0},...e};return _.jsx(wF,{ref:n,className:"sample-slider h-full",...r,children:t})}),ufe={spaceBetween:8,pagination:!1,scrollbar:!1,navigation:!1,autoplay:!1};function cfe({yearMonthId:t}){const[e,n]=K.useState(""),[r,i]=Wt(nF),[s,o]=Wt(tF);K.useEffect(()=>{Hn(xr(t,Wd),i),Hn(xr(t,Mu),o)},[t,s==null?void 0:s.length]);const{pathname:a}=Br(),l={:{postList:s,linkTo:"subjects",access:""}," ":{postList:r,linkTo:"host-review",access:""}},{postList:h,linkTo:c,access:f}=l[e],{blockLinkAndAlertJoinMember:p}=ii("see");return _.jsxs("div",{className:"w-full",children:[_.jsx("ul",{className:"flex gap-1",children:Object.keys(l).map(m=>_.jsx("li",{children:_.jsx("button",{onClick:()=>n(m),className:`rounded-t-xl px-3 py-2 ${m===e?"bg-blue4 font-medium text-blue3":"bg-white text-text"}`,children:m})},m))}),_.jsx("div",{className:`flex min-h-48 w-full flex-col items-center justify-center rounded-b-2xl rounded-tr-2xl p-4 shadow-card ${e?"bg-blue4":""}`,children:(h==null?void 0:h.length)!==0?_.jsxs(_.Fragment,{children:[_.jsx(Rv,{options:ufe,children:h==null?void 0:h.map((m,g)=>_.jsx(jf,{className:`!mt-0 min-h-fit !py-0 ${h.length===1?"w-full":"max-w-[70vw]"}`,children:_.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-xl bg-white p-3",children:[_.jsx(sk,{type:e,post:m,className:"relative [&>p]:line-clamp-[6]"}),_.jsxs("span",{className:"absolute right-4 top-3 text-sm text-gray1",children:[g+1," / ",h.length]}),_.jsx(tg,{title:"",state:{postId:m.id},to:c,onClick:p,className:"bg-purple4 w-fit self-end rounded-xl px-4 py-3 !text-[15px] text-purple2 shadow-card"})]})},m.id))}),_.jsx(tg,{title:` ${e} `,to:c,onClick:p,className:"w-fit self-end px-2 !text-[15px] text-blue-500"})]}):_.jsx(_.Fragment,{children:a.includes("previous-club")?_.jsxs("span",{className:"text-sm text-blue3",children:[" ",e," "]}):_.jsxs(_.Fragment,{children:[_.jsx(ife,{to:c,name:`${e}  `}),_.jsxs("span",{className:"text-sm text-gray1",children:[f,"   "]})]})})})]})}function dfe({collName:t,recommendedBookDetail:e}){const{creatorId:n,createdAt:r,text:i,clubBook:s,recommendedBook:{url:o,authors:a,publisher:l,title:h,thumbnail:c}}=e;return _.jsxs(Vr,{title:" ",className:"w-[40%]",children:[_.jsx(iF,{collName:t,post:e,postType:""}),_.jsxs("div",{className:"mt-4 gap-2 overflow-scroll scrollbar-hide",children:[_.jsx(un,{title:h,thumbnail:c,url:o,className:"float-left mb-2 mr-4 w-20"}),_.jsx("h4",{className:"text-lg",children:_.jsx("span",{className:"pr-1",children:h})}),_.jsx(Ds,{authors:a,publisher:l}),_.jsxs("h3",{className:"mt-1 flex items-center border-t-2 border-dotted border-gray3 pt-2",children:[_.jsx(ur,{userId:n,isLink:!1}),"  "]}),_.jsx("p",{dangerouslySetInnerHTML:{__html:i},className:"mt-2 whitespace-pre-wrap break-all"}),(s||e.title)&&_.jsxs(_.Fragment,{children:[_.jsx("h3",{className:"mt-6 text-sm text-gray1",children:"  "}),e.recommendedBook&&_.jsx(ic,{book:s||{title:e.title,thumbnail:e.thumbnail},className:"h-14"})]}),_.jsx(vv,{collName:t,createdAt:r,post:e,footerType:"likes"})]})]})}function ffe({docIds:{docId:t,monthId:e}}){const[n,r]=K.useState(),{showModal:i}=St(),o=`BookClub-${e.slice(0,4)}/${e}/RecommendedBooks`;K.useEffect(()=>{Xn(o,t,r)},[]);const{recommendedBook:a,creatorId:l}=n||{},h=()=>i({element:_.jsx(dfe,{recommendedBookDetail:n,collName:o})});return _.jsx(_.Fragment,{children:(n==null?void 0:n.recommendedBook)&&_.jsxs("button",{type:"button",onClick:h,className:"relative mx-2 mt-7 min-h-[102px] w-full rounded-xl bg-white px-6 py-3 shadow-card",children:[_.jsx(un,{title:a.title,thumbnail:a.thumbnail,className:"!absolute bottom-4 w-[80px]"}),_.jsxs("div",{className:"ml-[90px] flex h-full flex-col items-start",children:[_.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[_.jsx(Am,{fontSize:14,className:"text-gray2"}),_.jsx("span",{className:"mr-2 text-sm text-gray2",children:""}),_.jsx(ur,{userId:l,isLink:!1})]}),_.jsxs("div",{className:"mb-1 mt-1.5 flex flex-1 flex-col items-start",children:[_.jsx("span",{className:"mb-1 line-clamp-2 text-start text-base font-medium leading-[20px]",children:a.title}),_.jsx(Ds,{authors:a==null?void 0:a.authors,publisher:a==null?void 0:a.publisher})]})]})]})})}const hfe={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},500:{slidesPerView:1},320:{slidesPerView:1}},scrollbar:!1};function bF({yearMonthId:t,maxLength:e}){const n=Le(lo),r=K.useMemo(()=>{const i=n.map(o=>{var a;return(a=o==null?void 0:o.userRecords)==null?void 0:a.recommendedBooks}).filter(o=>!!(o!=null&&o.length)).flat().sort(UO).slice(0,e),s=i.filter(o=>t?o.monthId===t:o).sort(UO);return t?s:i},[n,t]);return r.length!==0?_.jsx(Rv,{options:hfe,children:r.map(i=>_.jsx(jf,{children:_.jsx(ffe,{docIds:i})},i.docId))}):_.jsx(es,{text:"  ."})}const pfe=()=>{var c,f;const t=C_(),e=(t==null?void 0:t.id)||wn,n=e.slice(0,4),r=e===wn,{absenteeList:i,participantList:s}=Le(E3(e)),o=so(kl),a=Le(Ur(e)),l=so(tc),h=(c=a==null?void 0:a.meeting)==null?void 0:c.eventMonth;return K.useEffect(()=>{r&&Hn(Nr,l)},[r]),K.useEffect(()=>{Xn(`BookClub-${n}`,ul,o)},[n]),_.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${r?"":dt(e,"yyyy M")} `,backBtn:!r,backTo:"/previous-bookclub"}),Zu(e)?_.jsx("main",{children:a?_.jsxs(_.Fragment,{children:[_.jsx(Lt,{title:" ",children:h?_.jsx(ik,{yearMonthId:a.id,event:a.meeting}):_.jsx(_.Fragment,{children:r?_.jsx(J5,{}):_.jsx(u5,{bookClub:a,className:"w-full"})})}),_.jsxs("div",{className:"grid grid-cols-5 gap-x-6 max-sm:flex max-sm:flex-col [&>section:first-child]:col-span-2 [&>section:last-child]:col-span-3",children:[i&&_.jsx(Lt,{title:" ",children:_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx(lI,{title:`  ${s.length}`,memberList:s}),_.jsx(lI,{title:`  ${i.length}`,memberList:i})]})}),!h&&_.jsxs(Lt,{title:"  ",children:[r&&_.jsx(Es,{text:"  ,           .    ,            ."}),_.jsx(cfe,{yearMonthId:e})]})]}),_.jsxs(Lt,{title:r?" ":"",children:[r&&_.jsx(xce,{}),_.jsx(bF,{yearMonthId:e})]}),h&&_.jsx(vce,{eventDetail:(f=a.meeting)==null?void 0:f.eventMonth}),_.jsx(Lt,{title:" ",children:_.jsx(Nce,{yearMonthId:e})})]}):_.jsx(es,{text:"   ."})}):_.jsx(rc,{size:150,className:"h-[80vh]"})]})};function mfe(){return _.jsx("footer",{className:"border-t border-gray3 bg-blue1 px-4 pb-40 pt-10",children:_.jsx("span",{className:"mb-10 text-white",children:"   All rights reserved"})})}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function gfe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xF(t){var e=gfe(t,"string");return pl(e)=="symbol"?e:String(e)}function hd(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){hd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vfe(t){if(Array.isArray(t))return t}function yfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){h=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _F(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Js(t,e){return vfe(t)||yfe(t,e)||_F(t,e)||wfe()}function bfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fo(t,e){if(t==null)return{};var n=bfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var xfe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function _fe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,h=t.onChange,c=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,g=fo(t,xfe),y=K.useState(a!==void 0?a:n),w=Js(y,2),b=w[0],x=w[1],E=K.useState(l!==void 0?l:i),S=Js(E,2),k=S[0],C=S[1],O=K.useState(m!==void 0?m:o),N=Js(O,2),P=N[0],I=N[1],A=K.useCallback(function(Y,H){typeof h=="function"&&h(Y,H),I(Y)},[h]),D=K.useCallback(function(Y,H){var j;typeof c=="function"&&(j=c(Y,H)),x(j!==void 0?j:Y)},[c]),L=K.useCallback(function(){typeof p=="function"&&p(),C(!0)},[p]),F=K.useCallback(function(){typeof f=="function"&&f(),C(!1)},[f]),q=a!==void 0?a:b,M=l!==void 0?l:k,B=m!==void 0?m:P;return et(et({},g),{},{inputValue:q,menuIsOpen:M,onChange:A,onInputChange:D,onMenuClose:F,onMenuOpen:L,value:B})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function Sfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xF(r.key),r)}}function Efe(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function SF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!t})()}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cfe(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Nfe(t){var e=SF();return function(){var r=ng(t),i;if(e){var s=ng(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Cfe(this,i)}}function Ofe(t){if(Array.isArray(t))return p_(t)}function Afe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uk(t){return Ofe(t)||Afe(t)||_F(t)||Dfe()}function Ife(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Pfe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Rfe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Pfe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Ife(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),gr="-ms-",rg="-moz-",At="-webkit-",EF="comm",ck="rule",dk="decl",Mfe="@import",kF="@keyframes",Lfe="@layer",jfe=Math.abs,Mv=String.fromCharCode,Ffe=Object.assign;function $fe(t,e){return sr(t,0)^45?(((e<<2^sr(t,0))<<2^sr(t,1))<<2^sr(t,2))<<2^sr(t,3):0}function TF(t){return t.trim()}function Bfe(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function g_(t,e){return t.indexOf(e)}function sr(t,e){return t.charCodeAt(e)|0}function Xd(t,e,n){return t.slice(e,n)}function us(t){return t.length}function fk(t){return t.length}function _p(t,e){return e.push(t),t}function Ufe(t,e){return t.map(e).join("")}var Lv=1,Vu=1,CF=0,ri=0,Mn=0,sc="";function jv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Lv,column:Vu,length:o,return:""}}function Zc(t,e){return Ffe(jv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Vfe(){return Mn}function qfe(){return Mn=ri>0?sr(sc,--ri):0,Vu--,Mn===10&&(Vu=1,Lv--),Mn}function pi(){return Mn=ri<CF?sr(sc,ri++):0,Vu++,Mn===10&&(Vu=1,Lv++),Mn}function Cs(){return sr(sc,ri)}function Wp(){return ri}function Ff(t,e){return Xd(sc,t,e)}function Jd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NF(t){return Lv=Vu=1,CF=us(sc=t),ri=0,[]}function OF(t){return sc="",t}function Yp(t){return TF(Ff(ri-1,v_(t===91?t+2:t===40?t+1:t)))}function Hfe(t){for(;(Mn=Cs())&&Mn<33;)pi();return Jd(t)>2||Jd(Mn)>3?"":" "}function zfe(t,e){for(;--e&&pi()&&!(Mn<48||Mn>102||Mn>57&&Mn<65||Mn>70&&Mn<97););return Ff(t,Wp()+(e<6&&Cs()==32&&pi()==32))}function v_(t){for(;pi();)switch(Mn){case t:return ri;case 34:case 39:t!==34&&t!==39&&v_(Mn);break;case 40:t===41&&v_(t);break;case 92:pi();break}return ri}function Wfe(t,e){for(;pi()&&t+Mn!==57;)if(t+Mn===84&&Cs()===47)break;return"/*"+Ff(e,ri-1)+"*"+Mv(t===47?t:pi())}function Yfe(t){for(;!Jd(Cs());)pi();return Ff(t,ri)}function Gfe(t){return OF(Gp("",null,null,null,[""],t=NF(t),0,[0],t))}function Gp(t,e,n,r,i,s,o,a,l){for(var h=0,c=0,f=o,p=0,m=0,g=0,y=1,w=1,b=1,x=0,E="",S=i,k=s,C=r,O=E;w;)switch(g=x,x=pi()){case 40:if(g!=108&&sr(O,f-1)==58){g_(O+=Dt(Yp(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:O+=Yp(x);break;case 9:case 10:case 13:case 32:O+=Hfe(g);break;case 92:O+=zfe(Wp()-1,7);continue;case 47:switch(Cs()){case 42:case 47:_p(Kfe(Wfe(pi(),Wp()),e,n),l);break;default:O+="/"}break;case 123*y:a[h++]=us(O)*b;case 125*y:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+c:b==-1&&(O=Dt(O,/\f/g,"")),m>0&&us(O)-f&&_p(m>32?tP(O+";",r,n,f-1):tP(Dt(O," ","")+";",r,n,f-2),l);break;case 59:O+=";";default:if(_p(C=eP(O,e,n,h,c,i,a,E,S=[],k=[],f),s),x===123)if(c===0)Gp(O,e,C,C,S,s,f,a,k);else switch(p===99&&sr(O,3)===110?100:p){case 100:case 108:case 109:case 115:Gp(t,C,C,r&&_p(eP(t,C,C,0,0,i,a,E,i,S=[],f),k),i,k,f,a,r?S:k);break;default:Gp(O,C,C,C,[""],k,0,a,k)}}h=c=m=0,y=b=1,E=O="",f=o;break;case 58:f=1+us(O),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&qfe()==125)continue}switch(O+=Mv(x),x*y){case 38:b=c>0?1:(O+="\f",-1);break;case 44:a[h++]=(us(O)-1)*b,b=1;break;case 64:Cs()===45&&(O+=Yp(pi())),p=Cs(),c=f=us(E=O+=Yfe(Wp())),x++;break;case 45:g===45&&us(O)==2&&(y=0)}}return s}function eP(t,e,n,r,i,s,o,a,l,h,c){for(var f=i-1,p=i===0?s:[""],m=fk(p),g=0,y=0,w=0;g<r;++g)for(var b=0,x=Xd(t,f+1,f=jfe(y=o[g])),E=t;b<m;++b)(E=TF(y>0?p[b]+" "+x:Dt(x,/&\f/g,p[b])))&&(l[w++]=E);return jv(t,e,n,i===0?ck:a,l,h,c)}function Kfe(t,e,n){return jv(t,e,n,EF,Mv(Vfe()),Xd(t,2,-2),0)}function tP(t,e,n,r){return jv(t,e,n,dk,Xd(t,0,r),Xd(t,r+1,-1),r)}function bu(t,e){for(var n="",r=fk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Qfe(t,e,n,r){switch(t.type){case Lfe:if(t.children.length)break;case Mfe:case dk:return t.return=t.return||t.value;case EF:return"";case kF:return t.return=t.value+"{"+bu(t.children,r)+"}";case ck:t.value=t.props.join(",")}return us(n=bu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Xfe(t){var e=fk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Jfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Zfe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ehe=function(e,n,r){for(var i=0,s=0;i=s,s=Cs(),i===38&&s===12&&(n[r]=1),!Jd(s);)pi();return Ff(e,ri)},the=function(e,n){var r=-1,i=44;do switch(Jd(i)){case 0:i===38&&Cs()===12&&(n[r]=1),e[r]+=ehe(ri-1,n,r);break;case 2:e[r]+=Yp(i);break;case 4:if(i===44){e[++r]=Cs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Mv(i)}while(i=pi());return e},nhe=function(e,n){return OF(the(NF(e),n))},nP=new WeakMap,rhe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nP.get(r))&&!i){nP.set(e,!0);for(var s=[],o=nhe(n,s),a=r.props,l=0,h=0;l<o.length;l++)for(var c=0;c<a.length;c++,h++)e.props[h]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},ihe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function AF(t,e){switch($fe(t,e)){case 5103:return At+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return At+t+rg+t+gr+t+t;case 6828:case 4268:return At+t+gr+t+t;case 6165:return At+t+gr+"flex-"+t+t;case 5187:return At+t+Dt(t,/(\w+).+(:[^]+)/,At+"box-$1$2"+gr+"flex-$1$2")+t;case 5443:return At+t+gr+"flex-item-"+Dt(t,/flex-|-self/,"")+t;case 4675:return At+t+gr+"flex-line-pack"+Dt(t,/align-content|flex-|-self/,"")+t;case 5548:return At+t+gr+Dt(t,"shrink","negative")+t;case 5292:return At+t+gr+Dt(t,"basis","preferred-size")+t;case 6060:return At+"box-"+Dt(t,"-grow","")+At+t+gr+Dt(t,"grow","positive")+t;case 4554:return At+Dt(t,/([^-])(transform)/g,"$1"+At+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+t+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,At+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(us(t)-1-e>6)switch(sr(t,e+1)){case 109:if(sr(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+rg+(sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~g_(t,"stretch")?AF(Dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sr(t,e+1)!==115)break;case 6444:switch(sr(t,us(t)-3-(~g_(t,"!important")&&10))){case 107:return Dt(t,":",":"+At)+t;case 101:return Dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(sr(t,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+gr+"$2box$3")+t}break;case 5936:switch(sr(t,e+11)){case 114:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return At+t+gr+t+t}return t}var she=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case dk:e.return=AF(e.value,e.length);break;case kF:return bu([Zc(e,{value:Dt(e.value,"@","@"+At)})],i);case ck:if(e.length)return Ufe(e.props,function(s){switch(Bfe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bu([Zc(e,{props:[Dt(s,/:(read-\w+)/,":"+rg+"$1")]})],i);case"::placeholder":return bu([Zc(e,{props:[Dt(s,/:(plac\w+)/,":"+At+"input-$1")]}),Zc(e,{props:[Dt(s,/:(plac\w+)/,":"+rg+"$1")]}),Zc(e,{props:[Dt(s,/:(plac\w+)/,gr+"input-$1")]})],i)}return""})}},ohe=[she],ahe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||ohe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)s[w[b]]=!0;a.push(y)});var l,h=[rhe,ihe];{var c,f=[Qfe,Jfe(function(y){c.insert(y)})],p=Xfe(h.concat(i,f)),m=function(w){return bu(Gfe(w),p)};l=function(w,b,x,E){c=x,m(w?w+"{"+b.styles+"}":b.styles),E&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new Rfe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},Wb={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function lhe(){if(rP)return Mt;rP=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function E(k){if(typeof k=="object"&&k!==null){var C=k.$$typeof;switch(C){case e:switch(k=k.type,k){case l:case h:case r:case s:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case g:case m:case o:return k;default:return C}}case n:return C}}}function S(k){return E(k)===h}return Mt.AsyncMode=l,Mt.ConcurrentMode=h,Mt.ContextConsumer=a,Mt.ContextProvider=o,Mt.Element=e,Mt.ForwardRef=c,Mt.Fragment=r,Mt.Lazy=g,Mt.Memo=m,Mt.Portal=n,Mt.Profiler=s,Mt.StrictMode=i,Mt.Suspense=f,Mt.isAsyncMode=function(k){return S(k)||E(k)===l},Mt.isConcurrentMode=S,Mt.isContextConsumer=function(k){return E(k)===a},Mt.isContextProvider=function(k){return E(k)===o},Mt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Mt.isForwardRef=function(k){return E(k)===c},Mt.isFragment=function(k){return E(k)===r},Mt.isLazy=function(k){return E(k)===g},Mt.isMemo=function(k){return E(k)===m},Mt.isPortal=function(k){return E(k)===n},Mt.isProfiler=function(k){return E(k)===s},Mt.isStrictMode=function(k){return E(k)===i},Mt.isSuspense=function(k){return E(k)===f},Mt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===h||k===s||k===i||k===f||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===o||k.$$typeof===a||k.$$typeof===c||k.$$typeof===w||k.$$typeof===b||k.$$typeof===x||k.$$typeof===y)},Mt.typeOf=E,Mt}var iP;function uhe(){return iP||(iP=1,Wb.exports=lhe()),Wb.exports}var Yb,sP;function che(){if(sP)return Yb;sP=1;var t=uhe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(g){return t.isMemo(g)?i:s[g.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(g,y,w){if(typeof y!="string"){if(p){var b=f(y);b&&b!==p&&m(g,b,w)}var x=l(y);h&&(x=x.concat(h(y)));for(var E=o(g),S=o(y),k=0;k<x.length;++k){var C=x[k];if(!n[C]&&!(w&&w[C])&&!(S&&S[C])&&!(E&&E[C])){var O=c(y,C);try{a(g,C,O)}catch{}}}}return g}return Yb=m,Yb}che();var dhe=!0;function fhe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var DF=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||dhe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},hhe=function(e,n,r){DF(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function phe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mhe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ghe=/[A-Z]|^ms/g,vhe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IF=function(e){return e.charCodeAt(1)===45},oP=function(e){return e!=null&&typeof e!="boolean"},Gb=Zfe(function(t){return IF(t)?t:t.replace(ghe,"-$&").toLowerCase()}),aP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vhe,function(r,i,s){return cs={name:i,styles:s,next:cs},i})}return mhe[e]!==1&&!IF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return cs={name:n.name,styles:n.styles,next:cs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)cs={name:r.name,styles:r.styles,next:cs},r=r.next;var i=n.styles+";";return i}return yhe(t,e,n)}case"function":{if(t!==void 0){var s=cs,o=n(t);return cs=s,Zd(t,e,o)}break}}return n}function yhe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")oP(o)&&(r+=Gb(s)+":"+aP(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var a=0;a<o.length;a++)oP(o[a])&&(r+=Gb(s)+":"+aP(s,o[a])+";");else{var l=Zd(t,e,o);switch(s){case"animation":case"animationName":{r+=Gb(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var lP=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cs,PF=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";cs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Zd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Zd(r,n,e[a]),i&&(s+=o[a]);lP.lastIndex=0;for(var l="",h;(h=lP.exec(s))!==null;)l+="-"+h[1];var c=phe(s)+l;return{name:c,styles:s,next:cs}},whe=function(e){return e()},bhe=Qp.useInsertionEffect?Qp.useInsertionEffect:!1,xhe=bhe||whe,hk={}.hasOwnProperty,RF=K.createContext(typeof HTMLElement<"u"?ahe({key:"css"}):null);RF.Provider;var _he=function(e){return K.forwardRef(function(n,r){var i=K.useContext(RF);return e(n,i,r)})},She=K.createContext({}),y_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ehe=function(e,n){var r={};for(var i in n)hk.call(n,i)&&(r[i]=n[i]);return r[y_]=e,r},khe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DF(n,r,i),xhe(function(){return hhe(n,r,i)}),null},The=_he(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[y_],s=[r],o="";typeof t.className=="string"?o=fhe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=PF(s,void 0,K.useContext(She));o+=e.key+"-"+a.name;var l={};for(var h in t)hk.call(t,h)&&h!=="css"&&h!==y_&&(l[h]=t[h]);return l.ref=n,l.className=o,K.createElement(K.Fragment,null,K.createElement(khe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),K.createElement(i,l))}),Che=The,Xe=function(e,n){var r=arguments;if(n==null||!hk.call(n,"css"))return K.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Che,s[1]=Ehe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return K.createElement.apply(null,s)};function pk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return PF(e)}var Nhe=function(){var e=pk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Ohe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var w_=K.useLayoutEffect,Ahe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ig=function(){};function Dhe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Ihe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Dhe(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var uP=function(e){return Uhe(e)?e.filter(Boolean):pl(e)==="object"&&e!==null?[e]:[]},MF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=fo(e,Ahe);return et({},n)},bn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Fv(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Phe(t){return Fv(t)?window.innerHeight:t.clientHeight}function LF(t){return Fv(t)?window.pageYOffset:t.scrollTop}function sg(t,e){if(Fv(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Rhe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Mhe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Sp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ig,i=LF(t),s=e-i,o=10,a=0;function l(){a+=o;var h=Mhe(a,i,s,n);sg(t,h),a<n?window.requestAnimationFrame(l):r(t)}l()}function cP(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?sg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&sg(t,Math.max(e.offsetTop-i,0))}function Lhe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function dP(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function jhe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var jF=!1,Fhe={get passive(){return jF=!0}},Ep=typeof window<"u"?window:{};Ep.addEventListener&&Ep.removeEventListener&&(Ep.addEventListener("p",ig,Fhe),Ep.removeEventListener("p",ig,!1));var $he=jF;function Bhe(t){return t!=null}function Uhe(t){return Array.isArray(t)}function kp(t,e,n){return t?e:n}var Vhe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Js(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Js(a,2),h=l[0],c=l[1];return o[h]=c,o},{})},qhe=["children","innerProps"],Hhe=["children","innerProps"];function zhe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Rhe(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var c=l.getBoundingClientRect(),f=c.height,p=n.getBoundingClientRect(),m=p.bottom,g=p.height,y=p.top,w=n.offsetParent.getBoundingClientRect(),b=w.top,x=o?window.innerHeight:Phe(l),E=LF(l),S=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),C=b-k,O=x-y,N=C+E,P=f-E-y,I=m-x+E+S,A=E+y-k,D=160;switch(i){case"auto":case"bottom":if(O>=g)return{placement:"bottom",maxHeight:e};if(P>=g&&!o)return s&&Sp(l,I,D),{placement:"bottom",maxHeight:e};if(!o&&P>=r||o&&O>=r){s&&Sp(l,I,D);var L=o?O-S:P-S;return{placement:"bottom",maxHeight:L}}if(i==="auto"||o){var F=e,q=o?C:N;return q>=r&&(F=Math.min(q-S-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return s&&sg(l,I),{placement:"bottom",maxHeight:e};break;case"top":if(C>=g)return{placement:"top",maxHeight:e};if(N>=g&&!o)return s&&Sp(l,A,D),{placement:"top",maxHeight:e};if(!o&&N>=r||o&&C>=r){var M=e;return(!o&&N>=r||o&&C>=r)&&(M=o?C-k:N-k),s&&Sp(l,A,D),{placement:"top",maxHeight:M}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function Whe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var FF=function(e){return e==="auto"?"bottom":e},Yhe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return et((r={label:"menu"},hd(r,Whe(i),"100%"),hd(r,"position","absolute"),hd(r,"width","100%"),hd(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},$F=K.createContext(null),Ghe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,h=K.useContext($F)||{},c=h.setPortalPlacement,f=K.useRef(null),p=K.useState(i),m=Js(p,2),g=m[0],y=m[1],w=K.useState(null),b=Js(w,2),x=b[0],E=b[1],S=l.spacing.controlHeight;return w_(function(){var k=f.current;if(k){var C=o==="fixed",O=a&&!C,N=zhe({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:O,isFixedPosition:C,controlHeight:S});y(N.maxHeight),E(N.placement),c==null||c(N.placement)}},[i,s,o,a,r,c,S]),n({ref:f,placerProps:et(et({},e),{},{placement:x||FF(s),maxHeight:g})})},Khe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Xe("div",tt({},bn(e,"menu",{menu:!0}),{ref:r},i),n)},Qhe=Khe,Xhe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return et({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Jhe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Xe("div",tt({},bn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},BF=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return et({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Zhe=BF,epe=BF,tpe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=fo(e,qhe);return Xe("div",tt({},bn(et(et({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},npe=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=fo(e,Hhe);return Xe("div",tt({},bn(et(et({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},rpe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},ipe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=K.useRef(null),h=K.useRef(null),c=K.useState(FF(o)),f=Js(c,2),p=f[0],m=f[1],g=K.useMemo(function(){return{setPortalPlacement:m}},[]),y=K.useState(null),w=Js(y,2),b=w[0],x=w[1],E=K.useCallback(function(){if(i){var O=Lhe(i),N=a==="fixed"?0:window.pageYOffset,P=O[p]+N;(P!==(b==null?void 0:b.offset)||O.left!==(b==null?void 0:b.rect.left)||O.width!==(b==null?void 0:b.rect.width))&&x({offset:P,rect:O})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);w_(function(){E()},[E]);var S=K.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&l.current&&(h.current=F5(i,l.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);w_(function(){S()},[S]);var k=K.useCallback(function(O){l.current=O,S()},[S]);if(!n&&a!=="fixed"||!b)return null;var C=Xe("div",tt({ref:k},bn(et(et({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Xe($F.Provider,{value:g},n?__.createPortal(C,n):C)},spe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},ope=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Xe("div",tt({},bn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},ape=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return et({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},lpe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Xe("div",tt({},bn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},upe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},cpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"indicatorsContainer",{indicators:!0}),r),n)},fP,dpe=["size"],fpe=["innerProps","isRtl","size"],hpe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},UF=function(e){var n=e.size,r=fo(e,dpe);return Xe("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:hpe},r))},mk=function(e){return Xe(UF,tt({size:20},e),Xe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},VF=function(e){return Xe(UF,tt({size:20},e),Xe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},qF=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return et({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},ppe=qF,mpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Xe(VF,null))},gpe=qF,vpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Xe(mk,null))},ype=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return et({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},wpe=function(e){var n=e.innerProps;return Xe("span",tt({},n,bn(e,"indicatorSeparator",{"indicator-separator":!0})))},bpe=Nhe(fP||(fP=Ohe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),xpe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return et({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Kb=function(e){var n=e.delay,r=e.offset;return Xe("span",{css:pk({animation:"".concat(bpe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},_pe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=fo(e,fpe);return Xe("div",tt({},bn(et(et({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Xe(Kb,{delay:0,offset:r}),Xe(Kb,{delay:160,offset:!0}),Xe(Kb,{delay:320,offset:!r}))},Spe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return et({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Epe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Xe("div",tt({ref:s},bn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},kpe=Epe,Tpe=["data"],Cpe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Npe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,h=e.label,c=e.theme,f=e.selectProps;return Xe("div",tt({},bn(e,"group",{group:!0}),l),Xe(o,tt({},a,{selectProps:f,theme:c,getStyles:i,getClassNames:s,cx:r}),h),Xe("div",null,n))},Ope=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return et({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Ape=function(e){var n=MF(e);n.data;var r=fo(n,Tpe);return Xe("div",tt({},bn(e,"groupHeading",{"group-heading":!0}),r))},Dpe=Npe,Ipe=["innerRef","isDisabled","isHidden","inputClassName"],Ppe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return et(et({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Rpe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},HF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Rpe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":et({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},HF)},Mpe=function(e){return et({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},HF)},Lpe=function(e){var n=e.cx,r=e.value,i=MF(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,h=fo(i,Ipe);return Xe("div",tt({},bn(e,"input",{"input-container":!0}),{"data-value":r||""}),Xe("input",tt({className:n({input:!0},l),ref:s,style:Mpe(a),disabled:o},h)))},jpe=Lpe,Fpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return et({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},$pe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return et({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Bpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return et({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},zF=function(e){var n=e.children,r=e.innerProps;return Xe("div",r,n)},Upe=zF,Vpe=zF;function qpe(t){var e=t.children,n=t.innerProps;return Xe("div",tt({role:"button"},n),e||Xe(mk,{size:14}))}var Hpe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,h=r.Container,c=r.Label,f=r.Remove;return Xe(h,{data:i,innerProps:et(et({},bn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Xe(c,{data:i,innerProps:et({},bn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Xe(f,{data:i,innerProps:et(et({},bn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},zpe=Hpe,Wpe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return et({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Ype=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Xe("div",tt({},bn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Gpe=Ype,Kpe=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return et({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Qpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"placeholder",{placeholder:!0}),r),n)},Xpe=Qpe,Jpe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return et({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Zpe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Xe("div",tt({},bn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},eme=Zpe,tme={ClearIndicator:vpe,Control:kpe,DropdownIndicator:mpe,DownChevron:VF,CrossIcon:mk,Group:Dpe,GroupHeading:Ape,IndicatorsContainer:cpe,IndicatorSeparator:wpe,Input:jpe,LoadingIndicator:_pe,Menu:Qhe,MenuList:Jhe,MenuPortal:ipe,LoadingMessage:npe,NoOptionsMessage:tpe,MultiValue:zpe,MultiValueContainer:Upe,MultiValueLabel:Vpe,MultiValueRemove:qpe,Option:Gpe,Placeholder:Xpe,SelectContainer:ope,SingleValue:eme,ValueContainer:lpe},nme=function(e){return et(et({},tme),e.components)},hP=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function rme(t,e){return!!(t===e||hP(t)&&hP(e))}function ime(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!rme(t[n],e[n]))return!1;return!0}function sme(t,e){e===void 0&&(e=ime);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var ome={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ame=function(e){return Xe("span",tt({css:ome},e))},pP=ame,lme={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,h=e.isSelected,c=e.isAppleDevice,f=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(f(a,r),".");if(n==="menu"&&c){var p=l?" disabled":"",m="".concat(h?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(f(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},ume=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,h=e.id,c=e.isAppleDevice,f=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,g=l.isMulti,y=l.isOptionDisabled,w=l.isSearchable,b=l.menuIsOpen,x=l.options,E=l.screenReaderStatus,S=l.tabSelectsValue,k=l.isLoading,C=l["aria-label"],O=l["aria-live"],N=K.useMemo(function(){return et(et({},lme),f||{})},[f]),P=K.useMemo(function(){var q="";if(n&&N.onChange){var M=n.option,B=n.options,Y=n.removedValue,H=n.removedValues,j=n.value,U=function(Z){return Array.isArray(Z)?null:Z},V=Y||M||U(j),z=V?p(V):"",Q=B||H||void 0,X=Q?Q.map(p):[],W=et({isDisabled:V&&y(V,a),label:z,labels:X},n);q=N.onChange(W)}return q},[n,N,y,a,p]),I=K.useMemo(function(){var q="",M=r||i,B=!!(r&&a&&a.includes(r));if(M&&N.onFocus){var Y={focused:M,label:p(M),isDisabled:y(M,a),isSelected:B,options:s,context:M===r?"menu":"value",selectValue:a,isAppleDevice:c};q=N.onFocus(Y)}return q},[r,i,p,y,N,s,a,c]),A=K.useMemo(function(){var q="";if(b&&x.length&&!k&&N.onFilter){var M=E({count:s.length});q=N.onFilter({inputValue:m,resultsMessage:M})}return q},[s,m,b,N,x,E,k]),D=(n==null?void 0:n.action)==="initial-input-focus",L=K.useMemo(function(){var q="";if(N.guidance){var M=i?"value":b?"menu":"input";q=N.guidance({"aria-label":C,context:M,isDisabled:r&&y(r,a),isMulti:g,isSearchable:w,tabSelectsValue:S,isInitialFocus:D})}return q},[C,r,i,g,y,w,b,N,a,S,D]),F=Xe(K.Fragment,null,Xe("span",{id:"aria-selection"},P),Xe("span",{id:"aria-focused"},I),Xe("span",{id:"aria-results"},A),Xe("span",{id:"aria-guidance"},L));return Xe(K.Fragment,null,Xe(pP,{id:h},D&&F),Xe(pP,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!D&&F))},cme=ume,b_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],dme=new RegExp("["+b_.map(function(t){return t.letters}).join("")+"]","g"),WF={};for(var Qb=0;Qb<b_.length;Qb++)for(var Xb=b_[Qb],Jb=0;Jb<Xb.letters.length;Jb++)WF[Xb.letters[Jb]]=Xb.base;var YF=function(e){return e.replace(dme,function(n){return WF[n]})},fme=sme(YF),mP=function(e){return e.replace(/^\s+|\s+$/g,"")},hme=function(e){return"".concat(e.label," ").concat(e.value)},pme=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=et({ignoreCase:!0,ignoreAccents:!0,stringify:hme,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,h=i.matchFrom,c=l?mP(r):r,f=l?mP(a(n)):a(n);return s&&(c=c.toLowerCase(),f=f.toLowerCase()),o&&(c=fme(c),f=YF(f)),h==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},mme=["innerRef"];function gme(t){var e=t.innerRef,n=fo(t,mme),r=Vhe(n,"onExited","in","enter","exit","appear");return Xe("input",tt({ref:e},r,{css:pk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var vme=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function yme(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=K.useRef(!1),a=K.useRef(!1),l=K.useRef(0),h=K.useRef(null),c=K.useCallback(function(w,b){if(h.current!==null){var x=h.current,E=x.scrollTop,S=x.scrollHeight,k=x.clientHeight,C=h.current,O=b>0,N=S-k-E,P=!1;N>b&&o.current&&(r&&r(w),o.current=!1),O&&a.current&&(s&&s(w),a.current=!1),O&&b>N?(n&&!o.current&&n(w),C.scrollTop=S,P=!0,o.current=!0):!O&&-b>E&&(i&&!a.current&&i(w),C.scrollTop=0,P=!0,a.current=!0),P&&vme(w)}},[n,r,i,s]),f=K.useCallback(function(w){c(w,w.deltaY)},[c]),p=K.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=K.useCallback(function(w){var b=l.current-w.changedTouches[0].clientY;c(w,b)},[c]),g=K.useCallback(function(w){if(w){var b=$he?{passive:!1}:!1;w.addEventListener("wheel",f,b),w.addEventListener("touchstart",p,b),w.addEventListener("touchmove",m,b)}},[m,p,f]),y=K.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,f]);return K.useEffect(function(){if(e){var w=h.current;return g(w),function(){y(w)}}},[e,g,y]),function(w){h.current=w}}var gP=["boxSizing","height","overflow","paddingRight","position"],vP={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function yP(t){t.preventDefault()}function wP(t){t.stopPropagation()}function bP(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function xP(){return"ontouchstart"in window||navigator.maxTouchPoints}var _P=!!(typeof window<"u"&&window.document&&window.document.createElement),ed=0,Zl={capture:!1,passive:!1};function wme(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=K.useRef({}),s=K.useRef(null),o=K.useCallback(function(l){if(_P){var h=document.body,c=h&&h.style;if(r&&gP.forEach(function(g){var y=c&&c[g];i.current[g]=y}),r&&ed<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(vP).forEach(function(g){var y=vP[g];c&&(c[g]=y)}),c&&(c.paddingRight="".concat(m,"px"))}h&&xP()&&(h.addEventListener("touchmove",yP,Zl),l&&(l.addEventListener("touchstart",bP,Zl),l.addEventListener("touchmove",wP,Zl))),ed+=1}},[r]),a=K.useCallback(function(l){if(_P){var h=document.body,c=h&&h.style;ed=Math.max(ed-1,0),r&&ed<1&&gP.forEach(function(f){var p=i.current[f];c&&(c[f]=p)}),h&&xP()&&(h.removeEventListener("touchmove",yP,Zl),l&&(l.removeEventListener("touchstart",bP,Zl),l.removeEventListener("touchmove",wP,Zl)))}},[r]);return K.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var bme=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},xme={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _me(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,h=yme({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=wme({isEnabled:n}),f=function(m){h(m),c(m)};return Xe(K.Fragment,null,n&&Xe("div",{onClick:bme,css:xme}),e(f))}var Sme={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Eme=function(e){var n=e.name,r=e.onFocus;return Xe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Sme,value:"",onChange:function(){}})},kme=Eme;function gk(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Tme(){return gk(/^iPhone/i)}function GF(){return gk(/^Mac/i)}function Cme(){return gk(/^iPad/i)||GF()&&navigator.maxTouchPoints>1}function Nme(){return Tme()||Cme()}function Ome(){return GF()||Nme()}var Ame=function(e){return e.label},Dme=function(e){return e.label},Ime=function(e){return e.value},Pme=function(e){return!!e.isDisabled},Rme={clearIndicator:gpe,container:spe,control:Spe,dropdownIndicator:ppe,group:Cpe,groupHeading:Ope,indicatorsContainer:upe,indicatorSeparator:ype,input:Ppe,loadingIndicator:xpe,loadingMessage:epe,menu:Yhe,menuList:Xhe,menuPortal:rpe,multiValue:Fpe,multiValueLabel:$pe,multiValueRemove:Bpe,noOptionsMessage:Zhe,option:Wpe,placeholder:Kpe,singleValue:Jpe,valueContainer:ape},Mme={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Lme=4,KF=4,jme=38,Fme=KF*2,$me={baseUnit:KF,controlHeight:jme,menuGutter:Fme},Zb={borderRadius:Lme,colors:Mme,spacing:$me},Bme={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:dP(),captureMenuScroll:!dP(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:pme(),formatGroupLabel:Ame,getOptionLabel:Dme,getOptionValue:Ime,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Pme,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!jhe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function SP(t,e,n,r){var i=JF(t,e,n),s=ZF(t,e,n),o=XF(t,e),a=og(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function Kp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return SP(t,o,e,a)}).filter(function(o){return kP(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=SP(t,n,e,r);return kP(t,s)?s:void 0}).filter(Bhe)}function QF(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,uk(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function EP(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,uk(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Ume(t,e){return QF(Kp(t,e))}function kP(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!t6(t)||!s)&&e6(t,{label:o,value:a,data:i},r)}function Vme(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function qme(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var ex=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},XF=function(e,n){return e.getOptionLabel(n)},og=function(e,n){return e.getOptionValue(n)};function JF(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function ZF(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=og(t,e);return n.some(function(i){return og(t,i)===r})}function e6(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var t6=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Hme=1,n6=function(t){kfe(n,t);var e=Nfe(n);function n(r){var i;if(Sfe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=Ome(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,h){var c=i.props,f=c.onChange,p=c.name;h.name=p,i.ariaOnChange(l,h),f(l,h)},i.setValue=function(l,h,c){var f=i.props,p=f.closeMenuOnSelect,m=f.isMulti,g=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:h,option:c})},i.selectOption=function(l){var h=i.props,c=h.blurInputOnSelect,f=h.isMulti,p=h.name,m=i.state.selectValue,g=f&&i.isOptionSelected(l,m),y=i.isOptionDisabled(l,m);if(g){var w=i.getOptionValue(l);i.setValue(m.filter(function(b){return i.getOptionValue(b)!==w}),"deselect-option",l)}else if(!y)f?i.setValue([].concat(uk(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:p});return}c&&i.blurInput()},i.removeValue=function(l){var h=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),p=c.filter(function(g){return i.getOptionValue(g)!==f}),m=kp(h,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(kp(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,h=i.state.selectValue,c=h[h.length-1],f=h.slice(0,h.length-1),p=kp(l,f,f[0]||null);i.onChange(p,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return ex(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return EP(Kp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,h=new Array(l),c=0;c<l;c++)h[c]=arguments[c];return Ihe.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(l){return XF(i.props,l)},i.getOptionValue=function(l){return og(i.props,l)},i.getStyles=function(l,h){var c=i.props.unstyled,f=Rme[l](h,c);f.boxSizing="border-box";var p=i.props.styles[l];return p?p(f,h):f},i.getClassNames=function(l,h){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,h)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return nme(i.props)},i.buildCategorizedOptions=function(){return Kp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return QF(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,h){i.setState({ariaSelection:et({value:l},h)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var h=i.props,c=h.isMulti,f=h.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Fv(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var h=l.touches,c=h&&h.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var h=l.touches,c=h&&h.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),p=Math.abs(c.clientY-i.initialTouchY),m=5;i.userIsDragging=f>m||p>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var h=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var h=i.getFocusableOptions(),c=h.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return t6(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var h=i.props,c=h.isMulti,f=h.backspaceRemovesValue,p=h.escapeClearsValue,m=h.inputValue,g=h.isClearable,y=h.isDisabled,w=h.menuIsOpen,b=h.onKeyDown,x=h.tabSelectsValue,E=h.openMenuOnFocus,S=i.state,k=S.focusedOption,C=S.focusedValue,O=S.selectValue;if(!y&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||m)return;i.focusValue("previous");break;case"ArrowRight":if(!c||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(C)i.removeValue(C);else{if(!f)return;c?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!w||!x||!k||E&&i.isOptionSelected(k,O))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(w){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):g&&p&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Hme),i.state.selectValue=uP(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=ex(s,o[a])}return i}return Efe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&cP(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(cP(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,h=this.buildFocusableOptions(),c=i==="first"?0:h.length-1;if(!this.props.isMulti){var f=h.indexOf(a[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[c],focusedOptionId:this.getFocusedOptionId(h[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var h=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=h:c=l-1;break;case"next":l>-1&&l<h&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,h=a.indexOf(o);o||(h=-1),i==="up"?l=h>0?h-1:a.length-1:i==="down"?l=(h+1)%a.length:i==="pageup"?(l=h-s,l<0&&(l=0)):i==="pagedown"?(l=h+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Zb):et(et({},Zb),this.props.theme):Zb}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,h=this.selectOption,c=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:g,selectOption:h,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return JF(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return ZF(this.props,i,s)}},{key:"filterOption",value:function(i,s){return e6(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,h=i.tabIndex,c=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),g=m.Input,y=this.state,w=y.inputIsHidden,b=y.ariaSelection,x=this.commonProps,E=a||this.getElementId("input"),S=et(et(et({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?K.createElement(g,tt({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:c,type:"text",value:l},S)):K.createElement(gme,tt({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ig,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:c,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,h=s.MultiValueRemove,c=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,y=m.isDisabled,w=m.isMulti,b=m.inputValue,x=m.placeholder,E=this.state,S=E.selectValue,k=E.focusedValue,C=E.isFocused;if(!this.hasValue()||!g)return b?null:K.createElement(f,tt({},p,{key:"placeholder",isDisabled:y,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),x);if(w)return S.map(function(N,P){var I=N===k,A="".concat(i.getOptionLabel(N),"-").concat(i.getOptionValue(N));return K.createElement(o,tt({},p,{components:{Container:a,Label:l,Remove:h},isFocused:I,isDisabled:y,key:A,index:P,removeProps:{onClick:function(){return i.removeValue(N)},onTouchEnd:function(){return i.removeValue(N)},onMouseDown:function(L){L.preventDefault()}},data:N}),i.formatOptionLabel(N,"value"))});if(b)return null;var O=S[0];return K.createElement(c,tt({},p,{data:O,isDisabled:y}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||h)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!s||!h)return null;var f={"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,h=this.state.isFocused;return K.createElement(o,tt({},a,{isDisabled:l,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:h,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,h=s.MenuList,c=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,g=this.commonProps,y=this.state.focusedOption,w=this.props,b=w.captureMenuScroll,x=w.inputValue,E=w.isLoading,S=w.loadingMessage,k=w.minMenuHeight,C=w.maxMenuHeight,O=w.menuIsOpen,N=w.menuPlacement,P=w.menuPosition,I=w.menuPortalTarget,A=w.menuShouldBlockScroll,D=w.menuShouldScrollIntoView,L=w.noOptionsMessage,F=w.onMenuScrollToTop,q=w.onMenuScrollToBottom;if(!O)return null;var M=function(z,Q){var X=z.type,W=z.data,J=z.isDisabled,Z=z.isSelected,te=z.label,le=z.value,pe=y===W,ge=J?void 0:function(){return i.onOptionHover(W)},Ce=J?void 0:function(){return i.selectOption(W)},$e="".concat(i.getElementId("option"),"-").concat(Q),De={id:$e,onClick:Ce,onMouseMove:ge,onMouseOver:ge,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return K.createElement(m,tt({},g,{innerProps:De,data:W,isDisabled:J,isSelected:Z,key:$e,label:te,type:X,value:le,isFocused:pe,innerRef:pe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(z.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var z=V.data,Q=V.options,X=V.index,W="".concat(i.getElementId("group"),"-").concat(X),J="".concat(W,"-heading");return K.createElement(o,tt({},g,{key:W,data:z,options:Q,Heading:a,headingProps:{id:J,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(Z){return M(Z,"".concat(X,"-").concat(Z.index))}))}else if(V.type==="option")return M(V,"".concat(V.index))});else if(E){var Y=S({inputValue:x});if(Y===null)return null;B=K.createElement(f,g,Y)}else{var H=L({inputValue:x});if(H===null)return null;B=K.createElement(p,g,H)}var j={minMenuHeight:k,maxMenuHeight:C,menuPlacement:N,menuPosition:P,menuShouldScrollIntoView:D},U=K.createElement(Ghe,tt({},g,j),function(V){var z=V.ref,Q=V.placerProps,X=Q.placement,W=Q.maxHeight;return K.createElement(l,tt({},g,j,{innerRef:z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:X}),K.createElement(_me,{captureEnabled:b,onTopArrive:F,onBottomArrive:q,lockEnabled:A},function(J){return K.createElement(h,tt({},g,{innerRef:function(te){i.getMenuListRef(te),J(te)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:W,focusedOption:y}),B)}))});return I||P==="fixed"?K.createElement(c,tt({},g,{appendTo:I,controlElement:this.controlRef,menuPlacement:N,menuPosition:P}),U):U}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,h=s.name,c=s.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!a)return K.createElement(kme,{name:h,onFocus:this.onValueInputFocus});if(!(!h||a))if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return K.createElement("input",{name:h,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,w){return K.createElement("input",{key:"i-".concat(w),name:h,type:"hidden",value:i.getOptionValue(y)})}):K.createElement("input",{name:h,type:"hidden",value:""});return K.createElement("div",null,m)}else{var g=f[0]?this.getOptionValue(f[0]):"";return K.createElement("input",{name:h,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,h=s.isFocused,c=s.selectValue,f=this.getFocusableOptions();return K.createElement(cme,tt({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:h,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,h=this.props,c=h.className,f=h.id,p=h.isDisabled,m=h.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return K.createElement(a,tt({},y,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),K.createElement(s,tt({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),K.createElement(l,tt({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),K.createElement(o,tt({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,c=s.isFocused,f=s.prevWasFocused,p=s.instancePrefix,m=i.options,g=i.value,y=i.menuIsOpen,w=i.inputValue,b=i.isMulti,x=uP(g),E={};if(o&&(g!==o.value||m!==o.options||y!==o.menuIsOpen||w!==o.inputValue)){var S=y?Ume(i,x):[],k=y?EP(Kp(i,x),"".concat(p,"-option")):[],C=a?Vme(s,x):null,O=qme(s,S),N=ex(k,O);E={selectValue:x,focusedOption:O,focusedOptionId:N,focusableOptionsWithIds:k,focusedValue:C,clearFocusValueOnUpdate:!1}}var P=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},I=h,A=c&&f;return c&&!A&&(I={value:kp(b,x,x[0]||null),options:x,action:"initial-input-focus"},A=!f),(h==null?void 0:h.action)==="initial-input-focus"&&(I=null),et(et(et({},E),P),{},{prevProps:i,ariaSelection:I,prevWasFocused:A})}}]),n}(K.Component);n6.defaultProps=Bme;var zme=K.forwardRef(function(t,e){var n=_fe(t);return K.createElement(n6,tt({ref:e},n))}),r6=zme;function i6({msg:t}){return _.jsx("p",{className:"pl-1 pt-1 text-sm text-red-500",children:t})}const Wme={id:"no_host",displayName:" "};function s6({label:t,selectedHosts:e,onChange:n,errorMsg:r}){const s=[...Le(lo),Wme].map(a=>({value:a.id,label:a.displayName})),o=s.filter(({value:a})=>e==null?void 0:e.includes(a));return _.jsxs("div",{className:"flex flex-col",children:[_.jsx(Wi,{text:t}),_.jsx(r6,{className:"h-12 shadow-none shadow-purple2 focus-within:border-pointCoral [&>div:nth-child(3)]:h-full [&>div:nth-child(3)]:rounded-xl [&>div:nth-child(3)]:border-gray1",menuPosition:"fixed",name:"host",placeholder:`${t} `,defaultValue:o.length?[...o]:[],isMulti:!0,options:s,isClearable:!1,isSearchable:!1,onChange:a=>n(a)}),r&&_.jsx(i6,{msg:r})]})}const tx=2;function Yme({title:t,currentValue:e,yearMonthId:n}){var F,q;const r=Le(Ct),[i,s]=K.useState(1),[o,a]=K.useState({id:"",isEditing:!1}),l=Le(Ur(n)),h=l?{...l.meeting,...e}:e,{currMeeting:c,onMeetingChange:f,savedPlaceList:p}=k3(h,n),{anonymous:m}=ii("register"),{isPending:g,sendPushNotificationToAllUser:y}=Zi(),{hideModal:w}=St(),{errorMsg:b,handleErrorMsg:x}=CE(),{eventMonth:E,time:S,place:k}=c,C=+n.slice(-2),O={place:[{condition:i===1&&k==="",error:" ."}],eventTitle:[{condition:i===1&&E.title==="",error:"  ."}],hosts:[{condition:i===2&&E.hosts.length===0,error:"  ."}],contents:[{condition:i===2&&E.contents.some(({title:M})=>M===""),error:"  ."}]},N=async()=>{const M=ln(Zt,Nr,n);await yn(M,{meeting:c}),alert(`${C}   !`),await y({title:`${c.eventMonth.title}  `,body:`${dt(S,"M d EEEE a h mm")} ${k} `})},P=async()=>{const M={meeting:c,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r.uid};await xE(Nr,n,M),alert(`${C}   !`),await y({title:`${c.eventMonth.title}  `,body:`${C}  ! ${dt(S,"M d EEEE a h mm")} ${k} `})},I=async M=>{M.preventDefault();try{if(x(O))return;l?N():P(),w()}catch{window.alert("     .  ."),w()}},A=(M,B)=>{if(M==="next"&&!x(O)){const H=i===tx?i:i+1;s(H)}if(M==="prev"){const Y=i===1?i:i-1;s(Y)}},D=M=>{const B=document.getElementById(M);B==null||B.focus()},L=M=>o.id===M&&o.isEditing;return _.jsx(Vr,{title:t,className:"max-w-96",children:_.jsxs("form",{onSubmit:I,className:"flex flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[i===1&&_.jsxs(_.Fragment,{children:["eventMonth"in e&&_.jsx(Xt,{label:" ",placeholder:"  .",value:E.title,onChange:M=>{f({eventMonth:{...E,title:M.target.value}})},errorMsg:b==null?void 0:b.eventTitle}),"time"in e&&_.jsx(Pv,{id:"",label:"",selectsEnd:!0,selected:new Date(S),dateFormat:"M d EEEE a hh:mm",onChange:M=>{f({time:dt(M,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0,placeholderText:"  ."}),"place"in e&&_.jsx(Xt,{label:"",value:k,onChange:M=>{f({place:M.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:b==null?void 0:b.place,children:_.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(F=p==null?void 0:p.place)==null?void 0:F.map(M=>_.jsx(Fn,{text:M,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>f({place:M})},M))})})]}),i===2&&_.jsx(_.Fragment,{children:"eventMonth"in e&&_.jsxs(_.Fragment,{children:[_.jsx(s6,{label:" ",selectedHosts:e.eventMonth.hosts,onChange:M=>{const B=M.map(({value:Y})=>Y);f({eventMonth:{...E,hosts:B}})},errorMsg:b.hosts}),_.jsxs("div",{className:"flex h-[40vh] flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[(E==null?void 0:E.contents.length)>0&&_.jsx("ul",{className:"flex flex-col gap-y-3",children:(q=E==null?void 0:E.contents)==null?void 0:q.map(({id:M,title:B},Y)=>_.jsx("li",{children:_.jsx(Xt,{label:Y===0&&"  ",readOnly:!L(M),id:M,iconName:"FiHash",value:B,placeholder:L(M)?"  .":"",className:"bg-blue-50 !pr-16 font-medium read-only:cursor-default read-only:border-gray1 read-only:bg-white",onChange:H=>{const j=E.contents.map(U=>M===U.id?{...U,title:H.target.value}:U);f({eventMonth:{...E,contents:j}})},errorMsg:B===""&&b.contents,tailIconChildren:_.jsxs("div",{className:"absolute right-3 top-[15px] flex items-center gap-2",children:[L(M)?_.jsx(A3,{onClick:()=>{a({id:"",isEditing:!1})},className:"!size-[17px]"}):_.jsx(I3,{onClick:()=>{a({id:M,isEditing:!0}),D(M)},className:"!size-[18px]"}),Y>2&&_.jsx(If,{className:"!size-[18px]",onClick:()=>{if(Y===0)return;const H=E.contents.filter(j=>j.id!==M);f({eventMonth:{...E,contents:H}})}})]})})},M))}),_.jsx("button",{type:"button",onClick:()=>{f({eventMonth:{...E,contents:[...E.contents,{id:zt(),title:""}]}})},className:"flex min-h-12 w-full items-center justify-center rounded-xl border border-gray1",children:_.jsx(gv,{className:"size-5 text-blue1"})})]})]})}),_.jsxs("div",{className:"ml-auto mt-4 flex gap-x-2",children:[_.jsx(lt,{type:"button",name:"",handleClick:()=>A("prev"),disabled:i===1,className:"!shadow-none",color:"gray"}),tx!==i&&_.jsx(lt,{type:"button",name:"",handleClick:()=>A("next"),className:"!shadow-none"}),tx===i&&_.jsx(lt,{type:"submit",name:l!=null&&l.meeting?"":`${C}  `,className:"ml-auto",disabled:g||m,color:"blue"})]}),m&&_.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function Gme(){const t=Le(bre),e=Le(Df),n=Le(Ur(yw)),{book:r,id:i,meeting:s}=n||{},{field:o}=t||{},a={place:" ",time:dt(f3(+vt,+Lp,11,0),"yyyy-MM-dd'T'HH:mm:ss"),eventMonth:{title:"",contents:[{id:zt(),title:`${vt}   `},{id:zt(),title:`${vt}   ?`},{id:zt(),title:`${vt}   ?`},{id:zt(),title:`${Ine}  `}],hosts:[]}},{showModal:l}=St(),h=Or(),c=()=>h("/search",{state:{registerYearMonth:yw}}),f=async()=>{l({element:_.jsx(Yme,{title:`${+Lp}  `,currentValue:a,yearMonthId:yw})})},{bookFieldAndHostList:p}=e,m=p==null?void 0:p.find(({month:y})=>y===+Lp),g=n&&[{label:"",value:s==null?void 0:s.time},{label:"",value:s==null?void 0:s.place},{label:"",value:m==null?void 0:m.hosts}];return _.jsx(_.Fragment,{children:n?_.jsx(_.Fragment,{children:r?_.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[_.jsx(X5,{month:dt(i,"M"),book:r,bookFields:o,className:"col-span-1 h-full"}),_.jsx("div",{className:"col-span-1 flex flex-col gap-4",children:g.map(({label:y,value:w})=>_.jsx(rk,{label:y,value:w,editable:!1},y))})]}):_.jsx(ik,{yearMonthId:i,event:n.meeting})}):_.jsx(es,{text:"    .",children:_.jsxs("div",{className:"flex gap-x-3",children:[_.jsx(lt,{name:" ",color:"lightBlue",handleClick:c,children:_.jsx(Dse,{className:"mr-2"})}),_.jsx(lt,{name:" ",color:"purple",handleClick:f,children:_.jsx(Ise,{className:"mr-2"})})]})})})}function o6({hyphenDate:t,isDateMark:e=!0,className:n}){return _.jsxs("div",{className:`flex items-center gap-x-1 ${n}`,children:[_.jsx("span",{className:"text-[15px] text-gray1",children:"D-DAY"}),_.jsxs("span",{className:"text-red-500",children:[": ",Ru(t)]}),e&&_.jsx("span",{className:"ml-2 text-sm text-gray1",children:dt(t,"yyyy M d")})]})}const a6=({voteDetail:t})=>{const{id:e,title:n,voteItems:r,deadline:i}=t;return _.jsxs("div",{className:"flex w-fit flex-col justify-between rounded-card bg-white px-7 py-5 shadow-card max-sm:w-full",children:[_.jsxs("h4",{className:"mb-3 flex items-center gap-1 font-medium",children:[_.jsx(RE,{className:"text-base"}),n]}),_.jsx("ul",{className:"flex gap-6",children:r.map(({id:s,book:o})=>_.jsx("li",{children:_.jsx(un,{thumbnail:o.thumbnail,title:o.title,className:"w-16"})},s))}),_.jsxs("div",{className:"mt-5 flex items-end justify-between gap-2",children:[_.jsx(o6,{hyphenDate:i,isDateMark:!1}),_.jsxs(br,{to:`/vote/${e}`,state:{docId:e},className:"flex items-center justify-end gap-0.5 py-0.5",children:[_.jsx("span",{className:"text-sm text-gray1",children:" "}),_.jsx(AE,{className:"text-sm text-gray1"})]})]})]})},Kme=()=>{const[t,e]=Wt(kE),n=t==null?void 0:t.filter(s=>s.deadline>=Tm);K.useEffect(()=>{t!=null&&t.length||Hn(zo,e)},[]);const r=Or(),i={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},320:{slidesPerView:1}}};return _.jsx(_.Fragment,{children:n!=null&&n.length?_.jsx(Rv,{options:i,children:n==null?void 0:n.map(s=>_.jsx(jf,{children:_.jsx(a6,{voteDetail:s})},s.id))}):_.jsx(es,{text:"  .",onCreateClick:()=>r("/vote"),createBtnTitle:"  "})})},Qme=()=>{const t=Or(),e=Le(Ct),n=so(tc);K.useEffect(()=>{Hn(Nr,n)},[]);const r=[{name:" ",onClick:()=>t("/monthlyinfo",{state:"fieldAndHost"}),color:"blue"},{name:"",onClick:()=>t("/monthlyinfo",{state:"absence"}),color:"blue"},{name:"",onClick:()=>t("/challenge"),color:"blue"},{name:"",onClick:()=>{pv===e.email?t("/yearClosingEvent"):alert("  !")},color:"gray"}];return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:" "}),_.jsxs("main",{children:[_.jsx(Lt,{title:" ",children:_.jsx(J5,{})}),_.jsxs(Lt,{title:" ",children:[_.jsx(Gme,{}),+Lp==12&&_.jsx(tg,{to:"/bookclub/2025-12",title:""})]}),_.jsx(Lt,{className:"!my-28 grid w-full grid-cols-4 gap-4 max-sm:my-20 max-sm:grid-cols-2 max-sm:gap-2.5",children:r.map(({name:i,onClick:s,color:o})=>_.jsx(lt,{name:`${vt} ${i}`,className:"h-fit w-full rounded-xl !px-0 py-4",color:o,handleClick:s},i))}),_.jsx(Lt,{title:"   ",children:_.jsx(bF,{maxLength:5})}),_.jsx(Lt,{title:" ",children:_.jsx(Kme,{})})]}),_.jsx(mfe,{})]})},nx=({isLoggedIn:t})=>{var l;const e=(l=Jt.currentUser)==null?void 0:l.isAnonymous,{currEmail:n,currPassword:r,onSubmit:i,onChange:s,onAnonymousLoginClick:o}=Tre(t),a=Or();return _.jsx(_.Fragment,{children:_.jsxs("main",{className:"mx-auto flex h-screen w-[50%] flex-col items-center justify-center max-sm:w-[90%]",children:[_.jsxs("header",{className:"mt-[45%] flex w-full flex-col items-center",children:[_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-40"}),_.jsx("h1",{className:"text-lg font-medium",children:" "})]}),_.jsxs("form",{onSubmit:i,className:"mt-5 flex w-full flex-col gap-3",children:[_.jsx(Xt,{name:"email",type:"email",value:n.email,placeholder:"  .",onChange:s,autoComplete:"email",errorMsg:n.error}),_.jsx(Xt,{name:"password",type:"password",placeholder:" .",value:r.password,onChange:s,autoComplete:"current-password",errorMsg:r.error}),_.jsx(lt,{type:"submit",name:"",color:"blue",className:"w-full"}),_.jsx(lt,{type:"button",handleClick:()=>a("/create_account"),name:"",className:"w-full"}),!e&&_.jsx(lt,{type:"button",color:"blue",name:" ",handleClick:o,className:"w-full"})]}),_.jsx(br,{to:"/find_pw",className:"mt-7 text-[13px] text-gray1",children:" "})]})})};function Da({isMulti:t=!1,data:e,label:n}){const r="px-1.5 py-4 text-center text-sm";return _.jsxs(_.Fragment,{children:[t&&_.jsx("td",{className:`${r}`,children:_.jsx("ul",{className:"flex flex-wrap items-center justify-center gap-3",children:e!=null&&e.length&&e?e.map(i=>i==="no_host"?_.jsx("span",{className:"text-gray2",children:" "},i):_.jsx(ur,{userId:i},i)):_.jsx("span",{className:"text-gray2",children:""})})}),!t&&_.jsxs(_.Fragment,{children:[n===""&&_.jsxs("td",{className:`${r} !text-[15px] ${+ei===e?"font-semibold text-blue-700":"text-blue-400"}`,children:[e,""]}),(n===""||n==="")&&_.jsx("td",{className:`${r}`,children:e?n===""?"":"":""}),n!==""&&n!==""&&n!==""&&_.jsx("td",{className:`${r}`,children:e||_.jsx("span",{className:"text-gray2",children:""})})]})]})}function vk({color:t="blue",labels:e,rowDataList:n,isEditable:r,onEditClick:i}){const s={blue:"bg-blue4",yellow:"bg-yellow2"};return _.jsx("div",{className:"relative overflow-hidden rounded-xl bg-white shadow-card",children:_.jsxs("table",{className:"w-full",children:[_.jsxs("colgroup",{children:[e.includes("")&&_.jsx("col",{width:"18%"}),_.jsx("col",{width:"40%"}),_.jsx("col",{width:"40%"}),r&&_.jsx("col",{width:"10%"})]}),_.jsx("thead",{children:_.jsxs("tr",{className:`${s[t]} relative rounded-t-xl`,children:[e.map(o=>_.jsx("th",{className:"py-3 font-medium text-blue3",children:o},o)),r&&_.jsx("th",{"aria-label":""})]})}),_.jsx("tbody",{children:n==null?void 0:n.map(o=>_.jsx(K.Fragment,{children:_.jsxs("tr",{className:"border-b border-[#f0f0f0] last:border-0",children:["month"in o&&e.includes("")&&_.jsx(Da,{label:"",data:o.month}),"field"in o&&_.jsx(Da,{label:"",data:o.field}),"hosts"in o&&_.jsx(Da,{isMulti:!0,label:"",data:o.hosts}),"onceAbsenceMembers"in o&&_.jsx(Da,{isMulti:!0,label:"",data:o.onceAbsenceMembers}),"breakMembers"in o&&_.jsx(Da,{isMulti:!0,label:"",data:o.breakMembers}),"onceAbsenceMonth"in o&&_.jsx(Da,{label:"",data:o.onceAbsenceMonth}),"breakMonth"in o&&_.jsx(Da,{label:"",data:o.breakMonth}),r&&"month"in o&&_.jsx("td",{className:"px-4 text-center",children:_.jsx("button",{type:"button",onClick:()=>i(o.month),children:_.jsx(DE,{className:"stroke-gray2"})})})]})},o.month))})]})})}function Xme({isMonth:t,isEditable:e}){const[n,r]=Wt(kl);K.useEffect(()=>{Xn(Nr,ul,r)},[]);const i=["",""],s=t?["",...i]:i,o=async()=>{await Os(ln(Zt,Nr,ul),jne)};return _.jsx(_.Fragment,{children:n!=null&&n.absenceMembers?_.jsx(vk,{labels:s,rowDataList:n==null?void 0:n.absenceMembers,isEditable:e}):_.jsx(es,{text:"    .",createBtnTitle:`${vt}    `,onCreateClick:o})})}function Jme({field:t,setSelectedValues:e,errorMsg:n}){const r=xd.map(o=>({value:`${o.id}`,label:o.name})),i=r.find(({label:o})=>o===t),s=o=>{const a=o.label;e(l=>({...l,field:a}))};return _.jsxs("div",{children:[_.jsx(Wi,{text:""}),_.jsx(r6,{className:"h-12 [&>div]:h-full [&>div]:rounded-xl [&>div]:border-gray1",menuPosition:"fixed",options:r,isSearchable:!1,defaultValue:i||r[12],onChange:s}),n&&_.jsx(i6,{msg:n})]})}function Zme({month:t}){const{errorMsg:e,fieldAndHostList:n,onSubmit:r,setSelectedValues:i}=xre(),s=n.find(l=>l.month===t),{field:o,hosts:a}=s;return K.useEffect(()=>{i(s)},[]),_.jsx(Vr,{title:`${t}   `,children:_.jsxs("form",{onSubmit:l=>r(l,t),className:"flex flex-col gap-y-4",children:[_.jsx(Jme,{field:o,setSelectedValues:i,errorMsg:e==null?void 0:e.field}),_.jsx(s6,{label:"",selectedHosts:a,onChange:l=>{const h=l.map(({value:c})=>c);i(c=>({...c,hosts:h}))},errorMsg:e==null?void 0:e.hosts}),_.jsx(lt,{type:"submit",name:"",className:"self-end"})]})})}const ege=({isMonth:t=!1,isEditable:e=!1})=>{const{bookFieldAndHostList:n}=Le(Df),{showModal:r}=St(),i=a=>{r({element:_.jsx(Zme,{month:a})})},s=async()=>{xE(`BookClub-${vt}`,Yd,Fne)},o=t?["","",""]:["",""];return _.jsx(_.Fragment,{children:n?_.jsx(vk,{labels:o,rowDataList:n,onEditClick:i,isEditable:e}):_.jsx(es,{text:"     .",createBtnTitle:`${vt}      `,onCreateClick:s})})};function tge(){const{uid:t}=Le(Ct),{state:e}=Br(),r={fieldAndHost:" ",absence:""}[e];return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${vt} ${r} `,backBtn:!0}),_.jsxs("main",{children:[r===""&&_.jsxs(Lt,{children:[_.jsx(Xme,{isMonth:!0}),_.jsx(tg,{title:"   ",to:"/setting/absence",state:{userId:t},className:"pt-3"})]}),r===" "&&_.jsx(Lt,{title:"  ",children:_.jsx(ege,{isEditable:!0,isMonth:!0})})]})]})}const nge=({document:t})=>{const{id:e,book:n,meeting:{time:r,place:i}}=t,s=dt(e,"M");return _.jsxs("div",{className:"relative flex h-full w-full cursor-pointer flex-col items-center justify-between gap-1 rounded-card bg-white px-4 py-5 shadow-card",children:[_.jsx(Fn,{color:e===wn?"lightBlue":"purple",shape:"rounded",text:`${s} `,className:"font-medium"}),n?_.jsxs(_.Fragment,{children:[_.jsx(un,{thumbnail:n.thumbnail,title:n.title,iconName:n.title.includes("")?"MdEventAvailable":void 0,className:"mt-4 w-1/2 max-sm:w-1/4"}),_.jsx("h3",{className:"my-2 text-center text-lg font-medium leading-6",children:n.title})]}):_.jsx("h3",{className:"my-2 text-center text-lg font-medium",children:t.meeting.eventMonth.title}),_.jsx(l5,{time:r,place:i,className:"flex flex-col items-center"})]})};function rge(){const{clubByYear:t,selectedYear:e,setSelectedYear:n}=Af(),r=K.useMemo(()=>t.filter(i=>new Date(i.id).getTime()<new Date(wn).getTime()),[t]);return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:" "}),_.jsxs("main",{children:[_.jsx(a5,{selectedYear:e,handleChangeYear:n,buttonClassName:"!shadow-sm !px-3 !py-2"}),_.jsx(Lt,{title:`${e} `,className:"!mt-10",children:r.length!==0?_.jsx("ul",{className:"grid grid-cols-4 gap-5 max-md:grid-cols-3 max-sm:mt-2 max-sm:flex max-sm:flex-col [&>div]:col-span-4",children:r.map(i=>_.jsx(br,{to:`/bookclub${wn===i.id?"":`/${i.id}`}`,children:_.jsx(nge,{document:i})},i.id))}):_.jsx(es,{text:"    ."})})]})]})}const ige=({searchedBook:t,registerYearMonth:e})=>{const n=Le(Ur(e)),[r,i]=K.useState(!1),s=e.slice(-2),{showModal:o}=St(),a={place:" ",time:dt(f3(+vt,+s,11,0),"yyyy-MM-dd'T'HH:mm:ss")},l=async()=>{o({element:_.jsx(Q5,{title:`${s}  `,currentValue:a,yearMonthId:e,registerBook:t})})};return K.useEffect(()=>{n&&i(!0)},[r]),_.jsx(_.Fragment,{children:r&&t.title===(n==null?void 0:n.book.title)?_.jsx(lt,{name:" ",disabled:!0,className:"ml-auto py-2"}):_.jsx(lt,{name:`${+s}  ${n!=null&&n.book?"":""}`,type:"button",handleClick:l,color:"blue",className:"ml-auto py-2"})})},sge=({searchedBook:t})=>{const[e,n]=K.useState(!1),{state:r}=Br(),i=()=>n(g=>!g),{thumbnail:s,title:o,authors:a,publisher:l,url:h,datetime:c,price:f,contents:p}=t,m="size-5 w-[10%] text-gray1";return _.jsxs(_.Fragment,{children:[_.jsxs("button",{type:"button",onClick:i,className:"flex w-full items-center justify-between gap-1 rounded-xl bg-white px-3 py-2 text-text shadow-card",children:[_.jsx(ic,{book:t,className:"mr-1 h-14 w-[90%] items-center"}),e?_.jsx(kce,{className:m}):_.jsx(Ece,{className:m})]}),_.jsx("div",{className:`-m-2 overflow-hidden p-2 transition-[max-height] duration-500 ease-in-out ${e?"max-h-[1000px]":"max-h-0"}`,children:_.jsxs("div",{className:"mb-4 mt-2 rounded-xl bg-white p-4 shadow-card",children:[_.jsx(un,{thumbnail:s,title:o,url:h,className:"float-left mr-3 w-28"}),_.jsxs("div",{className:"mb-4 h-full [&>div]:text-text",children:[_.jsx("h1",{className:"mb-1 text-lg font-medium",children:o!==""?` ${o} `:""}),a&&_.jsx(Ds,{authors:a,publisher:l}),c&&_.jsxs("div",{className:"mb-0.5 mt-3",children:[_.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",dt(c,"yyyy M d")]}),f&&_.jsxs("div",{className:"mb-0.5",children:[_.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",t.price.toLocaleString(),""]}),p&&_.jsxs("p",{className:"my-3",children:[p,"..."]})]}),_.jsx(ige,{searchedBook:t,registerYearMonth:r==null?void 0:r.registerYearMonth})]})})]})},oge=()=>{const{onBookQueryChange:t,searchList:e,setSearchList:n}=NE(),r=K.useRef(null);return K.useEffect(()=>{n([]),r.current.focus()},[]),_.jsxs(_.Fragment,{children:[_.jsx($n,{title:" ",backBtn:!0}),_.jsx("main",{children:_.jsxs(Lt,{title:" ",children:[_.jsxs("form",{className:"mb-8 flex w-1/2 gap-3 max-sm:mb-4 max-sm:w-full",children:[_.jsx(Xt,{ref:r,placeholder:"  .",onChange:t,className:"flex-1"}),_.jsx(lt,{name:"",className:"min-w-fit"})]}),_.jsxs("span",{children:[" ",e.length,""," ",_.jsx("span",{className:"text-gray1",children:"( 10 .)"})]}),_.jsx("ul",{className:"mt-4 columns-2 gap-x-4 max-sm:mt-2 max-sm:columns-1 max-sm:gap-x-0",children:e.map((i,s)=>_.jsx("li",{className:"mb-4 w-full items-center justify-between",children:_.jsx(sge,{searchedBook:i})},`${i.isbn}-${s}`))})]})})]})},age=()=>{const{anonymous:t}=ii("see"),e=Or(),n=()=>{if(t)return window.alert(" !");window.confirm("  ?")===!0&&(Jt.signOut(),e("/"))};return _.jsx("button",{className:"border-none bg-transparent",onClick:n,children:""})},lge=()=>{var s;const{email:t}=Le(Ct),{blockLinkAndAlertJoinMember:e}=ii("see"),n=[{to:"edit-profile",name:" "},{to:"edit-password",name:" "},{to:"absence",name:""}],r=[{to:"",name:""},{to:"delete-account",name:""}],i=(s=Jt.currentUser)==null?void 0:s.isAnonymous;return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:"",backBtn:!0,showDesktop:!1,backTo:"/bookshelf"}),_.jsxs("main",{children:[_.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:" "}),_.jsxs("ul",{className:"mb-14 divide-y divide-gray3",children:[n.map(({to:o,name:a})=>_.jsx("li",{className:"py-3",children:_.jsx(br,{to:o,onClick:e,children:a})},o)),!i&&_.jsx("li",{className:"py-3",children:_.jsx(br,{to:"notification",children:""})})]}),_.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:""}),_.jsxs("ul",{className:"divide-y divide-gray3",children:[r.map(({to:o,name:a})=>_.jsx("li",{className:"py-3",children:o===""?_.jsx(age,{}):_.jsx(br,{to:o,onClick:e,children:a})},o)),t===pv&&_.jsx("li",{className:"py-3",children:_.jsx(br,{to:"developer",children:""})})]})]})]})};function uge({voteId:t,book:e,onCreateClick:n,onDeleteClick:r}){return _.jsxs("div",{className:"relative min-w-fit",children:[e.title===""?_.jsx("button",{type:"button",className:"flex aspect-[0.68/1] w-[70px] items-center justify-center rounded-r-lg border border-gray1 shadow-card",onClick:n,children:_.jsx(PE,{className:"size-[28px] text-gray2"})}):_.jsx(un,{thumbnail:e.thumbnail,title:e.title,className:"w-[70px]"}),t>2&&_.jsx("button",{type:"button",onClick:()=>r(t),className:"absolute -right-1.5 -top-1.5 p-0.5",children:_.jsx(If,{className:"size-[25px] rounded bg-white p-0.5 text-2xl shadow-card"})})]})}function cge({label:t,containerClassName:e,...n}){return _.jsxs("div",{className:`relative flex flex-col ${e}`,children:[t&&_.jsx(Wi,{text:t}),_.jsx("textarea",{...n,className:`h-32 w-full resize-none rounded-xl border border-gray1 p-3 outline-none hover:bg-blue-50 ${n.className}`})]})}const dge={isOpenSearchBook:!1,itemId:1},fge=()=>{const[t,e]=K.useState(dge),[n,r]=K.useState(!1),{newVote:i,setNewVote:s,onNewVoteSubmit:o,onVoteTitleChange:a,onDateChange:l,onAddVoteItemBtn:h,onDeleteVoteItemClick:c,isPending:f}=gre(),{searchInputRef:p,onBookQueryChange:m,searchList:g,resetSearchList:y}=NE(),w=C=>{y(),e(({isOpenSearchBook:O,itemId:N})=>({itemId:C||N,isOpenSearchBook:!O}))},b=()=>r(C=>!C),x=C=>{const{title:O,url:N,thumbnail:P}=C,I={title:O,url:N,thumbnail:P},A=i.voteItems.map(D=>D.id===t.itemId?{...D,book:I}:D);s({...i,voteItems:A}),b()},E=C=>{const{value:O}=C.currentTarget,N={...i,voteItems:i.voteItems.map(P=>P.id===t.itemId?{...P,selectReason:O}:P)};s(N)},{title:S,voteItems:k}=i;return _.jsxs(Vr,{title:"  ",className:"max-w-[500px]",children:[!t.isOpenSearchBook&&_.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4 overflow-y-scroll scrollbar-hide",children:[_.jsx(Xt,{label:"",type:"text",placeholder:": 1  ",value:S,onChange:a,required:!0}),_.jsxs("div",{children:[_.jsx("span",{className:"py-1 pl-1 text-sm font-medium text-blue1",children:"  "}),_.jsxs("ul",{className:"flex gap-x-3 overflow-x-scroll py-1 scrollbar-hide",children:[k.map(({id:C,book:O})=>_.jsx(uge,{voteId:C,book:O,onCreateClick:()=>w(C),onDeleteClick:()=>c(C)},C)),_.jsx("button",{type:"button",onClick:h,disabled:k.length>=4,className:"flex h-[inherit] items-center justify-center px-2 text-blue1 disabled:text-gray2",children:_.jsx(gv,{className:"text-xl"})})]})]}),_.jsx(Pv,{id:" ",label:" ",selected:new Date(i.deadline),onChange:l,selectsEnd:!0,endDate:new Date(i.deadline),dateFormat:"yyyy MM dd"}),_.jsx(lt,{type:"submit",name:"  ",className:"mt-3 self-end",disabled:f,color:"blue"})]}),t.isOpenSearchBook&&(n?_.jsxs(_.Fragment,{children:[_.jsx(cge,{label:" 2",id:"select-reason",placeholder:"      .",value:k[t.itemId-1].selectReason,onChange:E}),_.jsx(lt,{type:"button",name:" ",handleClick:()=>{b(),w()},className:"mt-3 self-end"})]}):_.jsxs(_.Fragment,{children:[_.jsx(Xt,{id:"search-book",label:" ",ref:p,placeholder:"  .",onChange:m,iconName:"FiSearch"}),_.jsx(eF,{searchList:g,onSelectBtnClick:x})]}))]})};function hge({vote:t}){const[e,n]=K.useState([]),{voteItems:r,title:i,id:s,createdAt:o,creatorId:a}=t;return K.useEffect(()=>{e!=null&&e.length||Hn(`${zo}/VoteId-${s}/${r_}`,n)},[]),_.jsxs("div",{className:"group relative flex w-full flex-col justify-between rounded-card bg-white bg-opacity-65 p-4 opacity-80 shadow-card",children:[_.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[_.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium text-gray1",children:[_.jsx(RE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),Qee(i,40)]}),_.jsx(ur,{userId:a})]}),_.jsx("ul",{className:"my-3 flex items-center justify-center gap-x-5",children:r.map(({book:{title:l,thumbnail:h},id:c})=>_.jsx("li",{className:"relative",children:_.jsx(un,{title:l,thumbnail:h,className:"w-16"})},c))}),_.jsx(br,{to:`/vote/${s}`,state:{docId:s},"aria-label":"",className:"absolute right-4 top-[40%] flex size-12 items-center justify-center rounded-full border bg-blue1 opacity-20 group-hover:opacity-100",children:_.jsx(AE,{className:"text-xl text-white"})}),_.jsx("span",{className:"text-end text-sm text-gray1",children:new Date(o).toLocaleDateString()})]})}const pge=()=>{const[t,e]=Wt(kE),{showModal:n}=St();K.useEffect(()=>{t!=null&&t.length||Hn(zo,e)},[]);const r=t==null?void 0:t.filter(s=>s.deadline>=Tm),i=t==null?void 0:t.filter(s=>s.deadline<Tm);return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:" "}),_.jsxs("main",{children:[_.jsx(Lt,{title:" ",titleBtn:_.jsx("button",{type:"button",onClick:()=>n({element:_.jsx(fge,{})}),children:_.jsx(gv,{className:"text-lg text-blue1"})}),children:r&&(r==null?void 0:r.length)!==0?_.jsx("ul",{className:"flex gap-6 max-sm:flex-col",children:r==null?void 0:r.map(s=>_.jsx(a6,{voteDetail:s},s.id))}):_.jsx(es,{text:"   ."})}),_.jsx(Lt,{title:"  ",children:(i==null?void 0:i.length)!==0&&_.jsx("ul",{className:"grid grid-cols-3 gap-7 max-md:grid-cols-2 max-sm:flex max-sm:flex-col max-sm:gap-5",children:i==null?void 0:i.map(s=>_.jsx(hge,{vote:s},s.id))})})]})]})},$v=On({key:`currUserFcm/${zt()}`,default:null});On({key:`notification/${zt()}`,default:"default"});function TP({voteItem:t,children:e,selected:n}){const{book:{title:r,thumbnail:i}}=t;return _.jsxs("div",{className:`flex h-full w-40 flex-col items-center gap-3 overflow-hidden rounded-card bg-white shadow-card max-sm:w-[45%] max-sm:gap-2 ${e?"pt-4":"py-5"}`,children:[_.jsxs("div",{className:"relative flex w-full justify-center max-sm:px-3",children:[n&&_.jsx(Tce,{className:"absolute -top-2 right-0 z-10 size-12 rounded-full bg-white text-pointCoral"}),_.jsx(un,{thumbnail:i,title:r,className:"w-24 max-sm:w-20"})]}),_.jsxs("span",{className:"mt-2 line-clamp-2 h-fit w-4/5 text-center leading-5",children:["",r,""]}),e]})}const mge=({vote:t,onVoteDeleteClick:e})=>{const{creatorId:n,createdAt:r,title:i}=t,{uid:s}=Le(Ct);return _.jsxs("header",{className:"flex flex-col items-center justify-between pb-3 max-sm:pb-0 max-sm:pt-3",children:[_.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[i&&_.jsx("h3",{className:"text-xl font-medium max-sm:text-lg",children:i}),s===n&&_.jsx("button",{type:"button",onClick:e,children:_.jsx(If,{})})]}),_.jsxs("div",{className:"flex w-full justify-between gap-2",children:[_.jsx(rF,{creatorId:n}),_.jsx("span",{className:"text-gray1 max-sm:text-sm",children:dt(r,"yyyy.M.d. HH:mm")})]})]})};function gge({voteItems:t}){const[e,n]=K.useState(!1),r=()=>n(i=>!i);return _.jsxs("div",{className:"mb-10 mt-3 rounded-xl bg-white p-4 shadow-card max-sm:py-2.5",children:[_.jsxs("button",{type:"button",onClick:r,className:"flex w-full items-center gap-1",children:[_.jsx("span",{className:"block flex-1 text-start",children:"    "}),e?_.jsx(Vre,{className:"text-gray1"}):_.jsx(D3,{className:"text-gray1"})]}),_.jsx("ul",{className:`flex gap-4 overflow-hidden transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${e?"max-h-[5000px]":"max-h-0"}`,children:t.map(({selectReason:i,id:s,book:o})=>_.jsxs("li",{className:"mt-2 flex w-full flex-col px-2 pt-2 max-sm:px-0",children:[_.jsxs("span",{className:"mb-2 bg-green3 py-0.5 font-medium",children:[" ",o.title]}),i?_.jsx("p",{children:i}):_.jsx("span",{children:" ."}),_.jsx(M3,{url:o.url,title:"  ",className:"text-purple2"})]},s))})]})}function vge({selected:t,onVoteItemClick:e}){return _.jsx("button",{type:"button",onClick:e,className:"flex w-full flex-col items-center justify-center bg-green1 py-5 text-white",children:t?_.jsx(Yse,{className:"size-5"}):_.jsx(Qse,{className:"size-5"})})}const yge=()=>{const{state:t}=Br(),{email:e}=Le(Ct),n=Le($v),r=Or();K.useEffect(()=>{t!=null&&t.docId||r("/vote")},[]);const{currentVote:i,votedItemsByMember:s,voteCountsById:o,totalVoteCount:a,selectedItem:l,onVotingSubmit:h,onVoteItemClick:c,myVotedItems:f,onVoteDeleteClick:p,isRevote:m,onToggleRevoteClick:g}=kre({docId:t==null?void 0:t.docId}),{sendPushNotificationToUser:y,sendPushNotificationToAllUser:w,isPending:b}=Zi(),x=(i==null?void 0:i.deadline)<Tm,E=o==null?void 0:o.filter((C,O,N)=>C.voteCount===Math.max(...N.map(P=>P.voteCount))),S=C=>!!E.find(O=>O.title===C),k=Ru(i.deadline);return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${x?" ":""} `,backBtn:!0}),(i==null?void 0:i.voteItems)&&_.jsxs("main",{children:[_.jsx(mge,{vote:i,onVoteDeleteClick:p}),_.jsx(gge,{voteItems:i.voteItems}),x||f&&!m?_.jsxs(_.Fragment,{children:[_.jsx("ul",{className:"mb-6 mt-2 flex h-full flex-wrap items-center justify-center gap-5 max-sm:mb-10",children:i.voteItems.map(C=>_.jsx(TP,{voteItem:C,selected:S(C.book.title)},C.id))}),o.map(({id:C,title:O,voteCount:N})=>_.jsxs("div",{className:"relative mx-auto mt-2 flex w-2/3 overflow-hidden rounded-xl bg-white px-3 py-1 shadow-sm max-sm:w-full",children:[_.jsx("div",{style:{width:`${Cm(N,a)}%`},className:`absolute inset-y-0 left-0 z-0 rounded-r-lg ${S(O)?"bg-pointCoral":"bg-gray3"}`}),_.jsx("span",{className:`z-10 inline-block w-full pt-[1px] text-[15px] ${S(O)?"font-medium text-white":"text-gray2"}`,children:O}),_.jsxs("span",{className:`z-10 pt-[1px] text-sm ${S(O)?"font-medium text-pointCoral":"text-gray2"}`,children:[Cm(N,a),"%"]})]},C)),_.jsxs("div",{className:"mt-14 flex items-center justify-center gap-4 max-sm:mb-12",children:[_.jsx(lt,{name:" ",disabled:!0,color:"gray",className:"px-8"}),!x&&_.jsx(lt,{disabled:x,type:"button",name:" ",handleClick:g})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(Es,{text:"  "}),_.jsxs("form",{onSubmit:h,className:"mb-10 flex flex-col items-center",children:[_.jsx("ul",{className:"mb-8 flex flex-wrap items-center gap-4 max-sm:justify-center",children:i.voteItems.map(C=>_.jsx(TP,{voteItem:C,children:_.jsx(vge,{selected:!!l(C.id),onVoteItemClick:()=>c(C.id)})},C.id))}),_.jsx(lt,{type:"submit",name:"",className:"px-10 py-2 max-sm:px-6"})]})]}),!x&&_.jsx(o6,{hyphenDate:i.deadline}),_.jsxs("div",{className:"mt-10",children:[_.jsxs("h4",{className:"flex items-center gap-2",children:[_.jsx(Jre,{}),`: ${s==null?void 0:s.length}`]}),_.jsx("ul",{className:"mt-2 flex flex-wrap gap-x-3 gap-y-2",children:s.map(C=>_.jsx("li",{children:_.jsx(ur,{userId:C.id})},C.id))})]}),e===pv&&+k>=0&&_.jsx(lt,{className:"mt-10",color:"blue",name:`  : ${+k>0?`${k}`:" "}`,handleClick:async()=>{const C={title:"   !",body:`${+k>0?`${k} `:" "}  .     `,notification:n.notification};await y(C),await w(C),window.alert("     !")},disabled:b})]})]})};function l6({children:t,className:e}){return _.jsxs("div",{className:`relative ${e}`,children:[_.jsx("img",{src:"/han-bookclub-app/confetti.png",alt:"",className:"absolute left-0 right-0 top-0 -z-10 mx-auto opacity-80"}),t]})}function wge(){const t=Le(lo),[e,n]=Wt(kl),r=K.useCallback((i,s)=>{var p;if((e==null?void 0:e.absenceMembers)===void 0)return[];const o=(p=e==null?void 0:e.absenceMembers)==null?void 0:p.flatMap(({breakMembers:m,onceAbsenceMembers:g})=>[...m,...g]),a=new Set(o),l=t.filter(({id:m})=>!a.has(m)).map(({id:m})=>({[m]:0})),h=Object.entries(o.reduce((m,g)=>(m[g]=(m[g]||0)+1,m),{})).map(([m,g])=>({[m]:g}));return[...l,...h].sort((m,g)=>+Object.values(m)-+Object.values(g)).reduce((m,g,y,w)=>{var S;const[b,x]=Object.entries(g)[0];let E;if(y===0)E=1;else{const[k,C]=Object.entries(w[y-1])[0],O=(S=Object.values(m[y-1])[0])==null?void 0:S.rank;E=x===C?O:O+1}return m.push({[b]:{rank:E,absenceCount:x}}),m},[]).filter(m=>{const g=Object.keys(m)[0],y=m[g].rank;return Array.from({length:s-i+1},(b,x)=>i+x).includes(y)})},[e,t]);return K.useEffect(()=>{Xn(Nr,ul,n)},[]),_.jsxs(_.Fragment,{children:[_.jsx(l6,{className:"flex justify-center gap-x-4 py-10",children:_.jsx(ur,{className:"flex aspect-square size-24 flex-col items-center justify-center rounded-2xl bg-white p-4 text-base shadow-card [&>img]:size-10",userId:Object.keys(r(0,1)[0]||[])[0]})}),_.jsx("ul",{className:"flex flex-col gap-y-2",children:r(1,3).map(i=>_.jsxs("li",{className:`flex w-full items-center rounded-xl bg-white px-5 py-3 shadow-card ${i[Object.keys(i)[0]].rank===1?"border-2 border-yellow-400 !py-4":""}`,children:[i[Object.keys(i)[0]].rank===1&&_.jsx(UE,{className:"mr-2 size-5 text-yellow-600"}),_.jsx("span",{className:"w-12 font-RomanticGumi text-base font-medium text-blue2",children:`${i[Object.keys(i)[0]].rank}`}),_.jsx(ur,{userId:Object.keys(i)[0]}),_.jsxs("div",{className:"ml-auto flex font-medium",children:[_.jsx("span",{className:"block w-8",children:" "}),_.jsxs("span",{className:"w-[25px]",children:[i[Object.keys(i)[0]].absenceCount,""]})]})]},Object.keys(i)[0]))})]})}function bge({firstRank:t,secondRank:e,thirdRank:n,children:r}){return _.jsxs("div",{className:"relative mx-auto w-[290px]",children:[_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/stage.png",alt:"stage",className:"mt-24 w-full"}),_.jsxs("div",{className:"absolute bottom-[88px] flex h-32 w-full items-end justify-around",children:[_.jsx("div",{className:"mb-1.5 flex h-fit items-end justify-center",children:e.length!==0?e.map(r):[{rank:2}].map(r)}),_.jsx("div",{className:"mb-[52px] flex h-fit max-w-20 items-end justify-center",children:t.length!==0?t.map(r):[{rank:1}].map(r)}),_.jsx("div",{className:"flex h-fit max-w-20 items-end justify-center",children:e.length+t.length<3&&(n.length!==0?n.map(r):[{rank:3}].map(r))})]})]})}function xge({rank:t,isEditing:e}){const{meeting:n}=Le(Ur(`${vt}-12`)),{hideModal:r}=St(),{clubBookListByYear:i}=Af(),{onEditSubmitClick:s}=Of({collName:`${Nr}`,docId:`${vt}-12`,dataToUpdate:{"meeting.eventMonth.contents":[]}}),o=({clubBook:a})=>{var l;try{const h=((l=n==null?void 0:n.eventMonth)==null?void 0:l.contents)||[],c={clubBook:a,rank:t},f=h==null?void 0:h.map(p=>{var g,y,w;if(!p.title.includes(" "))return p;const m=e?(g=p==null?void 0:p.result.books)==null?void 0:g.map(b=>b.rank===t?c:b):(y=p==null?void 0:p.result)!=null&&y.books?[...(w=p==null?void 0:p.result)==null?void 0:w.books,c]:[c];return{...p,result:{...p==null?void 0:p.result,books:m}}});s({"meeting.eventMonth.contents":f}),alert(`2025   ${t} ${a.title}  ${e?"":""}.`)}catch(h){console.log(h)}finally{r()}};return _.jsx(Vr,{title:`2025   ${t} ${e?"":""}`,children:_.jsx("ul",{className:"grid grid-cols-4 gap-4",children:i.map(({yearMonthId:a,...l})=>_.jsx("li",{children:_.jsx("button",{type:"button",onClick:()=>o({clubBook:l}),children:_.jsx(un,{thumbnail:l.thumbnail,title:l.title})})},a))})})}function _ge({books:t}){const{showModal:e}=St(),n=({rank:i,isEditing:s})=>{e({element:_.jsx(xge,{rank:i,isEditing:s})})},r=i=>t==null?void 0:t.filter(({rank:s})=>s===i);return _.jsx(bge,{firstRank:r(1),secondRank:r(2),thirdRank:r(3),children:({clubBook:i,rank:s})=>_.jsx("button",{type:"button",onClick:()=>n({rank:s,isEditing:!!i}),style:{transform:"rotateX(20deg)"},children:_.jsx(un,{iconName:"FiPlus",title:i?i.title:void 0,thumbnail:i?i.thumbnail:void 0,className:"rotate-x-12 w-16 min-w-16 origin-bottom transform bg-white"})},s)})}function Sge({rank:t,isEditing:e}){var w;const[n,r]=K.useState(1),[i,s]=K.useState([]),o=K.useRef(null),{meeting:a}=Le(Ur(`${vt}-12`)),{hideModal:l}=St(),{clubBookListByYear:h}=Af(),{editedData:c,setEditedData:f,onEditSubmitClick:p}=Of({collName:`${Nr}`,docId:`${vt}-12`,dataToUpdate:{"meeting.eventMonth.contents":[]}}),m=(w=c["meeting.eventMonth.contents"].find(b=>b.title.includes(" ")))==null?void 0:w.result.subjects.find(b=>b.rank===t),g=({step:b,clubBook:x,yearMonthId:E})=>{var C;r(b);const S={yearMonthId:E,clubBook:x,rank:t},k=(C=a==null?void 0:a.eventMonth)==null?void 0:C.contents.map(O=>O.title.includes("  ")?{...O,result:{...O.result,subjects:[...O.result.subjects,{...S}]}}:O);f({"meeting.eventMonth.contents":k})},y=()=>{const b=i[0].text.split("").find(E=>{var S;return E.includes((S=o==null?void 0:o.current)==null?void 0:S.value)})||"",x=c["meeting.eventMonth.contents"].map(E=>E.title.includes("  ")?{...E,result:{...E.result,subjects:E.result.subjects.map(S=>S.rank!==t?S:{...S,bestSubject:b})}}:E);p({"meeting.eventMonth.contents":x}),l()};return K.useEffect(()=>{m&&Hn(xr(m.yearMonthId,Mu),s)},[m]),_.jsxs(Vr,{title:`2025   ${t} ${e?"":""}`,children:[n===1&&_.jsxs(_.Fragment,{children:[_.jsx(Es,{text:"  ."}),_.jsx("ul",{className:"grid grid-cols-4 gap-4",children:h.map(({yearMonthId:b,...x})=>_.jsx("li",{children:_.jsx("button",{type:"button",onClick:()=>g({step:2,clubBook:x,yearMonthId:b}),children:_.jsx(un,{thumbnail:x.thumbnail,title:x.title})})},b))})]}),n===2&&_.jsxs(_.Fragment,{children:[_.jsx(Xt,{ref:o,iconName:"FiHash",placeholder:"    ?",className:"mb-3"}),_.jsx("div",{className:"mb-4 overflow-scroll rounded-xl border border-gray3 bg-[#f5f5f5] p-3 scrollbar-hide",children:i.map(b=>_.jsx(ME,{text:b.text},b.id))}),_.jsxs("div",{className:"flex items-center",children:[_.jsx(ic,{book:m==null?void 0:m.clubBook}),_.jsx(lt,{name:"",color:"purple",handleClick:()=>y(),type:"submit"})]})]})]})}function Ege({subjects:t}){const{showModal:e}=St(),n=({rank:r,isEditing:i})=>{e({element:_.jsx(Sge,{rank:r,isEditing:i})})};return _.jsxs(_.Fragment,{children:[_.jsx("ul",{className:"flex flex-col gap-y-4 rounded-2xl bg-white p-5 shadow-card",children:t.length>0&&(t==null?void 0:t.map(({bestSubject:r,clubBook:i,yearMonthId:s,rank:o},a)=>_.jsxs("li",{className:`flex flex-col items-center ${t.length===a+1?"":"border-b-2 border-dotted pb-4"}`,children:[_.jsxs("div",{className:"mb-3 flex w-full items-center justify-between gap-x-3",children:[_.jsx(ic,{book:i,className:""}),_.jsxs("div",{className:"flex aspect-square size-12 flex-col items-center justify-center rounded-full bg-purple4",children:[_.jsx("span",{className:"font-GiantsInline text-xs leading-4 text-purple2",children:"Rank"}),_.jsx("span",{className:"font-GiantsInline text-lg leading-5 text-purple1",children:o})]})]}),_.jsxs("p",{children:[_.jsx(Xse,{className:"float-left mr-3 size-12 bg-white text-purple3"}),_.jsx("span",{dangerouslySetInnerHTML:{__html:r}})]}),_.jsx(br,{to:`/bookclub/${s}/subjects`,className:"ml-auto w-fit px-2 pb-2 text-sm font-medium text-purple2 underline",children:"  "})]},r)))}),_.jsx("div",{className:"grid grid-cols-2 gap-4",children:3-t.length>0&&Array.from({length:3-t.length}).map((r,i)=>_.jsxs("div",{className:`flex flex-col items-center gap-y-4 p-5 ${i===0&&(t.length===0||t.length===3)?"col-span-2 border border-red-500":""}`,children:[_.jsx("button",{type:"button",onClick:()=>n({rank:t.length+i+1}),children:_.jsx(un,{iconName:"FiPlus",className:"w-16 bg-white"})}),_.jsxs("h3",{className:"font-RomanticGumi tracking-tighter text-blue3",children:[" ",t.length+i+1,""]})]},i))})]})}function kge({questionList:t}){const e=Le(lo);St();const n=r=>{const i=e.filter(s=>r.length!==0?r.find(({userId:o})=>o!==s.id):!0).map(s=>({userId:s.id,answer:""})).sort((s,o)=>o.userId>s.userId?-1:0);return[...r,...i]};return _.jsx("div",{className:"flex flex-col gap-y-3",children:t.map(({question:r,answerList:i})=>_.jsx(VE,{title:r,children:_.jsx("ul",{className:"mb-4 mt-2 grid grid-cols-1 gap-y-3",children:n(i).map(({answer:s,userId:o})=>_.jsxs("li",{className:"flex items-start",children:[_.jsx(ur,{userId:o,className:"rounded-lg bg-[#eeedff] px-2 py-1 text-[15px]"}),_.jsx("span",{className:`ml-3 w-fit break-words font-medium tracking-tight ${s?"text-blue1":"text-gray3"}`,children:s||" "})]},o))},r)},r))})}const Tge={breakpoints:{1024:{slidesPerView:11},800:{slidesPerView:8},500:{slidesPerView:7},320:{slidesPerView:4}},loop:!0,centeredSlides:!0,spaceBetween:5,navigation:!1,pagination:!1,scrollbar:!1,speed:100};function Cge(){var a;const[t,e]=K.useState(""),{meeting:n}=Le(Ur(`${vt}-12`)),{clubBookListByYear:r}=Af(),{userRankList:i}=C3(),s=K.useMemo(()=>n.eventMonth.contents.filter(h=>h.result).find(h=>h.title.includes(t)),[t]),o={:{name:" ",result:_.jsx(wge,{})},:{name:" ",result:_.jsxs(_.Fragment,{children:[_.jsx(l6,{className:"flex justify-center gap-x-4 py-10",children:i.filter(({rank:l})=>l===1).map(l=>_.jsx(ur,{className:"flex aspect-square size-24 flex-col items-center justify-center rounded-2xl bg-white p-4 text-base shadow-card [&>img]:size-10",userId:l.creatorId},l.creatorId))}),_.jsx("ul",{className:"flex flex-col gap-y-3",children:i.map(l=>_.jsx(o5,{userRank:l},l.creatorId))})]})},:{name:" ",result:_.jsx(_ge,{books:s.result.books})},:{name:" ",result:_.jsx(Ege,{subjects:s.result.subjects})},:{name:"  ",result:_.jsx(kge,{questionList:s.result.readingLifeQuestions})}};return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${vt}  `,backBtn:!0}),_.jsxs("main",{children:[_.jsxs("div",{className:"relative mb-14 mt-2 rounded-2xl bg-white p-5 shadow-card",children:[_.jsxs("h2",{className:"mb-8 font-RomanticGumi leading-5 tracking-tighter",children:[_.jsx("span",{className:"text-3xl tracking-tighter text-purple1",children:vt})," ",_.jsx("br",{}),_.jsx("span",{className:"text-3xl tracking-tighter text-pointCoral",children:r.length}),"  ."]}),_.jsx(Rv,{options:Tge,children:r.map(l=>_.jsx(jf,{children:_.jsx(un,{title:l.title,thumbnail:l.thumbnail,className:"w-[72px]"})},l.title))}),_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/books.png",alt:" 3D ",className:"absolute right-0 top-0 w-[35%] opacity-50"})]}),_.jsx("ul",{className:"mb-5 flex flex-wrap gap-2",children:Object.entries(o).map(l=>_.jsx("li",{children:_.jsx(lt,{name:l[1].name,handleClick:()=>e(l[0]),className:`rounded-t-xl !px-3 !py-2 tracking-tighter ${t.includes(l[0])?"bg-blue1 font-medium text-blue4":"!bg-blue4 !text-blue2"}`})},l[0]))}),_.jsx(Lt,{className:"min-h-72",children:(a=o[t])==null?void 0:a.result})]})]})}function Nge({className:t=""}){return _.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:`${t}`})}function CP({type:t}){const{pathname:e}=Br(),{blockLinkAndAlertJoinMember:n}=ii("see"),r="text-[15px]",i=location.pathname.match(/\/bookclub\/(\d{4}-\d{2})(?:\/|$)/),s=i?i[1]:null,o=new Date(s).getTime()<new Date().getTime(),a=[{name:"",to:"/",icon:_.jsx(Yre,{className:`${r}`}),active:e==="/"},{name:" ",to:"/previous-bookclub",icon:_.jsx(Lre,{className:`${r}`}),active:!!(e.includes("previous-bookclub")||e.includes("/bookclub")&&s&&o)},{name:" ",to:"/bookclub",icon:_.jsx(qre,{className:`${r}`}),active:e.includes("/bookclub")&&!s},{name:"",to:"/vote",icon:_.jsx(RE,{className:`${r}`}),active:e.includes("vote")},{name:" ",to:"/bookshelf",icon:_.jsx(Am,{className:`${r}`}),onClick:n,active:e==="/bookshelf"}];return _.jsxs(_.Fragment,{children:[t==="top"&&!e.includes("create_account")&&e!=="/login"&&_.jsxs("nav",{className:"header mb-4 flex items-center justify-between py-8 max-sm:hidden",children:[_.jsxs(br,{to:"/",className:"flex items-center gap-1",children:[_.jsx(Nge,{className:"size-6"}),_.jsx("span",{className:"text-[17px] font-medium",children:" "})]}),_.jsx("ul",{className:"flex gap-x-8",children:a.map(({name:l,to:h,state:c,onClick:f,active:p})=>_.jsx("li",{children:_.jsx(br,{to:h,state:c,onClick:f,children:_.jsx("span",{className:`${p?"font-semibold text-text":"text-gray1"}`,children:l})})},h))})]}),t==="bottom"&&e!=="/login"&&!e.includes("setting")&&_.jsx("nav",{className:"fixed bottom-0 left-0 z-10 hidden w-full rounded-t-2xl bg-white py-3.5 shadow-card max-sm:block",children:_.jsx("ul",{className:"flex justify-evenly",children:a.map(({to:l,name:h,icon:c,state:f,onClick:p,active:m})=>_.jsx("li",{className:`flex w-[20%] cursor-pointer flex-col items-center justify-center text-[10px] ${m?"text-text":"text-gray2"}`,children:_.jsxs(br,{to:l,state:f,onClick:p,className:"flex w-full flex-col items-center justify-center gap-1",children:[c,_.jsx("span",{children:h})]})},l))})})]})}const Oge=({bookFieldName:t,checkedBoxHandler:e,bookFields:n})=>{const[r,i]=K.useState(!1),s=async o=>{const{currentTarget:{checked:a}}=o;i(l=>!l),e(n,a)};return _.jsxs("div",{children:[_.jsx(Wi,{text:t}),_.jsx("input",{id:t,type:"checkbox",name:"bookFields",checked:r,onChange:s})]})},NP=()=>{const{currentStep:t,keyword:e,onFirstStepChange:n,onFirstStepSubmit:r,email:i,password:s,checkPassword:o,showErrorMsg:a,onSecondStepChange:l,onSecondStepSubmit:h,username:c,onThirdStepChange:f,onThirdStepSubmit:p,checkedBoxHandler:m}=hre();return _.jsxs(_.Fragment,{children:[_.jsx($n,{showDesktop:!0,title:" ",backBtn:!0}),_.jsxs("main",{children:[_.jsxs("header",{children:[_.jsx(Fn,{color:"lightBlue",shape:"rounded",text:`${t.step} / ${p3.length}`,className:"mb-2"}),_.jsx(Dm,{title:t.stepName,className:"mb-2"})]}),t.step===1&&_.jsxs("form",{onSubmit:r,children:[_.jsx(Es,{text:"     ."}),_.jsx(Xt,{label:" ",type:"text",placeholder:" ",value:e,onChange:n,required:!0}),_.jsx(lt,{type:"submit",name:"",className:"mx-auto mt-10 !px-6"})]}),t.step===2&&_.jsxs("form",{onSubmit:h,className:"flex flex-col gap-3",children:[_.jsxs("div",{children:[_.jsx(Es,{text:"    ."}),i&&_.jsx(Es,{text:"           .     ."})]}),_.jsx(Xt,{name:"email",type:"email",placeholder:"    .",value:i,autoComplete:"email",onChange:l}),_.jsx(Xt,{name:"password",type:"password",autoComplete:"current-password",placeholder:" 8  .",value:s,onChange:l}),_.jsx(Xt,{name:"checkPassword",type:"password",autoComplete:"current-password",placeholder:"   .",value:o,onChange:l}),a&&_.jsx("span",{className:"text-sm text-pointCoral",children:a}),_.jsx(lt,{type:"submit",name:" ",className:"mx-auto mt-4"})]}),t.step===3&&_.jsxs("form",{onSubmit:p,children:[_.jsx(Xt,{label:"",name:"username",value:c,placeholder:" .",onChange:f}),_.jsx(Wi,{htmlFor:"gender",text:""}),_.jsx("fieldset",{children:Lne.map(g=>_.jsxs("div",{children:[_.jsx(Wi,{text:g}),_.jsx("input",{id:g,type:"radio",name:"gender",value:g,onChange:f,required:!0})]},g))}),_.jsx(Wi,{htmlFor:"bookFields",text:" "}),_.jsx("fieldset",{className:"bookfield",children:xd.map(g=>_.jsx(Oge,{bookFieldName:g.name,bookFields:g,checkedBoxHandler:m},g.id))}),a&&_.jsx("span",{children:a}),_.jsx(lt,{type:"submit",name:""})]})]})]})},Age=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(!1),i=o=>{o.preventDefault(),A8(Jt,t).catch(a=>{console.log(a)}),r(!0),e("")},s=o=>{r(!1),e(o.currentTarget.value)};return _.jsxs(_.Fragment,{children:[_.jsx($n,{showDesktop:!0,title:" ",backBtn:!0}),_.jsxs("main",{children:[_.jsx(Dm,{title:"  ?",className:"mb-2"}),_.jsx("p",{children:"     ."}),_.jsxs("form",{onSubmit:i,className:"mb-3 mt-1 flex w-full gap-x-3",children:[_.jsx(Xt,{name:"email",type:"email",value:t,placeholder:"  .",onChange:s,autoComplete:"email",className:"min-w-10 flex-grow whitespace-nowrap"}),_.jsx(lt,{type:"submit",name:""})]}),n?_.jsxs("span",{children:["     .",_.jsx("br",{}),"      ."]}):_.jsx(_.Fragment,{})]})]})};function Dge(){const{pathname:t}=Br();return K.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const Ige=({postType:t})=>{const e=Le(Ur(wn)),{uid:n}=Le(Ct),{sendPostPushNotification:r,isPending:i}=Zi(),{id:s,book:{thumbnail:o,title:a,url:l,publisher:h,authors:c}}=e,f=t===""?xr(s,Mu):xr(s,Wd),p={text:"",createdAt:"",creatorId:n,clubBook:{title:a,thumbnail:o,url:l,publisher:h,authors:c}},{onAddDocSubmit:m,newDocData:g,onDataChange:y}=EE({collName:f,initialDocData:p}),{hideModal:w}=St(),b=async x=>{if(g.text!=="")try{await m(x),y({text:""}),await r(t),w()}catch{window.alert("   .")}};return _.jsx(Vr,{title:`${t} `,children:_.jsxs("form",{onSubmit:b,className:"flex h-[90vh] flex-col overflow-scroll scrollbar-hide",children:[_.jsx(W3,{placeholder:`${t} `,text:g.text,setText:x=>y({text:x})}),_.jsx(lt,{name:" ",type:"submit",className:"ml-auto px-7 !shadow-none max-sm:px-4",disabled:i,color:"blue"})]})})};function OP(){var C;const[t,e]=Wt(tc),[n,r]=Wt(nF),[i,s]=Wt(tF),{showModal:o}=St(),{pathname:a,state:l}=Br(),h=C_(),c=(h==null?void 0:h.id)??wn,f=a.includes("host-review")?" ":"",p=(l==null?void 0:l.postId)??"",m=c.slice(0,4);K.useEffect(()=>{Hn(`BookClub-${m}`,e),Hn(xr(c,Wd),r),Hn(xr(c,Mu),s)},[]);const g=t==null?void 0:t.find(O=>O.id===c),{alertAskJoinMember:y,anonymous:w}=ii("write"),b=()=>{if(w)return y();o({element:_.jsx(Ige,{postType:f})})},x={:{postList:i,collName:xr(c,Mu)}," ":{postList:n,collName:xr(c,Wd)}},{postList:E,collName:S}=x[f],k=p?E.filter(O=>O.id===p):E;return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:`${c===wn?"":dt(c,"yyyy M")}  ${f}`,backBtn:!0}),_.jsxs("main",{children:[g&&_.jsx(u5,{bookClub:g}),!(h!=null&&h.id)&&_.jsx(lt,{type:"button",color:"blue",name:`${f} `,handleClick:b,className:"mt-5 w-full !py-3"}),(C=x[f])!=null&&C.postList?(k==null?void 0:k.length)!==0&&k.map((O,N)=>_.jsxs(K.Fragment,{children:[_.jsx(sk,{type:f,post:O,collName:S,className:"relative mt-4 max-sm:pb-4",children:_.jsx(vv,{createdAt:O.createdAt,footerType:"likes",post:O,collName:S})}),k.length-1!==N&&_.jsx(Z5,{})]},O.id)):_.jsx(rc,{size:150,className:"h-[55vh]"})]})]})}function Pge({label:t,checked:e,checkedBoxHandler:n,detail:r}){const i=async s=>{const{currentTarget:{checked:o}}=s;n(t,o)};return _.jsxs("div",{className:"flex items-start gap-1",children:[_.jsx("input",{type:"checkbox",id:t,checked:e,onChange:i,className:"mt-1 size-[15px]"}),_.jsxs("div",{className:"flex-1",children:[_.jsx(Wi,{text:t,className:"py-0 !text-base"}),r&&_.jsx(Es,{color:"gray",text:r})]})]})}function Rge({month:t}){const e=Le(kl),{uid:n}=Le(Ct),{onSubmit:r,selectedValues:i,setSelectedValues:s}=wre();K.useEffect(()=>{const{absenceMembers:a}=e,l=a==null?void 0:a.find(m=>m.month===t);if(!l)return;const{breakMembers:h,onceAbsenceMembers:c}=l,f=h==null?void 0:h.find(m=>m===n),p=c==null?void 0:c.find(m=>m===n);s({month:t,breakMonth:!!f,onceAbsenceMonth:!!p})},[t]);const o=(a,l)=>{const h=a==="  "&&l&&i.breakMonth||a===" "&&l&&i.onceAbsenceMonth;s(h?{...a===" "?{month:t,onceAbsenceMonth:!l,breakMonth:l}:{month:t,breakMonth:!l,onceAbsenceMonth:l}}:{...i,...a===" "?{breakMonth:l}:{onceAbsenceMonth:l}})};return _.jsxs("form",{onSubmit:a=>r(a,t),className:"mt-4 flex flex-col gap-2.5",children:[["  "," "].map(a=>_.jsx(Pge,{label:a,checked:a===" "?i.breakMonth:i.onceAbsenceMonth,checkedBoxHandler:o,detail:a===" "?"      .(  X)":"     .(  O)"},a)),_.jsx(lt,{type:"submit",name:"",className:"!ml-auto !py-0"})]})}function Mge({userId:t,isEditable:e=!1}){var a;const[n,r]=Wt(kl);K.useEffect(()=>{Zu(n)||Xn(Nr,ul,r)},[n]);const i=(a=n==null?void 0:n.absenceMembers)==null?void 0:a.map(({month:l,onceAbsenceMembers:h,breakMembers:c})=>({month:l,onceAbsenceMonth:h.includes(t),breakMonth:c.includes(t)})),{showModal:s}=St(),o=async l=>{s({element:_.jsx(Vr,{title:`${l}   `,children:_.jsx(Rge,{month:l})})})};return _.jsx(_.Fragment,{children:n?_.jsx(vk,{labels:["","",""],rowDataList:i,onEditClick:o,isEditable:e}):_.jsx(rc,{size:150,className:"h-[60vh]"})})}function Lge(){const{uid:t}=Le(Ct);return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:` ${vt}   `,backBtn:!0}),_.jsxs("main",{children:[_.jsx(Es,{text:"     "}),_.jsx(Mge,{userId:t,isEditable:!0})]})]})}const jge=()=>{const t=Jt==null?void 0:Jt.currentUser,{onSubmit:e,originPassword:n,onOriginChange:r,newPassword:i,onNewChange:s,checkNewPassword:o,onCheckNewChange:a}=fre();return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:" ",backBtn:!0}),_.jsx("main",{children:_.jsxs("form",{onSubmit:e,className:"flex flex-col gap-y-3",children:[_.jsx("input",{hidden:!0,type:"text",autoComplete:"username",defaultValue:t==null?void 0:t.email}),_.jsx(Xt,{name:"password",type:"password",value:n,placeholder:"  .",onChange:r,autoComplete:"current-password"}),_.jsx(Xt,{name:"password",type:"password",value:i,placeholder:"  .",onChange:s,autoComplete:"new-password"}),_.jsx(Xt,{name:"password",type:"password",value:o,placeholder:"    .",onChange:a,autoComplete:"new-password"}),_.jsx(lt,{type:"submit",name:"",className:"mx-auto mt-5"})]})})]})},Fge=()=>{const{onDeleteSubmit:t,showMessage:e,password:n,onChange:r}=vre();return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:"",backBtn:!0}),_.jsxs("main",{children:[_.jsx(Es,{text:"       ,   ."}),_.jsxs("form",{className:"gap-1",onSubmit:t,children:[e&&_.jsx("span",{className:"text-sm",children:"  ."}),_.jsx(Xt,{label:" ",name:"password",type:"password",placeholder:"  .",value:n,onChange:r,autoComplete:"current-password"}),_.jsx(lt,{type:"submit",name:"",className:"my-2 ml-auto !h-8 py-1"})]})]})]})};function $ge(){const{email:t}=Le(Ct),e=Le($v),n=Le(Ur(wn)),[r,i]=K.useState([]),{sendPushNotificationToUser:s,sendPushNotificationToAllUser:o,isPending:a}=Zi(),l=Or();K.useEffect(()=>{t!==pv&&l(-1),Hn(zd,i)},[]);const h=Ru(n.meeting.time),c=Ru("2025-12-21");return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:"",backBtn:!0}),_.jsxs("main",{children:[_.jsx(Lt,{title:" ",children:_.jsxs("div",{className:"flex flex-wrap gap-3",children:[_.jsx(lt,{name:" ",handleClick:async()=>{const f={title:"",body:"  ",notification:e.notification};(await s(f)).result==="success"&&window.alert(" !")},disabled:a}),_.jsx(lt,{color:"purple",name:"  ",handleClick:async()=>{const f={title:"",body:"  ?"};await s({...f,notification:e.notification}),await o(f),window.alert(" !")},disabled:a})]})}),_.jsx(Lt,{title:"   ",children:_.jsx("ul",{className:"flex flex-wrap gap-3",children:r.map(f=>_.jsx("li",{children:_.jsx(lt,{color:"blue",name:" ",handleClick:async()=>{const p={title:" ",body:"  ?",notification:e.notification},m=await s(p,f);(m==null?void 0:m.result)==="success"&&window.alert(" !")},disabled:a,children:_.jsx(ur,{userId:f.id,isLink:!1})})},f.id))})}),_.jsx(Lt,{title:"  ",children:_.jsx(lt,{name:`${+ei}   `,handleClick:async()=>{const f={title:`${+ei}  `,body:" .       ",notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),_.jsx(Lt,{title:"  ",children:_.jsx(lt,{name:`${+ei}    DDAY: ${h}`,handleClick:async()=>{const f={title:`${+ei}  !`,body:`${h}   .  `,notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),_.jsx(Lt,{title:"  ",children:_.jsx(lt,{name:`${+vt}  DDAY: ${c}`,handleClick:async()=>{const f={title:`${+vt}   DDAY `,body:`  ${c} .   !`,notification:e.notification};await s(f),await o(f),window.alert("    !")},disabled:a})})]})]})}const Bge=()=>{var m,g,y;const{displayName:t,email:e}=Le(Ct),{isEditing:n,onToggleEditClick:r,userDoc:i,setNewUserImgUrl:s,newDisplayName:o,setNewDisplayName:a,onHandleFieldClick:l,onProfileSubmit:h,onDisplayNameChange:c,isSelected:f}=Ere();K.useEffect(()=>{o||a(t)},[]);const p=[{name:"",data:_.jsx("span",{className:"w-full",children:e}),form:_.jsx("span",{className:"w-full text-gray1",children:e})},{name:"",data:_.jsx("span",{children:t}),form:_.jsx(Xt,{onChange:c,placeholder:" ",value:o||""})},{name:" ",data:_.jsx("ul",{className:"flex flex-wrap gap-2",children:(m=i==null?void 0:i.favoriteBookField)==null?void 0:m.map(w=>_.jsx(Fn,{text:w.name,color:"lightBlue",shape:"rounded"},w.id))}),form:_.jsxs("ul",{className:"flex flex-wrap gap-2",children:[xd==null?void 0:xd.map(({id:w,name:b})=>_.jsx("button",{type:"button",name:b,onClick:x=>l(w,x),children:_.jsx(Fn,{text:b,color:f(w)?"lightBlue":"lightGray",shape:"rounded"})},w)),((g=i==null?void 0:i.favoriteBookField)==null?void 0:g.length)===0&&_.jsx("span",{className:"block w-full text-end text-sm text-pointCoral",children:"    "})]})}];return _.jsxs(_.Fragment,{children:[_.jsx($n,{title:" ",backBtn:!0,backTo:"/setting",children:_.jsx(c_,{onClick:r,disabled:n})}),i!=null&&i.displayName?_.jsxs("main",{className:"flex items-start gap-x-4 max-sm:flex-col",children:[_.jsx(s5,{imgUrl:(y=i.photoURL)==null?void 0:y.original,isEditing:n,setNewUserImgUrl:s}),_.jsxs("div",{className:"flex-1",children:[_.jsx(c_,{onClick:r,disabled:n,className:"ml-auto max-sm:hidden"}),n?_.jsxs("form",{onSubmit:h,className:"mt-8",children:[_.jsx("ul",{className:"flex flex-col gap-4",children:p.map(({name:w,form:b})=>_.jsxs("li",{className:"flex justify-between gap-6",children:[_.jsx("h3",{className:"min-w-24",children:w}),b]},w))}),_.jsx(lt,{name:"",type:"submit",className:"mx-auto mt-12"})]}):_.jsx("ul",{className:"mt-10 flex w-full flex-col gap-y-5",children:p.map(({name:w,data:b})=>_.jsxs("li",{className:"flex gap-6",children:[_.jsx("h3",{className:"min-w-24",children:w}),b]},w))})]})]}):_.jsx(rc,{size:150,className:"h-[80vh]"})]})};function Uge(){var g;const[t,e]=K.useState(!1),[n,r]=K.useState(!1),[i,s]=Wt($v),{uid:o}=Le(Ct),a=(g=Jt.currentUser)==null?void 0:g.isAnonymous,{sendPushNotificationToUser:l,isPending:h}=Zi(),c=async()=>{var x,E;const y=await _m();if((x=i==null?void 0:i.tokens)!=null&&x.includes(y))return;const w=ln(Zt,zd,o),b={createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),notification:!0,tokens:i.tokens&&((E=i.tokens)==null?void 0:E.length)>0?[...i==null?void 0:i.tokens,y]:[y]};i.notification||await Os(w,b),i.notification&&await yn(w,b),s(b)},f=async()=>{if(!("Notification"in window)){alert("    .");return}if(a){alert("     .");return}if(Notification.permission==="denied")return alert("   .        .        .   .");const y={title:"  ",body:"     ",notification:!0};Notification.permission==="granted"?(await c(),await l(y)):await Notification.requestPermission()==="granted"&&(await c(),await l(y)),e(!0),r(!1)},p=async()=>{const y=ln(Zt,zd,o),w={notification:!1,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss")};await Os(y,w),e(b=>!b),r(!1)},m=()=>{r(!0),t?p():f()};return K.useEffect(()=>{i!=null&&i.notification&&Notification.permission==="granted"&&e(!0)},[i==null?void 0:i.notification]),_.jsxs(_.Fragment,{children:[_.jsx($n,{title:"",backBtn:!0}),_.jsxs("main",{className:"flex justify-between",children:[_.jsx("h3",{className:"font-medium text-gray1",children:""}),_.jsx("button",{type:"button",className:`flex h-7 w-12 items-center rounded-full p-1 disabled:opacity-20 ${t?"bg-green-500":"bg-gray3"}`,"aria-label":"  ",onClick:m,disabled:h||n,children:_.jsx("div",{className:`size-5 rounded-full shadow-md transition-transform ${t?"translate-x-5 bg-white":"translate-x-0 bg-gray4"}`})})]})]})}function Vge({isLoggedIn:t}){var i;const e=(i=Jt.currentUser)==null?void 0:i.isAnonymous,n=Le(n3),{hideModal:r}=St();return _.jsxs(uU,{basename:"/han-bookclub-app",children:[_.jsx(Dge,{}),t?_.jsxs(_.Fragment,{children:[_.jsx(CP,{type:"top"}),_.jsxs(cC,{children:[_.jsx(Kt,{path:"/",element:_.jsx(Qme,{})}),_.jsx(Kt,{path:"/monthlyinfo",element:_.jsx(tge,{})}),_.jsx(Kt,{path:"/challenge",element:_.jsx(Jse,{})}),_.jsx(Kt,{path:"/yearClosingEvent",element:_.jsx(Cge,{})}),_.jsx(Kt,{path:"/search",element:_.jsx(oge,{})}),_.jsx(Kt,{path:"/previous-bookclub",element:_.jsx(rge,{})}),_.jsx(Kt,{path:"/bookclub/:id?",element:_.jsx(pfe,{})}),_.jsx(Kt,{path:"/bookclub/:id?/subjects",element:_.jsx(OP,{})}),_.jsx(Kt,{path:"/bookclub/:id?/host-review",element:_.jsx(OP,{})}),_.jsx(Kt,{path:"/vote",element:_.jsx(pge,{})}),_.jsx(Kt,{path:"/vote/:id",element:_.jsx(yge,{})}),_.jsx(Kt,{path:"/bookshelf/:username?",element:_.jsx(Vse,{})}),_.jsx(Kt,{path:"/setting",element:_.jsx(lge,{})}),_.jsx(Kt,{path:"/setting/absence",element:_.jsx(Lge,{})}),_.jsx(Kt,{path:"/setting/edit-profile",element:_.jsx(Bge,{})}),_.jsx(Kt,{path:"/setting/edit-password",element:_.jsx(jge,{})}),_.jsx(Kt,{path:"/setting/delete-account",element:_.jsx(Fge,{})}),_.jsx(Kt,{path:"/setting/developer",element:_.jsx($ge,{})}),_.jsx(Kt,{path:"/setting/notification",element:_.jsx(Uge,{})}),e&&_.jsxs(_.Fragment,{children:[_.jsx(Kt,{path:"/login",element:_.jsx(nx,{isLoggedIn:t})}),_.jsx(Kt,{path:"/create_account",element:_.jsx(NP,{})})]})]}),_.jsx(CP,{type:"bottom"})]}):_.jsxs(cC,{children:[_.jsx(Kt,{path:"/",element:_.jsx(nx,{isLoggedIn:t})}),_.jsx(Kt,{path:"/find_pw",element:_.jsx(Age,{})}),_.jsx(Kt,{path:"/*",element:_.jsx(nx,{isLoggedIn:t})}),_.jsx(Kt,{path:"/create_account",element:_.jsx(NP,{})})]}),n.length>0&&n.map(({key:s,element:o,hideDim:a,dimUnclickable:l})=>_.jsxs(K.Fragment,{children:[!a&&_.jsx("div",{role:"presentation",className:`fixed inset-0 z-10 size-full ${l?"cursor-default":"cursor-pointer"} bg-black opacity-60`,onClick:s?()=>r(s):()=>r()}),o]},s||"modal"))]})}function qge(){const[t,e]=K.useState(!1),[n,r]=Wt(Ct),[i,s]=Wt($v),o=so(TE),a=async()=>{const l=Gx(Kx,"avatars/.jpeg");Yx(l).then(h=>{o(h)})};return K.useEffect(()=>{const l=pg(),h=dg(l,c=>{if(c){const{uid:f,displayName:p,email:m,photoURL:g}=c;r({uid:f,displayName:p,email:m,photoURL:g}),a()}else r(null);e(!0)});return()=>h()},[]),K.useEffect(()=>{n!=null&&n.uid&&Xn(zd,n.uid,s)},[n==null?void 0:n.uid]),K.useEffect(()=>{t&&(i==null?void 0:i.notification)===!0&&(async()=>{var h,c;if(Notification.permission==="granted"){const f=await _m(),p=(h=i==null?void 0:i.tokens)==null?void 0:h.find(m=>m===f);if(p)return;if(!p&&(n!=null&&n.uid)){const m=ln(Zt,zd,n.uid),g={createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),tokens:((c=i==null?void 0:i.tokens)==null?void 0:c.length)!==0?[...i==null?void 0:i.tokens,f]:[f]};await yn(m,g)}}})()},[i]),t?_.jsx(Vge,{isLoggedIn:!!n}):_.jsx(rc,{size:120,className:"h-screen"})}const Hge=hB.createRoot(document.getElementById("root"));Hge.render(_.jsx(qee,{children:_.jsx(qge,{})}));
