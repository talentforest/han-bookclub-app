var Y$=Object.defineProperty;var G$=(t,e,n)=>e in t?Y$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Me=(t,e,n)=>G$(t,typeof e!="symbol"?e+"":e,n);function K$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p0={exports:{}},$c={},m0={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function Q$(){if(UC)return yt;UC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function w(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}w.prototype.isReactComponent={},w.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=w.prototype;function x(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}var S=x.prototype=new b;S.constructor=x,g(S,w.prototype),S.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function C(j,U,V){var z,K={},X=null,W=null;if(U!=null)for(z in U.ref!==void 0&&(W=U.ref),U.key!==void 0&&(X=""+U.key),U)k.call(U,z)&&!O.hasOwnProperty(z)&&(K[z]=U[z]);var J=arguments.length-2;if(J===1)K.children=V;else if(1<J){for(var Z=Array(J),te=0;te<J;te++)Z[te]=arguments[te+2];K.children=Z}if(j&&j.defaultProps)for(z in J=j.defaultProps,J)K[z]===void 0&&(K[z]=J[z]);return{$$typeof:t,type:j,key:X,ref:W,props:K,_owner:N.current}}function I(j,U){return{$$typeof:t,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function A(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return U[V]})}var D=/\/+/g;function L(j,U){return typeof j=="object"&&j!==null&&j.key!=null?A(""+j.key):U.toString(36)}function F(j,U,V,z,K){var X=typeof j;(X==="undefined"||X==="boolean")&&(j=null);var W=!1;if(j===null)W=!0;else switch(X){case"string":case"number":W=!0;break;case"object":switch(j.$$typeof){case t:case e:W=!0}}if(W)return W=j,K=K(W),j=z===""?"."+L(W,0):z,_(K)?(V="",j!=null&&(V=j.replace(D,"$&/")+"/"),F(K,U,V,"",function(te){return te})):K!=null&&(P(K)&&(K=I(K,V+(!K.key||W&&W.key===K.key?"":(""+K.key).replace(D,"$&/")+"/")+j)),U.push(K)),1;if(W=0,z=z===""?".":z+":",_(j))for(var J=0;J<j.length;J++){X=j[J];var Z=z+L(X,J);W+=F(X,U,V,Z,K)}else if(Z=p(j),typeof Z=="function")for(j=Z.call(j),J=0;!(X=j.next()).done;)X=X.value,Z=z+L(X,J++),W+=F(X,U,V,Z,K);else if(X==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return W}function q(j,U,V){if(j==null)return j;var z=[],K=0;return F(j,z,"","",function(X){return U.call(V,X,K++)}),z}function M(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var B={current:null},Y={transition:null},H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Y,ReactCurrentOwner:N};return yt.Children={map:q,forEach:function(j,U,V){q(j,function(){U.apply(this,arguments)},V)},count:function(j){var U=0;return q(j,function(){U++}),U},toArray:function(j){return q(j,function(U){return U})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},yt.Component=w,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=x,yt.StrictMode=r,yt.Suspense=l,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,yt.cloneElement=function(j,U,V){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var z=g({},j.props),K=j.key,X=j.ref,W=j._owner;if(U!=null){if(U.ref!==void 0&&(X=U.ref,W=N.current),U.key!==void 0&&(K=""+U.key),j.type&&j.type.defaultProps)var J=j.type.defaultProps;for(Z in U)k.call(U,Z)&&!O.hasOwnProperty(Z)&&(z[Z]=U[Z]===void 0&&J!==void 0?J[Z]:U[Z])}var Z=arguments.length-2;if(Z===1)z.children=V;else if(1<Z){J=Array(Z);for(var te=0;te<Z;te++)J[te]=arguments[te+2];z.children=J}return{$$typeof:t,type:j.type,key:K,ref:X,props:z,_owner:W}},yt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},yt.createElement=C,yt.createFactory=function(j){var U=C.bind(null,j);return U.type=j,U},yt.createRef=function(){return{current:null}},yt.forwardRef=function(j){return{$$typeof:a,render:j}},yt.isValidElement=P,yt.lazy=function(j){return{$$typeof:c,_payload:{_status:-1,_result:j},_init:M}},yt.memo=function(j,U){return{$$typeof:h,type:j,compare:U===void 0?null:U}},yt.startTransition=function(j){var U=Y.transition;Y.transition={};try{j()}finally{Y.transition=U}},yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},yt.useCallback=function(j,U){return B.current.useCallback(j,U)},yt.useContext=function(j){return B.current.useContext(j)},yt.useDebugValue=function(){},yt.useDeferredValue=function(j){return B.current.useDeferredValue(j)},yt.useEffect=function(j,U){return B.current.useEffect(j,U)},yt.useId=function(){return B.current.useId()},yt.useImperativeHandle=function(j,U,V){return B.current.useImperativeHandle(j,U,V)},yt.useInsertionEffect=function(j,U){return B.current.useInsertionEffect(j,U)},yt.useLayoutEffect=function(j,U){return B.current.useLayoutEffect(j,U)},yt.useMemo=function(j,U){return B.current.useMemo(j,U)},yt.useReducer=function(j,U,V){return B.current.useReducer(j,U,V)},yt.useRef=function(j){return B.current.useRef(j)},yt.useState=function(j){return B.current.useState(j)},yt.useSyncExternalStore=function(j,U,V){return B.current.useSyncExternalStore(j,U,V)},yt.useTransition=function(){return B.current.useTransition()},yt.version="18.2.0",yt}var VC;function ng(){return VC||(VC=1,m0.exports=Q$()),m0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function X$(){if(qC)return $c;qC=1;var t=ng(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,h){var c,f={},p=null,m=null;h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(f[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return $c.Fragment=n,$c.jsx=o,$c.jsxs=o,$c}var HC;function J$(){return HC||(HC=1,p0.exports=X$()),p0.exports}var E=J$(),Hh={},g0={exports:{}},Yr={},v0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function Z$(){return zC||(zC=1,function(t){function e(Y,H){var j=Y.length;Y.push(H);e:for(;0<j;){var U=j-1>>>1,V=Y[U];if(0<i(V,H))Y[U]=H,Y[j]=V,j=U;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],j=Y.pop();if(j!==H){Y[0]=j;e:for(var U=0,V=Y.length,z=V>>>1;U<z;){var K=2*(U+1)-1,X=Y[K],W=K+1,J=Y[W];if(0>i(X,j))W<V&&0>i(J,X)?(Y[U]=J,Y[W]=j,U=W):(Y[U]=X,Y[K]=j,U=K);else if(W<V&&0>i(J,j))Y[U]=J,Y[W]=j,U=W;else break e}}return H}function i(Y,H){var j=Y.sortIndex-H.sortIndex;return j!==0?j:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=Y)r(h),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(h)}}function _(Y){if(y=!1,S(Y),!g)if(n(l)!==null)g=!0,M(k);else{var H=n(h);H!==null&&B(_,H.startTime-Y)}}function k(Y,H){g=!1,y&&(y=!1,b(C),C=-1),m=!0;var j=p;try{for(S(H),f=n(l);f!==null&&(!(f.expirationTime>H)||Y&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var V=U(f.expirationTime<=H);H=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),S(H)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var K=n(h);K!==null&&B(_,K.startTime-H),z=!1}return z}finally{f=null,p=j,m=!1}}var N=!1,O=null,C=-1,I=5,P=-1;function A(){return!(t.unstable_now()-P<I)}function D(){if(O!==null){var Y=t.unstable_now();P=Y;var H=!0;try{H=O(!0,Y)}finally{H?L():(N=!1,O=null)}}else N=!1}var L;if(typeof x=="function")L=function(){x(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=D,L=function(){q.postMessage(null)}}else L=function(){w(D,0)};function M(Y){O=Y,N||(N=!0,L())}function B(Y,H){C=w(function(){Y(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,M(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var j=p;p=H;try{return Y()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=p;p=Y;try{return H()}finally{p=j}},t.unstable_scheduleCallback=function(Y,H,j){var U=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,Y={id:c++,callback:H,priorityLevel:Y,startTime:j,expirationTime:V,sortIndex:-1},j>U?(Y.sortIndex=j,e(h,Y),n(l)===null&&Y===n(h)&&(y?(b(C),C=-1):y=!0,B(_,j-U))):(Y.sortIndex=V,e(l,Y),g||m||(g=!0,M(k))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var H=p;return function(){var j=p;p=H;try{return Y.apply(this,arguments)}finally{p=j}}}}(y0)),y0}var WC;function eB(){return WC||(WC=1,v0.exports=Z$()),v0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function tB(){if(YC)return Yr;YC=1;var t=ng(),e=eB();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function p(u){return l.call(f,u)?!0:l.call(c,u)?!1:h.test(u)?f[u]=!0:(c[u]=!0,!1)}function m(u,d,v,T){if(v!==null&&v.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return T?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function g(u,d,v,T){if(d===null||typeof d>"u"||m(u,d,v,T))return!0;if(T)return!1;if(v!==null)switch(v.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(u,d,v,T,R,$,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=R,this.mustUseProperty=v,this.propertyName=u,this.type=d,this.sanitizeURL=$,this.removeEmptyString=G}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];w[d]=new y(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function S(u,d,v,T){var R=w.hasOwnProperty(d)?w[d]:null;(R!==null?R.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(g(d,v,R,T)&&(v=null),T||R===null?p(d)&&(v===null?u.removeAttribute(d):u.setAttribute(d,""+v)):R.mustUseProperty?u[R.propertyName]=v===null?R.type===3?!1:"":v:(d=R.attributeName,T=R.attributeNamespace,v===null?u.removeAttribute(d):(R=R.type,v=R===3||R===4&&v===!0?"":""+v,T?u.setAttributeNS(T,d,v):u.setAttribute(d,v))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var j=Object.assign,U;function V(u){if(U===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+u}var z=!1;function K(u,d){if(!u||z)return"";z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var T=de}Reflect.construct(u,[],d)}else{try{d.call()}catch(de){T=de}u.call(d.prototype)}else{try{throw Error()}catch(de){T=de}u()}}catch(de){if(de&&T&&typeof de.stack=="string"){for(var R=de.stack.split(`
`),$=T.stack.split(`
`),G=R.length-1,ee=$.length-1;1<=G&&0<=ee&&R[G]!==$[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(R[G]!==$[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||R[G]!==$[ee]){var ne=`
`+R[G].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=G&&0<=ee);break}}}finally{z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?V(u):""}function X(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=K(u.type,!1),u;case 11:return u=K(u.type.render,!1),u;case 1:return u=K(u.type,!0),u;default:return""}}function W(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case O:return"Fragment";case N:return"Portal";case I:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case A:return(u.displayName||"Context")+".Consumer";case P:return(u._context.displayName||"Context")+".Provider";case D:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return d=u.displayName||null,d!==null?d:W(u.type)||"Memo";case M:d=u._payload,u=u._init;try{return W(u(d))}catch{}}return null}function J(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function le(u){var d=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),T=""+u[d];if(!u.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,$=v.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return R.call(this)},set:function(G){T=""+G,$.call(this,G)}}),Object.defineProperty(u,d,{enumerable:v.enumerable}),{getValue:function(){return T},setValue:function(G){T=""+G},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function pe(u){u._valueTracker||(u._valueTracker=le(u))}function ge(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var v=d.getValue(),T="";return u&&(T=te(u)?u.checked?"true":"false":u.value),u=T,u!==v?(d.setValue(u),!0):!1}function Ce(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Fe(u,d){var v=d.checked;return j({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function De(u,d){var v=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;v=Z(d.value!=null?d.value:v),u._wrapperState={initialChecked:T,initialValue:v,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function nt(u,d){d=d.checked,d!=null&&S(u,"checked",d,!1)}function Qe(u,d){nt(u,d);var v=Z(d.value),T=d.type;if(v!=null)T==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?fe(u,d.type,v):d.hasOwnProperty("defaultValue")&&fe(u,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function ce(u,d,v){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,v||d===u.value||(u.value=d),u.defaultValue=d}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function fe(u,d,v){(d!=="number"||Ce(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var we=Array.isArray;function xe(u,d,v,T){if(u=u.options,d){d={};for(var R=0;R<v.length;R++)d["$"+v[R]]=!0;for(v=0;v<u.length;v++)R=d.hasOwnProperty("$"+u[v].value),u[v].selected!==R&&(u[v].selected=R),R&&T&&(u[v].defaultSelected=!0)}else{for(v=""+Z(v),d=null,R=0;R<u.length;R++){if(u[R].value===v){u[R].selected=!0,T&&(u[R].defaultSelected=!0);return}d!==null||u[R].disabled||(d=u[R])}d!==null&&(d.selected=!0)}}function he(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function $e(u,d){var v=d.value;if(v==null){if(v=d.children,d=d.defaultValue,v!=null){if(d!=null)throw Error(n(92));if(we(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),v=d}u._wrapperState={initialValue:Z(v)}}function Ie(u,d){var v=Z(d.value),T=Z(d.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),d.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),T!=null&&(u.defaultValue=""+T)}function Ye(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Gt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function On(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Gt(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var it,$r=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,v,T,R){MSApp.execUnsafeLocalFunction(function(){return u(d,v,T,R)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=it.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function ut(u,d){if(d){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=d;return}}u.textContent=d}var qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xn=["Webkit","ms","Moz","O"];Object.keys(qt).forEach(function(u){Xn.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),qt[d]=qt[u]})});function Br(u,d,v){return d==null||typeof d=="boolean"||d===""?"":v||typeof d!="number"||d===0||qt.hasOwnProperty(u)&&qt[u]?(""+d).trim():d+"px"}function Cr(u,d){u=u.style;for(var v in d)if(d.hasOwnProperty(v)){var T=v.indexOf("--")===0,R=Br(v,d[v],T);v==="float"&&(v="cssFloat"),T?u.setProperty(v,R):u[v]=R}}var oe=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(u,d){if(d){if(oe[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function be(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Te(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oe=null,Ge=null,Be=null;function He(u){if(u=Ec(u)){if(typeof Oe!="function")throw Error(n(280));var d=u.stateNode;d&&(d=ih(d),Oe(u.stateNode,u.type,d))}}function rt(u){Ge?Be?Be.push(u):Be=[u]:Ge=u}function St(){if(Ge){var u=Ge,d=Be;if(Be=Ge=null,He(u),d)for(u=0;u<d.length;u++)He(d[u])}}function An(u,d){return u(d)}function Lt(){}var ln=!1;function Ur(u,d,v){if(ln)return u(d,v);ln=!0;try{return An(u,d,v)}finally{ln=!1,(Ge!==null||Be!==null)&&(Lt(),St())}}function mi(u,d){var v=u.stateNode;if(v===null)return null;var T=ih(v);if(T===null)return null;v=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var co=!1;if(a)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){co=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{co=!1}function ga(u,d,v,T,R,$,G,ee,ne){var de=Array.prototype.slice.call(arguments,3);try{d.apply(v,de)}catch(ye){this.onError(ye)}}var sc=!1,Lf=null,jf=!1,Pv=null,e6={onError:function(u){sc=!0,Lf=u}};function t6(u,d,v,T,R,$,G,ee,ne){sc=!1,Lf=null,ga.apply(e6,arguments)}function n6(u,d,v,T,R,$,G,ee,ne){if(t6.apply(this,arguments),sc){if(sc){var de=Lf;sc=!1,Lf=null}else throw Error(n(198));jf||(jf=!0,Pv=de)}}function va(u){var d=u,v=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(v=d.return),u=d.return;while(u)}return d.tag===3?v:null}function uk(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function ck(u){if(va(u)!==u)throw Error(n(188))}function r6(u){var d=u.alternate;if(!d){if(d=va(u),d===null)throw Error(n(188));return d!==u?null:u}for(var v=u,T=d;;){var R=v.return;if(R===null)break;var $=R.alternate;if($===null){if(T=R.return,T!==null){v=T;continue}break}if(R.child===$.child){for($=R.child;$;){if($===v)return ck(R),u;if($===T)return ck(R),d;$=$.sibling}throw Error(n(188))}if(v.return!==T.return)v=R,T=$;else{for(var G=!1,ee=R.child;ee;){if(ee===v){G=!0,v=R,T=$;break}if(ee===T){G=!0,T=R,v=$;break}ee=ee.sibling}if(!G){for(ee=$.child;ee;){if(ee===v){G=!0,v=$,T=R;break}if(ee===T){G=!0,T=$,v=R;break}ee=ee.sibling}if(!G)throw Error(n(189))}}if(v.alternate!==T)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:d}function dk(u){return u=r6(u),u!==null?fk(u):null}function fk(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=fk(u);if(d!==null)return d;u=u.sibling}return null}var hk=e.unstable_scheduleCallback,pk=e.unstable_cancelCallback,i6=e.unstable_shouldYield,s6=e.unstable_requestPaint,En=e.unstable_now,o6=e.unstable_getCurrentPriorityLevel,Rv=e.unstable_ImmediatePriority,mk=e.unstable_UserBlockingPriority,Ff=e.unstable_NormalPriority,a6=e.unstable_LowPriority,gk=e.unstable_IdlePriority,$f=null,Zi=null;function l6(u){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot($f,u,void 0,(u.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:d6,u6=Math.log,c6=Math.LN2;function d6(u){return u>>>=0,u===0?32:31-(u6(u)/c6|0)|0}var Bf=64,Uf=4194304;function oc(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Vf(u,d){var v=u.pendingLanes;if(v===0)return 0;var T=0,R=u.suspendedLanes,$=u.pingedLanes,G=v&268435455;if(G!==0){var ee=G&~R;ee!==0?T=oc(ee):($&=G,$!==0&&(T=oc($)))}else G=v&~R,G!==0?T=oc(G):$!==0&&(T=oc($));if(T===0)return 0;if(d!==0&&d!==T&&(d&R)===0&&(R=T&-T,$=d&-d,R>=$||R===16&&($&4194240)!==0))return d;if((T&4)!==0&&(T|=v&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=T;0<d;)v=31-Pi(d),R=1<<v,T|=u[v],d&=~R;return T}function f6(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h6(u,d){for(var v=u.suspendedLanes,T=u.pingedLanes,R=u.expirationTimes,$=u.pendingLanes;0<$;){var G=31-Pi($),ee=1<<G,ne=R[G];ne===-1?((ee&v)===0||(ee&T)!==0)&&(R[G]=f6(ee,d)):ne<=d&&(u.expiredLanes|=ee),$&=~ee}}function Mv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function vk(){var u=Bf;return Bf<<=1,(Bf&4194240)===0&&(Bf=64),u}function Lv(u){for(var d=[],v=0;31>v;v++)d.push(u);return d}function ac(u,d,v){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Pi(d),u[d]=v}function p6(u,d){var v=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<v;){var R=31-Pi(v),$=1<<R;d[R]=0,T[R]=-1,u[R]=-1,v&=~$}}function jv(u,d){var v=u.entangledLanes|=d;for(u=u.entanglements;v;){var T=31-Pi(v),R=1<<T;R&d|u[T]&d&&(u[T]|=d),v&=~R}}var jt=0;function yk(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var wk,Fv,bk,xk,_k,$v=!1,qf=[],fo=null,ho=null,po=null,lc=new Map,uc=new Map,mo=[],m6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sk(u,d){switch(u){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":lc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(d.pointerId)}}function cc(u,d,v,T,R,$){return u===null||u.nativeEvent!==$?(u={blockedOn:d,domEventName:v,eventSystemFlags:T,nativeEvent:$,targetContainers:[R]},d!==null&&(d=Ec(d),d!==null&&Fv(d)),u):(u.eventSystemFlags|=T,d=u.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),u)}function g6(u,d,v,T,R){switch(d){case"focusin":return fo=cc(fo,u,d,v,T,R),!0;case"dragenter":return ho=cc(ho,u,d,v,T,R),!0;case"mouseover":return po=cc(po,u,d,v,T,R),!0;case"pointerover":var $=R.pointerId;return lc.set($,cc(lc.get($)||null,u,d,v,T,R)),!0;case"gotpointercapture":return $=R.pointerId,uc.set($,cc(uc.get($)||null,u,d,v,T,R)),!0}return!1}function Ek(u){var d=ya(u.target);if(d!==null){var v=va(d);if(v!==null){if(d=v.tag,d===13){if(d=uk(v),d!==null){u.blockedOn=d,_k(u.priority,function(){bk(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Hf(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var v=Uv(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var T=new v.constructor(v.type,v);ke=T,v.target.dispatchEvent(T),ke=null}else return d=Ec(v),d!==null&&Fv(d),u.blockedOn=v,!1;d.shift()}return!0}function kk(u,d,v){Hf(u)&&v.delete(d)}function v6(){$v=!1,fo!==null&&Hf(fo)&&(fo=null),ho!==null&&Hf(ho)&&(ho=null),po!==null&&Hf(po)&&(po=null),lc.forEach(kk),uc.forEach(kk)}function dc(u,d){u.blockedOn===d&&(u.blockedOn=null,$v||($v=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v6)))}function fc(u){function d(R){return dc(R,u)}if(0<qf.length){dc(qf[0],u);for(var v=1;v<qf.length;v++){var T=qf[v];T.blockedOn===u&&(T.blockedOn=null)}}for(fo!==null&&dc(fo,u),ho!==null&&dc(ho,u),po!==null&&dc(po,u),lc.forEach(d),uc.forEach(d),v=0;v<mo.length;v++)T=mo[v],T.blockedOn===u&&(T.blockedOn=null);for(;0<mo.length&&(v=mo[0],v.blockedOn===null);)Ek(v),v.blockedOn===null&&mo.shift()}var Tl=_.ReactCurrentBatchConfig,zf=!0;function y6(u,d,v,T){var R=jt,$=Tl.transition;Tl.transition=null;try{jt=1,Bv(u,d,v,T)}finally{jt=R,Tl.transition=$}}function w6(u,d,v,T){var R=jt,$=Tl.transition;Tl.transition=null;try{jt=4,Bv(u,d,v,T)}finally{jt=R,Tl.transition=$}}function Bv(u,d,v,T){if(zf){var R=Uv(u,d,v,T);if(R===null)iy(u,d,T,Wf,v),Sk(u,T);else if(g6(R,u,d,v,T))T.stopPropagation();else if(Sk(u,T),d&4&&-1<m6.indexOf(u)){for(;R!==null;){var $=Ec(R);if($!==null&&wk($),$=Uv(u,d,v,T),$===null&&iy(u,d,T,Wf,v),$===R)break;R=$}R!==null&&T.stopPropagation()}else iy(u,d,T,null,v)}}var Wf=null;function Uv(u,d,v,T){if(Wf=null,u=Te(T),u=ya(u),u!==null)if(d=va(u),d===null)u=null;else if(v=d.tag,v===13){if(u=uk(d),u!==null)return u;u=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Wf=u,null}function Tk(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o6()){case Rv:return 1;case mk:return 4;case Ff:case a6:return 16;case gk:return 536870912;default:return 16}default:return 16}}var go=null,Vv=null,Yf=null;function Ck(){if(Yf)return Yf;var u,d=Vv,v=d.length,T,R="value"in go?go.value:go.textContent,$=R.length;for(u=0;u<v&&d[u]===R[u];u++);var G=v-u;for(T=1;T<=G&&d[v-T]===R[$-T];T++);return Yf=R.slice(u,1<T?1-T:void 0)}function Gf(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Kf(){return!0}function Nk(){return!1}function ni(u){function d(v,T,R,$,G){this._reactName=v,this._targetInst=R,this.type=T,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(v=u[ee],this[ee]=v?v($):$[ee]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Kf:Nk,this.isPropagationStopped=Nk,this}return j(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),d}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=ni(Cl),hc=j({},Cl,{view:0,detail:0}),b6=ni(hc),Hv,zv,pc,Qf=j({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==pc&&(pc&&u.type==="mousemove"?(Hv=u.screenX-pc.screenX,zv=u.screenY-pc.screenY):zv=Hv=0,pc=u),Hv)},movementY:function(u){return"movementY"in u?u.movementY:zv}}),Ok=ni(Qf),x6=j({},Qf,{dataTransfer:0}),_6=ni(x6),S6=j({},hc,{relatedTarget:0}),Wv=ni(S6),E6=j({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),k6=ni(E6),T6=j({},Cl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),C6=ni(T6),N6=j({},Cl,{data:0}),Ak=ni(N6),O6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I6(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=D6[u])?!!d[u]:!1}function Yv(){return I6}var P6=j({},hc,{key:function(u){if(u.key){var d=O6[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Gf(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?A6[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(u){return u.type==="keypress"?Gf(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Gf(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),R6=ni(P6),M6=j({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dk=ni(M6),L6=j({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),j6=ni(L6),F6=j({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$6=ni(F6),B6=j({},Qf,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=ni(B6),V6=[9,13,27,32],Gv=a&&"CompositionEvent"in window,mc=null;a&&"documentMode"in document&&(mc=document.documentMode);var q6=a&&"TextEvent"in window&&!mc,Ik=a&&(!Gv||mc&&8<mc&&11>=mc),Pk=" ",Rk=!1;function Mk(u,d){switch(u){case"keyup":return V6.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lk(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Nl=!1;function H6(u,d){switch(u){case"compositionend":return Lk(d);case"keypress":return d.which!==32?null:(Rk=!0,Pk);case"textInput":return u=d.data,u===Pk&&Rk?null:u;default:return null}}function z6(u,d){if(Nl)return u==="compositionend"||!Gv&&Mk(u,d)?(u=Ck(),Yf=Vv=go=null,Nl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ik&&d.locale!=="ko"?null:d.data;default:return null}}var W6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jk(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!W6[u.type]:d==="textarea"}function Fk(u,d,v,T){rt(T),d=th(d,"onChange"),0<d.length&&(v=new qv("onChange","change",null,v,T),u.push({event:v,listeners:d}))}var gc=null,vc=null;function Y6(u){nT(u,0)}function Xf(u){var d=Pl(u);if(ge(d))return u}function G6(u,d){if(u==="change")return d}var $k=!1;if(a){var Kv;if(a){var Qv="oninput"in document;if(!Qv){var Bk=document.createElement("div");Bk.setAttribute("oninput","return;"),Qv=typeof Bk.oninput=="function"}Kv=Qv}else Kv=!1;$k=Kv&&(!document.documentMode||9<document.documentMode)}function Uk(){gc&&(gc.detachEvent("onpropertychange",Vk),vc=gc=null)}function Vk(u){if(u.propertyName==="value"&&Xf(vc)){var d=[];Fk(d,vc,u,Te(u)),Ur(Y6,d)}}function K6(u,d,v){u==="focusin"?(Uk(),gc=d,vc=v,gc.attachEvent("onpropertychange",Vk)):u==="focusout"&&Uk()}function Q6(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Xf(vc)}function X6(u,d){if(u==="click")return Xf(d)}function J6(u,d){if(u==="input"||u==="change")return Xf(d)}function Z6(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ri=typeof Object.is=="function"?Object.is:Z6;function yc(u,d){if(Ri(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var v=Object.keys(u),T=Object.keys(d);if(v.length!==T.length)return!1;for(T=0;T<v.length;T++){var R=v[T];if(!l.call(d,R)||!Ri(u[R],d[R]))return!1}return!0}function qk(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Hk(u,d){var v=qk(u);u=0;for(var T;v;){if(v.nodeType===3){if(T=u+v.textContent.length,u<=d&&T>=d)return{node:v,offset:d-u};u=T}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=qk(v)}}function zk(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?zk(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function Wk(){for(var u=window,d=Ce();d instanceof u.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)u=d.contentWindow;else break;d=Ce(u.document)}return d}function Xv(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function e$(u){var d=Wk(),v=u.focusedElem,T=u.selectionRange;if(d!==v&&v&&v.ownerDocument&&zk(v.ownerDocument.documentElement,v)){if(T!==null&&Xv(v)){if(d=T.start,u=T.end,u===void 0&&(u=d),"selectionStart"in v)v.selectionStart=d,v.selectionEnd=Math.min(u,v.value.length);else if(u=(d=v.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var R=v.textContent.length,$=Math.min(T.start,R);T=T.end===void 0?$:Math.min(T.end,R),!u.extend&&$>T&&(R=T,T=$,$=R),R=Hk(v,$);var G=Hk(v,T);R&&G&&(u.rangeCount!==1||u.anchorNode!==R.node||u.anchorOffset!==R.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),u.removeAllRanges(),$>T?(u.addRange(d),u.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),u.addRange(d)))}}for(d=[],u=v;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<d.length;v++)u=d[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var t$=a&&"documentMode"in document&&11>=document.documentMode,Ol=null,Jv=null,wc=null,Zv=!1;function Yk(u,d,v){var T=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Zv||Ol==null||Ol!==Ce(T)||(T=Ol,"selectionStart"in T&&Xv(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),wc&&yc(wc,T)||(wc=T,T=th(Jv,"onSelect"),0<T.length&&(d=new qv("onSelect","select",null,d,v),u.push({event:d,listeners:T}),d.target=Ol)))}function Jf(u,d){var v={};return v[u.toLowerCase()]=d.toLowerCase(),v["Webkit"+u]="webkit"+d,v["Moz"+u]="moz"+d,v}var Al={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},ey={},Gk={};a&&(Gk=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Zf(u){if(ey[u])return ey[u];if(!Al[u])return u;var d=Al[u],v;for(v in d)if(d.hasOwnProperty(v)&&v in Gk)return ey[u]=d[v];return u}var Kk=Zf("animationend"),Qk=Zf("animationiteration"),Xk=Zf("animationstart"),Jk=Zf("transitionend"),Zk=new Map,eT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(u,d){Zk.set(u,d),s(d,[u])}for(var ty=0;ty<eT.length;ty++){var ny=eT[ty],n$=ny.toLowerCase(),r$=ny[0].toUpperCase()+ny.slice(1);vo(n$,"on"+r$)}vo(Kk,"onAnimationEnd"),vo(Qk,"onAnimationIteration"),vo(Xk,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(Jk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function tT(u,d,v){var T=u.type||"unknown-event";u.currentTarget=v,n6(T,d,void 0,u),u.currentTarget=null}function nT(u,d){d=(d&4)!==0;for(var v=0;v<u.length;v++){var T=u[v],R=T.event;T=T.listeners;e:{var $=void 0;if(d)for(var G=T.length-1;0<=G;G--){var ee=T[G],ne=ee.instance,de=ee.currentTarget;if(ee=ee.listener,ne!==$&&R.isPropagationStopped())break e;tT(R,ee,de),$=ne}else for(G=0;G<T.length;G++){if(ee=T[G],ne=ee.instance,de=ee.currentTarget,ee=ee.listener,ne!==$&&R.isPropagationStopped())break e;tT(R,ee,de),$=ne}}}if(jf)throw u=Pv,jf=!1,Pv=null,u}function Zt(u,d){var v=d[cy];v===void 0&&(v=d[cy]=new Set);var T=u+"__bubble";v.has(T)||(rT(d,u,2,!1),v.add(T))}function ry(u,d,v){var T=0;d&&(T|=4),rT(v,u,T,d)}var eh="_reactListening"+Math.random().toString(36).slice(2);function xc(u){if(!u[eh]){u[eh]=!0,r.forEach(function(v){v!=="selectionchange"&&(i$.has(v)||ry(v,!1,u),ry(v,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[eh]||(d[eh]=!0,ry("selectionchange",!1,d))}}function rT(u,d,v,T){switch(Tk(d)){case 1:var R=y6;break;case 4:R=w6;break;default:R=Bv}v=R.bind(null,d,v,u),R=void 0,!co||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),T?R!==void 0?u.addEventListener(d,v,{capture:!0,passive:R}):u.addEventListener(d,v,!0):R!==void 0?u.addEventListener(d,v,{passive:R}):u.addEventListener(d,v,!1)}function iy(u,d,v,T,R){var $=T;if((d&1)===0&&(d&2)===0&&T!==null)e:for(;;){if(T===null)return;var G=T.tag;if(G===3||G===4){var ee=T.stateNode.containerInfo;if(ee===R||ee.nodeType===8&&ee.parentNode===R)break;if(G===4)for(G=T.return;G!==null;){var ne=G.tag;if((ne===3||ne===4)&&(ne=G.stateNode.containerInfo,ne===R||ne.nodeType===8&&ne.parentNode===R))return;G=G.return}for(;ee!==null;){if(G=ya(ee),G===null)return;if(ne=G.tag,ne===5||ne===6){T=$=G;continue e}ee=ee.parentNode}}T=T.return}Ur(function(){var de=$,ye=Te(v),_e=[];e:{var ve=Zk.get(u);if(ve!==void 0){var Pe=qv,Ue=u;switch(u){case"keypress":if(Gf(v)===0)break e;case"keydown":case"keyup":Pe=R6;break;case"focusin":Ue="focus",Pe=Wv;break;case"focusout":Ue="blur",Pe=Wv;break;case"beforeblur":case"afterblur":Pe=Wv;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Ok;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=_6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=j6;break;case Kk:case Qk:case Xk:Pe=k6;break;case Jk:Pe=$6;break;case"scroll":Pe=b6;break;case"wheel":Pe=U6;break;case"copy":case"cut":case"paste":Pe=C6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Dk}var qe=(d&4)!==0,kn=!qe&&u==="scroll",ae=qe?ve!==null?ve+"Capture":null:ve;qe=[];for(var re=de,ue;re!==null;){ue=re;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,ae!==null&&(Ee=mi(re,ae),Ee!=null&&qe.push(_c(re,Ee,ue)))),kn)break;re=re.return}0<qe.length&&(ve=new Pe(ve,Ue,null,v,ye),_e.push({event:ve,listeners:qe}))}}if((d&7)===0){e:{if(ve=u==="mouseover"||u==="pointerover",Pe=u==="mouseout"||u==="pointerout",ve&&v!==ke&&(Ue=v.relatedTarget||v.fromElement)&&(ya(Ue)||Ue[Ds]))break e;if((Pe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(Ue=v.relatedTarget||v.toElement,Pe=de,Ue=Ue?ya(Ue):null,Ue!==null&&(kn=va(Ue),Ue!==kn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Pe=null,Ue=de),Pe!==Ue)){if(qe=Ok,Ee="onMouseLeave",ae="onMouseEnter",re="mouse",(u==="pointerout"||u==="pointerover")&&(qe=Dk,Ee="onPointerLeave",ae="onPointerEnter",re="pointer"),kn=Pe==null?ve:Pl(Pe),ue=Ue==null?ve:Pl(Ue),ve=new qe(Ee,re+"leave",Pe,v,ye),ve.target=kn,ve.relatedTarget=ue,Ee=null,ya(ye)===de&&(qe=new qe(ae,re+"enter",Ue,v,ye),qe.target=ue,qe.relatedTarget=kn,Ee=qe),kn=Ee,Pe&&Ue)t:{for(qe=Pe,ae=Ue,re=0,ue=qe;ue;ue=Dl(ue))re++;for(ue=0,Ee=ae;Ee;Ee=Dl(Ee))ue++;for(;0<re-ue;)qe=Dl(qe),re--;for(;0<ue-re;)ae=Dl(ae),ue--;for(;re--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Dl(qe),ae=Dl(ae)}qe=null}else qe=null;Pe!==null&&iT(_e,ve,Pe,qe,!1),Ue!==null&&kn!==null&&iT(_e,kn,Ue,qe,!0)}}e:{if(ve=de?Pl(de):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var ze=G6;else if(jk(ve))if($k)ze=J6;else{ze=Q6;var Je=K6}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(ze=X6);if(ze&&(ze=ze(u,de))){Fk(_e,ze,v,ye);break e}Je&&Je(u,ve,de),u==="focusout"&&(Je=ve._wrapperState)&&Je.controlled&&ve.type==="number"&&fe(ve,"number",ve.value)}switch(Je=de?Pl(de):window,u){case"focusin":(jk(Je)||Je.contentEditable==="true")&&(Ol=Je,Jv=de,wc=null);break;case"focusout":wc=Jv=Ol=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,Yk(_e,v,ye);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":Yk(_e,v,ye)}var Ze;if(Gv)e:{switch(u){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Nl?Mk(u,v)&&(st="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(st="onCompositionStart");st&&(Ik&&v.locale!=="ko"&&(Nl||st!=="onCompositionStart"?st==="onCompositionEnd"&&Nl&&(Ze=Ck()):(go=ye,Vv="value"in go?go.value:go.textContent,Nl=!0)),Je=th(de,st),0<Je.length&&(st=new Ak(st,u,null,v,ye),_e.push({event:st,listeners:Je}),Ze?st.data=Ze:(Ze=Lk(v),Ze!==null&&(st.data=Ze)))),(Ze=q6?H6(u,v):z6(u,v))&&(de=th(de,"onBeforeInput"),0<de.length&&(ye=new Ak("onBeforeInput","beforeinput",null,v,ye),_e.push({event:ye,listeners:de}),ye.data=Ze))}nT(_e,d)})}function _c(u,d,v){return{instance:u,listener:d,currentTarget:v}}function th(u,d){for(var v=d+"Capture",T=[];u!==null;){var R=u,$=R.stateNode;R.tag===5&&$!==null&&(R=$,$=mi(u,v),$!=null&&T.unshift(_c(u,$,R)),$=mi(u,d),$!=null&&T.push(_c(u,$,R))),u=u.return}return T}function Dl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function iT(u,d,v,T,R){for(var $=d._reactName,G=[];v!==null&&v!==T;){var ee=v,ne=ee.alternate,de=ee.stateNode;if(ne!==null&&ne===T)break;ee.tag===5&&de!==null&&(ee=de,R?(ne=mi(v,$),ne!=null&&G.unshift(_c(v,ne,ee))):R||(ne=mi(v,$),ne!=null&&G.push(_c(v,ne,ee)))),v=v.return}G.length!==0&&u.push({event:d,listeners:G})}var s$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function sT(u){return(typeof u=="string"?u:""+u).replace(s$,`
`).replace(o$,"")}function nh(u,d,v){if(d=sT(d),sT(u)!==d&&v)throw Error(n(425))}function rh(){}var sy=null,oy=null;function ay(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ly=typeof setTimeout=="function"?setTimeout:void 0,a$=typeof clearTimeout=="function"?clearTimeout:void 0,oT=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof oT<"u"?function(u){return oT.resolve(null).then(u).catch(u$)}:ly;function u$(u){setTimeout(function(){throw u})}function uy(u,d){var v=d,T=0;do{var R=v.nextSibling;if(u.removeChild(v),R&&R.nodeType===8)if(v=R.data,v==="/$"){if(T===0){u.removeChild(R),fc(d);return}T--}else v!=="$"&&v!=="$?"&&v!=="$!"||T++;v=R}while(v);fc(d)}function yo(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function aT(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return u;d--}else v==="/$"&&d++}u=u.previousSibling}return null}var Il=Math.random().toString(36).slice(2),es="__reactFiber$"+Il,Sc="__reactProps$"+Il,Ds="__reactContainer$"+Il,cy="__reactEvents$"+Il,c$="__reactListeners$"+Il,d$="__reactHandles$"+Il;function ya(u){var d=u[es];if(d)return d;for(var v=u.parentNode;v;){if(d=v[Ds]||v[es]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(u=aT(u);u!==null;){if(v=u[es])return v;u=aT(u)}return d}u=v,v=u.parentNode}return null}function Ec(u){return u=u[es]||u[Ds],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Pl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function ih(u){return u[Sc]||null}var dy=[],Rl=-1;function wo(u){return{current:u}}function en(u){0>Rl||(u.current=dy[Rl],dy[Rl]=null,Rl--)}function Kt(u,d){Rl++,dy[Rl]=u.current,u.current=d}var bo={},cr=wo(bo),Vr=wo(!1),wa=bo;function Ml(u,d){var v=u.type.contextTypes;if(!v)return bo;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var R={},$;for($ in v)R[$]=d[$];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=R),R}function qr(u){return u=u.childContextTypes,u!=null}function sh(){en(Vr),en(cr)}function lT(u,d,v){if(cr.current!==bo)throw Error(n(168));Kt(cr,d),Kt(Vr,v)}function uT(u,d,v){var T=u.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return v;T=T.getChildContext();for(var R in T)if(!(R in d))throw Error(n(108,J(u)||"Unknown",R));return j({},v,T)}function oh(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||bo,wa=cr.current,Kt(cr,u),Kt(Vr,Vr.current),!0}function cT(u,d,v){var T=u.stateNode;if(!T)throw Error(n(169));v?(u=uT(u,d,wa),T.__reactInternalMemoizedMergedChildContext=u,en(Vr),en(cr),Kt(cr,u)):en(Vr),Kt(Vr,v)}var Is=null,ah=!1,fy=!1;function dT(u){Is===null?Is=[u]:Is.push(u)}function f$(u){ah=!0,dT(u)}function xo(){if(!fy&&Is!==null){fy=!0;var u=0,d=jt;try{var v=Is;for(jt=1;u<v.length;u++){var T=v[u];do T=T(!0);while(T!==null)}Is=null,ah=!1}catch(R){throw Is!==null&&(Is=Is.slice(u+1)),hk(Rv,xo),R}finally{jt=d,fy=!1}}return null}var Ll=[],jl=0,lh=null,uh=0,gi=[],vi=0,ba=null,Ps=1,Rs="";function xa(u,d){Ll[jl++]=uh,Ll[jl++]=lh,lh=u,uh=d}function fT(u,d,v){gi[vi++]=Ps,gi[vi++]=Rs,gi[vi++]=ba,ba=u;var T=Ps;u=Rs;var R=32-Pi(T)-1;T&=~(1<<R),v+=1;var $=32-Pi(d)+R;if(30<$){var G=R-R%5;$=(T&(1<<G)-1).toString(32),T>>=G,R-=G,Ps=1<<32-Pi(d)+R|v<<R|T,Rs=$+u}else Ps=1<<$|v<<R|T,Rs=u}function hy(u){u.return!==null&&(xa(u,1),fT(u,1,0))}function py(u){for(;u===lh;)lh=Ll[--jl],Ll[jl]=null,uh=Ll[--jl],Ll[jl]=null;for(;u===ba;)ba=gi[--vi],gi[vi]=null,Rs=gi[--vi],gi[vi]=null,Ps=gi[--vi],gi[vi]=null}var ri=null,ii=null,un=!1,Mi=null;function hT(u,d){var v=xi(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=u,d=u.deletions,d===null?(u.deletions=[v],u.flags|=16):d.push(v)}function pT(u,d){switch(u.tag){case 5:var v=u.type;return d=d.nodeType!==1||v.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,ri=u,ii=yo(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,ri=u,ii=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(v=ba!==null?{id:Ps,overflow:Rs}:null,u.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=xi(18,null,null,0),v.stateNode=d,v.return=u,u.child=v,ri=u,ii=null,!0):!1;default:return!1}}function my(u){return(u.mode&1)!==0&&(u.flags&128)===0}function gy(u){if(un){var d=ii;if(d){var v=d;if(!pT(u,d)){if(my(u))throw Error(n(418));d=yo(v.nextSibling);var T=ri;d&&pT(u,d)?hT(T,v):(u.flags=u.flags&-4097|2,un=!1,ri=u)}}else{if(my(u))throw Error(n(418));u.flags=u.flags&-4097|2,un=!1,ri=u}}}function mT(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ri=u}function ch(u){if(u!==ri)return!1;if(!un)return mT(u),un=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!ay(u.type,u.memoizedProps)),d&&(d=ii)){if(my(u))throw gT(),Error(n(418));for(;d;)hT(u,d),d=yo(d.nextSibling)}if(mT(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(d===0){ii=yo(u.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++}u=u.nextSibling}ii=null}}else ii=ri?yo(u.stateNode.nextSibling):null;return!0}function gT(){for(var u=ii;u;)u=yo(u.nextSibling)}function Fl(){ii=ri=null,un=!1}function vy(u){Mi===null?Mi=[u]:Mi.push(u)}var h$=_.ReactCurrentBatchConfig;function Li(u,d){if(u&&u.defaultProps){d=j({},d),u=u.defaultProps;for(var v in u)d[v]===void 0&&(d[v]=u[v]);return d}return d}var dh=wo(null),fh=null,$l=null,yy=null;function wy(){yy=$l=fh=null}function by(u){var d=dh.current;en(dh),u._currentValue=d}function xy(u,d,v){for(;u!==null;){var T=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),u===v)break;u=u.return}}function Bl(u,d){fh=u,yy=$l=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Hr=!0),u.firstContext=null)}function yi(u){var d=u._currentValue;if(yy!==u)if(u={context:u,memoizedValue:d,next:null},$l===null){if(fh===null)throw Error(n(308));$l=u,fh.dependencies={lanes:0,firstContext:u}}else $l=$l.next=u;return d}var _a=null;function _y(u){_a===null?_a=[u]:_a.push(u)}function vT(u,d,v,T){var R=d.interleaved;return R===null?(v.next=v,_y(d)):(v.next=R.next,R.next=v),d.interleaved=v,Ms(u,T)}function Ms(u,d){u.lanes|=d;var v=u.alternate;for(v!==null&&(v.lanes|=d),v=u,u=u.return;u!==null;)u.childLanes|=d,v=u.alternate,v!==null&&(v.childLanes|=d),v=u,u=u.return;return v.tag===3?v.stateNode:null}var _o=!1;function Sy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ls(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function So(u,d,v){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(Et&2)!==0){var R=T.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),T.pending=d,Ms(u,v)}return R=T.interleaved,R===null?(d.next=d,_y(T)):(d.next=R.next,R.next=d),T.interleaved=d,Ms(u,v)}function hh(u,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,jv(u,v)}}function wT(u,d){var v=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,v===T)){var R=null,$=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};$===null?R=$=G:$=$.next=G,v=v.next}while(v!==null);$===null?R=$=d:$=$.next=d}else R=$=d;v={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:$,shared:T.shared,effects:T.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=d}function ph(u,d,v,T){var R=u.updateQueue;_o=!1;var $=R.firstBaseUpdate,G=R.lastBaseUpdate,ee=R.shared.pending;if(ee!==null){R.shared.pending=null;var ne=ee,de=ne.next;ne.next=null,G===null?$=de:G.next=de,G=ne;var ye=u.alternate;ye!==null&&(ye=ye.updateQueue,ee=ye.lastBaseUpdate,ee!==G&&(ee===null?ye.firstBaseUpdate=de:ee.next=de,ye.lastBaseUpdate=ne))}if($!==null){var _e=R.baseState;G=0,ye=de=ne=null,ee=$;do{var ve=ee.lane,Pe=ee.eventTime;if((T&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ue=u,qe=ee;switch(ve=d,Pe=v,qe.tag){case 1:if(Ue=qe.payload,typeof Ue=="function"){_e=Ue.call(Pe,_e,ve);break e}_e=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=qe.payload,ve=typeof Ue=="function"?Ue.call(Pe,_e,ve):Ue,ve==null)break e;_e=j({},_e,ve);break e;case 2:_o=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,ve=R.effects,ve===null?R.effects=[ee]:ve.push(ee))}else Pe={eventTime:Pe,lane:ve,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ye===null?(de=ye=Pe,ne=_e):ye=ye.next=Pe,G|=ve;if(ee=ee.next,ee===null){if(ee=R.shared.pending,ee===null)break;ve=ee,ee=ve.next,ve.next=null,R.lastBaseUpdate=ve,R.shared.pending=null}}while(!0);if(ye===null&&(ne=_e),R.baseState=ne,R.firstBaseUpdate=de,R.lastBaseUpdate=ye,d=R.shared.interleaved,d!==null){R=d;do G|=R.lane,R=R.next;while(R!==d)}else $===null&&(R.shared.lanes=0);ka|=G,u.lanes=G,u.memoizedState=_e}}function bT(u,d,v){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var T=u[d],R=T.callback;if(R!==null){if(T.callback=null,T=v,typeof R!="function")throw Error(n(191,R));R.call(T)}}}var xT=new t.Component().refs;function Ey(u,d,v,T){d=u.memoizedState,v=v(T,d),v=v==null?d:j({},d,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var mh={isMounted:function(u){return(u=u._reactInternals)?va(u)===u:!1},enqueueSetState:function(u,d,v){u=u._reactInternals;var T=Or(),R=Co(u),$=Ls(T,R);$.payload=d,v!=null&&($.callback=v),d=So(u,$,R),d!==null&&($i(d,u,R,T),hh(d,u,R))},enqueueReplaceState:function(u,d,v){u=u._reactInternals;var T=Or(),R=Co(u),$=Ls(T,R);$.tag=1,$.payload=d,v!=null&&($.callback=v),d=So(u,$,R),d!==null&&($i(d,u,R,T),hh(d,u,R))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var v=Or(),T=Co(u),R=Ls(v,T);R.tag=2,d!=null&&(R.callback=d),d=So(u,R,T),d!==null&&($i(d,u,T,v),hh(d,u,T))}};function _T(u,d,v,T,R,$,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,$,G):d.prototype&&d.prototype.isPureReactComponent?!yc(v,T)||!yc(R,$):!0}function ST(u,d,v){var T=!1,R=bo,$=d.contextType;return typeof $=="object"&&$!==null?$=yi($):(R=qr(d)?wa:cr.current,T=d.contextTypes,$=(T=T!=null)?Ml(u,R):bo),d=new d(v,$),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=mh,u.stateNode=d,d._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=R,u.__reactInternalMemoizedMaskedChildContext=$),d}function ET(u,d,v,T){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,T),d.state!==u&&mh.enqueueReplaceState(d,d.state,null)}function ky(u,d,v,T){var R=u.stateNode;R.props=v,R.state=u.memoizedState,R.refs=xT,Sy(u);var $=d.contextType;typeof $=="object"&&$!==null?R.context=yi($):($=qr(d)?wa:cr.current,R.context=Ml(u,$)),R.state=u.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(Ey(u,d,$,v),R.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&mh.enqueueReplaceState(R,R.state,null),ph(u,v,R,T),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308)}function kc(u,d,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var T=v.stateNode}if(!T)throw Error(n(147,u));var R=T,$=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===$?d.ref:(d=function(G){var ee=R.refs;ee===xT&&(ee=R.refs={}),G===null?delete ee[$]:ee[$]=G},d._stringRef=$,d)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function gh(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function kT(u){var d=u._init;return d(u._payload)}function TT(u){function d(ae,re){if(u){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function v(ae,re){if(!u)return null;for(;re!==null;)d(ae,re),re=re.sibling;return null}function T(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function R(ae,re){return ae=Oo(ae,re),ae.index=0,ae.sibling=null,ae}function $(ae,re,ue){return ae.index=ue,u?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function G(ae){return u&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,re,ue,Ee){return re===null||re.tag!==6?(re=l0(ue,ae.mode,Ee),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function ne(ae,re,ue,Ee){var ze=ue.type;return ze===O?ye(ae,re,ue.props.children,Ee,ue.key):re!==null&&(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&kT(ze)===re.type)?(Ee=R(re,ue.props),Ee.ref=kc(ae,re,ue),Ee.return=ae,Ee):(Ee=Mh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=kc(ae,re,ue),Ee.return=ae,Ee)}function de(ae,re,ue,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=u0(ue,ae.mode,Ee),re.return=ae,re):(re=R(re,ue.children||[]),re.return=ae,re)}function ye(ae,re,ue,Ee,ze){return re===null||re.tag!==7?(re=Oa(ue,ae.mode,Ee,ze),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function _e(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=l0(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return ue=Mh(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=kc(ae,null,re),ue.return=ae,ue;case N:return re=u0(re,ae.mode,ue),re.return=ae,re;case M:var Ee=re._init;return _e(ae,Ee(re._payload),ue)}if(we(re)||H(re))return re=Oa(re,ae.mode,ue,null),re.return=ae,re;gh(ae,re)}return null}function ve(ae,re,ue,Ee){var ze=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ze!==null?null:ee(ae,re,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===ze?ne(ae,re,ue,Ee):null;case N:return ue.key===ze?de(ae,re,ue,Ee):null;case M:return ze=ue._init,ve(ae,re,ze(ue._payload),Ee)}if(we(ue)||H(ue))return ze!==null?null:ye(ae,re,ue,Ee,null);gh(ae,ue)}return null}function Pe(ae,re,ue,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(ue)||null,ee(re,ae,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,ne(re,ae,Ee,ze);case N:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,de(re,ae,Ee,ze);case M:var Je=Ee._init;return Pe(ae,re,ue,Je(Ee._payload),ze)}if(we(Ee)||H(Ee))return ae=ae.get(ue)||null,ye(re,ae,Ee,ze,null);gh(re,Ee)}return null}function Ue(ae,re,ue,Ee){for(var ze=null,Je=null,Ze=re,st=re=0,zn=null;Ze!==null&&st<ue.length;st++){Ze.index>st?(zn=Ze,Ze=null):zn=Ze.sibling;var Tt=ve(ae,Ze,ue[st],Ee);if(Tt===null){Ze===null&&(Ze=zn);break}u&&Ze&&Tt.alternate===null&&d(ae,Ze),re=$(Tt,re,st),Je===null?ze=Tt:Je.sibling=Tt,Je=Tt,Ze=zn}if(st===ue.length)return v(ae,Ze),un&&xa(ae,st),ze;if(Ze===null){for(;st<ue.length;st++)Ze=_e(ae,ue[st],Ee),Ze!==null&&(re=$(Ze,re,st),Je===null?ze=Ze:Je.sibling=Ze,Je=Ze);return un&&xa(ae,st),ze}for(Ze=T(ae,Ze);st<ue.length;st++)zn=Pe(Ze,ae,st,ue[st],Ee),zn!==null&&(u&&zn.alternate!==null&&Ze.delete(zn.key===null?st:zn.key),re=$(zn,re,st),Je===null?ze=zn:Je.sibling=zn,Je=zn);return u&&Ze.forEach(function(Ao){return d(ae,Ao)}),un&&xa(ae,st),ze}function qe(ae,re,ue,Ee){var ze=H(ue);if(typeof ze!="function")throw Error(n(150));if(ue=ze.call(ue),ue==null)throw Error(n(151));for(var Je=ze=null,Ze=re,st=re=0,zn=null,Tt=ue.next();Ze!==null&&!Tt.done;st++,Tt=ue.next()){Ze.index>st?(zn=Ze,Ze=null):zn=Ze.sibling;var Ao=ve(ae,Ze,Tt.value,Ee);if(Ao===null){Ze===null&&(Ze=zn);break}u&&Ze&&Ao.alternate===null&&d(ae,Ze),re=$(Ao,re,st),Je===null?ze=Ao:Je.sibling=Ao,Je=Ao,Ze=zn}if(Tt.done)return v(ae,Ze),un&&xa(ae,st),ze;if(Ze===null){for(;!Tt.done;st++,Tt=ue.next())Tt=_e(ae,Tt.value,Ee),Tt!==null&&(re=$(Tt,re,st),Je===null?ze=Tt:Je.sibling=Tt,Je=Tt);return un&&xa(ae,st),ze}for(Ze=T(ae,Ze);!Tt.done;st++,Tt=ue.next())Tt=Pe(Ze,ae,st,Tt.value,Ee),Tt!==null&&(u&&Tt.alternate!==null&&Ze.delete(Tt.key===null?st:Tt.key),re=$(Tt,re,st),Je===null?ze=Tt:Je.sibling=Tt,Je=Tt);return u&&Ze.forEach(function(W$){return d(ae,W$)}),un&&xa(ae,st),ze}function kn(ae,re,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var ze=ue.key,Je=re;Je!==null;){if(Je.key===ze){if(ze=ue.type,ze===O){if(Je.tag===7){v(ae,Je.sibling),re=R(Je,ue.props.children),re.return=ae,ae=re;break e}}else if(Je.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&kT(ze)===Je.type){v(ae,Je.sibling),re=R(Je,ue.props),re.ref=kc(ae,Je,ue),re.return=ae,ae=re;break e}v(ae,Je);break}else d(ae,Je);Je=Je.sibling}ue.type===O?(re=Oa(ue.props.children,ae.mode,Ee,ue.key),re.return=ae,ae=re):(Ee=Mh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=kc(ae,re,ue),Ee.return=ae,ae=Ee)}return G(ae);case N:e:{for(Je=ue.key;re!==null;){if(re.key===Je)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){v(ae,re.sibling),re=R(re,ue.children||[]),re.return=ae,ae=re;break e}else{v(ae,re);break}else d(ae,re);re=re.sibling}re=u0(ue,ae.mode,Ee),re.return=ae,ae=re}return G(ae);case M:return Je=ue._init,kn(ae,re,Je(ue._payload),Ee)}if(we(ue))return Ue(ae,re,ue,Ee);if(H(ue))return qe(ae,re,ue,Ee);gh(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(v(ae,re.sibling),re=R(re,ue),re.return=ae,ae=re):(v(ae,re),re=l0(ue,ae.mode,Ee),re.return=ae,ae=re),G(ae)):v(ae,re)}return kn}var Ul=TT(!0),CT=TT(!1),Tc={},ts=wo(Tc),Cc=wo(Tc),Nc=wo(Tc);function Sa(u){if(u===Tc)throw Error(n(174));return u}function Ty(u,d){switch(Kt(Nc,d),Kt(Cc,u),Kt(ts,Tc),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:On(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=On(d,u)}en(ts),Kt(ts,d)}function Vl(){en(ts),en(Cc),en(Nc)}function NT(u){Sa(Nc.current);var d=Sa(ts.current),v=On(d,u.type);d!==v&&(Kt(Cc,u),Kt(ts,v))}function Cy(u){Cc.current===u&&(en(ts),en(Cc))}var fn=wo(0);function vh(u){for(var d=u;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ny=[];function Oy(){for(var u=0;u<Ny.length;u++)Ny[u]._workInProgressVersionPrimary=null;Ny.length=0}var yh=_.ReactCurrentDispatcher,Ay=_.ReactCurrentBatchConfig,Ea=0,hn=null,Fn=null,qn=null,wh=!1,Oc=!1,Ac=0,p$=0;function dr(){throw Error(n(321))}function Dy(u,d){if(d===null)return!1;for(var v=0;v<d.length&&v<u.length;v++)if(!Ri(u[v],d[v]))return!1;return!0}function Iy(u,d,v,T,R,$){if(Ea=$,hn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,yh.current=u===null||u.memoizedState===null?y$:w$,u=v(T,R),Oc){$=0;do{if(Oc=!1,Ac=0,25<=$)throw Error(n(301));$+=1,qn=Fn=null,d.updateQueue=null,yh.current=b$,u=v(T,R)}while(Oc)}if(yh.current=_h,d=Fn!==null&&Fn.next!==null,Ea=0,qn=Fn=hn=null,wh=!1,d)throw Error(n(300));return u}function Py(){var u=Ac!==0;return Ac=0,u}function ns(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?hn.memoizedState=qn=u:qn=qn.next=u,qn}function wi(){if(Fn===null){var u=hn.alternate;u=u!==null?u.memoizedState:null}else u=Fn.next;var d=qn===null?hn.memoizedState:qn.next;if(d!==null)qn=d,Fn=u;else{if(u===null)throw Error(n(310));Fn=u,u={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},qn===null?hn.memoizedState=qn=u:qn=qn.next=u}return qn}function Dc(u,d){return typeof d=="function"?d(u):d}function Ry(u){var d=wi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=Fn,R=T.baseQueue,$=v.pending;if($!==null){if(R!==null){var G=R.next;R.next=$.next,$.next=G}T.baseQueue=R=$,v.pending=null}if(R!==null){$=R.next,T=T.baseState;var ee=G=null,ne=null,de=$;do{var ye=de.lane;if((Ea&ye)===ye)ne!==null&&(ne=ne.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),T=de.hasEagerState?de.eagerState:u(T,de.action);else{var _e={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ne===null?(ee=ne=_e,G=T):ne=ne.next=_e,hn.lanes|=ye,ka|=ye}de=de.next}while(de!==null&&de!==$);ne===null?G=T:ne.next=ee,Ri(T,d.memoizedState)||(Hr=!0),d.memoizedState=T,d.baseState=G,d.baseQueue=ne,v.lastRenderedState=T}if(u=v.interleaved,u!==null){R=u;do $=R.lane,hn.lanes|=$,ka|=$,R=R.next;while(R!==u)}else R===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function My(u){var d=wi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=v.dispatch,R=v.pending,$=d.memoizedState;if(R!==null){v.pending=null;var G=R=R.next;do $=u($,G.action),G=G.next;while(G!==R);Ri($,d.memoizedState)||(Hr=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),v.lastRenderedState=$}return[$,T]}function OT(){}function AT(u,d){var v=hn,T=wi(),R=d(),$=!Ri(T.memoizedState,R);if($&&(T.memoizedState=R,Hr=!0),T=T.queue,Ly(PT.bind(null,v,T,u),[u]),T.getSnapshot!==d||$||qn!==null&&qn.memoizedState.tag&1){if(v.flags|=2048,Ic(9,IT.bind(null,v,T,R,d),void 0,null),Hn===null)throw Error(n(349));(Ea&30)!==0||DT(v,d,R)}return R}function DT(u,d,v){u.flags|=16384,u={getSnapshot:d,value:v},d=hn.updateQueue,d===null?(d={lastEffect:null,stores:null},hn.updateQueue=d,d.stores=[u]):(v=d.stores,v===null?d.stores=[u]:v.push(u))}function IT(u,d,v,T){d.value=v,d.getSnapshot=T,RT(d)&&MT(u)}function PT(u,d,v){return v(function(){RT(d)&&MT(u)})}function RT(u){var d=u.getSnapshot;u=u.value;try{var v=d();return!Ri(u,v)}catch{return!0}}function MT(u){var d=Ms(u,1);d!==null&&$i(d,u,1,-1)}function LT(u){var d=ns();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:u},d.queue=u,u=u.dispatch=v$.bind(null,hn,u),[d.memoizedState,u]}function Ic(u,d,v,T){return u={tag:u,create:d,destroy:v,deps:T,next:null},d=hn.updateQueue,d===null?(d={lastEffect:null,stores:null},hn.updateQueue=d,d.lastEffect=u.next=u):(v=d.lastEffect,v===null?d.lastEffect=u.next=u:(T=v.next,v.next=u,u.next=T,d.lastEffect=u)),u}function jT(){return wi().memoizedState}function bh(u,d,v,T){var R=ns();hn.flags|=u,R.memoizedState=Ic(1|d,v,void 0,T===void 0?null:T)}function xh(u,d,v,T){var R=wi();T=T===void 0?null:T;var $=void 0;if(Fn!==null){var G=Fn.memoizedState;if($=G.destroy,T!==null&&Dy(T,G.deps)){R.memoizedState=Ic(d,v,$,T);return}}hn.flags|=u,R.memoizedState=Ic(1|d,v,$,T)}function FT(u,d){return bh(8390656,8,u,d)}function Ly(u,d){return xh(2048,8,u,d)}function $T(u,d){return xh(4,2,u,d)}function BT(u,d){return xh(4,4,u,d)}function UT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function VT(u,d,v){return v=v!=null?v.concat([u]):null,xh(4,4,UT.bind(null,d,u),v)}function jy(){}function qT(u,d){var v=wi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&Dy(d,T[1])?T[0]:(v.memoizedState=[u,d],u)}function HT(u,d){var v=wi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&Dy(d,T[1])?T[0]:(u=u(),v.memoizedState=[u,d],u)}function zT(u,d,v){return(Ea&21)===0?(u.baseState&&(u.baseState=!1,Hr=!0),u.memoizedState=v):(Ri(v,d)||(v=vk(),hn.lanes|=v,ka|=v,u.baseState=!0),d)}function m$(u,d){var v=jt;jt=v!==0&&4>v?v:4,u(!0);var T=Ay.transition;Ay.transition={};try{u(!1),d()}finally{jt=v,Ay.transition=T}}function WT(){return wi().memoizedState}function g$(u,d,v){var T=Co(u);if(v={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null},YT(u))GT(d,v);else if(v=vT(u,d,v,T),v!==null){var R=Or();$i(v,u,T,R),KT(v,d,T)}}function v$(u,d,v){var T=Co(u),R={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null};if(YT(u))GT(d,R);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var G=d.lastRenderedState,ee=$(G,v);if(R.hasEagerState=!0,R.eagerState=ee,Ri(ee,G)){var ne=d.interleaved;ne===null?(R.next=R,_y(d)):(R.next=ne.next,ne.next=R),d.interleaved=R;return}}catch{}finally{}v=vT(u,d,R,T),v!==null&&(R=Or(),$i(v,u,T,R),KT(v,d,T))}}function YT(u){var d=u.alternate;return u===hn||d!==null&&d===hn}function GT(u,d){Oc=wh=!0;var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}function KT(u,d,v){if((v&4194240)!==0){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,jv(u,v)}}var _h={readContext:yi,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},y$={readContext:yi,useCallback:function(u,d){return ns().memoizedState=[u,d===void 0?null:d],u},useContext:yi,useEffect:FT,useImperativeHandle:function(u,d,v){return v=v!=null?v.concat([u]):null,bh(4194308,4,UT.bind(null,d,u),v)},useLayoutEffect:function(u,d){return bh(4194308,4,u,d)},useInsertionEffect:function(u,d){return bh(4,2,u,d)},useMemo:function(u,d){var v=ns();return d=d===void 0?null:d,u=u(),v.memoizedState=[u,d],u},useReducer:function(u,d,v){var T=ns();return d=v!==void 0?v(d):d,T.memoizedState=T.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},T.queue=u,u=u.dispatch=g$.bind(null,hn,u),[T.memoizedState,u]},useRef:function(u){var d=ns();return u={current:u},d.memoizedState=u},useState:LT,useDebugValue:jy,useDeferredValue:function(u){return ns().memoizedState=u},useTransition:function(){var u=LT(!1),d=u[0];return u=m$.bind(null,u[1]),ns().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,v){var T=hn,R=ns();if(un){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),Hn===null)throw Error(n(349));(Ea&30)!==0||DT(T,d,v)}R.memoizedState=v;var $={value:v,getSnapshot:d};return R.queue=$,FT(PT.bind(null,T,$,u),[u]),T.flags|=2048,Ic(9,IT.bind(null,T,$,v,d),void 0,null),v},useId:function(){var u=ns(),d=Hn.identifierPrefix;if(un){var v=Rs,T=Ps;v=(T&~(1<<32-Pi(T)-1)).toString(32)+v,d=":"+d+"R"+v,v=Ac++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=p$++,d=":"+d+"r"+v.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},w$={readContext:yi,useCallback:qT,useContext:yi,useEffect:Ly,useImperativeHandle:VT,useInsertionEffect:$T,useLayoutEffect:BT,useMemo:HT,useReducer:Ry,useRef:jT,useState:function(){return Ry(Dc)},useDebugValue:jy,useDeferredValue:function(u){var d=wi();return zT(d,Fn.memoizedState,u)},useTransition:function(){var u=Ry(Dc)[0],d=wi().memoizedState;return[u,d]},useMutableSource:OT,useSyncExternalStore:AT,useId:WT,unstable_isNewReconciler:!1},b$={readContext:yi,useCallback:qT,useContext:yi,useEffect:Ly,useImperativeHandle:VT,useInsertionEffect:$T,useLayoutEffect:BT,useMemo:HT,useReducer:My,useRef:jT,useState:function(){return My(Dc)},useDebugValue:jy,useDeferredValue:function(u){var d=wi();return Fn===null?d.memoizedState=u:zT(d,Fn.memoizedState,u)},useTransition:function(){var u=My(Dc)[0],d=wi().memoizedState;return[u,d]},useMutableSource:OT,useSyncExternalStore:AT,useId:WT,unstable_isNewReconciler:!1};function ql(u,d){try{var v="",T=d;do v+=X(T),T=T.return;while(T);var R=v}catch($){R=`
Error generating stack: `+$.message+`
`+$.stack}return{value:u,source:d,stack:R,digest:null}}function Fy(u,d,v){return{value:u,source:null,stack:v??null,digest:d??null}}function $y(u,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var x$=typeof WeakMap=="function"?WeakMap:Map;function QT(u,d,v){v=Ls(-1,v),v.tag=3,v.payload={element:null};var T=d.value;return v.callback=function(){Oh||(Oh=!0,e0=T),$y(u,d)},v}function XT(u,d,v){v=Ls(-1,v),v.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var R=d.value;v.payload=function(){return T(R)},v.callback=function(){$y(u,d)}}var $=u.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(v.callback=function(){$y(u,d),typeof T!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),v}function JT(u,d,v){var T=u.pingCache;if(T===null){T=u.pingCache=new x$;var R=new Set;T.set(d,R)}else R=T.get(d),R===void 0&&(R=new Set,T.set(d,R));R.has(v)||(R.add(v),u=M$.bind(null,u,d,v),d.then(u,u))}function ZT(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function eC(u,d,v,T,R){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=Ls(-1,1),d.tag=2,So(v,d,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=R,u)}var _$=_.ReactCurrentOwner,Hr=!1;function Nr(u,d,v,T){d.child=u===null?CT(d,null,v,T):Ul(d,u.child,v,T)}function tC(u,d,v,T,R){v=v.render;var $=d.ref;return Bl(d,R),T=Iy(u,d,v,T,$,R),v=Py(),u!==null&&!Hr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~R,js(u,d,R)):(un&&v&&hy(d),d.flags|=1,Nr(u,d,T,R),d.child)}function nC(u,d,v,T,R){if(u===null){var $=v.type;return typeof $=="function"&&!a0($)&&$.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=$,rC(u,d,$,T,R)):(u=Mh(v.type,null,T,d,d.mode,R),u.ref=d.ref,u.return=d,d.child=u)}if($=u.child,(u.lanes&R)===0){var G=$.memoizedProps;if(v=v.compare,v=v!==null?v:yc,v(G,T)&&u.ref===d.ref)return js(u,d,R)}return d.flags|=1,u=Oo($,T),u.ref=d.ref,u.return=d,d.child=u}function rC(u,d,v,T,R){if(u!==null){var $=u.memoizedProps;if(yc($,T)&&u.ref===d.ref)if(Hr=!1,d.pendingProps=T=$,(u.lanes&R)!==0)(u.flags&131072)!==0&&(Hr=!0);else return d.lanes=u.lanes,js(u,d,R)}return By(u,d,v,T,R)}function iC(u,d,v){var T=d.pendingProps,R=T.children,$=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(zl,si),si|=v;else{if((v&1073741824)===0)return u=$!==null?$.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Kt(zl,si),si|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:v,Kt(zl,si),si|=T}else $!==null?(T=$.baseLanes|v,d.memoizedState=null):T=v,Kt(zl,si),si|=T;return Nr(u,d,R,v),d.child}function sC(u,d){var v=d.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function By(u,d,v,T,R){var $=qr(v)?wa:cr.current;return $=Ml(d,$),Bl(d,R),v=Iy(u,d,v,T,$,R),T=Py(),u!==null&&!Hr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~R,js(u,d,R)):(un&&T&&hy(d),d.flags|=1,Nr(u,d,v,R),d.child)}function oC(u,d,v,T,R){if(qr(v)){var $=!0;oh(d)}else $=!1;if(Bl(d,R),d.stateNode===null)Eh(u,d),ST(d,v,T),ky(d,v,T,R),T=!0;else if(u===null){var G=d.stateNode,ee=d.memoizedProps;G.props=ee;var ne=G.context,de=v.contextType;typeof de=="object"&&de!==null?de=yi(de):(de=qr(v)?wa:cr.current,de=Ml(d,de));var ye=v.getDerivedStateFromProps,_e=typeof ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";_e||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==T||ne!==de)&&ET(d,G,T,de),_o=!1;var ve=d.memoizedState;G.state=ve,ph(d,T,G,R),ne=d.memoizedState,ee!==T||ve!==ne||Vr.current||_o?(typeof ye=="function"&&(Ey(d,v,ye,T),ne=d.memoizedState),(ee=_o||_T(d,v,ee,T,ve,ne,de))?(_e||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=ne),G.props=T,G.state=ne,G.context=de,T=ee):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{G=d.stateNode,yT(u,d),ee=d.memoizedProps,de=d.type===d.elementType?ee:Li(d.type,ee),G.props=de,_e=d.pendingProps,ve=G.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=yi(ne):(ne=qr(v)?wa:cr.current,ne=Ml(d,ne));var Pe=v.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==_e||ve!==ne)&&ET(d,G,T,ne),_o=!1,ve=d.memoizedState,G.state=ve,ph(d,T,G,R);var Ue=d.memoizedState;ee!==_e||ve!==Ue||Vr.current||_o?(typeof Pe=="function"&&(Ey(d,v,Pe,T),Ue=d.memoizedState),(de=_o||_T(d,v,de,T,ve,Ue,ne)||!1)?(ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(T,Ue,ne),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(T,Ue,ne)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ue),G.props=T,G.state=Ue,G.context=ne,T=de):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),T=!1)}return Uy(u,d,v,T,$,R)}function Uy(u,d,v,T,R,$){sC(u,d);var G=(d.flags&128)!==0;if(!T&&!G)return R&&cT(d,v,!1),js(u,d,$);T=d.stateNode,_$.current=d;var ee=G&&typeof v.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,u!==null&&G?(d.child=Ul(d,u.child,null,$),d.child=Ul(d,null,ee,$)):Nr(u,d,ee,$),d.memoizedState=T.state,R&&cT(d,v,!0),d.child}function aC(u){var d=u.stateNode;d.pendingContext?lT(u,d.pendingContext,d.pendingContext!==d.context):d.context&&lT(u,d.context,!1),Ty(u,d.containerInfo)}function lC(u,d,v,T,R){return Fl(),vy(R),d.flags|=256,Nr(u,d,v,T),d.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function qy(u){return{baseLanes:u,cachePool:null,transitions:null}}function uC(u,d,v){var T=d.pendingProps,R=fn.current,$=!1,G=(d.flags&128)!==0,ee;if((ee=G)||(ee=u!==null&&u.memoizedState===null?!1:(R&2)!==0),ee?($=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(R|=1),Kt(fn,R&1),u===null)return gy(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=T.children,u=T.fallback,$?(T=d.mode,$=d.child,G={mode:"hidden",children:G},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=Lh(G,T,0,null),u=Oa(u,T,v,null),$.return=d,u.return=d,$.sibling=u,d.child=$,d.child.memoizedState=qy(v),d.memoizedState=Vy,u):Hy(d,G));if(R=u.memoizedState,R!==null&&(ee=R.dehydrated,ee!==null))return S$(u,d,G,T,ee,R,v);if($){$=T.fallback,G=d.mode,R=u.child,ee=R.sibling;var ne={mode:"hidden",children:T.children};return(G&1)===0&&d.child!==R?(T=d.child,T.childLanes=0,T.pendingProps=ne,d.deletions=null):(T=Oo(R,ne),T.subtreeFlags=R.subtreeFlags&14680064),ee!==null?$=Oo(ee,$):($=Oa($,G,v,null),$.flags|=2),$.return=d,T.return=d,T.sibling=$,d.child=T,T=$,$=d.child,G=u.child.memoizedState,G=G===null?qy(v):{baseLanes:G.baseLanes|v,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=u.childLanes&~v,d.memoizedState=Vy,T}return $=u.child,u=$.sibling,T=Oo($,{mode:"visible",children:T.children}),(d.mode&1)===0&&(T.lanes=v),T.return=d,T.sibling=null,u!==null&&(v=d.deletions,v===null?(d.deletions=[u],d.flags|=16):v.push(u)),d.child=T,d.memoizedState=null,T}function Hy(u,d){return d=Lh({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Sh(u,d,v,T){return T!==null&&vy(T),Ul(d,u.child,null,v),u=Hy(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function S$(u,d,v,T,R,$,G){if(v)return d.flags&256?(d.flags&=-257,T=Fy(Error(n(422))),Sh(u,d,G,T)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):($=T.fallback,R=d.mode,T=Lh({mode:"visible",children:T.children},R,0,null),$=Oa($,R,G,null),$.flags|=2,T.return=d,$.return=d,T.sibling=$,d.child=T,(d.mode&1)!==0&&Ul(d,u.child,null,G),d.child.memoizedState=qy(G),d.memoizedState=Vy,$);if((d.mode&1)===0)return Sh(u,d,G,null);if(R.data==="$!"){if(T=R.nextSibling&&R.nextSibling.dataset,T)var ee=T.dgst;return T=ee,$=Error(n(419)),T=Fy($,T,void 0),Sh(u,d,G,T)}if(ee=(G&u.childLanes)!==0,Hr||ee){if(T=Hn,T!==null){switch(G&-G){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(T.suspendedLanes|G))!==0?0:R,R!==0&&R!==$.retryLane&&($.retryLane=R,Ms(u,R),$i(T,u,R,-1))}return o0(),T=Fy(Error(n(421))),Sh(u,d,G,T)}return R.data==="$?"?(d.flags|=128,d.child=u.child,d=L$.bind(null,u),R._reactRetry=d,null):(u=$.treeContext,ii=yo(R.nextSibling),ri=d,un=!0,Mi=null,u!==null&&(gi[vi++]=Ps,gi[vi++]=Rs,gi[vi++]=ba,Ps=u.id,Rs=u.overflow,ba=d),d=Hy(d,T.children),d.flags|=4096,d)}function cC(u,d,v){u.lanes|=d;var T=u.alternate;T!==null&&(T.lanes|=d),xy(u.return,d,v)}function zy(u,d,v,T,R){var $=u.memoizedState;$===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:v,tailMode:R}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=v,$.tailMode=R)}function dC(u,d,v){var T=d.pendingProps,R=T.revealOrder,$=T.tail;if(Nr(u,d,T.children,v),T=fn.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&cC(u,v,d);else if(u.tag===19)cC(u,v,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(Kt(fn,T),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(v=d.child,R=null;v!==null;)u=v.alternate,u!==null&&vh(u)===null&&(R=v),v=v.sibling;v=R,v===null?(R=d.child,d.child=null):(R=v.sibling,v.sibling=null),zy(d,!1,R,v,$);break;case"backwards":for(v=null,R=d.child,d.child=null;R!==null;){if(u=R.alternate,u!==null&&vh(u)===null){d.child=R;break}u=R.sibling,R.sibling=v,v=R,R=u}zy(d,!0,v,null,$);break;case"together":zy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Eh(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function js(u,d,v){if(u!==null&&(d.dependencies=u.dependencies),ka|=d.lanes,(v&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,v=Oo(u,u.pendingProps),d.child=v,v.return=d;u.sibling!==null;)u=u.sibling,v=v.sibling=Oo(u,u.pendingProps),v.return=d;v.sibling=null}return d.child}function E$(u,d,v){switch(d.tag){case 3:aC(d),Fl();break;case 5:NT(d);break;case 1:qr(d.type)&&oh(d);break;case 4:Ty(d,d.stateNode.containerInfo);break;case 10:var T=d.type._context,R=d.memoizedProps.value;Kt(dh,T._currentValue),T._currentValue=R;break;case 13:if(T=d.memoizedState,T!==null)return T.dehydrated!==null?(Kt(fn,fn.current&1),d.flags|=128,null):(v&d.child.childLanes)!==0?uC(u,d,v):(Kt(fn,fn.current&1),u=js(u,d,v),u!==null?u.sibling:null);Kt(fn,fn.current&1);break;case 19:if(T=(v&d.childLanes)!==0,(u.flags&128)!==0){if(T)return dC(u,d,v);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Kt(fn,fn.current),T)break;return null;case 22:case 23:return d.lanes=0,iC(u,d,v)}return js(u,d,v)}var fC,Wy,hC,pC;fC=function(u,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Wy=function(){},hC=function(u,d,v,T){var R=u.memoizedProps;if(R!==T){u=d.stateNode,Sa(ts.current);var $=null;switch(v){case"input":R=Fe(u,R),T=Fe(u,T),$=[];break;case"select":R=j({},R,{value:void 0}),T=j({},T,{value:void 0}),$=[];break;case"textarea":R=he(u,R),T=he(u,T),$=[];break;default:typeof R.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=rh)}ie(v,T);var G;v=null;for(de in R)if(!T.hasOwnProperty(de)&&R.hasOwnProperty(de)&&R[de]!=null)if(de==="style"){var ee=R[de];for(G in ee)ee.hasOwnProperty(G)&&(v||(v={}),v[G]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?$||($=[]):($=$||[]).push(de,null));for(de in T){var ne=T[de];if(ee=R!=null?R[de]:void 0,T.hasOwnProperty(de)&&ne!==ee&&(ne!=null||ee!=null))if(de==="style")if(ee){for(G in ee)!ee.hasOwnProperty(G)||ne&&ne.hasOwnProperty(G)||(v||(v={}),v[G]="");for(G in ne)ne.hasOwnProperty(G)&&ee[G]!==ne[G]&&(v||(v={}),v[G]=ne[G])}else v||($||($=[]),$.push(de,v)),v=ne;else de==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&($=$||[]).push(de,ne)):de==="children"?typeof ne!="string"&&typeof ne!="number"||($=$||[]).push(de,""+ne):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(ne!=null&&de==="onScroll"&&Zt("scroll",u),$||ee===ne||($=[])):($=$||[]).push(de,ne))}v&&($=$||[]).push("style",v);var de=$;(d.updateQueue=de)&&(d.flags|=4)}},pC=function(u,d,v,T){v!==T&&(d.flags|=4)};function Pc(u,d){if(!un)switch(u.tailMode){case"hidden":d=u.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function fr(u){var d=u.alternate!==null&&u.alternate.child===u.child,v=0,T=0;if(d)for(var R=u.child;R!==null;)v|=R.lanes|R.childLanes,T|=R.subtreeFlags&14680064,T|=R.flags&14680064,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)v|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=T,u.childLanes=v,d}function k$(u,d,v){var T=d.pendingProps;switch(py(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(d),null;case 1:return qr(d.type)&&sh(),fr(d),null;case 3:return T=d.stateNode,Vl(),en(Vr),en(cr),Oy(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(ch(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Mi!==null&&(r0(Mi),Mi=null))),Wy(u,d),fr(d),null;case 5:Cy(d);var R=Sa(Nc.current);if(v=d.type,u!==null&&d.stateNode!=null)hC(u,d,v,T,R),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(n(166));return fr(d),null}if(u=Sa(ts.current),ch(d)){T=d.stateNode,v=d.type;var $=d.memoizedProps;switch(T[es]=d,T[Sc]=$,u=(d.mode&1)!==0,v){case"dialog":Zt("cancel",T),Zt("close",T);break;case"iframe":case"object":case"embed":Zt("load",T);break;case"video":case"audio":for(R=0;R<bc.length;R++)Zt(bc[R],T);break;case"source":Zt("error",T);break;case"img":case"image":case"link":Zt("error",T),Zt("load",T);break;case"details":Zt("toggle",T);break;case"input":De(T,$),Zt("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Zt("invalid",T);break;case"textarea":$e(T,$),Zt("invalid",T)}ie(v,$),R=null;for(var G in $)if($.hasOwnProperty(G)){var ee=$[G];G==="children"?typeof ee=="string"?T.textContent!==ee&&($.suppressHydrationWarning!==!0&&nh(T.textContent,ee,u),R=["children",ee]):typeof ee=="number"&&T.textContent!==""+ee&&($.suppressHydrationWarning!==!0&&nh(T.textContent,ee,u),R=["children",""+ee]):i.hasOwnProperty(G)&&ee!=null&&G==="onScroll"&&Zt("scroll",T)}switch(v){case"input":pe(T),ce(T,$,!0);break;case"textarea":pe(T),Ye(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=rh)}T=R,d.updateQueue=T,T!==null&&(d.flags|=4)}else{G=R.nodeType===9?R:R.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Gt(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=G.createElement(v,{is:T.is}):(u=G.createElement(v),v==="select"&&(G=u,T.multiple?G.multiple=!0:T.size&&(G.size=T.size))):u=G.createElementNS(u,v),u[es]=d,u[Sc]=T,fC(u,d,!1,!1),d.stateNode=u;e:{switch(G=be(v,T),v){case"dialog":Zt("cancel",u),Zt("close",u),R=T;break;case"iframe":case"object":case"embed":Zt("load",u),R=T;break;case"video":case"audio":for(R=0;R<bc.length;R++)Zt(bc[R],u);R=T;break;case"source":Zt("error",u),R=T;break;case"img":case"image":case"link":Zt("error",u),Zt("load",u),R=T;break;case"details":Zt("toggle",u),R=T;break;case"input":De(u,T),R=Fe(u,T),Zt("invalid",u);break;case"option":R=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},R=j({},T,{value:void 0}),Zt("invalid",u);break;case"textarea":$e(u,T),R=he(u,T),Zt("invalid",u);break;default:R=T}ie(v,R),ee=R;for($ in ee)if(ee.hasOwnProperty($)){var ne=ee[$];$==="style"?Cr(u,ne):$==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&$r(u,ne)):$==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&ut(u,ne):typeof ne=="number"&&ut(u,""+ne):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ne!=null&&$==="onScroll"&&Zt("scroll",u):ne!=null&&S(u,$,ne,G))}switch(v){case"input":pe(u),ce(u,T,!1);break;case"textarea":pe(u),Ye(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Z(T.value));break;case"select":u.multiple=!!T.multiple,$=T.value,$!=null?xe(u,!!T.multiple,$,!1):T.defaultValue!=null&&xe(u,!!T.multiple,T.defaultValue,!0);break;default:typeof R.onClick=="function"&&(u.onclick=rh)}switch(v){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return fr(d),null;case 6:if(u&&d.stateNode!=null)pC(u,d,u.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(n(166));if(v=Sa(Nc.current),Sa(ts.current),ch(d)){if(T=d.stateNode,v=d.memoizedProps,T[es]=d,($=T.nodeValue!==v)&&(u=ri,u!==null))switch(u.tag){case 3:nh(T.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&nh(T.nodeValue,v,(u.mode&1)!==0)}$&&(d.flags|=4)}else T=(v.nodeType===9?v:v.ownerDocument).createTextNode(T),T[es]=d,d.stateNode=T}return fr(d),null;case 13:if(en(fn),T=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(un&&ii!==null&&(d.mode&1)!==0&&(d.flags&128)===0)gT(),Fl(),d.flags|=98560,$=!1;else if($=ch(d),T!==null&&T.dehydrated!==null){if(u===null){if(!$)throw Error(n(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[es]=d}else Fl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;fr(d),$=!1}else Mi!==null&&(r0(Mi),Mi=null),$=!0;if(!$)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=v,d):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(fn.current&1)!==0?$n===0&&($n=3):o0())),d.updateQueue!==null&&(d.flags|=4),fr(d),null);case 4:return Vl(),Wy(u,d),u===null&&xc(d.stateNode.containerInfo),fr(d),null;case 10:return by(d.type._context),fr(d),null;case 17:return qr(d.type)&&sh(),fr(d),null;case 19:if(en(fn),$=d.memoizedState,$===null)return fr(d),null;if(T=(d.flags&128)!==0,G=$.rendering,G===null)if(T)Pc($,!1);else{if($n!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(G=vh(u),G!==null){for(d.flags|=128,Pc($,!1),T=G.updateQueue,T!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=v,v=d.child;v!==null;)$=v,u=T,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=u,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,u=G.dependencies,$.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Kt(fn,fn.current&1|2),d.child}u=u.sibling}$.tail!==null&&En()>Wl&&(d.flags|=128,T=!0,Pc($,!1),d.lanes=4194304)}else{if(!T)if(u=vh(G),u!==null){if(d.flags|=128,T=!0,v=u.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),Pc($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!un)return fr(d),null}else 2*En()-$.renderingStartTime>Wl&&v!==1073741824&&(d.flags|=128,T=!0,Pc($,!1),d.lanes=4194304);$.isBackwards?(G.sibling=d.child,d.child=G):(v=$.last,v!==null?v.sibling=G:d.child=G,$.last=G)}return $.tail!==null?(d=$.tail,$.rendering=d,$.tail=d.sibling,$.renderingStartTime=En(),d.sibling=null,v=fn.current,Kt(fn,T?v&1|2:v&1),d):(fr(d),null);case 22:case 23:return s0(),T=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(d.flags|=8192),T&&(d.mode&1)!==0?(si&1073741824)!==0&&(fr(d),d.subtreeFlags&6&&(d.flags|=8192)):fr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function T$(u,d){switch(py(d),d.tag){case 1:return qr(d.type)&&sh(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Vl(),en(Vr),en(cr),Oy(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return Cy(d),null;case 13:if(en(fn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Fl()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return en(fn),null;case 4:return Vl(),null;case 10:return by(d.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var kh=!1,hr=!1,C$=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Hl(u,d){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(T){yn(u,d,T)}else v.current=null}function Yy(u,d,v){try{v()}catch(T){yn(u,d,T)}}var mC=!1;function N$(u,d){if(sy=zf,u=Wk(),Xv(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var T=v.getSelection&&v.getSelection();if(T&&T.rangeCount!==0){v=T.anchorNode;var R=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{v.nodeType,$.nodeType}catch{v=null;break e}var G=0,ee=-1,ne=-1,de=0,ye=0,_e=u,ve=null;t:for(;;){for(var Pe;_e!==v||R!==0&&_e.nodeType!==3||(ee=G+R),_e!==$||T!==0&&_e.nodeType!==3||(ne=G+T),_e.nodeType===3&&(G+=_e.nodeValue.length),(Pe=_e.firstChild)!==null;)ve=_e,_e=Pe;for(;;){if(_e===u)break t;if(ve===v&&++de===R&&(ee=G),ve===$&&++ye===T&&(ne=G),(Pe=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Pe}v=ee===-1||ne===-1?null:{start:ee,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(oy={focusedElem:u,selectionRange:v},zf=!1,Le=d;Le!==null;)if(d=Le,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,Le=u;else for(;Le!==null;){d=Le;try{var Ue=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var qe=Ue.memoizedProps,kn=Ue.memoizedState,ae=d.stateNode,re=ae.getSnapshotBeforeUpdate(d.elementType===d.type?qe:Li(d.type,qe),kn);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ee){yn(d,d.return,Ee)}if(u=d.sibling,u!==null){u.return=d.return,Le=u;break}Le=d.return}return Ue=mC,mC=!1,Ue}function Rc(u,d,v){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var R=T=T.next;do{if((R.tag&u)===u){var $=R.destroy;R.destroy=void 0,$!==void 0&&Yy(d,v,$)}R=R.next}while(R!==T)}}function Th(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&u)===u){var T=v.create;v.destroy=T()}v=v.next}while(v!==d)}}function Gy(u){var d=u.ref;if(d!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof d=="function"?d(u):d.current=u}}function gC(u){var d=u.alternate;d!==null&&(u.alternate=null,gC(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[es],delete d[Sc],delete d[cy],delete d[c$],delete d[d$])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function vC(u){return u.tag===5||u.tag===3||u.tag===4}function yC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||vC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Ky(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.nodeType===8?v.parentNode.insertBefore(u,d):v.insertBefore(u,d):(v.nodeType===8?(d=v.parentNode,d.insertBefore(u,v)):(d=v,d.appendChild(u)),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=rh));else if(T!==4&&(u=u.child,u!==null))for(Ky(u,d,v),u=u.sibling;u!==null;)Ky(u,d,v),u=u.sibling}function Qy(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.insertBefore(u,d):v.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(Qy(u,d,v),u=u.sibling;u!==null;)Qy(u,d,v),u=u.sibling}var Jn=null,ji=!1;function Eo(u,d,v){for(v=v.child;v!==null;)wC(u,d,v),v=v.sibling}function wC(u,d,v){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount($f,v)}catch{}switch(v.tag){case 5:hr||Hl(v,d);case 6:var T=Jn,R=ji;Jn=null,Eo(u,d,v),Jn=T,ji=R,Jn!==null&&(ji?(u=Jn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):Jn.removeChild(v.stateNode));break;case 18:Jn!==null&&(ji?(u=Jn,v=v.stateNode,u.nodeType===8?uy(u.parentNode,v):u.nodeType===1&&uy(u,v),fc(u)):uy(Jn,v.stateNode));break;case 4:T=Jn,R=ji,Jn=v.stateNode.containerInfo,ji=!0,Eo(u,d,v),Jn=T,ji=R;break;case 0:case 11:case 14:case 15:if(!hr&&(T=v.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){R=T=T.next;do{var $=R,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&Yy(v,d,G),R=R.next}while(R!==T)}Eo(u,d,v);break;case 1:if(!hr&&(Hl(v,d),T=v.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=v.memoizedProps,T.state=v.memoizedState,T.componentWillUnmount()}catch(ee){yn(v,d,ee)}Eo(u,d,v);break;case 21:Eo(u,d,v);break;case 22:v.mode&1?(hr=(T=hr)||v.memoizedState!==null,Eo(u,d,v),hr=T):Eo(u,d,v);break;default:Eo(u,d,v)}}function bC(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new C$),d.forEach(function(T){var R=j$.bind(null,u,T);v.has(T)||(v.add(T),T.then(R,R))})}}function Fi(u,d){var v=d.deletions;if(v!==null)for(var T=0;T<v.length;T++){var R=v[T];try{var $=u,G=d,ee=G;e:for(;ee!==null;){switch(ee.tag){case 5:Jn=ee.stateNode,ji=!1;break e;case 3:Jn=ee.stateNode.containerInfo,ji=!0;break e;case 4:Jn=ee.stateNode.containerInfo,ji=!0;break e}ee=ee.return}if(Jn===null)throw Error(n(160));wC($,G,R),Jn=null,ji=!1;var ne=R.alternate;ne!==null&&(ne.return=null),R.return=null}catch(de){yn(R,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)xC(d,u),d=d.sibling}function xC(u,d){var v=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Fi(d,u),rs(u),T&4){try{Rc(3,u,u.return),Th(3,u)}catch(qe){yn(u,u.return,qe)}try{Rc(5,u,u.return)}catch(qe){yn(u,u.return,qe)}}break;case 1:Fi(d,u),rs(u),T&512&&v!==null&&Hl(v,v.return);break;case 5:if(Fi(d,u),rs(u),T&512&&v!==null&&Hl(v,v.return),u.flags&32){var R=u.stateNode;try{ut(R,"")}catch(qe){yn(u,u.return,qe)}}if(T&4&&(R=u.stateNode,R!=null)){var $=u.memoizedProps,G=v!==null?v.memoizedProps:$,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&$.type==="radio"&&$.name!=null&&nt(R,$),be(ee,G);var de=be(ee,$);for(G=0;G<ne.length;G+=2){var ye=ne[G],_e=ne[G+1];ye==="style"?Cr(R,_e):ye==="dangerouslySetInnerHTML"?$r(R,_e):ye==="children"?ut(R,_e):S(R,ye,_e,de)}switch(ee){case"input":Qe(R,$);break;case"textarea":Ie(R,$);break;case"select":var ve=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!$.multiple;var Pe=$.value;Pe!=null?xe(R,!!$.multiple,Pe,!1):ve!==!!$.multiple&&($.defaultValue!=null?xe(R,!!$.multiple,$.defaultValue,!0):xe(R,!!$.multiple,$.multiple?[]:"",!1))}R[Sc]=$}catch(qe){yn(u,u.return,qe)}}break;case 6:if(Fi(d,u),rs(u),T&4){if(u.stateNode===null)throw Error(n(162));R=u.stateNode,$=u.memoizedProps;try{R.nodeValue=$}catch(qe){yn(u,u.return,qe)}}break;case 3:if(Fi(d,u),rs(u),T&4&&v!==null&&v.memoizedState.isDehydrated)try{fc(d.containerInfo)}catch(qe){yn(u,u.return,qe)}break;case 4:Fi(d,u),rs(u);break;case 13:Fi(d,u),rs(u),R=u.child,R.flags&8192&&($=R.memoizedState!==null,R.stateNode.isHidden=$,!$||R.alternate!==null&&R.alternate.memoizedState!==null||(Zy=En())),T&4&&bC(u);break;case 22:if(ye=v!==null&&v.memoizedState!==null,u.mode&1?(hr=(de=hr)||ye,Fi(d,u),hr=de):Fi(d,u),rs(u),T&8192){if(de=u.memoizedState!==null,(u.stateNode.isHidden=de)&&!ye&&(u.mode&1)!==0)for(Le=u,ye=u.child;ye!==null;){for(_e=Le=ye;Le!==null;){switch(ve=Le,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Rc(4,ve,ve.return);break;case 1:Hl(ve,ve.return);var Ue=ve.stateNode;if(typeof Ue.componentWillUnmount=="function"){T=ve,v=ve.return;try{d=T,Ue.props=d.memoizedProps,Ue.state=d.memoizedState,Ue.componentWillUnmount()}catch(qe){yn(T,v,qe)}}break;case 5:Hl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){EC(_e);continue}}Pe!==null?(Pe.return=ve,Le=Pe):EC(_e)}ye=ye.sibling}e:for(ye=null,_e=u;;){if(_e.tag===5){if(ye===null){ye=_e;try{R=_e.stateNode,de?($=R.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ee=_e.stateNode,ne=_e.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=Br("display",G))}catch(qe){yn(u,u.return,qe)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(qe){yn(u,u.return,qe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Fi(d,u),rs(u),T&4&&bC(u);break;case 21:break;default:Fi(d,u),rs(u)}}function rs(u){var d=u.flags;if(d&2){try{e:{for(var v=u.return;v!==null;){if(vC(v)){var T=v;break e}v=v.return}throw Error(n(160))}switch(T.tag){case 5:var R=T.stateNode;T.flags&32&&(ut(R,""),T.flags&=-33);var $=yC(u);Qy(u,$,R);break;case 3:case 4:var G=T.stateNode.containerInfo,ee=yC(u);Ky(u,ee,G);break;default:throw Error(n(161))}}catch(ne){yn(u,u.return,ne)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function O$(u,d,v){Le=u,_C(u)}function _C(u,d,v){for(var T=(u.mode&1)!==0;Le!==null;){var R=Le,$=R.child;if(R.tag===22&&T){var G=R.memoizedState!==null||kh;if(!G){var ee=R.alternate,ne=ee!==null&&ee.memoizedState!==null||hr;ee=kh;var de=hr;if(kh=G,(hr=ne)&&!de)for(Le=R;Le!==null;)G=Le,ne=G.child,G.tag===22&&G.memoizedState!==null?kC(R):ne!==null?(ne.return=G,Le=ne):kC(R);for(;$!==null;)Le=$,_C($),$=$.sibling;Le=R,kh=ee,hr=de}SC(u)}else(R.subtreeFlags&8772)!==0&&$!==null?($.return=R,Le=$):SC(u)}}function SC(u){for(;Le!==null;){var d=Le;if((d.flags&8772)!==0){var v=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:hr||Th(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!hr)if(v===null)T.componentDidMount();else{var R=d.elementType===d.type?v.memoizedProps:Li(d.type,v.memoizedProps);T.componentDidUpdate(R,v.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=d.updateQueue;$!==null&&bT(d,$,T);break;case 3:var G=d.updateQueue;if(G!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=d.child.stateNode;break;case 1:v=d.child.stateNode}bT(d,G,v)}break;case 5:var ee=d.stateNode;if(v===null&&d.flags&4){v=ee;var ne=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&fc(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hr||d.flags&512&&Gy(d)}catch(ve){yn(d,d.return,ve)}}if(d===u){Le=null;break}if(v=d.sibling,v!==null){v.return=d.return,Le=v;break}Le=d.return}}function EC(u){for(;Le!==null;){var d=Le;if(d===u){Le=null;break}var v=d.sibling;if(v!==null){v.return=d.return,Le=v;break}Le=d.return}}function kC(u){for(;Le!==null;){var d=Le;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{Th(4,d)}catch(ne){yn(d,v,ne)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var R=d.return;try{T.componentDidMount()}catch(ne){yn(d,R,ne)}}var $=d.return;try{Gy(d)}catch(ne){yn(d,$,ne)}break;case 5:var G=d.return;try{Gy(d)}catch(ne){yn(d,G,ne)}}}catch(ne){yn(d,d.return,ne)}if(d===u){Le=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,Le=ee;break}Le=d.return}}var A$=Math.ceil,Ch=_.ReactCurrentDispatcher,Xy=_.ReactCurrentOwner,bi=_.ReactCurrentBatchConfig,Et=0,Hn=null,Dn=null,Zn=0,si=0,zl=wo(0),$n=0,Mc=null,ka=0,Nh=0,Jy=0,Lc=null,zr=null,Zy=0,Wl=1/0,Fs=null,Oh=!1,e0=null,ko=null,Ah=!1,To=null,Dh=0,jc=0,t0=null,Ih=-1,Ph=0;function Or(){return(Et&6)!==0?En():Ih!==-1?Ih:Ih=En()}function Co(u){return(u.mode&1)===0?1:(Et&2)!==0&&Zn!==0?Zn&-Zn:h$.transition!==null?(Ph===0&&(Ph=vk()),Ph):(u=jt,u!==0||(u=window.event,u=u===void 0?16:Tk(u.type)),u)}function $i(u,d,v,T){if(50<jc)throw jc=0,t0=null,Error(n(185));ac(u,v,T),((Et&2)===0||u!==Hn)&&(u===Hn&&((Et&2)===0&&(Nh|=v),$n===4&&No(u,Zn)),Wr(u,T),v===1&&Et===0&&(d.mode&1)===0&&(Wl=En()+500,ah&&xo()))}function Wr(u,d){var v=u.callbackNode;h6(u,d);var T=Vf(u,u===Hn?Zn:0);if(T===0)v!==null&&pk(v),u.callbackNode=null,u.callbackPriority=0;else if(d=T&-T,u.callbackPriority!==d){if(v!=null&&pk(v),d===1)u.tag===0?f$(CC.bind(null,u)):dT(CC.bind(null,u)),l$(function(){(Et&6)===0&&xo()}),v=null;else{switch(yk(T)){case 1:v=Rv;break;case 4:v=mk;break;case 16:v=Ff;break;case 536870912:v=gk;break;default:v=Ff}v=MC(v,TC.bind(null,u))}u.callbackPriority=d,u.callbackNode=v}}function TC(u,d){if(Ih=-1,Ph=0,(Et&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Yl()&&u.callbackNode!==v)return null;var T=Vf(u,u===Hn?Zn:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||d)d=Rh(u,T);else{d=T;var R=Et;Et|=2;var $=OC();(Hn!==u||Zn!==d)&&(Fs=null,Wl=En()+500,Ca(u,d));do try{P$();break}catch(ee){NC(u,ee)}while(!0);wy(),Ch.current=$,Et=R,Dn!==null?d=0:(Hn=null,Zn=0,d=$n)}if(d!==0){if(d===2&&(R=Mv(u),R!==0&&(T=R,d=n0(u,R))),d===1)throw v=Mc,Ca(u,0),No(u,T),Wr(u,En()),v;if(d===6)No(u,T);else{if(R=u.current.alternate,(T&30)===0&&!D$(R)&&(d=Rh(u,T),d===2&&($=Mv(u),$!==0&&(T=$,d=n0(u,$))),d===1))throw v=Mc,Ca(u,0),No(u,T),Wr(u,En()),v;switch(u.finishedWork=R,u.finishedLanes=T,d){case 0:case 1:throw Error(n(345));case 2:Na(u,zr,Fs);break;case 3:if(No(u,T),(T&130023424)===T&&(d=Zy+500-En(),10<d)){if(Vf(u,0)!==0)break;if(R=u.suspendedLanes,(R&T)!==T){Or(),u.pingedLanes|=u.suspendedLanes&R;break}u.timeoutHandle=ly(Na.bind(null,u,zr,Fs),d);break}Na(u,zr,Fs);break;case 4:if(No(u,T),(T&4194240)===T)break;for(d=u.eventTimes,R=-1;0<T;){var G=31-Pi(T);$=1<<G,G=d[G],G>R&&(R=G),T&=~$}if(T=R,T=En()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*A$(T/1960))-T,10<T){u.timeoutHandle=ly(Na.bind(null,u,zr,Fs),T);break}Na(u,zr,Fs);break;case 5:Na(u,zr,Fs);break;default:throw Error(n(329))}}}return Wr(u,En()),u.callbackNode===v?TC.bind(null,u):null}function n0(u,d){var v=Lc;return u.current.memoizedState.isDehydrated&&(Ca(u,d).flags|=256),u=Rh(u,d),u!==2&&(d=zr,zr=v,d!==null&&r0(d)),u}function r0(u){zr===null?zr=u:zr.push.apply(zr,u)}function D$(u){for(var d=u;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var T=0;T<v.length;T++){var R=v[T],$=R.getSnapshot;R=R.value;try{if(!Ri($(),R))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function No(u,d){for(d&=~Jy,d&=~Nh,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var v=31-Pi(d),T=1<<v;u[v]=-1,d&=~T}}function CC(u){if((Et&6)!==0)throw Error(n(327));Yl();var d=Vf(u,0);if((d&1)===0)return Wr(u,En()),null;var v=Rh(u,d);if(u.tag!==0&&v===2){var T=Mv(u);T!==0&&(d=T,v=n0(u,T))}if(v===1)throw v=Mc,Ca(u,0),No(u,d),Wr(u,En()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Na(u,zr,Fs),Wr(u,En()),null}function i0(u,d){var v=Et;Et|=1;try{return u(d)}finally{Et=v,Et===0&&(Wl=En()+500,ah&&xo())}}function Ta(u){To!==null&&To.tag===0&&(Et&6)===0&&Yl();var d=Et;Et|=1;var v=bi.transition,T=jt;try{if(bi.transition=null,jt=1,u)return u()}finally{jt=T,bi.transition=v,Et=d,(Et&6)===0&&xo()}}function s0(){si=zl.current,en(zl)}function Ca(u,d){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,a$(v)),Dn!==null)for(v=Dn.return;v!==null;){var T=v;switch(py(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&sh();break;case 3:Vl(),en(Vr),en(cr),Oy();break;case 5:Cy(T);break;case 4:Vl();break;case 13:en(fn);break;case 19:en(fn);break;case 10:by(T.type._context);break;case 22:case 23:s0()}v=v.return}if(Hn=u,Dn=u=Oo(u.current,null),Zn=si=d,$n=0,Mc=null,Jy=Nh=ka=0,zr=Lc=null,_a!==null){for(d=0;d<_a.length;d++)if(v=_a[d],T=v.interleaved,T!==null){v.interleaved=null;var R=T.next,$=v.pending;if($!==null){var G=$.next;$.next=R,T.next=G}v.pending=T}_a=null}return u}function NC(u,d){do{var v=Dn;try{if(wy(),yh.current=_h,wh){for(var T=hn.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}wh=!1}if(Ea=0,qn=Fn=hn=null,Oc=!1,Ac=0,Xy.current=null,v===null||v.return===null){$n=1,Mc=d,Dn=null;break}e:{var $=u,G=v.return,ee=v,ne=d;if(d=Zn,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var de=ne,ye=ee,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=ZT(G);if(Pe!==null){Pe.flags&=-257,eC(Pe,G,ee,$,d),Pe.mode&1&&JT($,de,d),d=Pe,ne=de;var Ue=d.updateQueue;if(Ue===null){var qe=new Set;qe.add(ne),d.updateQueue=qe}else Ue.add(ne);break e}else{if((d&1)===0){JT($,de,d),o0();break e}ne=Error(n(426))}}else if(un&&ee.mode&1){var kn=ZT(G);if(kn!==null){(kn.flags&65536)===0&&(kn.flags|=256),eC(kn,G,ee,$,d),vy(ql(ne,ee));break e}}$=ne=ql(ne,ee),$n!==4&&($n=2),Lc===null?Lc=[$]:Lc.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var ae=QT($,ne,d);wT($,ae);break e;case 1:ee=ne;var re=$.type,ue=$.stateNode;if(($.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(ko===null||!ko.has(ue)))){$.flags|=65536,d&=-d,$.lanes|=d;var Ee=XT($,ee,d);wT($,Ee);break e}}$=$.return}while($!==null)}DC(v)}catch(ze){d=ze,Dn===v&&v!==null&&(Dn=v=v.return);continue}break}while(!0)}function OC(){var u=Ch.current;return Ch.current=_h,u===null?_h:u}function o0(){($n===0||$n===3||$n===2)&&($n=4),Hn===null||(ka&268435455)===0&&(Nh&268435455)===0||No(Hn,Zn)}function Rh(u,d){var v=Et;Et|=2;var T=OC();(Hn!==u||Zn!==d)&&(Fs=null,Ca(u,d));do try{I$();break}catch(R){NC(u,R)}while(!0);if(wy(),Et=v,Ch.current=T,Dn!==null)throw Error(n(261));return Hn=null,Zn=0,$n}function I$(){for(;Dn!==null;)AC(Dn)}function P$(){for(;Dn!==null&&!i6();)AC(Dn)}function AC(u){var d=RC(u.alternate,u,si);u.memoizedProps=u.pendingProps,d===null?DC(u):Dn=d,Xy.current=null}function DC(u){var d=u;do{var v=d.alternate;if(u=d.return,(d.flags&32768)===0){if(v=k$(v,d,si),v!==null){Dn=v;return}}else{if(v=T$(v,d),v!==null){v.flags&=32767,Dn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{$n=6,Dn=null;return}}if(d=d.sibling,d!==null){Dn=d;return}Dn=d=u}while(d!==null);$n===0&&($n=5)}function Na(u,d,v){var T=jt,R=bi.transition;try{bi.transition=null,jt=1,R$(u,d,v,T)}finally{bi.transition=R,jt=T}return null}function R$(u,d,v,T){do Yl();while(To!==null);if((Et&6)!==0)throw Error(n(327));v=u.finishedWork;var R=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var $=v.lanes|v.childLanes;if(p6(u,$),u===Hn&&(Dn=Hn=null,Zn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Ah||(Ah=!0,MC(Ff,function(){return Yl(),null})),$=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||$){$=bi.transition,bi.transition=null;var G=jt;jt=1;var ee=Et;Et|=4,Xy.current=null,N$(u,v),xC(v,u),e$(oy),zf=!!sy,oy=sy=null,u.current=v,O$(v),s6(),Et=ee,jt=G,bi.transition=$}else u.current=v;if(Ah&&(Ah=!1,To=u,Dh=R),$=u.pendingLanes,$===0&&(ko=null),l6(v.stateNode),Wr(u,En()),d!==null)for(T=u.onRecoverableError,v=0;v<d.length;v++)R=d[v],T(R.value,{componentStack:R.stack,digest:R.digest});if(Oh)throw Oh=!1,u=e0,e0=null,u;return(Dh&1)!==0&&u.tag!==0&&Yl(),$=u.pendingLanes,($&1)!==0?u===t0?jc++:(jc=0,t0=u):jc=0,xo(),null}function Yl(){if(To!==null){var u=yk(Dh),d=bi.transition,v=jt;try{if(bi.transition=null,jt=16>u?16:u,To===null)var T=!1;else{if(u=To,To=null,Dh=0,(Et&6)!==0)throw Error(n(331));var R=Et;for(Et|=4,Le=u.current;Le!==null;){var $=Le,G=$.child;if((Le.flags&16)!==0){var ee=$.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var de=ee[ne];for(Le=de;Le!==null;){var ye=Le;switch(ye.tag){case 0:case 11:case 15:Rc(8,ye,$)}var _e=ye.child;if(_e!==null)_e.return=ye,Le=_e;else for(;Le!==null;){ye=Le;var ve=ye.sibling,Pe=ye.return;if(gC(ye),ye===de){Le=null;break}if(ve!==null){ve.return=Pe,Le=ve;break}Le=Pe}}}var Ue=$.alternate;if(Ue!==null){var qe=Ue.child;if(qe!==null){Ue.child=null;do{var kn=qe.sibling;qe.sibling=null,qe=kn}while(qe!==null)}}Le=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,Le=G;else e:for(;Le!==null;){if($=Le,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Rc(9,$,$.return)}var ae=$.sibling;if(ae!==null){ae.return=$.return,Le=ae;break e}Le=$.return}}var re=u.current;for(Le=re;Le!==null;){G=Le;var ue=G.child;if((G.subtreeFlags&2064)!==0&&ue!==null)ue.return=G,Le=ue;else e:for(G=re;Le!==null;){if(ee=Le,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Th(9,ee)}}catch(ze){yn(ee,ee.return,ze)}if(ee===G){Le=null;break e}var Ee=ee.sibling;if(Ee!==null){Ee.return=ee.return,Le=Ee;break e}Le=ee.return}}if(Et=R,xo(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot($f,u)}catch{}T=!0}return T}finally{jt=v,bi.transition=d}}return!1}function IC(u,d,v){d=ql(v,d),d=QT(u,d,1),u=So(u,d,1),d=Or(),u!==null&&(ac(u,1,d),Wr(u,d))}function yn(u,d,v){if(u.tag===3)IC(u,u,v);else for(;d!==null;){if(d.tag===3){IC(d,u,v);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ko===null||!ko.has(T))){u=ql(v,u),u=XT(d,u,1),d=So(d,u,1),u=Or(),d!==null&&(ac(d,1,u),Wr(d,u));break}}d=d.return}}function M$(u,d,v){var T=u.pingCache;T!==null&&T.delete(d),d=Or(),u.pingedLanes|=u.suspendedLanes&v,Hn===u&&(Zn&v)===v&&($n===4||$n===3&&(Zn&130023424)===Zn&&500>En()-Zy?Ca(u,0):Jy|=v),Wr(u,d)}function PC(u,d){d===0&&((u.mode&1)===0?d=1:(d=Uf,Uf<<=1,(Uf&130023424)===0&&(Uf=4194304)));var v=Or();u=Ms(u,d),u!==null&&(ac(u,d,v),Wr(u,v))}function L$(u){var d=u.memoizedState,v=0;d!==null&&(v=d.retryLane),PC(u,v)}function j$(u,d){var v=0;switch(u.tag){case 13:var T=u.stateNode,R=u.memoizedState;R!==null&&(v=R.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(d),PC(u,v)}var RC;RC=function(u,d,v){if(u!==null)if(u.memoizedProps!==d.pendingProps||Vr.current)Hr=!0;else{if((u.lanes&v)===0&&(d.flags&128)===0)return Hr=!1,E$(u,d,v);Hr=(u.flags&131072)!==0}else Hr=!1,un&&(d.flags&1048576)!==0&&fT(d,uh,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;Eh(u,d),u=d.pendingProps;var R=Ml(d,cr.current);Bl(d,v),R=Iy(null,d,T,u,R,v);var $=Py();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,qr(T)?($=!0,oh(d)):$=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Sy(d),R.updater=mh,d.stateNode=R,R._reactInternals=d,ky(d,T,u,v),d=Uy(null,d,T,!0,$,v)):(d.tag=0,un&&$&&hy(d),Nr(null,d,R,v),d=d.child),d;case 16:T=d.elementType;e:{switch(Eh(u,d),u=d.pendingProps,R=T._init,T=R(T._payload),d.type=T,R=d.tag=$$(T),u=Li(T,u),R){case 0:d=By(null,d,T,u,v);break e;case 1:d=oC(null,d,T,u,v);break e;case 11:d=tC(null,d,T,u,v);break e;case 14:d=nC(null,d,T,Li(T.type,u),v);break e}throw Error(n(306,T,""))}return d;case 0:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),By(u,d,T,R,v);case 1:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),oC(u,d,T,R,v);case 3:e:{if(aC(d),u===null)throw Error(n(387));T=d.pendingProps,$=d.memoizedState,R=$.element,yT(u,d),ph(d,T,null,v);var G=d.memoizedState;if(T=G.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){R=ql(Error(n(423)),d),d=lC(u,d,T,v,R);break e}else if(T!==R){R=ql(Error(n(424)),d),d=lC(u,d,T,v,R);break e}else for(ii=yo(d.stateNode.containerInfo.firstChild),ri=d,un=!0,Mi=null,v=CT(d,null,T,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Fl(),T===R){d=js(u,d,v);break e}Nr(u,d,T,v)}d=d.child}return d;case 5:return NT(d),u===null&&gy(d),T=d.type,R=d.pendingProps,$=u!==null?u.memoizedProps:null,G=R.children,ay(T,R)?G=null:$!==null&&ay(T,$)&&(d.flags|=32),sC(u,d),Nr(u,d,G,v),d.child;case 6:return u===null&&gy(d),null;case 13:return uC(u,d,v);case 4:return Ty(d,d.stateNode.containerInfo),T=d.pendingProps,u===null?d.child=Ul(d,null,T,v):Nr(u,d,T,v),d.child;case 11:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),tC(u,d,T,R,v);case 7:return Nr(u,d,d.pendingProps,v),d.child;case 8:return Nr(u,d,d.pendingProps.children,v),d.child;case 12:return Nr(u,d,d.pendingProps.children,v),d.child;case 10:e:{if(T=d.type._context,R=d.pendingProps,$=d.memoizedProps,G=R.value,Kt(dh,T._currentValue),T._currentValue=G,$!==null)if(Ri($.value,G)){if($.children===R.children&&!Vr.current){d=js(u,d,v);break e}}else for($=d.child,$!==null&&($.return=d);$!==null;){var ee=$.dependencies;if(ee!==null){G=$.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===T){if($.tag===1){ne=Ls(-1,v&-v),ne.tag=2;var de=$.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?ne.next=ne:(ne.next=ye.next,ye.next=ne),de.pending=ne}}$.lanes|=v,ne=$.alternate,ne!==null&&(ne.lanes|=v),xy($.return,v,d),ee.lanes|=v;break}ne=ne.next}}else if($.tag===10)G=$.type===d.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=v,ee=G.alternate,ee!==null&&(ee.lanes|=v),xy(G,v,d),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===d){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}Nr(u,d,R.children,v),d=d.child}return d;case 9:return R=d.type,T=d.pendingProps.children,Bl(d,v),R=yi(R),T=T(R),d.flags|=1,Nr(u,d,T,v),d.child;case 14:return T=d.type,R=Li(T,d.pendingProps),R=Li(T.type,R),nC(u,d,T,R,v);case 15:return rC(u,d,d.type,d.pendingProps,v);case 17:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),Eh(u,d),d.tag=1,qr(T)?(u=!0,oh(d)):u=!1,Bl(d,v),ST(d,T,R),ky(d,T,R,v),Uy(null,d,T,!0,u,v);case 19:return dC(u,d,v);case 22:return iC(u,d,v)}throw Error(n(156,d.tag))};function MC(u,d){return hk(u,d)}function F$(u,d,v,T){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(u,d,v,T){return new F$(u,d,v,T)}function a0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function $$(u){if(typeof u=="function")return a0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===D)return 11;if(u===q)return 14}return 2}function Oo(u,d){var v=u.alternate;return v===null?(v=xi(u.tag,d,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=d,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,d=u.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Mh(u,d,v,T,R,$){var G=2;if(T=u,typeof u=="function")a0(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case O:return Oa(v.children,R,$,d);case C:G=8,R|=8;break;case I:return u=xi(12,v,d,R|2),u.elementType=I,u.lanes=$,u;case L:return u=xi(13,v,d,R),u.elementType=L,u.lanes=$,u;case F:return u=xi(19,v,d,R),u.elementType=F,u.lanes=$,u;case B:return Lh(v,R,$,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case P:G=10;break e;case A:G=9;break e;case D:G=11;break e;case q:G=14;break e;case M:G=16,T=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=xi(G,v,d,R),d.elementType=u,d.type=T,d.lanes=$,d}function Oa(u,d,v,T){return u=xi(7,u,T,d),u.lanes=v,u}function Lh(u,d,v,T){return u=xi(22,u,T,d),u.elementType=B,u.lanes=v,u.stateNode={isHidden:!1},u}function l0(u,d,v){return u=xi(6,u,null,d),u.lanes=v,u}function u0(u,d,v){return d=xi(4,u.children!==null?u.children:[],u.key,d),d.lanes=v,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function B$(u,d,v,T,R){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=T,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function c0(u,d,v,T,R,$,G,ee,ne){return u=new B$(u,d,v,ee,ne),d===1?(d=1,$===!0&&(d|=8)):d=0,$=xi(3,null,null,d),u.current=$,$.stateNode=u,$.memoizedState={element:T,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy($),u}function U$(u,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:T==null?null:""+T,children:u,containerInfo:d,implementation:v}}function LC(u){if(!u)return bo;u=u._reactInternals;e:{if(va(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(qr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(qr(v))return uT(u,v,d)}return d}function jC(u,d,v,T,R,$,G,ee,ne){return u=c0(v,T,!0,u,R,$,G,ee,ne),u.context=LC(null),v=u.current,T=Or(),R=Co(v),$=Ls(T,R),$.callback=d??null,So(v,$,R),u.current.lanes=R,ac(u,R,T),Wr(u,T),u}function jh(u,d,v,T){var R=d.current,$=Or(),G=Co(R);return v=LC(v),d.context===null?d.context=v:d.pendingContext=v,d=Ls($,G),d.payload={element:u},T=T===void 0?null:T,T!==null&&(d.callback=T),u=So(R,d,G),u!==null&&($i(u,R,G,$),hh(u,R,G)),G}function Fh(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function FC(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<d?v:d}}function d0(u,d){FC(u,d),(u=u.alternate)&&FC(u,d)}function V$(){return null}var $C=typeof reportError=="function"?reportError:function(u){console.error(u)};function f0(u){this._internalRoot=u}$h.prototype.render=f0.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));jh(u,d,null,null)},$h.prototype.unmount=f0.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Ta(function(){jh(null,u,null,null)}),d[Ds]=null}};function $h(u){this._internalRoot=u}$h.prototype.unstable_scheduleHydration=function(u){if(u){var d=xk();u={blockedOn:null,target:u,priority:d};for(var v=0;v<mo.length&&d!==0&&d<mo[v].priority;v++);mo.splice(v,0,u),v===0&&Ek(u)}};function h0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Bh(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function BC(){}function q$(u,d,v,T,R){if(R){if(typeof T=="function"){var $=T;T=function(){var de=Fh(G);$.call(de)}}var G=jC(d,T,u,0,null,!1,!1,"",BC);return u._reactRootContainer=G,u[Ds]=G.current,xc(u.nodeType===8?u.parentNode:u),Ta(),G}for(;R=u.lastChild;)u.removeChild(R);if(typeof T=="function"){var ee=T;T=function(){var de=Fh(ne);ee.call(de)}}var ne=c0(u,0,!1,null,null,!1,!1,"",BC);return u._reactRootContainer=ne,u[Ds]=ne.current,xc(u.nodeType===8?u.parentNode:u),Ta(function(){jh(d,ne,v,T)}),ne}function Uh(u,d,v,T,R){var $=v._reactRootContainer;if($){var G=$;if(typeof R=="function"){var ee=R;R=function(){var ne=Fh(G);ee.call(ne)}}jh(d,G,u,R)}else G=q$(v,d,u,R,T);return Fh(G)}wk=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var v=oc(d.pendingLanes);v!==0&&(jv(d,v|1),Wr(d,En()),(Et&6)===0&&(Wl=En()+500,xo()))}break;case 13:Ta(function(){var T=Ms(u,1);if(T!==null){var R=Or();$i(T,u,1,R)}}),d0(u,1)}},Fv=function(u){if(u.tag===13){var d=Ms(u,134217728);if(d!==null){var v=Or();$i(d,u,134217728,v)}d0(u,134217728)}},bk=function(u){if(u.tag===13){var d=Co(u),v=Ms(u,d);if(v!==null){var T=Or();$i(v,u,d,T)}d0(u,d)}},xk=function(){return jt},_k=function(u,d){var v=jt;try{return jt=u,d()}finally{jt=v}},Oe=function(u,d,v){switch(d){case"input":if(Qe(u,v),d=v.name,v.type==="radio"&&d!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<v.length;d++){var T=v[d];if(T!==u&&T.form===u.form){var R=ih(T);if(!R)throw Error(n(90));ge(T),Qe(T,R)}}}break;case"textarea":Ie(u,v);break;case"select":d=v.value,d!=null&&xe(u,!!v.multiple,d,!1)}},An=i0,Lt=Ta;var H$={usingClientEntryPoint:!1,Events:[Ec,Pl,ih,rt,St,i0]},Fc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z$={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=dk(u),u===null?null:u.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||V$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{$f=Vh.inject(z$),Zi=Vh}catch{}}return Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H$,Yr.createPortal=function(u,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(d))throw Error(n(200));return U$(u,d,null,v)},Yr.createRoot=function(u,d){if(!h0(u))throw Error(n(299));var v=!1,T="",R=$C;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=c0(u,1,!1,null,null,v,!1,T,R),u[Ds]=d.current,xc(u.nodeType===8?u.parentNode:u),new f0(d)},Yr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=dk(d),u=u===null?null:u.stateNode,u},Yr.flushSync=function(u){return Ta(u)},Yr.hydrate=function(u,d,v){if(!Bh(d))throw Error(n(200));return Uh(null,u,d,!0,v)},Yr.hydrateRoot=function(u,d,v){if(!h0(u))throw Error(n(405));var T=v!=null&&v.hydratedSources||null,R=!1,$="",G=$C;if(v!=null&&(v.unstable_strictMode===!0&&(R=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(G=v.onRecoverableError)),d=jC(d,null,u,1,v??null,R,!1,$,G),u[Ds]=d.current,xc(u),T)for(u=0;u<T.length;u++)v=T[u],R=v._getVersion,R=R(v._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[v,R]:d.mutableSourceEagerHydrationData.push(v,R);return new $h(d)},Yr.render=function(u,d,v){if(!Bh(d))throw Error(n(200));return Uh(null,u,d,!1,v)},Yr.unmountComponentAtNode=function(u){if(!Bh(u))throw Error(n(40));return u._reactRootContainer?(Ta(function(){Uh(null,null,u,!1,function(){u._reactRootContainer=null,u[Ds]=null})}),!0):!1},Yr.unstable_batchedUpdates=i0,Yr.unstable_renderSubtreeIntoContainer=function(u,d,v,T){if(!Bh(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Uh(u,d,v,!1,T)},Yr.version="18.2.0-next-9e3b772b8-20220608",Yr}var GC;function p_(){if(GC)return g0.exports;GC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g0.exports=tB(),g0.exports}var KC;function nB(){if(KC)return Hh;KC=1;var t=p_();return Hh.createRoot=t.createRoot,Hh.hydrateRoot=t.hydrateRoot,Hh}var rB=nB();const iB=ef(rB);var Q=ng();const se=ef(Q),Wp=K$({__proto__:null,default:se},[Q]);var m_=p_();const g_=ef(m_);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}var Uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Uo||(Uo={}));const QC="popstate";function sB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qb("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yp(i)}return aB(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oB(){return Math.random().toString(36).substr(2,8)}function XC(t,e){return{usr:t.state,key:t.key,idx:e}}function Qb(t,e,n,r){return n===void 0&&(n=null),Sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qu(e):e,{state:n,key:e&&e.key||r||oB()})}function Yp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Uo.Pop,l=null,h=c();h==null&&(h=0,o.replaceState(Sd({},o.state,{idx:h}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Uo.Pop;let w=c(),b=w==null?null:w-h;h=w,l&&l({action:a,location:y.location,delta:b})}function p(w,b){a=Uo.Push;let x=Qb(y.location,w,b);h=c()+1;let S=XC(x,h),_=y.createHref(x);try{o.pushState(S,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(_)}s&&l&&l({action:a,location:y.location,delta:1})}function m(w,b){a=Uo.Replace;let x=Qb(y.location,w,b);h=c();let S=XC(x,h),_=y.createHref(x);o.replaceState(S,"",_),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:Yp(w);return Ln(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(QC,f),l=w,()=>{i.removeEventListener(QC,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(w){return o.go(w)}};return y}var JC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JC||(JC={}));function lB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qu(e):e,i=y_(r.pathname||"/",n);if(i==null)return null;let s=_P(t);uB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=yB(s[a],xB(i));return o}function _P(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=zo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),_P(s.children,e,c,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:gB(h,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of SP(s.path))i(s,o,l)}),e}function SP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cB=/^:[\w-]+$/,dB=3,fB=2,hB=1,pB=10,mB=-2,ZC=t=>t==="*";function gB(t,e){let n=t.split("/"),r=n.length;return n.some(ZC)&&(r+=mB),e&&(r+=fB),n.filter(i=>!ZC(i)).reduce((i,s)=>i+(cB.test(s)?dB:s===""?hB:pB),r)}function vB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",c=wB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:zo([i,c.pathname]),pathnameBase:TB(zo([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=zo([i,c.pathnameBase]))}return s}function wB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?h[p]=void 0:h[p]=_B(g||"",p),h},{}),pathname:s,pathnameBase:o,pattern:t}}function bB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),v_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xB(t){try{return decodeURI(t)}catch(e){return v_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _B(t,e){try{return decodeURIComponent(t)}catch(n){return v_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function y_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qu(t):t;return{pathname:n?n.startsWith("/")?n:EB(n,e):e,search:CB(r),hash:NB(i)}}function EB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function w0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EP(t,e){let n=kB(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qu(t):(i=Sd({},t),Ln(!i.pathname||!i.pathname.includes("?"),w0("?","pathname","search",i)),Ln(!i.pathname||!i.pathname.includes("#"),w0("#","pathname","hash",i)),Ln(!i.search||!i.search.includes("#"),w0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=SB(i,a),h=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}const zo=t=>t.join("/").replace(/\/\/+/g,"/"),TB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TP=["post","put","patch","delete"];new Set(TP);const AB=["get",...TP];new Set(AB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ed.apply(this,arguments)}const w_=Q.createContext(null),DB=Q.createContext(null),hl=Q.createContext(null),rg=Q.createContext(null),sa=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),CP=Q.createContext(null);function IB(t,e){let{relative:n}=e===void 0?{}:e;tf()||Ln(!1);let{basename:r,navigator:i}=Q.useContext(hl),{hash:s,pathname:o,search:a}=AP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function tf(){return Q.useContext(rg)!=null}function Fr(){return tf()||Ln(!1),Q.useContext(rg).location}function NP(t){Q.useContext(hl).static||Q.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=Q.useContext(sa);return t?zB():PB()}function PB(){tf()||Ln(!1);let t=Q.useContext(w_),{basename:e,future:n,navigator:r}=Q.useContext(hl),{matches:i}=Q.useContext(sa),{pathname:s}=Fr(),o=JSON.stringify(EP(i,n.v7_relativeSplatPath)),a=Q.useRef(!1);return NP(()=>{a.current=!0}),Q.useCallback(function(h,c){if(c===void 0&&(c={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let f=kP(h,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function OP(){let{matches:t}=Q.useContext(sa),e=t[t.length-1];return e?e.params:{}}function AP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Q.useContext(hl),{matches:i}=Q.useContext(sa),{pathname:s}=Fr(),o=JSON.stringify(EP(i,r.v7_relativeSplatPath));return Q.useMemo(()=>kP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function RB(t,e){return MB(t,e)}function MB(t,e,n,r){tf()||Ln(!1);let{navigator:i}=Q.useContext(hl),{matches:s}=Q.useContext(sa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let h=Fr(),c;if(e){var f;let w=typeof e=="string"?qu(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ln(!1),c=w}else c=h;let p=c.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",g=lB(t,{pathname:m}),y=BB(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:zo([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:zo([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&y?Q.createElement(rg.Provider,{value:{location:Ed({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Uo.Pop}},y):y}function LB(){let t=HB(),e=OB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,null)}const jB=Q.createElement(LB,null);class FB extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(sa.Provider,{value:this.props.routeContext},Q.createElement(CP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $B(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(w_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(sa.Provider,{value:e},r)}function BB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ln(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let m,g=!1,y=null,w=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||jB,l&&(h<0&&p===0?(WB("route-fallback"),g=!0,w=null):h===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),x=()=>{let S;return m?S=y:g?S=w:f.route.Component?S=Q.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,Q.createElement($B,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Q.createElement(FB,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var DP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DP||{}),IP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IP||{});function UB(t){let e=Q.useContext(w_);return e||Ln(!1),e}function VB(t){let e=Q.useContext(DB);return e||Ln(!1),e}function qB(t){let e=Q.useContext(sa);return e||Ln(!1),e}function PP(t){let e=qB(),n=e.matches[e.matches.length-1];return n.route.id||Ln(!1),n.route.id}function HB(){var t;let e=Q.useContext(CP),n=VB(),r=PP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zB(){let{router:t}=UB(DP.UseNavigateStable),e=PP(IP.UseNavigateStable),n=Q.useRef(!1);return NP(()=>{n.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ed({fromRouteId:e},s)))},[t,e])}const e2={};function WB(t,e,n){e2[t]||(e2[t]=!0)}function Qt(t){Ln(!1)}function YB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Uo.Pop,navigator:s,static:o=!1,future:a}=t;tf()&&Ln(!1);let l=e.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:l,navigator:s,static:o,future:Ed({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qu(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,y=Q.useMemo(()=>{let w=y_(c,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return y==null?null:Q.createElement(hl.Provider,{value:h},Q.createElement(rg.Provider,{children:n,value:y}))}function t2(t){let{children:e,location:n}=t;return RB(Xb(e),n)}new Promise(()=>{});function Xb(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,Xb(r.props.children,s));return}r.type!==Qt&&Ln(!1),!r.props.index||!r.props.children||Ln(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xb(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}function GB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QB(t,e){return t.button===0&&(!e||e==="_self")&&!KB(t)}const XB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],JB="6";try{window.__reactRouterVersion=JB}catch{}const ZB="startTransition",n2=Wp[ZB];function eU(t){let{basename:e,children:n,future:r,window:i}=t,s=Q.useRef();s.current==null&&(s.current=sB({window:i,v5Compat:!0}));let o=s.current,[a,l]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},c=Q.useCallback(f=>{h&&n2?n2(()=>l(f)):l(f)},[l,h]);return Q.useLayoutEffect(()=>o.listen(c),[o,c]),Q.createElement(YB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=Q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:c,unstable_viewTransition:f}=e,p=GB(e,XB),{basename:m}=Q.useContext(hl),g,y=!1;if(typeof h=="string"&&nU.test(h)&&(g=h,tU))try{let S=new URL(window.location.href),_=h.startsWith("//")?new URL(S.protocol+h):new URL(h),k=y_(_.pathname,m);_.origin===S.origin&&k!=null?h=k+_.search+_.hash:y=!0}catch{}let w=IB(h,{relative:i}),b=rU(h,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function x(S){r&&r(S),S.defaultPrevented||b(S)}return Q.createElement("a",Jb({},p,{href:g||w,onClick:y||s?r:x,ref:n,target:l}))});var r2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(r2||(r2={}));var i2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(i2||(i2={}));function rU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=kr(),h=Fr(),c=AP(t,{relative:o});return Q.useCallback(f=>{if(QB(f,n)){f.preventDefault();let p=r!==void 0?r:Yp(h)===Yp(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[h,l,c,r,i,n,t,s,o,a])}var s2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},MP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|h>>6,m=h&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||f==null)throw new sU;const p=s<<2|a>>4;if(r.push(p),h!==64){const m=a<<4&240|h>>2;if(r.push(m),f!==64){const g=h<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oU=function(t){const e=RP(t);return MP.encodeByteArray(e,!0)},Gp=function(t){return oU(t).replace(/\./g,"")},LP=function(t){try{return MP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=()=>aU().__FIREBASE_DEFAULTS__,uU=()=>{if(typeof process>"u"||typeof s2>"u")return;const t=s2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LP(t[1]);return e&&JSON.parse(e)},ig=()=>{try{return lU()||uU()||cU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jP=t=>{var e,n;return(n=(e=ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b_=t=>{const e=jP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FP=()=>{var t;return(t=ig())===null||t===void 0?void 0:t.config},$P=t=>{var e;return(e=ig())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gp(JSON.stringify(n)),Gp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())}function hU(){var t;const e=(t=ig())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gU(){const t=Sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UP(){try{return typeof indexedDB=="object"}catch{return!1}}function VP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function vU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ni(i,a,r)}}function wU(t,e){return t.replace(bU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bU=/\{\$([^}]+)}/g;function xU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(o2(s)&&o2(o)){if(!Kp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _U(t,e){const n=new SU(t,e);return n.subscribe.bind(n)}class SU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=b0),i.error===void 0&&(i.error=b0),i.complete===void 0&&(i.complete=b0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function b0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CU(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TU(t){return t===Da?void 0:t}function CU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));const OU={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},AU=Ct.INFO,DU={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},IU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=IU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const PU=(t,e)=>e.some(n=>t instanceof n);let a2,l2;function RU(){return a2||(a2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MU(){return l2||(l2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qP=new WeakMap,Zb=new WeakMap,HP=new WeakMap,x0=new WeakMap,__=new WeakMap;function LU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qP.set(n,t)}).catch(()=>{}),__.set(e,t),e}function jU(t){if(Zb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zb.set(t,e)}let ex={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FU(t){ex=t(ex)}function $U(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_0(this),e,...n);return HP.set(r,e.sort?e.sort():[e]),Wo(r)}:MU().includes(t)?function(...e){return t.apply(_0(this),e),Wo(qP.get(this))}:function(...e){return Wo(t.apply(_0(this),e))}}function BU(t){return typeof t=="function"?$U(t):(t instanceof IDBTransaction&&jU(t),PU(t,RU())?new Proxy(t,ex):t)}function Wo(t){if(t instanceof IDBRequest)return LU(t);if(x0.has(t))return x0.get(t);const e=BU(t);return e!==t&&(x0.set(t,e),__.set(e,t)),e}const _0=t=>__.get(t);function UU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wo(o.result),l.oldVersion,l.newVersion,Wo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const VU=["get","getKey","getAll","getAllKeys","count"],qU=["put","add","delete","clear"],S0=new Map;function u2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S0.get(e))return S0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return S0.set(e,s),s}FU(t=>({...t,get:(e,n,r)=>u2(e,n)||t.get(e,n,r),has:(e,n)=>!!u2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tx="@firebase/app",c2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new x_("@firebase/app"),WU="@firebase/app-compat",YU="@firebase/analytics-compat",GU="@firebase/analytics",KU="@firebase/app-check-compat",QU="@firebase/app-check",XU="@firebase/auth",JU="@firebase/auth-compat",ZU="@firebase/database",eV="@firebase/database-compat",tV="@firebase/functions",nV="@firebase/functions-compat",rV="@firebase/installations",iV="@firebase/installations-compat",sV="@firebase/messaging",oV="@firebase/messaging-compat",aV="@firebase/performance",lV="@firebase/performance-compat",uV="@firebase/remote-config",cV="@firebase/remote-config-compat",dV="@firebase/storage",fV="@firebase/storage-compat",hV="@firebase/firestore",pV="@firebase/firestore-compat",mV="firebase",gV="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="[DEFAULT]",vV={[tx]:"fire-core",[WU]:"fire-core-compat",[GU]:"fire-analytics",[YU]:"fire-analytics-compat",[QU]:"fire-app-check",[KU]:"fire-app-check-compat",[XU]:"fire-auth",[JU]:"fire-auth-compat",[ZU]:"fire-rtdb",[eV]:"fire-rtdb-compat",[tV]:"fire-fn",[nV]:"fire-fn-compat",[rV]:"fire-iid",[iV]:"fire-iid-compat",[sV]:"fire-fcm",[oV]:"fire-fcm-compat",[aV]:"fire-perf",[lV]:"fire-perf-compat",[uV]:"fire-rc",[cV]:"fire-rc-compat",[dV]:"fire-gcs",[fV]:"fire-gcs-compat",[hV]:"fire-fst",[pV]:"fire-fst-compat","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new Map,rx=new Map;function yV(t,e){try{t.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(rx.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;rx.set(e,t);for(const n of Qp.values())yV(n,t);return!0}function oa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yo=new pl("app","Firebase",wV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=gV;function zP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=FP()),!n)throw Yo.create("no-options");const s=Qp.get(i);if(s){if(Kp(n,s.options)&&Kp(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const o=new NU(i);for(const l of rx.values())o.addComponent(l);const a=new bV(n,r,o);return Qp.set(i,a),a}function rf(t=nx){const e=Qp.get(t);if(!e&&t===nx&&FP())return zP();if(!e)throw Yo.create("no-app",{appName:t});return e}function wr(t,e,n){var r;let i=(r=vV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(a.join(" "));return}Ti(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="firebase-heartbeat-database",_V=1,kd="firebase-heartbeat-store";let E0=null;function WP(){return E0||(E0=UU(xV,_V,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kd)}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),E0}async function SV(t){try{return await(await WP()).transaction(kd).objectStore(kd).get(YP(t))}catch(e){if(e instanceof Ni)Ka.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ka.warn(n.message)}}}async function d2(t,e){try{const r=(await WP()).transaction(kd,"readwrite");await r.objectStore(kd).put(e,YP(t)),await r.done}catch(n){if(n instanceof Ni)Ka.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ka.warn(r.message)}}}function YP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1024,kV=30*24*60*60*1e3;class TV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=kV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f2(),{heartbeatsToSend:n,unsentEntries:r}=CV(this._heartbeatsCache.heartbeats),i=Gp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function f2(){return new Date().toISOString().substring(0,10)}function CV(t,e=EV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),h2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UP()?VP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h2(t){return Gp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){Ti(new fi("platform-logger",e=>new HU(e),"PRIVATE")),Ti(new fi("heartbeat",e=>new TV(e),"PRIVATE")),wr(tx,c2,t),wr(tx,c2,"esm2017"),wr("fire-js","")}OV("");var AV="firebase",DV="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(AV,DV,"app");function S_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IV=GP,KP=new pl("auth","Firebase",GP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new x_("@firebase/auth");function PV(t,...e){Xp.logLevel<=Ct.WARN&&Xp.warn(`Auth (${ml}): ${t}`,...e)}function Sp(t,...e){Xp.logLevel<=Ct.ERROR&&Xp.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,...e){throw E_(t,...e)}function ws(t,...e){return E_(t,...e)}function RV(t,e,n){const r=Object.assign(Object.assign({},IV()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function E_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KP.create(t,...e)}function ot(t,e,...n){if(!t)throw E_(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function Zs(t,e){t||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MV(){return p2()==="http:"||p2()==="https:"}function p2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||pU()||"connection"in navigator)?navigator.onLine:!0}function jV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zs(n>e,"Short delay should be less than long delay!"),this.isMobile=fU()||mU()}get(){return LV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new sf(3e4,6e4);function gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function aa(t,e,n,r,i={}){return XP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),QP.fetch()(JP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function XP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FV),e);try{const i=new BV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RV(t,c,h);Wi(t,c)}}catch(i){if(i instanceof Ni)throw i;Wi(t,"network-request-failed",{message:String(i)})}}async function of(t,e,n,r,i={}){const s=await aa(t,e,n,r,i);return"mfaPendingCredential"in s&&Wi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function JP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?k_(t.config,i):`${t.config.apiScheme}://${i}`}class BV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),$V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ws(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return aa(t,"POST","/v1/accounts:delete",e)}async function VV(t,e){return aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qV(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=T_(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:hd(k0(i.auth_time)),issuedAtTime:hd(k0(i.iat)),expirationTime:hd(k0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function k0(t){return Number(t)*1e3}function T_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=LP(n);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HV(t){const e=T_(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&zV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hd(this.lastLoginAt),this.creationTime=hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qa(t,VV(n,{idToken:r}));ot(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KV(s.providerUserInfo):[],a=GV(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?h:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ZP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function YV(t){const e=It(t);await Jp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KV(t){return t.map(e=>{var{providerId:n}=e,r=S_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e){const n=await XP(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ot(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await QV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Td;return r&&(ot(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Td,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ua{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=S_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qV(this,e)}reload(){return YV(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ua(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qa(this,UV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:_,isAnonymous:k,providerData:N,stsTokenManager:O}=n;ot(S&&O,e,"internal-error");const C=Td.fromJSON(this.name,O);ot(typeof S=="string",e,"internal-error"),Do(f,e.name),Do(p,e.name),ot(typeof _=="boolean",e,"internal-error"),ot(typeof k=="boolean",e,"internal-error"),Do(m,e.name),Do(g,e.name),Do(y,e.name),Do(w,e.name),Do(b,e.name),Do(x,e.name);const I=new Ua({uid:S,auth:e,email:p,emailVerified:_,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:C,createdAt:b,lastLoginAt:x});return N&&Array.isArray(N)&&(I.providerData=N.map(P=>Object.assign({},P))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Td;i.updateFromServerResponse(n);const s=new Ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Map;function qs(t){Zs(t instanceof Function,"Expected a class definition");let e=m2.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eR.type="NONE";const g2=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class ou{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ep("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ua._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ou(qs(g2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||qs(g2);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const c=await h._get(o);if(c){const f=Ua._fromJSON(e,c);h!==s&&(a=f),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ou(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ou(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(oR(e))return"Webos";if(C_(e))return"Safari";if((e.includes("chrome/")||nR(e))&&!e.includes("edge/"))return"Chrome";if(iR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tR(t=Sr()){return/firefox\//i.test(t)}function C_(t=Sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nR(t=Sr()){return/crios\//i.test(t)}function rR(t=Sr()){return/iemobile/i.test(t)}function iR(t=Sr()){return/android/i.test(t)}function sR(t=Sr()){return/blackberry/i.test(t)}function oR(t=Sr()){return/webos/i.test(t)}function sg(t=Sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XV(t=Sr()){var e;return sg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JV(){return gU()&&document.documentMode===10}function aR(t=Sr()){return sg(t)||iR(t)||oR(t)||sR(t)||/windows phone/i.test(t)||rR(t)}function ZV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e=[]){let n;switch(t){case"Browser":n=v2(Sr());break;case"Worker":n=`${v2(Sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}async function uR(t,e){return aa(t,"GET","/v2/recaptchaConfig",gl(t,e))}function y2(t){return t!==void 0&&t.enterprise!==void 0}class cR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ws("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e9().appendChild(r)})}function t9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const n9="https://www.google.com/recaptcha/enterprise.js?render=",r9="recaptcha-enterprise",i9="NO_RECAPTCHA";class fR{constructor(e){this.type=r9,this.auth=la(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{uR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new cR(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;y2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(i9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&y2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}dR(n9+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function bu(t,e,n,r=!1){const i=new fR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w2(this),this.idTokenSubscription=new w2(this),this.beforeStateQueue=new s9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ou.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?It(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}async initializeRecaptchaConfig(){const e=await uR(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new cR(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new fR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await ou.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ot(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return It(t)}class w2{constructor(e){this.auth=e,this.observer=null,this.addObserver=_U(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){const n=oa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Kp(s,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function l9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u9(t,e,n){const r=la(t);ot(r._canInitEmulator,r,"emulator-config-failed"),ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hR(e),{host:o,port:a}=c9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),d9()}function hR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c9(t){const e=hR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:b2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:b2(o)}}}function b2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function pR(t,e){return aa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",gl(t,e))}async function f9(t,e){return aa(t,"POST","/v1/accounts:sendOobCode",gl(t,e))}async function C0(t,e){return f9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}async function p9(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends N_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await bu(e,r,"signInWithPassword");return T0(e,i)}else return T0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await bu(e,r,"signInWithPassword");return T0(e,s)}else return Promise.reject(i)});case"emailLink":return h9(e,{email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return pR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return p9(e,{idToken:n,email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="http://localhost";class Xa extends N_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=S_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return au(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,au(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,au(e,n)}buildRequest(){const e={requestUri:m9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v9(t){const e=ed(td(t)).link,n=e?ed(td(e)).deep_link_id:null,r=ed(td(t)).deep_link_id;return(r?ed(td(r)).link:null)||r||n||e||t}class O_{constructor(e){var n,r,i,s,o,a;const l=ed(td(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=g9((i=l.mode)!==null&&i!==void 0?i:null);ot(h&&c&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=v9(e);try{return new O_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,n){return Cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=O_.parseLink(n);return ot(r,"argument-error"),Cd._fromEmailAndCode(e,r.code,r.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends mR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends af{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.GOOGLE_SIGN_IN_METHOD="google.com";jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends af{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.GITHUB_SIGN_IN_METHOD="github.com";Fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends af{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.TWITTER_SIGN_IN_METHOD="twitter.com";$o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(t,e){return of(t,"POST","/v1/accounts:signUp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ua._fromIdTokenResponse(e,r,i),o=x2(r);return new eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x2(r);return new eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t){var e;const n=la(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new eo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await kp(n,{returnSecureToken:!0}),i=await eo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zp(e,n,r,i)}}function gR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(t,s,e,r):s})}async function w9(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Qa(t,gR(r,i,e,t),n);ot(s.idToken,r,"internal-error");const o=T_(s.idToken);ot(o,r,"internal-error");const{sub:a}=o;return ot(t.uid===a,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e,n=!1){const r="signIn",i=await gR(t,r,e),s=await eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function b9(t,e){return yR(la(t),e)}async function wR(t,e){return vR(It(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e,n){var r;const i=la(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await bu(i,s,"getOobCode",!0);await C0(i,o)}else await C0(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await bu(i,s,"getOobCode",!0);await C0(i,a)}else return Promise.reject(o)})}async function _9(t,e,n){var r;const i=la(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await bu(i,s,"signUpPassword");o=kp(i,h)}else o=kp(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await bu(i,s,"signUpPassword");return kp(i,c)}else return Promise.reject(h)});const a=await o.catch(h=>Promise.reject(h)),l=await eo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function S9(t,e,n){return b9(It(t),ua.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return aa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=It(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qa(r,E9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function k9(t,e){return T9(It(t),null,e)}async function T9(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Qa(t,pR(r,s));await t._updateTokensIfNecessary(o,!0)}function C9(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function N9(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function og(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}async function O9(t){return It(t).delete()}const em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(em,"1"),this.storage.removeItem(em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(){const t=Sr();return C_(t)||sg(t)}const D9=1e3,I9=10;class xR extends bR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A9()&&ZV(),this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);JV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xR.type="LOCAL";const P9=xR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R extends bR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_R.type="SESSION";const SR=_R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ag(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await R9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ag.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=A_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function L9(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function j9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $9(){return ER()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebaseLocalStorageDb",B9=1,tm="firebaseLocalStorage",TR="fbase_key";class lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lg(t,e){return t.transaction([tm],e?"readwrite":"readonly").objectStore(tm)}function U9(){const t=indexedDB.deleteDatabase(kR);return new lf(t).toPromise()}function sx(){const t=indexedDB.open(kR,B9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tm,{keyPath:TR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tm)?e(r):(r.close(),await U9(),e(await sx()))})})}async function S2(t,e,n){const r=lg(t,!0).put({[TR]:e,value:n});return new lf(r).toPromise()}async function V9(t,e){const n=lg(t,!1).get(e),r=await new lf(n).toPromise();return r===void 0?null:r.value}function E2(t,e){const n=lg(t,!0).delete(e);return new lf(n).toPromise()}const q9=800,H9=3;class CR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ER()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ag._getInstance($9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j9(),!this.activeServiceWorker)return;this.sender=new M9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sx();return await S2(e,em,"1"),await E2(e,em),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>V9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=lg(i,!1).getAll();return new lf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CR.type="LOCAL";const z9=CR;new sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return e?qs(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends N_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y9(t){return yR(t.auth,new D_(t),t.bypassAuthState)}function G9(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),vR(n,new D_(t),t.bypassAuthState)}async function K9(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),w9(n,new D_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return G9;default:Wi(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new sf(2e3,1e4);class ru extends NR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=A_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q9.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="pendingRedirect",Tp=new Map;class J9 extends NR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tp.get(this.auth._key());if(!e){try{const r=await Z9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z9(t,e){const n=n8(e),r=t8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e8(t,e){Tp.set(t._key(),e)}function t8(t){return qs(t._redirectPersistence)}function n8(t){return Ep(X9,t.config.apiKey,t.name)}async function r8(t,e,n=!1){const r=la(t),i=W9(r,e),o=await new J9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=10*60*1e3;class s8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i8&&this.cachedEventUids.clear(),this.cachedEventUids.has(k2(e))}saveEventToCache(e){this.cachedEventUids.add(k2(e)),this.lastProcessedEventTime=Date.now()}}function k2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e={}){return aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u8=/^https?/;async function c8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a8(t);for(const n of e)try{if(d8(n))return}catch{}Wi(t,"unauthorized-domain")}function d8(t){const e=ix(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!u8.test(n))return!1;if(l8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new sf(3e4,6e4);function T2(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h8(t){return new Promise((e,n)=>{var r,i,s;function o(){T2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T2(),n(ws(t,"network-request-failed"))},timeout:f8.get()})}if(!((i=(r=bs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bs().gapi)===null||s===void 0)&&s.load)o();else{const a=t9("iframefcb");return bs()[a]=()=>{gapi.load?o():n(ws(t,"network-request-failed"))},dR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cp=null,e})}let Cp=null;function p8(t){return Cp=Cp||h8(t),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new sf(5e3,15e3),g8="__/auth/iframe",v8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b8(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k_(e,v8):`https://${t.config.authDomain}/${g8}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=w8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nf(r).slice(1)}`}async function x8(t){const e=await p8(t),n=bs().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:b8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ws(t,"network-request-failed"),a=bs().setTimeout(()=>{s(o)},m8.get());function l(){bs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S8=500,E8=600,k8="_blank",T8="http://localhost";class C2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C8(t,e,n,r=S8,i=E8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_8),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Sr().toLowerCase();n&&(a=nR(h)?k8:n),tR(h)&&(e=e||T8,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(XV(h)&&a!=="_self")return N8(e||"",a),new C2(null);const f=window.open(e||"",a,c);ot(f,t,"popup-blocked");try{f.focus()}catch{}return new C2(f)}function N8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="__/auth/handler",A8="emulator/auth/handler",D8=encodeURIComponent("fac");async function N2(t,e,n,r,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof mR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof af){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),h=l?`#${D8}=${encodeURIComponent(l)}`:"";return`${I8(t)}?${nf(a).slice(1)}${h}`}function I8({config:t}){return t.emulator?k_(t,A8):`https://${t.authDomain}/${O8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="webStorageSupport";class P8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SR,this._completeRedirectFn=r8,this._overrideRedirectResult=e8}async _openPopup(e,n,r,i){var s;Zs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await N2(e,n,r,ix(),i);return C8(e,o,A_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await N2(e,n,r,ix(),i);return L9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x8(e),r=new s8(e);return n.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(N0,{type:N0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[N0];o!==void 0&&n(!!o),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||C_()||sg()}}const R8=P8;var O2="@firebase/auth",A2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function j8(t){Ti(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ot(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lR(t)},h=new o9(r,i,s,l);return l9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new fi("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new M8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(O2,A2,L8(t)),wr(O2,A2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=5*60,$8=$P("authIdTokenMaxAge")||F8;let D2=null;const B8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$8)return;const i=n==null?void 0:n.token;D2!==i&&(D2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ug(t=rf()){const e=oa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a9(t,{popupRedirectResolver:R8,persistence:[z9,P9,SR]}),r=$P("authTokenSyncURL");if(r){const s=B8(r);N9(n,s,()=>s(n.currentUser)),C9(n,o=>s(o))}const i=jP("auth");return i&&u9(n,`http://${i}`),n}j8("Browser");var U8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne,I_=I_||{},lt=U8||self;function cg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function dg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function V8(t,e,n){return t.call.apply(t.bind,arguments)}function q8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function br(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?br=V8:br=q8,br.apply(null,arguments)}function Wh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ca(){this.s=this.s,this.o=this.o}var H8=0;ca.prototype.s=!1;ca.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),H8!=0)};ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function P_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function I2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function xr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var z8=function(){if(!lt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{lt.addEventListener("test",()=>{},e),lt.removeEventListener("test",()=>{},e)}catch{}return t}();function Nd(t){return/^[\s\xa0]*$/.test(t)}function fg(){var t=lt.navigator;return t&&(t=t.userAgent)?t:""}function us(t){return fg().indexOf(t)!=-1}function R_(t){return R_[" "](t),t}R_[" "]=function(){};function W8(t,e){var n=$q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Y8=us("Opera"),xu=us("Trident")||us("MSIE"),DR=us("Edge"),ox=DR||xu,IR=us("Gecko")&&!(fg().toLowerCase().indexOf("webkit")!=-1&&!us("Edge"))&&!(us("Trident")||us("MSIE"))&&!us("Edge"),G8=fg().toLowerCase().indexOf("webkit")!=-1&&!us("Edge");function PR(){var t=lt.document;return t?t.documentMode:void 0}var ax;e:{var O0="",A0=function(){var t=fg();if(IR)return/rv:([^\);]+)(\)|;)/.exec(t);if(DR)return/Edge\/([\d\.]+)/.exec(t);if(xu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(G8)return/WebKit\/(\S+)/.exec(t);if(Y8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(A0&&(O0=A0?A0[1]:""),xu){var D0=PR();if(D0!=null&&D0>parseFloat(O0)){ax=String(D0);break e}}ax=O0}var lx;if(lt.document&&xu){var P2=PR();lx=P2||parseInt(ax,10)||void 0}else lx=void 0;var K8=lx;function Od(t,e){if(xr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IR){e:{try{R_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Q8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Od.$.h.call(this)}}Kn(Od,xr);var Q8={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hg="closure_listenable_"+(1e6*Math.random()|0),X8=0;function J8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++X8,this.fa=this.ia=!1}function pg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function M_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Z8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function RR(t){const e={};for(const n in t)e[n]=t[n];return e}const R2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<R2.length;s++)n=R2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mg(t){this.src=t,this.g={},this.h=0}mg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=cx(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new J8(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ux(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cx(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var L_="closure_lm_"+(1e6*Math.random()|0),I0={};function LR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LR(t,e[s],n,r,i);return null}return n=$R(n),t&&t[hg]?t.O(e,n,dg(r)?!!r.capture:!1,i):eq(t,e,n,!1,r,i)}function eq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=dg(i)?!!i.capture:!!i,a=F_(t);if(a||(t[L_]=a=new mg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=tq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)z8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tq(){function t(n){return e.call(t.src,t.listener,n)}const e=nq;return t}function jR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jR(t,e[s],n,r,i);else r=dg(r)?!!r.capture:!!r,n=$R(n),t&&t[hg]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=cx(s,n,r,i),-1<n&&(pg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=F_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cx(e,n,r,i)),(n=-1<t?e[t]:null)&&j_(n))}function j_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[hg])ux(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=F_(e))?(ux(n,t),n.h==0&&(n.src=null,e[L_]=null)):pg(t)}}}function FR(t){return t in I0?I0[t]:I0[t]="on"+t}function nq(t,e){if(t.fa)t=!0;else{e=new Od(e,this);var n=t.listener,r=t.la||t.src;t.ia&&j_(t),t=n.call(r,e)}return t}function F_(t){return t=t[L_],t instanceof mg?t:null}var P0="__closure_events_fn_"+(1e9*Math.random()>>>0);function $R(t){return typeof t=="function"?t:(t[P0]||(t[P0]=function(e){return t.handleEvent(e)}),t[P0])}function Gn(){ca.call(this),this.i=new mg(this),this.S=this,this.J=null}Kn(Gn,ca);Gn.prototype[hg]=!0;Gn.prototype.removeEventListener=function(t,e,n,r){jR(this,t,e,n,r)};function or(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new xr(e,t);else if(e instanceof xr)e.target=e.target||t;else{var i=e;e=new xr(r,t),MR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yh(o,r,!0,e)&&i}if(o=e.g=t,i=Yh(o,r,!0,e)&&i,i=Yh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Yh(o,r,!1,e)&&i}Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pg(n[r]);delete t.g[e],t.h--}}this.J=null};Gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ux(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var $_=lt.JSON.stringify;class rq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function iq(){var t=B_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class sq{constructor(){this.h=this.g=null}add(e,n){const r=BR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var BR=new rq(()=>new oq,t=>t.reset());class oq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lq(t){lt.setTimeout(()=>{throw t},0)}let Ad,Dd=!1,B_=new sq,UR=()=>{const t=lt.Promise.resolve(void 0);Ad=()=>{t.then(uq)}};var uq=()=>{for(var t;t=iq();){try{t.h.call(t.g)}catch(n){lq(n)}var e=BR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dd=!1};function gg(t,e){Gn.call(this),this.h=t||1,this.g=e||lt,this.j=br(this.qb,this),this.l=Date.now()}Kn(gg,Gn);Ne=gg.prototype;Ne.ga=!1;Ne.T=null;Ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),or(this,"tick"),this.ga&&(U_(this),this.start()))}};Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function U_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ne.N=function(){gg.$.N.call(this),U_(this),delete this.g};function V_(t,e,n){if(typeof t=="function")n&&(t=br(t,n));else if(t&&typeof t.handleEvent=="function")t=br(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:lt.setTimeout(t,e||0)}function VR(t){t.g=V_(()=>{t.g=null,t.i&&(t.i=!1,VR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class cq extends ca{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VR(this)}N(){super.N(),this.g&&(lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Id(t){ca.call(this),this.h=t,this.g={}}Kn(Id,ca);var M2=[];function qR(t,e,n,r){Array.isArray(n)||(n&&(M2[0]=n.toString()),n=M2);for(var i=0;i<n.length;i++){var s=LR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function HR(t){M_(t.g,function(e,n){this.g.hasOwnProperty(n)&&j_(e)},t),t.g={}}Id.prototype.N=function(){Id.$.N.call(this),HR(this)};Id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vg(){this.g=!0}vg.prototype.Ea=function(){this.g=!1};function dq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+h+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function iu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+pq(t,n)+(r?" "+r:"")})}function hq(t,e){t.info(function(){return"TIMEOUT: "+e})}vg.prototype.info=function(){};function pq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $_(n)}catch{return e}}var vl={},L2=null;function yg(){return L2=L2||new Gn}vl.Ta="serverreachability";function zR(t){xr.call(this,vl.Ta,t)}Kn(zR,xr);function Pd(t){const e=yg();or(e,new zR(e))}vl.STAT_EVENT="statevent";function WR(t,e){xr.call(this,vl.STAT_EVENT,t),this.stat=e}Kn(WR,xr);function Pr(t){const e=yg();or(e,new WR(e,t))}vl.Ua="timingevent";function YR(t,e){xr.call(this,vl.Ua,t),this.size=e}Kn(YR,xr);function uf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return lt.setTimeout(function(){t()},e)}var wg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function q_(){}q_.prototype.h=null;function j2(t){return t.h||(t.h=t.i())}function KR(){}var cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function H_(){xr.call(this,"d")}Kn(H_,xr);function z_(){xr.call(this,"c")}Kn(z_,xr);var dx;function bg(){}Kn(bg,q_);bg.prototype.g=function(){return new XMLHttpRequest};bg.prototype.i=function(){return{}};dx=new bg;function df(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Id(this),this.P=mq,t=ox?125:void 0,this.V=new gg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QR}function QR(){this.i=null,this.g="",this.h=!1}var mq=45e3,fx={},nm={};Ne=df.prototype;Ne.setTimeout=function(t){this.P=t};function hx(t,e,n){t.L=1,t.v=_g(to(e)),t.s=n,t.S=!0,XR(t,null)}function XR(t,e){t.G=Date.now(),ff(t),t.A=to(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),sM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new QR,t.g=TM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cq(br(t.Pa,t,t.g),t.O)),qR(t.U,t.g,"readystatechange",t.nb),e=t.I?RR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pd(),dq(t.j,t.u,t.A,t.m,t.W,t.s)}Ne.nb=function(t){t=t.target;const e=this.M;e&&ps(t)==3?e.l():this.Pa(t)};Ne.Pa=function(t){try{if(t==this.g)e:{const c=ps(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||ox||this.g&&(this.h.h||this.g.ja()||U2(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Pd(3):Pd(2)),xg(this);var n=this.g.da();this.ca=n;t:if(JR(this)){var r=U2(this.g);t="";var i=r.length,s=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ma(this),pd(this);var o="";break t}this.h.i=new lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fq(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nd(a)){var h=a;break t}}h=null}if(n=h)iu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,px(this,n);else{this.i=!1,this.o=3,Pr(12),Ma(this),pd(this);break e}}this.S?(ZR(this,c,o),ox&&this.i&&c==3&&(qR(this.U,this.V,"tick",this.mb),this.V.start())):(iu(this.j,this.m,o,null),px(this,o)),c==4&&Ma(this),this.i&&!this.J&&(c==4?_M(this.l,this):(this.i=!1,ff(this)))}else Lq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Ma(this),pd(this)}}}catch{}finally{}};function JR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ZR(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=gq(t,n),i==nm){e==4&&(t.o=4,Pr(14),r=!1),iu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==fx){t.o=4,Pr(15),iu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else iu(t.j,t.m,i,null),px(t,i);JR(t)&&i!=nm&&i!=fx&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),X_(e),e.M=!0,Pr(11))):(iu(t.j,t.m,n,"[Invalid Chunked Response]"),Ma(t),pd(t))}Ne.mb=function(){if(this.g){var t=ps(this.g),e=this.g.ja();this.C<e.length&&(xg(this),ZR(this,t,e),this.i&&t!=4&&ff(this))}};function gq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?nm:(n=Number(e.substring(n,r)),isNaN(n)?fx:(r+=1,r+n>e.length?nm:(e=e.slice(r,r+n),t.C=r+n,e)))}Ne.cancel=function(){this.J=!0,Ma(this)};function ff(t){t.Y=Date.now()+t.P,eM(t,t.P)}function eM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=uf(br(t.lb,t),e)}function xg(t){t.B&&(lt.clearTimeout(t.B),t.B=null)}Ne.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(hq(this.j,this.A),this.L!=2&&(Pd(),Pr(17)),Ma(this),this.o=2,pd(this)):eM(this,this.Y-t)};function pd(t){t.l.H==0||t.J||_M(t.l,t)}function Ma(t){xg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,U_(t.V),HR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function px(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||mx(n.i,t))){if(!t.K&&mx(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sm(n),kg(n);else break e;Q_(n),Pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=uf(br(n.ib,n),6e3));if(1>=lM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else La(n,11)}else if((t.K||n.g==t)&&sm(n),!Nd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const c=h[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=h[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=h[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W_(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,tn(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=kM(r,r.J?r.pa:null,r.Y),o.K){uM(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(xg(a),ff(a)),r.g=o}else bM(r);0<n.j.length&&Tg(n)}else h[0]!="stop"&&h[0]!="close"||La(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?La(n,7):K_(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Pd(4)}catch{}}function vq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(cg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function yq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(cg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=yq(t),r=vq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var nM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Va(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Va){this.h=t.h,rm(this,t.j),this.s=t.s,this.g=t.g,im(this,t.m),this.l=t.l;var e=t.i,n=new Rd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F2(this,n),this.o=t.o}else t&&(e=String(t).match(nM))?(this.h=!1,rm(this,e[1]||"",!0),this.s=nd(e[2]||""),this.g=nd(e[3]||"",!0),im(this,e[4]),this.l=nd(e[5]||"",!0),F2(this,e[6]||"",!0),this.o=nd(e[7]||"")):(this.h=!1,this.i=new Rd(null,this.h))}Va.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rd(e,$2,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rd(e,$2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rd(n,n.charAt(0)=="/"?_q:xq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rd(n,Eq)),t.join("")};function to(t){return new Va(t)}function rm(t,e,n){t.j=n?nd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function im(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F2(t,e,n){e instanceof Rd?(t.i=e,kq(t.i,t.h)):(n||(e=rd(e,Sq)),t.i=new Rd(e,t.h))}function tn(t,e,n){t.i.set(e,n)}function _g(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $2=/[#\/\?@]/g,xq=/[#\?:]/g,_q=/[#\?]/g,Sq=/[#\?@]/g,Eq=/#/g;function Rd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function da(t){t.g||(t.g=new Map,t.h=0,t.i&&wq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ne=Rd.prototype;Ne.add=function(t,e){da(this),this.i=null,t=Hu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rM(t,e){da(t),e=Hu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iM(t,e){return da(t),e=Hu(t,e),t.g.has(e)}Ne.forEach=function(t,e){da(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ne.ta=function(){da(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ne.Z=function(t){da(this);let e=[];if(typeof t=="string")iM(this,t)&&(e=e.concat(this.g.get(Hu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ne.set=function(t,e){return da(this),this.i=null,t=Hu(this,t),iM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sM(t,e,n){rM(t,e),0<n.length&&(t.i=null,t.g.set(Hu(t,e),P_(n)),t.h+=n.length)}Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Hu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kq(t,e){e&&!t.j&&(da(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rM(this,r),sM(this,i,n))},t)),t.j=e}var Tq=class{constructor(t,e){this.g=t,this.map=e}};function oM(t){this.l=t||Cq,lt.PerformanceNavigationTiming?(t=lt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(lt.g&&lt.g.Ka&&lt.g.Ka()&&lt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cq=10;function aM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lM(t){return t.h?1:t.g?t.g.size:0}function mx(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W_(t,e){t.g?t.g.add(e):t.h=e}function uM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oM.prototype.cancel=function(){if(this.i=cM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return P_(t.i)}var Nq=class{stringify(t){return lt.JSON.stringify(t,void 0)}parse(t){return lt.JSON.parse(t,void 0)}};function Oq(){this.g=new Nq}function Aq(t,e,n){const r=n||"";try{tM(t,function(i,s){let o=i;dg(i)&&(o=$_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dq(t,e){const n=new vg;if(lt.Image){const r=new Image;r.onload=Wh(Gh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wh(Gh,n,r,"TestLoadImage: error",!1,e),r.onabort=Wh(Gh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wh(Gh,n,r,"TestLoadImage: timeout",!1,e),lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hf(t){this.l=t.fc||null,this.j=t.ob||!1}Kn(hf,q_);hf.prototype.g=function(){return new Sg(this.l,this.j)};hf.prototype.i=function(t){return function(){return t}}({});function Sg(t,e){Gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Y_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kn(Sg,Gn);var Y_=0;Ne=Sg.prototype;Ne.open=function(t,e){if(this.readyState!=Y_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Md(this)};Ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pf(this)),this.readyState=Y_};Ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Md(this)),this.g&&(this.readyState=3,Md(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof lt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pf(this):Md(this),this.readyState==3&&dM(this)}};Ne.Za=function(t){this.g&&(this.response=this.responseText=t,pf(this))};Ne.Ya=function(t){this.g&&(this.response=t,pf(this))};Ne.ka=function(){this.g&&pf(this)};function pf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Md(t)}Ne.setRequestHeader=function(t,e){this.v.append(t,e)};Ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Md(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Iq=lt.JSON.parse;function bn(t){Gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fM,this.L=this.M=!1}Kn(bn,Gn);var fM="",Pq=/^https?$/i,Rq=["POST","PUT"];Ne=bn.prototype;Ne.Oa=function(t){this.M=t};Ne.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dx.g(),this.C=this.u?j2(this.u):j2(dx),this.g.onreadystatechange=br(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){B2(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=lt.FormData&&t instanceof lt.FormData,!(0<=AR(Rq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mM(this),0<this.B&&((this.L=Mq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.ua,this)):this.A=V_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){B2(this,s)}};function Mq(t){return xu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ne.ua=function(){typeof I_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))};function B2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hM(t),Eg(t)}function hM(t){t.F||(t.F=!0,or(t,"complete"),or(t,"error"))}Ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,or(this,"complete"),or(this,"abort"),Eg(this))};Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eg(this,!0)),bn.$.N.call(this)};Ne.La=function(){this.s||(this.G||this.v||this.l?pM(this):this.kb())};Ne.kb=function(){pM(this)};function pM(t){if(t.h&&typeof I_<"u"&&(!t.C[1]||ps(t)!=4||t.da()!=2)){if(t.v&&ps(t)==4)V_(t.La,0,t);else if(or(t,"readystatechange"),ps(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(nM)[1]||null;!i&&lt.self&&lt.self.location&&(i=lt.self.location.protocol.slice(0,-1)),r=!Pq.test(i?i.toLowerCase():"")}n=r}if(n)or(t,"complete"),or(t,"success");else{t.m=6;try{var s=2<ps(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hM(t)}}finally{Eg(t)}}}}function Eg(t,e){if(t.g){mM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||or(t,"ready");try{n.onreadystatechange=r}catch{}}}function mM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(lt.clearTimeout(t.A),t.A=null)}Ne.isActive=function(){return!!this.g};function ps(t){return t.g?t.g.readyState:0}Ne.da=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}};Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Iq(e)}};function U2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Lq(t){const e={};t=(t.g&&2<=ps(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Nd(t[r]))continue;var n=aq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Z8(e,function(r){return r.join(", ")})}Ne.Ia=function(){return this.m};Ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gM(t){let e="";return M_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function G_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tn(t,e,n))}function Bc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vM(t){this.Ga=0,this.j=[],this.l=new vg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bc("baseRetryDelayMs",5e3,t),this.hb=Bc("retryDelaySeedMs",1e4,t),this.eb=Bc("forwardChannelMaxRetries",2,t),this.xa=Bc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oM(t&&t.concurrentRequestLimit),this.Ja=new Oq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ne=vM.prototype;Ne.ra=8;Ne.H=1;function K_(t){if(yM(t),t.H==3){var e=t.W++,n=to(t.I);if(tn(n,"SID",t.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),mf(t,n),e=new df(t,t.l,e),e.L=2,e.v=_g(to(n)),n=!1,lt.navigator&&lt.navigator.sendBeacon)try{n=lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&lt.Image&&(new Image().src=e.v,n=!0),n||(e.g=TM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ff(e)}EM(t)}function kg(t){t.g&&(X_(t),t.g.cancel(),t.g=null)}function yM(t){kg(t),t.u&&(lt.clearTimeout(t.u),t.u=null),sm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&lt.clearTimeout(t.m),t.m=null)}function Tg(t){if(!aM(t.i)&&!t.m){t.m=!0;var e=t.Na;Ad||UR(),Dd||(Ad(),Dd=!0),B_.add(e,t),t.C=0}}function jq(t,e){return lM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=uf(br(t.Na,t,e),SM(t,t.C)),t.C++,!0)}Ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new df(this,this.l,t);let s=this.s;if(this.U&&(s?(s=RR(s),MR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wM(this,i,e),n=to(this.I),tn(n,"RID",t),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),mf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(gM(s)))+"&"+e:this.o&&G_(n,this.o,s)),W_(this.i,i),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),i.aa=!0,hx(i,n,null)):hx(i,n,e),this.H=2}}else this.H==3&&(t?V2(this,t):this.j.length==0||aM(this.i)||V2(this))};function V2(t,e){var n;e?n=e.m:n=t.W++;const r=to(t.I);tn(r,"SID",t.K),tn(r,"RID",n),tn(r,"AID",t.V),mf(t,r),t.o&&t.s&&G_(r,t.o,t.s),n=new df(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W_(t.i,n),hx(n,r,e)}function mf(t,e){t.na&&M_(t.na,function(n,r){tn(e,r,n)}),t.h&&tM({},function(n,r){tn(e,r,n)})}function wM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?br(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let h=i[l].g;const c=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),a=!1;else try{Aq(c,o,"req"+h+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function bM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ad||UR(),Dd||(Ad(),Dd=!0),B_.add(e,t),t.A=0}}function Q_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=uf(br(t.Ma,t),SM(t,t.A)),t.A++,!0)}Ne.Ma=function(){if(this.u=null,xM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=uf(br(this.jb,this),t)}};Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pr(10),kg(this),xM(this))};function X_(t){t.B!=null&&(lt.clearTimeout(t.B),t.B=null)}function xM(t){t.g=new df(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=to(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),mf(t,e),t.o&&t.s&&G_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=_g(to(e)),n.s=null,n.S=!0,XR(n,t)}Ne.ib=function(){this.v!=null&&(this.v=null,kg(this),Q_(this),Pr(19))};function sm(t){t.v!=null&&(lt.clearTimeout(t.v),t.v=null)}function _M(t,e){var n=null;if(t.g==e){sm(t),X_(t),t.g=null;var r=2}else if(mx(t.i,e))n=e.F,uM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=yg(),or(r,new YR(r,n)),Tg(t)}else bM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&jq(t,e)||r==2&&Q_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:La(t,5);break;case 4:La(t,10);break;case 3:La(t,6);break;default:La(t,2)}}}function SM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function La(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=br(t.pb,t);n||(n=new Va("//www.google.com/images/cleardot.gif"),lt.location&&lt.location.protocol=="http"||rm(n,"https"),_g(n)),Dq(n.toString(),r)}else Pr(2);t.H=0,t.h&&t.h.za(e),EM(t),yM(t)}Ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pr(2)):(this.l.info("Failed to ping google.com"),Pr(1))};function EM(t){if(t.H=0,t.ma=[],t.h){const e=cM(t.i);(e.length!=0||t.j.length!=0)&&(I2(t.ma,e),I2(t.ma,t.j),t.i.i.length=0,P_(t.j),t.j.length=0),t.h.ya()}}function kM(t,e,n){var r=n instanceof Va?to(n):new Va(n);if(r.g!="")e&&(r.g=e+"."+r.g),im(r,r.m);else{var i=lt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Va(null);r&&rm(s,r),e&&(s.g=e),i&&im(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&tn(r,n,e),tn(r,"VER",t.ra),mf(t,r),r}function TM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new bn(new hf({ob:!0})):new bn(t.va),e.Oa(t.J),e}Ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function CM(){}Ne=CM.prototype;Ne.Ba=function(){};Ne.Aa=function(){};Ne.za=function(){};Ne.ya=function(){};Ne.isActive=function(){return!0};Ne.Va=function(){};function om(){if(xu&&!(10<=Number(K8)))throw Error("Environmental error: no available transport.")}om.prototype.g=function(t,e){return new hi(t,e)};function hi(t,e){Gn.call(this),this.g=new vM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zu(this)}Kn(hi,Gn);hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kM(t,null,t.Y),Tg(t)};hi.prototype.close=function(){K_(this.g)};hi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$_(t),t=n);e.j.push(new Tq(e.fb++,t)),e.H==3&&Tg(e)};hi.prototype.N=function(){this.g.h=null,delete this.j,K_(this.g),delete this.g,hi.$.N.call(this)};function NM(t){H_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kn(NM,H_);function OM(){z_.call(this),this.status=1}Kn(OM,z_);function zu(t){this.g=t}Kn(zu,CM);zu.prototype.Ba=function(){or(this.g,"a")};zu.prototype.Aa=function(t){or(this.g,new NM(t))};zu.prototype.za=function(t){or(this.g,new OM)};zu.prototype.ya=function(){or(this.g,"b")};function Fq(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kn(Yi,Fq);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function R0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)R0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){R0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){R0(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var $q={};function J_(t){return-128<=t&&128>t?W8(t,function(e){return new Vt([e|0],0>e?-1:0)}):new Vt([t|0],0>t?-1:0)}function ms(t){if(isNaN(t)||!isFinite(t))return lu;if(0>t)return ir(ms(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=gx;return new Vt(e,0)}function AM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ir(AM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ms(Math.pow(e,8)),r=lu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ms(Math.pow(e,s)),r=r.R(s).add(ms(o))):(r=r.R(n),r=r.add(ms(o)))}return r}var gx=4294967296,lu=J_(0),vx=J_(1),q2=J_(16777216);Ne=Vt.prototype;Ne.ea=function(){if(Ei(this))return-ir(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:gx+r)*e,e*=gx}return t};Ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hs(this))return"0";if(Ei(this))return"-"+ir(this).toString(t);for(var e=ms(Math.pow(t,6)),n=this,r="";;){var i=lm(n,e).g;n=am(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ei(t){return t.h==-1}Ne.X=function(t){return t=am(this,t),Ei(t)?-1:Hs(t)?0:1};function ir(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Vt(n,~t.h).add(vx)}Ne.abs=function(){return Ei(this)?ir(this):this};Ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Vt(n,n[n.length-1]&-2147483648?-1:0)};function am(t,e){return t.add(ir(e))}Ne.R=function(t){if(Hs(this)||Hs(t))return lu;if(Ei(this))return Ei(t)?ir(this).R(ir(t)):ir(ir(this).R(t));if(Ei(t))return ir(this.R(ir(t)));if(0>this.X(q2)&&0>t.X(q2))return ms(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Kh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Kh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Kh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Kh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Vt(n,0)};function Kh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uc(t,e){this.g=t,this.h=e}function lm(t,e){if(Hs(e))throw Error("division by zero");if(Hs(t))return new Uc(lu,lu);if(Ei(t))return e=lm(ir(t),e),new Uc(ir(e.g),ir(e.h));if(Ei(e))return e=lm(t,ir(e)),new Uc(ir(e.g),e.h);if(30<t.g.length){if(Ei(t)||Ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vx,r=e;0>=r.X(t);)n=H2(n),r=H2(r);var i=Gl(n,1),s=Gl(r,1);for(r=Gl(r,2),n=Gl(n,2);!Hs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Gl(r,1),n=Gl(n,1)}return e=am(t,i.R(e)),new Uc(i,e)}for(i=lu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ms(n),o=s.R(e);Ei(o)||0<o.X(t);)n-=r,s=ms(n),o=s.R(e);Hs(s)&&(s=vx),i=i.add(s),t=am(t,o)}return new Uc(i,t)}Ne.gb=function(t){return lm(this,t).h};Ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Vt(n,this.h&t.h)};Ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Vt(n,this.h|t.h)};Ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Vt(n,this.h^t.h)};function H2(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Vt(n,t.h)}function Gl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Vt(i,t.h)}om.prototype.createWebChannel=om.prototype.g;hi.prototype.send=hi.prototype.u;hi.prototype.open=hi.prototype.m;hi.prototype.close=hi.prototype.close;wg.NO_ERROR=0;wg.TIMEOUT=8;wg.HTTP_ERROR=6;GR.COMPLETE="complete";KR.EventType=cf;cf.OPEN="a";cf.CLOSE="b";cf.ERROR="c";cf.MESSAGE="d";Gn.prototype.listen=Gn.prototype.O;bn.prototype.listenOnce=bn.prototype.P;bn.prototype.getLastError=bn.prototype.Sa;bn.prototype.getLastErrorCode=bn.prototype.Ia;bn.prototype.getStatus=bn.prototype.da;bn.prototype.getResponseJson=bn.prototype.Wa;bn.prototype.getResponseText=bn.prototype.ja;bn.prototype.send=bn.prototype.ha;bn.prototype.setWithCredentials=bn.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;Vt.prototype.add=Vt.prototype.add;Vt.prototype.multiply=Vt.prototype.R;Vt.prototype.modulo=Vt.prototype.gb;Vt.prototype.compare=Vt.prototype.X;Vt.prototype.toNumber=Vt.prototype.ea;Vt.prototype.toString=Vt.prototype.toString;Vt.prototype.getBits=Vt.prototype.D;Vt.fromNumber=ms;Vt.fromString=AM;var Bq=function(){return new om},Uq=function(){return yg()},M0=wg,Vq=GR,qq=vl,z2={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hq=hf,Qh=KR,zq=bn,Wq=Yi,uu=Vt;const W2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new x_("@firebase/firestore");function Y2(){return Ja.logLevel}function We(t,...e){if(Ja.logLevel<=Ct.DEBUG){const n=e.map(Z_);Ja.debug(`Firestore (${Wu}): ${t}`,...n)}}function no(t,...e){if(Ja.logLevel<=Ct.ERROR){const n=e.map(Z_);Ja.error(`Firestore (${Wu}): ${t}`,...n)}}function _u(t,...e){if(Ja.logLevel<=Ct.WARN){const n=e.map(Z_);Ja.warn(`Firestore (${Wu}): ${t}`,...n)}}function Z_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t="Unexpected state"){const e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+t;throw no(e),new Error(e)}function on(t,e){t||at()}function mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}let Gq=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class Kq{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on(typeof r.accessToken=="string"),new DM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(e===null||typeof e=="string"),new gr(e)}}class Qq{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xq{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Qq(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zq{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(on(typeof n.token=="string"),this.T=n.token,new Jq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Dt(t,e){return t<e?-1:t>e?1:0}function Su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new Un(0,0))}static max(){return new ct(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r){n===void 0?n=0:n>e.length&&at(),r===void 0?r=e.length-n:r>e.length-n&&at(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ld.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends Ld{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const tH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Ld{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return tH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new je(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new je(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(nn.fromString(e))}static fromName(e){return new Ke(nn.fromString(e).popFirst(5))}static empty(){return new Ke(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new nn(e.slice()))}}function nH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(r===1e9?new Un(n+1,0):new Un(n,r));return new Xo(i,Ke.empty(),e)}function rH(t){return new Xo(t.readTime,t.key,-1)}class Xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xo(ct.min(),Ke.empty(),-1)}static max(){return new Xo(ct.max(),Ke.empty(),-1)}}function iH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:Dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==sH)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(c=>{o[h]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}eS.ct=-1;function Cg(t){return t==null}function um(t){return t===0&&1/t==-1/0}function aH(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nr.RED,this.left=i??nr.EMPTY,this.right=s??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(t,e,n,r,i){return this}insert(t,e,n){return new nr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K2(this.data.getIterator())}getIteratorFrom(e){return new K2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _r(this.comparator);return n.data=e,n}}class K2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new li([])}unionWith(e){let n=new _r(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RM("Invalid base64 string: "+i):i}}(e);return new Er(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const lH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(on(!!t),typeof t=="string"){let e=0;const n=lH.exec(t);if(on(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Za(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nS(t){const e=t.mapValue.fields.__previous_value__;return tS(e)?nS(e):e}function jd(t){const e=Jo(t.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class Fd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh={mapValue:{}};function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tS(t)?4:cH(t)?9007199254740991:10:at()}function Ts(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jd(t).isEqual(jd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Jo(r.timestampValue),o=Jo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Za(r.bytesValue).isEqual(Za(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pn(r.geoPointValue.latitude)===Pn(i.geoPointValue.latitude)&&Pn(r.geoPointValue.longitude)===Pn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pn(r.integerValue)===Pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pn(r.doubleValue),o=Pn(i.doubleValue);return s===o?um(s)===um(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(G2(s)!==G2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ts(s[a],o[a])))return!1;return!0}(t,e);default:return at()}}function $d(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function Eu(t,e){if(t===e)return 0;const n=el(t),r=el(e);if(n!==r)return Dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Pn(i.integerValue||i.doubleValue),a=Pn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Q2(t.timestampValue,e.timestampValue);case 4:return Q2(jd(t),jd(e));case 5:return Dt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Za(i),a=Za(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const h=Dt(o[l],a[l]);if(h!==0)return h}return Dt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Dt(Pn(i.latitude),Pn(s.latitude));return o!==0?o:Dt(Pn(i.longitude),Pn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const h=Eu(o[l],a[l]);if(h)return h}return Dt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Jh.mapValue&&s===Jh.mapValue)return 0;if(i===Jh.mapValue)return 1;if(s===Jh.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let c=0;c<a.length&&c<h.length;++c){const f=Dt(a[c],h[c]);if(f!==0)return f;const p=Eu(o[a[c]],l[h[c]]);if(p!==0)return p}return Dt(a.length,h.length)}(t.mapValue,e.mapValue);default:throw at()}}function Q2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dt(t,e);const n=Jo(t),r=Jo(e),i=Dt(n.seconds,r.seconds);return i!==0?i:Dt(n.nanos,r.nanos)}function ku(t){return yx(t)}function yx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Jo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Za(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ke.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=yx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${yx(r.fields[a])}`;return s+"}"}(t.mapValue):at();var e,n}function X2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wx(t){return!!t&&"integerValue"in t}function rS(t){return!!t&&"arrayValue"in t}function J2(t){return!!t&&"nullValue"in t}function Z2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Np(t){return!!t&&"mapValue"in t}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=md(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kr(md(this.value))}}function MM(t){const e=[];return yl(t.fields,(n,r)=>{const i=new yr([n]);if(Np(r)){const s=MM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vr(e,0,ct.min(),ct.min(),ct.min(),Kr.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,ct.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,ct.min(),ct.min(),Kr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,ct.min(),ct.min(),Kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.position=e,this.inclusive=n}}function eN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ke.comparator(Ke.fromName(o.referenceValue),n.key):r=Eu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{}class Mn extends LM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hH(e,n,r):n==="array-contains"?new gH(e,r):n==="in"?new vH(e,r):n==="not-in"?new yH(e,r):n==="array-contains-any"?new wH(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pH(e,r):new mH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eu(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gi extends LM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Gi(e,n)}matches(e){return jM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jM(t){return t.op==="and"}function FM(t){return fH(t)&&jM(t)}function fH(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function bx(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+ku(t.value);if(FM(t))return t.filters.map(e=>bx(e)).join(",");{const e=t.filters.map(n=>bx(n)).join(",");return`${t.op}(${e})`}}function $M(t,e){return t instanceof Mn?function(n,r){return r instanceof Mn&&n.op===r.op&&n.field.isEqual(r.field)&&Ts(n.value,r.value)}(t,e):t instanceof Gi?function(n,r){return r instanceof Gi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&$M(s,r.filters[o]),!0):!1}(t,e):void at()}function BM(t){return t instanceof Mn?function(e){return`${e.field.canonicalString()} ${e.op} ${ku(e.value)}`}(t):t instanceof Gi?function(e){return e.op.toString()+" {"+e.getFilters().map(BM).join(" ,")+"}"}(t):"Filter"}class hH extends Mn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class pH extends Mn{constructor(e,n){super(e,"in",n),this.keys=UM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mH extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=UM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class gH extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rS(n)&&$d(n.arrayValue,this.value)}}class vH extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$d(this.value.arrayValue,n)}}class yH extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$d(this.value.arrayValue,n)}}class wH extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function nN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bH(t,e,n,r,i,s,o)}function iS(t){const e=mt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ku(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ku(r)).join(",")),e.dt=n}return e.dt}function sS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$M(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tN(t.startAt,e.startAt)&&tN(t.endAt,e.endAt)}function xx(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function xH(t,e,n,r,i,s,o,a){return new Yu(t,e,n,r,i,s,o,a)}function oS(t){return new Yu(t)}function rN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ng(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function VM(t){return t.collectionGroup!==null}function du(t){const e=mt(t);if(e.wt===null){e.wt=[];const n=Ng(e),r=aS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new cu(n)),e.wt.push(new cu(yr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cu(yr.keyField(),s))}}}return e.wt}function ro(t){const e=mt(t);if(!e._t)if(e.limitType==="F")e._t=nN(e.path,e.collectionGroup,du(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of du(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new cu(s.field,o))}const r=e.endAt?new cm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new cm(e.startAt.position,e.startAt.inclusive):null;e._t=nN(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function _x(t,e){e.getFirstInequalityField(),Ng(t);const n=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sx(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Og(t,e){return sS(ro(t),ro(e))&&t.limitType===e.limitType}function qM(t){return`${iS(ro(t))}|lt:${t.limitType}`}function Ex(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>BM(r)).join(", ")}]`),Cg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ku(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ku(r)).join(",")),`Target(${n})`}(ro(t))}; limitType=${t.limitType})`}function Ag(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ke.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of du(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=eN(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,du(n),r)||n.endAt&&!function(i,s,o){const a=eN(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,du(n),r))}(t,e)}function _H(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HM(t){return(e,n)=>{let r=!1;for(const i of du(t)){const s=SH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SH(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Eu(a,l):at()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=new vn(Ke.comparator);function io(){return EH}const zM=new vn(Ke.comparator);function id(...t){let e=zM;for(const n of t)e=e.insert(n.key,n);return e}function WM(t){let e=zM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ja(){return gd()}function YM(){return gd()}function gd(){return new Gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const kH=new vn(Ke.comparator),TH=new _r(Ke.comparator);function wt(...t){let e=TH;for(const n of t)e=e.add(n);return e}const CH=new _r(Dt);function NH(){return CH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function KM(t){return{integerValue:""+t}}function OH(t,e){return aH(e)?KM(e):GM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this._=void 0}}function AH(t,e,n){return t instanceof dm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tS(i)&&(i=nS(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Bd?XM(t,e):t instanceof Ud?JM(t,e):function(r,i){const s=QM(r,i),o=iN(s)+iN(r.gt);return wx(s)&&wx(r.gt)?KM(o):GM(r.serializer,o)}(t,e)}function DH(t,e,n){return t instanceof Bd?XM(t,e):t instanceof Ud?JM(t,e):n}function QM(t,e){return t instanceof fm?wx(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class dm extends Dg{}class Bd extends Dg{constructor(e){super(),this.elements=e}}function XM(t,e){const n=ZM(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ud extends Dg{constructor(e){super(),this.elements=e}}function JM(t,e){let n=ZM(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class fm extends Dg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function iN(t){return Pn(t.integerValue||t.doubleValue)}function ZM(t){return rS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IH(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Bd&&r instanceof Bd||n instanceof Ud&&r instanceof Ud?Su(n.elements,r.elements,Ts):n instanceof fm&&r instanceof fm?Ts(n.gt,r.gt):n instanceof dm&&r instanceof dm}(t.transform,e.transform)}class PH{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ig{}function eL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lS(t.key,qi.none()):new yf(t.key,t.data,qi.none());{const n=t.data,r=Kr.empty();let i=new _r(yr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fa(t.key,r,new li(i.toArray()),qi.none())}}function RH(t,e,n){t instanceof yf?function(r,i,s){const o=r.value.clone(),a=oN(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,i,s){if(!Op(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=oN(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(tL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vd(t,e,n,r){return t instanceof yf?function(i,s,o,a){if(!Op(i.precondition,s))return o;const l=i.value.clone(),h=aN(i.fieldTransforms,a,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(i,s,o,a){if(!Op(i.precondition,s))return o;const l=aN(i.fieldTransforms,a,s),h=s.data;return h.setAll(tL(i)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Op(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function MH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QM(r.transform,i||null);s!=null&&(n===null&&(n=Kr.empty()),n.set(r.field,s))}return n||null}function sN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Su(n,r,(i,s)=>IH(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends Ig{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fa extends Ig{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oN(t,e,n){const r=new Map;on(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DH(o,a,n[i]))}return r}function aN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,AH(s,o,e))}return r}class lS extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LH extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=eL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wt())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(n,r)=>sN(n,r))&&Su(this.baseMutations,e.baseMutations,(n,r)=>sN(n,r))}}class uS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){on(e.mutations.length===r.length);let i=kH;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,bt;function BH(t){switch(t){default:return at();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function nL(t){if(t===void 0)return no("GRPC error has no .code"),me.UNKNOWN;switch(t){case In.OK:return me.OK;case In.CANCELLED:return me.CANCELLED;case In.UNKNOWN:return me.UNKNOWN;case In.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case In.INTERNAL:return me.INTERNAL;case In.UNAVAILABLE:return me.UNAVAILABLE;case In.UNAUTHENTICATED:return me.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case In.NOT_FOUND:return me.NOT_FOUND;case In.ALREADY_EXISTS:return me.ALREADY_EXISTS;case In.PERMISSION_DENIED:return me.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case In.ABORTED:return me.ABORTED;case In.OUT_OF_RANGE:return me.OUT_OF_RANGE;case In.UNIMPLEMENTED:return me.UNIMPLEMENTED;case In.DATA_LOSS:return me.DATA_LOSS;default:return at()}}(bt=In||(In={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zh}static getOrCreateInstance(){return Zh===null&&(Zh=new cS),Zh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Zh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=new uu([4294967295,4294967295],0);function lN(t){const e=UH().encode(t),n=new Wq;return n.update(e),new Uint8Array(n.digest())}function uN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uu([n,r],0),new uu([i,s],0)]}class dS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sd(`Invalid padding: ${n}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=uu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(uu.fromNumber(r)));return i.compare(VH)===1&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=lN(e),[r,i]=uN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=lN(e),[r,i]=uN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pg(ct.min(),i,new vn(Dt),io(),wt())}}class wf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class rL{constructor(e,n){this.targetId=e,this.Vt=n}}class iL{constructor(e,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cN{constructor(){this.St=0,this.Dt=fN(),this.Ct=Er.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wt(),n=wt(),r=wt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:at()}}),new wf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=fN()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qH{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=io(),this.zt=dN(),this.Wt=new vn(Dt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:at()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xx(o))if(i===0){const a=new Ke(o.path);this.Yt(r,a,vr.newNoDocument(a,ct.min()))}else on(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,h)}(n=cS.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,c,f){var p,m,g,y,w,b;const x={localCacheCount:c,existenceFilterCount:f.count},S=f.unchangedNames;return S&&(x.bloomFilter={applied:h===0,hashCount:(p=S==null?void 0:S.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(g=(m=S==null?void 0:S.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0,padding:(b=(w=S==null?void 0:S.bits)===null||w===void 0?void 0:w.padding)!==null&&b!==void 0?b:0}),x}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,h;try{l=Za(s).toUint8Array()}catch(c){if(c instanceof RM)return _u("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{h=new dS(l,o,a)}catch(c){return _u(c instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return h.It===0?1:i!==n-this.oe(e.targetId,h)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xx(a.target)){const l=new Ke(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,vr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=wt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.se(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Pg(e,n,this.Wt,this.jt,r);return this.jt=io(),this.zt=dN(),this.Wt=new vn(Dt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new cN,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _r(Dt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cN),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function dN(){return new vn(Ke.comparator)}function fN(){return new vn(Ke.comparator)}const HH={asc:"ASCENDING",desc:"DESCENDING"},zH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WH={and:"AND",or:"OR"};class YH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kx(t,e){return t.useProto3Json||Cg(e)?e:{value:e}}function hm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GH(t,e){return hm(t,e.toTimestamp())}function xs(t){return on(!!t),ct.fromTimestamp(function(e){const n=Jo(e);return new Un(n.seconds,n.nanos)}(t))}function fS(t,e){return function(n){return new nn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function oL(t){const e=nn.fromString(t);return on(cL(e)),e}function Tx(t,e){return fS(t.databaseId,e.path)}function L0(t,e){const n=oL(e);if(n.get(1)!==t.databaseId.projectId)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(aL(n))}function Cx(t,e){return fS(t.databaseId,e)}function KH(t){const e=oL(t);return e.length===4?nn.emptyPath():aL(e)}function Nx(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aL(t){return on(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hN(t,e,n){return{name:Tx(t,e),fields:n.value.mapValue.fields}}function QH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(on(h===void 0||typeof h=="string"),Er.fromBase64String(h||"")):(on(h===void 0||h instanceof Uint8Array),Er.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?me.UNKNOWN:nL(l.code);return new je(h,l.message||"")}(o);n=new iL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=L0(t,r.document.name),s=xs(r.document.updateTime),o=r.document.createTime?xs(r.document.createTime):ct.min(),a=new Kr({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,s,o,a),h=r.targetIds||[],c=r.removedTargetIds||[];n=new Ap(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=L0(t,r.document),s=r.readTime?xs(r.readTime):ct.min(),o=vr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ap([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=L0(t,r.document),s=r.removedTargetIds||[];n=new Ap([],s,i,null)}else{if(!("filter"in e))return at();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $H(i,s),a=r.targetId;n=new rL(a,o)}}return n}function XH(t,e){let n;if(e instanceof yf)n={update:hN(t,e.key,e.value)};else if(e instanceof lS)n={delete:Tx(t,e.key)};else if(e instanceof fa)n={update:hN(t,e.key,e.data),updateMask:oz(e.fieldMask)};else{if(!(e instanceof LH))return at();n={verify:Tx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof dm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Bd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ud)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof fm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw at()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:GH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:at()}(t,e.precondition)),n}function JH(t,e){return t&&t.length>0?(on(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?xs(r.updateTime):xs(i);return s.isEqual(ct.min())&&(s=xs(i)),new PH(s,r.transformResults||[])}(n,e))):[]}function ZH(t,e){return{documents:[Cx(t,e.path)]}}function ez(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Cx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Cx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return uL(Gi.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(c){return{field:Zl(c.field),direction:rz(c.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=kx(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function tz(t){let e=KH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){on(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=lL(c);return f instanceof Gi&&FM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new cu(eu(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Cg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,p=c.values||[];return new cm(p,f)}(n.startAt));let h=null;return n.endAt&&(h=function(c){const f=!c.before,p=c.values||[];return new cm(p,f)}(n.endAt)),xH(e,i,o,s,a,"F",l,h)}function nz(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=eu(e.unaryFilter.field);return Mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=eu(e.unaryFilter.field);return Mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eu(e.unaryFilter.field);return Mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eu(e.unaryFilter.field);return Mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(t):t.fieldFilter!==void 0?function(e){return Mn.create(eu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Gi.create(e.compositeFilter.filters.map(n=>lL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(t):at()}function rz(t){return HH[t]}function iz(t){return zH[t]}function sz(t){return WH[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function eu(t){return yr.fromServerFormat(t.fieldPath)}function uL(t){return t instanceof Mn?function(e){if(e.op==="=="){if(Z2(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NAN"}};if(J2(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Z2(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NOT_NAN"}};if(J2(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(e.field),op:iz(e.op),value:e.value}}}(t):t instanceof Gi?function(e){const n=e.getFilters().map(r=>uL(r));return n.length===1?n[0]:{compositeFilter:{op:sz(e.op),filters:n}}}(t):at()}function oz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r,i,s=ct.min(),o=ct.min(),a=Er.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.fe=e}}function lz(t){const e=tz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.rn=new cz}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Xo.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class cz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _r(nn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tu(0)}static Mn(){return new Tu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.changes=new Gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hz=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vd(r.mutation,i,li.empty(),Un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wt()){const i=ja();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=id();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ja();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=io();const o=gd(),a=gd();return n.forEach((l,h)=>{const c=r.get(h.key);i.has(h.key)&&(c===void 0||c.mutation instanceof fa)?s=s.insert(h.key,h):c!==void 0?(o.set(h.key,c.mutation.getFieldMask()),vd(c.mutation,h,c.mutation.getFieldMask(),Un.now())):o.set(h.key,li.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,c)=>o.set(h,c)),n.forEach((h,c)=>{var f;return a.set(h,new fz(c,(f=o.get(h))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gd();let i=new vn((o,a)=>o-a),s=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let c=r.get(l)||li.empty();c=a.applyToLocalView(h,c),r.set(l,c);const f=(i.get(a.batchId)||wt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,c=l.value,f=YM();c.forEach(p=>{if(!s.has(p)){const m=eL(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ke.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Se.resolve(ja());let a=-1,l=s;return o.next(h=>Se.forEach(h,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Se.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,wt())).next(c=>({batchId:a,changes:WM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=id();return this.indexManager.getCollectionParents(e,i).next(o=>Se.forEach(o,a=>{const l=function(h,c){return new Yu(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,vr.newInvalidDocument(h)))});let o=id();return s.forEach((a,l)=>{const h=i.get(a);h!==void 0&&vd(h.mutation,l,li.empty(),Un.now()),Ag(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:xs(r.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:lz(r.bundledQuery),readTime:xs(r.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.overlays=new vn(Ke.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ja();return Se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=ja(),s=n.length+1,o=new Ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vn((h,c)=>h-c);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let c=s.get(h.largestBatchId);c===null&&(c=ja(),s=s.insert(h.largestBatchId,c)),c.set(h.getKey(),h)}}const a=ja(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,c)=>a.set(h,c)),!(a.size()>=i)););return Se.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FH(n,r));let s=this.ls.get(n);s===void 0&&(s=wt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.fs=new _r(Wn.ds),this.ws=new _r(Wn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Wn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ke(new nn([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ke(new nn([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=wt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Wn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ke.comparator(e.key,n.key)||Dt(e.As,n.As)}static _s(e,n){return Dt(e.As,n.As)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _r(Wn.ds)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jH(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Wn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(Dt);return n.forEach(i=>{const s=new Wn(i,0),o=new Wn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ke.isDocumentKey(s)||(s=s.child(""));const o=new Wn(new Ke(s),0);let a=new _r(Dt);return this.Rs.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.As)),!0)},o),Se.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){on(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Se.forEach(n.mutations,i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Rs.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.Ds=e,this.docs=new vn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=io();const o=n.path,a=new Ke(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:c}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||iH(rH(c),r)<=0||(i.has(c.key)||Ag(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){at()}Cs(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yz(this)}getSize(e){return Se.resolve(this.size)}}class yz extends dz{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.persistence=e,this.xs=new Gu(n=>iS(n),sS),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hS,this.targetCount=0,this.Ms=Tu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Tu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n){this.$s={},this.overlays={},this.Os=new eS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wz(this),this.indexManager=new uz,this.remoteDocumentCache=function(r){return new vz(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new az(n),this.qs=new pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new gz(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new xz(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class xz extends oH{constructor(e){super(),this.currentSequenceNumber=e}}class pS{constructor(e){this.persistence=e,this.Qs=new hS,this.js=null}static zs(e){return new pS(e)}get Ws(){if(this.js)return this.js;throw at()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,r=>{const i=Ke.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ct.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=wt(),i=wt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(rN(n))return Se.resolve(null);let r=ro(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sx(n,null,"F"),r=ro(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=wt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ji(n,a);return this.zi(n,h,o,l.readTime)?this.Ki(e,Sx(n,null,"F")):this.Wi(e,h,n,l)}))})))}Gi(e,n,r,i){return rN(n)||i.isEqual(ct.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Y2()<=Ct.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ex(n)),this.Wi(e,o,n,nH(i,-1)))})}ji(e,n){let r=new _r(HM(e));return n.forEach((i,s)=>{Ag(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Y2()<=Ct.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Ex(n)),this.Ui.getDocumentsMatchingQuery(e,n,Xo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new vn(Dt),this.Yi=new Gu(s=>iS(s),sS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Ez(t,e,n,r){return new Sz(t,e,n,r)}async function dL(t,e){const n=mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=wt();for(const h of i){o.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}for(const h of s){a.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(h=>({er:h,removedBatchIds:o,addedBatchIds:a}))})})}function kz(t,e){const n=mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,h){const c=l.batch,f=c.keys();let p=Se.resolve();return f.forEach(m=>{p=p.next(()=>h.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);on(y!==null),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),h.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=wt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fL(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Tz(t,e){const n=mt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Er.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Bs.updateTargetData(s,m))});let l=io(),h=wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Cz(s,o,e.documentUpdates).next(c=>{l=c.nr,h=c.sr})),!r.isEqual(ct.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Cz(t,e,n){let r=wt(),i=wt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=io();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):We("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{nr:o,sr:i}})}function Nz(t,e){const n=mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(t,e){const n=mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Vo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Ox(t,e,n){const r=mt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vf(o))throw o;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function pN(t,e,n){const r=mt(t);let i=ct.min(),s=wt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,h){const c=mt(a),f=c.Yi.get(h);return f!==void 0?Se.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,h)}(r,o,ro(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ct.min(),n?s:wt())).next(a=>(Az(r,_H(e),a),{documents:a,ir:s})))}function Az(t,e,n){let r=t.Xi.get(e)||ct.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class mN{constructor(){this.activeTargetIds=NH()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dz{constructor(){this.Hr=new mN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new mN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep=null;function j0(){return ep===null?ep=268435456+Math.round(2147483648*Math.random()):ep++,"0x"+ep.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class Mz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=j0(),a=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(h=>(We("RestConnection",`Received RPC '${e}' ${o}: `,h),h),h=>{throw _u("RestConnection",`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=Pz[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=j0();return new Promise((o,a)=>{const l=new zq;l.setWithCredentials(!0),l.listenOnce(Vq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case M0.NO_ERROR:const c=l.getResponseJson();We(pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case M0.TIMEOUT:We(pr,`RPC '${e}' ${s} timed out`),a(new je(me.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const f=l.getStatus();if(We(pr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(m.status);a(new je(g,m.message))}else a(new je(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(me.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{We(pr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);We(pr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Ro(e,n,r){const i=j0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bq(),a=Uq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new Hq({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");We(pr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,m=!1;const g=new Rz({ro:w=>{m?We(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(We(pr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),We(pr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},oo:()=>f.close()}),y=(w,b,x)=>{w.listen(b,S=>{try{x(S)}catch(_){setTimeout(()=>{throw _},0)}})};return y(f,Qh.EventType.OPEN,()=>{m||We(pr,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Qh.EventType.CLOSE,()=>{m||(m=!0,We(pr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(f,Qh.EventType.ERROR,w=>{m||(m=!0,_u(pr,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new je(me.UNAVAILABLE,"The operation could not be completed")))}),y(f,Qh.EventType.MESSAGE,w=>{var b;if(!m){const x=w.data[0];on(!!x);const S=x,_=S.error||((b=S[0])===null||b===void 0?void 0:b.error);if(_){We(pr,`RPC '${e}' stream ${i} received error:`,_);const k=_.status;let N=function(C){const I=In[C];if(I!==void 0)return nL(I)}(k),O=_.message;N===void 0&&(N=me.INTERNAL,O="Unknown error status: "+k+" with message "+_.message),m=!0,g.wo(new je(N,O)),f.close()}else We(pr,`RPC '${e}' stream ${i} received:`,x),g._o(x)}}),y(a,qq.STAT_EVENT,w=>{w.stat===z2.PROXY?We(pr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===z2.NOPROXY&&We(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function F0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return new YH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hL(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(no(n.toString()),no("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new je(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lz extends pL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=QH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ct.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ct.min():s.readTime?xs(s.readTime):ct.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Nx(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=xx(a)?{documents:ZH(i,a)}:{query:ez(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sL(i,s.resumeToken);const l=kx(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ct.min())>0){o.readTime=hm(i,s.snapshotVersion.toTimestamp());const l=kx(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=nz(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Nx(this.serializer),n.removeTarget=e,this.Wo(n)}}class jz extends pL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=JH(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.cu(r,n)}return on(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nx(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XH(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class $z{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(no(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{wl(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=mt(a);l.vu.add(4),await bf(l),l.bu.set("Unknown"),l.vu.delete(4),await Mg(l)}(this))})}),this.bu=new $z(r,i)}}async function Mg(t){if(wl(t))for(const e of t.Ru)await e(!0)}async function bf(t){for(const e of t.Ru)await e(!1)}function mL(t,e){const n=mt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),yS(n)?vS(n):Ku(n).Ko()&&gS(n,e))}function gL(t,e){const n=mt(t),r=Ku(n);n.Au.delete(e),r.Ko()&&vL(n,e),n.Au.size===0&&(r.Ko()?r.jo():wl(n)&&n.bu.set("Unknown"))}function gS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ku(t).su(e)}function vL(t,e){t.Vu.qt(e),Ku(t).iu(e)}function vS(t){t.Vu=new qH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ku(t).start(),t.bu.gu()}function yS(t){return wl(t)&&!Ku(t).Uo()&&t.Au.size>0}function wl(t){return mt(t).vu.size===0}function yL(t){t.Vu=void 0}async function Uz(t){t.Au.forEach((e,n)=>{gS(t,e)})}async function Vz(t,e){yL(t),yS(t)?(t.bu.Iu(e),vS(t)):t.bu.set("Unknown")}async function qz(t,e,n){if(t.bu.set("Online"),e instanceof iL&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pm(t,r)}else if(e instanceof Ap?t.Vu.Ht(e):e instanceof rL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ct.min()))try{const r=await fL(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.Au.get(l);h&&i.Au.set(l,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const h=i.Au.get(a);if(!h)return;i.Au.set(a,h.withResumeToken(Er.EMPTY_BYTE_STRING,h.snapshotVersion)),vL(i,a);const c=new Vo(h.target,a,l,h.sequenceNumber);gS(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await pm(t,r)}}async function pm(t,e,n){if(!vf(e))throw e;t.vu.add(1),await bf(t),t.bu.set("Offline"),n||(n=()=>fL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Mg(t)})}function wL(t,e){return e().catch(n=>pm(t,n,e))}async function Lg(t){const e=mt(t),n=Zo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hz(e);)try{const i=await Nz(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,zz(e,i)}catch(i){await pm(e,i)}bL(e)&&xL(e)}function Hz(t){return wl(t)&&t.Eu.length<10}function zz(t,e){t.Eu.push(e);const n=Zo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function bL(t){return wl(t)&&!Zo(t).Uo()&&t.Eu.length>0}function xL(t){Zo(t).start()}async function Wz(t){Zo(t).hu()}async function Yz(t){const e=Zo(t);for(const n of t.Eu)e.uu(n.mutations)}async function Gz(t,e,n){const r=t.Eu.shift(),i=uS.from(r,e,n);await wL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lg(t)}async function Kz(t,e){e&&Zo(t).ou&&await async function(n,r){if(i=r.code,BH(i)&&i!==me.ABORTED){const s=n.Eu.shift();Zo(n).Qo(),await wL(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Lg(n)}var i}(t,e),bL(t)&&xL(t)}async function vN(t,e){const n=mt(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=wl(n);n.vu.add(3),await bf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Mg(n)}async function Qz(t,e){const n=mt(t);e?(n.vu.delete(2),await Mg(n)):e||(n.vu.add(2),await bf(n),n.bu.set("Unknown"))}function Ku(t){return t.Su||(t.Su=function(e,n,r){const i=mt(e);return i.fu(),new Lz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Uz.bind(null,t),ao:Vz.bind(null,t),nu:qz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),yS(t)?vS(t):t.bu.set("Unknown")):(await t.Su.stop(),yL(t))})),t.Su}function Zo(t){return t.Du||(t.Du=function(e,n,r){const i=mt(e);return i.fu(),new jz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Wz.bind(null,t),ao:Kz.bind(null,t),au:Yz.bind(null,t),cu:Gz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Lg(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bS(t,e){if(no("AsyncQueue",`${e}: ${t}`),vf(t))return new je(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=id(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.Cu=new vn(Ke.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):at():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cu{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cu(e,n,fu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.Nu=void 0,this.listeners=[]}}class Jz{constructor(){this.queries=new Gu(e=>qM(e),Og),this.onlineState="Unknown",this.ku=new Set}}async function Zz(t,e){const n=mt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xz),i)try{s.Nu=await n.onListen(r)}catch(o){const a=bS(o,`Initialization of query '${Ex(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&xS(n)}async function e7(t,e){const n=mt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function t7(t,e){const n=mt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&xS(n)}function n7(t,e,n){const r=mt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xS(t){t.ku.forEach(e=>{e.next()})}class r7{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.key=e}}class SL{constructor(e){this.key=e}}class i7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wt(),this.mutatedKeys=wt(),this.tc=HM(e),this.ec=new fu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new yN,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=Ag(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.tc(m,l)>0||h&&this.tc(m,h)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||h)&&(a=!0)),w&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((h,c)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return m(f)-m(p)}(h.type,c.type)||this.tc(h.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Cu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new yN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new SL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _L(r))}),n}hc(e){this.Yu=e.ir,this.Zu=wt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Cu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class s7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o7{constructor(e){this.key=e,this.fc=!1}}class a7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gu(a=>qM(a),Og),this._c=new Map,this.mc=new Set,this.gc=new vn(Ke.comparator),this.yc=new Map,this.Ic=new hS,this.Tc={},this.Ec=new Map,this.Ac=Tu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function l7(t,e){const n=y7(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Oz(n.localStore,ro(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await u7(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&mL(n.remoteStore,o)}return i}async function u7(t,e,n,r,i){t.Rc=(f,p,m)=>async function(g,y,w,b){let x=y.view.sc(w);x.zi&&(x=await pN(g.localStore,y.query,!1).then(({documents:k})=>y.view.sc(k,x)));const S=b&&b.targetChanges.get(y.targetId),_=y.view.applyChanges(x,g.isPrimaryClient,S);return bN(g,y.targetId,_.cc),_.snapshot}(t,f,p,m);const s=await pN(t.localStore,e,!0),o=new i7(e,s.ir),a=o.sc(s.documents),l=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);bN(t,n,h.cc);const c=new s7(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),h.snapshot}async function c7(t,e){const n=mt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Og(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ox(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gL(n.remoteStore,r.targetId),Ax(n,r.targetId)}).catch(gf)):(Ax(n,r.targetId),await Ox(n.localStore,r.targetId,!0))}async function d7(t,e,n){const r=w7(t);try{const i=await function(s,o){const a=mt(s),l=Un.now(),h=o.reduce((p,m)=>p.add(m.key),wt());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=io(),g=wt();return a.Zi.getEntries(p,h).next(y=>{m=y,m.forEach((w,b)=>{b.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(y=>{c=y;const w=[];for(const b of o){const x=MH(b,c.get(b.key).overlayedDocument);x!=null&&w.push(new fa(b.key,x,MM(x.value.mapValue),qi.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,w,o)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:WM(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new vn(Dt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await xf(r,i.changes),await Lg(r.remoteStore)}catch(i){const s=bS(i,"Failed to persist write");n.reject(s)}}async function EL(t,e){const n=mt(t);try{const r=await Tz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(on(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?on(o.fc):i.removedDocuments.size>0&&(on(o.fc),o.fc=!1))}),await xf(n,r,e)}catch(r){await gf(r)}}function wN(t,e,n){const r=mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=mt(s);a.onlineState=o;let l=!1;a.queries.forEach((h,c)=>{for(const f of c.listeners)f.Mu(o)&&(l=!0)}),l&&xS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f7(t,e,n){const r=mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new vn(Ke.comparator);o=o.insert(s,vr.newNoDocument(s,ct.min()));const a=wt().add(s),l=new Pg(ct.min(),new Map,new vn(Dt),o,a);await EL(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),_S(r)}else await Ox(r.localStore,e,!1).then(()=>Ax(r,e,n)).catch(gf)}async function h7(t,e){const n=mt(t),r=e.batch.batchId;try{const i=await kz(n.localStore,e);TL(n,r,null),kL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,i)}catch(i){await gf(i)}}async function p7(t,e,n){const r=mt(t);try{const i=await function(s,o){const a=mt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(on(c!==null),h=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(r.localStore,e);TL(r,e,n),kL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,i)}catch(i){await gf(i)}}function kL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function TL(t,e,n){const r=mt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ax(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||CL(t,r)})}function CL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(gL(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),_S(t))}function bN(t,e,n){for(const r of n)r instanceof _L?(t.Ic.addReference(r.key,e),m7(t,r)):r instanceof SL?(We("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||CL(t,r.key)):at()}function m7(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(We("SyncEngine","New document in limbo: "+n),t.mc.add(r),_S(t))}function _S(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ke(nn.fromString(e)),r=t.Ac.next();t.yc.set(r,new o7(n)),t.gc=t.gc.insert(n,r),mL(t.remoteStore,new Vo(ro(oS(n.path)),r,"TargetPurposeLimboResolution",eS.ct))}}async function xf(t,e,n){const r=mt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const c=mS.Li(l.targetId,h);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const h=mt(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(l,f=>Se.forEach(f.Fi,p=>h.persistence.referenceDelegate.addReference(c,f.targetId,p)).next(()=>Se.forEach(f.Bi,p=>h.persistence.referenceDelegate.removeReference(c,f.targetId,p)))))}catch(c){if(!vf(c))throw c;We("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const p=h.Ji.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.Ji=h.Ji.insert(f,g)}}}(r.localStore,s))}async function g7(t,e){const n=mt(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await dL(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new je(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.er)}}function v7(t,e){const n=mt(t),r=n.yc.get(e);if(r&&r.fc)return wt().add(r.key);{let i=wt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function y7(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f7.bind(null,e),e.dc.nu=t7.bind(null,e.eventManager),e.dc.Pc=n7.bind(null,e.eventManager),e}function w7(t){const e=mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p7.bind(null,e),e}class xN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ez(this.persistence,new _z,e.initialUser,this.serializer)}createPersistence(e){return new bz(pS.zs,this.serializer)}createSharedClientState(e){return new Dz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class b7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g7.bind(null,this.syncEngine),await Qz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Jz}createDatastore(e){const n=Rg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Mz(i));var i;return function(s,o,a,l){return new Fz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>wN(this.syncEngine,a,0),o=gN.D()?new gN:new Iz,new Bz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,h){const c=new a7(r,i,s,o,a,l);return h&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=mt(e);We("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await bf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):no("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=IM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{We("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(We("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $0(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _N(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E7(t);We("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>vN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>vN(e.remoteStore,s)),t._onlineComponents=e}function S7(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function E7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await $0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!S7(n))throw n;_u("Error using user provided cache. Falling back to memory cache: "+n),await $0(t,new xN)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await $0(t,new xN);return t._offlineComponents}async function NL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await _N(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await _N(t,new b7))),t._onlineComponents}function k7(t){return NL(t).then(e=>e.syncEngine)}async function SN(t){const e=await NL(t),n=e.eventManager;return n.onListen=l7.bind(null,e.syncEngine),n.onUnlisten=c7.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e,n){if(!n)throw new je(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T7(t,e,n,r){if(e===!0&&r===!0)throw new je(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kN(t){if(!Ke.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TN(t){if(Ke.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at()}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new je(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Fg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new je(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CN(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Yq;switch(n.type){case"firstParty":return new Xq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new je(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=EN.get(e);n&&(We("ComponentProvider","Removing Datastore"),EN.delete(e),n.terminate())}(this),Promise.resolve()}}function C7(t,e,n,r={}){var i;const s=(t=zs(t,Fg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gr.MOCK_USER;else{a=BP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new je(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gr(h)}t._authCredentials=new Gq(new DM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lr(this.firestore,e,this._key)}}class bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class Go extends bl{constructor(e,n,r){super(e,n,oS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lr(this.firestore,null,new Ke(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function DL(t,e,...n){if(t=It(t),AL("collection","path",e),t instanceof Fg){const r=nn.fromString(e,...n);return TN(r),new Go(t,null,r)}{if(!(t instanceof Lr||t instanceof Go))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return TN(r),new Go(t.firestore,null,r)}}function an(t,e,...n){if(t=It(t),arguments.length===1&&(e=IM.A()),AL("doc","path",e),t instanceof Fg){const r=nn.fromString(e,...n);return kN(r),new Lr(t,null,new Ke(r))}{if(!(t instanceof Lr||t instanceof Go))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return kN(r),new Lr(t.firestore,t instanceof Go?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hL(this,"async_queue_retry"),this.Xc=()=>{const n=F0();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=F0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=F0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new qa;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!vf(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw no("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=wS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&at()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function NN(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Nu extends Fg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N7,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PL(this),this._firestoreClient.terminate()}}function O7(t,e){const n=rf(),r="(default)",i=oa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=b_("firestore");s&&C7(i,...s)}return i}function IL(t){return t._firestoreClient||PL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PL(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,h){return new uH(o,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new _7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(Er.fromBase64String(e))}catch(n){throw new je(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ou(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^__.*__$/;class D7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class RL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ML(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class kS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return mm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(ML(this.ca)&&A7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class I7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rg(e)}ya(e,n,r,i=!1){return new kS({ca:e,methodName:n,ga:r,path:yr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TS(t){const e=t._freezeSettings(),n=Rg(t._databaseId);return new I7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P7(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);CS("Data must be an object, but it was:",o,r);const a=LL(r,o);let l,h;if(s.merge)l=new li(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=Dx(e,f,n);if(!o.contains(p))throw new je(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);FL(c,p)||c.push(p)}l=new li(c),h=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=o.fieldTransforms;return new D7(new Kr(a),l,h)}class Bg extends SS{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bg}}function R7(t,e,n,r){const i=t.ya(1,e,n);CS("Data must be an object, but it was:",i,r);const s=[],o=Kr.empty();yl(r,(l,h)=>{const c=NS(e,l,n);h=It(h);const f=i.da(c);if(h instanceof Bg)s.push(c);else{const p=_f(h,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new li(s);return new RL(o,a,i.fieldTransforms)}function M7(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Dx(e,r,n)],l=[i];if(s.length%2!=0)throw new je(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Dx(e,s[p])),l.push(s[p+1]);const h=[],c=Kr.empty();for(let p=a.length-1;p>=0;--p)if(!FL(h,a[p])){const m=a[p];let g=l[p];g=It(g);const y=o.da(m);if(g instanceof Bg)h.push(m);else{const w=_f(g,y);w!=null&&(h.push(m),c.set(m,w))}}const f=new li(h);return new RL(c,f,o.fieldTransforms)}function L7(t,e,n,r=!1){return _f(n,t.ya(r?4:3,e))}function _f(t,e){if(jL(t=It(t)))return CS("Unsupported field value:",e,t),LL(t,e);if(t instanceof SS)return function(n,r){if(!ML(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=_f(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return OH(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Un.fromDate(n);return{timestampValue:hm(r.serializer,i)}}if(n instanceof Un){const i=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hm(r.serializer,i)}}if(n instanceof ES)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ou)return{bytesValue:sL(r.serializer,n._byteString)};if(n instanceof Lr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${jg(n)}`)}(t,e)}function LL(t,e){const n={};return PM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,(r,i)=>{const s=_f(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof ES||t instanceof Ou||t instanceof Lr||t instanceof SS)}function CS(t,e,n){if(!jL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=jg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Dx(t,e,n){if((e=It(e))instanceof $g)return e._internalPath;if(typeof e=="string")return NS(t,e);throw mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const j7=new RegExp("[~\\*/\\[\\]]");function NS(t,e,n){if(e.search(j7)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $g(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new je(me.INVALID_ARGUMENT,a+t+l)}function FL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F7 extends $L{data(){return super.data()}}function Ug(t,e){return typeof e=="string"?NS(t,e):e instanceof $g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OS{}class BL extends OS{}function B0(t,e,...n){let r=[];e instanceof OS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof AS).length,o=i.filter(a=>a instanceof Vg).length;if(s>1||s>0&&o>0)throw new je(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vg extends BL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vg(e,n,r)}_apply(e){const n=this._parse(e);return UL(e._query,n),new bl(e.firestore,e.converter,_x(e._query,n))}_parse(e){const n=TS(e.firestore);return function(i,s,o,a,l,h,c){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new je(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DN(c,h);const p=[];for(const m of c)p.push(AN(a,i,m));f={arrayValue:{values:p}}}else f=AN(a,i,c)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DN(c,h),f=L7(o,s,c,h==="in"||h==="not-in");return Mn.create(l,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ON(t,e,n){const r=e,i=Ug("where",t);return Vg._create(i,r,n)}class AS extends OS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)UL(s,a),s=_x(s,a)}(e._query,n),new bl(e.firestore,e.converter,_x(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class DS extends BL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new DS(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new je(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new je(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new cu(i,s);return function(a,l){if(aS(a)===null){const h=Ng(a);h!==null&&VL(a,h,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Yu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function B7(t,e="asc"){const n=e,r=Ug("orderBy",t);return DS._create(r,n)}function AN(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new je(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VM(e)&&n.indexOf("/")!==-1)throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!Ke.isDocumentKey(r))throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X2(t,new Ke(r))}if(n instanceof Lr)return X2(t,n._key);throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jg(n)}.`)}function DN(t,e){if(!Array.isArray(t)||t.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UL(t,e){if(e.isInequality()){const r=Ng(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new je(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=aS(t);s!==null&&VL(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function VL(t,e,n){if(!n.isEqual(e))throw new je(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class U7{convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw at()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ES(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);on(cL(r));const i=new Fd(r.get(1),r.get(3)),s=new Ke(r.popFirst(5));return i.isEqual(n)||no(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qL extends $L{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dp extends qL{data(e={}){return super.data(e)}}class q7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dp(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Dp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new od(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Dp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new od(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:H7(o.type),doc:a,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function H7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}class HL extends U7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,n)}}function Cs(t,e,n){t=zs(t,Lr);const r=zs(t.firestore,Nu),i=V7(t.converter,e);return IS(r,[P7(TS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qi.none())])}function pn(t,e,n,...r){t=zs(t,Lr);const i=zs(t.firestore,Nu),s=TS(i);let o;return o=typeof(e=It(e))=="string"||e instanceof $g?M7(s,"updateDoc",t._key,e,n,r):R7(s,"updateDoc",t._key,e),IS(i,[o.toMutation(t._key,qi.exists(!0))])}function qg(t){return IS(zs(t.firestore,Nu),[new lS(t._key,qi.none())])}function zL(t,...e){var n,r,i;t=It(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||NN(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(NN(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,h,c;if(t instanceof Lr)h=zs(t.firestore,Nu),c=oS(t._key.path),l={next:f=>{e[o]&&e[o](z7(h,t,f))},error:e[o+1],complete:e[o+2]};else{const f=zs(t,bl);h=zs(f.firestore,Nu),c=f._query;const p=new HL(h);l={next:m=>{e[o]&&e[o](new q7(h,p,f,m))},error:e[o+1],complete:e[o+2]},$7(t._query)}return function(f,p,m,g){const y=new x7(g),w=new r7(p,y,m);return f.asyncQueue.enqueueAndForget(async()=>Zz(await SN(f),w)),()=>{y.Dc(),f.asyncQueue.enqueueAndForget(async()=>e7(await SN(f),w))}}(IL(h),c,a,l)}function IS(t,e){return function(n,r){const i=new qa;return n.asyncQueue.enqueueAndForget(async()=>d7(await k7(n),r,i)),i.promise}(IL(t),e)}function z7(t,e,n){const r=n.docs.get(e._key),i=new HL(t);return new qL(t,i,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Wu=n})(ml),Ti(new fi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Nu(new Kq(n.getProvider("auth-internal")),new Zq(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new je(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),wr(W2,"3.13.0",t),wr(W2,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7="type.googleapis.com/google.protobuf.Int64Value",Y7="type.googleapis.com/google.protobuf.UInt64Value";function WL(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Ix(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ix(e));if(typeof t=="function"||typeof t=="object")return WL(t,e=>Ix(e));throw new Error("Data cannot be encoded in JSON: "+t)}function gm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case W7:case Y7:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>gm(e)):typeof t=="function"||typeof t=="object"?WL(t,e=>gm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hu extends Ni{constructor(e,n,r){super(`${PS}/${e}`,n||""),this.details=r}}function G7(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function K7(t,e){let n=G7(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!IN[o])return new hu("internal","internal");n=IN[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=gm(i))}}catch{}return n==="ok"?null:new hu(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="us-central1";function X7(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new hu("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class J7{constructor(e,n,r,i,s=Px,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Q7(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=Px}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Z7(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function eW(t,e,n){return r=>nW(t,e,r,{})}async function tW(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function nW(t,e,n,r){const i=t._url(e);return rW(t,i,n,r)}async function rW(t,e,n,r){n=Ix(n);const i={data:n},s={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=X7(a),h=await Promise.race([tW(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!h)throw new hu("cancelled","Firebase Functions instance was deleted.");const c=K7(h.status,h.json);if(c)throw c;if(!h.json)throw new hu("internal","Response is not valid JSON object.");let f=h.json.data;if(typeof f>"u"&&(f=h.json.result),typeof f>"u")throw new hu("internal","Response is missing data field.");return{data:gm(f)}}const PN="@firebase/functions",RN="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="auth-internal",sW="app-check-internal",oW="messaging-internal";function aW(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(iW),a=r.getProvider(oW),l=r.getProvider(sW);return new J7(s,o,a,l,i,t)};Ti(new fi(PS,n,"PUBLIC").setMultipleInstances(!0)),wr(PN,RN,e),wr(PN,RN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t=rf(),e=Px){const r=oa(It(t),PS).getImmediate({identifier:e}),i=b_("functions");return i&&uW(r,...i),r}function uW(t,e,n){Z7(It(t),e,n)}function YL(t,e,n){return eW(It(t),e)}aW(fetch.bind(self));const cW=(t,e)=>e.some(n=>t instanceof n);let MN,LN;function dW(){return MN||(MN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fW(){return LN||(LN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GL=new WeakMap,Rx=new WeakMap,KL=new WeakMap,U0=new WeakMap,RS=new WeakMap;function hW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GL.set(n,t)}).catch(()=>{}),RS.set(e,t),e}function pW(t){if(Rx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rx.set(t,e)}let Mx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mW(t){Mx=t(Mx)}function gW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(V0(this),e,...n);return KL.set(r,e.sort?e.sort():[e]),Ko(r)}:fW().includes(t)?function(...e){return t.apply(V0(this),e),Ko(GL.get(this))}:function(...e){return Ko(t.apply(V0(this),e))}}function vW(t){return typeof t=="function"?gW(t):(t instanceof IDBTransaction&&pW(t),cW(t,dW())?new Proxy(t,Mx):t)}function Ko(t){if(t instanceof IDBRequest)return hW(t);if(U0.has(t))return U0.get(t);const e=vW(t);return e!==t&&(U0.set(t,e),RS.set(e,t)),e}const V0=t=>RS.get(t);function yW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ko(o.result),l.oldVersion,l.newVersion,Ko(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const wW=["get","getKey","getAll","getAllKeys","count"],bW=["put","add","delete","clear"],q0=new Map;function jN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q0.get(e))return q0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wW.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return q0.set(e,s),s}mW(t=>({...t,get:(e,n,r)=>jN(e,n)||t.get(e,n,r),has:(e,n)=>!!jN(e,n)||t.has(e,n)}));const QL="@firebase/installations",MS="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e4,JL=`w:${MS}`,ZL="FIS_v2",xW="https://firebaseinstallations.googleapis.com/v1",_W=60*60*1e3,SW="installations",EW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tl=new pl(SW,EW,kW);function e4(t){return t instanceof Ni&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4({projectId:t}){return`${xW}/projects/${t}/installations`}function n4(t){return{token:t.token,requestStatus:2,expiresIn:CW(t.expiresIn),creationTime:Date.now()}}async function r4(t,e){const r=(await e.json()).error;return tl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function i4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TW(t,{refreshToken:e}){const n=i4(t);return n.append("Authorization",NW(e)),n}async function s4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function CW(t){return Number(t.replace("s","000"))}function NW(t){return`${ZL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=t4(t),i=i4(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:ZL,appId:t.appId,sdkVersion:JL},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await s4(()=>fetch(r,a));if(l.ok){const h=await l.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:n4(h.authToken)}}else throw await r4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=/^[cdef][\w-]{21}$/,Lx="";function IW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PW(t);return DW.test(n)?n:Lx}catch{return Lx}}function PW(t){return AW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Map;function l4(t,e){const n=Hg(t);u4(n,e),RW(n,e)}function u4(t,e){const n=a4.get(t);if(n)for(const r of n)r(e)}function RW(t,e){const n=MW();n&&n.postMessage({key:t,fid:e}),LW()}let Fa=null;function MW(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=t=>{u4(t.data.key,t.data.fid)}),Fa}function LW(){a4.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="firebase-installations-database",FW=1,nl="firebase-installations-store";let H0=null;function LS(){return H0||(H0=yW(jW,FW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nl)}}})),H0}async function vm(t,e){const n=Hg(t),i=(await LS()).transaction(nl,"readwrite"),s=i.objectStore(nl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&l4(t,e.fid),e}async function c4(t){const e=Hg(t),r=(await LS()).transaction(nl,"readwrite");await r.objectStore(nl).delete(e),await r.done}async function zg(t,e){const n=Hg(t),i=(await LS()).transaction(nl,"readwrite"),s=i.objectStore(nl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&l4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t){let e;const n=await zg(t.appConfig,r=>{const i=$W(r),s=BW(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Lx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $W(t){const e=t||{fid:IW(),registrationStatus:0};return d4(e)}function BW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(tl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VW(t)}:{installationEntry:e}}async function UW(t,e){try{const n=await OW(t,e);return vm(t.appConfig,n)}catch(n){throw e4(n)&&n.customData.serverCode===409?await c4(t.appConfig):await vm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VW(t){let e=await FN(t.appConfig);for(;e.registrationStatus===1;)await o4(100),e=await FN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jS(t);return r||n}return e}function FN(t){return zg(t,e=>{if(!e)throw tl.create("installation-not-found");return d4(e)})}function d4(t){return qW(t)?{fid:t.fid,registrationStatus:0}:t}function qW(t){return t.registrationStatus===1&&t.registrationTime+XL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW({appConfig:t,heartbeatServiceProvider:e},n){const r=zW(t,n),i=TW(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:JL,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await s4(()=>fetch(r,a));if(l.ok){const h=await l.json();return n4(h)}else throw await r4("Generate Auth Token",l)}function zW(t,{fid:e}){return`${t4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t,e=!1){let n;const r=await zg(t.appConfig,s=>{if(!f4(s))throw tl.create("not-registered");const o=s.authToken;if(!e&&GW(o))return s;if(o.requestStatus===1)return n=WW(t,e),s;{if(!navigator.onLine)throw tl.create("app-offline");const a=QW(s);return n=YW(t,a),a}});return n?await n:r.authToken}async function WW(t,e){let n=await $N(t.appConfig);for(;n.authToken.requestStatus===1;)await o4(100),n=await $N(t.appConfig);const r=n.authToken;return r.requestStatus===0?FS(t,e):r}function $N(t){return zg(t,e=>{if(!f4(e))throw tl.create("not-registered");const n=e.authToken;return XW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YW(t,e){try{const n=await HW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await vm(t.appConfig,r),n}catch(n){if(e4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await c4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vm(t.appConfig,r)}throw n}}function f4(t){return t!==void 0&&t.registrationStatus===2}function GW(t){return t.requestStatus===2&&!KW(t)}function KW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_W}function QW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function XW(t){return t.requestStatus===1&&t.requestTime+XL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t){const e=t,{installationEntry:n,registrationPromise:r}=await jS(e);return r?r.catch(console.error):FS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e=!1){const n=t;return await eY(n),(await FS(n,e)).token}async function eY(t){const{registrationPromise:e}=await jS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){if(!t||!t.options)throw z0("App Configuration");if(!t.name)throw z0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw z0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function z0(t){return tl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="installations",nY="installations-internal",rY=t=>{const e=t.getProvider("app").getImmediate(),n=tY(e),r=oa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iY=t=>{const e=t.getProvider("app").getImmediate(),n=oa(e,h4).getImmediate();return{getId:()=>JW(n),getToken:i=>ZW(n,i)}};function sY(){Ti(new fi(h4,rY,"PUBLIC")),Ti(new fi(nY,iY,"PRIVATE"))}sY();wr(QL,MS);wr(QL,MS,"esm2017");const oY=(t,e)=>e.some(n=>t instanceof n);let BN,UN;function aY(){return BN||(BN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lY(){return UN||(UN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p4=new WeakMap,jx=new WeakMap,m4=new WeakMap,W0=new WeakMap,$S=new WeakMap;function uY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&p4.set(n,t)}).catch(()=>{}),$S.set(e,t),e}function cY(t){if(jx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jx.set(t,e)}let Fx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dY(t){Fx=t(Fx)}function fY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Y0(this),e,...n);return m4.set(r,e.sort?e.sort():[e]),Ws(r)}:lY().includes(t)?function(...e){return t.apply(Y0(this),e),Ws(p4.get(this))}:function(...e){return Ws(t.apply(Y0(this),e))}}function hY(t){return typeof t=="function"?fY(t):(t instanceof IDBTransaction&&cY(t),oY(t,aY())?new Proxy(t,Fx):t)}function Ws(t){if(t instanceof IDBRequest)return uY(t);if(W0.has(t))return W0.get(t);const e=hY(t);return e!==t&&(W0.set(t,e),$S.set(e,t)),e}const Y0=t=>$S.get(t);function g4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function G0(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ws(n).then(()=>{})}const pY=["get","getKey","getAll","getAllKeys","count"],mY=["put","add","delete","clear"],K0=new Map;function VN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K0.get(e))return K0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return K0.set(e,s),s}dY(t=>({...t,get:(e,n,r)=>VN(e,n)||t.get(e,n,r),has:(e,n)=>!!VN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="/firebase-messaging-sw.js",vY="/firebase-cloud-messaging-push-scope",v4="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yY="https://fcmregistrations.googleapis.com/v1",y4="google.c.a.c_id",wY="google.c.a.c_l",bY="google.c.a.ts",xY="google.c.a.e";var qN;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(qN||(qN={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Vd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Vd||(Vd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _Y(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="fcm_token_details_db",SY=5,HN="fcm_token_object_Store";async function EY(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Q0))return null;let e=null;return(await g4(Q0,SY,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(HN))return;const l=o.objectStore(HN),h=await l.index("fcmSenderId").get(t);if(await l.clear(),!!h){if(i===2){const c=h;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Bs(c.vapidKey)}}}else if(i===3){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Bs(c.auth),p256dh:Bs(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Bs(c.vapidKey)}}}else if(i===4){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Bs(c.auth),p256dh:Bs(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Bs(c.vapidKey)}}}}}})).close(),await G0(Q0),await G0("fcm_vapid_details_db"),await G0("undefined"),kY(e)?e:null}function kY(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY="firebase-messaging-database",CY=1,rl="firebase-messaging-store";let X0=null;function BS(){return X0||(X0=g4(TY,CY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),X0}async function w4(t){const e=VS(t),r=await(await BS()).transaction(rl).objectStore(rl).get(e);if(r)return r;{const i=await EY(t.appConfig.senderId);if(i)return await US(t,i),i}}async function US(t,e){const n=VS(t),i=(await BS()).transaction(rl,"readwrite");return await i.objectStore(rl).put(e,n),await i.done,e}async function NY(t){const e=VS(t),r=(await BS()).transaction(rl,"readwrite");await r.objectStore(rl).delete(e),await r.done}function VS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},jr=new pl("messaging","Messaging",OY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t,e){const n=await HS(t),r=x4(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(qS(t.appConfig),i)).json()}catch(o){throw jr.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw jr.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw jr.create("token-subscribe-no-token");return s.token}async function DY(t,e){const n=await HS(t),r=x4(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${qS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw jr.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw jr.create("token-update-failed",{errorInfo:o})}if(!s.token)throw jr.create("token-update-no-token");return s.token}async function b4(t,e){const r={method:"DELETE",headers:await HS(t)};try{const s=await(await fetch(`${qS(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw jr.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw jr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function qS({projectId:t}){return`${yY}/projects/${t}/registrations`}async function HS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function x4({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==v4&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=7*24*60*60*1e3;async function PY(t){const e=await LY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Bs(e.getKey("auth")),p256dh:Bs(e.getKey("p256dh"))},r=await w4(t.firebaseDependencies);if(r){if(jY(r.subscriptionOptions,n))return Date.now()>=r.createTime+IY?MY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await b4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zN(t.firebaseDependencies,n)}else return zN(t.firebaseDependencies,n)}async function RY(t){const e=await w4(t.firebaseDependencies);e&&(await b4(t.firebaseDependencies,e.token),await NY(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function MY(t,e){try{const n=await DY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await US(t.firebaseDependencies,r),n}catch(n){throw await RY(t),n}}async function zN(t,e){const r={token:await AY(t,e),createTime:Date.now(),subscriptionOptions:e};return await US(t,r),r.token}async function LY(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_Y(e)})}function jY(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return FY(e,t),$Y(e,t),BY(e,t),e}function FY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function $Y(t,e){e.data&&(t.data=e.data)}function BY(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){return typeof t=="object"&&!!t&&y4 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");_4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function _4(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t){if(!t||!t.options)throw J0("App Configuration Object");if(!t.name)throw J0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw J0(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function J0(t){return jr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=VY(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t){try{t.swRegistration=await navigator.serviceWorker.register(gY,{scope:vY}),t.swRegistration.update().catch(()=>{})}catch(e){throw jr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zY(t,e){if(!e&&!t.swRegistration&&await HY(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw jr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=v4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){if(!navigator)throw jr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw jr.create("permission-blocked");return await WY(t,e==null?void 0:e.vapidKey),await zY(t,e==null?void 0:e.serviceWorkerRegistration),PY(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(t,e,n){const r=GY(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[y4],message_name:n[wY],message_time:n[bY],message_device_time:Math.floor(Date.now()/1e3)})}function GY(t){switch(t){case Vd.NOTIFICATION_CLICKED:return"notification_open";case Vd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Vd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(WN(n)):t.onMessageHandler.next(WN(n)));const r=n.data;UY(r)&&r[xY]==="1"&&await YY(t,n.messageType,r)}const YN="@firebase/messaging",GN="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=t=>{const e=new qY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>KY(e,n)),e},XY=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>S4(e,r)}};function JY(){Ti(new fi("messaging",QY,"PUBLIC")),Ti(new fi("messaging-internal",XY,"PRIVATE")),wr(YN,GN),wr(YN,GN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(){try{await VP()}catch{return!1}return typeof window<"u"&&UP()&&vU()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t=rf()){return ZY().then(e=>{if(!e)throw jr.create("unsupported-browser")},e=>{throw jr.create("indexed-db-unsupported")}),oa(It(t),"messaging").getImmediate()}async function tG(t,e){return t=It(t),S4(t,e)}JY();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebasestorage.googleapis.com",k4="storageBucket",nG=2*60*1e3,rG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends Ni{constructor(e,n,r=0){super(Z0(e),`Firebase Storage: ${n} (${Z0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Z0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function Z0(t){return"storage/"+t}function zS(){const t="An unknown error occurred, please check the error payload for server response.";return new Sn(xn.UNKNOWN,t)}function iG(t){return new Sn(xn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sG(t){return new Sn(xn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Sn(xn.UNAUTHENTICATED,t)}function aG(){return new Sn(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lG(t){return new Sn(xn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uG(){return new Sn(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cG(){return new Sn(xn.CANCELED,"User canceled the upload/download.")}function dG(t){return new Sn(xn.INVALID_URL,"Invalid URL '"+t+"'.")}function fG(t){return new Sn(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hG(){return new Sn(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k4+"' property when initializing the app?")}function pG(){return new Sn(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mG(){return new Sn(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gG(t){return new Sn(xn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $x(t){return new Sn(xn.INVALID_ARGUMENT,t)}function T4(){return new Sn(xn.APP_DELETED,"The Firebase app was deleted.")}function vG(t){return new Sn(xn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yd(t,e){return new Sn(xn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vc(t){throw new Sn(xn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw fG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===E4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let _=0;_<S.length;_++){const k=S[_],N=k.regex.exec(e);if(N){const O=N[k.indices.bucket];let C=N[k.indices.path];C||(C=""),r=new ui(O,C),k.postModify(r);break}}if(r==null)throw dG(e);return r}}class yG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let h=!1;function c(...w){h||(h=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(m,l())},w)}function p(){s&&clearTimeout(s)}function m(w,...b){if(h){p();return}if(w){p(),c.call(null,w,...b);return}if(l()||o){p(),c.call(null,w,...b);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,f(S)}let g=!1;function y(w){g||(g=!0,p(),!h&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function bG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t){return t!==void 0}function _G(t){return typeof t=="object"&&!Array.isArray(t)}function WS(t){return typeof t=="string"||t instanceof String}function KN(t){return YS()&&t instanceof Blob}function YS(){return typeof Blob<"u"&&!hU()}function QN(t,e,n,r){if(r<e)throw $x(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $x(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function C4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n,r,i,s,o,a,l,h,c,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new tp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ha.NO_ERROR,l=s.getStatus();if(!a||SG(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ha.ABORT;r(!1,new tp(!1,null,c));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new tp(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());xG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=zS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?T4():cG();o(l)}else{const l=uG();o(l)}};this.canceled_?n(!1,new tp(!1,null,!0)):this.backoffId_=wG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OG(t,e,n,r,i,s,o=!0){const a=C4(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return CG(h,e),kG(h,n),TG(h,s),NG(h,r),new EG(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DG(...t){const e=AG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(YS())return new Blob(t);throw new Sn(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){if(typeof atob>"u")throw gG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ew{constructor(e,n){this.data=e,this.contentType=n||null}}function RG(t,e){switch(t){case gs.RAW:return new ew(N4(e));case gs.BASE64:case gs.BASE64URL:return new ew(O4(t,e));case gs.DATA_URL:return new ew(LG(e),jG(e))}throw zS()}function N4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MG(t){let e;try{e=decodeURIComponent(t)}catch{throw yd(gs.DATA_URL,"Malformed data URL.")}return N4(e)}function O4(t,e){switch(t){case gs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=PG(e)}catch(i){throw i.message.includes("polyfill")?i:yd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class A4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yd(gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=FG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LG(t){const e=new A4(t);return e.base64?O4(gs.BASE64,e.rest):MG(e.rest)}function jG(t){return new A4(t).contentType}function FG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){let r=0,i="";KN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(KN(this.data_)){const r=this.data_,i=IG(r,e,n);return i===null?null:new Bo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bo(r,!0)}}static getBlob(...e){if(YS()){const n=e.map(r=>r instanceof Bo?r.data_:r);return new Bo(DG.apply(null,n))}else{const n=e.map(o=>WS(o)?RG(gs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Bo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){let e;try{e=JSON.parse(t)}catch{return null}return _G(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function I4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t,e){return e}class Ar{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UG}}let np=null;function VG(t){return!WS(t)||t.length<2?t:I4(t)}function P4(){if(np)return np;const t=[];t.push(new Ar("bucket")),t.push(new Ar("generation")),t.push(new Ar("metageneration")),t.push(new Ar("name","fullPath",!0));function e(s,o){return VG(o)}const n=new Ar("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ar("size");return i.xform=r,t.push(i),t.push(new Ar("timeCreated")),t.push(new Ar("updated")),t.push(new Ar("md5Hash",null,!0)),t.push(new Ar("cacheControl",null,!0)),t.push(new Ar("contentDisposition",null,!0)),t.push(new Ar("contentEncoding",null,!0)),t.push(new Ar("contentLanguage",null,!0)),t.push(new Ar("contentType",null,!0)),t.push(new Ar("metadata","customMetadata",!0)),np=t,np}function qG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ui(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function HG(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return qG(r,t),r}function R4(t,e,n){const r=D4(e);return r===null?null:HG(t,r,n)}function zG(t,e,n,r){const i=D4(e);if(i===null||!WS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const c=t.bucket,f=t.fullPath,p="/b/"+o(c)+"/o/"+o(f),m=GS(p,n,r),g=C4({alt:"media",token:h});return m+g})[0]}function WG(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class M4{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){if(!t)throw zS()}function YG(t,e){function n(r,i){const s=R4(t,i,e);return L4(s!==null),s}return n}function GG(t,e){function n(r,i){const s=R4(t,i,e);return L4(s!==null),zG(s,i,t.host,t._protocol)}return n}function j4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=aG():i=oG():n.getStatus()===402?i=sG(t.bucket):n.getStatus()===403?i=lG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KG(t){const e=j4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=iG(t.path)),s.serverResponse=i.serverResponse,s}return n}function QG(t,e,n){const r=e.fullServerUrl(),i=GS(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new M4(i,s,GG(t,n),o);return a.errorHandler=KG(e),a}function XG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XG(null,e)),r}function ZG(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let _=0;_<2;_++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const h=JG(e,r,i),c=WG(h,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Bo.getBlob(f,r,p);if(m===null)throw pG();const g={name:h.fullPath},y=GS(s,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,x=new M4(y,w,YG(t,n),b);return x.urlParams=g,x.headers=o,x.body=m.uploadData(),x.errorHandler=j4(e),x}class eK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tK extends eK{initXhr(){this.xhr_.responseType="text"}}function F4(){return new tK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new il(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I4(this._location.path)}get storage(){return this._service}get parent(){const e=$G(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new il(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vG(e)}}function nK(t,e,n){t._throwIfRoot("uploadBytes");const r=ZG(t.storage,t._location,P4(),new Bo(e,!0),n);return t.storage.makeRequestWithTokens(r,F4).then(i=>({metadata:i,ref:t}))}function rK(t){t._throwIfRoot("getDownloadURL");const e=QG(t.storage,t._location,P4());return t.storage.makeRequestWithTokens(e,F4).then(n=>{if(n===null)throw mG();return n})}function iK(t,e){const n=BG(t._location.path,e),r=new ui(t._location.bucket,n);return new il(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t){return/^[A-Za-z]+:\/\//.test(t)}function oK(t,e){return new il(t,e)}function $4(t,e){if(t instanceof KS){const n=t;if(n._bucket==null)throw hG();const r=new il(n,n._bucket);return e!=null?$4(r,e):r}else return e!==void 0?iK(t,e):t}function aK(t,e){if(e&&sK(e)){if(t instanceof KS)return oK(t,e);throw $x("To use ref(service, url), the first argument must be a Storage instance.")}else return $4(t,e)}function XN(t,e){const n=e==null?void 0:e[k4];return n==null?null:ui.makeFromBucketSpec(n,t)}function lK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:BP(i,t.app.options.projectId))}class KS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=E4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nG,this._maxUploadRetryTime=rG,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=XN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=XN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new il(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yG(T4());{const o=OG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const JN="@firebase/storage",ZN="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="storage";function eO(t,e,n){return t=It(t),nK(t,e,n)}function Bx(t){return t=It(t),rK(t)}function Ux(t,e){return t=It(t),aK(t,e)}function uK(t=rf(),e){t=It(t);const r=oa(t,B4).getImmediate({identifier:e}),i=b_("storage");return i&&cK(r,...i),r}function cK(t,e,n,r={}){lK(t,e,n,r)}function dK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new KS(n,r,i,e,ml)}function fK(){Ti(new fi(B4,dK,"PUBLIC").setMultipleInstances(!0)),wr(JN,ZN,""),wr(JN,ZN,"esm2017")}fK();const hK={apiKey:"AIzaSyA6HW3pwkb-agsEpSYWGmlYSuvFiJDxp5c",authDomain:"han-bookclub.firebaseapp.com",projectId:"han-bookclub",storageBucket:"han-bookclub.appspot.com",messagingSenderId:"1033530409448",appId:"1:1033530409448:web:aff6942a34c0a48c81645d",measurementId:"G-925LMFR6FK"},pK=zP(hK),Ht=ug(),Jt=O7(),Vx=uK(),mK=eG(pK),U4=lW(),ym=async()=>tG(mK,{vapidKey:"BDj5rPznBXENjg3_ufDJ6BLBU1igiHvQTiBDYOUMRbVQTcQpQRh6erEWWBQyg1SVuC3yAvzgM4xarrhpqwM26ag",serviceWorkerRegistration:await navigator.serviceWorker.register("/han-bookclub-app/firebase-messaging-sw.js")}),tw=YL(U4,"sendUnicast"),tO=YL(U4,"sendMulticast");var V4={};function gK(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var vK=gK,gt=vK;function yK(t){return!!t&&typeof t.then=="function"}var rn=yK;function wK(t,e){if(t!=null)return t;throw gt(e??"Got unexpected null or undefined")}var cn=wK;function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Wg{getValue(){throw gt("BaseLoadable")}toPromise(){throw gt("BaseLoadable")}valueMaybe(){throw gt("BaseLoadable")}valueOrThrow(){throw gt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw gt("BaseLoadable")}promiseOrThrow(){throw gt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw gt("BaseLoadable")}errorOrThrow(){throw gt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw gt("BaseLoadable")}}class bK extends Wg{constructor(e){super(),pt(this,"state","hasValue"),pt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return rn(n)?sl(n):Au(n)?n:Sf(n)}catch(n){return rn(n)?sl(n.next(()=>this.map(e))):Yg(n)}}}class xK extends Wg{constructor(e){super(),pt(this,"state","hasError"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class q4 extends Wg{constructor(e){super(),pt(this,"state","loading"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return sl(this.contents.then(n=>{const r=e(n);if(Au(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(rn(n))return n.then(()=>this.map(e).contents);throw n}))}}function Sf(t){return Object.freeze(new bK(t))}function Yg(t){return Object.freeze(new xK(t))}function sl(t){return Object.freeze(new q4(t))}function H4(){return Object.freeze(new q4(new Promise(()=>{})))}function _K(t){return t.every(e=>e.state==="hasValue")?Sf(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Yg(cn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):sl(Promise.all(t.map(e=>e.contents)))}function z4(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Au(i)?i:rn(i)?sl(i):Sf(i)),r=_K(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Au(t){return t instanceof Wg}const SK={of:t=>rn(t)?sl(t):Au(t)?t:Sf(t),error:t=>Yg(t),loading:()=>H4(),all:z4,isLoadable:Au};var xl={loadableWithValue:Sf,loadableWithError:Yg,loadableWithPromise:sl,loadableLoading:H4,loadableAll:z4,isLoadable:Au,RecoilLoadable:SK},EK=xl.loadableWithValue,kK=xl.loadableWithError,TK=xl.loadableWithPromise,CK=xl.loadableLoading,NK=xl.loadableAll,OK=xl.isLoadable,AK=xl.RecoilLoadable,Ef=Object.freeze({__proto__:null,loadableWithValue:EK,loadableWithError:kK,loadableWithPromise:TK,loadableLoading:CK,loadableAll:NK,isLoadable:OK,RecoilLoadable:AK});const qx={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function DK(t,e){var n,r;const i=(n=V4[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw gt(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function IK(t,e){var n;const r=(n=V4[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function PK(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(DK("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{qx.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),IK("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{qx.RECOIL_GKS_ENABLED.add(n)})}))}PK();var kf=qx;function Gg(t){return kf.RECOIL_GKS_ENABLED.has(t)}Gg.setPass=t=>{kf.RECOIL_GKS_ENABLED.add(t)};Gg.setFail=t=>{kf.RECOIL_GKS_ENABLED.delete(t)};Gg.clear=()=>{kf.RECOIL_GKS_ENABLED.clear()};var Xt=Gg;function RK(t,e,{error:n}={}){return null}var MK=RK,Jr=MK,nw,rw,iw;const LK=(nw=se.createMutableSource)!==null&&nw!==void 0?nw:se.unstable_createMutableSource,W4=(rw=se.useMutableSource)!==null&&rw!==void 0?rw:se.unstable_useMutableSource,QS=(iw=se.useSyncExternalStore)!==null&&iw!==void 0?iw:se.unstable_useSyncExternalStore;let nO=!1;function jK(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null;return QS&&!i&&!nO&&(nO=!0,Jr()),i}function FK(){return Xt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Xt("recoil_sync_external_store")&&QS!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Xt("recoil_mutable_source")&&W4!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Xt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Xt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var XS={createMutableSource:LK,useMutableSource:W4,useSyncExternalStore:QS,currentRendererSupportsUseSyncExternalStore:jK,reactMode:FK};class JS{constructor(e){pt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Y4 extends JS{}class G4 extends JS{}function $K(t){return t instanceof Y4||t instanceof G4}var Kg={AbstractRecoilValue:JS,RecoilState:Y4,RecoilValueReadOnly:G4,isRecoilValue:$K},BK=Kg.AbstractRecoilValue,UK=Kg.RecoilState,VK=Kg.RecoilValueReadOnly,qK=Kg.isRecoilValue,ol=Object.freeze({__proto__:null,AbstractRecoilValue:BK,RecoilState:UK,RecoilValueReadOnly:VK,isRecoilValue:qK});function HK(t,...e){}var zK=HK,K4=zK;function WK(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Qg=WK;class Q4{}const YK=new Q4,Du=new Map,ZS=new Map;function GK(t){return Qg(t,e=>cn(ZS.get(e)))}function KK(t){if(Du.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function QK(t){kf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&KK(t.key),Du.set(t.key,t);const e=t.set==null?new ol.RecoilValueReadOnly(t.key):new ol.RecoilState(t.key);return ZS.set(t.key,e),e}class XK extends Error{}function JK(t){const e=Du.get(t);if(e==null)throw new XK(`Missing definition for RecoilValue: "${t}""`);return e}function ZK(t){return Du.get(t)}const wm=new Map;function eQ(t){var e;if(!Xt("recoil_memory_managament_2020"))return;const n=Du.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Du.delete(t),(r=X4(t))===null||r===void 0||r(),wm.delete(t)}}function tQ(t,e){Xt("recoil_memory_managament_2020")&&(e===void 0?wm.delete(t):wm.set(t,e))}function X4(t){return wm.get(t)}var Oi={recoilValues:ZS,registerNode:QK,getNode:JK,getNodeMaybe:ZK,deleteNodeConfigIfPossible:eQ,setConfigDeletionHandler:tQ,getConfigDeletionHandler:X4,recoilValuesForKeys:GK,DefaultValue:Q4,DEFAULT_VALUE:YK};function nQ(t,e){e()}var rQ={enqueueExecution:nQ};function iQ(t,e){return e={exports:{}},t(e,e.exports),e.exports}var sQ=iQ(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},h=function(ie){return function(){return ie}},c=n.hash=function(oe){var ie=typeof oe>"u"?"undefined":e(oe);if(ie==="number")return oe;ie!=="string"&&(oe+="");for(var be=0,ke=0,Te=oe.length;ke<Te;++ke){var Oe=oe.charCodeAt(ke);be=(be<<5)-be+Oe|0}return be},f=function(ie){return ie-=ie>>1&1431655765,ie=(ie&858993459)+(ie>>2&858993459),ie=ie+(ie>>4)&252645135,ie+=ie>>8,ie+=ie>>16,ie&127},p=function(ie,be){return be>>>ie&s},m=function(ie){return 1<<ie},g=function(ie,be){return f(ie&be-1)},y=function(ie,be,ke,Te){var Oe=Te;if(!ie){var Ge=Te.length;Oe=new Array(Ge);for(var Be=0;Be<Ge;++Be)Oe[Be]=Te[Be]}return Oe[be]=ke,Oe},w=function(ie,be,ke){var Te=ke.length-1,Oe=0,Ge=0,Be=ke;if(ie)Oe=Ge=be;else for(Be=new Array(Te);Oe<be;)Be[Ge++]=ke[Oe++];for(++Oe;Oe<=Te;)Be[Ge++]=ke[Oe++];return ie&&(Be.length=Te),Be},b=function(ie,be,ke,Te){var Oe=Te.length;if(ie){for(var Ge=Oe;Ge>=be;)Te[Ge--]=Te[Ge];return Te[be]=ke,Te}for(var Be=0,He=0,rt=new Array(Oe+1);Be<be;)rt[He++]=Te[Be++];for(rt[be]=ke;Be<Oe;)rt[++He]=Te[Be++];return rt},x=1,S=2,_=3,k=4,N={__hamt_isEmpty:!0},O=function(ie){return ie===N||ie&&ie.__hamt_isEmpty},C=function(ie,be,ke,Te){return{type:x,edit:ie,hash:be,key:ke,value:Te,_modify:Y}},I=function(ie,be,ke){return{type:S,edit:ie,hash:be,children:ke,_modify:H}},P=function(ie,be,ke){return{type:_,edit:ie,mask:be,children:ke,_modify:j}},A=function(ie,be,ke){return{type:k,edit:ie,size:be,children:ke,_modify:U}},D=function(ie){return ie===N||ie.type===x||ie.type===S},L=function(ie,be,ke,Te,Oe){for(var Ge=[],Be=Te,He=0,rt=0;Be;++rt)Be&1&&(Ge[rt]=Oe[He++]),Be>>>=1;return Ge[be]=ke,A(ie,He+1,Ge)},F=function(ie,be,ke,Te){for(var Oe=new Array(be-1),Ge=0,Be=0,He=0,rt=Te.length;He<rt;++He)if(He!==ke){var St=Te[He];St&&!O(St)&&(Oe[Ge++]=St,Be|=1<<He)}return P(ie,Be,Oe)},q=function oe(ie,be,ke,Te,Oe,Ge){if(ke===Oe)return I(ie,ke,[Ge,Te]);var Be=p(be,ke),He=p(be,Oe);return P(ie,m(Be)|m(He),Be===He?[oe(ie,be+r,ke,Te,Oe,Ge)]:Be<He?[Te,Ge]:[Ge,Te])},M=function(ie,be,ke,Te,Oe,Ge,Be,He){for(var rt=Oe.length,St=0;St<rt;++St){var An=Oe[St];if(ke(Be,An.key)){var Lt=An.value,ln=Ge(Lt);return ln===Lt?Oe:ln===l?(--He.value,w(ie,St,Oe)):y(ie,St,C(be,Te,Be,ln),Oe)}}var Ur=Ge();return Ur===l?Oe:(++He.value,y(ie,rt,C(be,Te,Be,Ur),Oe))},B=function(ie,be){return ie===be.edit},Y=function(ie,be,ke,Te,Oe,Ge,Be){if(be(Ge,this.key)){var He=Te(this.value);return He===this.value?this:He===l?(--Be.value,N):B(ie,this)?(this.value=He,this):C(ie,Oe,Ge,He)}var rt=Te();return rt===l?this:(++Be.value,q(ie,ke,this.hash,this,Oe,C(ie,Oe,Ge,rt)))},H=function(ie,be,ke,Te,Oe,Ge,Be){if(Oe===this.hash){var He=B(ie,this),rt=M(He,ie,be,this.hash,this.children,Te,Ge,Be);return rt===this.children?this:rt.length>1?I(ie,this.hash,rt):rt[0]}var St=Te();return St===l?this:(++Be.value,q(ie,ke,this.hash,this,Oe,C(ie,Oe,Ge,St)))},j=function(ie,be,ke,Te,Oe,Ge,Be){var He=this.mask,rt=this.children,St=p(ke,Oe),An=m(St),Lt=g(He,An),ln=He&An,Ur=ln?rt[Lt]:N,mi=Ur._modify(ie,be,ke+r,Te,Oe,Ge,Be);if(Ur===mi)return this;var co=B(ie,this),Ii=He,ga=void 0;if(ln&&O(mi)){if(Ii&=~An,!Ii)return N;if(rt.length<=2&&D(rt[Lt^1]))return rt[Lt^1];ga=w(co,Lt,rt)}else if(!ln&&!O(mi)){if(rt.length>=o)return L(ie,St,mi,He,rt);Ii|=An,ga=b(co,Lt,mi,rt)}else ga=y(co,Lt,mi,rt);return co?(this.mask=Ii,this.children=ga,this):P(ie,Ii,ga)},U=function(ie,be,ke,Te,Oe,Ge,Be){var He=this.size,rt=this.children,St=p(ke,Oe),An=rt[St],Lt=(An||N)._modify(ie,be,ke+r,Te,Oe,Ge,Be);if(An===Lt)return this;var ln=B(ie,this),Ur=void 0;if(O(An)&&!O(Lt))++He,Ur=y(ln,St,Lt,rt);else if(!O(An)&&O(Lt)){if(--He,He<=a)return F(ie,He,St,rt);Ur=y(ln,St,N,rt)}else Ur=y(ln,St,Lt,rt);return ln?(this.size=He,this.children=Ur,this):A(ie,He,Ur)};N._modify=function(oe,ie,be,ke,Te,Oe,Ge){var Be=ke();return Be===l?N:(++Ge.value,C(oe,Te,Oe,Be))};function V(oe,ie,be,ke,Te){this._editable=oe,this._edit=ie,this._config=be,this._root=ke,this._size=Te}V.prototype.setTree=function(oe,ie){return this._editable?(this._root=oe,this._size=ie,this):oe===this._root?this:new V(this._editable,this._edit,this._config,oe,ie)};var z=n.tryGetHash=function(oe,ie,be,ke){for(var Te=ke._root,Oe=0,Ge=ke._config.keyEq;;)switch(Te.type){case x:return Ge(be,Te.key)?Te.value:oe;case S:{if(ie===Te.hash)for(var Be=Te.children,He=0,rt=Be.length;He<rt;++He){var St=Be[He];if(Ge(be,St.key))return St.value}return oe}case _:{var An=p(Oe,ie),Lt=m(An);if(Te.mask&Lt){Te=Te.children[g(Te.mask,Lt)],Oe+=r;break}return oe}case k:{if(Te=Te.children[p(Oe,ie)],Te){Oe+=r;break}return oe}default:return oe}};V.prototype.tryGetHash=function(oe,ie,be){return z(oe,ie,be,this)};var K=n.tryGet=function(oe,ie,be){return z(oe,be._config.hash(ie),ie,be)};V.prototype.tryGet=function(oe,ie){return K(oe,ie,this)};var X=n.getHash=function(oe,ie,be){return z(void 0,oe,ie,be)};V.prototype.getHash=function(oe,ie){return X(oe,ie,this)},n.get=function(oe,ie){return z(void 0,ie._config.hash(oe),oe,ie)},V.prototype.get=function(oe,ie){return K(ie,oe,this)};var W=n.has=function(oe,ie,be){return z(l,oe,ie,be)!==l};V.prototype.hasHash=function(oe,ie){return W(oe,ie,this)};var J=n.has=function(oe,ie){return W(ie._config.hash(oe),oe,ie)};V.prototype.has=function(oe){return J(oe,this)};var Z=function(ie,be){return ie===be};n.make=function(oe){return new V(0,0,{keyEq:oe&&oe.keyEq||Z,hash:oe&&oe.hash||c},N,0)},n.empty=n.make();var te=n.isEmpty=function(oe){return oe&&!!O(oe._root)};V.prototype.isEmpty=function(){return te(this)};var le=n.modifyHash=function(oe,ie,be,ke){var Te={value:ke._size},Oe=ke._root._modify(ke._editable?ke._edit:NaN,ke._config.keyEq,0,oe,ie,be,Te);return ke.setTree(Oe,Te.value)};V.prototype.modifyHash=function(oe,ie,be){return le(be,oe,ie,this)};var pe=n.modify=function(oe,ie,be){return le(oe,be._config.hash(ie),ie,be)};V.prototype.modify=function(oe,ie){return pe(ie,oe,this)};var ge=n.setHash=function(oe,ie,be,ke){return le(h(be),oe,ie,ke)};V.prototype.setHash=function(oe,ie,be){return ge(oe,ie,be,this)};var Ce=n.set=function(oe,ie,be){return ge(be._config.hash(oe),oe,ie,be)};V.prototype.set=function(oe,ie){return Ce(oe,ie,this)};var Fe=h(l),De=n.removeHash=function(oe,ie,be){return le(Fe,oe,ie,be)};V.prototype.removeHash=V.prototype.deleteHash=function(oe,ie){return De(oe,ie,this)};var nt=n.remove=function(oe,ie){return De(ie._config.hash(oe),oe,ie)};V.prototype.remove=V.prototype.delete=function(oe){return nt(oe,this)};var Qe=n.beginMutation=function(oe){return new V(oe._editable+1,oe._edit+1,oe._config,oe._root,oe._size)};V.prototype.beginMutation=function(){return Qe(this)};var ce=n.endMutation=function(oe){return oe._editable=oe._editable&&oe._editable-1,oe};V.prototype.endMutation=function(){return ce(this)};var fe=n.mutate=function(oe,ie){var be=Qe(ie);return oe(be),ce(be)};V.prototype.mutate=function(oe){return fe(oe,this)};var we=function(ie){return ie&&xe(ie[0],ie[1],ie[2],ie[3],ie[4])},xe=function(ie,be,ke,Te,Oe){for(;ke<ie;){var Ge=be[ke++];if(Ge&&!O(Ge))return he(Ge,Te,[ie,be,ke,Te,Oe])}return we(Oe)},he=function(ie,be,ke){switch(ie.type){case x:return{value:be(ie),rest:ke};case S:case k:case _:var Te=ie.children;return xe(Te.length,Te,0,be,ke);default:return we(ke)}},$e={done:!0};function Ie(oe){this.v=oe}Ie.prototype.next=function(){if(!this.v)return $e;var oe=this.v;return this.v=we(oe.rest),oe},Ie.prototype[Symbol.iterator]=function(){return this};var Ye=function(ie,be){return new Ie(he(ie._root,be))},Gt=function(ie){return[ie.key,ie.value]},On=n.entries=function(oe){return Ye(oe,Gt)};V.prototype.entries=V.prototype[Symbol.iterator]=function(){return On(this)};var it=function(ie){return ie.key},$r=n.keys=function(oe){return Ye(oe,it)};V.prototype.keys=function(){return $r(this)};var ut=function(ie){return ie.value},qt=n.values=V.prototype.values=function(oe){return Ye(oe,ut)};V.prototype.values=function(){return qt(this)};var Xn=n.fold=function(oe,ie,be){var ke=be._root;if(ke.type===x)return oe(ie,ke.value,ke.key);for(var Te=[ke.children],Oe=void 0;Oe=Te.pop();)for(var Ge=0,Be=Oe.length;Ge<Be;){var He=Oe[Ge++];He&&He.type&&(He.type===x?ie=oe(ie,He.value,He.key):Te.push(He.children))}return ie};V.prototype.fold=function(oe,ie){return Xn(oe,ie,this)};var Br=n.forEach=function(oe,ie){return Xn(function(be,ke,Te){return oe(ke,Te,ie)},null,ie)};V.prototype.forEach=function(oe){return Br(oe,this)};var Cr=n.count=function(oe){return oe._size};V.prototype.count=function(){return Cr(this)},Object.defineProperty(V.prototype,"size",{get:V.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class oQ{constructor(e){pt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return tE(this)}toMap(){return new Map(this._map)}}class eE{constructor(e){if(pt(this,"_hamt",sQ.empty.beginMutation()),e instanceof eE){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return tE(this)}toMap(){return new Map(this._hamt)}}function tE(t){return Xt("recoil_hamt_2020")?new eE(t):new oQ(t)}var aQ={persistentMap:tE},lQ=aQ.persistentMap,uQ=Object.freeze({__proto__:null,persistentMap:lQ});function cQ(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var rO=cQ;function dQ(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var iO=dQ;function fQ(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function hQ(t){return{nodeDeps:iO(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:iO(t.nodeToNodeSubscriptions,e=>new Set(e))}}function sw(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:rO(e,o);for(const l of a)s.has(l)||s.set(l,new Set),cn(s.get(l)).add(t);if(o){const l=rO(o,e);for(const h of l){if(!s.has(h))return;const c=cn(s.get(h));c.delete(t),c.size===0&&s.delete(h)}}}function pQ(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||r===((s=l.previousTree)===null||s===void 0?void 0:s.version)||Jr();const h=n.getGraph(r);if(sw(t,e,h),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const f=n.getGraph(l.currentTree.version);sw(t,e,f,h)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const p=n.getGraph(f);sw(t,e,p,h)}}}var Tf={cloneGraph:hQ,graph:fQ,saveDepsToStore:pQ};let mQ=0;const gQ=()=>mQ++;let vQ=0;const yQ=()=>vQ++;let wQ=0;const bQ=()=>wQ++;var Xg={getNextTreeStateVersion:gQ,getNextStoreID:yQ,getNextComponentID:bQ};const{persistentMap:sO}=uQ,{graph:xQ}=Tf,{getNextTreeStateVersion:J4}=Xg;function _Q(){const t=J4();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:sO(),nonvalidatedAtoms:sO()}}function SQ(){const t=_Q();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,xQ()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Z4={makeEmptyStoreState:SQ,getNextTreeStateVersion:J4};class EQ{}var nE={RetentionZone:EQ};function kQ(t,e){const n=new Set(t);return n.add(e),n}var TQ={setByAddingToSet:kQ};function*CQ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var rE=CQ;function NQ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var ej=NQ;const{getNode:Cf,getNodeMaybe:OQ,recoilValuesForKeys:oO}=Oi,{RetentionZone:aO}=nE,{setByAddingToSet:AQ}=TQ,DQ=Object.freeze(new Set);class IQ extends Error{}function PQ(t,e,n){if(!Xt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof aO)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Xt("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof aO)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function iE(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Cf(n),o=PQ(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function RQ(t,e,n){iE(t,t.getState().currentTree,e,n)}function MQ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function LQ(t,e,n){return iE(t,e,n,"get"),Cf(n).get(t,e)}function tj(t,e,n){return Cf(n).peek(t,e)}function jQ(t,e,n){var r;const i=OQ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:AQ(t.dirtyAtoms,e)}}function FQ(t,e,n,r){const i=Cf(n);if(i.set==null)throw new IQ(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return iE(t,e,n,"set"),s(t,e,r)}function $Q(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Cf(n).nodeType;return ej({type:s},{loadable:()=>tj(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return oO((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:oO(rE(nj(t,e,new Set([n])),l=>l!==n)),components:Qg((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function nj(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:DQ;for(const h of l)r.has(h)||i.push(h)}return r}var _l={getNodeLoadable:LQ,peekNodeLoadable:tj,setNodeValue:FQ,initializeNode:RQ,cleanUpNode:MQ,setUnvalidatedAtomValue_DEPRECATED:jQ,peekNodeInfo:$Q,getDownstreamNodes:nj};let rj=null;function BQ(t){rj=t}function UQ(){var t;(t=rj)===null||t===void 0||t()}var ij={setInvalidateMemoizedSnapshot:BQ,invalidateMemoizedSnapshot:UQ};const{getDownstreamNodes:VQ,getNodeLoadable:sj,setNodeValue:qQ}=_l,{getNextComponentID:HQ}=Xg,{getNode:zQ,getNodeMaybe:oj}=Oi,{DefaultValue:sE}=Oi,{reactMode:WQ}=XS,{AbstractRecoilValue:YQ,RecoilState:Pge,RecoilValueReadOnly:Rge,isRecoilValue:Mge}=ol,{invalidateMemoizedSnapshot:GQ}=ij;function KQ(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||n.version===((i=s.previousTree)===null||i===void 0?void 0:i.version)||Jr();const o=sj(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function QQ(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof sE?n.delete(i):n.set(i,r)}),n}function XQ(t,e,{key:n},r){if(typeof r=="function"){const i=sj(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Jr(),gt(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function JQ(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=XQ(t,e,i,s),a=qQ(t,e,i.key,o);for(const[l,h]of a.entries())Hx(e,l,h)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Hx(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=oj(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else Jr(`Unknown action ${n.type}`)}function Hx(t,e,n){n.state==="hasValue"&&n.contents instanceof sE?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function aj(t,e){t.replaceState(n=>{const r=lj(n);for(const i of e)JQ(t,r,i);return uj(t,r),GQ(),r})}function Jg(t,e){if(wd.length){const n=wd[wd.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else aj(t,[e])}const wd=[];function ZQ(){const t=new Map;return wd.push(t),()=>{for(const[n,r]of t)aj(n,r);wd.pop()!==t&&Jr()}}function lj(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function uj(t,e){const n=VQ(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=oj(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function cj(t,e,n){Jg(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function eX(t,e,n){if(n instanceof sE)return cj(t,e,n);Jg(t,{type:"setLoadable",recoilValue:e,loadable:n})}function tX(t,e){Jg(t,{type:"markModified",recoilValue:e})}function nX(t,e,n){Jg(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function rX(t,{key:e},n,r=null){const i=HQ(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),cn(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=WQ();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);if(l===void 0||!l.has(i)){Jr();return}l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e)}}}function iX(t,e){var n;const{currentTree:r}=t.getState(),i=zQ(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var oo={AbstractRecoilValue:YQ,getRecoilValueAsLoadable:KQ,setRecoilValue:cj,setRecoilValueLoadable:eX,markRecoilValueModified:tX,setUnvalidatedRecoilValue:nX,subscribeToRecoilValue:rX,applyAtomValueWrites:QQ,batchStart:ZQ,writeLoadableToTreeState:Hx,invalidateDownstreams:uj,copyTreeState:lj,refreshRecoilValue:iX};function sX(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var oX=sX;const{cleanUpNode:aX}=_l,{deleteNodeConfigIfPossible:lX,getNode:dj}=Oi,{RetentionZone:fj}=nE,uX=12e4,hj=new Set;function pj(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree){Jr();return}const i=new Set;for(const o of e)if(o instanceof fj)for(const a of hX(n,o))i.add(a);else i.add(o);const s=cX(t,i);for(const o of s)fX(t,r,o)}function cX(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const h=new Set,c=dX(t,r,l,s,o);for(const g of c){var f;if(dj(g).retainedBy==="recoilRoot"){o.add(g);continue}if(((f=n.retention.referenceCounts.get(g))!==null&&f!==void 0?f:0)>0){o.add(g);continue}if(mj(g).some(w=>n.retention.referenceCounts.get(w))){o.add(g);continue}const y=i.nodeToNodeSubscriptions.get(g);if(y&&oX(y,w=>o.has(w))){o.add(g);continue}s.add(g),h.add(g)}const p=new Set;for(const g of h)for(const y of(m=i.nodeDeps.get(g))!==null&&m!==void 0?m:hj){var m;s.has(y)||p.add(y)}p.size&&a(p)}}function dX(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(cn(n.values().next().value));return o;function l(h){if(r.has(h)||i.has(h)){n.delete(h);return}if(a.has(h))return;const c=s.nodeToNodeSubscriptions.get(h);if(c)for(const f of c)l(f);a.add(h),n.delete(h),o.push(h)}}function fX(t,e,n){if(!Xt("recoil_memory_managament_2020"))return;aX(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=mj(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const h of l){var a;(a=o.nodeToNodeSubscriptions.get(h))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}lX(n)}function hX(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:hj}function mj(t){const e=dj(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof fj?[e]:e}function pX(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):pj(t,new Set([e]))}function mX(t,e,n){var r;if(!Xt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?gX(t,e):i.set(e,s)}function gX(t,e){if(!Xt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),pX(t,e)}function vX(t){if(!Xt("recoil_memory_managament_2020"))return;const e=t.getState();pj(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function yX(t){return t===void 0?"recoilRoot":t}var Qu={SUSPENSE_TIMEOUT_MS:uX,updateRetainCount:mX,releaseScheduledRetainablesNow:vX,retainedByOptionWithDefault:yX};const{unstable_batchedUpdates:wX}=g_;var bX={unstable_batchedUpdates:wX};const{unstable_batchedUpdates:xX}=bX;var _X={unstable_batchedUpdates:xX};const{batchStart:SX}=oo,{unstable_batchedUpdates:EX}=_X;let kX=EX||(t=>t());const TX=t=>{kX(()=>{let e=()=>{};try{e=SX(),t()}finally{e()}})};var oE={batchUpdates:TX};function*CX(t){for(const e of t)for(const n of e)yield n}var gj=CX;const NX=typeof Window>"u"||typeof window>"u";var aE={isSSR:NX};function OX(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var AX={memoizeOneWithArgsHashAndInvalidation:OX};const{batchUpdates:zx}=oE,{initializeNode:DX,peekNodeInfo:IX}=_l,{graph:PX}=Tf,{getNextStoreID:RX}=Xg,{DEFAULT_VALUE:MX,recoilValues:lO,recoilValuesForKeys:uO}=Oi,{AbstractRecoilValue:LX,getRecoilValueAsLoadable:jX,setRecoilValue:cO,setUnvalidatedRecoilValue:FX}=oo,{updateRetainCount:Ip}=Qu,{setInvalidateMemoizedSnapshot:$X}=ij,{getNextTreeStateVersion:BX,makeEmptyStoreState:UX}=Z4,{isSSR:VX}=aE,{memoizeOneWithArgsHashAndInvalidation:qX}=AX;class Zg{constructor(e,n){pt(this,"_store",void 0),pt(this,"_refCount",1),pt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),jX(this._store,r))),pt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),pt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return uO(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?lO.values():r.isInitialized===!0?uO(gj([i,s])):rE(lO.values(),({key:o})=>!i.has(o)&&!s.has(o))}),pt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),IX(this._store,this._store.getState().currentTree,r))),pt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Wx(this,zx);return r(i),i}),pt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Wx(this,zx);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:RX(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return cn(i.get(r));const s=PX();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw gt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)DX(this._store,r,"get"),Ip(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&Jr(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){VX||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Xt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Xt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function vj(t,e,n=!1){const r=t.getState(),i=n?BX():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Qg(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function HX(t){const e=new Zg(UX());return t!=null?e.map(t):e}const[dO,yj]=qX((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:cn(r.previousTree);return new Zg(vj(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});$X(yj);function zX(t,e="latest"){const n=dO(t,e);return n.isRetained()?n:(yj(),dO(t,e))}class Wx extends Zg{constructor(e,n){super(vj(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),pt(this,"_batch",void 0),pt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Ip(s,r.key,1),cO(this.getStore_INTERNAL(),r,i)})}),pt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Ip(i,r.key,1),cO(this.getStore_INTERNAL(),r,MX)})}),pt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();zx(()=>{for(const[s,o]of r.entries())Ip(i,s,1),FX(i,new LX(s),o)})}),this._batch=n}}var ev={Snapshot:Zg,MutableSnapshot:Wx,freshSnapshot:HX,cloneSnapshot:zX},WX=ev.Snapshot,YX=ev.MutableSnapshot,GX=ev.freshSnapshot,KX=ev.cloneSnapshot,tv=Object.freeze({__proto__:null,Snapshot:WX,MutableSnapshot:YX,freshSnapshot:GX,cloneSnapshot:KX});function QX(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var XX=QX;const{useRef:JX}=se;function ZX(t){const e=JX(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var fO=ZX;const{getNextTreeStateVersion:eJ,makeEmptyStoreState:wj}=Z4,{cleanUpNode:tJ,getDownstreamNodes:nJ,initializeNode:rJ,setNodeValue:iJ,setUnvalidatedAtomValue_DEPRECATED:sJ}=_l,{graph:oJ}=Tf,{cloneGraph:aJ}=Tf,{getNextStoreID:bj}=Xg,{createMutableSource:ow,reactMode:xj}=XS,{applyAtomValueWrites:lJ}=oo,{releaseScheduledRetainablesNow:_j}=Qu,{freshSnapshot:uJ}=tv,{useCallback:cJ,useContext:Sj,useEffect:Yx,useMemo:dJ,useRef:fJ,useState:hJ}=se;function qc(){throw gt("This component must be used inside a <RecoilRoot> component.")}const Ej=Object.freeze({storeID:bj(),getState:qc,replaceState:qc,getGraph:qc,subscribeToTransactions:qc,addTransactionMetadata:qc});let Gx=!1;function hO(t){if(Gx)throw gt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Xt("recoil_memory_managament_2020")&&Xt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&_j(t);const n=e.currentTree.version,r=eJ();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,aJ(cn(e.graphsByVersion.get(n))))}}const kj=se.createContext({current:Ej}),lE=()=>Sj(kj),Tj=se.createContext(null);function pJ(){const t=Sj(Tj);return t==null&&K4(),t}function Cj(t,e,n){const r=nJ(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function mJ(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!xj().early||e.suspendedComponentResolvers.size>0)&&(Cj(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function gJ(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,mJ(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Jr("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Xt("recoil_memory_managament_2020")&&n==null&&_j(t)}finally{e.commitDepth--}}function vJ({setNotifyBatcherOfChange:t}){const e=lE(),[,n]=hJ([]);return t(()=>n({})),Yx(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Yx(()=>{rQ.enqueueExecution("Batcher",()=>{gJ(e.current)})}),null}function yJ(t,e){const n=wj();return e({set:(r,i)=>{const s=n.currentTree,o=iJ(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const h of a)l.delete(h);n.currentTree={...s,dirtyAtoms:XX(s.dirtyAtoms,a),atomValues:lJ(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=sJ(n.currentTree,s,i)})}}),n}function wJ(t){const e=uJ(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let pO=0;function bJ({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=m=>{const g=i.current.graphsByVersion;if(g.has(m))return cn(g.get(m));const y=oJ();return g.set(m,y),y},o=(m,g)=>{if(g==null){const{transactionSubscriptions:y}=f.current.getState(),w=pO++;return y.set(w,m),{release:()=>{y.delete(w)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(g)||y.set(g,new Map);const w=pO++;return cn(y.get(g)).set(w,m),{release:()=>{const b=y.get(g);b&&(b.delete(w),b.size===0&&y.delete(g))}}}},a=m=>{hO(f.current);for(const g of Object.keys(m))cn(f.current.getState().nextTree).transactionMetadata[g]=m[g]},l=m=>{hO(f.current);const g=cn(i.current.nextTree);let y;try{Gx=!0,y=m(g)}finally{Gx=!1}y!==g&&(i.current.nextTree=y,xj().early&&Cj(f.current,i.current,y),cn(h.current)())},h=fJ(null),c=cJ(m=>{h.current=m},[h]),f=fO(()=>n??{storeID:bj(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(f.current=n),i=fO(()=>t!=null?yJ(f.current,t):e!=null?wJ(e):wj());const p=dJ(()=>ow==null?void 0:ow(i,()=>i.current.currentTree.version),[i]);return Yx(()=>{const m=f.current;for(const g of new Set(m.getState().knownAtoms))rJ(m,g,"get");return()=>{for(const g of m.getState().knownAtoms)tJ(m,g)}},[f]),se.createElement(kj.Provider,{value:f},se.createElement(Tj.Provider,{value:p},se.createElement(vJ,{setNotifyBatcherOfChange:c}),r))}function xJ(t){const{override:e,...n}=t,r=lE();return e===!1&&r.current!==Ej?t.children:se.createElement(bJ,n)}var uE={RecoilRoot:xJ,useStoreRef:lE,useRecoilMutableSource:pJ};function _J(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var SJ=_J;const{useEffect:EJ,useRef:kJ}=se;function TJ(t){const e=kJ();return EJ(()=>{e.current=t}),e.current}var CJ=TJ;const{useStoreRef:NJ}=uE,{SUSPENSE_TIMEOUT_MS:OJ}=Qu,{updateRetainCount:Hc}=Qu,{RetentionZone:AJ}=nE,{useEffect:DJ,useRef:IJ}=se,{isSSR:mO}=aE;function PJ(t){if(Xt("recoil_memory_managament_2020"))return RJ(t)}function RJ(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof AJ?o:o.key),r=NJ();DJ(()=>{if(!Xt("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!mO)window.clearTimeout(i.current),i.current=null;else for(const a of n)Hc(o,a,1);return()=>{for(const a of n)Hc(o,a,-1)}},[r,...n]);const i=IJ(),s=CJ(n);if(!mO&&(s===void 0||!SJ(s,n))){const o=r.current;for(const a of n)Hc(o,a,1);if(s)for(const a of s)Hc(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Hc(o,a,-1)},OJ)}}var MJ=PJ;function LJ(){return"<component name not available>"}var nv=LJ;const{currentRendererSupportsUseSyncExternalStore:jJ,reactMode:Nf,useMutableSource:FJ,useSyncExternalStore:$J}=XS,{useRecoilMutableSource:BJ,useStoreRef:Xu}=uE,{isRecoilValue:Lge}=ol,{getRecoilValueAsLoadable:rv,setRecoilValue:UJ,subscribeToRecoilValue:iv}=oo,{useCallback:Hi,useEffect:bm,useMemo:VJ,useRef:Nj,useState:Oj}=se,{isSSR:qJ}=aE;function HJ(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),qJ&&rn(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:gt(`Invalid value of loadable atom "${e.key}"`)}function zJ(t){const e=Xu(),n=nv(),r=Hi(()=>{var a;const l=e.current,h=l.getState(),c=Nf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return{loadable:rv(l,t,c),key:t.key}},[e,t]),i=Hi(a=>{let l;return()=>{var h,c;const f=a();return(h=l)!==null&&h!==void 0&&h.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),s=VJ(()=>i(r),[r,i]),o=Hi(a=>{const l=e.current;return iv(l,t,a,n).release},[e,t,n]);return $J(o,s,s).loadable}function WJ(t){const e=Xu(),n=Hi(()=>{var h;const c=e.current,f=c.getState(),p=Nf().early&&(h=f.nextTree)!==null&&h!==void 0?h:f.currentTree;return rv(c,t,p)},[e,t]),r=Hi(()=>n(),[n]),i=nv(),s=Hi((h,c)=>{const f=e.current;return iv(f,t,()=>{if(!Xt("recoil_suppress_rerender_in_callback"))return c();const m=n();l.current.is(m)||c(),l.current=m},i).release},[e,t,i,n]),o=BJ();if(o==null)throw gt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=FJ(o,r,s),l=Nj(a);return bm(()=>{l.current=a}),a}function gO(t){const e=Xu(),n=nv(),r=Hi(()=>{var l;const h=e.current,c=h.getState(),f=Nf().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return rv(h,t,f)},[e,t]),i=Hi(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Hi(l=>{const h=i();return l.loadable.is(h.loadable)&&l.key===h.key?l:h},[i]);bm(()=>{const l=iv(e.current,t,h=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Oj(i);return o.key!==t.key?i().loadable:o.loadable}function YJ(t){const e=Xu(),[,n]=Oj([]),r=nv(),i=Hi(()=>{var a;const l=e.current,h=l.getState(),c=Nf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return rv(l,t,c)},[e,t]),s=i(),o=Nj(s);return bm(()=>{o.current=s}),bm(()=>{const a=e.current,l=a.getState(),h=iv(a,t,f=>{var p;if(!Xt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=o.current)!==null&&p!==void 0&&p.is(m)||n(m),o.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Xt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=o.current)!==null&&c!==void 0&&c.is(f)||n(f),o.current=f}return h.release},[r,i,t,e]),s}function GJ(t){return Xt("recoil_memory_managament_2020")&&MJ(t),{TRANSITION_SUPPORT:gO,SYNC_EXTERNAL_STORE:jJ()?zJ:gO,MUTABLE_SOURCE:WJ,LEGACY:YJ}[Nf().mode](t)}function Aj(t){const e=Xu(),n=GJ(t);return HJ(n,t,e)}function Dj(t){const e=Xu();return Hi(n=>{UJ(e.current,t,n)},[e,t])}function KJ(t){return[Aj(t),Dj(t)]}var QJ={useRecoilState:KJ,useRecoilValue:Aj,useSetRecoilState:Dj};const{batchUpdates:XJ}=oE,{DEFAULT_VALUE:JJ,getNode:ZJ}=Oi,{AbstractRecoilValue:eZ,setRecoilValueLoadable:tZ}=oo,{cloneSnapshot:jge}=tv,{useCallback:Fge,useEffect:$ge,useRef:Bge,useState:Uge}=se;function nZ(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;XJ(()=>{const o=new Set;for(const h of[i.atomValues.keys(),s.atomValues.keys()])for(const c of h){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&ZJ(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(h=>{tZ(t,new eZ(h),s.atomValues.has(h)?cn(s.atomValues.get(h)):JJ)}),t.replaceState(h=>({...h,stateID:e.getID()}))})}var rZ={gotoSnapshot:nZ};const{useMemo:Vge}=se,{loadableWithValue:iZ}=Ef,{initializeNode:sZ}=_l,{DEFAULT_VALUE:oZ,getNode:aZ}=Oi,{copyTreeState:lZ,getRecoilValueAsLoadable:uZ,invalidateDownstreams:cZ,writeLoadableToTreeState:dZ}=oo;function vO(t){return aZ(t.key).nodeType==="atom"}class fZ{constructor(e,n){pt(this,"_store",void 0),pt(this,"_treeState",void 0),pt(this,"_changes",void 0),pt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!vO(r))throw gt("Reading selectors within atomicUpdate is not supported");const i=uZ(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:gt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),pt(this,"set",(r,i)=>{if(!vO(r))throw gt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else sZ(this._store,r.key,"set"),this._changes.set(r.key,i)}),pt(this,"reset",r=>{this.set(r,oZ)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=lZ(this._treeState);for(const[n,r]of this._changes)dZ(e,n,iZ(r));return cZ(this._store,e),e}}function hZ(t){return e=>{t.replaceState(n=>{const r=new fZ(t,n);return e(r),r.newTreeState_INTERNAL()})}}var pZ={atomicUpdater:hZ},mZ=pZ.atomicUpdater,Ij=Object.freeze({__proto__:null,atomicUpdater:mZ});function gZ(t,e){if(!t)throw new Error(e)}var vZ=gZ,ad=vZ;const{atomicUpdater:yZ}=Ij,{batchUpdates:wZ}=oE,{DEFAULT_VALUE:bZ}=Oi,{refreshRecoilValue:xZ,setRecoilValue:yO}=oo,{cloneSnapshot:_Z}=tv,{gotoSnapshot:SZ}=rZ,{useCallback:qge}=se;class Pj{}const EZ=new Pj;function kZ(t,e,n,r){let i=EZ,s;if(wZ(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw gt(a);const l=ej({...r??{},set:(c,f)=>yO(t,c,f),reset:c=>yO(t,c,bZ),refresh:c=>xZ(t,c),gotoSnapshot:c=>SZ(t,c),transact_UNSTABLE:c=>yZ(t)(c)},{snapshot:()=>{const c=_Z(t);return s=c.retain(),c}}),h=e(l);if(typeof h!="function")throw gt(a);i=h(...n)}),i instanceof Pj&&ad(!1),rn(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}var TZ={recoilCallback:kZ};const{useCallback:Hge}=se,{atomicUpdater:zge}=Ij,{useMemo:Wge}=se;class CZ{constructor(e){pt(this,"value",void 0),this.value=e}}var NZ={WrappedValue:CZ},OZ=NZ.WrappedValue,Rj=Object.freeze({__proto__:null,WrappedValue:OZ});class wO extends Error{}class AZ{constructor(e){var n,r,i;pt(this,"_name",void 0),pt(this,"_numLeafs",void 0),pt(this,"_root",void 0),pt(this,"_onHit",void 0),pt(this,"_onSet",void 0),pt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let h,c;for(const[w,b]of e){var f,p,m;const x=this._root;if((x==null?void 0:x.type)==="leaf")throw this.invalidCacheError();const S=h;if(h=S?S.branches.get(c):x,h=(f=h)!==null&&f!==void 0?f:{type:"branch",nodeKey:w,parent:S,branches:new Map,branchKey:c},h.type!=="branch"||h.nodeKey!==w)throw this.invalidCacheError();S==null||S.branches.set(c,h),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,h),c=this._mapNodeValue(b),this._root=(m=this._root)!==null&&m!==void 0?m:h}const g=h?(s=h)===null||s===void 0?void 0:s.branches.get(c):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:h,branchKey:c};(o=h)===null||o===void 0||o.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(s){if(s instanceof wO)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw Jr("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new wO}}var DZ={TreeCache:AZ},IZ=DZ.TreeCache,Mj=Object.freeze({__proto__:null,TreeCache:IZ});class PZ{constructor(e){var n;pt(this,"_maxSize",void 0),pt(this,"_size",void 0),pt(this,"_head",void 0),pt(this,"_tail",void 0),pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=cn(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var RZ={LRUCache:PZ},MZ=RZ.LRUCache,Lj=Object.freeze({__proto__:null,LRUCache:MZ});const{LRUCache:LZ}=Lj,{TreeCache:jZ}=Mj;function FZ({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new LZ({maxSize:e}),i=new jZ({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var bO=FZ;function Ui(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw gt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(rn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Ui(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Ui(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Ui(s,e)]=o;return Ui(i,e,n)}return t instanceof Set?Ui(Array.from(t).sort((i,s)=>Ui(i,e).localeCompare(Ui(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Ui(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Ui(i,e)}:${Ui(t[i],e,i)}`).join(",")}}`}function $Z(t,e={allowFunctions:!1}){return Ui(t,e)}var sv=$Z;const{TreeCache:BZ}=Mj,rp={equality:"reference",eviction:"keep-all",maxSize:1/0};function UZ({equality:t=rp.equality,eviction:e=rp.eviction,maxSize:n=rp.maxSize}=rp,r){const i=VZ(t);return qZ(e,n,i,r)}function VZ(t){switch(t){case"reference":return e=>e;case"value":return e=>sv(e)}throw gt(`Unrecognized equality policy ${t}`)}function qZ(t,e,n,r){switch(t){case"keep-all":return new BZ({name:r,mapNodeValue:n});case"lru":return bO({name:r,maxSize:cn(e),mapNodeValue:n});case"most-recent":return bO({name:r,maxSize:1,mapNodeValue:n})}throw gt(`Unrecognized eviction policy ${t}`)}var HZ=UZ;const{isLoadable:zZ,loadableWithError:ip,loadableWithPromise:WZ,loadableWithValue:aw}=Ef,{WrappedValue:jj}=Rj,{getNodeLoadable:sp,peekNodeLoadable:YZ,setNodeValue:GZ}=_l,{saveDepsToStore:KZ}=Tf,{DEFAULT_VALUE:QZ,getConfigDeletionHandler:XZ,getNode:JZ,registerNode:xO}=Oi,{isRecoilValue:ZZ}=ol,{markRecoilValueModified:_O}=oo,{retainedByOptionWithDefault:eee}=Qu,{recoilCallback:tee}=TZ;class Fj{}const zc=new Fj,Wc=[],op=new Map,nee=(()=>{let t=0;return()=>t++})();function $j(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=HZ(i??{equality:"reference",eviction:"keep-all"},n),l=eee(t.retainedBy_UNSTABLE),h=new Map;let c=0;function f(){return!Xt("recoil_memory_managament_2020")||c>0}function p(V){return V.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return XZ(n)!==void 0&&!f()}function g(V,z,K,X,W){M(z,X,W),y(V,K)}function y(V,z){F(V,z)&&L(V),b(z,!0)}function w(V,z){F(V,z)&&(cn(P(V)).stateVersions.clear(),b(z,!1))}function b(V,z){const K=op.get(V);if(K!=null){for(const X of K)_O(X,cn(e));z&&op.delete(V)}}function x(V,z){let K=op.get(z);K==null&&op.set(z,K=new Set),K.add(V)}function S(V,z,K,X,W,J){return z.then(Z=>{if(!f())throw L(V),zc;const te=aw(Z);return g(V,K,W,te,X),Z}).catch(Z=>{if(!f())throw L(V),zc;if(rn(Z))return _(V,Z,K,X,W,J);const te=ip(Z);throw g(V,K,W,te,X),Z})}function _(V,z,K,X,W,J){return z.then(Z=>{if(!f())throw L(V),zc;J.loadingDepKey!=null&&J.loadingDepPromise===z?K.atomValues.set(J.loadingDepKey,aw(Z)):V.getState().knownSelectors.forEach(ge=>{K.atomValues.delete(ge)});const te=O(V,K);if(te&&te.state!=="loading"){if((F(V,W)||P(V)==null)&&y(V,W),te.state==="hasValue")return te.contents;throw te.contents}if(!F(V,W)){const ge=I(V,K);if(ge!=null)return ge.loadingLoadable.contents}const[le,pe]=N(V,K,W);if(le.state!=="loading"&&g(V,K,W,le,pe),le.state==="hasError")throw le.contents;return le.contents}).catch(Z=>{if(Z instanceof Fj)throw zc;if(!f())throw L(V),zc;const te=ip(Z);throw g(V,K,W,te,X),Z})}function k(V,z,K,X){var W,J,Z,te;if(F(V,X)||z.version===((W=V.getState())===null||W===void 0||(J=W.currentTree)===null||J===void 0?void 0:J.version)||z.version===((Z=V.getState())===null||Z===void 0||(te=Z.nextTree)===null||te===void 0?void 0:te.version)){var le,pe,ge;KZ(n,K,V,(le=(pe=V.getState())===null||pe===void 0||(ge=pe.nextTree)===null||ge===void 0?void 0:ge.version)!==null&&le!==void 0?le:V.getState().currentTree.version)}for(const Ce of K)o.add(Ce)}function N(V,z,K){let X=!0,W=!0;const J=()=>{W=!1};let Z,te=!1,le;const pe={loadingDepKey:null,loadingDepPromise:null},ge=new Map;function Ce({key:De}){const nt=sp(V,z,De);switch(ge.set(De,nt),X||(k(V,z,new Set(ge.keys()),K),w(V,K)),nt.state){case"hasValue":return nt.contents;case"hasError":throw nt.contents;case"loading":throw pe.loadingDepKey=De,pe.loadingDepPromise=nt.contents,nt.contents}throw gt("Invalid Loadable state")}const Fe=De=>(...nt)=>{if(W)throw gt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&ad(!1),tee(V,De,nt,{node:e})};try{Z=r({get:Ce,getCallback:Fe}),Z=ZZ(Z)?Ce(Z):Z,zZ(Z)&&(Z.state==="hasError"&&(te=!0),Z=Z.contents),rn(Z)?Z=S(V,Z,z,ge,K,pe).finally(J):J(),Z=Z instanceof jj?Z.value:Z}catch(De){Z=De,rn(Z)?Z=_(V,Z,z,ge,K,pe).finally(J):(te=!0,J())}return te?le=ip(Z):rn(Z)?le=WZ(Z):le=aw(Z),X=!1,D(V,K,ge),k(V,z,new Set(ge.keys()),K),[le,ge]}function O(V,z){let K=z.atomValues.get(n);if(K!=null)return K;const X=new Set;try{K=a.get(J=>(typeof J!="string"&&ad(!1),sp(V,z,J).contents),{onNodeVisit:J=>{J.type==="branch"&&J.nodeKey!==n&&X.add(J.nodeKey)}})}catch(J){throw gt(`Problem with cache lookup for selector "${n}": ${J.message}`)}if(K){var W;z.atomValues.set(n,K),k(V,z,X,(W=P(V))===null||W===void 0?void 0:W.executionID)}return K}function C(V,z){const K=O(V,z);if(K!=null)return L(V),K;const X=I(V,z);if(X!=null){var W;return((W=X.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&x(V,X.executionID),X.loadingLoadable}const J=nee(),[Z,te]=N(V,z,J);return Z.state==="loading"?(A(V,J,Z,te,z),x(V,J)):(L(V),M(z,Z,te)),Z}function I(V,z){const K=gj([h.has(V)?[cn(h.get(V))]:[],Qg(rE(h,([W])=>W!==V),([,W])=>W)]);function X(W){for(const[J,Z]of W)if(!sp(V,z,J).is(Z))return!0;return!1}for(const W of K){if(W.stateVersions.get(z.version)||!X(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(z.version,!0),W;W.stateVersions.set(z.version,!1)}}function P(V){return h.get(V)}function A(V,z,K,X,W){h.set(V,{depValuesDiscoveredSoFarDuringAsyncWork:X,executionID:z,loadingLoadable:K,stateVersions:new Map([[W.version,!0]])})}function D(V,z,K){if(F(V,z)){const X=P(V);X!=null&&(X.depValuesDiscoveredSoFarDuringAsyncWork=K)}}function L(V){h.delete(V)}function F(V,z){var K;return z===((K=P(V))===null||K===void 0?void 0:K.executionID)}function q(V){return Array.from(V.entries()).map(([z,K])=>[z,K.contents])}function M(V,z,K){V.atomValues.set(n,z);try{a.set(q(K),z)}catch(X){throw gt(`Problem with setting cache for selector "${n}": ${X.message}`)}}function B(V){if(Wc.includes(n)){const z=`Recoil selector has circular dependencies: ${Wc.slice(Wc.indexOf(n)).join("  ")}`;return ip(gt(z))}Wc.push(n);try{return V()}finally{Wc.pop()}}function Y(V,z){const K=z.atomValues.get(n);return K??a.get(X=>{var W;return typeof X!="string"&&ad(!1),(W=YZ(V,z,X))===null||W===void 0?void 0:W.contents})}function H(V,z){return B(()=>C(V,z))}function j(V){V.atomValues.delete(n)}function U(V,z){e==null&&ad(!1);for(const X of o){var K;const W=JZ(X);(K=W.clearCache)===null||K===void 0||K.call(W,V,z)}o.clear(),j(z),a.clear(),_O(V,e)}return s!=null?e=xO({key:n,nodeType:"selector",peek:Y,get:H,set:(z,K,X)=>{let W=!1;const J=new Map;function Z({key:ge}){if(W)throw gt("Recoil: Async selector sets are not currently supported.");const Ce=sp(z,K,ge);if(Ce.state==="hasValue")return Ce.contents;if(Ce.state==="loading"){const Fe=`Getting value of asynchronous atom or selector "${ge}" in a pending state while setting selector "${n}" is not yet supported.`;throw Jr(),gt(Fe)}else throw Ce.contents}function te(ge,Ce){if(W){const nt="Recoil: Async selector sets are not currently supported.";throw Jr(),gt(nt)}const Fe=typeof Ce=="function"?Ce(Z(ge)):Ce;GZ(z,K,ge.key,Fe).forEach((nt,Qe)=>J.set(Qe,nt))}function le(ge){te(ge,QZ)}const pe=s({set:te,get:Z,reset:le},X);if(pe!==void 0)throw rn(pe)?gt("Recoil: Async selector sets are not currently supported."):gt("Recoil: selector set should be a void function.");return W=!0,J},init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=xO({key:n,nodeType:"selector",peek:Y,get:H,init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}$j.value=t=>new jj(t);var Iu=$j;const{isLoadable:ree,loadableWithError:lw,loadableWithPromise:uw,loadableWithValue:Kl}=Ef,{WrappedValue:Bj}=Rj,{peekNodeInfo:iee}=_l,{DEFAULT_VALUE:Ra,DefaultValue:Mo,getConfigDeletionHandler:Uj,registerNode:see,setConfigDeletionHandler:oee}=Oi,{isRecoilValue:aee}=ol,{getRecoilValueAsLoadable:lee,markRecoilValueModified:uee,setRecoilValue:SO,setRecoilValueLoadable:cee}=oo,{retainedByOptionWithDefault:dee}=Qu,Yc=t=>t instanceof Bj?t.value:t;function fee(t){const{key:e,persistence_UNSTABLE:n}=t,r=dee(t.retainedBy_UNSTABLE);let i=0;function s(x){return uw(x.then(S=>(o=Kl(S),S)).catch(S=>{throw o=lw(S),S}))}let o=rn(t.default)?s(t.default):ree(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Kl(Yc(t.default));o.contents;let a;const l=new Map;function h(x){return x}function c(x,S){const _=S.then(k=>{var N,O;return((O=((N=x.getState().nextTree)!==null&&N!==void 0?N:x.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===_&&SO(x,b,k),k}).catch(k=>{var N,O;throw((O=((N=x.getState().nextTree)!==null&&N!==void 0?N:x.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===_&&cee(x,b,lw(k)),k});return _}function f(x,S,_){var k;i++;const N=()=>{var P;i--,(P=l.get(x))===null||P===void 0||P.forEach(A=>A()),l.delete(x)};if(x.getState().knownAtoms.add(e),o.state==="loading"){const P=()=>{var A;((A=x.getState().nextTree)!==null&&A!==void 0?A:x.getState().currentTree).atomValues.has(e)||uee(x,b)};o.contents.finally(P)}const O=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(O!=null){let P=function(j){if(F&&j.key===e){const U=L;return U instanceof Mo?p(x,S):rn(U)?uw(U.then(V=>V instanceof Mo?o.toPromise():V)):Kl(U)}return lee(x,j)},A=function(j){return P(j).toPromise()},D=function(j){var U;const V=iee(x,(U=x.getState().nextTree)!==null&&U!==void 0?U:x.getState().currentTree,j.key);return F&&j.key===e&&!(L instanceof Mo)?{...V,isSet:!0,loadable:P(j)}:V},L=Ra,F=!0,q=!1,M=null;const B=j=>U=>{if(F){const V=P(b),z=V.state==="hasValue"?V.contents:Ra;L=typeof U=="function"?U(z):U,rn(L)&&(L=L.then(K=>(M={effect:j,value:K},K)))}else{if(rn(U))throw gt("Setting atoms to async values is not implemented.");typeof U!="function"&&(M={effect:j,value:Yc(U)}),SO(x,b,typeof U=="function"?V=>{const z=Yc(U(V));return M={effect:j,value:z},z}:Yc(U))}},Y=j=>()=>B(j)(Ra),H=j=>U=>{var V;const{release:z}=x.subscribeToTransactions(K=>{var X;let{currentTree:W,previousTree:J}=K.getState();J||(Jr(),J=W);const Z=(X=W.atomValues.get(e))!==null&&X!==void 0?X:o;if(Z.state==="hasValue"){var te,le,pe,ge;const Ce=Z.contents,Fe=(te=J.atomValues.get(e))!==null&&te!==void 0?te:o,De=Fe.state==="hasValue"?Fe.contents:Ra;((le=M)===null||le===void 0?void 0:le.effect)!==j||((pe=M)===null||pe===void 0?void 0:pe.value)!==Ce?U(Ce,De,!W.atomValues.has(e)):((ge=M)===null||ge===void 0?void 0:ge.effect)===j&&(M=null)}},e);l.set(x,[...(V=l.get(x))!==null&&V!==void 0?V:[],z])};for(const j of O)try{const U=j({node:b,storeID:x.storeID,parentStoreID_UNSTABLE:x.parentStoreID,trigger:_,setSelf:B(j),resetSelf:Y(j),onSet:H(j),getPromise:A,getLoadable:P,getInfo_UNSTABLE:D});if(U!=null){var C;l.set(x,[...(C=l.get(x))!==null&&C!==void 0?C:[],U])}}catch(U){L=U,q=!0}if(F=!1,!(L instanceof Mo)){var I;const j=q?lw(L):rn(L)?uw(c(x,L)):Kl(Yc(L));j.contents,S.atomValues.set(e,j),(I=x.getState().nextTree)===null||I===void 0||I.atomValues.set(e,j)}}return N}function p(x,S){var _,k;return(_=(k=S.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&_!==void 0?_:o}function m(x,S){if(S.atomValues.has(e))return cn(S.atomValues.get(e));if(S.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return K4(),o;const _=S.nonvalidatedAtoms.get(e),k=n.validator(_,Ra);return a=k instanceof Mo?o:Kl(k),a}else return o}function g(){a=void 0}function y(x,S,_){if(S.atomValues.has(e)){const k=cn(S.atomValues.get(e));if(k.state==="hasValue"&&_===k.contents)return new Map}else if(!S.nonvalidatedAtoms.has(e)&&_ instanceof Mo)return new Map;return a=void 0,new Map().set(e,Kl(_))}function w(){return Uj(e)!==void 0&&i<=0}const b=see({key:e,nodeType:"atom",peek:p,get:m,set:y,init:f,invalidate:g,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return b}function cE(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return aee(n)?hee({...e,default:n}):fee({...e,default:n})}function hee(t){const e=cE({...t,default:Ra,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Mo?r:cn(t.persistence_UNSTABLE).validator(r,Ra)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Iu({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Mo?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return oee(n.key,Uj(t.key)),n}cE.value=t=>new Bj(t);var Vj=cE;class pee{constructor(e){var n;pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var mee={MapCache:pee},gee=mee.MapCache,vee=Object.freeze({__proto__:null,MapCache:gee});const{LRUCache:EO}=Lj,{MapCache:yee}=vee,ap={equality:"reference",eviction:"none",maxSize:1/0};function wee({equality:t=ap.equality,eviction:e=ap.eviction,maxSize:n=ap.maxSize}=ap){const r=bee(t);return xee(e,n,r)}function bee(t){switch(t){case"reference":return e=>e;case"value":return e=>sv(e)}throw gt(`Unrecognized equality policy ${t}`)}function xee(t,e,n){switch(t){case"keep-all":return new yee({mapKey:n});case"lru":return new EO({mapKey:n,maxSize:cn(e)});case"most-recent":return new EO({mapKey:n,maxSize:1})}throw gt(`Unrecognized eviction policy ${t}`)}var qj=wee;const{setConfigDeletionHandler:_ee}=Oi;function See(t){var e,n;const r=qj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...h}=t,c="default"in t?t.default:new Promise(()=>{}),f=Vj({...h,key:`${t.key}__${(s=sv(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,f),_ee(f.key,()=>{r.delete(i)}),f}}var Eee=See;const{setConfigDeletionHandler:kee}=Oi;let Tee=0;function Cee(t){var e,n;const r=qj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(p){throw gt(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=sv(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${Tee++}`,l=p=>t.get(i)(p),h=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const p=t.set;f=Iu({key:a,get:l,set:(g,y)=>p(i)(g,y),cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Iu({key:a,get:l,cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),kee(f.key,()=>{r.delete(i)}),f}}var ha=Cee;ha({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});ha({key:"__error",get:t=>()=>{throw gt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:Hj,loadableWithPromise:zj,loadableWithValue:Wj}=Ef;function ov(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function Nee(t){return t!=null&&!rn(t)}function av(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Kx(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function pu(t,e,n){const r=n.map((i,s)=>i==null?Wj(e[s]):rn(i)?zj(i):Hj(i));return Kx(t,r)}function Oee(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}ha({key:"__waitForNone",get:t=>({get:e})=>{const n=av(t),[r,i]=ov(e,n);return pu(t,r,i)},dangerouslyAllowMutability:!0});ha({key:"__waitForAny",get:t=>({get:e})=>{const n=av(t),[r,i]=ov(e,n);return i.some(s=>!rn(s))?pu(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())rn(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(pu(t,r,i))}).catch(l=>{i[o]=l,s(pu(t,r,i))})})},dangerouslyAllowMutability:!0});ha({key:"__waitForAll",get:t=>({get:e})=>{const n=av(t),[r,i]=ov(e,n);if(i.every(o=>o==null))return Kx(t,r);const s=i.find(Nee);if(s!=null)throw s;return Promise.all(i).then(o=>Kx(t,Oee(r,o)))},dangerouslyAllowMutability:!0});ha({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=av(t),[r,i]=ov(e,n);return i.every(s=>!rn(s))?pu(t,r,i):Promise.all(i.map((s,o)=>rn(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>pu(t,r,i))},dangerouslyAllowMutability:!0});ha({key:"__noWait",get:t=>({get:e})=>{try{return Iu.value(Wj(e(t)))}catch(n){return Iu.value(rn(n)?zj(n):Hj(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:Yge}=Ef,{RecoilRoot:Aee}=uE,{isRecoilValue:Gge}=ol,{freshSnapshot:Kge}=tv,{useRecoilState:Dee,useRecoilValue:Iee,useSetRecoilState:Pee}=QJ;var pa={RecoilRoot:Aee,atom:Vj,selector:Iu,atomFamily:Eee,selectorFamily:ha,useRecoilValue:Iee,useRecoilState:Dee,useSetRecoilState:Pee},Ree=pa.RecoilRoot,Nn=pa.atom,Yj=pa.selector,Mee=pa.atomFamily,Gj=pa.selectorFamily,Ve=pa.useRecoilValue,Wt=pa.useRecoilState,ea=pa.useSetRecoilState;const Kj=Nn({key:"modalList",default:[]});var lp,Lee=new Uint8Array(16);function jee(){if(!lp&&(lp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lp(Lee)}const Fee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $ee(t){return typeof t=="string"&&Fee.test(t)}var er=[];for(var cw=0;cw<256;++cw)er.push((cw+256).toString(16).substr(1));function Bee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(er[t[e+0]]+er[t[e+1]]+er[t[e+2]]+er[t[e+3]]+"-"+er[t[e+4]]+er[t[e+5]]+"-"+er[t[e+6]]+er[t[e+7]]+"-"+er[t[e+8]]+er[t[e+9]]+"-"+er[t[e+10]]+er[t[e+11]]+er[t[e+12]]+er[t[e+13]]+er[t[e+14]]+er[t[e+15]]).toLowerCase();if(!$ee(n))throw TypeError("Stringified UUID is invalid");return n}function zt(t,e,n){t=t||{};var r=t.random||(t.rng||jee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Bee(r)}const dE=Nn({key:`recommendedBook/${zt()}`,default:{thumbnail:"",title:"",authors:[],url:"",publisher:""}}),Qj=Nn({key:`bookDesc${zt()}`,default:null}),Xj=Nn({key:`searchList${zt()}`,default:[]}),bd=[{id:1,name:""},{id:2,name:""},{id:3,name:"/"},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:"/"},{id:12,name:""}];function Uee(t,e){return t.length<e?t:`${t.slice(0,e)}...`}const Jj=6048e5,Vee=864e5,kO=Symbol.for("constructDateFrom");function ta(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&kO in t?t[kO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xi(t,e){return ta(e||t,t)}let qee={};function lv(){return qee}function qd(t,e){var a,l,h,c;const n=lv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Xi(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function xm(t,e){return qd(t,{...e,weekStartsOn:1})}function Zj(t,e){const n=Xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=ta(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=xm(i),o=ta(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=xm(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function TO(t){const e=Xi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Hee(t,...e){const n=ta.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function CO(t,e){const n=Xi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function zee(t,e,n){const[r,i]=Hee(n==null?void 0:n.in,t,e),s=CO(r),o=CO(i),a=+s-TO(s),l=+o-TO(o);return Math.round((a-l)/Vee)}function Wee(t,e){const n=Zj(t,e),r=ta(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xm(r)}function Yee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gee(t){return!(!Yee(t)&&typeof t!="number"||isNaN(+Xi(t)))}function Kee(t,e){const n=Xi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Qee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xee=(t,e,n)=>{let r;const i=Qee[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Jee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ete={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tte={date:mu({formats:Jee,defaultWidth:"full"}),time:mu({formats:Zee,defaultWidth:"full"}),dateTime:mu({formats:ete,defaultWidth:"full"})},nte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rte=(t,e,n,r)=>nte[t];function cs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const ite={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ste={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ote={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ate={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ute={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dte={ordinalNumber:cte,era:cs({values:ite,defaultWidth:"wide"}),quarter:cs({values:ste,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cs({values:ote,defaultWidth:"wide"}),day:cs({values:ate,defaultWidth:"wide"}),dayPeriod:cs({values:lte,defaultWidth:"wide",formattingValues:ute,defaultFormattingWidth:"wide"})};function ds(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?hte(a,f=>f.test(o)):fte(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function fte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function e3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const pte=/^(\d+)(th|st|nd|rd)?/i,mte=/\d+/i,gte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vte={any:[/^b/i,/^(a|c)/i]},yte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wte={any:[/1/i,/2/i,/3/i,/4/i]},bte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_te={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ste={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ete={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tte={ordinalNumber:e3({matchPattern:pte,parsePattern:mte,valueCallback:t=>parseInt(t,10)}),era:ds({matchPatterns:gte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any"}),quarter:ds({matchPatterns:yte,defaultMatchWidth:"wide",parsePatterns:wte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ds({matchPatterns:bte,defaultMatchWidth:"wide",parsePatterns:xte,defaultParseWidth:"any"}),day:ds({matchPatterns:_te,defaultMatchWidth:"wide",parsePatterns:Ste,defaultParseWidth:"any"}),dayPeriod:ds({matchPatterns:Ete,defaultMatchWidth:"any",parsePatterns:kte,defaultParseWidth:"any"})},Cte={code:"en-US",formatDistance:Xee,formatLong:tte,formatRelative:rte,localize:dte,match:Tte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nte(t,e){const n=Xi(t,e==null?void 0:e.in);return zee(n,Kee(n))+1}function Ote(t,e){const n=Xi(t,e==null?void 0:e.in),r=+xm(n)-+Wee(n);return Math.round(r/Jj)+1}function t3(t,e){var c,f,p,m;const n=Xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=lv(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ta((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=qd(o,e),l=ta((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=qd(l,e);return+n>=+a?r+1:+n>=+h?r:r-1}function Ate(t,e){var a,l,h,c;const n=lv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=t3(t,e),s=ta((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),qd(s,e)}function Dte(t,e){const n=Xi(t,e==null?void 0:e.in),r=+qd(n,e)-+Ate(n,e);return Math.round(r/Jj)+1}function Ft(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ft(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ft(n+1,2)},d(t,e){return Ft(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ft(t.getHours()%12||12,e.length)},H(t,e){return Ft(t.getHours(),e.length)},m(t,e){return Ft(t.getMinutes(),e.length)},s(t,e){return Ft(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ft(i,e.length)}},Ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Io.y(t,e)},Y:function(t,e,n,r){const i=t3(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ft(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ft(s,e.length)},R:function(t,e){const n=Zj(t);return Ft(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ft(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Dte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ft(i,e.length)},I:function(t,e,n){const r=Ote(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ft(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Io.d(t,e)},D:function(t,e,n){const r=Nte(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ft(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ft(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ft(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ft(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ql.noon:r===0?i=Ql.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ql.evening:r>=12?i=Ql.afternoon:r>=4?i=Ql.morning:i=Ql.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Io.s(t,e)},S:function(t,e){return Io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return AO(r);case"XXXX":case"XX":return Ia(r);case"XXXXX":case"XXX":default:return Ia(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return AO(r);case"xxxx":case"xx":return Ia(r);case"xxxxx":case"xxx":default:return Ia(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OO(r,":");case"OOOO":default:return"GMT"+Ia(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OO(r,":");case"zzzz":default:return"GMT"+Ia(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ft(r,e.length)},T:function(t,e,n){return Ft(+t,e.length)}};function OO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ft(s,2)}function AO(t,e){return t%60===0?(t>0?"-":"+")+Ft(Math.abs(t)/60,2):Ia(t,e)}function Ia(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ft(Math.trunc(r/60),2),s=Ft(r%60,2);return n+i+e+s}const DO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},n3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ite=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return DO(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",DO(r,e)).replace("{{time}}",n3(i,e))},Pte={p:n3,P:Ite},Rte=/^D+$/,Mte=/^Y+$/,Lte=["D","DD","YY","YYYY"];function jte(t){return Rte.test(t)}function Fte(t){return Mte.test(t)}function $te(t,e,n){const r=Bte(t,e,n);if(console.warn(r),Lte.includes(t))throw new RangeError(r)}function Bte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ute=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qte=/^'([^]*?)'?$/,Hte=/''/g,zte=/[a-zA-Z]/;function Wte(t,e,n){var c,f,p,m,g,y,w,b;const r=lv(),i=(n==null?void 0:n.locale)??r.locale??Cte,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Xi(t,n==null?void 0:n.in);if(!Gee(a))throw new RangeError("Invalid time value");let l=e.match(Vte).map(x=>{const S=x[0];if(S==="p"||S==="P"){const _=Pte[S];return _(x,i.formatLong)}return x}).join("").match(Ute).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const S=x[0];if(S==="'")return{isToken:!1,value:Yte(x)};if(NO[S])return{isToken:!0,value:x};if(S.match(zte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const S=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Fte(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jte(S))&&$te(S,e,String(t));const _=NO[S[0]];return _(a,S,i.localize,h)}).join("")}function Yte(t){const e=t.match(qte);return e?e[1].replace(Hte,"'"):t}const Gte={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},Kte=(t,e,n)=>{let r;const i=Gte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" ":r+" ":r},Qte={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},Xte={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Jte={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Zte={date:mu({formats:Qte,defaultWidth:"full"}),time:mu({formats:Xte,defaultWidth:"full"}),dateTime:mu({formats:Jte,defaultWidth:"full"})},ene={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},tne=(t,e,n,r)=>ene[t],nne={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},rne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},ine={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},sne={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},one={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},ane={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},lne=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},une={ordinalNumber:lne,era:cs({values:nne,defaultWidth:"wide"}),quarter:cs({values:rne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cs({values:ine,defaultWidth:"wide"}),day:cs({values:sne,defaultWidth:"wide"}),dayPeriod:cs({values:one,defaultWidth:"wide",formattingValues:ane,defaultFormattingWidth:"wide"})},cne=/^(\d+)(|)?/i,dne=/\d+/i,fne={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},hne={any:[/^(bc|)/i,/^(ad|)/i]},pne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},mne={any:[/1/i,/2/i,/3/i,/4/i]},gne={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},vne={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},yne={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},wne={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},bne={any:/^(am|pm|||||||)/i},xne={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},_ne={ordinalNumber:e3({matchPattern:cne,parsePattern:dne,valueCallback:t=>parseInt(t,10)}),era:ds({matchPatterns:fne,defaultMatchWidth:"wide",parsePatterns:hne,defaultParseWidth:"any"}),quarter:ds({matchPatterns:pne,defaultMatchWidth:"wide",parsePatterns:mne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ds({matchPatterns:gne,defaultMatchWidth:"wide",parsePatterns:vne,defaultParseWidth:"any"}),day:ds({matchPatterns:yne,defaultMatchWidth:"wide",parsePatterns:wne,defaultParseWidth:"any"}),dayPeriod:ds({matchPatterns:bne,defaultMatchWidth:"any",parsePatterns:xne,defaultParseWidth:"any"})},r3={code:"ko",formatDistance:Kte,formatLong:Zte,formatRelative:tne,localize:une,match:_ne,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ju=new Date,dt=(t,e="yy M d HH:mm")=>{try{const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("  ");return Wte(n,e,{locale:r3})}catch(n){console.error("    :",n)}};function Pu(t){const e=new Date;e.setHours(0,0,0,0);const n=new Date(t);n.setHours(0,0,0,0);const r=+n-+e;return`${Math.floor(r/(1e3*60*60*24))}`}const i3=()=>{const t=new Date(dt(Ju,"yyyy-MM"));return t.setMonth(t.getMonth()+1),dt(t,"yyyy-MM")};function s3(t=+_t,e=+Qr,n=0,r=0){const i=new Date(t,e-1,1);for(;i.getDay()!==0;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+14),i.setHours(n,r,0,0),i}const Vn=dt(Ju,"yyyy-MM"),_t=dt(Ju,"yyyy"),Qr=dt(Ju,"MM");dt(Ju,"dd");const dw=dt(i3(),"yyyy-MM"),Sne=`${+_t+1}`,IO=dt(i3(),"MM"),_m=dt(Ju,"yyyy-MM-dd");function Sl(t){return t?!!Object.keys(t).length:{}}const Rr=(t,e)=>`${`BookClub-${t.slice(0,4)}`}/${t}/${e}`;function PO(t,e,n){return n==="latest"?t.monthId.localeCompare(e.monthId):e.monthId.localeCompare(t.monthId)}const Ene=(t,e)=>t==null?void 0:t.map(({id:r,book:{title:i}})=>{const s=e.map(({votedItem:a})=>a).flat(),o=s==null?void 0:s.filter(a=>(a==null?void 0:a.id)===r).length;return{id:r,voteCount:o,title:i}}),Sm=(t,e,n=0)=>t===0&&e===0?0:+(Math.round(t/e*1e4/10)/10).toFixed(n),Ci=`BookClub-${_t}`,Ru="BookVote",al="Challenge",kne="TagList",Hd="FCMNotification",Ki="User",Qx="VotedItems",o3="RecommendedBooks",zd="HostReview",fE="Reviews",Wd="Subjects",Yd="BookFieldAndHost",Mu="AbsenceMembers",Tne="MeetingPlace",a3=[{step:1,stepName:" "},{step:2,stepName:" "},{step:3,stepName:" "}],Cne=["",""],Nne={absenceMembers:Array.from({length:12},(t,e)=>({month:e+1,breakMembers:[],onceAbsenceMembers:[]}))},One={id:_t,info:Array.from({length:12},(t,e)=>({month:e+1,hosts:[],field:"",detail:""}))},RO=["01","02","03","04","05","06","07","08","09","10","11","12"],Ane=Array.from({length:+_t-2020},(t,e)=>`${+_t-e}`),hE="wowo6806@naver.com";function lr(t,e,n){const r=zL(an(Jt,t,e),i=>{n({id:i.id,...i.data()})});l3(r)}function Yn(t,e){const n=DL(Jt,t),r=B0(n,ON("name","!=","")),i=B0(n,ON("__name__",">=",`${_t}-`)),s=B0(n,B7("createdAt","desc")),a=zL(t===Ki?r:t===al?i:s,l=>{const h=l.docs.map(c=>({id:c.id,...c.data()}));e(h)});l3(a)}function l3(t){og(Ht,e=>{e==null&&t()})}async function pE(t,e,n){const r=an(Jt,t,e);await Cs(r,n)}var up={exports:{}},fw,MO;function u3(){return MO||(MO=1,fw=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}}),fw}var hw,LO;function ur(){if(LO)return hw;LO=1;var t=u3(),e=Object.prototype.toString,n=function(M){return function(B){var Y=e.call(B);return M[Y]||(M[Y]=Y.slice(8,-1).toLowerCase())}}(Object.create(null));function r(M){return M=M.toLowerCase(),function(Y){return n(Y)===M}}function i(M){return Array.isArray(M)}function s(M){return typeof M>"u"}function o(M){return M!==null&&!s(M)&&M.constructor!==null&&!s(M.constructor)&&typeof M.constructor.isBuffer=="function"&&M.constructor.isBuffer(M)}var a=r("ArrayBuffer");function l(M){var B;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?B=ArrayBuffer.isView(M):B=M&&M.buffer&&a(M.buffer),B}function h(M){return typeof M=="string"}function c(M){return typeof M=="number"}function f(M){return M!==null&&typeof M=="object"}function p(M){if(n(M)!=="object")return!1;var B=Object.getPrototypeOf(M);return B===null||B===Object.prototype}var m=r("Date"),g=r("File"),y=r("Blob"),w=r("FileList");function b(M){return e.call(M)==="[object Function]"}function x(M){return f(M)&&b(M.pipe)}function S(M){var B="[object FormData]";return M&&(typeof FormData=="function"&&M instanceof FormData||e.call(M)===B||b(M.toString)&&M.toString()===B)}var _=r("URLSearchParams");function k(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")}function N(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function O(M,B){if(!(M===null||typeof M>"u"))if(typeof M!="object"&&(M=[M]),i(M))for(var Y=0,H=M.length;Y<H;Y++)B.call(null,M[Y],Y,M);else for(var j in M)Object.prototype.hasOwnProperty.call(M,j)&&B.call(null,M[j],j,M)}function C(){var M={};function B(j,U){p(M[U])&&p(j)?M[U]=C(M[U],j):p(j)?M[U]=C({},j):i(j)?M[U]=j.slice():M[U]=j}for(var Y=0,H=arguments.length;Y<H;Y++)O(arguments[Y],B);return M}function I(M,B,Y){return O(B,function(j,U){Y&&typeof j=="function"?M[U]=t(j,Y):M[U]=j}),M}function P(M){return M.charCodeAt(0)===65279&&(M=M.slice(1)),M}function A(M,B,Y,H){M.prototype=Object.create(B.prototype,H),M.prototype.constructor=M,Y&&Object.assign(M.prototype,Y)}function D(M,B,Y){var H,j,U,V={};B=B||{};do{for(H=Object.getOwnPropertyNames(M),j=H.length;j-- >0;)U=H[j],V[U]||(B[U]=M[U],V[U]=!0);M=Object.getPrototypeOf(M)}while(M&&(!Y||Y(M,B))&&M!==Object.prototype);return B}function L(M,B,Y){M=String(M),(Y===void 0||Y>M.length)&&(Y=M.length),Y-=B.length;var H=M.indexOf(B,Y);return H!==-1&&H===Y}function F(M){if(!M)return null;var B=M.length;if(s(B))return null;for(var Y=new Array(B);B-- >0;)Y[B]=M[B];return Y}var q=function(M){return function(B){return M&&B instanceof M}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return hw={isArray:i,isArrayBuffer:a,isBuffer:o,isFormData:S,isArrayBufferView:l,isString:h,isNumber:c,isObject:f,isPlainObject:p,isUndefined:s,isDate:m,isFile:g,isBlob:y,isFunction:b,isStream:x,isURLSearchParams:_,isStandardBrowserEnv:N,forEach:O,merge:C,extend:I,trim:k,stripBOM:P,inherits:A,toFlatObject:D,kindOf:n,kindOfTest:r,endsWith:L,toArray:F,isTypedArray:q,isFileList:w},hw}var pw,jO;function c3(){if(jO)return pw;jO=1;var t=ur();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return pw=function(r,i,s){if(!i)return r;var o;if(s)o=s(i);else if(t.isURLSearchParams(i))o=i.toString();else{var a=[];t.forEach(i,function(c,f){c===null||typeof c>"u"||(t.isArray(c)?f=f+"[]":c=[c],t.forEach(c,function(m){t.isDate(m)?m=m.toISOString():t.isObject(m)&&(m=JSON.stringify(m)),a.push(e(f)+"="+e(m))}))}),o=a.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},pw}var mw,FO;function Dne(){if(FO)return mw;FO=1;var t=ur();function e(){this.handlers=[]}return e.prototype.use=function(r,i,s){return this.handlers.push({fulfilled:r,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(s){s!==null&&r(s)})},mw=e,mw}var gw,$O;function Ine(){if($O)return gw;$O=1;var t=ur();return gw=function(n,r){t.forEach(n,function(s,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=s,delete n[o])})},gw}var vw,BO;function Zu(){if(BO)return vw;BO=1;var t=ur();function e(i,s,o,a,l){Error.call(this),this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),a&&(this.request=a),l&&(this.response=l)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,s,o,a,l,h){var c=Object.create(n);return t.toFlatObject(i,c,function(p){return p!==Error.prototype}),e.call(c,i.message,s,o,a,l),c.name=i.name,h&&Object.assign(c,h),c},vw=e,vw}var yw,UO;function d3(){return UO||(UO=1,yw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),yw}var ww,VO;function f3(){if(VO)return ww;VO=1;var t=ur();function e(n,r){r=r||new FormData;var i=[];function s(a){return a===null?"":t.isDate(a)?a.toISOString():t.isArrayBuffer(a)||t.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function o(a,l){if(t.isPlainObject(a)||t.isArray(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+l);i.push(a),t.forEach(a,function(c,f){if(!t.isUndefined(c)){var p=l?l+"."+f:f,m;if(c&&!l&&typeof c=="object"){if(t.endsWith(f,"{}"))c=JSON.stringify(c);else if(t.endsWith(f,"[]")&&(m=t.toArray(c))){m.forEach(function(g){!t.isUndefined(g)&&r.append(p,s(g))});return}}o(c,p)}}),i.pop()}else r.append(l,s(a))}return o(n),r}return ww=e,ww}var bw,qO;function Pne(){if(qO)return bw;qO=1;var t=Zu();return bw=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},bw}var xw,HO;function Rne(){if(HO)return xw;HO=1;var t=ur();return xw=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),xw}var _w,zO;function Mne(){return zO||(zO=1,_w=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),_w}var Sw,WO;function Lne(){return WO||(WO=1,Sw=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Sw}var Ew,YO;function h3(){if(YO)return Ew;YO=1;var t=Mne(),e=Lne();return Ew=function(r,i){return r&&!t(i)?e(r,i):i},Ew}var kw,GO;function jne(){if(GO)return kw;GO=1;var t=ur(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return kw=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(h){if(a=h.indexOf(":"),s=t.trim(h.substr(0,a)).toLowerCase(),o=t.trim(h.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},kw}var Tw,KO;function Fne(){if(KO)return Tw;KO=1;var t=ur();return Tw=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Tw}var Cw,QO;function uv(){if(QO)return Cw;QO=1;var t=Zu(),e=ur();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Cw=n,Cw}var Nw,XO;function $ne(){return XO||(XO=1,Nw=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Nw}var Ow,JO;function ZO(){if(JO)return Ow;JO=1;var t=ur(),e=Pne(),n=Rne(),r=c3(),i=h3(),s=jne(),o=Fne(),a=d3(),l=Zu(),h=uv(),c=$ne();return Ow=function(p){return new Promise(function(g,y){var w=p.data,b=p.headers,x=p.responseType,S;function _(){p.cancelToken&&p.cancelToken.unsubscribe(S),p.signal&&p.signal.removeEventListener("abort",S)}t.isFormData(w)&&t.isStandardBrowserEnv()&&delete b["Content-Type"];var k=new XMLHttpRequest;if(p.auth){var N=p.auth.username||"",O=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";b.Authorization="Basic "+btoa(N+":"+O)}var C=i(p.baseURL,p.url);k.open(p.method.toUpperCase(),r(C,p.params,p.paramsSerializer),!0),k.timeout=p.timeout;function I(){if(k){var D="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,L=!x||x==="text"||x==="json"?k.responseText:k.response,F={data:L,status:k.status,statusText:k.statusText,headers:D,config:p,request:k};e(function(M){g(M),_()},function(M){y(M),_()},F),k=null}}if("onloadend"in k?k.onloadend=I:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(I)},k.onabort=function(){k&&(y(new l("Request aborted",l.ECONNABORTED,p,k)),k=null)},k.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,p,k,k)),k=null},k.ontimeout=function(){var L=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",F=p.transitional||a;p.timeoutErrorMessage&&(L=p.timeoutErrorMessage),y(new l(L,F.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,k)),k=null},t.isStandardBrowserEnv()){var P=(p.withCredentials||o(C))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;P&&(b[p.xsrfHeaderName]=P)}"setRequestHeader"in k&&t.forEach(b,function(L,F){typeof w>"u"&&F.toLowerCase()==="content-type"?delete b[F]:k.setRequestHeader(F,L)}),t.isUndefined(p.withCredentials)||(k.withCredentials=!!p.withCredentials),x&&x!=="json"&&(k.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&k.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(S=function(D){k&&(y(!D||D&&D.type?new h:D),k.abort(),k=null)},p.cancelToken&&p.cancelToken.subscribe(S),p.signal&&(p.signal.aborted?S():p.signal.addEventListener("abort",S))),w||(w=null);var A=c(C);if(A&&["http","https","file"].indexOf(A)===-1){y(new l("Unsupported protocol "+A+":",l.ERR_BAD_REQUEST,p));return}k.send(w)})},Ow}var Aw,eA;function Bne(){return eA||(eA=1,Aw=null),Aw}var Dw,tA;function mE(){if(tA)return Dw;tA=1;var t=ur(),e=Ine(),n=Zu(),r=d3(),i=f3(),s={"Content-Type":"application/x-www-form-urlencoded"};function o(c,f){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=f)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=ZO()),c}function l(c,f,p){if(t.isString(c))try{return(f||JSON.parse)(c),t.trim(c)}catch(m){if(m.name!=="SyntaxError")throw m}return(p||JSON.stringify)(c)}var h={transitional:r,adapter:a(),transformRequest:[function(f,p){if(e(p,"Accept"),e(p,"Content-Type"),t.isFormData(f)||t.isArrayBuffer(f)||t.isBuffer(f)||t.isStream(f)||t.isFile(f)||t.isBlob(f))return f;if(t.isArrayBufferView(f))return f.buffer;if(t.isURLSearchParams(f))return o(p,"application/x-www-form-urlencoded;charset=utf-8"),f.toString();var m=t.isObject(f),g=p&&p["Content-Type"],y;if((y=t.isFileList(f))||m&&g==="multipart/form-data"){var w=this.env&&this.env.FormData;return i(y?{"files[]":f}:f,w&&new w)}else if(m||g==="application/json")return o(p,"application/json"),l(f);return f}],transformResponse:[function(f){var p=this.transitional||h.transitional,m=p&&p.silentJSONParsing,g=p&&p.forcedJSONParsing,y=!m&&this.responseType==="json";if(y||g&&t.isString(f)&&f.length)try{return JSON.parse(f)}catch(w){if(y)throw w.name==="SyntaxError"?n.from(w,n.ERR_BAD_RESPONSE,this,null,this.response):w}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bne()},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(f){h.headers[f]={}}),t.forEach(["post","put","patch"],function(f){h.headers[f]=t.merge(s)}),Dw=h,Dw}var Iw,nA;function Une(){if(nA)return Iw;nA=1;var t=ur(),e=mE();return Iw=function(r,i,s){var o=this||e;return t.forEach(s,function(l){r=l.call(o,r,i)}),r},Iw}var Pw,rA;function p3(){return rA||(rA=1,Pw=function(e){return!!(e&&e.__CANCEL__)}),Pw}var Rw,iA;function Vne(){if(iA)return Rw;iA=1;var t=ur(),e=Une(),n=p3(),r=mE(),i=uv();function s(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new i}return Rw=function(a){s(a),a.headers=a.headers||{},a.data=e.call(a,a.data,a.headers,a.transformRequest),a.headers=t.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var l=a.adapter||r.adapter;return l(a).then(function(c){return s(a),c.data=e.call(a,c.data,c.headers,a.transformResponse),c},function(c){return n(c)||(s(a),c&&c.response&&(c.response.data=e.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},Rw}var Mw,sA;function m3(){if(sA)return Mw;sA=1;var t=ur();return Mw=function(n,r){r=r||{};var i={};function s(f,p){return t.isPlainObject(f)&&t.isPlainObject(p)?t.merge(f,p):t.isPlainObject(p)?t.merge({},p):t.isArray(p)?p.slice():p}function o(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(n[f],r[f])}function a(f){if(!t.isUndefined(r[f]))return s(void 0,r[f])}function l(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(void 0,r[f])}function h(f){if(f in r)return s(n[f],r[f]);if(f in n)return s(void 0,n[f])}var c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(p){var m=c[p]||o,g=m(p);t.isUndefined(g)&&m!==h||(i[p]=g)}),i},Mw}var Lw,oA;function g3(){return oA||(oA=1,Lw={version:"0.27.2"}),Lw}var jw,aA;function qne(){if(aA)return jw;aA=1;var t=g3().version,e=Zu(),n={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){n[s]=function(l){return typeof l===s||"a"+(o<1?"n ":" ")+s}});var r={};n.transitional=function(o,a,l){function h(c,f){return"[Axios v"+t+"] Transitional option '"+c+"'"+f+(l?". "+l:"")}return function(c,f,p){if(o===!1)throw new e(h(f," has been removed"+(a?" in "+a:"")),e.ERR_DEPRECATED);return a&&!r[f]&&(r[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),o?o(c,f,p):!0}};function i(s,o,a){if(typeof s!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(s),h=l.length;h-- >0;){var c=l[h],f=o[c];if(f){var p=s[c],m=p===void 0||f(p,c,s);if(m!==!0)throw new e("option "+c+" must be "+m,e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new e("Unknown option "+c,e.ERR_BAD_OPTION)}}return jw={assertOptions:i,validators:n},jw}var Fw,lA;function Hne(){if(lA)return Fw;lA=1;var t=ur(),e=c3(),n=Dne(),r=Vne(),i=m3(),s=h3(),o=qne(),a=o.validators;function l(h){this.defaults=h,this.interceptors={request:new n,response:new n}}return l.prototype.request=function(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var p=f.transitional;p!==void 0&&o.assertOptions(p,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=[],g=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(f)===!1||(g=g&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});var y=[];this.interceptors.response.forEach(function(N){y.push(N.fulfilled,N.rejected)});var w;if(!g){var b=[r,void 0];for(Array.prototype.unshift.apply(b,m),b=b.concat(y),w=Promise.resolve(f);b.length;)w=w.then(b.shift(),b.shift());return w}for(var x=f;m.length;){var S=m.shift(),_=m.shift();try{x=S(x)}catch(k){_(k);break}}try{w=r(x)}catch(k){return Promise.reject(k)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},l.prototype.getUri=function(c){c=i(this.defaults,c);var f=s(c.baseURL,c.url);return e(f,c.params,c.paramsSerializer)},t.forEach(["delete","get","head","options"],function(c){l.prototype[c]=function(f,p){return this.request(i(p||{},{method:c,url:f,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(c){function f(p){return function(g,y,w){return this.request(i(w||{},{method:c,headers:p?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}l.prototype[c]=f(),l.prototype[c+"Form"]=f(!0)}),Fw=l,Fw}var $w,uA;function zne(){if(uA)return $w;uA=1;var t=uv();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},$w=e,$w}var Bw,cA;function Wne(){return cA||(cA=1,Bw=function(e){return function(r){return e.apply(null,r)}}),Bw}var Uw,dA;function Yne(){if(dA)return Uw;dA=1;var t=ur();return Uw=function(n){return t.isObject(n)&&n.isAxiosError===!0},Uw}var fA;function Gne(){if(fA)return up.exports;fA=1;var t=ur(),e=u3(),n=Hne(),r=m3(),i=mE();function s(a){var l=new n(a),h=e(n.prototype.request,l);return t.extend(h,n.prototype,l),t.extend(h,l),h.create=function(f){return s(r(a,f))},h}var o=s(i);return o.Axios=n,o.CanceledError=uv(),o.CancelToken=zne(),o.isCancel=p3(),o.VERSION=g3().version,o.toFormData=f3(),o.AxiosError=Zu(),o.Cancel=o.CanceledError,o.all=function(l){return Promise.all(l)},o.spread=Wne(),o.isAxiosError=Yne(),up.exports=o,up.exports.default=o,up.exports}var Vw,hA;function Kne(){return hA||(hA=1,Vw=Gne()),Vw}var Qne=Kne();const Xne=ef(Qne),Jne=Xne.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK e8625f56dd420c3a1e0b08fa4e2550d4"}}),Zne=t=>Jne.get("/v3/search/book",{params:t}),ere=async(t,e)=>{const n={query:t},{data:r}=await Zne(n);e(r.documents)},tre=ug(),ma=Nn({key:`allUsers/${zt}`,default:[],effects:[({setSelf:t})=>{Yn(Ki,t)}]}),Nt=Nn({key:`currUser/${zt}`,default:null,effects:[({setSelf:t})=>{const e=og(tre,n=>{if(n){const{uid:r,email:i,displayName:s,photoURL:o}=n;t({uid:r??"",email:i??"",displayName:s??" ",photoURL:o??""})}else t(null)});return()=>{e()}}]}),gE=Mee({key:`user/${zt}`,default:{},effects:t=>[({setSelf:e})=>{t&&lr(Ki,t,e)}]}),vE=({setText:t,collName:e,docData:n})=>{const{uid:r}=Ve(Nt),[i,s]=Wt(gE(r)),o=ea(dE),a=an(DL(Jt,e)),l=an(Jt,Ki,`${r}`),{alertAskJoinMember:h}=ei("write");Q.useEffect(()=>{r&&!Sl(i)&&lr(Ki,r,s)},[r]);const c=async m=>{var g;m.preventDefault();try{if(n.text.length===0)return;await Cs(a,n);const y={monthId:Vn,docId:a.id};f(y),(g=n==null?void 0:n.recommendedBook)!=null&&g.title&&o({thumbnail:"",title:"",authors:[],url:"",publisher:""})}catch(y){console.error("Error adding document:",y)}t("")},f=async m=>{var g,y,w,b,x;e.includes("Sentence")&&await pn(l,{"userRecords.sentences":[...((g=i==null?void 0:i.userRecords)==null?void 0:g.sentences)??[],m]}),e.includes("Reviews")&&await pn(l,{"userRecords.reviews":[...((y=i==null?void 0:i.userRecords)==null?void 0:y.reviews)??[],m]}),e.includes("Subjects")&&await pn(l,{"userRecords.subjects":[...((w=i==null?void 0:i.userRecords)==null?void 0:w.subjects)??[],m]}),e.includes("RecommendedBooks")&&await pn(l,{"userRecords.recommendedBooks":[...((b=i==null?void 0:i.userRecords)==null?void 0:b.recommendedBooks)??[],{monthId:Vn,docId:a.id}]}),e.includes("HostReview")&&await pn(l,{"userRecords.hostReviews":[...((x=i==null?void 0:i.userRecords)==null?void 0:x.hostReviews)??[],m]})};function p(m){if(Ht.currentUser.isAnonymous)return h();t(m.currentTarget.value)}return{onAddDocSubmit:c,onChange:p}},nre=({docId:t,collName:e})=>{const{uid:n}=Ve(Nt),[r,i]=Wt(gE(n)),s=an(Jt,e,t),o=an(Jt,Ki,n);Q.useEffect(()=>{n&&!Sl(r)&&lr(Ki,n,i)},[n]);const a=async()=>{window.confirm(" ?")&&(await qg(s),l())},l=async()=>{const{reviews:h,subjects:c,recommendedBooks:f,hostReviews:p,sentences:m}=r.userRecords;if(e.includes("Reviews")){const g=h.filter(y=>y.docId!==s.id);await pn(o,{"userRecords.reviews":g})}if(e.includes("Subjects")){const g=c.filter(y=>y.docId!==s.id);await pn(o,{"userRecords.subjects":g})}if(e.includes("Recommended")){const g=f.filter(y=>y.docId!==s.id);await pn(o,{"userRecords.recommendedBooks":g})}if(e.includes("HostReview")){const g=p.filter(y=>y.docId!==s.id);await pn(o,{"userRecords.hostReviews":g})}if(e.includes("Sentence-2024")){const g=m.filter(y=>y.docId!==s.id);await pn(o,{"userRecords.sentences":g})}};return{onDeleteClick:a}},rre=({post:t,collName:e})=>{const[n,r]=Q.useState(t.text),i=an(Jt,e,t.id),{alertAskJoinMember:s,anonymous:o}=ei("see"),a=()=>e.includes("Reviews")?{text:n}:{text:n},{hideModal:l}=Yt();return{editedText:n,setEditedText:r,onEditedSubmit:async f=>{if(f.preventDefault(),o)return s();if(n==="<p><br></p>")return alert("  .");await pn(i,a()),l()},onEditedChange:f=>{r(f.currentTarget.value)}}},Yt=()=>{const[t,e]=Wt(Kj);return{modalList:t,showModal:i=>new Promise(s=>{const o={...i,isOpen:!0};e(a=>[...a,o]),s()}),hideModal:async i=>{if(typeof i=="string"&&i){const s=t.map(o=>o.key===i?{...o,isOpen:!1}:o);e(s)}else e([])}}},ei=t=>{var a;const e=kr(),n=(a=Ht.currentUser)==null?void 0:a.isAnonymous,{hideModal:r}=Yt(),i=()=>{switch(t){case"see":return"  ";case"edit":return"  ";case"register":return"  ";case"write":return"  "}};function s(){if(Ht.currentUser.isAnonymous){const l=window.confirm(`  ${i()}.  .`);if(r(),l)return e("/login")}}return{alertAskJoinMember:s,blockLinkAndAlertJoinMember:l=>{n&&(l.preventDefault(),s())},anonymous:n}},ire=()=>{var y;const[t,e]=Q.useState(""),[n,r]=Q.useState(""),[i,s]=Q.useState(""),o=(y=Ht.currentUser)==null?void 0:y.isAnonymous,a=Ht==null?void 0:Ht.currentUser,l=kr(),h=w=>{if(w.preventDefault(),!t||!n||!i)return;const b=ua.credential(a==null?void 0:a.email,t);wR(a,b).then(()=>{if(n!==i){m();return}g()}).catch(x=>{if(console.error(x),x.message.includes("auth/missing-email"))return window.alert(" .")})},c=w=>{if(o)return alert(" !");r(w.currentTarget.value)},f=w=>{if(o)return alert(" !");e(w.currentTarget.value)},p=w=>{if(o)return alert(" !");s(w.currentTarget.value)};function m(){window.alert("   .   .")}function g(){k9(a,n).then(()=>{window.alert("  ."),e(""),r(""),s(""),l(-1)}).catch(w=>{console.error(w)})}return{onSubmit:h,originPassword:t,onOriginChange:f,newPassword:n,onNewChange:c,checkNewPassword:i,onCheckNewChange:p}},sre=()=>{const[t,e]=Q.useState(a3[0]),[n,r]=Q.useState(""),[i,s]=Q.useState(""),[o,a]=Q.useState(""),[l,h]=Q.useState(""),[c,f]=Q.useState(""),[p,m]=Q.useState(""),[g,y]=Q.useState(""),[w,b]=Q.useState(new Set),x=kr();return{currentStep:t,keyword:n,onFirstStepChange:P=>{const{currentTarget:{value:A}}=P;r(A)},onFirstStepSubmit:P=>{P.preventDefault(),n===""?e({step:2,stepName:" "}):alert("  !")},email:i,password:o,checkPassword:l,showErrorMsg:c,onSecondStepChange:P=>{const{currentTarget:{name:A,value:D}}=P;switch(A){case"email":s(D);break;case"password":a(D),f("");break;case"checkPassword":h(D);break}},onSecondStepSubmit:async P=>{P.preventDefault();try{if(i.length===0)return f("  !");if(o.length<8)return f(" 8 .");if(o!==l)return f("  .");window.alert("      !"),e({step:3,stepName:" "})}catch(A){if(A.message.includes("email-already-in-use"))return f("    .   .")}},username:p,userGender:g,checkedBookField:w,onThirdStepChange:async P=>{const{currentTarget:{name:A,value:D}}=P;switch(A){case"username":m(D);break;case"gender":y(D);break}},onThirdStepSubmit:async P=>{var A;P.preventDefault();try{await _9(Ht,i,o),p&&g&&w.size!==0?(await Cs(an(Jt,Ki,`${(A=Ht.currentUser)==null?void 0:A.uid}`),{favoriteBookField:Array.from(w),gender:g,name:p,displayName:"  ",photoURL:""}),window.alert("  .      !"),x("/")):alert("    .")}catch(D){if(D.message.includes("auth/invalid-email"))return f("   .");console.error(D.message)}},checkedBoxHandler:(P,A)=>{A?(w.add(P),b(w)):!A&&w.has(P)&&(w.delete(P),b(w))}}},ore={id:"",title:"",creatorId:"",createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),deadline:"",voteItems:[]},are={id:0,selectReason:"",book:{title:"",thumbnail:"",url:""}},yE=Nn({key:`bookVoteDocs/${zt()}`,default:null}),lre=()=>{const{uid:t}=Ve(Nt),n=Ve(yE).length,r={id:1,book:{title:"",thumbnail:"",url:""},selectReason:""},i={id:`${(n+1).toString().padStart(3,"0")}`,title:"",createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:t,deadline:dt(new Date,"yyyy-MM-dd"),voteItems:[r,{...r,id:2}]},[s,o]=Q.useState(i),{alertAskJoinMember:a,anonymous:l}=ei("register"),{sendPushNotificationToAllUser:h,isPending:c}=Ji(),f=async()=>{const x=an(Jt,Ru,`VoteId-${s.id}`);await Cs(x,s)},{hideModal:p}=Yt();return{newVote:s,setNewVote:o,onNewVoteSubmit:async x=>{if(x.preventDefault(),l)return a();if(s.title==="")return;if(s.voteItems.find(_=>_.book.title===""))return alert("    !");try{f(),window.alert("  !"),p(),h({title:"  ",body:`${s.title}  .    !`,subPath:"/vote"})}catch(_){console.error("Error adding document:",_)}},onVoteTitleChange:x=>{const S={...s,title:x.currentTarget.value};o(S)},onDateChange:x=>{const S={...s,deadline:dt(x,"yyyy-MM-dd")};o(S)},onAddVoteItemBtn:()=>{const x={voteItems:[...s.voteItems,{...are,id:s.voteItems.length+1}]};o(S=>({...S,...x}))},onDeleteVoteItemClick:x=>{const S=s.voteItems.filter(({id:_})=>_!==x);o(_=>({..._,voteItems:S}))},isPending:c}},ure=()=>{var h;const[t,e]=Q.useState(""),[n,r]=Q.useState(!1),{uid:i}=Ve(Nt),s=kr(),o=(h=Ht.currentUser)==null?void 0:h.isAnonymous;return{onDeleteSubmit:c=>{if(c.preventDefault(),t==="")return;const f=Ht.currentUser,p=ua.credential(f==null?void 0:f.email,t);try{window.confirm(" ?")===!0?wR(f,p).then(()=>{const g=an(Jt,Ki,`${i}`);qg(g),O9(f),s("/")}).catch(g=>{g.message.includes("wrong-password")&&r(!0)}):window.alert(".")}catch(m){console.log(m)}},showMessage:n,password:t,onChange:c=>{if(o)return alert(" !");e(c.currentTarget.value)}}},wE=Nn({key:`basePhotoAtom/${zt()}`,default:null});Nn({key:`selectedYearAtom/${zt()}`,default:_t});const ec=Nn({key:`clubByYearAtom/${zt()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),Ai=Gj({key:"clubByMonthSelector",get:t=>({get:e})=>e(ec).find(({id:r})=>r===t)||null}),bE=()=>{const[t,e]=Q.useState(_t),[n,r]=Wt(ec);Q.useEffect(()=>{Yn(`BookClub-${t}`,r)},[t]);const i=Q.useMemo(()=>n.filter(({book:s})=>s.thumbnail!=="").map(s=>({...s.book,yearMonthId:s.id})),[n]);return{clubByYear:n,selectedYear:t,setSelectedYear:e,clubBookListByYear:i}},El=Nn({key:`absence/${zt()}`,default:null,effects:[({setSelf:t})=>{(async()=>{lr(Ci,Mu,t)})()}]}),v3=Gj({key:"attendanceSelector",get:t=>({get:e})=>{const n=e(ma),r=e(El),i=(r==null?void 0:r.absenceMembers)||[],s=+t.slice(0,4),o=+t.slice(-2),a=i.find(({month:c})=>o===c),l=[...(a==null?void 0:a.breakMembers)||[],...(a==null?void 0:a.onceAbsenceMembers)||[]],h=n.filter(({membershipJoinTime:c})=>{const f=new Date(s,o-1);return new Date(c).getTime()<f.getTime()}).filter(c=>!l.includes(c.id)).map(c=>c.id);return{absenteeList:l,participantList:h}}}),cre={month:1,breakMonth:!1,onceAbsenceMonth:!1},dre=()=>{const{uid:t}=Ve(Nt),[e,n]=Wt(El),[r,i]=Q.useState(cre),s=an(Jt,Ci,Mu),o=(h,c)=>c?h.includes(t)?h:[...h,t]:h.filter(f=>f!==t),{hideModal:a}=Yt();return{onSubmit:async(h,c)=>{h.preventDefault();const{onceAbsenceMonth:f,breakMonth:p}=r,m=e.absenceMembers.map(y=>{const{breakMembers:w,onceAbsenceMembers:b}=y,x={...y,breakMembers:o(w,p),onceAbsenceMembers:o(b,f)};return y.month===c?x:y}),g={...e,absenceMembers:m};n(g),await pn(s,{absenceMembers:m}),a()},selectedValues:r,setSelectedValues:i}},cv=Nn({key:`fieldAndHostAtom/${zt()}`,default:{id:"",bookFieldAndHostList:[]},effects:[({setSelf:t})=>{(async()=>{lr(`BookClub-${_t}`,Yd,t)})()}]}),fre=Yj({key:"clubByMonthSelector",get:({get:t})=>{var n;const e=t(cv);return(n=e==null?void 0:e.bookFieldAndHostList)==null?void 0:n.find(({month:r})=>r===+Qr+1)}}),hre=()=>{const[t,e]=Q.useState(null),[n,r]=Wt(cv),{alertAskJoinMember:i,anonymous:s}=ei("edit"),{bookFieldAndHostList:o}=n,a=an(Jt,`BookClub-${_t}`,Yd),{errorMsg:l,handleErrorMsg:h}=xE(),{hideModal:c}=Yt(),f={field:[{condition:(t==null?void 0:t.field)==="",error:"  ."}],hosts:[{condition:(t==null?void 0:t.hosts.length)===0,error:"   ."}]},p=async(m,g)=>{if(m.preventDefault(),s)return i();if(h(f))return;const w=o.map(x=>{const S={...x,...t};return x.month===g?S:x}),b={...n,bookFieldAndHostList:w};r(b),await pn(a,b),c()};return Q.useEffect(()=>{Sl(o)||lr(`BookClub-${_t}`,Yd,r)},[n]),{fieldAndHostList:o,onSubmit:p,selectedValues:t,setSelectedValues:e,errorMsg:l}},xE=()=>{const[t,e]=Q.useState({});return{errorMsg:t,handleErrorMsg:r=>{const i=a=>{var h;return((h=a==null?void 0:a.find(c=>c.condition))==null?void 0:h.error)||""},s=Object.fromEntries(Object.keys(r).map(a=>[a,i(r[a])]));return e(s),Object.values(s).some(a=>a!=="")}}},pre=({likes:t,likeUsers:e,docId:n,collName:r})=>{var p;const[i,s]=Q.useState(!1),[o,a]=Q.useState(!1),{uid:l}=Ve(Nt),h=(p=Ht.currentUser)==null?void 0:p.isAnonymous;return{like:i,setLike:s,onLikeClick:async()=>{if(!r||h)return;const m=an(Jt,r,`${n}`);i?(a(!1),await pn(m,{likes:t-1,likeUsers:e.filter(g=>g!==l)})):await pn(m,{likes:t+1,likeUsers:[...e,l]}),s(g=>!g)},showLikeUsers:o,toggleShowLikeUsers:()=>a(m=>!m)}},mre=Nn({key:`penaltyDoc/${zt()}`,default:{}});Yj({key:`userPenaltyList/${zt()}`,get:({get:t})=>{const e=t(mre),{createdAt:n,id:r,...i}=e;return Object.entries(i).map(([s,o])=>({[s]:o}))}});const gre=()=>{const[t,e]=Q.useState(!1),[{uid:n,displayName:r},i]=Wt(Nt),[s,o]=Wt(gE(n)),[a,l]=Q.useState(null),[h,c]=Q.useState(r),f=()=>{const k=ug().currentUser;i({uid:k.uid,email:k.email,displayName:k.displayName,photoURL:k.photoURL})},p=an(Jt,Ki,n),m=async()=>{const{original:k,compressed:N}=a,O=Ux(Vx,`avatars/${n}/original`),C=await eO(O,k),I=await Bx(C.ref),P=Ux(Vx,`avatars/${n}/compressed`),A=await eO(P,N),D=await Bx(A.ref);await _2(Ht.currentUser,{photoURL:I}),await pn(p,{photoURL:{original:I,compressed:D}}),f()},g=async()=>{const k={displayName:h};await _2(Ht.currentUser,k),await pn(p,k),f()},y=async()=>{await pn(p,{favoriteBookField:Array.from(s.favoriteBookField)})};return{isEditing:t,onToggleEditClick:()=>e(!0),onHandleFieldClick:(k,N)=>{const{name:O}=N.currentTarget,C={id:k,name:O};if(!s.favoriteBookField.some(P=>P.id===k)){const A=[...s.favoriteBookField,C].filter((D,L,F)=>L===F.findIndex(q=>q.id===D.id));return o(D=>({...D,favoriteBookField:A}))}o(P=>({...P,favoriteBookField:P.favoriteBookField.filter(A=>A.id!==k)}))},onProfileSubmit:async k=>{k.preventDefault();try{a&&m(),r!==h&&g(),y(),e(!1)}catch(N){console.error("Error adding document:",N)}},newUserImgUrl:a,setNewUserImgUrl:l,newDisplayName:h,setNewDisplayName:c,userDoc:s,onDisplayNameChange:k=>{c(k.currentTarget.value)},isSelected:k=>{var N;return(N=s==null?void 0:s.favoriteBookField)==null?void 0:N.some(O=>O.id===k)}}},y3=(t,e)=>{const[n,r]=Q.useState(t),[i,s]=Q.useState(null),o=Ve(Ai(e)),a=ea(ec),{hideModal:l}=Yt(),{sendPushNotificationToAllUser:h}=Ji(),c=+e.slice(-2),f=async g=>{const y=an(Jt,Ci,e),{meeting:{time:w,place:b}}=g;if(t.time===w.toLocaleString()&&t.place===b)return l();await pn(y,g),a(x=>x.map(S=>o.id===e?{...S,...g}:S)),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ! ${dt(w,"M d EEEE a h mm")} ${b}  `})},p=async g=>{await pE(Ci,e,g),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ${g.book.title}. ${dt(g.meeting.time,"M d EEEE a h mm")} ${g.meeting.place} `})},m=g=>{r(y=>({...y,...g}))};return Q.useEffect(()=>{var g;((g=i==null?void 0:i.place)==null?void 0:g.length)!==null&&lr(kne,Tne,s)},[]),{savedPlaceList:i,currMeeting:n,onMeetingChange:m,onMeetingEdit:f,onNewBookClubSubmit:p}},vre=({collName:t,docId:e})=>{var N;const{uid:n}=Ve(Nt),[r,i]=Q.useState(ore),[s,o]=Q.useState([]),[a,l]=Q.useState([]),[h,c]=Q.useState(!1),f=()=>c(O=>!O),p=kr(),{anonymous:m,alertAskJoinMember:g}=ei("see");Q.useEffect(()=>{e&&r.id===""&&lr(t,`VoteId-${e}`,i),r.id&&Yn(`${Ru}/VoteId-${r.id}/${Qx}`,l)},[t,e,r.id,l]);const y=async()=>{if(window.confirm(" ?")){const C=an(Jt,t,`VoteId-${e}`);await qg(C),p(-1)}},w=async O=>{if(O.preventDefault(),m)return g();if(s.length===0)return window.alert("   .");try{const C=an(Jt,`${t}/VoteId-${r.id}/${Qx}`,n);await Cs(C,{createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),votedItem:s}),window.alert(" !"),S&&f()}catch(C){console.error(C)}},b=O=>s.find(({id:C})=>C===O),x=O=>{const C=b(O);o(C?s.filter(({id:I})=>I!==O):[...s,{id:O}])},S=a==null?void 0:a.find(({id:O})=>O===n),_=Ene(r.voteItems,a),k=(N=_==null?void 0:_.map(O=>O.voteCount))==null?void 0:N.reduce((O,C)=>O+C,0);return{currentVote:r,votedItemsByMember:a,voteCountsById:_,totalVoteCount:k,selectedItem:b,onVotingSubmit:w,onVoteItemClick:x,myVotedItems:S,onVoteDeleteClick:y,isRevote:h,onToggleRevoteClick:f}},yre=t=>{const[e,n]=Q.useState({email:"",error:""}),[r,i]=Q.useState({password:"",error:""}),s=kr(),o={email:{HAS_NOT_EMAIL:"  ."},password:{HAS_NOT_PASSWORD:"  .",NOT_CORRECT:"    ."}},a=(f,p)=>{f==="email"&&n(m=>({...m,error:p})),f==="password"&&i(m=>({...m,error:p}))};return{currEmail:e,currPassword:r,onSubmit:async f=>{f.preventDefault();const{email:p}=e,{password:m}=r,{email:{HAS_NOT_EMAIL:g},password:{HAS_NOT_PASSWORD:y,NOT_CORRECT:w}}=o;try{if(!p&&!m){a("email",g),a("password",y);return}if(!p){a("email",g);return}if(!m){a("password",y);return}await S9(Ht,p,m),s("/")}catch(b){b.message.includes("invalid-login-credentials")&&a("password",w)}},onChange:f=>{const{currentTarget:{name:p,value:m}}=f;p==="email"&&n({email:m,error:""}),p==="password"&&i({password:m,error:""})},onAnonymousLoginClick:()=>{if(!t)try{y9(Ht),og(Ht,f=>{f&&s("/")})}catch(f){console.log(f)}}}},_E=()=>{var o;const[t,e]=Wt(Xj),n=Q.useRef(null),r=(o=n==null?void 0:n.current)==null?void 0:o.value;return Q.useEffect(()=>{if(r==="")return e([])},[]),{searchInputRef:n,onBookQueryChange:a=>{const{value:l}=a.currentTarget;l!==""?ere(l,e):e([])},searchList:t,setSearchList:e,resetSearchList:()=>e([])}},Ji=()=>{const[t,e]=Q.useState(!1),{uid:n,displayName:r}=Ve(Nt),i=async(h,c)=>{e(!0);const{title:f,body:p,subPath:m,notification:g}=h,y=`https://talentforest.github.io/han-bookclub-app${m||""}`;try{if(!c){if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!g)return{result:"fail"};const w=await ym();return await tw({title:f,body:p,token:w,link:y}),{result:"success"}}if(c)return c!=null&&c.notification?(c.tokens.map(async w=>tw({title:f,body:p,token:w,link:y})),{result:"success"}):{result:"fail"}}catch(w){console.log(w)}finally{e(!1)}},s=async({title:h,body:c,subPath:f})=>{e(!0);try{const p=`https://talentforest.github.io/han-bookclub-app${f||""}`;await tO({title:h,body:c,link:p,uid:n})}catch(p){console.log(p)}finally{e(!1)}},o=async(h,c)=>{e(!0);try{if(!n||!h)return{result:"fail"};const f=+(c==null?void 0:c.slice(-2))||+Qr,p={:{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r}  .  !`,subPath:"/bookclub"},:{title:"  ",body:`${r} ${f}  .`,subPath:"/bookclub"},:{title:" ",body:`${r}  .   !`,subPath:"/bookclub"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}},{title:m,body:g,subPath:y}=p[h],w=`https://talentforest.github.io/han-bookclub-app${y}`;return await tO({title:m,body:g,link:w,uid:n}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},a=(h,c)=>{const f=+(c==null?void 0:c.slice(-2))||+Qr,p=c?`/${c}`:"";return{:{title:"  ",body:`${r} ${f}  .  ?`,subPath:`/bookclub${p}/subjects`}," ":{title:"  ",body:`${r} ${f}   .  ?`,subPath:`/bookclub${p}/host-review`}," ":{title:"  ",body:`${r}  .  !`,subPath:`/bookclub${p}`},:{title:"  ",body:`${r} ${f}   .`,subPath:`/bookclub${p}`},:{title:" ",body:`${r}  .      ?!`,subPath:"/challenge"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}}[h]};return{sendTestToMe:async(h,c)=>{e(!0);try{if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!n||!h)return{result:"fail"};const{title:f,body:p,subPath:m}=a(h,c),g=`http://localhost:3000/han-bookclub-app${m}`,y=await ym();return await tw({title:f,body:p,token:y,link:g}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},sendPostPushNotification:o,sendPushNotificationToUser:i,sendPushNotificationToAllUser:s,isPending:t}};var w3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pA=se.createContext&&se.createContext(w3),wre=["attr","size","title"];function bre(t,e){if(t==null)return{};var n=xre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b3(t){return t&&t.map((e,n)=>se.createElement(e.tag,km({key:n},e.attr),b3(e.child)))}function ft(t){return e=>se.createElement(kre,Em({attr:km({},t.attr)},e),b3(t.child))}function kre(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=bre(t,wre),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),se.createElement("svg",Em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:km(km({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&se.createElement("title",null,s),t.children)};return pA!==void 0?se.createElement(pA.Consumer,null,n=>e(n)):e(w3)}function Tre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Cre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(t)}function Nre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function Ore(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(t)}function SE(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function x3(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Are(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Dre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function EE(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Ire(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function _3(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(t)}function Pre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"},child:[]},{tag:"polyline",attr:{points:"17 18 12 13 7 18"},child:[]}]})(t)}function Rre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function S3(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function kE(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Mre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function Lre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function jre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Fre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function $re(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function Bre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function TE(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function CE(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function Ure(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function NE(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Vre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Of(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function qre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Tm(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Hre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function zre(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Wre=Nn({key:`rereadingChallenge/${zt()}`,default:null}),E3=Nn({key:`completeReadingChallenge/${zt()}`,default:null});Nn({key:`sentences/${zt()}`,default:null});function jn({title:t,backBtn:e,showDesktop:n,children:r,backTo:i}){const s=kr(),o=()=>{s(i||-1)};return E.jsxs("header",{className:`items-center gap-2 py-4 max-sm:flex ${n?"flex":"hidden"} header`,children:[t===" "&&E.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-[20px]"}),e&&E.jsx("button",{onClick:o,type:"button","aria-label":"",onKeyDown:o,children:E.jsx(Dre,{fontSize:22})}),E.jsx("span",{className:"mr-auto text-lg font-medium",children:t}),r]})}function Di({title:t,children:e,className:n,headerType:r="normal"}){const{hideModal:i}=Yt();Q.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const s=document.getElementById("modal");return g_.createPortal(E.jsxs("section",{className:`fixed inset-0 z-10 m-auto flex h-fit max-h-[80vh] w-[55vw] flex-col rounded-2xl bg-white px-5 py-6 max-sm:w-[90%] ${n}`,children:[r!=="noHeader"&&E.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[E.jsx("h3",{className:"text-lg font-medium",children:t}),r!=="onlyTitle"&&E.jsx("button",{type:"button",onClick:()=>i(),className:"px-1",children:E.jsx(zre,{size:20})})]}),e]}),s)}function Yre(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(t)}function OE(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3zm1 7H5v-1h14v1zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54 4.95-4.95z"},child:[]}]})(t)}function k3({url:t,title:e,className:n=""}){return E.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:`p-1.5 text-gray1 ${e?"flex items-center gap-1":"inline-block"} ${n}`,children:[E.jsx(Mre,{className:e?"":"size-full"}),e&&E.jsx("span",{className:"truncate text-[15px]",children:e})]})}function dn({title:t,thumbnail:e,url:n,className:r=""}){const i="aspect-[0.68/1] h-fit shadow-book overflow-hidden rounded-r-[8%]";return E.jsxs(E.Fragment,{children:[e!==""&&E.jsxs("div",{className:`relative ${i} ${r}`,children:[E.jsx("img",{className:"size-full",src:e,alt:`${t} `}),n&&E.jsx(k3,{url:n,className:"absolute bottom-1 right-1 flex size-7 items-center justify-center rounded-full bg-indigo-500 text-white opacity-50"})]}),e===""&&E.jsx("div",{className:`flex items-center justify-center bg-gray4 ${i} ${r}`,children:t.includes("")?E.jsx(Yre,{className:"size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"}):E.jsx(Nre,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"})})]})}function T3({text:t,lineClamp:e}){const n=`line-clamp-[${e}]`;return E.jsx("p",{className:`ql-editor min-h-12 w-full truncate whitespace-pre-line !p-0 leading-7 ${e?n:""}`,dangerouslySetInnerHTML:{__html:t}})}function Gre({collName:t,like:e,onLikeClick:n}){return E.jsx("button",{type:"button",disabled:!t,onClick:n,className:"p-1",children:E.jsx(jre,{stroke:t?"red":"#aaa",fill:t?e?"red":"transparent":"#aaa",fontSize:13})})}function ti({userId:t,className:e,isLink:n=!0}){const{uid:r}=Ve(Nt),i=Ve(wE),[s,o]=Wt(ma),a=s==null?void 0:s.find(({id:p})=>p===t);Q.useEffect(()=>{(s==null?void 0:s.length)===0&&Yn(Ki,o)},[t,s,o]);const l=p=>(p.preventDefault(),p.stopPropagation(),!1),h="size-[20px] aspect-square rounded-full shadow-card";if(!a)return;const f=`/bookshelf${r===(a==null?void 0:a.id)?"":`/${a==null?void 0:a.displayName}`}`;return n?E.jsxs(Ir,{to:f,state:{userId:a.id},className:`flex min-w-fit cursor-pointer items-center justify-between gap-x-1 ${e}`,children:[E.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),E.jsx("span",{className:"w-full min-w-fit",children:a.displayName})]}):E.jsxs("div",{className:`flex min-w-fit items-center justify-between gap-x-1 ${e}`,children:[E.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),E.jsx("span",{className:"w-full min-w-fit",children:a.displayName})]})}const Kre=({post:t,collName:e})=>{var c,f,p;const{uid:n}=Ve(Nt),r=n===t.creatorId,{like:i,setLike:s,onLikeClick:o,showLikeUsers:a,toggleShowLikeUsers:l}=pre({likes:t.likes||0,likeUsers:t.likeUsers||[],docId:t.id,collName:e}),h=(c=t.likeUsers)==null?void 0:c.some(m=>m===n);return Q.useEffect(()=>{h&&s(!0)},[]),E.jsxs("div",{className:"relative flex",children:[E.jsx("button",{type:"button",onClick:l,className:"px-1",children:a?E.jsx(Ire,{className:"text-gray1"}):E.jsx(Are,{className:"text-gray1"})}),E.jsxs("span",{className:"text-sm",children:[((f=t==null?void 0:t.likeUsers)==null?void 0:f.length)||0," Likes"]}),!r&&E.jsx(Gre,{collName:e,like:i,onLikeClick:o}),a&&E.jsxs("div",{className:"absolute bottom-7 right-0 rounded-xl border bg-white p-3",children:[E.jsx("h4",{className:"mb-2 min-w-20 text-sm text-gray1",children:" "}),E.jsx("ul",{className:"flex w-full flex-wrap gap-x-2 gap-y-1",children:(p=t==null?void 0:t.likeUsers)==null?void 0:p.map(m=>E.jsx(ti,{userId:m,className:""},m))})]})]})};function dv({post:t,createdAt:e,footerType:n,collName:r}){return E.jsxs("footer",{className:"mt-4 flex items-center justify-between",children:[E.jsx("span",{className:"min-w-fit text-sm text-gray1",children:dt(e)}),n==="likes"&&E.jsx(Kre,{collName:r,post:t})]})}function Qre({docId:t,collName:e}){const{onDeleteClick:n}=nre({docId:t,collName:e});return E.jsx("button",{onClick:n,children:E.jsx(Of,{fontSize:15,stroke:"#aaa"})})}function ht({name:t,type:e="button",children:n,disabled:r,handleClick:i,color:s="blue",className:o="",tailChildren:a}){const l={gray:"text-gray1 bg-gray4",blue:"text-white bg-blue1",purple:"text-white bg-purple2",lightBlue:"text-blue4 bg-blue2"};return E.jsxs("button",{type:e,onClick:i,disabled:r,className:`flex h-12 min-h-12 w-fit min-w-max items-center justify-center rounded-lg px-4 text-[15px] shadow-lg disabled:bg-gray4 disabled:text-gray2 max-sm:px-4 ${l[s]} ${o}`,children:[n,E.jsx("span",{className:"font-medium tracking-tight",children:t}),a]})}var qw,gA;function Xre(){if(gA)return qw;gA=1;function t(){this.__data__=[],this.size=0}return qw=t,qw}var Hw,vA;function C3(){if(vA)return Hw;vA=1;function t(e,n){return e===n||e!==e&&n!==n}return Hw=t,Hw}var zw,yA;function fv(){if(yA)return zw;yA=1;var t=C3();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return zw=e,zw}var Ww,wA;function Jre(){if(wA)return Ww;wA=1;var t=fv(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Ww=r,Ww}var Yw,bA;function Zre(){if(bA)return Yw;bA=1;var t=fv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Yw=e,Yw}var Gw,xA;function eie(){if(xA)return Gw;xA=1;var t=fv();function e(n){return t(this.__data__,n)>-1}return Gw=e,Gw}var Kw,_A;function tie(){if(_A)return Kw;_A=1;var t=fv();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Kw=e,Kw}var Qw,SA;function hv(){if(SA)return Qw;SA=1;var t=Xre(),e=Jre(),n=Zre(),r=eie(),i=tie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Qw=s,Qw}var Xw,EA;function nie(){if(EA)return Xw;EA=1;var t=hv();function e(){this.__data__=new t,this.size=0}return Xw=e,Xw}var Jw,kA;function rie(){if(kA)return Jw;kA=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Jw=t,Jw}var Zw,TA;function iie(){if(TA)return Zw;TA=1;function t(e){return this.__data__.get(e)}return Zw=t,Zw}var e1,CA;function sie(){if(CA)return e1;CA=1;function t(e){return this.__data__.has(e)}return e1=t,e1}var t1,NA;function N3(){if(NA)return t1;NA=1;var t=typeof qh=="object"&&qh&&qh.Object===Object&&qh;return t1=t,t1}var n1,OA;function ao(){if(OA)return n1;OA=1;var t=N3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return n1=n,n1}var r1,AA;function AE(){if(AA)return r1;AA=1;var t=ao(),e=t.Symbol;return r1=e,r1}var i1,DA;function oie(){if(DA)return i1;DA=1;var t=AE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var h=!0}catch{}var c=r.call(o);return h&&(a?o[i]=l:delete o[i]),c}return i1=s,i1}var s1,IA;function aie(){if(IA)return s1;IA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return s1=n,s1}var o1,PA;function pv(){if(PA)return o1;PA=1;var t=AE(),e=oie(),n=aie(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return o1=o,o1}var a1,RA;function O3(){if(RA)return a1;RA=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return a1=t,a1}var l1,MA;function A3(){if(MA)return l1;MA=1;var t=pv(),e=O3(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return l1=o,l1}var u1,LA;function lie(){if(LA)return u1;LA=1;var t=ao(),e=t["__core-js_shared__"];return u1=e,u1}var c1,jA;function uie(){if(jA)return c1;jA=1;var t=lie(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return c1=n,c1}var d1,FA;function D3(){if(FA)return d1;FA=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return d1=n,d1}var f1,$A;function cie(){if($A)return f1;$A=1;var t=A3(),e=uie(),n=O3(),r=D3(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,h=a.hasOwnProperty,c=RegExp("^"+l.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=t(p)?c:s;return m.test(r(p))}return f1=f,f1}var h1,BA;function die(){if(BA)return h1;BA=1;function t(e,n){return e==null?void 0:e[n]}return h1=t,h1}var p1,UA;function tc(){if(UA)return p1;UA=1;var t=cie(),e=die();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return p1=n,p1}var m1,VA;function DE(){if(VA)return m1;VA=1;var t=tc(),e=ao(),n=t(e,"Map");return m1=n,m1}var g1,qA;function mv(){if(qA)return g1;qA=1;var t=tc(),e=t(Object,"create");return g1=e,g1}var v1,HA;function fie(){if(HA)return v1;HA=1;var t=mv();function e(){this.__data__=t?t(null):{},this.size=0}return v1=e,v1}var y1,zA;function hie(){if(zA)return y1;zA=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return y1=t,y1}var w1,WA;function pie(){if(WA)return w1;WA=1;var t=mv(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return w1=i,w1}var b1,YA;function mie(){if(YA)return b1;YA=1;var t=mv(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return b1=r,b1}var x1,GA;function gie(){if(GA)return x1;GA=1;var t=mv(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return x1=n,x1}var _1,KA;function vie(){if(KA)return _1;KA=1;var t=fie(),e=hie(),n=pie(),r=mie(),i=gie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,_1=s,_1}var S1,QA;function yie(){if(QA)return S1;QA=1;var t=vie(),e=hv(),n=DE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return S1=r,S1}var E1,XA;function wie(){if(XA)return E1;XA=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return E1=t,E1}var k1,JA;function gv(){if(JA)return k1;JA=1;var t=wie();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return k1=e,k1}var T1,ZA;function bie(){if(ZA)return T1;ZA=1;var t=gv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return T1=e,T1}var C1,eD;function xie(){if(eD)return C1;eD=1;var t=gv();function e(n){return t(this,n).get(n)}return C1=e,C1}var N1,tD;function _ie(){if(tD)return N1;tD=1;var t=gv();function e(n){return t(this,n).has(n)}return N1=e,N1}var O1,nD;function Sie(){if(nD)return O1;nD=1;var t=gv();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return O1=e,O1}var A1,rD;function I3(){if(rD)return A1;rD=1;var t=yie(),e=bie(),n=xie(),r=_ie(),i=Sie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,A1=s,A1}var D1,iD;function Eie(){if(iD)return D1;iD=1;var t=hv(),e=DE(),n=I3(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return D1=i,D1}var I1,sD;function kie(){if(sD)return I1;sD=1;var t=hv(),e=nie(),n=rie(),r=iie(),i=sie(),s=Eie();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,I1=o,I1}var P1,oD;function Tie(){if(oD)return P1;oD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return P1=e,P1}var R1,aD;function Cie(){if(aD)return R1;aD=1;function t(e){return this.__data__.has(e)}return R1=t,R1}var M1,lD;function Nie(){if(lD)return M1;lD=1;var t=I3(),e=Tie(),n=Cie();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,M1=r,M1}var L1,uD;function Oie(){if(uD)return L1;uD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return L1=t,L1}var j1,cD;function Aie(){if(cD)return j1;cD=1;function t(e,n){return e.has(n)}return j1=t,j1}var F1,dD;function P3(){if(dD)return F1;dD=1;var t=Nie(),e=Oie(),n=Aie(),r=1,i=2;function s(o,a,l,h,c,f){var p=l&r,m=o.length,g=a.length;if(m!=g&&!(p&&g>m))return!1;var y=f.get(o),w=f.get(a);if(y&&w)return y==a&&w==o;var b=-1,x=!0,S=l&i?new t:void 0;for(f.set(o,a),f.set(a,o);++b<m;){var _=o[b],k=a[b];if(h)var N=p?h(k,_,b,a,o,f):h(_,k,b,o,a,f);if(N!==void 0){if(N)continue;x=!1;break}if(S){if(!e(a,function(O,C){if(!n(S,C)&&(_===O||c(_,O,l,h,f)))return S.push(C)})){x=!1;break}}else if(!(_===k||c(_,k,l,h,f))){x=!1;break}}return f.delete(o),f.delete(a),x}return F1=s,F1}var $1,fD;function Die(){if(fD)return $1;fD=1;var t=ao(),e=t.Uint8Array;return $1=e,$1}var B1,hD;function Iie(){if(hD)return B1;hD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return B1=t,B1}var U1,pD;function Pie(){if(pD)return U1;pD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return U1=t,U1}var V1,mD;function Rie(){if(mD)return V1;mD=1;var t=AE(),e=Die(),n=C3(),r=P3(),i=Iie(),s=Pie(),o=1,a=2,l="[object Boolean]",h="[object Date]",c="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",S=t?t.prototype:void 0,_=S?S.valueOf:void 0;function k(N,O,C,I,P,A,D){switch(C){case x:if(N.byteLength!=O.byteLength||N.byteOffset!=O.byteOffset)return!1;N=N.buffer,O=O.buffer;case b:return!(N.byteLength!=O.byteLength||!A(new e(N),new e(O)));case l:case h:case p:return n(+N,+O);case c:return N.name==O.name&&N.message==O.message;case m:case y:return N==O+"";case f:var L=i;case g:var F=I&o;if(L||(L=s),N.size!=O.size&&!F)return!1;var q=D.get(N);if(q)return q==O;I|=a,D.set(N,O);var M=r(L(N),L(O),I,P,A,D);return D.delete(N),M;case w:if(_)return _.call(N)==_.call(O)}return!1}return V1=k,V1}var q1,gD;function Mie(){if(gD)return q1;gD=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return q1=t,q1}var H1,vD;function IE(){if(vD)return H1;vD=1;var t=Array.isArray;return H1=t,H1}var z1,yD;function Lie(){if(yD)return z1;yD=1;var t=Mie(),e=IE();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return z1=n,z1}var W1,wD;function jie(){if(wD)return W1;wD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return W1=t,W1}var Y1,bD;function Fie(){if(bD)return Y1;bD=1;function t(){return[]}return Y1=t,Y1}var G1,xD;function $ie(){if(xD)return G1;xD=1;var t=jie(),e=Fie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return G1=s,G1}var K1,_D;function Bie(){if(_D)return K1;_D=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return K1=t,K1}var Q1,SD;function vv(){if(SD)return Q1;SD=1;function t(e){return e!=null&&typeof e=="object"}return Q1=t,Q1}var X1,ED;function Uie(){if(ED)return X1;ED=1;var t=pv(),e=vv(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return X1=r,X1}var J1,kD;function Vie(){if(kD)return J1;kD=1;var t=Uie(),e=vv(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return J1=s,J1}var ld={exports:{}},Z1,TD;function qie(){if(TD)return Z1;TD=1;function t(){return!1}return Z1=t,Z1}ld.exports;var CD;function R3(){return CD||(CD=1,function(t,e){var n=ao(),r=qie(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,h=l||r;t.exports=h}(ld,ld.exports)),ld.exports}var eb,ND;function Hie(){if(ND)return eb;ND=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return eb=n,eb}var tb,OD;function M3(){if(OD)return tb;OD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return tb=e,tb}var nb,AD;function zie(){if(AD)return nb;AD=1;var t=pv(),e=M3(),n=vv(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",h="[object Map]",c="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",S="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",A={};A[x]=A[S]=A[_]=A[k]=A[N]=A[O]=A[C]=A[I]=A[P]=!0,A[r]=A[i]=A[w]=A[s]=A[b]=A[o]=A[a]=A[l]=A[h]=A[c]=A[f]=A[p]=A[m]=A[g]=A[y]=!1;function D(L){return n(L)&&e(L.length)&&!!A[t(L)]}return nb=D,nb}var rb,DD;function Wie(){if(DD)return rb;DD=1;function t(e){return function(n){return e(n)}}return rb=t,rb}var ud={exports:{}};ud.exports;var ID;function Yie(){return ID||(ID=1,function(t,e){var n=N3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(ud,ud.exports)),ud.exports}var ib,PD;function L3(){if(PD)return ib;PD=1;var t=zie(),e=Wie(),n=Yie(),r=n&&n.isTypedArray,i=r?e(r):t;return ib=i,ib}var sb,RD;function Gie(){if(RD)return sb;RD=1;var t=Bie(),e=Vie(),n=IE(),r=R3(),i=Hie(),s=L3(),o=Object.prototype,a=o.hasOwnProperty;function l(h,c){var f=n(h),p=!f&&e(h),m=!f&&!p&&r(h),g=!f&&!p&&!m&&s(h),y=f||p||m||g,w=y?t(h.length,String):[],b=w.length;for(var x in h)(c||a.call(h,x))&&!(y&&(x=="length"||m&&(x=="offset"||x=="parent")||g&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&w.push(x);return w}return sb=l,sb}var ob,MD;function Kie(){if(MD)return ob;MD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return ob=e,ob}var ab,LD;function Qie(){if(LD)return ab;LD=1;function t(e,n){return function(r){return e(n(r))}}return ab=t,ab}var lb,jD;function Xie(){if(jD)return lb;jD=1;var t=Qie(),e=t(Object.keys,Object);return lb=e,lb}var ub,FD;function Jie(){if(FD)return ub;FD=1;var t=Kie(),e=Xie(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return ub=i,ub}var cb,$D;function Zie(){if($D)return cb;$D=1;var t=A3(),e=M3();function n(r){return r!=null&&e(r.length)&&!t(r)}return cb=n,cb}var db,BD;function ese(){if(BD)return db;BD=1;var t=Gie(),e=Jie(),n=Zie();function r(i){return n(i)?t(i):e(i)}return db=r,db}var fb,UD;function tse(){if(UD)return fb;UD=1;var t=Lie(),e=$ie(),n=ese();function r(i){return t(i,n,e)}return fb=r,fb}var hb,VD;function nse(){if(VD)return hb;VD=1;var t=tse(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,h,c){var f=a&e,p=t(s),m=p.length,g=t(o),y=g.length;if(m!=y&&!f)return!1;for(var w=m;w--;){var b=p[w];if(!(f?b in o:r.call(o,b)))return!1}var x=c.get(s),S=c.get(o);if(x&&S)return x==o&&S==s;var _=!0;c.set(s,o),c.set(o,s);for(var k=f;++w<m;){b=p[w];var N=s[b],O=o[b];if(l)var C=f?l(O,N,b,o,s,c):l(N,O,b,s,o,c);if(!(C===void 0?N===O||h(N,O,a,l,c):C)){_=!1;break}k||(k=b=="constructor")}if(_&&!k){var I=s.constructor,P=o.constructor;I!=P&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(_=!1)}return c.delete(s),c.delete(o),_}return hb=i,hb}var pb,qD;function rse(){if(qD)return pb;qD=1;var t=tc(),e=ao(),n=t(e,"DataView");return pb=n,pb}var mb,HD;function ise(){if(HD)return mb;HD=1;var t=tc(),e=ao(),n=t(e,"Promise");return mb=n,mb}var gb,zD;function sse(){if(zD)return gb;zD=1;var t=tc(),e=ao(),n=t(e,"Set");return gb=n,gb}var vb,WD;function ose(){if(WD)return vb;WD=1;var t=tc(),e=ao(),n=t(e,"WeakMap");return vb=n,vb}var yb,YD;function ase(){if(YD)return yb;YD=1;var t=rse(),e=DE(),n=ise(),r=sse(),i=ose(),s=pv(),o=D3(),a="[object Map]",l="[object Object]",h="[object Promise]",c="[object Set]",f="[object WeakMap]",p="[object DataView]",m=o(t),g=o(e),y=o(n),w=o(r),b=o(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=p||e&&x(new e)!=a||n&&x(n.resolve())!=h||r&&x(new r)!=c||i&&x(new i)!=f)&&(x=function(S){var _=s(S),k=_==l?S.constructor:void 0,N=k?o(k):"";if(N)switch(N){case m:return p;case g:return a;case y:return h;case w:return c;case b:return f}return _}),yb=x,yb}var wb,GD;function lse(){if(GD)return wb;GD=1;var t=kie(),e=P3(),n=Rie(),r=nse(),i=ase(),s=IE(),o=R3(),a=L3(),l=1,h="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(y,w,b,x,S,_){var k=s(y),N=s(w),O=k?c:i(y),C=N?c:i(w);O=O==h?f:O,C=C==h?f:C;var I=O==f,P=C==f,A=O==C;if(A&&o(y)){if(!o(w))return!1;k=!0,I=!1}if(A&&!I)return _||(_=new t),k||a(y)?e(y,w,b,x,S,_):n(y,w,O,b,x,S,_);if(!(b&l)){var D=I&&m.call(y,"__wrapped__"),L=P&&m.call(w,"__wrapped__");if(D||L){var F=D?y.value():y,q=L?w.value():w;return _||(_=new t),S(F,q,b,x,_)}}return A?(_||(_=new t),r(y,w,b,x,S,_)):!1}return wb=g,wb}var bb,KD;function use(){if(KD)return bb;KD=1;var t=lse(),e=vv();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return bb=n,bb}var xb,QD;function cse(){if(QD)return xb;QD=1;var t=use();function e(n,r){return t(n,r)}return xb=e,xb}var Pp={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var dse=Pp.exports,XD;function fse(){return XD||(XD=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:dse,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),h=i(46),c=i(47),f=i(48),p=i(49),m=i(12),g=i(32),y=i(33),w=i(31),b=i(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:h.default,Text:p.default,Attributor:{Attribute:m.default,Class:g.default,Style:y.default,Store:w.default}};r.default=x},function(n,r,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var S in x)x.hasOwnProperty(S)&&(b[S]=x[S])};return function(b,x){w(b,x);function S(){this.constructor=b}b.prototype=x===null?Object.create(x):(S.prototype=x.prototype,new S)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){s(b,w);function b(x){var S=this;return x="[Parchment] "+x,S=w.call(this,x)||this,S.message=x,S.name=S.constructor.name,S}return b}(Error);r.ParchmentError=o;var a={},l={},h={},c={};r.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function p(w,b){var x=g(w);if(x==null)throw new o("Unable to create "+w+" blot");var S=x,_=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:S.create(b);return new S(_,b)}r.create=p;function m(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?m(w.parentNode,b):null}r.find=m;function g(w,b){b===void 0&&(b=f.ANY);var x;if(typeof w=="string")x=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)x=c.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?x=c.block:w&f.LEVEL&f.INLINE&&(x=c.inline);else if(w instanceof HTMLElement){var S=(w.getAttribute("class")||"").split(/\s+/);for(var _ in S)if(x=l[S[_]],x)break;x=x||h[w.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}r.query=g;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(_){return y(_)});var x=w[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(c[x.blotName||x.attrName]=x,typeof x.keyName=="string")a[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(_){return _.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var S=Array.isArray(x.tagName)?x.tagName:[x.tagName];S.forEach(function(_){(h[_]==null||x.className==null)&&(h[_]=x)})}return x}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),h="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,p){var m={};return f.length===0?this:(m.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,p){if(f<=0)return this;var m={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},c.prototype.push=function(f){var p=this.ops.length,m=this.ops[p-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(f),this;if(o(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var p=[],m=[];return this.forEach(function(g){var y=f(g)?p:m;y.push(g)}),[p,m]},c.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},c.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},c.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var m=[],g=l.iterator(this.ops),y=0;y<p&&g.hasNext();){var w;y<f?w=g.next(f-y):(w=g.next(p-y),m.push(w)),y+=l.length(w)}return new c(m)},c.prototype.compose=function(f){var p=l.iterator(this.ops),m=l.iterator(f.ops),g=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),g.push(p.next());y.retain-w>0&&m.next(y.retain-w)}for(var b=new c(g);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(p.peekType()==="delete")b.push(p.next());else{var x=Math.min(p.peekLength(),m.peekLength()),S=p.next(x),_=m.next(x);if(typeof _.retain=="number"){var k={};typeof S.retain=="number"?k.retain=x:k.insert=S.insert;var N=l.attributes.compose(S.attributes,_.attributes,typeof S.retain=="number");if(N&&(k.attributes=N),b.push(k),!m.hasNext()&&o(b.ops[b.ops.length-1],k)){var O=new c(p.rest());return b.concat(O).chop()}}else typeof _.delete=="number"&&typeof S.retain=="number"&&b.push(_)}return b.chop()},c.prototype.concat=function(f){var p=new c(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},c.prototype.diff=function(f,p){if(this.ops===f.ops)return new c;var m=[this,f].map(function(x){return x.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:h;var _=x===f?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),g=new c,y=s(m[0],m[1],p),w=l.iterator(this.ops),b=l.iterator(f.ops);return y.forEach(function(x){for(var S=x[1].length;S>0;){var _=0;switch(x[0]){case s.INSERT:_=Math.min(b.peekLength(),S),g.push(b.next(_));break;case s.DELETE:_=Math.min(S,w.peekLength()),w.next(_),g.delete(_);break;case s.EQUAL:_=Math.min(w.peekLength(),b.peekLength(),S);var k=w.next(_),N=b.next(_);o(k.insert,N.insert)?g.retain(_,l.attributes.diff(k.attributes,N.attributes)):g.push(N).delete(_);break}S-=_}}),g.chop()},c.prototype.eachLine=function(f,p){p=p||`
`;for(var m=l.iterator(this.ops),g=new c,y=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),b=l.length(w)-m.peekLength(),x=typeof w.insert=="string"?w.insert.indexOf(p,b)-b:-1;if(x<0)g.push(m.next());else if(x>0)g.push(m.next(x));else{if(f(g,m.next(1).attributes||{},y)===!1)return;y+=1,g=new c}}g.length()>0&&f(g,{},y)},c.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var m=l.iterator(this.ops),g=l.iterator(f.ops),y=new c;m.hasNext()||g.hasNext();)if(m.peekType()==="insert"&&(p||g.peekType()!=="insert"))y.retain(l.length(m.next()));else if(g.peekType()==="insert")y.push(g.next());else{var w=Math.min(m.peekLength(),g.peekLength()),b=m.next(w),x=g.next(w);if(b.delete)continue;x.delete?y.push(x):y.retain(w,l.attributes.transform(b.attributes,x.attributes,p))}return y.chop()},c.prototype.transformPosition=function(f,p){p=!!p;for(var m=l.iterator(this.ops),g=0;m.hasNext()&&g<=f;){var y=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){f-=Math.min(y,f-g);continue}else w==="insert"&&(g<f||!p)&&(f+=y);g+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},h=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var g=i.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},c=function(m,g){o&&g.name==="__proto__"?o(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},f=function(m,g){if(g==="__proto__")if(i.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};n.exports=function p(){var m,g,y,w,b,x,S=arguments[0],_=1,k=arguments.length,N=!1;for(typeof S=="boolean"&&(N=S,S=arguments[1]||{},_=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});_<k;++_)if(m=arguments[_],m!=null)for(g in m)y=f(S,g),w=f(m,g),S!==w&&(N&&w&&(h(w)||(b=l(w)))?(b?(b=!1,x=y&&l(y)?y:[]):x=y&&h(y)?y:{},c(S,{name:g,newValue:p(N,x,w)})):typeof w<"u"&&c(S,{name:g,newValue:w}));return S}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(D,L){for(var F=0;F<L.length;F++){var q=L[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,L,F){return L&&A(D.prototype,L),F&&A(D,F),D}}(),o=function A(D,L,F){D===null&&(D=Function.prototype);var q=Object.getOwnPropertyDescriptor(D,L);if(q===void 0){var M=Object.getPrototypeOf(D);return M===null?void 0:A(M,L,F)}else{if("value"in q)return q.value;var B=q.get;return B===void 0?void 0:B.call(F)}},a=i(3),l=S(a),h=i(2),c=S(h),f=i(0),p=S(f),m=i(16),g=S(m),y=i(6),w=S(y),b=i(7),x=S(b);function S(A){return A&&A.__esModule?A:{default:A}}function _(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function k(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function N(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var O=1,C=function(A){N(D,A);function D(){return _(this,D),k(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"attach",value:function(){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,q){var M=p.default.query(F,p.default.Scope.BLOCK_ATTRIBUTE);M!=null&&this.attributes.attribute(M,q)}},{key:"formatAt",value:function(F,q,M,B){this.format(M,B)}},{key:"insertAt",value:function(F,q,M){if(typeof q=="string"&&q.endsWith(`
`)){var B=p.default.create(I.blotName);this.parent.insertBefore(B,F===0?this:this.next),B.insertAt(0,q.slice(0,-1))}else o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,M)}}]),D}(p.default.Embed);C.scope=p.default.Scope.BLOCK_BLOT;var I=function(A){N(D,A);function D(L){_(this,D);var F=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return F.cache={},F}return s(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(F,q){return q.length()===0?F:F.insert(q.value(),P(q))},new c.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,F,q),this.cache={}}},{key:"formatAt",value:function(F,q,M,B){q<=0||(p.default.query(M,p.default.Scope.BLOCK)?F+q===this.length()&&this.format(M,B):o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,F,Math.min(q,this.length()-F-1),M,B),this.cache={})}},{key:"insertAt",value:function(F,q,M){if(M!=null)return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,M);if(q.length!==0){var B=q.split(`
`),Y=B.shift();Y.length>0&&(F<this.length()-1||this.children.tail==null?o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var H=this;B.reduce(function(j,U){return H=H.split(j,!0),H.insertAt(0,U),U.length},F+Y.length)}}},{key:"insertBefore",value:function(F,q){var M=this.children.head;o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,F,q),M instanceof g.default&&M.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,F,q),this.cache={}}},{key:"optimize",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(F===0||F>=this.length()-O)){var M=this.clone();return F===0?(this.parent.insertBefore(M,this),this):(this.parent.insertBefore(M,this.next),M)}else{var B=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,F,q);return this.cache={},B}}}]),D}(p.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[w.default,p.default.Embed,x.default];function P(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(D=(0,l.default)(D,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?D:P(A.parent,D)}r.bubbleFormats=P,r.BlockEmbed=C,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(j,U){var V=[],z=!0,K=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){K=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(K)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}();i(50);var l=i(2),h=P(l),c=i(14),f=P(c),p=i(8),m=P(p),g=i(9),y=P(g),w=i(0),b=P(w),x=i(15),S=P(x),_=i(3),k=P(_),N=i(10),O=P(N),C=i(34),I=P(C);function P(H){return H&&H.__esModule?H:{default:H}}function A(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function D(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var L=(0,O.default)("quill"),F=function(){a(H,null,[{key:"debug",value:function(U){U===!0&&(U="log"),O.default.level(U)}},{key:"find",value:function(U){return U.__quill||b.default.find(U)}},{key:"import",value:function(U){return this.imports[U]==null&&L.error("Cannot import "+U+". Are you sure it was registered?"),this.imports[U]}},{key:"register",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof U!="string"){var X=U.attrName||U.blotName;typeof X=="string"?this.register("formats/"+X,U,V):Object.keys(U).forEach(function(W){z.register(W,U[W],V)})}else this.imports[U]!=null&&!K&&L.warn("Overwriting "+U+" with",V),this.imports[U]=V,(U.startsWith("blots/")||U.startsWith("formats/"))&&V.blotName!=="abstract"?b.default.register(V):U.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function H(j){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,H),this.options=q(j,V),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",j);this.options.debug&&H.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new S.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,W){var J=U.selection.lastRange,Z=J&&J.length===0?J.index:void 0;M.call(U,function(){return U.editor.update(null,W,Z)},X)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof U=="string"){var z=U;U=document.createElement("div"),U.classList.add(z)}return this.container.insertBefore(U,V),U}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(U,V,z){var K=this,X=B(U,V,z),W=o(X,4);return U=W[0],V=W[1],z=W[3],M.call(this,function(){return K.editor.deleteText(U,V)},z,U,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(U),this.container.classList.toggle("ql-disabled",!U)}},{key:"focus",value:function(){var U=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=U,this.scrollIntoView()}},{key:"format",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return M.call(this,function(){var X=z.getSelection(!0),W=new h.default;if(X==null)return W;if(b.default.query(U,b.default.Scope.BLOCK))W=z.editor.formatLine(X.index,X.length,A({},U,V));else{if(X.length===0)return z.selection.format(U,V),W;W=z.editor.formatText(X.index,X.length,A({},U,V))}return z.setSelection(X,m.default.sources.SILENT),W},K)}},{key:"formatLine",value:function(U,V,z,K,X){var W=this,J=void 0,Z=B(U,V,z,K,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],M.call(this,function(){return W.editor.formatLine(U,V,J)},X,U,0)}},{key:"formatText",value:function(U,V,z,K,X){var W=this,J=void 0,Z=B(U,V,z,K,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],M.call(this,function(){return W.editor.formatText(U,V,J)},X,U,0)}},{key:"getBounds",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof U=="number"?z=this.selection.getBounds(U,V):z=this.selection.getBounds(U.index,U.length);var K=this.container.getBoundingClientRect();return{bottom:z.bottom-K.top,height:z.height,left:z.left-K.left,right:z.right-K.left,top:z.top-K.top,width:z.width}}},{key:"getContents",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),K=o(z,2);return U=K[0],V=K[1],this.editor.getContents(U,V)}},{key:"getFormat",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof U=="number"?this.editor.getFormat(U,V):this.editor.getFormat(U.index,U.length)}},{key:"getIndex",value:function(U){return U.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(U){return this.scroll.leaf(U)}},{key:"getLine",value:function(U){return this.scroll.line(U)}},{key:"getLines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof U!="number"?this.scroll.lines(U.index,U.length):this.scroll.lines(U,V)}},{key:"getModule",value:function(U){return this.theme.modules[U]}},{key:"getSelection",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return U&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),K=o(z,2);return U=K[0],V=K[1],this.editor.getText(U,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(U,V,z){var K=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return M.call(this,function(){return K.editor.insertEmbed(U,V,z)},X,U)}},{key:"insertText",value:function(U,V,z,K,X){var W=this,J=void 0,Z=B(U,0,z,K,X),te=o(Z,4);return U=te[0],J=te[2],X=te[3],M.call(this,function(){return W.editor.insertText(U,V,J)},X,U,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(U,V,z){this.clipboard.dangerouslyPasteHTML(U,V,z)}},{key:"removeFormat",value:function(U,V,z){var K=this,X=B(U,V,z),W=o(X,4);return U=W[0],V=W[1],z=W[3],M.call(this,function(){return K.editor.removeFormat(U,V)},z,U)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){U=new h.default(U);var K=V.getLength(),X=V.editor.deleteText(0,K),W=V.editor.applyDelta(U),J=W.ops[W.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),W.delete(1));var Z=X.compose(W);return Z},z)}},{key:"setSelection",value:function(U,V,z){if(U==null)this.selection.setRange(null,V||H.sources.API);else{var K=B(U,V,z),X=o(K,4);U=X[0],V=X[1],z=X[3],this.selection.setRange(new x.Range(U,V),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new h.default().insert(U);return this.setContents(z,V)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,V=this.scroll.update(U);return this.selection.update(U),V}},{key:"updateContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){return U=new h.default(U),V.editor.applyDelta(U,z)},z,!0)}}]),H}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=m.default.events,F.sources=m.default.sources,F.version="1.3.7",F.imports={delta:h.default,parchment:b.default,"core/module":y.default,"core/theme":I.default};function q(H,j){if(j=(0,k.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===F.DEFAULTS.theme)j.theme=I.default;else if(j.theme=F.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var U=(0,k.default)(!0,{},j.theme.DEFAULTS);[U,j].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(X){K.modules[X]===!0&&(K.modules[X]={})})});var V=Object.keys(U.modules).concat(Object.keys(j.modules)),z=V.reduce(function(K,X){var W=F.import("modules/"+X);return W==null?L.error("Cannot load "+X+" module. Are you sure you registered it?"):K[X]=W.DEFAULTS||{},K},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,k.default)(!0,{},F.DEFAULTS,{modules:z},U,j),["bounds","container","scrollingContainer"].forEach(function(K){typeof j[K]=="string"&&(j[K]=document.querySelector(j[K]))}),j.modules=Object.keys(j.modules).reduce(function(K,X){return j.modules[X]&&(K[X]=j.modules[X]),K},{}),j}function M(H,j,U,V){if(this.options.strict&&!this.isEnabled()&&j===m.default.sources.USER)return new h.default;var z=U==null?null:this.getSelection(),K=this.editor.delta,X=H();if(z!=null&&(U===!0&&(U=z.index),V==null?z=Y(z,X,j):V!==0&&(z=Y(z,U,V,j)),this.setSelection(z,m.default.sources.SILENT)),X.length()>0){var W,J=[m.default.events.TEXT_CHANGE,X,K,j];if((W=this.emitter).emit.apply(W,[m.default.events.EDITOR_CHANGE].concat(J)),j!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}return X}function B(H,j,U,V,z){var K={};return typeof H.index=="number"&&typeof H.length=="number"?typeof j!="number"?(z=V,V=U,U=j,j=H.length,H=H.index):(j=H.length,H=H.index):typeof j!="number"&&(z=V,V=U,U=j,j=0),(typeof U>"u"?"undefined":s(U))==="object"?(K=U,z=V):typeof U=="string"&&(V!=null?K[U]=V:z=U),z=z||m.default.sources.API,[H,j,K,z]}function Y(H,j,U,V){if(H==null)return null;var z=void 0,K=void 0;if(j instanceof h.default){var X=[H.index,H.index+H.length].map(function(te){return j.transformPosition(te,V!==m.default.sources.USER)}),W=o(X,2);z=W[0],K=W[1]}else{var J=[H.index,H.index+H.length].map(function(te){return te<j||te===j&&V===m.default.sources.USER?te:U>=0?te+U:Math.max(j,te+U)}),Z=o(J,2);z=Z[0],K=Z[1]}return new x.Range(z,K-z)}r.expandConfig=q,r.overload=B,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var S=0;S<x.length;S++){var _=x[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,x,S){return x&&w(b.prototype,x),S&&w(b,S),b}}(),o=function w(b,x,S){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,x);if(_===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,S)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(S)}},a=i(7),l=f(a),h=i(0),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){g(b,w);function b(){return p(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(S,_,k,N){if(b.compare(this.statics.blotName,k)<0&&c.default.query(k,c.default.Scope.BLOT)){var O=this.isolate(S,_);N&&O.wrap(k,N)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,S,_,k,N)}},{key:"optimize",value:function(S){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,S),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(S,_){var k=b.order.indexOf(S),N=b.order.indexOf(_);return k>=0||N>=0?k-N:S===_?0:S<_?-1:1}}]),b}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(S,_){for(var k=0;k<_.length;k++){var N=_[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,_,k){return _&&x(S.prototype,_),k&&x(S,k),S}}(),o=function x(S,_,k){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,_);if(N===void 0){var O=Object.getPrototypeOf(S);return O===null?void 0:x(O,_,k)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(k)}},a=i(54),l=f(a),h=i(10),c=f(h);function f(x){return x&&x.__esModule?x:{default:x}}function p(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function m(x,S){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:x}function g(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(x,S):x.__proto__=S)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(x){document.addEventListener(x,function(){for(var S=arguments.length,_=Array(S),k=0;k<S;k++)_[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var O;(O=N.__quill.emitter).handleDOM.apply(O,_)}})})});var b=function(x){g(S,x);function S(){p(this,S);var _=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return _.listeners={},_.on("error",y.error),_}return s(S,[{key:"emit",value:function(){y.log.apply(y,arguments),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var N=arguments.length,O=Array(N>1?N-1:0),C=1;C<N;C++)O[C-1]=arguments[C];(this.listeners[k.type]||[]).forEach(function(I){var P=I.node,A=I.handler;(k.target===P||P.contains(k.target))&&A.apply(void 0,[k].concat(O))})}},{key:"listenDOM",value:function(k,N,O){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:N,handler:O})}}]),S}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=h};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(h){if(s.indexOf(h)<=s.indexOf(o)){for(var c,f=arguments.length,p=Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];(c=console)[h].apply(c,p)}}function l(h){return s.reduce(function(c,f){return c[f]=a.bind(console,f,h),c},{})}a.level=l.level=function(h){o=h},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(p,m,g){return g||(g={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?g.strict?p===m:p==m:f(p,m,g)};function h(p){return p==null}function c(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,m,g){var y,w;if(h(p)||h(m)||p.prototype!==m.prototype)return!1;if(a(p))return a(m)?(p=s.call(p),m=s.call(m),l(p,m,g)):!1;if(c(p)){if(!c(m)||p.length!==m.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==m[y])return!1;return!0}try{var b=o(p),x=o(m)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),y=b.length-1;y>=0;y--)if(b[y]!=x[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!l(p[w],m[w],g))return!1;return typeof p==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,h,c){c===void 0&&(c={}),this.attrName=l,this.keyName=h;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(h){return h.name})},a.prototype.add=function(l,h){return this.canAdd(l,h)?(l.setAttribute(this.keyName,h),!0):!1},a.prototype.canAdd=function(l,h){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var h=l.getAttribute(this.keyName);return this.canAdd(l,h)&&h?h:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function C(I,P){var A=[],D=!0,L=!1,F=void 0;try{for(var q=I[Symbol.iterator](),M;!(D=(M=q.next()).done)&&(A.push(M.value),!(P&&A.length===P));D=!0);}catch(B){L=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(L)throw F}}return A}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,P){for(var A=0;A<P.length;A++){var D=P[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,P,A){return P&&C(I.prototype,P),A&&C(I,A),I}}(),a=function C(I,P,A){I===null&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,P);if(D===void 0){var L=Object.getPrototypeOf(I);return L===null?void 0:C(L,P,A)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(A)}},l=i(2),h=x(l),c=i(0),f=x(c),p=i(4),m=x(p),g=i(6),y=x(g),w=i(7),b=x(w);function x(C){return C&&C.__esModule?C:{default:C}}function S(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function _(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function k(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var N=function(C){k(I,C);function I(){return S(this,I),_(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(y.default);N.blotName="code",N.tagName="CODE";var O=function(C){k(I,C);function I(){return S(this,I),_(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"delta",value:function(){var A=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(L,F){return L.insert(F).insert(`
`,A.formats())},new h.default)}},{key:"format",value:function(A,D){if(!(A===this.statics.blotName&&D)){var L=this.descendant(b.default,this.length()-1),F=s(L,1),q=F[0];q!=null&&q.deleteAt(q.length()-1,1),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,A,D)}}},{key:"formatAt",value:function(A,D,L,F){if(D!==0&&!(f.default.query(L,f.default.Scope.BLOCK)==null||L===this.statics.blotName&&F===this.statics.formats(this.domNode))){var q=this.newlineIndex(A);if(!(q<0||q>=A+D)){var M=this.newlineIndex(A,!0)+1,B=q-M+1,Y=this.isolate(M,B),H=Y.next;Y.format(L,F),H instanceof I&&H.formatAt(0,A-M+D-B,L,F)}}}},{key:"insertAt",value:function(A,D,L){if(L==null){var F=this.descendant(b.default,A),q=s(F,2),M=q[0],B=q[1];M.insertAt(B,D)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var L=this.domNode.textContent.slice(A).indexOf(`
`);return L>-1?A+L:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(A),D.moveChildren(this),D.remove())}},{key:"replace",value:function(A){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var L=f.default.find(D);L==null?D.parentNode.removeChild(D):L instanceof f.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(A){var D=a(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,A);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),I}(m.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=N,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(j,U){var V=[],z=!0,K=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){K=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(K)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}(),l=i(2),h=D(l),c=i(20),f=D(c),p=i(0),m=D(p),g=i(13),y=D(g),w=i(24),b=D(w),x=i(4),S=D(x),_=i(16),k=D(_),N=i(21),O=D(N),C=i(11),I=D(C),P=i(3),A=D(P);function D(H){return H&&H.__esModule?H:{default:H}}function L(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function F(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,M=function(){function H(j){F(this,H),this.scroll=j,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function(U){var V=this,z=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),U=Y(U),U.reduce(function(X,W){var J=W.retain||W.delete||W.insert.length||1,Z=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var te=W.insert;te.endsWith(`
`)&&z&&(z=!1,te=te.slice(0,-1)),X>=K&&!te.endsWith(`
`)&&(z=!0),V.scroll.insertAt(X,te);var le=V.scroll.line(X),pe=o(le,2),ge=pe[0],Ce=pe[1],Fe=(0,A.default)({},(0,x.bubbleFormats)(ge));if(ge instanceof S.default){var De=ge.descendant(m.default.Leaf,Ce),nt=o(De,1),Qe=nt[0];Fe=(0,A.default)(Fe,(0,x.bubbleFormats)(Qe))}Z=f.default.attributes.diff(Fe,Z)||{}}else if(s(W.insert)==="object"){var ce=Object.keys(W.insert)[0];if(ce==null)return X;V.scroll.insertAt(X,ce,W.insert[ce])}K+=J}return Object.keys(Z).forEach(function(fe){V.scroll.formatAt(X,J,fe,Z[fe])}),X+J},0),U.reduce(function(X,W){return typeof W.delete=="number"?(V.scroll.deleteAt(X,W.delete),X):X+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(U)}},{key:"deleteText",value:function(U,V){return this.scroll.deleteAt(U,V),this.update(new h.default().retain(U).delete(V))}},{key:"formatLine",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(X){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[X])){var W=z.scroll.lines(U,Math.max(V,1)),J=V;W.forEach(function(Z){var te=Z.length();if(!(Z instanceof y.default))Z.format(X,K[X]);else{var le=U-Z.offset(z.scroll),pe=Z.newlineIndex(le+J)-le+1;Z.formatAt(le,pe,X,K[X])}J-=te})}}),this.scroll.optimize(),this.update(new h.default().retain(U).retain(V,(0,O.default)(K)))}},{key:"formatText",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(X){z.scroll.formatAt(U,V,X,K[X])}),this.update(new h.default().retain(U).retain(V,(0,O.default)(K)))}},{key:"getContents",value:function(U,V){return this.delta.slice(U,U+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(U,V){return U.concat(V.delta())},new h.default)}},{key:"getFormat",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],K=[];V===0?this.scroll.path(U).forEach(function(W){var J=o(W,1),Z=J[0];Z instanceof S.default?z.push(Z):Z instanceof m.default.Leaf&&K.push(Z)}):(z=this.scroll.lines(U,V),K=this.scroll.descendants(m.default.Leaf,U,V));var X=[z,K].map(function(W){if(W.length===0)return{};for(var J=(0,x.bubbleFormats)(W.shift());Object.keys(J).length>0;){var Z=W.shift();if(Z==null)return J;J=B((0,x.bubbleFormats)(Z),J)}return J});return A.default.apply(A.default,X)}},{key:"getText",value:function(U,V){return this.getContents(U,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(U,V,z){return this.scroll.insertAt(U,V,z),this.update(new h.default().retain(U).insert(L({},V,z)))}},{key:"insertText",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(U,V),Object.keys(K).forEach(function(X){z.scroll.formatAt(U,V.length,X,K[X])}),this.update(new h.default().retain(U).insert(V,(0,O.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var U=this.scroll.children.head;return U.statics.blotName!==S.default.blotName||U.children.length>1?!1:U.children.head instanceof k.default}},{key:"removeFormat",value:function(U,V){var z=this.getText(U,V),K=this.scroll.line(U+V),X=o(K,2),W=X[0],J=X[1],Z=0,te=new h.default;W!=null&&(W instanceof y.default?Z=W.newlineIndex(J)-J+1:Z=W.length()-J,te=W.delta().slice(J,J+Z-1).insert(`
`));var le=this.getContents(U,V+Z),pe=le.diff(new h.default().insert(z).concat(te)),ge=new h.default().retain(U).concat(pe);return this.applyDelta(ge)}},{key:"update",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(q)&&m.default.find(V[0].target)){var X=m.default.find(V[0].target),W=(0,x.bubbleFormats)(X),J=X.offset(this.scroll),Z=V[0].oldValue.replace(b.default.CONTENTS,""),te=new h.default().insert(Z),le=new h.default().insert(X.value()),pe=new h.default().retain(J).concat(te.diff(le,z));U=pe.reduce(function(ge,Ce){return Ce.insert?ge.insert(Ce.insert,W):ge.push(Ce)},new h.default),this.delta=K.compose(U)}else this.delta=this.getDelta(),(!U||!(0,I.default)(K.compose(U),this.delta))&&(U=K.diff(this.delta,z));return U}}]),H}();function B(H,j){return Object.keys(j).reduce(function(U,V){return H[V]==null||(j[V]===H[V]?U[V]=j[V]:Array.isArray(j[V])?j[V].indexOf(H[V])<0&&(U[V]=j[V].concat([H[V]])):U[V]=[j[V],H[V]]),U},{})}function Y(H){return H.reduce(function(j,U){if(U.insert===1){var V=(0,O.default)(U.attributes);return delete V.image,j.insert({image:U.attributes.image},V)}if(U.attributes!=null&&(U.attributes.list===!0||U.attributes.bullet===!0)&&(U=(0,O.default)(U),U.attributes.list?U.attributes.list="ordered":(U.attributes.list="bullet",delete U.attributes.bullet)),typeof U.insert=="string"){var z=U.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(z,U.attributes)}return j.push(U)},new h.default)}r.default=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function C(I,P){var A=[],D=!0,L=!1,F=void 0;try{for(var q=I[Symbol.iterator](),M;!(D=(M=q.next()).done)&&(A.push(M.value),!(P&&A.length===P));D=!0);}catch(B){L=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(L)throw F}}return A}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,P){for(var A=0;A<P.length;A++){var D=P[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,P,A){return P&&C(I.prototype,P),A&&C(I,A),I}}(),a=i(0),l=b(a),h=i(21),c=b(h),f=i(11),p=b(f),m=i(8),g=b(m),y=i(10),w=b(y);function b(C){return C&&C.__esModule?C:{default:C}}function x(C){if(Array.isArray(C)){for(var I=0,P=Array(C.length);I<C.length;I++)P[I]=C[I];return P}else return Array.from(C)}function S(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var _=(0,w.default)("quill:selection"),k=function C(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;S(this,C),this.index=I,this.length=P},N=function(){function C(I,P){var A=this;S(this,C),this.emitter=P,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(D,L){D===g.default.events.TEXT_CHANGE&&L.length()>0&&A.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var D=A.getNativeRange();D!=null&&D.start.node!==A.cursor.textNode&&A.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(D,L){if(L.range){var F=L.range,q=F.startNode,M=F.startOffset,B=F.endNode,Y=F.endOffset;A.setNativeRange(q,M,B,Y)}}),this.update(g.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var A=P.cursor.restore();if(!A)return;setTimeout(function(){P.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||l.default.query(P,l.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var L=l.default.find(D.start.node,!1);if(L==null)return;if(L instanceof l.default.Leaf){var F=L.split(D.start.offset);L.parent.insertBefore(this.cursor,F)}else L.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(P,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();P=Math.min(P,D-1),A=Math.min(P+A,D-1)-P;var L=void 0,F=this.scroll.leaf(P),q=s(F,2),M=q[0],B=q[1];if(M==null)return null;var Y=M.position(B,!0),H=s(Y,2);L=H[0],B=H[1];var j=document.createRange();if(A>0){j.setStart(L,B);var U=this.scroll.leaf(P+A),V=s(U,2);if(M=V[0],B=V[1],M==null)return null;var z=M.position(B,!0),K=s(z,2);return L=K[0],B=K[1],j.setEnd(L,B),j.getBoundingClientRect()}else{var X="left",W=void 0;return L instanceof Text?(B<L.data.length?(j.setStart(L,B),j.setEnd(L,B+1)):(j.setStart(L,B-1),j.setEnd(L,B),X="right"),W=j.getBoundingClientRect()):(W=M.domNode.getBoundingClientRect(),B>0&&(X="right")),{bottom:W.top+W.height,height:W.height,left:W[X],right:W[X],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var A=P.getRangeAt(0);if(A==null)return null;var D=this.normalizeNative(A);return _.info("getNativeRange",D),D}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var A=this.normalizedToRange(P);return[A,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var A=this,D=[[P.start.node,P.start.offset]];P.native.collapsed||D.push([P.end.node,P.end.offset]);var L=D.map(function(M){var B=s(M,2),Y=B[0],H=B[1],j=l.default.find(Y,!0),U=j.offset(A.scroll);return H===0?U:j instanceof l.default.Container?U+j.length():U+j.index(Y,H)}),F=Math.min(Math.max.apply(Math,x(L)),this.scroll.length()-1),q=Math.min.apply(Math,[F].concat(x(L)));return new k(q,F-q)}},{key:"normalizeNative",value:function(P){if(!O(this.root,P.startContainer)||!P.collapsed&&!O(this.root,P.endContainer))return null;var A={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[A.start,A.end].forEach(function(D){for(var L=D.node,F=D.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>F)L=L.childNodes[F],F=0;else if(L.childNodes.length===F)L=L.lastChild,F=L instanceof Text?L.data.length:L.childNodes.length+1;else break;D.node=L,D.offset=F}),A}},{key:"rangeToNative",value:function(P){var A=this,D=P.collapsed?[P.index]:[P.index,P.index+P.length],L=[],F=this.scroll.length();return D.forEach(function(q,M){q=Math.min(F-1,q);var B=void 0,Y=A.scroll.leaf(q),H=s(Y,2),j=H[0],U=H[1],V=j.position(U,M!==0),z=s(V,2);B=z[0],U=z[1],L.push(B,U)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(P){var A=this.lastRange;if(A!=null){var D=this.getBounds(A.index,A.length);if(D!=null){var L=this.scroll.length()-1,F=this.scroll.line(Math.min(A.index,L)),q=s(F,1),M=q[0],B=M;if(A.length>0){var Y=this.scroll.line(Math.min(A.index+A.length,L)),H=s(Y,1);B=H[0]}if(!(M==null||B==null)){var j=P.getBoundingClientRect();D.top<j.top?P.scrollTop-=j.top-D.top:D.bottom>j.bottom&&(P.scrollTop+=D.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(P,A){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",P,A,D,L),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||D.parentNode==null))){var q=document.getSelection();if(q!=null)if(P!=null){this.hasFocus()||this.root.focus();var M=(this.getNativeRange()||{}).native;if(M==null||F||P!==M.startContainer||A!==M.startOffset||D!==M.endContainer||L!==M.endOffset){P.tagName=="BR"&&(A=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),D.tagName=="BR"&&(L=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var B=document.createRange();B.setStart(P,A),B.setEnd(D,L),q.removeAllRanges(),q.addRange(B)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof A=="string"&&(D=A,A=!1),_.info("setRange",P),P!=null){var L=this.rangeToNative(P);this.setNativeRange.apply(this,x(L).concat([A]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,A=this.lastRange,D=this.getRange(),L=s(D,2),F=L[0],q=L[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(A,this.lastRange)){var M;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(A),P];if((M=this.emitter).emit.apply(M,[g.default.events.EDITOR_CHANGE].concat(B)),P!==g.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,B)}}}}]),C}();function O(C,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),C.contains(I)}r.Range=k,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,w,b)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(b)}},a=i(0),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(b,x){b.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),h=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.build(),g}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=c(g);m.insertBefore(y,m.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(m,g){if(m===0&&g===this.length())return this.remove();this.children.forEachAt(m,g,function(y,w,b){y.deleteAt(w,b)})},p.prototype.descendant=function(m,g){var y=this.children.find(g),w=y[0],b=y[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,b]:w instanceof p?w.descendant(m,b):[null,-1]},p.prototype.descendants=function(m,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(g,y,function(x,S,_){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&w.push(x),x instanceof p&&(w=w.concat(x.descendants(m,S,b))),b-=_}),w},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(m,g,y,w){this.children.forEachAt(m,g,function(b,x,S){b.formatAt(x,S,y,w)})},p.prototype.insertAt=function(m,g,y){var w=this.children.find(m),b=w[0],x=w[1];if(b)b.insertAt(x,g,y);else{var S=y==null?l.create("text",g):l.create(g,y);this.appendChild(S)}},p.prototype.insertBefore=function(m,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return m instanceof y}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,g)},p.prototype.length=function(){return this.children.reduce(function(m,g){return m+g.length()},0)},p.prototype.moveChildren=function(m,g){this.children.forEach(function(y){m.insertBefore(y,g)})},p.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(m)}else this.remove()},p.prototype.path=function(m,g){g===void 0&&(g=!1);var y=this.children.find(m,g),w=y[0],b=y[1],x=[[this,m]];return w instanceof p?x.concat(w.path(b,g)):(w!=null&&x.push([w,b]),x)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),f.prototype.replace.call(this,m)},p.prototype.split=function(m,g){if(g===void 0&&(g=!1),!g){if(m===0)return this;if(m===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(m,this.length(),function(w,b,x){w=w.split(b,g),y.appendChild(w)}),y},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,g){var y=this,w=[],b=[];m.forEach(function(x){x.target===y.domNode&&x.type==="childList"&&(w.push.apply(w,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var S=l.find(x);S!=null&&(S.domNode.parentNode==null||S.domNode.parentNode===y.domNode)&&S.detach()}}),w.filter(function(x){return x.parentNode==y.domNode}).sort(function(x,S){return x===S?0:x.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var S=null;x.nextSibling!=null&&(S=l.find(x.nextSibling));var _=c(x);(_.next!=S||_.next==null)&&(_.parent!=null&&_.parent.removeChild(y),y.insertBefore(_,S||void 0))})},p}(a.default);function c(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){p.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),h=i(1),c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.attributes=new a.default(g.domNode),g}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,g){var y=h.query(m);y instanceof o.default?this.attributes.attribute(y,g):g&&y!=null&&(m!==this.statics.blotName||this.formats()[m]!==g)&&this.replaceWith(m,g)},p.prototype.formats=function(){var m=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(m[this.statics.blotName]=g),m},p.prototype.replaceWith=function(m,g){var y=f.prototype.replaceWith.call(this,m,g);return this.attributes.copy(y),y},p.prototype.update=function(m,g){var y=this;f.prototype.update.call(this,m,g),m.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,g){var y=f.prototype.wrap.call(this,m,g);return y instanceof p&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},p}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},c.prototype.position=function(f,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(h,c,f){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var p=o(!0,{},c);f||(p=Object.keys(p).reduce(function(g,y){return p[y]!=null&&(g[y]=p[y]),g},{}));for(var m in h)h[m]!==void 0&&c[m]===void 0&&(p[m]=h[m]);return Object.keys(p).length>0?p:void 0},diff:function(h,c){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var f=Object.keys(h).concat(Object.keys(c)).reduce(function(p,m){return s(h[m],c[m])||(p[m]=c[m]===void 0?null:c[m]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(h,c,f){if(typeof h!="object")return c;if(typeof c=="object"){if(!f)return c;var p=Object.keys(c).reduce(function(m,g){return h[g]===void 0&&(m[g]=c[g]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(h){return new l(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function l(h){this.ops=h,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(h){h||(h=1/0);var c=this.ops[this.index];if(c){var f=this.offset,p=a.length(c);if(h>=p-f?(h=p-f,this.index+=1,this.offset=0):this.offset+=h,typeof c.delete=="number")return{delete:h};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=h:typeof c.insert=="string"?m.insert=c.insert.substr(f,h):m.insert=c.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,c=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=h,this.index=c,[f].concat(p)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function h(y,w,b,x,S){typeof w=="object"&&(b=w.depth,x=w.prototype,S=w.includeNonEnumerable,w=w.circular);var _=[],k=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function O(C,I){if(C===null)return null;if(I===0)return C;var P,A;if(typeof C!="object")return C;if(s(C,o))P=new o;else if(s(C,a))P=new a;else if(s(C,l))P=new l(function(j,U){C.then(function(V){j(O(V,I-1))},function(V){U(O(V,I-1))})});else if(h.__isArray(C))P=[];else if(h.__isRegExp(C))P=new RegExp(C.source,g(C)),C.lastIndex&&(P.lastIndex=C.lastIndex);else if(h.__isDate(C))P=new Date(C.getTime());else{if(N&&Buffer.isBuffer(C))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(C.length):P=new Buffer(C.length),C.copy(P),P;s(C,Error)?P=Object.create(C):typeof x>"u"?(A=Object.getPrototypeOf(C),P=Object.create(A)):(P=Object.create(x),A=x)}if(w){var D=_.indexOf(C);if(D!=-1)return k[D];_.push(C),k.push(P)}s(C,o)&&C.forEach(function(j,U){var V=O(U,I-1),z=O(j,I-1);P.set(V,z)}),s(C,a)&&C.forEach(function(j){var U=O(j,I-1);P.add(U)});for(var L in C){var F;A&&(F=Object.getOwnPropertyDescriptor(A,L)),!(F&&F.set==null)&&(P[L]=O(C[L],I-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(C),L=0;L<q.length;L++){var M=q[L],B=Object.getOwnPropertyDescriptor(C,M);B&&!B.enumerable&&!S||(P[M]=O(C[M],I-1),B.enumerable||Object.defineProperty(P,M,{enumerable:!1}))}if(S)for(var Y=Object.getOwnPropertyNames(C),L=0;L<Y.length;L++){var H=Y[L],B=Object.getOwnPropertyDescriptor(C,H);B&&B.enumerable||(P[H]=O(C[H],I-1),Object.defineProperty(P,H,{enumerable:!1}))}return P}return O(y,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(y){return Object.prototype.toString.call(y)}h.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}h.__isDate=f;function p(y){return typeof y=="object"&&c(y)==="[object Array]"}h.__isArray=p;function m(y){return typeof y=="object"&&c(y)==="[object RegExp]"}h.__isRegExp=m;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return h.__getRegExpFlags=g,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function P(A,D){var L=[],F=!0,q=!1,M=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(L.push(Y.value),!(D&&L.length===D));F=!0);}catch(H){q=!0,M=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw M}}return L}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return P(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(A,D){for(var L=0;L<D.length;L++){var F=D[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,L){return D&&P(A.prototype,D),L&&P(A,L),A}}(),a=function P(A,D,L){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:P(q,D,L)}else{if("value"in F)return F.value;var M=F.get;return M===void 0?void 0:M.call(L)}},l=i(0),h=_(l),c=i(8),f=_(c),p=i(4),m=_(p),g=i(16),y=_(g),w=i(13),b=_(w),x=i(25),S=_(x);function _(P){return P&&P.__esModule?P:{default:P}}function k(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function N(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:P}function O(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}function C(P){return P instanceof m.default||P instanceof p.BlockEmbed}var I=function(P){O(A,P);function A(D,L){k(this,A);var F=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D));return F.emitter=L.emitter,Array.isArray(L.whitelist)&&(F.whitelist=L.whitelist.reduce(function(q,M){return q[M]=!0,q},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,F){var q=this.line(L),M=s(q,2),B=M[0],Y=M[1],H=this.line(L+F),j=s(H,1),U=j[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,L,F),U!=null&&B!==U&&Y>0){if(B instanceof p.BlockEmbed||U instanceof p.BlockEmbed){this.optimize();return}if(B instanceof b.default){var V=B.newlineIndex(B.length(),!0);if(V>-1&&(B=B.split(V+1),B===U)){this.optimize();return}}else if(U instanceof b.default){var z=U.newlineIndex(0);z>-1&&U.split(z+1)}var K=U.children.head instanceof y.default?null:U.children.head;B.moveChildren(U,K),B.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,F,q,M){this.whitelist!=null&&!this.whitelist[q]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,L,F,q,M),this.optimize())}},{key:"insertAt",value:function(L,F,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[F])){if(L>=this.length())if(q==null||h.default.query(F,h.default.Scope.BLOCK)==null){var M=h.default.create(this.statics.defaultChild);this.appendChild(M),q==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),M.insertAt(0,F,q)}else{var B=h.default.create(F,q);this.appendChild(B)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,L,F,q);this.optimize()}}},{key:"insertBefore",value:function(L,F){if(L.statics.scope===h.default.Scope.INLINE_BLOT){var q=h.default.create(this.statics.defaultChild);q.appendChild(L),L=q}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,L,F)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(C,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function M(B,Y,H){var j=[],U=H;return B.children.forEachAt(Y,H,function(V,z,K){C(V)?j.push(V):V instanceof h.default.Container&&(j=j.concat(M(V,z,U))),U-=K}),j};return q(this,L,F)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,L,F),L.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,L,F))}},{key:"path",value:function(L){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var F=f.default.sources.USER;typeof L=="string"&&(F=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,F,L),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,F,L)}}}]),A}(h.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[m.default,p.BlockEmbed,S.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(J,Z){var te=[],le=!0,pe=!1,ge=void 0;try{for(var Ce=J[Symbol.iterator](),Fe;!(le=(Fe=Ce.next()).done)&&(te.push(Fe.value),!(Z&&te.length===Z));le=!0);}catch(De){pe=!0,ge=De}finally{try{!le&&Ce.return&&Ce.return()}finally{if(pe)throw ge}}return te}return function(J,Z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return W(J,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(J,Z){for(var te=0;te<Z.length;te++){var le=Z[te];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,Z,te){return Z&&W(J.prototype,Z),te&&W(J,te),J}}(),l=i(21),h=P(l),c=i(11),f=P(c),p=i(3),m=P(p),g=i(2),y=P(g),w=i(20),b=P(w),x=i(0),S=P(x),_=i(5),k=P(_),N=i(10),O=P(N),C=i(9),I=P(C);function P(W){return W&&W.__esModule?W:{default:W}}function A(W,J,Z){return J in W?Object.defineProperty(W,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):W[J]=Z,W}function D(W,J){if(!(W instanceof J))throw new TypeError("Cannot call a class as a function")}function L(W,J){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:W}function F(W,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}var q=(0,O.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(W){F(J,W),a(J,null,[{key:"match",value:function(te,le){return le=X(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==te[pe]&&le[pe]!==null})?!1:le.key===(te.which||te.keyCode)}}]);function J(Z,te){D(this,J);var le=L(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,Z,te));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:J.keys.ENTER,shiftKey:null},V),le.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0},j)):(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),le.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},U),le.addBinding({key:J.keys.DELETE},{collapsed:!1},U),le.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),le.listen(),le}return a(J,[{key:"addBinding",value:function(te){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=X(te);if(ge==null||ge.key==null)return q.warn("Attempted to add invalid keyboard binding",ge);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ge=(0,m.default)(ge,le,pe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var te=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ge=(te.bindings[pe]||[]).filter(function(ut){return J.match(le,ut)});if(ge.length!==0){var Ce=te.quill.getSelection();if(!(Ce==null||!te.quill.hasFocus())){var Fe=te.quill.getLine(Ce.index),De=o(Fe,2),nt=De[0],Qe=De[1],ce=te.quill.getLeaf(Ce.index),fe=o(ce,2),we=fe[0],xe=fe[1],he=Ce.length===0?[we,xe]:te.quill.getLeaf(Ce.index+Ce.length),$e=o(he,2),Ie=$e[0],Ye=$e[1],Gt=we instanceof S.default.Text?we.value().slice(0,xe):"",On=Ie instanceof S.default.Text?Ie.value().slice(Ye):"",it={collapsed:Ce.length===0,empty:Ce.length===0&&nt.length()<=1,format:te.quill.getFormat(Ce),offset:Qe,prefix:Gt,suffix:On},$r=ge.some(function(ut){if(ut.collapsed!=null&&ut.collapsed!==it.collapsed||ut.empty!=null&&ut.empty!==it.empty||ut.offset!=null&&ut.offset!==it.offset)return!1;if(Array.isArray(ut.format)){if(ut.format.every(function(qt){return it.format[qt]==null}))return!1}else if(s(ut.format)==="object"&&!Object.keys(ut.format).every(function(qt){return ut.format[qt]===!0?it.format[qt]!=null:ut.format[qt]===!1?it.format[qt]==null:(0,f.default)(ut.format[qt],it.format[qt])}))return!1;return ut.prefix!=null&&!ut.prefix.test(it.prefix)||ut.suffix!=null&&!ut.suffix.test(it.suffix)?!1:ut.handler.call(te,Ce,it)!==!0});$r&&le.preventDefault()}}}})}}]),J}(I.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,Z){Z.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,k.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(J){this.quill.history.cutoff();var Z=new y.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(Z,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,k.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,Z){this.quill.format("list",!1,k.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=(0,m.default)({},le.formats(),{list:"checked"}),Ce=new y.default().retain(J.index).insert(`
`,ge).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,Z){var te=this.quill.getLine(J.index),le=o(te,2),pe=le[0],ge=le[1],Ce=new y.default().retain(J.index).insert(`
`,Z.format).retain(pe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,Z){var te=Z.prefix.length,le=this.quill.getLine(J.index),pe=o(le,2),ge=pe[0],Ce=pe[1];if(Ce>te)return!0;var Fe=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":Fe="unchecked";break;case"[x]":Fe="checked";break;case"-":case"*":Fe="bullet";break;default:Fe="ordered"}this.quill.insertText(J.index," ",k.default.sources.USER),this.quill.history.cutoff();var De=new y.default().retain(J.index-Ce).delete(te+1).retain(ge.length()-2-Ce).retain(1,{list:Fe});this.quill.updateContents(De,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-te,k.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=new y.default().retain(J.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Y(B.keys.LEFT,!1),"embed left shift":Y(B.keys.LEFT,!0),"embed right":Y(B.keys.RIGHT,!1),"embed right shift":Y(B.keys.RIGHT,!0)}};function Y(W,J){var Z,te=W===B.keys.LEFT?"prefix":"suffix";return Z={key:W,shiftKey:J,altKey:null},A(Z,te,/^$/),A(Z,"handler",function(pe){var ge=pe.index;W===B.keys.RIGHT&&(ge+=pe.length+1);var Ce=this.quill.getLeaf(ge),Fe=o(Ce,1),De=Fe[0];return De instanceof S.default.Embed?(W===B.keys.LEFT?J?this.quill.setSelection(pe.index-1,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index-1,k.default.sources.USER):J?this.quill.setSelection(pe.index,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,k.default.sources.USER),!1):!0}),Z}function H(W,J){if(!(W.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(W.index),te=o(Z,1),le=te[0],pe={};if(J.offset===0){var ge=this.quill.getLine(W.index-1),Ce=o(ge,1),Fe=Ce[0];if(Fe!=null&&Fe.length()>1){var De=le.formats(),nt=this.quill.getFormat(W.index-1,1);pe=b.default.attributes.diff(De,nt)||{}}}var Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(W.index-Qe,Qe,k.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(W.index-Qe,Qe,pe,k.default.sources.USER),this.quill.focus()}}function j(W,J){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(W.index>=this.quill.getLength()-Z)){var te={},le=0,pe=this.quill.getLine(W.index),ge=o(pe,1),Ce=ge[0];if(J.offset>=Ce.length()-1){var Fe=this.quill.getLine(W.index+1),De=o(Fe,1),nt=De[0];if(nt){var Qe=Ce.formats(),ce=this.quill.getFormat(W.index,1);te=b.default.attributes.diff(Qe,ce)||{},le=nt.length()}}this.quill.deleteText(W.index,Z,k.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(W.index+le-1,Z,te,k.default.sources.USER)}}function U(W){var J=this.quill.getLines(W),Z={};if(J.length>1){var te=J[0].formats(),le=J[J.length-1].formats();Z=b.default.attributes.diff(le,te)||{}}this.quill.deleteText(W,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(W.index,1,Z,k.default.sources.USER),this.quill.setSelection(W.index,k.default.sources.SILENT),this.quill.focus()}function V(W,J){var Z=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var te=Object.keys(J.format).reduce(function(le,pe){return S.default.query(pe,S.default.Scope.BLOCK)&&!Array.isArray(J.format[pe])&&(le[pe]=J.format[pe]),le},{});this.quill.insertText(W.index,`
`,te,k.default.sources.USER),this.quill.setSelection(W.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(le){te[le]==null&&(Array.isArray(J.format[le])||le!=="link"&&Z.quill.format(le,J.format[le],k.default.sources.USER))})}function z(W){return{key:B.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(Z){var te=S.default.query("code-block"),le=Z.index,pe=Z.length,ge=this.quill.scroll.descendant(te,le),Ce=o(ge,2),Fe=Ce[0],De=Ce[1];if(Fe!=null){var nt=this.quill.getIndex(Fe),Qe=Fe.newlineIndex(De,!0)+1,ce=Fe.newlineIndex(nt+De+pe),fe=Fe.domNode.textContent.slice(Qe,ce).split(`
`);De=0,fe.forEach(function(we,xe){W?(Fe.insertAt(Qe+De,te.TAB),De+=te.TAB.length,xe===0?le+=te.TAB.length:pe+=te.TAB.length):we.startsWith(te.TAB)&&(Fe.deleteAt(Qe+De,te.TAB.length),De-=te.TAB.length,xe===0?le-=te.TAB.length:pe-=te.TAB.length),De+=we.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(le,pe,k.default.sources.SILENT)}}}}function K(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(Z,te){this.quill.format(W,!te.format[W],k.default.sources.USER)}}}function X(W){if(typeof W=="string"||typeof W=="number")return X({key:W});if((typeof W>"u"?"undefined":s(W))==="object"&&(W=(0,h.default)(W,!1)),typeof W.key=="string")if(B.keys[W.key.toUpperCase()]!=null)W.key=B.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[M]=W.shortKey,delete W.shortKey),W}r.default=B,r.SHORTKEY=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(x,S){var _=[],k=!0,N=!1,O=void 0;try{for(var C=x[Symbol.iterator](),I;!(k=(I=C.next()).done)&&(_.push(I.value),!(S&&_.length===S));k=!0);}catch(P){N=!0,O=P}finally{try{!k&&C.return&&C.return()}finally{if(N)throw O}}return _}return function(x,S){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(x,S,_){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,S);if(k===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:b(N,S,_)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(_)}},a=function(){function b(x,S){for(var _=0;_<S.length;_++){var k=S[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,S,_){return S&&b(x.prototype,S),_&&b(x,_),x}}(),l=i(0),h=p(l),c=i(7),f=p(c);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function g(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function y(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var w=function(b){y(x,b),a(x,null,[{key:"value",value:function(){}}]);function x(S,_){m(this,x);var k=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S));return k.selection=_,k.textNode=document.createTextNode(x.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,k){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,_,k);for(var N=this,O=0;N!=null&&N.statics.scope!==h.default.Scope.BLOCK_BLOT;)O+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=x.CONTENTS.length,N.optimize(),N.formatAt(O,x.CONTENTS.length,_,k),this._length=0)}},{key:"index",value:function(_,k){return _===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,_,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,k=this.selection.getNativeRange(),N=void 0,O=void 0,C=void 0;if(k!=null&&k.start.node===_&&k.end.node===_){var I=[_,k.start.offset,k.end.offset];N=I[0],O=I[1],C=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var P=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(N=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=x.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var A=[O,C].map(function(L){return Math.max(0,Math.min(N.data.length,L-1))}),D=s(A,2);return O=D[0],C=D[1],{startNode:N,startOffset:O,endNode:N,endOffset:C}}}}},{key:"update",value:function(_,k){var N=this;if(_.some(function(C){return C.type==="characterData"&&C.target===N.textNode})){var O=this.restore();O&&(k.range=O)}}},{key:"value",value:function(){return""}}]),x}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=h(s),a=i(4),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function w(b,x){for(var S=0;S<x.length;S++){var _=x[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,x,S){return x&&w(b.prototype,x),S&&w(b,S),b}}(),o=function w(b,x,S){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,x);if(_===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,S)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(S)}},a=i(0),l=h(a);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var m=function(w){p(b,w);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(S){var _=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,S);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):_}}]),b}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=g,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(w,b){for(var x=0;x<b.length;x++){var S=b[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,b,x){return b&&y(w.prototype,b),x&&y(w,x),w}}(),o=function y(w,b,x){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,b);if(S===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:y(_,b,x)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(x)}},a=i(6),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(x,S){if(x!==this.statics.blotName||!S)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,x,S);S=this.constructor.sanitize(S),this.domNode.setAttribute("href",S)}}],[{key:"create",value:function(x){var S=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,x);return x=this.sanitize(x),S.setAttribute("href",x),S.setAttribute("rel","noopener noreferrer"),S.setAttribute("target","_blank"),S}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return g(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),w}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,w){var b=document.createElement("a");b.href=y;var x=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(x)>-1}r.default=m,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,x){for(var S=0;S<x.length;S++){var _=x[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,x,S){return x&&w(b.prototype,x),S&&w(b,S),b}}(),a=i(23),l=f(a),h=i(107),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function g(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var x=this;p(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),S.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var S=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),x.hasAttribute("value")&&_.setAttribute("data-value",x.getAttribute("value")),x.textContent&&_.setAttribute("data-label",x.textContent),_.addEventListener("click",function(){S.selectItem(_,!0)}),_.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:S.selectItem(_,!0),k.preventDefault();break;case l.default.keys.ESCAPE:S.escape(),k.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=c.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,S=document.createElement("span");S.classList.add("ql-picker-options"),S.setAttribute("aria-hidden","true"),S.tabIndex="-1",S.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",S.id),this.options=S,[].slice.call(this.select.options).forEach(function(_){var k=x.buildItem(_);S.appendChild(k),_.selected===!0&&x.selectItem(k)}),this.container.appendChild(S)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(S){x.container.setAttribute(S.name,S.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(x!==_&&(_!=null&&_.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),S))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var S=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(S)}else this.selectItem(null);var _=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=q(s),a=i(5),l=q(a),h=i(4),c=q(h),f=i(16),p=q(f),m=i(25),g=q(m),y=i(24),w=q(y),b=i(35),x=q(b),S=i(6),_=q(S),k=i(22),N=q(k),O=i(7),C=q(O),I=i(55),P=q(I),A=i(42),D=q(A),L=i(23),F=q(L);function q(M){return M&&M.__esModule?M:{default:M}}l.default.register({"blots/block":c.default,"blots/block/embed":h.BlockEmbed,"blots/break":p.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":x.default,"blots/inline":_.default,"blots/scroll":N.default,"blots/text":C.default,"modules/clipboard":P.default,"modules/history":D.default,"modules/keyboard":F.default}),o.default.register(c.default,p.default,w.default,_.default,N.default,C.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?h=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?h=document.createElement(l):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,h){var c=this.isolate(l,h);c.remove()},a.prototype.formatAt=function(l,h,c,f){var p=this.isolate(l,h);if(s.query(c,s.Scope.BLOT)!=null&&f)p.wrap(c,f);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);p.wrap(m),m.format(c,f)}},a.prototype.insertAt=function(l,h,c){var f=c==null?s.create("text",h):s.create(h,c),p=this.split(l);this.parent.insertBefore(f,p)},a.prototype.insertInto=function(l,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,h),h!=null&&(c=h.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,h){var c=this.split(l);return c.split(h),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return c.replace(this),c},a.prototype.split=function(l,h){return l===0?this:this.next},a.prototype.update=function(l,h){},a.prototype.wrap=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),h=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var p=s.default.keys(this.domNode),m=o.default.keys(this.domNode),g=a.default.keys(this.domNode);p.concat(m).concat(g).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof s.default&&(f.attributes[w.attrName]=w)})},c.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(m){var g=p.attributes[m].value(p.domNode);f.format(m,g)})},c.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=f.attributes[m].value(f.domNode),p},{})},c}();r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h,c){var f=h.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(c+"-")===0})}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},c.prototype.remove=function(f){var p=a(f,this.keyName);p.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var p=a(f,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h){var c=h.split("-"),f=c.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return c[0]+f}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[a(this.keyName)]=p,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var p=f.style[a(this.keyName)];return this.canAdd(f,p)?p:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){o(this,l),this.quill=h,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(x,S){for(var _=0;_<S.length;_++){var k=S[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,S,_){return S&&b(x.prototype,S),_&&b(x,_),x}}(),o=function b(x,S,_){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,S);if(k===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:b(N,S,_)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(_)}},a=i(0),l=f(a),h=i(7),c=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y="\uFEFF",w=function(b){g(x,b);function x(S){p(this,x);var _=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(k){_.contentNode.appendChild(k)}),_.leftGuard=document.createTextNode(y),_.rightGuard=document.createTextNode(y),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return s(x,[{key:"index",value:function(_,k){return _===this.leftGuard?0:_===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,_,k)}},{key:"restore",value:function(_){var k=void 0,N=void 0,O=_.data.split(y).join("");if(_===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,O),k={startNode:this.prev.domNode,startOffset:C+O.length}}else N=document.createTextNode(O),this.parent.insertBefore(l.default.create(N),this),k={startNode:N,startOffset:O.length};else _===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,O),k={startNode:this.next.domNode,startOffset:O.length}):(N=document.createTextNode(O),this.parent.insertBefore(l.default.create(N),this.next),k={startNode:N,startOffset:O.length}));return _.data=y,k}},{key:"update",value:function(_,k){var N=this;_.forEach(function(O){if(O.type==="characterData"&&(O.target===N.leftGuard||O.target===N.rightGuard)){var C=N.restore(O.target);C&&(k.range=C)}})}}]),x}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=h,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=h,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function b(x,S){for(var _=0;_<S.length;_++){var k=S[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,S,_){return S&&b(x.prototype,S),_&&b(x,_),x}}(),o=function b(x,S,_){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,S);if(k===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:b(N,S,_)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(_)}},a=i(0),l=h(a);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function p(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",m),y=function(b){p(x,b);function x(){return c(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(_){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),x}(l.default.Attributor.Style),w=new y("font","font-family",m);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=h},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function S(_,k){for(var N=0;N<k.length;N++){var O=k[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,k,N){return k&&S(_.prototype,k),N&&S(_,N),_}}(),o=i(0),a=p(o),l=i(5),h=p(l),c=i(9),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function m(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function g(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function y(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var w=function(S){y(_,S);function _(k,N){m(this,_);var O=g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,k,N));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(h.default.events.EDITOR_CHANGE,function(C,I,P,A){C!==h.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||A===h.default.sources.USER?O.record(I,P):O.transform(I))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return s(_,[{key:"change",value:function(N,O){if(this.stack[N].length!==0){var C=this.stack[N].pop();this.stack[O].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[N],h.default.sources.USER),this.ignoreChange=!1;var I=x(C[N]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,O){if(N.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(O),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var P=this.stack.undo.pop();C=C.compose(P.undo),N=P.redo.compose(N)}else this.lastRecorded=I;this.stack.undo.push({redo:N,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(S){var _=S.ops[S.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null?Object.keys(_.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function x(S){var _=S.reduce(function(N,O){return N+=O.delete||0,N},0),k=S.length()-_;return b(S)&&(k-=1),k}r.default=w,r.getLastChangeIndex=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(z,K){for(var X=0;X<K.length;X++){var W=K[X];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,W.key,W)}}return function(z,K,X){return K&&V(z.prototype,K),X&&V(z,X),z}}(),o=function V(z,K,X){z===null&&(z=Function.prototype);var W=Object.getOwnPropertyDescriptor(z,K);if(W===void 0){var J=Object.getPrototypeOf(z);return J===null?void 0:V(J,K,X)}else{if("value"in W)return W.value;var Z=W.get;return Z===void 0?void 0:Z.call(X)}},a=i(3),l=I(a),h=i(2),c=I(h),f=i(8),p=I(f),m=i(23),g=I(m),y=i(34),w=I(y),b=i(59),x=I(b),S=i(60),_=I(S),k=i(28),N=I(k),O=i(61),C=I(O);function I(V){return V&&V.__esModule?V:{default:V}}function P(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function A(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function D(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var L=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],M=["1","2","3",!1],B=["small",!1,"large","huge"],Y=function(V){D(z,V);function z(K,X){P(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K,X)),J=function Z(te){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Z);W.tooltip!=null&&!W.tooltip.root.contains(te.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(le){le.container.contains(te.target)||le.close()})};return K.emitter.listenDOM("click",document.body,J),W}return s(z,[{key:"addModule",value:function(X){var W=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(X,W){X.forEach(function(J){var Z=J.getAttribute("class")||"";Z.split(/\s+/).forEach(function(te){if(te.startsWith("ql-")&&(te=te.slice(3),W[te]!=null))if(te==="direction")J.innerHTML=W[te][""]+W[te].rtl;else if(typeof W[te]=="string")J.innerHTML=W[te];else{var le=J.value||"";le!=null&&W[te][le]&&(J.innerHTML=W[te][le])}})})}},{key:"buildPickers",value:function(X,W){var J=this;this.pickers=X.map(function(te){if(te.classList.contains("ql-align"))return te.querySelector("option")==null&&U(te,L),new _.default(te,W.align);if(te.classList.contains("ql-background")||te.classList.contains("ql-color")){var le=te.classList.contains("ql-background")?"background":"color";return te.querySelector("option")==null&&U(te,F,le==="background"?"#ffffff":"#000000"),new x.default(te,W[le])}else return te.querySelector("option")==null&&(te.classList.contains("ql-font")?U(te,q):te.classList.contains("ql-header")?U(te,M):te.classList.contains("ql-size")&&U(te,B)),new N.default(te)});var Z=function(){J.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,Z)}}]),z}(w.default);Y.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var X=new FileReader;X.onload=function(W){var J=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(J.index).delete(J.length).insert({image:W.target.result}),p.default.sources.USER),z.quill.setSelection(J.index+1,p.default.sources.SILENT),K.value=""},X.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(V){D(z,V);function z(K,X){P(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K,X));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return s(z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(W){g.default.match(W,"enter")?(X.save(),W.preventDefault()):g.default.match(W,"escape")&&(X.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,p.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":X=j(X);case"formula":{if(!X)break;var J=this.quill.getSelection(!0);if(J!=null){var Z=J.index+J.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),X,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",p.default.sources.USER),this.quill.setSelection(Z+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(C.default);function j(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function U(V,z){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(X){var W=document.createElement("option");X===K?W.setAttribute("selected","selected"):W.setAttribute("value",X),V.appendChild(W)})}r.BaseTooltip=H,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,h=this.iterator();l=h();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,h=this.head;h!=null;){if(h===a)return l;l+=h.length(),h=h.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var h,c=this.iterator();h=c();){var f=h.length();if(a<f||l&&a===f&&(h.next==null||h.next.length()!==0))return[h,a];a-=f}return[null,0]},o.prototype.forEach=function(a){for(var l,h=this.iterator();l=h();)a(l)},o.prototype.forEachAt=function(a,l,h){if(!(l<=0))for(var c=this.find(a),f=c[0],p=c[1],m,g=a-p,y=this.iterator(f);(m=y())&&g<a+l;){var w=m.length();a>g?h(m,a-g,Math.min(l,g+w-a)):h(m,0,Math.min(w,a+l-g)),g+=w}},o.prototype.map=function(a){return this.reduce(function(l,h){return l.push(a(h)),l},[])},o.prototype.reduce=function(a,l){for(var h,c=this.iterator();h=c();)l=a(l,h);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,l),g.attach(),g}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,g){this.update(),m===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,m,g)},p.prototype.formatAt=function(m,g,y,w){this.update(),f.prototype.formatAt.call(this,m,g,y,w)},p.prototype.insertAt=function(m,g,y){this.update(),f.prototype.insertAt.call(this,m,g,y)},p.prototype.optimize=function(m,g){var y=this;m===void 0&&(m=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var b=function(k,N){N===void 0&&(N=!0),!(k==null||k===y)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),N&&b(k.parent))},x=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(x),k.optimize(g))},S=m,_=0;S.length>0;_+=1){if(_>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(k){var N=a.find(k.target,!0);N!=null&&(N.domNode===k.target&&(k.type==="childList"?(b(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(O){var C=a.find(O,!1);b(C,!1),C instanceof o.default&&C.children.forEach(function(I){b(I,!1)})})):k.type==="attributes"&&b(N.prev)),b(N))}),this.children.forEach(x),S=[].slice.call(this.observer.takeRecords()),w=S.slice();w.length>0;)m.push(w.pop())}},p.prototype.update=function(m,g){var y=this;g===void 0&&(g={}),m=m||this.observer.takeRecords(),m.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(m,g)},p.blotName="scroll",p.defaultChild="block",p.scope=a.Scope.BLOCK_BLOT,p.tagName="DIV",p}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var p in c)if(c[p]!==f[p])return!1;return!0}var h=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return c.formats.call(this,p)},f.prototype.format=function(p,m){var g=this;p===this.statics.blotName&&!m?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(f.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,p,m)},f.prototype.formatAt=function(p,m,g,y){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(p,m);w.format(g,y)}else c.prototype.formatAt.call(this,p,m,g,y)},f.prototype.optimize=function(p){c.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(m,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){var p=a.query(c.blotName).tagName;if(f.tagName!==p)return h.formats.call(this,f)},c.prototype.format=function(f,p){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(c.blotName):h.prototype.format.call(this,f,p))},c.prototype.formatAt=function(f,p,m,g){a.query(m,a.Scope.BLOCK)!=null?this.format(m,g):h.prototype.formatAt.call(this,f,p,m,g)},c.prototype.insertAt=function(f,p,m){if(m==null||a.query(p,a.Scope.INLINE)!=null)h.prototype.insertAt.call(this,f,p,m);else{var g=this.split(f),y=a.create(p,m);g.parent.insertBefore(y,g)}},c.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,f,p)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(h,l);function h(){return l!==null&&l.apply(this,arguments)||this}return h.formats=function(c){},h.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},h.prototype.formatAt=function(c,f,p,m){c===0&&f===this.length()?this.format(p,m):l.prototype.formatAt.call(this,c,f,p,m)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(h){s(c,h);function c(f){var p=h.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},c.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},c.prototype.index=function(f,p){return this.domNode===f?p:-1},c.prototype.insertAt=function(f,p,m){m==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):h.prototype.insertAt.call(this,f,p,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,p){return[this.domNode,f]},c.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(f,p){var m=this;f.some(function(g){return g.type==="characterData"&&g.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var h=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>h.length)&&(l=h.length),l-=a.length;var c=h.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),c=h.length>>>0,f=arguments[1],p,m=0;m<c;m++)if(p=h[m],l.call(f,p,m,h))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(_,k,N){if(_==k)return _?[[o,_]]:[];(N<0||_.length<N)&&(N=null);var O=f(_,k),C=_.substring(0,O);_=_.substring(O),k=k.substring(O),O=p(_,k);var I=_.substring(_.length-O);_=_.substring(0,_.length-O),k=k.substring(0,k.length-O);var P=l(_,k);return C&&P.unshift([o,C]),I&&P.push([o,I]),g(P),N!=null&&(P=b(P,N)),P=x(P),P}function l(_,k){var N;if(!_)return[[s,k]];if(!k)return[[i,_]];var O=_.length>k.length?_:k,C=_.length>k.length?k:_,I=O.indexOf(C);if(I!=-1)return N=[[s,O.substring(0,I)],[o,C],[s,O.substring(I+C.length)]],_.length>k.length&&(N[0][0]=N[2][0]=i),N;if(C.length==1)return[[i,_],[s,k]];var P=m(_,k);if(P){var A=P[0],D=P[1],L=P[2],F=P[3],q=P[4],M=a(A,L),B=a(D,F);return M.concat([[o,q]],B)}return h(_,k)}function h(_,k){for(var N=_.length,O=k.length,C=Math.ceil((N+O)/2),I=C,P=2*C,A=new Array(P),D=new Array(P),L=0;L<P;L++)A[L]=-1,D[L]=-1;A[I+1]=0,D[I+1]=0;for(var F=N-O,q=F%2!=0,M=0,B=0,Y=0,H=0,j=0;j<C;j++){for(var U=-j+M;U<=j-B;U+=2){var V=I+U,z;U==-j||U!=j&&A[V-1]<A[V+1]?z=A[V+1]:z=A[V-1]+1;for(var K=z-U;z<N&&K<O&&_.charAt(z)==k.charAt(K);)z++,K++;if(A[V]=z,z>N)B+=2;else if(K>O)M+=2;else if(q){var X=I+F-U;if(X>=0&&X<P&&D[X]!=-1){var W=N-D[X];if(z>=W)return c(_,k,z,K)}}}for(var J=-j+Y;J<=j-H;J+=2){var X=I+J,W;J==-j||J!=j&&D[X-1]<D[X+1]?W=D[X+1]:W=D[X-1]+1;for(var Z=W-J;W<N&&Z<O&&_.charAt(N-W-1)==k.charAt(O-Z-1);)W++,Z++;if(D[X]=W,W>N)H+=2;else if(Z>O)Y+=2;else if(!q){var V=I+F-J;if(V>=0&&V<P&&A[V]!=-1){var z=A[V],K=I+z-V;if(W=N-W,z>=W)return c(_,k,z,K)}}}}return[[i,_],[s,k]]}function c(_,k,N,O){var C=_.substring(0,N),I=k.substring(0,O),P=_.substring(N),A=k.substring(O),D=a(C,I),L=a(P,A);return D.concat(L)}function f(_,k){if(!_||!k||_.charAt(0)!=k.charAt(0))return 0;for(var N=0,O=Math.min(_.length,k.length),C=O,I=0;N<C;)_.substring(I,C)==k.substring(I,C)?(N=C,I=N):O=C,C=Math.floor((O-N)/2+N);return C}function p(_,k){if(!_||!k||_.charAt(_.length-1)!=k.charAt(k.length-1))return 0;for(var N=0,O=Math.min(_.length,k.length),C=O,I=0;N<C;)_.substring(_.length-C,_.length-I)==k.substring(k.length-C,k.length-I)?(N=C,I=N):O=C,C=Math.floor((O-N)/2+N);return C}function m(_,k){var N=_.length>k.length?_:k,O=_.length>k.length?k:_;if(N.length<4||O.length*2<N.length)return null;function C(B,Y,H){for(var j=B.substring(H,H+Math.floor(B.length/4)),U=-1,V="",z,K,X,W;(U=Y.indexOf(j,U+1))!=-1;){var J=f(B.substring(H),Y.substring(U)),Z=p(B.substring(0,H),Y.substring(0,U));V.length<Z+J&&(V=Y.substring(U-Z,U)+Y.substring(U,U+J),z=B.substring(0,H-Z),K=B.substring(H+J),X=Y.substring(0,U-Z),W=Y.substring(U+J))}return V.length*2>=B.length?[z,K,X,W,V]:null}var I=C(N,O,Math.ceil(N.length/4)),P=C(N,O,Math.ceil(N.length/2)),A;if(!I&&!P)return null;P?I?A=I[4].length>P[4].length?I:P:A=P:A=I;var D,L,F,q;_.length>k.length?(D=A[0],L=A[1],F=A[2],q=A[3]):(F=A[0],q=A[1],D=A[2],L=A[3]);var M=A[4];return[D,L,F,q,M]}function g(_){_.push([o,""]);for(var k=0,N=0,O=0,C="",I="",P;k<_.length;)switch(_[k][0]){case s:O++,I+=_[k][1],k++;break;case i:N++,C+=_[k][1],k++;break;case o:N+O>1?(N!==0&&O!==0&&(P=f(I,C),P!==0&&(k-N-O>0&&_[k-N-O-1][0]==o?_[k-N-O-1][1]+=I.substring(0,P):(_.splice(0,0,[o,I.substring(0,P)]),k++),I=I.substring(P),C=C.substring(P)),P=p(I,C),P!==0&&(_[k][1]=I.substring(I.length-P)+_[k][1],I=I.substring(0,I.length-P),C=C.substring(0,C.length-P))),N===0?_.splice(k-O,N+O,[s,I]):O===0?_.splice(k-N,N+O,[i,C]):_.splice(k-N-O,N+O,[i,C],[s,I]),k=k-N-O+(N?1:0)+(O?1:0)+1):k!==0&&_[k-1][0]==o?(_[k-1][1]+=_[k][1],_.splice(k,1)):k++,O=0,N=0,C="",I="";break}_[_.length-1][1]===""&&_.pop();var A=!1;for(k=1;k<_.length-1;)_[k-1][0]==o&&_[k+1][0]==o&&(_[k][1].substring(_[k][1].length-_[k-1][1].length)==_[k-1][1]?(_[k][1]=_[k-1][1]+_[k][1].substring(0,_[k][1].length-_[k-1][1].length),_[k+1][1]=_[k-1][1]+_[k+1][1],_.splice(k-1,1),A=!0):_[k][1].substring(0,_[k+1][1].length)==_[k+1][1]&&(_[k-1][1]+=_[k+1][1],_[k][1]=_[k][1].substring(_[k+1][1].length)+_[k+1][1],_.splice(k+1,1),A=!0)),k++;A&&g(_)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function w(_,k){if(k===0)return[o,_];for(var N=0,O=0;O<_.length;O++){var C=_[O];if(C[0]===i||C[0]===o){var I=N+C[1].length;if(k===I)return[O+1,_];if(k<I){_=_.slice();var P=k-N,A=[C[0],C[1].slice(0,P)],D=[C[0],C[1].slice(P)];return _.splice(O,1,A,D),[O+1,_]}else N=I}}throw new Error("cursor_pos is out of bounds!")}function b(_,k){var N=w(_,k),O=N[1],C=N[0],I=O[C],P=O[C+1];if(I==null)return _;if(I[0]!==o)return _;if(P!=null&&I[1]+P[1]===P[1]+I[1])return O.splice(C,2,P,I),S(O,C,2);if(P!=null&&P[1].indexOf(I[1])===0){O.splice(C,2,[P[0],I[1]],[0,I[1]]);var A=P[1].slice(I[1].length);return A.length>0&&O.splice(C+2,0,[P[0],A]),S(O,C,3)}else return _}function x(_){for(var k=!1,N=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},O=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},C=2;C<_.length;C+=1)_[C-2][0]===o&&O(_[C-2][1])&&_[C-1][0]===i&&N(_[C-1][1])&&_[C][0]===s&&N(_[C][1])&&(k=!0,_[C-1][1]=_[C-2][1].slice(-1)+_[C-1][1],_[C][1]=_[C-2][1].slice(-1)+_[C][1],_[C-2][1]=_[C-2][1].slice(0,-1));if(!k)return _;for(var I=[],C=0;C<_.length;C+=1)_[C][1].length>0&&I.push(_[C]);return I}function S(_,k,N){for(var O=k+N-1;O>=0&&O>=k-1;O--)if(O+1<_.length){var C=_[O],I=_[O+1];C[0]===I[1]&&_.splice(O,2,[C[0],C[1]+I[1]])}return _}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)i.call(f,p)&&c.push(s?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var p=s?s+c:c,m=this._events[p];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.emit=function(c,f,p,m,g,y){var w=s?s+c:c;if(!this._events[w])return!1;var b=this._events[w],x=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,y),!0}for(_=1,S=new Array(x-1);_<x;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var k=b.length,N;for(_=0;_<k;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,f);break;case 3:b[_].fn.call(b[_].context,f,p);break;case 4:b[_].fn.call(b[_].context,f,p,m);break;default:if(!S)for(N=1,S=new Array(x-1);N<x;N++)S[N-1]=arguments[N];b[_].fn.apply(b[_].context,S)}}return!0},l.prototype.on=function(c,f,p){var m=new a(f,p||this),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.once=function(c,f,p){var m=new a(f,p||this,!0),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.removeListener=function(c,f,p,m){var g=s?s+c:c;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===f&&(!m||y.once)&&(!p||y.context===p)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var w=0,b=[],x=y.length;w<x;w++)(y[w].fn!==f||m&&!y[w].once||p&&y[w].context!==p)&&b.push(y[w]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=s?s+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},o=function(){function ce(fe,we){var xe=[],he=!0,$e=!1,Ie=void 0;try{for(var Ye=fe[Symbol.iterator](),Gt;!(he=(Gt=Ye.next()).done)&&(xe.push(Gt.value),!(we&&xe.length===we));he=!0);}catch(On){$e=!0,Ie=On}finally{try{!he&&Ye.return&&Ye.return()}finally{if($e)throw Ie}}return xe}return function(fe,we){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ce(fe,we){for(var xe=0;xe<we.length;xe++){var he=we[xe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(fe,he.key,he)}}return function(fe,we,xe){return we&&ce(fe.prototype,we),xe&&ce(fe,xe),fe}}(),l=i(3),h=D(l),c=i(2),f=D(c),p=i(0),m=D(p),g=i(5),y=D(g),w=i(10),b=D(w),x=i(9),S=D(x),_=i(36),k=i(37),N=i(13),O=D(N),C=i(26),I=i(38),P=i(39),A=i(40);function D(ce){return ce&&ce.__esModule?ce:{default:ce}}function L(ce,fe,we){return fe in ce?Object.defineProperty(ce,fe,{value:we,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=we,ce}function F(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function q(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function M(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var B=(0,b.default)("quill:clipboard"),Y="__ql-matcher",H=[[Node.TEXT_NODE,Qe],[Node.TEXT_NODE,Fe],["br",pe],[Node.ELEMENT_NODE,Fe],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,nt],["li",Ce],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ge]],j=[_.AlignAttribute,I.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),U=[_.AlignStyle,k.BackgroundStyle,C.ColorStyle,I.DirectionStyle,P.FontStyle,A.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),V=function(ce){M(fe,ce);function fe(we,xe){F(this,fe);var he=q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,we,xe));return he.quill.root.addEventListener("paste",he.onPaste.bind(he)),he.container=he.quill.addContainer("ql-clipboard"),he.container.setAttribute("contenteditable",!0),he.container.setAttribute("tabindex",-1),he.matchers=[],H.concat(he.options.matchers).forEach(function($e){var Ie=o($e,2),Ye=Ie[0],Gt=Ie[1];!xe.matchVisual&&Gt===De||he.addMatcher(Ye,Gt)}),he}return a(fe,[{key:"addMatcher",value:function(xe,he){this.matchers.push([xe,he])}},{key:"convert",value:function(xe){if(typeof xe=="string")return this.container.innerHTML=xe.replace(/\>\r?\n +\</g,"><"),this.convert();var he=this.quill.getFormat(this.quill.selection.savedRange.index);if(he[O.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new f.default().insert($e,L({},O.default.blotName,he[O.default.blotName]))}var Ie=this.prepareMatching(),Ye=o(Ie,2),Gt=Ye[0],On=Ye[1],it=J(this.container,Gt,On);return X(it,`
`)&&it.ops[it.ops.length-1].attributes==null&&(it=it.compose(new f.default().retain(it.length()-1).delete(1))),B.log("convert",this.container.innerHTML,it),this.container.innerHTML="",it}},{key:"dangerouslyPasteHTML",value:function(xe,he){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof xe=="string")this.quill.setContents(this.convert(xe),he),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ie=this.convert(he);this.quill.updateContents(new f.default().retain(xe).concat(Ie),$e),this.quill.setSelection(xe+Ie.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(xe){var he=this;if(!(xe.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),Ie=new f.default().retain($e.index),Ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ie=Ie.concat(he.convert()).delete($e.length),he.quill.updateContents(Ie,y.default.sources.USER),he.quill.setSelection(Ie.length()-$e.length,y.default.sources.SILENT),he.quill.scrollingContainer.scrollTop=Ye,he.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xe=this,he=[],$e=[];return this.matchers.forEach(function(Ie){var Ye=o(Ie,2),Gt=Ye[0],On=Ye[1];switch(Gt){case Node.TEXT_NODE:$e.push(On);break;case Node.ELEMENT_NODE:he.push(On);break;default:[].forEach.call(xe.container.querySelectorAll(Gt),function(it){it[Y]=it[Y]||[],it[Y].push(On)});break}}),[he,$e]}}]),fe}(S.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(ce,fe,we){return(typeof fe>"u"?"undefined":s(fe))==="object"?Object.keys(fe).reduce(function(xe,he){return z(xe,he,fe[he])},ce):ce.reduce(function(xe,he){return he.attributes&&he.attributes[fe]?xe.push(he):xe.insert(he.insert,(0,h.default)({},L({},fe,we),he.attributes))},new f.default)}function K(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function X(ce,fe){for(var we="",xe=ce.ops.length-1;xe>=0&&we.length<fe.length;--xe){var he=ce.ops[xe];if(typeof he.insert!="string")break;we=he.insert+we}return we.slice(-1*fe.length)===fe}function W(ce){if(ce.childNodes.length===0)return!1;var fe=K(ce);return["block","list-item"].indexOf(fe.display)>-1}function J(ce,fe,we){return ce.nodeType===ce.TEXT_NODE?we.reduce(function(xe,he){return he(ce,xe)},new f.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(xe,he){var $e=J(he,fe,we);return he.nodeType===ce.ELEMENT_NODE&&($e=fe.reduce(function(Ie,Ye){return Ye(he,Ie)},$e),$e=(he[Y]||[]).reduce(function(Ie,Ye){return Ye(he,Ie)},$e)),xe.concat($e)},new f.default):new f.default}function Z(ce,fe,we){return z(we,ce,!0)}function te(ce,fe){var we=m.default.Attributor.Attribute.keys(ce),xe=m.default.Attributor.Class.keys(ce),he=m.default.Attributor.Style.keys(ce),$e={};return we.concat(xe).concat(he).forEach(function(Ie){var Ye=m.default.query(Ie,m.default.Scope.ATTRIBUTE);Ye!=null&&($e[Ye.attrName]=Ye.value(ce),$e[Ye.attrName])||(Ye=j[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&($e[Ye.attrName]=Ye.value(ce)||void 0),Ye=U[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Ye=U[Ie],$e[Ye.attrName]=Ye.value(ce)||void 0))}),Object.keys($e).length>0&&(fe=z(fe,$e)),fe}function le(ce,fe){var we=m.default.query(ce);if(we==null)return fe;if(we.prototype instanceof m.default.Embed){var xe={},he=we.value(ce);he!=null&&(xe[we.blotName]=he,fe=new f.default().insert(xe,we.formats(ce)))}else typeof we.formats=="function"&&(fe=z(fe,we.blotName,we.formats(ce)));return fe}function pe(ce,fe){return X(fe,`
`)||fe.insert(`
`),fe}function ge(){return new f.default}function Ce(ce,fe){var we=m.default.query(ce);if(we==null||we.blotName!=="list-item"||!X(fe,`
`))return fe;for(var xe=-1,he=ce.parentNode;!he.classList.contains("ql-clipboard");)(m.default.query(he)||{}).blotName==="list"&&(xe+=1),he=he.parentNode;return xe<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:xe}))}function Fe(ce,fe){return X(fe,`
`)||(W(ce)||fe.length()>0&&ce.nextSibling&&W(ce.nextSibling))&&fe.insert(`
`),fe}function De(ce,fe){if(W(ce)&&ce.nextElementSibling!=null&&!X(fe,`

`)){var we=ce.offsetHeight+parseFloat(K(ce).marginTop)+parseFloat(K(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+we*1.5&&fe.insert(`
`)}return fe}function nt(ce,fe){var we={},xe=ce.style||{};return xe.fontStyle&&K(ce).fontStyle==="italic"&&(we.italic=!0),xe.fontWeight&&(K(ce).fontWeight.startsWith("bold")||parseInt(K(ce).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(fe=z(fe,we)),parseFloat(xe.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Qe(ce,fe){var we=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(we.trim());if(we.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!K(ce.parentNode).whiteSpace.startsWith("pre")){var xe=function($e,Ie){return Ie=Ie.replace(/[^\u00a0]/g,""),Ie.length<1&&$e?" ":Ie};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,xe.bind(xe,!0)),(ce.previousSibling==null&&W(ce.parentNode)||ce.previousSibling!=null&&W(ce.previousSibling))&&(we=we.replace(/^\s+/,xe.bind(xe,!1))),(ce.nextSibling==null&&W(ce.parentNode)||ce.nextSibling!=null&&W(ce.nextSibling))&&(we=we.replace(/\s+$/,xe.bind(xe,!1)))}return fe.insert(we)}r.default=V,r.matchAttributor=te,r.matchBlot=le,r.matchNewline=Fe,r.matchSpacing=De,r.matchText=Qe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,w,b)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(D,L){var F=[],q=!0,M=!1,B=void 0;try{for(var Y=D[Symbol.iterator](),H;!(q=(H=Y.next()).done)&&(F.push(H.value),!(L&&F.length===L));q=!0);}catch(j){M=!0,B=j}finally{try{!q&&Y.return&&Y.return()}finally{if(M)throw B}}return F}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return A(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(D,L){for(var F=0;F<L.length;F++){var q=L[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,L,F){return L&&A(D.prototype,L),F&&A(D,F),D}}(),a=i(2),l=b(a),h=i(0),c=b(h),f=i(5),p=b(f),m=i(10),g=b(m),y=i(9),w=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function x(A,D,L){return D in A?Object.defineProperty(A,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[D]=L,A}function S(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function _(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function k(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var N=(0,g.default)("quill:toolbar"),O=function(A){k(D,A);function D(L,F){S(this,D);var q=_(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L,F));if(Array.isArray(q.options.container)){var M=document.createElement("div");I(M,q.options.container),L.container.parentNode.insertBefore(M,L.container),q.container=M}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var B;return B=N.error("Container required for toolbar",q.options),_(q,B)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Y){q.addHandler(Y,q.options.handlers[Y])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Y){q.attach(Y)}),q.quill.on(p.default.events.EDITOR_CHANGE,function(Y,H){Y===p.default.events.SELECTION_CHANGE&&q.update(H)}),q.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var Y=q.quill.selection.getRange(),H=s(Y,1),j=H[0];q.update(j)}),q}return o(D,[{key:"addHandler",value:function(F,q){this.handlers[F]=q}},{key:"attach",value:function(F){var q=this,M=[].find.call(F.classList,function(Y){return Y.indexOf("ql-")===0});if(M){if(M=M.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[M]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[M]==null){N.warn("ignoring attaching to disabled format",M,F);return}if(c.default.query(M)==null){N.warn("ignoring attaching to nonexistent format",M,F);return}}var B=F.tagName==="SELECT"?"change":"click";F.addEventListener(B,function(Y){var H=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var j=F.options[F.selectedIndex];j.hasAttribute("selected")?H=!1:H=j.value||!1}else F.classList.contains("ql-active")?H=!1:H=F.value||!F.hasAttribute("value"),Y.preventDefault();q.quill.focus();var U=q.quill.selection.getRange(),V=s(U,1),z=V[0];if(q.handlers[M]!=null)q.handlers[M].call(q,H);else if(c.default.query(M).prototype instanceof c.default.Embed){if(H=prompt("Enter "+M),!H)return;q.quill.updateContents(new l.default().retain(z.index).delete(z.length).insert(x({},M,H)),p.default.sources.USER)}else q.quill.format(M,H,p.default.sources.USER);q.update(z)}),this.controls.push([M,F])}}},{key:"update",value:function(F){var q=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(M){var B=s(M,2),Y=B[0],H=B[1];if(H.tagName==="SELECT"){var j=void 0;if(F==null)j=null;else if(q[Y]==null)j=H.querySelector("option[selected]");else if(!Array.isArray(q[Y])){var U=q[Y];typeof U=="string"&&(U=U.replace(/\"/g,'\\"')),j=H.querySelector('option[value="'+U+'"]')}j==null?(H.value="",H.selectedIndex=-1):j.selected=!0}else if(F==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var V=q[Y]===H.getAttribute("value")||q[Y]!=null&&q[Y].toString()===H.getAttribute("value")||q[Y]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",V)}else H.classList.toggle("ql-active",q[Y]!=null)})}}]),D}(w.default);O.DEFAULTS={};function C(A,D,L){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+D),L!=null&&(F.value=L),A.appendChild(F)}function I(A,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(L){var F=document.createElement("span");F.classList.add("ql-formats"),L.forEach(function(q){if(typeof q=="string")C(F,q);else{var M=Object.keys(q)[0],B=q[M];Array.isArray(B)?P(F,M,B):C(F,M,B)}}),A.appendChild(F)})}function P(A,D,L){var F=document.createElement("select");F.classList.add("ql-"+D),L.forEach(function(q){var M=document.createElement("option");q!==!1?M.setAttribute("value",q):M.setAttribute("selected","selected"),F.appendChild(M)}),A.appendChild(F)}O.DEFAULTS={container:null,handlers:{clean:function(){var D=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(q){c.default.query(q,c.default.Scope.INLINE)!=null&&D.quill.format(q,!1)})}else this.quill.removeFormat(L,p.default.sources.USER)},direction:function(D){var L=this.quill.getFormat().align;D==="rtl"&&L==null?this.quill.format("align","right",p.default.sources.USER):!D&&L==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",D,p.default.sources.USER)},indent:function(D){var L=this.quill.getSelection(),F=this.quill.getFormat(L),q=parseInt(F.indent||0);if(D==="+1"||D==="-1"){var M=D==="+1"?1:-1;F.direction==="rtl"&&(M*=-1),this.quill.format("indent",q+M,p.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,p.default.sources.USER)},list:function(D){var L=this.quill.getSelection(),F=this.quill.getFormat(L);D==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",D,p.default.sources.USER)}}},r.default=O,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,w,b)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var x=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(S){S.classList.add("ql-primary")}),x}return s(y,[{key:"buildItem",value:function(b){var x=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,x);var S=this.label.querySelector(".ql-color-label"),_=b&&b.getAttribute("data-value")||"";S&&(S.tagName==="line"?S.style.stroke=_:S.style.fill=_)}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,w,b)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var x=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(S){S.innerHTML=b[S.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(y,[{key:"selectItem",value:function(b,x){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){var f=this;o(this,l),this.quill=h,this.boundsContainer=c||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,p=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>m.right&&(y=m.right-g.right,this.root.style.left=f+y+"px"),g.left<m.left&&(y=m.left-g.left,this.root.style.left=f+y+"px"),g.bottom>m.bottom){var w=g.bottom-g.top,b=c.bottom-c.top+w;this.root.style.top=p-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function P(A,D){var L=[],F=!0,q=!1,M=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(L.push(Y.value),!(D&&L.length===D));F=!0);}catch(H){q=!0,M=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw M}}return L}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return P(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function P(A,D,L){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:P(q,D,L)}else{if("value"in F)return F.value;var M=F.get;return M===void 0?void 0:M.call(L)}},a=function(){function P(A,D){for(var L=0;L<D.length;L++){var F=D[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,L){return D&&P(A.prototype,D),L&&P(A,L),A}}(),l=i(3),h=S(l),c=i(8),f=S(c),p=i(43),m=S(p),g=i(27),y=S(g),w=i(15),b=i(41),x=S(b);function S(P){return P&&P.__esModule?P:{default:P}}function _(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function k(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:P}function N(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(P){N(A,P);function A(D,L){_(this,A),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=O);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,L));return F.quill.container.classList.add("ql-snow"),F}return a(A,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),x.default),this.tooltip=new I(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,q){L.handlers.link.call(L,!q.format.link)})}}]),A}(m.default);C.DEFAULTS=(0,h.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var D=this.quill.getSelection();if(D==null||D.length==0)return;var L=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var F=this.quill.theme.tooltip;F.edit("link",L)}else this.quill.format("link",!1)}}}}});var I=function(P){N(A,P);function A(D,L){_(this,A);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,L));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(A,[{key:"listen",value:function(){var L=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(L.linkRange!=null){var q=L.linkRange;L.restoreFocus(),L.quill.formatText(q,"link",!1,f.default.sources.USER),delete L.linkRange}F.preventDefault(),L.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(F,q,M){if(F!=null){if(F.length===0&&M===f.default.sources.USER){var B=L.quill.scroll.descendant(y.default,F.index),Y=s(B,2),H=Y[0],j=Y[1];if(H!=null){L.linkRange=new w.Range(F.index-j,H.length());var U=y.default.formats(H.domNode);L.preview.textContent=U,L.preview.setAttribute("href",U),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(p.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=he(s),a=i(36),l=i(38),h=i(64),c=i(65),f=he(c),p=i(66),m=he(p),g=i(67),y=he(g),w=i(37),b=i(26),x=i(39),S=i(40),_=i(56),k=he(_),N=i(68),O=he(N),C=i(27),I=he(C),P=i(69),A=he(P),D=i(70),L=he(D),F=i(71),q=he(F),M=i(72),B=he(M),Y=i(73),H=he(Y),j=i(13),U=he(j),V=i(74),z=he(V),K=i(75),X=he(K),W=i(57),J=he(W),Z=i(41),te=he(Z),le=i(28),pe=he(le),ge=i(59),Ce=he(ge),Fe=i(60),De=he(Fe),nt=i(61),Qe=he(nt),ce=i(108),fe=he(ce),we=i(62),xe=he(we);function he($e){return $e&&$e.__esModule?$e:{default:$e}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":S.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":S.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":S.SizeClass,"formats/blockquote":f.default,"formats/code-block":U.default,"formats/header":m.default,"formats/list":y.default,"formats/bold":k.default,"formats/code":j.Code,"formats/italic":O.default,"formats/link":I.default,"formats/script":A.default,"formats/strike":L.default,"formats/underline":q.default,"formats/image":B.default,"formats/video":H.default,"formats/list/item":g.ListItem,"modules/formula":z.default,"modules/syntax":X.default,"modules/toolbar":J.default,"themes/bubble":fe.default,"themes/snow":xe.default,"ui/icons":te.default,"ui/picker":pe.default,"ui/icon-picker":De.default,"ui/color-picker":Ce.default,"ui/tooltip":Qe.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(w,b){for(var x=0;x<b.length;x++){var S=b[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,b,x){return b&&y(w.prototype,b),x&&y(w,x),w}}(),o=function y(w,b,x){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,b);if(S===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:y(_,b,x)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(x)}},a=i(0),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(x,S){if(S==="+1"||S==="-1"){var _=this.value(x)||0;S=S==="+1"?_+1:_-1}return S===0?(this.remove(x),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,x,S)}},{key:"canAdd",value:function(x,S){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,x,S)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,x,parseInt(S))}},{key:"value",value:function(x){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,x))||void 0}}]),w}(l.default.Attributor.Class),g=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(g,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,w){return y&&m(g.prototype,y),w&&m(g,w),g}}(),o=i(4),a=l(o);function l(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){f(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function _(k,N){for(var O=0;O<N.length;O++){var C=N[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,N,O){return N&&_(k.prototype,N),O&&_(k,O),k}}(),o=function _(k,N,O){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,N);if(C===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:_(I,N,O)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(O)}},a=i(0),l=m(a),h=i(4),c=m(h),f=i(25),p=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function g(_,k,N){return k in _?Object.defineProperty(_,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):_[k]=N,_}function y(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function w(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:_}function b(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(_,k):_.__proto__=k)}var x=function(_){b(k,_);function k(){return y(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(O,C){O===S.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,O,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,C){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,C),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,O,C))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,O)}}]),k}(c.default);x.blotName="list-item",x.tagName="LI";var S=function(_){b(k,_),s(k,null,[{key:"create",value:function(O){var C=O==="ordered"?"OL":"UL",I=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,C);return(O==="checked"||O==="unchecked")&&I.setAttribute("data-checked",O==="checked"),I}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(N){y(this,k);var O=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N)),C=function(P){if(P.target.parentNode===N){var A=O.statics.formats(N),D=l.default.find(P.target);A==="checked"?D.format("list","unchecked"):A==="unchecked"&&D.format("list","checked")}};return N.addEventListener("touchstart",C),N.addEventListener("mousedown",C),O}return s(k,[{key:"format",value:function(O,C){this.children.length>0&&this.children.tail.format(O,C)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,C){if(O instanceof x)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,C);else{var I=C==null?this.length():C.offset(this),P=this.split(I);P.parent.insertBefore(O,P)}}},{key:"optimize",value:function(O){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);O.moveChildren(C),this.appendChild(C)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,O)}}]),k}(p.default);S.blotName="list",S.scope=l.default.Scope.BLOCK_BLOT,S.tagName=["OL","UL"],S.defaultChild="list-item",S.allowedChildren=[x],r.ListItem=x,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,w,b)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var S=0;S<x.length;S++){var _=x[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,x,S){return x&&w(b.prototype,x),S&&w(b,S),b}}(),o=function w(b,x,S){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,x);if(_===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,S)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(S)}},a=i(0),l=c(a),h=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["alt","height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(S,_){g.indexOf(S)>-1?_?this.domNode.setAttribute(S,_):this.domNode.removeAttribute(S):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,S,_)}}],[{key:"create",value:function(S){var _=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,S);return typeof S=="string"&&_.setAttribute("src",this.sanitize(S)),_}},{key:"formats",value:function(S){return g.reduce(function(_,k){return S.hasAttribute(k)&&(_[k]=S.getAttribute(k)),_},{})}},{key:"match",value:function(S){return/\.(jpe?g|gif|png)$/.test(S)||/^data:image\/.+;base64/.test(S)}},{key:"sanitize",value:function(S){return(0,h.sanitize)(S,["http","https","data"])?S:"//:0"}},{key:"value",value:function(S){return S.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var S=0;S<x.length;S++){var _=x[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,x,S){return x&&w(b.prototype,x),S&&w(b,S),b}}(),o=function w(b,x,S){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,x);if(_===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,S)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(S)}},a=i(4),l=i(27),h=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(S,_){g.indexOf(S)>-1?_?this.domNode.setAttribute(S,_):this.domNode.removeAttribute(S):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,S,_)}}],[{key:"create",value:function(S){var _=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,S);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(S)),_}},{key:"formats",value:function(S){return g.reduce(function(_,k){return S.hasAttribute(k)&&(_[k]=S.getAttribute(k)),_},{})}},{key:"sanitize",value:function(S){return h.default.sanitize(S)}},{key:"value",value:function(S){return S.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function S(_,k){for(var N=0;N<k.length;N++){var O=k[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,k,N){return k&&S(_.prototype,k),N&&S(_,N),_}}(),o=function S(_,k,N){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,k);if(O===void 0){var C=Object.getPrototypeOf(_);return C===null?void 0:S(C,k,N)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(N)}},a=i(35),l=m(a),h=i(5),c=m(h),f=i(9),p=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function g(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function y(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function w(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var b=function(S){w(_,S);function _(){return g(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,null,[{key:"create",value:function(N){var O=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",N)),O}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),_}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=function(S){w(_,S),s(_,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function _(){g(this,_);var k=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return _}(p.default);r.FormulaBlot=b,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function N(O,C){for(var I=0;I<C.length;I++){var P=C[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,C,I){return C&&N(O.prototype,C),I&&N(O,I),O}}(),o=function N(O,C,I){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,C);if(P===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:N(A,C,I)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(I)}},a=i(0),l=y(a),h=i(5),c=y(h),f=i(9),p=y(f),m=i(13),g=y(m);function y(N){return N&&N.__esModule?N:{default:N}}function w(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function b(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function x(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var S=function(N){x(O,N);function O(){return w(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),O}(g.default);S.className="ql-syntax";var _=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(N){x(O,N),s(O,null,[{key:"register",value:function(){c.default.register(_,!0),c.default.register(S,!0)}}]);function O(C,I){w(this,O);var P=b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,I));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return P.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){P.highlight(),A=null},P.options.interval)}),P.highlight(),P}return s(O,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(S).forEach(function(A){A.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),P!=null&&this.quill.setSelection(P,c.default.sources.SILENT)}}}]),O}(p.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var O=window.hljs.highlightAuto(N);return O.value}}(),interval:1e3},r.CodeBlock=S,r.CodeToken=_,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function O(C,I,P){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,I);if(A===void 0){var D=Object.getPrototypeOf(C);return D===null?void 0:O(D,I,P)}else{if("value"in A)return A.value;var L=A.get;return L===void 0?void 0:L.call(P)}},o=function(){function O(C,I){for(var P=0;P<I.length;P++){var A=I[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,I,P){return I&&O(C.prototype,I),P&&O(C,P),C}}(),a=i(3),l=w(a),h=i(8),c=w(h),f=i(43),p=w(f),m=i(15),g=i(41),y=w(g);function w(O){return O&&O.__esModule?O:{default:O}}function b(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function x(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function S(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(O){S(C,O);function C(I,P){b(this,C),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=_);var A=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,P));return A.quill.container.classList.add("ql-bubble"),A}return o(C,[{key:"extendToolbar",value:function(P){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),y.default)}}]),C}(p.default);k.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(O){S(C,O);function C(I,P){b(this,C);var A=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,P));return A.quill.on(c.default.events.EDITOR_CHANGE,function(D,L,F,q){if(D===c.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&q===c.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var M=A.quill.getLines(L.index,L.length);if(M.length===1)A.position(A.quill.getBounds(L));else{var B=M[M.length-1],Y=A.quill.getIndex(B),H=Math.min(B.length()-1,L.index+L.length-Y),j=A.quill.getBounds(new m.Range(Y,H));A.position(j)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(C,[{key:"listen",value:function(){var P=this;s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var A=P.quill.getSelection();A!=null&&P.position(P.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var A=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,P),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",A===0)return A;D.style.marginLeft=-1*A-D.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=k},function(n,r,i){n.exports=i(63)}]).default})}(Pp)),Pp.exports}var Bi,JD;function hse(){if(JD)return Bi;JD=1;var t=Bi&&Bi.__extends||function(){var c=function(f,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])},c(f,p)};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Bi&&Bi.__assign||function(){return e=Object.assign||function(c){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},e.apply(this,arguments)},n=Bi&&Bi.__spreadArrays||function(){for(var c=0,f=0,p=arguments.length;f<p;f++)c+=arguments[f].length;for(var m=Array(c),g=0,f=0;f<p;f++)for(var y=arguments[f],w=0,b=y.length;w<b;w++,g++)m[g]=y[w];return m},r=Bi&&Bi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},i=r(ng()),s=r(p_()),o=r(cse()),a=r(fse()),l=function(c){t(f,c);function f(p){var m=c.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(y,w,b,x){var S,_,k,N;y==="text-change"?(_=(S=m).onEditorChangeText)===null||_===void 0||_.call(S,m.editor.root.innerHTML,w,x,m.unprivilegedEditor):y==="selection-change"&&((N=(k=m).onEditorChangeSelection)===null||N===void 0||N.call(k,w,x,m.unprivilegedEditor))};var g=m.isControlled()?p.value:p.defaultValue;return m.value=g??"",m}return f.prototype.validateProps=function(p){var m;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var g=i.default.Children.only(p.children);if(((m=g)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(p,m){var g=this,y;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var w=this.getEditorContents(),b=(y=p.value,y??"");this.isEqualValue(b,w)||this.setEditorContents(this.editor,b)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!o.default(p[x],g.props[x])})},f.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(g){return!o.default(p[g],m.props[g])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(p,m){var g=this;if(this.editor&&this.shouldComponentRegenerate(p)){var y=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var b=this.regenerationSnapshot,y=b.delta,x=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var S=this.editor;S.setContents(y),h(function(){return g.setEditorSelection(S,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(p,m){var g=new a.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(g,m.tabIndex),this.hookEditor(g),g},f.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(p){return p&&p.ops},f.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?o.default(p.ops,m.ops):o.default(p,m)},f.prototype.setEditorContents=function(p,m){var g=this;this.value=m;var y=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),h(function(){return g.setEditorSelection(p,y)})},f.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var g=p.getLength();m.index=Math.max(0,Math.min(m.index,g-1)),m.length=Math.max(0,Math.min(m.length,g-1-m.index)),p.setSelection(m)}},f.prototype.setEditorTabIndex=function(p,m){var g,y;!((y=(g=p)===null||g===void 0?void 0:g.scroll)===null||y===void 0)&&y.domNode&&(p.scroll.domNode.tabIndex=m)},f.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},f.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=s.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},f.prototype.renderEditingArea=function(){var p=this,m=this.props,g=m.children,y=m.preserveWhitespace,w=this.state.generation,b={key:w,ref:function(x){p.editingArea=x}};return i.default.Children.count(g)?i.default.cloneElement(i.default.Children.only(g),b):y?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(p,m,g,y){var w,b;if(this.editor){var x=this.isDelta(this.value)?y.getContents():y.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=x,(b=(w=this.props).onChange)===null||b===void 0||b.call(w,p,m,g,y))}},f.prototype.onEditorChangeSelection=function(p,m,g){var y,w,b,x,S,_;if(this.editor){var k=this.getEditorSelection(),N=!k&&p,O=k&&!p;o.default(p,k)||(this.selection=p,(w=(y=this.props).onChangeSelection)===null||w===void 0||w.call(y,p,m,g),N?(x=(b=this.props).onFocus)===null||x===void 0||x.call(b,p,m,g):O&&((_=(S=this.props).onBlur)===null||_===void 0||_.call(S,k,m,g)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=a.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(i.default.Component);function h(c){Promise.resolve().then(c)}return Bi=l,Bi}var pse=hse();const mse=ef(pse),j3=({placeholder:t,text:e,setText:n})=>{const r=Q.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large"]}],[{color:[]}],["italic","underline","blockquote","bold"],[{list:"ordered"},{list:"bullet"}],["link"]]}}),[]);return E.jsx(mse,{value:e,onChange:n,modules:r,placeholder:t,className:"mb-2 w-full rounded-xl border-0 bg-white scrollbar-hide"})};function gse({postType:t,post:e,collName:n}){const{onEditedSubmit:r,editedText:i,setEditedText:s}=rre({post:e,collName:n});return E.jsx(Di,{title:`${t} `,children:E.jsxs("form",{onSubmit:r,children:[E.jsx(j3,{placeholder:"  .",text:i,setText:s}),E.jsx(ht,{name:"",type:"submit",className:"ml-auto"})]})})}function vse({collName:t,postType:e,post:n}){const{showModal:r}=Yt(),i=()=>r({element:E.jsx(gse,{postType:e,post:n,collName:t})});return E.jsx(E.Fragment,{children:E.jsx("button",{onClick:i,children:E.jsx(kE,{fontSize:14,stroke:"#aaa"})})})}const F3=({collName:t,post:e,postType:n})=>E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(vse,{collName:t,post:e,postType:n}),E.jsx(Qre,{docId:e.id,collName:t})]}),yse=({postId:t,postType:e})=>{const{uid:n}=Ve(Nt),r=Ve(ma),[i,s]=Q.useState({}),{docId:o,monthId:a}=t,{showModal:l}=Yt(),h=()=>{if(e==="")return Rr(a,Wd);if(e===" ")return Rr(a,fE);if(e===" ")return Rr(a,zd)};Q.useEffect(()=>{o&&lr(h(),o,s)},[]);const{thumbnail:c,title:f,createdAt:p,creatorId:m,text:g}=i,y=n===m,w=r==null?void 0:r.find(S=>S.id===m),b=y?"":w==null?void 0:w.displayName,x=()=>l({element:E.jsx(Di,{title:`${b} ${e}`,children:E.jsxs("div",{className:"overflow-scroll",children:[E.jsx(T3,{text:g}),E.jsx("div",{className:"mb-4 mt-10 flex justify-end",children:n===m&&E.jsx(F3,{post:i,collName:h(),postType:e})}),E.jsx(dv,{createdAt:p,footerType:"likes",post:i})]})})});return E.jsx(E.Fragment,{children:Sl(i)&&E.jsx("button",{type:"button",onClick:x,children:E.jsx(dn,{thumbnail:c,title:f,className:"w-full overflow-hidden"})})})};function wse({userRecords:t,postType:e}){const n=(t==null?void 0:t.subjects)||[],r=(t==null?void 0:t.hostReviews)||[],i=(t==null?void 0:t.reviews)||[],s={:n," ":i," ":r};return E.jsx("ul",{className:"grid grid-cols-7 gap-5 max-md:grid-cols-6 max-sm:grid-cols-4 max-sm:gap-4",children:s[e].length!==0?s[e].map(o=>E.jsx(yse,{postId:o,postType:e},o.docId)):E.jsxs("span",{children:["  ",e," ."]})})}function bse({percentage:t}){return E.jsx("div",{className:"mt-2 flex items-center gap-4",children:E.jsx("div",{className:`flex h-[14px] w-full items-center rounded-2xl border p-0.5 ${t==="100%"?"border-green1":"border-yellow-600"}`,children:E.jsx("div",{style:{width:t},className:`relative h-full rounded-3xl ${t==="100%"?"w-full bg-green1":"bg-yellow-300"}`})})})}function ar({text:t,color:e="lightBlue",children:n,shape:r="square",className:i,onClick:s}){const o={lightGray:"bg-white text-gray1",lightGreen:"bg-green2 text-white",lightBlue:"bg-blue4 text-blue2",yellow:"bg-amber-100 text-yellow-700",purple:"bg-purple4 text-purple-700",green:"bg-green1 text-white",red:"bg-pointCoral text-white"},a={rounded:"rounded-full",square:"rounded-lg"};return s?E.jsx("button",{type:"button",onClick:s,className:"min-w-fit",children:E.jsxs("div",{className:`text-sm ${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[E.jsx("span",{children:t&&t}),n&&n]})}):E.jsxs("div",{className:`min-w-fit text-sm ${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[E.jsx("span",{children:t&&t}),n&&n]})}function Os({authors:t,publisher:e}){return E.jsxs("span",{className:"line-clamp-1 truncate whitespace-pre-wrap text-sm tracking-tight text-gray1",children:[t.length!==0?E.jsxs("span",{children:[t[0],t.length!==1&&`( ${t.length-1})`]}):E.jsx("span",{className:"text-gray1",children:" "}),e&&E.jsxs("span",{children:["  ",e]})]})}function xse({currentPage:t,wholePage:e}){const n=Sm(t,e);return E.jsxs("span",{className:`text-sm font-medium tracking-tighter ${n===100?"text-green2":"text-pointCoral"}`,children:[n===100?"":""," ",t," / ",e," (",n,"%)"]})}function _se({docId:t,creatorId:e,challengeBook:n}){const{title:r,thumbnail:i,authors:s,publisher:o,wholePage:a,currentPage:l}=n,[h]=Q.useState(l),{uid:c}=Ve(Nt),{pathname:f}=Fr(),p=an(Jt,al,t),m=async()=>{window.confirm(" ?")&&await qg(p)},g=`${Sm(l,a)}%`;return E.jsxs("li",{className:`rounded-xl border bg-white px-4 pb-3 pt-4 shadow-card ${g==="100%"?"border-green1":"border-pointCoral opacity-50"}`,children:[E.jsxs("div",{className:"mb-2.5 flex flex-1",children:[E.jsxs("div",{className:"mr-4 flex flex-1 flex-col gap-1",children:[E.jsx(ar,{text:g==="100%"?"  ":"  ",color:g==="100%"?"green":"red",className:"mb-1.5 min-w-fit font-medium"}),E.jsx("h3",{className:"font-medium leading-5",children:r}),E.jsx(Os,{authors:s,publisher:o}),f==="/challenge"&&c===e&&E.jsx("div",{className:"absolute right-3 top-3 flex gap-3",children:E.jsx("button",{type:"button",onClick:m,children:E.jsx(Of,{fontSize:15})})}),E.jsx(xse,{currentPage:h,wholePage:a})]}),E.jsx(dn,{title:r,thumbnail:i,className:"w-20"})]}),E.jsx(bse,{percentage:g})]})}const Ys=({text:t,color:e="gray",icon:n=!0})=>{const r={red:"text-pointCoral stroke-pointCoral",green:"text-green1 stroke-green1",gray:"text-gray1 stroke-gray1"};return E.jsxs("div",{className:"mb-2 gap-1",children:[n&&(e==="red"?E.jsx(Tre,{className:`mb-0.5 inline text-base ${r[e]}`}):E.jsx(Bre,{className:`mb-0.5 inline text-base ${r[e]}`})),E.jsx("span",{className:`ml-1 text-base leading-6 ${r[e]}`,children:t})]})};function Sse(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h10v10"},child:[]},{tag:"path",attr:{d:"M7 17 17 7"},child:[]}]})(t)}function Ese(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"},child:[]},{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function kse(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function Tse(t){return ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5.8 11.3 2 22l10.7-3.79"},child:[]},{tag:"path",attr:{d:"M4 3h.01"},child:[]},{tag:"path",attr:{d:"M22 8h.01"},child:[]},{tag:"path",attr:{d:"M15 2h.01"},child:[]},{tag:"path",attr:{d:"M22 20h.01"},child:[]},{tag:"path",attr:{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"},child:[]},{tag:"path",attr:{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"},child:[]},{tag:"path",attr:{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"},child:[]},{tag:"path",attr:{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"},child:[]}]})(t)}function nc({size:t=200,className:e=""}){return E.jsx("div",{className:`flex items-center justify-center ${e}`,children:E.jsxs("div",{className:"relative flex items-center justify-center rounded-full",style:{height:`${t}px`,width:`${t}px`},children:[E.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"11",fill:"none",className:"stroke-purple4"}),E.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:10,strokeLinecap:"round",strokeDasharray:"45 240",strokeDashoffset:"100",className:"origin-center animate-spin border stroke-purple2"})]}),E.jsx(Ese,{className:"absolute size-[40%] text-purple2"})]})})}const Cm=({title:t,className:e})=>E.jsx("h3",{className:`flex w-fit items-center text-[17px] font-medium text-blue1 ${e}`,children:t});function Mt({children:t,title:e,titleBtn:n,className:r=""}){return E.jsxs("section",{className:`relative mb-20 mt-2.5 flex flex-col max-md:mb-16 ${r}`,children:[e&&(n?E.jsxs("div",{className:"mb-2 flex items-center justify-between px-1",children:[E.jsx(Cm,{title:e}),n]}):E.jsx(Cm,{title:e,className:"mb-2 pl-1"})),t]})}function Cse(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function $3(t,e){return new Promise(function(n,r){let i;return Nse(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Nse=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const h=o+10;let c;switch(s.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(h+2,c)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(h+4,c),p=h+f+2+12*s.getUint16(h+f,c);for(let m=h+f+2;m<p;m+=12)if(s.getUint16(m,c)==274){if(s.getUint16(m+2,c)!==3)return n("Orientation data type is invalid");if(s.getUint32(m+4,c)!==1)return n("Orientation data count is invalid");s.setUint16(m+8,1,c);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Nm={},Ose={get exports(){return Nm},set exports(t){Nm=t}};(function(t){var e,n,r={};Ose.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,h={},c=new Uint8Array(i),f=c.length-4;a(c,f)!=101010256;)f--;l=f,l+=4;var p=o(c,l+=4);o(c,l+=2);var m=a(c,l+=2),g=a(c,l+=4);l+=4,l=g;for(var y=0;y<p;y++){a(c,l),l+=4,l+=4,l+=4,a(c,l+=4),m=a(c,l+=4);var w=a(c,l+=4),b=o(c,l+=4),x=o(c,l+2),S=o(c,l+4);l+=6;var _=a(c,l+=8);l+=4,l+=b+x+S,r._readLocal(c,_,h,m,w,s)}return h},r._readLocal=function(i,s,o,a,l,h){var c=r.bin.readUshort,f=r.bin.readUint;f(i,s),c(i,s+=4),c(i,s+=2);var p=c(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var m=c(i,s+=8),g=c(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,m);if(s+=m,s+=g,h)o[y]={size:l,csize:a};else{var w=new Uint8Array(i.buffer,s);if(p==0)o[y]=new Uint8Array(w.buffer.slice(s,s+a));else{if(p!=8)throw"unknown compression method: "+p;var b=new Uint8Array(l);r.inflateRaw(w,b),o[y]=b}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,h={};for(var c in i){var f=!r._noNeed(c)&&!s,p=i[c],m=r.crc.crc(p,0,p.length);h[c]={cpr:f,usize:p.length,crc:m,file:f?r.deflateRaw(p):p}}for(var c in h)o+=h[c].file.length+30+46+2*r.bin.sizeUTF8(c);o+=22;var g=new Uint8Array(o),y=0,w=[];for(var c in h){var b=h[c];w.push(y),y=r._writeHeader(g,y,c,b,0)}var x=0,S=y;for(var c in h)b=h[c],w.push(y),y=r._writeHeader(g,y,c,b,1,w[x++]);var _=y-S;return a(g,y,101010256),y+=4,l(g,y+=4,x),l(g,y+=2,x),a(g,y+=2,_),a(g,y+=4,S),y+=4,y+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,h){var c=r.bin.writeUint,f=r.bin.writeUshort,p=a.file;return c(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,a.cpr?8:0),c(i,s+=2,0),c(i,s+=4,a.crc),c(i,s+=4,p.length),c(i,s+=4,a.usize),f(i,s+=4,r.bin.sizeUTF8(o)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,c(i,s+=6,h),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(p,s),s+=p.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,h=s,c=s+o;h<c;){for(var f=Math.min(h+5552,c);h<f;)l+=a+=i[h++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",h=0;h<o;h++)l+="%"+r.bin.pad(i[s+h].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,h=0;h<a;h++){var c=o.charCodeAt(h);if((4294967168&c)==0)i[s+l]=c,l++;else if((4294965248&c)==0)i[s+l]=192|c>>6,i[s+l+1]=128|c>>0&63,l+=2;else if((4294901760&c)==0)i[s+l]=224|c>>12,i[s+l+1]=128|c>>6&63,i[s+l+2]=128|c>>0&63,l+=3;else{if((4292870144&c)!=0)throw"e";i[s+l]=240|c>>18,i[s+l+1]=128|c>>12&63,i[s+l+2]=128|c>>6&63,i[s+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if((4294967168&l)==0)o++;else if((4294965248&l)==0)o+=2;else if((4294901760&l)==0)o+=3;else{if((4292870144&l)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,p=0,m=o<<3,g=0,y=i.length;if(a==0){for(;p<y;)f(s,m,p+(A=Math.min(65535,y-p))==y?1:0),m=r.F._copyExact(i,p,A,s,m+8),p+=A;return m>>>3}var w=h.lits,b=h.strt,x=h.prev,S=0,_=0,k=0,N=0,O=0,C=0;for(y>2&&(b[C=r.F._hash(i,0)]=0),p=0;p<y;p++){if(O=C,p+1<y-2){C=r.F._hash(i,p+1);var I=p+1&32767;x[I]=b[C],b[C]=I}if(g<=p){(S>14e3||_>26697)&&y-p>100&&(g<p&&(w[S]=p-g,S+=2,g=p),m=r.F._writeBlock(p==y-1||g==y?1:0,w,S,N,i,k,p-k,s,m),S=_=N=0,k=p);var P=0;p<y-2&&(P=r.F._bestMatch(i,p,x,O,Math.min(l[2],y-p),l[3]));var A=P>>>16,D=65535&P;if(P!=0){D=65535&P;var L=c(A=P>>>16,h.of0);h.lhst[257+L]++;var F=c(D,h.df0);h.dhst[F]++,N+=h.exb[L]+h.dxb[F],w[S]=A<<23|p-g,w[S+1]=D<<16|L<<8|F,S+=2,g=p+A}else h.lhst[i[p]]++;_++}}for(k==p&&i.length!=0||(g<p&&(w[S]=p-g,S+=2,g=p),m=r.F._writeBlock(1,w,S,N,i,k,p-k,s,m),S=0,_=0,S=_=N=0,k=p);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,s,o,a,l,h){var c=32767&s,f=o[c],p=c-f+32768&32767;if(f==c||a!=r.F._hash(i,s-p))return 0;for(var m=0,g=0,y=Math.min(32767,s);p<=y&&--h!=0&&f!=c;){if(m==0||i[s+m]==i[s+m-p]){var w=r.F._howLong(i,s,p);if(w>m){if(g=p,(m=w)>=l)break;p+2<w&&(w=p+2);for(var b=0,x=0;x<w-2;x++){var S=s-p+x+32768&32767,_=S-o[S]+32768&32767;_>b&&(b=_,f=S)}}}p+=(c=f)-(f=o[c])+32768&32767}return m<<16|g},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,h,c,f,p){var m,g,y,w,b,x,S,_,k,N=r.F.U,O=r.F._putsF,C=r.F._putsE;N.lhst[256]++,g=(m=r.F.getTrees())[0],y=m[1],w=m[2],b=m[3],x=m[4],S=m[5],_=m[6],k=m[7];var I=32+((p+3&7)==0?0:8-(p+3&7))+(c<<3),P=a+r.F.contSize(N.fltree,N.lhst)+r.F.contSize(N.fdtree,N.dhst),A=a+r.F.contSize(N.ltree,N.lhst)+r.F.contSize(N.dtree,N.dhst);A+=14+3*S+r.F.contSize(N.itree,N.ihst)+(2*N.ihst[16]+3*N.ihst[17]+7*N.ihst[18]);for(var D=0;D<286;D++)N.lhst[D]=0;for(D=0;D<30;D++)N.dhst[D]=0;for(D=0;D<19;D++)N.ihst[D]=0;var L=I<P&&I<A?0:P<A?1:2;if(O(f,p,i),O(f,p+1,L),p+=3,L==0){for(;(7&p)!=0;)p++;p=r.F._copyExact(l,h,c,f,p)}else{var F,q;if(L==1&&(F=N.fltree,q=N.fdtree),L==2){r.F.makeCodes(N.ltree,g),r.F.revCodes(N.ltree,g),r.F.makeCodes(N.dtree,y),r.F.revCodes(N.dtree,y),r.F.makeCodes(N.itree,w),r.F.revCodes(N.itree,w),F=N.ltree,q=N.dtree,C(f,p,b-257),C(f,p+=5,x-1),C(f,p+=5,S-4),p+=4;for(var M=0;M<S;M++)C(f,p+3*M,N.itree[1+(N.ordr[M]<<1)]);p+=3*S,p=r.F._codeTiny(_,N.itree,f,p),p=r.F._codeTiny(k,N.itree,f,p)}for(var B=h,Y=0;Y<o;Y+=2){for(var H=s[Y],j=H>>>23,U=B+(8388607&H);B<U;)p=r.F._writeLit(l[B++],F,f,p);if(j!=0){var V=s[Y+1],z=V>>16,K=V>>8&255,X=255&V;C(f,p=r.F._writeLit(257+K,F,f,p),j-N.of0[K]),p+=N.exb[K],O(f,p=r.F._writeLit(X,q,f,p),z-N.df0[X]),p+=N.dxb[X],B+=j}}p=r.F._writeLit(256,F,f,p)}return p},r.F._copyExact=function(i,s,o,a,l){var h=l>>>3;return a[h]=o,a[h+1]=o>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(i.buffer,s,o),h),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),h=[],c=r.F._lenCodes(i.dtree,h),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<h.length;f+=2)i.ihst[h[f]]++;for(var p=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[s,o,p,l,c,m,a,h]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var h=i[l],c=i[l+1];a=r.F._writeLit(h,s,o,a);var f=h==16?2:h==17?3:7;h>15&&(r.F._putsE(o,a,c,f),a+=f)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],h=a+3<o?i[a+3]:-1,c=a+5<o?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&h==l&&c==l){for(var p=a+5;p+2<o&&i[p+2]==l;)p+=2;(m=Math.min(p+1-a>>>1,138))<11?s.push(17,m-3):s.push(18,m-11),a+=2*m-2}else if(l==f&&h==l&&c==l){for(p=a+5;p+2<o&&i[p+2]==l;)p+=2;var m=Math.min(p+1-a>>>1,6);s.push(16,m-3),a+=2*m-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,h=s.length,c=0;for(c=0;c<h;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&a.push({lit:c,f:i[c]});var f=a.length,p=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return p=m==0?1:0,s[1+(m<<1)]=1,s[1+(p<<1)]=1,1}a.sort(function(_,k){return _.f-k.f});var g=a[0],y=a[1],w=0,b=1,x=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};b!=f-1;)g=w!=b&&(x==f||a[w].f<a[x].f)?a[w++]:a[x++],y=w!=b&&(x==f||a[w].f<a[x].f)?a[w++]:a[x++],a[b++]={lit:-1,f:g.f+y.f,l:g,r:y};var S=r.F.setDepth(a[b-1],0);for(S>o&&(r.F.restrictDepth(p,o,S),S=o),c=0;c<f;c++)s[1+(p[c].lit<<1)]=p[c].d;return S},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,h=0;for(i.sort(function(f,p){return p.d==f.d?f.f-p.f:p.d-f.d}),a=0;a<i.length&&i[a].d>s;a++){var c=i[a].d;i[a].d=s,h+=l-(1<<o-c)}for(h>>>=o-s;h>0;)(c=i[a].d)<s?(i[a].d++,h-=1<<s-c-1):a++;for(;a>=0;a--)i[a].d==s&&h<0&&(i[a].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,p=a.codes2map,m=a._get17,g=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var w,b,x=0,S=0,_=0,k=0,N=0,O=0,C=0,I=0,P=0;x==0;)if(x=l(i,P,1),S=l(i,P+1,2),P+=3,S!=0){if(y&&(s=r.F._check(s,I+(1<<17))),S==1&&(w=g.flmap,b=g.fdmap,O=511,C=31),S==2){_=h(i,P,5)+257,k=h(i,P+5,5)+1,N=h(i,P+10,4)+4,P+=14;for(var A=0;A<38;A+=2)g.itree[A]=0,g.itree[A+1]=0;var D=1;for(A=0;A<N;A++){var L=h(i,P+3*A,3);g.itree[1+(g.ordr[A]<<1)]=L,L>D&&(D=L)}P+=3*N,f(g.itree,D),p(g.itree,D,g.imap),w=g.lmap,b=g.dmap,P=c(g.imap,(1<<D)-1,_+k,i,P,g.ttree);var F=a._copyOut(g.ttree,0,_,g.ltree);O=(1<<F)-1;var q=a._copyOut(g.ttree,_,k,g.dtree);C=(1<<q)-1,f(g.ltree,F),p(g.ltree,F,w),f(g.dtree,q),p(g.dtree,q,b)}for(;;){var M=w[m(i,P)&O];P+=15&M;var B=M>>>4;if(!(B>>>8))s[I++]=B;else{if(B==256)break;var Y=I+B-254;if(B>264){var H=g.ldef[B-257];Y=I+(H>>>3)+h(i,P,7&H),P+=7&H}var j=b[m(i,P)&C];P+=15&j;var U=j>>>4,V=g.ddef[U],z=(V>>>4)+l(i,P,15&V);for(P+=15&V,y&&(s=r.F._check(s,I+(1<<17)));I<Y;)s[I]=s[I++-z],s[I]=s[I++-z],s[I]=s[I++-z],s[I]=s[I++-z];I=Y}}}else{(7&P)!=0&&(P+=8-(7&P));var K=4+(P>>>3),X=i[K-4]|i[K-3]<<8;y&&(s=r.F._check(s,I+X)),s.set(new o(i.buffer,i.byteOffset+K,X),I),P=K+X<<3,I+=X}return s.length==I?s:s.slice(0,I)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,h){for(var c=r.F._bitsE,f=r.F._get17,p=0;p<o;){var m=i[f(a,l)&s];l+=15&m;var g=m>>>4;if(g<=15)h[p]=g,p++;else{var y=0,w=0;g==16?(w=3+c(a,l,2),l+=2,y=h[p-1]):g==17?(w=3+c(a,l,3),l+=3):g==18&&(w=11+c(a,l,7),l+=7);for(var b=p+w;p<b;)h[p]=y,p++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,h=0,c=a.length>>>1;h<o;){var f=i[h+s];a[h<<1]=0,a[1+(h<<1)]=f,f>l&&(l=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,h,c=r.F.U,f=i.length,p=c.bl_count,m=0;m<=s;m++)p[m]=0;for(m=1;m<f;m+=2)p[i[m]]++;var g=c.next_code;for(o=0,p[0]=0,a=1;a<=s;a++)o=o+p[a-1]<<1,g[a]=o;for(l=0;l<f;l+=2)(h=i[l+1])!=0&&(i[l]=g[h],g[h]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,h=0;h<a;h+=2)if(i[h+1]!=0)for(var c=h>>1,f=i[h+1],p=c<<4|f,m=s-f,g=i[h]<<m,y=g+(1<<m);g!=y;)o[l[g]>>>15-s]=p,g++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var h=i[l]<<s-i[l+1];i[l]=o[h]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,h,c){for(;h--!=0;)l.push(0,c)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Ase=Cse({__proto__:null,default:Nm},[Nm]);const Vi=function(){var t={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,p){c[f]=p>>8&255,c[f+1]=255&p},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,p){c[f]=p>>24&255,c[f+1]=p>>16&255,c[f+2]=p>>8&255,c[f+3]=255&p},readASCII(c,f,p){let m="";for(let g=0;g<p;g++)m+=String.fromCharCode(c[f+g]);return m},writeASCII(c,f,p){for(let m=0;m<p.length;m++)c[f+m]=p.charCodeAt(m)},readBytes(c,f,p){const m=[];for(let g=0;g<p;g++)m.push(c[f+g]);return m},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,p){let m,g="";for(let y=0;y<p;y++)g+=`%${t.pad(c[f+y].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(c,f,p)}return m}};function e(c,f,p,m){const g=f*p,y=s(m),w=Math.ceil(f*y/8),b=new Uint8Array(4*g),x=new Uint32Array(b.buffer),{ctype:S}=m,{depth:_}=m,k=t.readUshort;if(S==6){const H=g<<2;if(_==8)for(var N=0;N<H;N+=4)b[N]=c[N],b[N+1]=c[N+1],b[N+2]=c[N+2],b[N+3]=c[N+3];if(_==16)for(N=0;N<H;N++)b[N]=c[N<<1]}else if(S==2){const H=m.tabs.tRNS;if(H==null){if(_==8)for(N=0;N<g;N++){var O=3*N;x[N]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O]}if(_==16)for(N=0;N<g;N++)O=6*N,x[N]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O]}else{var C=H[0];const j=H[1],U=H[2];if(_==8)for(N=0;N<g;N++){var I=N<<2;O=3*N,x[N]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O],c[O]==C&&c[O+1]==j&&c[O+2]==U&&(b[I+3]=0)}if(_==16)for(N=0;N<g;N++)I=N<<2,O=6*N,x[N]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O],k(c,O)==C&&k(c,O+2)==j&&k(c,O+4)==U&&(b[I+3]=0)}}else if(S==3){const H=m.tabs.PLTE,j=m.tabs.tRNS,U=j?j.length:0;if(_==1)for(var P=0;P<p;P++){var A=P*w,D=P*f;for(N=0;N<f;N++){I=D+N<<2;var L=3*(F=c[A+(N>>3)]>>7-((7&N)<<0)&1);b[I]=H[L],b[I+1]=H[L+1],b[I+2]=H[L+2],b[I+3]=F<U?j[F]:255}}if(_==2)for(P=0;P<p;P++)for(A=P*w,D=P*f,N=0;N<f;N++)I=D+N<<2,L=3*(F=c[A+(N>>2)]>>6-((3&N)<<1)&3),b[I]=H[L],b[I+1]=H[L+1],b[I+2]=H[L+2],b[I+3]=F<U?j[F]:255;if(_==4)for(P=0;P<p;P++)for(A=P*w,D=P*f,N=0;N<f;N++)I=D+N<<2,L=3*(F=c[A+(N>>1)]>>4-((1&N)<<2)&15),b[I]=H[L],b[I+1]=H[L+1],b[I+2]=H[L+2],b[I+3]=F<U?j[F]:255;if(_==8)for(N=0;N<g;N++){var F;I=N<<2,L=3*(F=c[N]),b[I]=H[L],b[I+1]=H[L+1],b[I+2]=H[L+2],b[I+3]=F<U?j[F]:255}}else if(S==4){if(_==8)for(N=0;N<g;N++){I=N<<2;var q=c[M=N<<1];b[I]=q,b[I+1]=q,b[I+2]=q,b[I+3]=c[M+1]}if(_==16)for(N=0;N<g;N++){var M;I=N<<2,q=c[M=N<<2],b[I]=q,b[I+1]=q,b[I+2]=q,b[I+3]=c[M+2]}}else if(S==0)for(C=m.tabs.tRNS?m.tabs.tRNS:-1,P=0;P<p;P++){const H=P*w,j=P*f;if(_==1)for(var B=0;B<f;B++){var Y=(q=255*(c[H+(B>>>3)]>>>7-(7&B)&1))==255*C?0:255;x[j+B]=Y<<24|q<<16|q<<8|q}else if(_==2)for(B=0;B<f;B++)Y=(q=85*(c[H+(B>>>2)]>>>6-((3&B)<<1)&3))==85*C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(_==4)for(B=0;B<f;B++)Y=(q=17*(c[H+(B>>>1)]>>>4-((1&B)<<2)&15))==17*C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(_==8)for(B=0;B<f;B++)Y=(q=c[H+B])==C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(_==16)for(B=0;B<f;B++)q=c[H+(B<<1)],Y=k(c,H+(B<<1))==C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q}return b}function n(c,f,p,m){const g=s(c),y=Math.ceil(p*g/8),w=new Uint8Array((y+1+c.interlace)*m);return f=c.tabs.CgBI?i(f,w):r(f,w),c.interlace==0?f=o(f,c,0,p,m):c.interlace==1&&(f=function(x,S){const _=S.width,k=S.height,N=s(S),O=N>>3,C=Math.ceil(_*N/8),I=new Uint8Array(k*C);let P=0;const A=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const B=L[q],Y=F[q];let H=0,j=0,U=A[q];for(;U<k;)U+=B,j++;let V=D[q];for(;V<_;)V+=Y,H++;const z=Math.ceil(H*N/8);o(x,S,P,H,j);let K=0,X=A[q];for(;X<k;){let W=D[q],J=P+K*z<<3;for(;W<_;){var M;if(N==1&&(M=(M=x[J>>3])>>7-(7&J)&1,I[X*C+(W>>3)]|=M<<7-((7&W)<<0)),N==2&&(M=(M=x[J>>3])>>6-(7&J)&3,I[X*C+(W>>2)]|=M<<6-((3&W)<<1)),N==4&&(M=(M=x[J>>3])>>4-(7&J)&15,I[X*C+(W>>1)]|=M<<4-((1&W)<<2)),N>=8){const Z=X*C+W*O;for(let te=0;te<O;te++)I[Z+te]=x[(J>>3)+te]}J+=N,W+=Y}K++,X+=B}H*j!=0&&(P+=j*(1+z)),q+=1}return I}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,p){const m=Uint8Array;let g,y,w=0,b=0,x=0,S=0,_=0,k=0,N=0,O=0,C=0;if(f[0]==3&&f[1]==0)return p||new m(0);const I=c.H,P=I.b,A=I.e,D=I.R,L=I.n,F=I.A,q=I.Z,M=I.m,B=p==null;for(B&&(p=new m(f.length>>>2<<5));w==0;)if(w=P(f,C,1),b=P(f,C+1,2),C+=3,b!=0){if(B&&(p=c.H.W(p,O+(1<<17))),b==1&&(g=M.J,y=M.h,k=511,N=31),b==2){x=A(f,C,5)+257,S=A(f,C+5,5)+1,_=A(f,C+10,4)+4,C+=14;let H=1;for(var Y=0;Y<38;Y+=2)M.Q[Y]=0,M.Q[Y+1]=0;for(Y=0;Y<_;Y++){const V=A(f,C+3*Y,3);M.Q[1+(M.X[Y]<<1)]=V,V>H&&(H=V)}C+=3*_,L(M.Q,H),F(M.Q,H,M.u),g=M.w,y=M.d,C=D(M.u,(1<<H)-1,x+S,f,C,M.v);const j=I.V(M.v,0,x,M.C);k=(1<<j)-1;const U=I.V(M.v,x,S,M.D);N=(1<<U)-1,L(M.C,j),F(M.C,j,g),L(M.D,U),F(M.D,U,y)}for(;;){const H=g[q(f,C)&k];C+=15&H;const j=H>>>4;if(!(j>>>8))p[O++]=j;else{if(j==256)break;{let U=O+j-254;if(j>264){const W=M.q[j-257];U=O+(W>>>3)+A(f,C,7&W),C+=7&W}const V=y[q(f,C)&N];C+=15&V;const z=V>>>4,K=M.c[z],X=(K>>>4)+P(f,C,15&K);for(C+=15&K;O<U;)p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X];O=U}}}}else{(7&C)!=0&&(C+=8-(7&C));const H=4+(C>>>3),j=f[H-4]|f[H-3]<<8;B&&(p=c.H.W(p,O+j)),p.set(new m(f.buffer,f.byteOffset+H,j),O),C=H+j<<3,O+=j}return p.length==O?p:p.slice(0,O)},c.H.W=function(f,p){const m=f.length;if(p<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},c.H.R=function(f,p,m,g,y,w){const b=c.H.e,x=c.H.Z;let S=0;for(;S<m;){const _=f[x(g,y)&p];y+=15&_;const k=_>>>4;if(k<=15)w[S]=k,S++;else{let N=0,O=0;k==16?(O=3+b(g,y,2),y+=2,N=w[S-1]):k==17?(O=3+b(g,y,3),y+=3):k==18&&(O=11+b(g,y,7),y+=7);const C=S+O;for(;S<C;)w[S]=N,S++}}return y},c.H.V=function(f,p,m,g){let y=0,w=0;const b=g.length>>>1;for(;w<m;){const x=f[w+p];g[w<<1]=0,g[1+(w<<1)]=x,x>y&&(y=x),w++}for(;w<b;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},c.H.n=function(f,p){const m=c.H.m,g=f.length;let y,w,b,x;const S=m.j;for(var _=0;_<=p;_++)S[_]=0;for(_=1;_<g;_+=2)S[f[_]]++;const k=m.K;for(y=0,S[0]=0,w=1;w<=p;w++)y=y+S[w-1]<<1,k[w]=y;for(b=0;b<g;b+=2)x=f[b+1],x!=0&&(f[b]=k[x],k[x]++)},c.H.A=function(f,p,m){const g=f.length,y=c.H.m.r;for(let w=0;w<g;w+=2)if(f[w+1]!=0){const b=w>>1,x=f[w+1],S=b<<4|x,_=p-x;let k=f[w]<<_;const N=k+(1<<_);for(;k!=N;)m[y[k]>>>15-p]=S,k++}},c.H.l=function(f,p){const m=c.H.m.r,g=15-p;for(let y=0;y<f.length;y+=2){const w=f[y]<<p-f[y+1];f[y]=m[w]>>>g}},c.H.M=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8},c.H.I=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},c.H.e=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8)>>>(7&p)&(1<<m)-1},c.H.b=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)&(1<<m)-1},c.H.Z=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)},c.H.i=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16|f[3+(p>>>3)]<<24)>>>(7&p)},c.H.m=function(){const f=Uint16Array,p=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[p]=(g>>>16|g<<16)>>>17}function m(g,y,w){for(;y--!=0;)g.push(0,w)}for(p=0;p<32;p++)f.q[p]=f.S[p]<<3|f.T[p],f.c[p]=f.p[p]<<4|f.z[p];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),m(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function o(c,f,p,m,g){let y=s(f);const w=Math.ceil(m*y/8);let b,x;y=Math.ceil(y/8);let S=c[p],_=0;if(S>1&&(c[p]=[0,0,1][S-2]),S==3)for(_=y;_<w;_++)c[_+1]=c[_+1]+(c[_+1-y]>>>1)&255;for(let k=0;k<g;k++)if(b=p+k*w,x=b+k+1,S=c[x-1],_=0,S==0)for(;_<w;_++)c[b+_]=c[x+_];else if(S==1){for(;_<y;_++)c[b+_]=c[x+_];for(;_<w;_++)c[b+_]=c[x+_]+c[b+_-y]}else if(S==2)for(;_<w;_++)c[b+_]=c[x+_]+c[b+_-w];else if(S==3){for(;_<y;_++)c[b+_]=c[x+_]+(c[b+_-w]>>>1);for(;_<w;_++)c[b+_]=c[x+_]+(c[b+_-w]+c[b+_-y]>>>1)}else{for(;_<y;_++)c[b+_]=c[x+_]+a(0,c[b+_-w],0);for(;_<w;_++)c[b+_]=c[x+_]+a(c[b+_-y],c[b+_-w],c[b+_-y-w])}return c}function a(c,f,p){const m=c+f-p,g=m-c,y=m-f,w=m-p;return g*g<=y*y&&g*g<=w*w?c:y*y<=w*w?f:p}function l(c,f,p){p.width=t.readUint(c,f),f+=4,p.height=t.readUint(c,f),f+=4,p.depth=c[f],f++,p.ctype=c[f],f++,p.compress=c[f],f++,p.filter=c[f],f++,p.interlace=c[f],f++}function h(c,f,p,m,g,y,w,b,x){const S=Math.min(f,g),_=Math.min(p,y);let k=0,N=0;for(let q=0;q<_;q++)for(let M=0;M<S;M++)if(w>=0&&b>=0?(k=q*f+M<<2,N=(b+q)*g+w+M<<2):(k=(-b+q)*f-w+M<<2,N=q*g+M<<2),x==0)m[N]=c[k],m[N+1]=c[k+1],m[N+2]=c[k+2],m[N+3]=c[k+3];else if(x==1){var O=c[k+3]*.00392156862745098,C=c[k]*O,I=c[k+1]*O,P=c[k+2]*O,A=m[N+3]*(1/255),D=m[N]*A,L=m[N+1]*A,F=m[N+2]*A;const B=1-O,Y=O+A*B,H=Y==0?0:1/Y;m[N+3]=255*Y,m[N+0]=(C+D*B)*H,m[N+1]=(I+L*B)*H,m[N+2]=(P+F*B)*H}else if(x==2)O=c[k+3],C=c[k],I=c[k+1],P=c[k+2],A=m[N+3],D=m[N],L=m[N+1],F=m[N+2],O==A&&C==D&&I==L&&P==F?(m[N]=0,m[N+1]=0,m[N+2]=0,m[N+3]=0):(m[N]=C,m[N+1]=I,m[N+2]=P,m[N+3]=O);else if(x==3){if(O=c[k+3],C=c[k],I=c[k+1],P=c[k+2],A=m[N+3],D=m[N],L=m[N+1],F=m[N+2],O==A&&C==D&&I==L&&P==F)continue;if(O<220&&A>20)return!1}return!0}return{decode:function(f){const p=new Uint8Array(f);let m=8;const g=t,y=g.readUshort,w=g.readUint,b={tabs:{},frames:[]},x=new Uint8Array(p.length);let S,_=0,k=0;const N=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(p[O]!=N[O])throw"The input is not a PNG file!";for(;m<p.length;){const q=g.readUint(p,m);m+=4;const M=g.readASCII(p,m,4);if(m+=4,M=="IHDR")l(p,m,b);else if(M=="iCCP"){for(var C=m;p[C]!=0;)C++;g.readASCII(p,m,C-m),p[C+1];const B=p.slice(C+2,m+q);let Y=null;try{Y=r(B)}catch{Y=i(B)}b.tabs[M]=Y}else if(M=="CgBI")b.tabs[M]=p.slice(m,m+4);else if(M=="IDAT"){for(O=0;O<q;O++)x[_+O]=p[m+O];_+=q}else if(M=="acTL")b.tabs[M]={num_frames:w(p,m),num_plays:w(p,m+4)},S=new Uint8Array(p.length);else if(M=="fcTL"){k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,S.slice(0,k),F.rect.width,F.rect.height),k=0);const B={x:w(p,m+12),y:w(p,m+16),width:w(p,m+4),height:w(p,m+8)};let Y=y(p,m+22);Y=y(p,m+20)/(Y==0?100:Y);const H={rect:B,delay:Math.round(1e3*Y),dispose:p[m+24],blend:p[m+25]};b.frames.push(H)}else if(M=="fdAT"){for(O=0;O<q-4;O++)S[k+O]=p[m+O+4];k+=q-4}else if(M=="pHYs")b.tabs[M]=[g.readUint(p,m),g.readUint(p,m+4),p[m+8]];else if(M=="cHRM")for(b.tabs[M]=[],O=0;O<8;O++)b.tabs[M].push(g.readUint(p,m+4*O));else if(M=="tEXt"||M=="zTXt"){b.tabs[M]==null&&(b.tabs[M]={});var I=g.nextZero(p,m),P=g.readASCII(p,m,I-m),A=m+q-I-1;if(M=="tEXt")L=g.readASCII(p,I+1,A);else{var D=r(p.slice(I+2,I+2+A));L=g.readUTF8(D,0,D.length)}b.tabs[M][P]=L}else if(M=="iTXt"){b.tabs[M]==null&&(b.tabs[M]={}),I=0,C=m,I=g.nextZero(p,C),P=g.readASCII(p,C,I-C);const B=p[C=I+1];var L;p[C+1],C+=2,I=g.nextZero(p,C),g.readASCII(p,C,I-C),C=I+1,I=g.nextZero(p,C),g.readUTF8(p,C,I-C),A=q-((C=I+1)-m),B==0?L=g.readUTF8(p,C,A):(D=r(p.slice(C,C+A)),L=g.readUTF8(D,0,D.length)),b.tabs[M][P]=L}else if(M=="PLTE")b.tabs[M]=g.readBytes(p,m,q);else if(M=="hIST"){const B=b.tabs.PLTE.length/3;for(b.tabs[M]=[],O=0;O<B;O++)b.tabs[M].push(y(p,m+2*O))}else if(M=="tRNS")b.ctype==3?b.tabs[M]=g.readBytes(p,m,q):b.ctype==0?b.tabs[M]=y(p,m):b.ctype==2&&(b.tabs[M]=[y(p,m),y(p,m+2),y(p,m+4)]);else if(M=="gAMA")b.tabs[M]=g.readUint(p,m)/1e5;else if(M=="sRGB")b.tabs[M]=p[m];else if(M=="bKGD")b.ctype==0||b.ctype==4?b.tabs[M]=[y(p,m)]:b.ctype==2||b.ctype==6?b.tabs[M]=[y(p,m),y(p,m+2),y(p,m+4)]:b.ctype==3&&(b.tabs[M]=p[m]);else if(M=="IEND")break;m+=q,g.readUint(p,m),m+=4}var F;return k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,S.slice(0,k),F.rect.width,F.rect.height)),b.data=n(b,x,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(f){const p=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,p,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=p*m*4,w=new Uint8Array(y),b=new Uint8Array(y),x=new Uint8Array(y);for(let _=0;_<f.frames.length;_++){const k=f.frames[_],N=k.rect.x,O=k.rect.y,C=k.rect.width,I=k.rect.height,P=e(k.data,C,I,f);if(_!=0)for(var S=0;S<y;S++)x[S]=w[S];if(k.blend==0?h(P,C,I,w,p,m,N,O,0):k.blend==1&&h(P,C,I,w,p,m,N,O,1),g.push(w.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)h(b,C,I,w,p,m,N,O,0);else if(k.dispose==2)for(S=0;S<y;S++)w[S]=x[S]}}return g},_paeth:a,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=Vi,{_bin:e}=Vi,n=Vi._paeth;var r={table:function(){const C=new Uint32Array(256);for(let I=0;I<256;I++){let P=I;for(let A=0;A<8;A++)1&P?P=3988292384^P>>>1:P>>>=1;C[I]=P}return C}(),update(C,I,P,A){for(let D=0;D<A;D++)C=r.table[255&(C^I[P+D])]^C>>>8;return C},crc:(C,I,P)=>4294967295^r.update(4294967295,C,I,P)};function i(C,I,P,A){I[P]+=C[0]*A>>4,I[P+1]+=C[1]*A>>4,I[P+2]+=C[2]*A>>4,I[P+3]+=C[3]*A>>4}function s(C){return Math.max(0,Math.min(255,C))}function o(C,I){const P=C[0]-I[0],A=C[1]-I[1],D=C[2]-I[2],L=C[3]-I[3];return P*P+A*A+D*D+L*L}function a(C,I,P,A,D,L,F){F==null&&(F=1);const q=A.length,M=[];for(var B=0;B<q;B++){const X=A[B];M.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(B=0;B<q;B++){let X=4294967295;for(var Y=0,H=0;H<q;H++){var j=o(M[B],M[H]);H!=B&&j<X&&(X=j,Y=H)}}const U=new Uint32Array(D.buffer),V=new Int16Array(I*P*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<z.length;B++)z[B]=255*((z[B]+.5)/16-.5);for(let X=0;X<P;X++)for(let W=0;W<I;W++){var K;B=4*(X*I+W),F!=2?K=[s(C[B]+V[B]),s(C[B+1]+V[B+1]),s(C[B+2]+V[B+2]),s(C[B+3]+V[B+3])]:(j=z[4*(3&X)+(3&W)],K=[s(C[B]+j),s(C[B+1]+j),s(C[B+2]+j),s(C[B+3]+j)]),Y=0;let J=16777215;for(H=0;H<q;H++){const le=o(K,M[H]);le<J&&(J=le,Y=H)}const Z=M[Y],te=[K[0]-Z[0],K[1]-Z[1],K[2]-Z[2],K[3]-Z[3]];F==1&&(W!=I-1&&i(te,V,B+4,7),X!=P-1&&(W!=0&&i(te,V,B+4*I-4,3),i(te,V,B+4*I,5),W!=I-1&&i(te,V,B+4*I+4,1))),L[B>>2]=Y,U[B>>2]=A[Y]}}function l(C,I,P,A,D){D==null&&(D={});const{crc:L}=r,F=e.writeUint,q=e.writeUshort,M=e.writeASCII;let B=8;const Y=C.frames.length>1;let H,j=!1,U=33+(Y?20:0);if(D.sRGB!=null&&(U+=13),D.pHYs!=null&&(U+=21),D.iCCP!=null&&(H=pako.deflate(D.iCCP),U+=21+H.length+4),C.ctype==3){for(var V=C.plte.length,z=0;z<V;z++)C.plte[z]>>>24!=255&&(j=!0);U+=8+3*V+4+(j?8+1*V+4:0)}for(var K=0;K<C.frames.length;K++)Y&&(U+=38),U+=(Z=C.frames[K]).cimg.length+12,K!=0&&(U+=4);U+=12;const X=new Uint8Array(U),W=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)X[z]=W[z];if(F(X,B,13),B+=4,M(X,B,"IHDR"),B+=4,F(X,B,I),B+=4,F(X,B,P),B+=4,X[B]=C.depth,B++,X[B]=C.ctype,B++,X[B]=0,B++,X[B]=0,B++,X[B]=0,B++,F(X,B,L(X,B-17,17)),B+=4,D.sRGB!=null&&(F(X,B,1),B+=4,M(X,B,"sRGB"),B+=4,X[B]=D.sRGB,B++,F(X,B,L(X,B-5,5)),B+=4),D.iCCP!=null){const te=13+H.length;F(X,B,te),B+=4,M(X,B,"iCCP"),B+=4,M(X,B,"ICC profile"),B+=11,B+=2,X.set(H,B),B+=H.length,F(X,B,L(X,B-(te+4),te+4)),B+=4}if(D.pHYs!=null&&(F(X,B,9),B+=4,M(X,B,"pHYs"),B+=4,F(X,B,D.pHYs[0]),B+=4,F(X,B,D.pHYs[1]),B+=4,X[B]=D.pHYs[2],B++,F(X,B,L(X,B-13,13)),B+=4),Y&&(F(X,B,8),B+=4,M(X,B,"acTL"),B+=4,F(X,B,C.frames.length),B+=4,F(X,B,D.loop!=null?D.loop:0),B+=4,F(X,B,L(X,B-12,12)),B+=4),C.ctype==3){for(F(X,B,3*(V=C.plte.length)),B+=4,M(X,B,"PLTE"),B+=4,z=0;z<V;z++){const te=3*z,le=C.plte[z],pe=255&le,ge=le>>>8&255,Ce=le>>>16&255;X[B+te+0]=pe,X[B+te+1]=ge,X[B+te+2]=Ce}if(B+=3*V,F(X,B,L(X,B-3*V-4,3*V+4)),B+=4,j){for(F(X,B,V),B+=4,M(X,B,"tRNS"),B+=4,z=0;z<V;z++)X[B+z]=C.plte[z]>>>24&255;B+=V,F(X,B,L(X,B-V-4,V+4)),B+=4}}let J=0;for(K=0;K<C.frames.length;K++){var Z=C.frames[K];Y&&(F(X,B,26),B+=4,M(X,B,"fcTL"),B+=4,F(X,B,J++),B+=4,F(X,B,Z.rect.width),B+=4,F(X,B,Z.rect.height),B+=4,F(X,B,Z.rect.x),B+=4,F(X,B,Z.rect.y),B+=4,q(X,B,A[K]),B+=2,q(X,B,1e3),B+=2,X[B]=Z.dispose,B++,X[B]=Z.blend,B++,F(X,B,L(X,B-30,30)),B+=4);const te=Z.cimg;F(X,B,(V=te.length)+(K==0?0:4)),B+=4;const le=B;M(X,B,K==0?"IDAT":"fdAT"),B+=4,K!=0&&(F(X,B,J++),B+=4),X.set(te,B),B+=V,F(X,B,L(X,le,B-le)),B+=4}return F(X,B,0),B+=4,M(X,B,"IEND"),B+=4,F(X,B,L(X,B-4,4)),B+=4,X.buffer}function h(C,I,P){for(let A=0;A<C.frames.length;A++){const D=C.frames[A];D.rect.width;const L=D.rect.height,F=new Uint8Array(L*D.bpl+L);D.cimg=m(D.img,L,D.bpp,D.bpl,F,I,P)}}function c(C,I,P,A,D){const L=D[0],F=D[1],q=D[2],M=D[3],B=D[4],Y=D[5];let H=6,j=8,U=255;for(var V=0;V<C.length;V++){const nt=new Uint8Array(C[V]);for(var z=nt.length,K=0;K<z;K+=4)U&=nt[K+3]}const X=U!=255,W=function(Qe,ce,fe,we,xe,he){const $e=[];for(var Ie=0;Ie<Qe.length;Ie++){const ut=new Uint8Array(Qe[Ie]),qt=new Uint32Array(ut.buffer);var Ye;let Xn=0,Br=0,Cr=ce,oe=fe,ie=we?1:0;if(Ie!=0){const be=he||we||Ie==1||$e[Ie-2].dispose!=0?1:2;let ke=0,Te=1e9;for(let Oe=0;Oe<be;Oe++){var Gt=new Uint8Array(Qe[Ie-1-Oe]);const Ge=new Uint32Array(Qe[Ie-1-Oe]);let Be=ce,He=fe,rt=-1,St=-1;for(let Lt=0;Lt<fe;Lt++)for(let ln=0;ln<ce;ln++)qt[it=Lt*ce+ln]!=Ge[it]&&(ln<Be&&(Be=ln),ln>rt&&(rt=ln),Lt<He&&(He=Lt),Lt>St&&(St=Lt));rt==-1&&(Be=He=rt=St=0),xe&&((1&Be)==1&&Be--,(1&He)==1&&He--);const An=(rt-Be+1)*(St-He+1);An<Te&&(Te=An,ke=Oe,Xn=Be,Br=He,Cr=rt-Be+1,oe=St-He+1)}Gt=new Uint8Array(Qe[Ie-1-ke]),ke==1&&($e[Ie-1].dispose=2),Ye=new Uint8Array(Cr*oe*4),t(Gt,ce,fe,Ye,Cr,oe,-Xn,-Br,0),ie=t(ut,ce,fe,Ye,Cr,oe,-Xn,-Br,3)?1:0,ie==1?p(ut,ce,fe,Ye,{x:Xn,y:Br,width:Cr,height:oe}):t(ut,ce,fe,Ye,Cr,oe,-Xn,-Br,0)}else Ye=ut.slice(0);$e.push({rect:{x:Xn,y:Br,width:Cr,height:oe},img:Ye,blend:ie,dispose:0})}if(we)for(Ie=0;Ie<$e.length;Ie++){if(($r=$e[Ie]).blend==1)continue;const ut=$r.rect,qt=$e[Ie-1].rect,Xn=Math.min(ut.x,qt.x),Br=Math.min(ut.y,qt.y),Cr={x:Xn,y:Br,width:Math.max(ut.x+ut.width,qt.x+qt.width)-Xn,height:Math.max(ut.y+ut.height,qt.y+qt.height)-Br};$e[Ie-1].dispose=1,Ie-1!=0&&f(Qe,ce,fe,$e,Ie-1,Cr,xe),f(Qe,ce,fe,$e,Ie,Cr,xe)}let On=0;if(Qe.length!=1)for(var it=0;it<$e.length;it++){var $r;On+=($r=$e[it]).rect.width*$r.rect.height}return $e}(C,I,P,L,F,q),J={},Z=[],te=[];if(A!=0){const nt=[];for(K=0;K<W.length;K++)nt.push(W[K].img.buffer);const Qe=function(xe){let he=0;for(var $e=0;$e<xe.length;$e++)he+=xe[$e].byteLength;const Ie=new Uint8Array(he);let Ye=0;for($e=0;$e<xe.length;$e++){const Gt=new Uint8Array(xe[$e]),On=Gt.length;for(let it=0;it<On;it+=4){let $r=Gt[it],ut=Gt[it+1],qt=Gt[it+2];const Xn=Gt[it+3];Xn==0&&($r=ut=qt=0),Ie[Ye+it]=$r,Ie[Ye+it+1]=ut,Ie[Ye+it+2]=qt,Ie[Ye+it+3]=Xn}Ye+=On}return Ie.buffer}(nt),ce=y(Qe,A);for(K=0;K<ce.plte.length;K++)Z.push(ce.plte[K].est.rgba);let fe=0;for(K=0;K<W.length;K++){const we=(pe=W[K]).img.length;var le=new Uint8Array(ce.inds.buffer,fe>>2,we>>2);te.push(le);const xe=new Uint8Array(ce.abuf,fe,we);Y&&a(pe.img,pe.rect.width,pe.rect.height,Z,xe,le),pe.img.set(xe),fe+=we}}else for(V=0;V<W.length;V++){var pe=W[V];const nt=new Uint32Array(pe.img.buffer);var ge=pe.rect.width;for(z=nt.length,le=new Uint8Array(z),te.push(le),K=0;K<z;K++){const Qe=nt[K];if(K!=0&&Qe==nt[K-1])le[K]=le[K-1];else if(K>ge&&Qe==nt[K-ge])le[K]=le[K-ge];else{let ce=J[Qe];if(ce==null&&(J[Qe]=ce=Z.length,Z.push(Qe),Z.length>=300))break;le[K]=ce}}}const Ce=Z.length;for(Ce<=256&&B==0&&(j=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,j=Math.max(j,M)),V=0;V<W.length;V++){(pe=W[V]).rect.x,pe.rect.y,ge=pe.rect.width;const nt=pe.rect.height;let Qe=pe.img;new Uint32Array(Qe.buffer);let ce=4*ge,fe=4;if(Ce<=256&&B==0){ce=Math.ceil(j*ge/8);var Fe=new Uint8Array(ce*nt);const we=te[V];for(let xe=0;xe<nt;xe++){K=xe*ce;const he=xe*ge;if(j==8)for(var De=0;De<ge;De++)Fe[K+De]=we[he+De];else if(j==4)for(De=0;De<ge;De++)Fe[K+(De>>1)]|=we[he+De]<<4-4*(1&De);else if(j==2)for(De=0;De<ge;De++)Fe[K+(De>>2)]|=we[he+De]<<6-2*(3&De);else if(j==1)for(De=0;De<ge;De++)Fe[K+(De>>3)]|=we[he+De]<<7-1*(7&De)}Qe=Fe,H=3,fe=1}else if(X==0&&W.length==1){Fe=new Uint8Array(ge*nt*3);const we=ge*nt;for(K=0;K<we;K++){const xe=3*K,he=4*K;Fe[xe]=Qe[he],Fe[xe+1]=Qe[he+1],Fe[xe+2]=Qe[he+2]}Qe=Fe,H=2,fe=3,ce=3*ge}pe.img=Qe,pe.bpl=ce,pe.bpp=fe}return{ctype:H,depth:j,plte:Z,frames:W}}function f(C,I,P,A,D,L,F){const q=Uint8Array,M=Uint32Array,B=new q(C[D-1]),Y=new M(C[D-1]),H=D+1<C.length?new q(C[D+1]):null,j=new q(C[D]),U=new M(j.buffer);let V=I,z=P,K=-1,X=-1;for(let J=0;J<L.height;J++)for(let Z=0;Z<L.width;Z++){const te=L.x+Z,le=L.y+J,pe=le*I+te,ge=U[pe];ge==0||A[D-1].dispose==0&&Y[pe]==ge&&(H==null||H[4*pe+3]!=0)||(te<V&&(V=te),te>K&&(K=te),le<z&&(z=le),le>X&&(X=le))}K==-1&&(V=z=K=X=0),F&&((1&V)==1&&V--,(1&z)==1&&z--),L={x:V,y:z,width:K-V+1,height:X-z+1};const W=A[D];W.rect=L,W.blend=1,W.img=new Uint8Array(L.width*L.height*4),A[D-1].dispose==0?(t(B,I,P,W.img,L.width,L.height,-L.x,-L.y,0),p(j,I,P,W.img,L)):t(j,I,P,W.img,L.width,L.height,-L.x,-L.y,0)}function p(C,I,P,A,D){t(C,I,P,A,D.width,D.height,-D.x,-D.y,2)}function m(C,I,P,A,D,L,F){const q=[];let M,B=[0,1,2,3,4];L!=-1?B=[L]:(I*A>5e5||P==1)&&(B=[0]),F&&(M={level:0});const Y=Ase;for(var H=0;H<B.length;H++){for(let V=0;V<I;V++)g(D,C,V,A,P,B[H]);q.push(Y.deflate(D,M))}let j,U=1e9;for(H=0;H<q.length;H++)q[H].length<U&&(j=H,U=q[H].length);return q[j]}function g(C,I,P,A,D,L){const F=P*A;let q=F+P;if(C[q]=L,q++,L==0)if(A<500)for(var M=0;M<A;M++)C[q+M]=I[F+M];else C.set(new Uint8Array(I.buffer,F,A),q);else if(L==1){for(M=0;M<D;M++)C[q+M]=I[F+M];for(M=D;M<A;M++)C[q+M]=I[F+M]-I[F+M-D]+256&255}else if(P==0){for(M=0;M<D;M++)C[q+M]=I[F+M];if(L==2)for(M=D;M<A;M++)C[q+M]=I[F+M];if(L==3)for(M=D;M<A;M++)C[q+M]=I[F+M]-(I[F+M-D]>>1)+256&255;if(L==4)for(M=D;M<A;M++)C[q+M]=I[F+M]-n(I[F+M-D],0,0)+256&255}else{if(L==2)for(M=0;M<A;M++)C[q+M]=I[F+M]+256-I[F+M-A]&255;if(L==3){for(M=0;M<D;M++)C[q+M]=I[F+M]+256-(I[F+M-A]>>1)&255;for(M=D;M<A;M++)C[q+M]=I[F+M]+256-(I[F+M-A]+I[F+M-D]>>1)&255}if(L==4){for(M=0;M<D;M++)C[q+M]=I[F+M]+256-n(0,I[F+M-A],0)&255;for(M=D;M<A;M++)C[q+M]=I[F+M]+256-n(I[F+M-D],I[F+M-A],I[F+M-D-A])&255}}}function y(C,I){const P=new Uint8Array(C),A=P.slice(0),D=new Uint32Array(A.buffer),L=w(A,I),F=L[0],q=L[1],M=P.length,B=new Uint8Array(M>>2);let Y;if(P.length<2e7)for(var H=0;H<M;H+=4)Y=b(F,j=P[H]*(1/255),U=P[H+1]*(1/255),V=P[H+2]*(1/255),z=P[H+3]*(1/255)),B[H>>2]=Y.ind,D[H>>2]=Y.est.rgba;else for(H=0;H<M;H+=4){var j=P[H]*.00392156862745098,U=P[H+1]*(1/255),V=P[H+2]*(1/255),z=P[H+3]*(1/255);for(Y=F;Y.left;)Y=x(Y.est,j,U,V,z)<=0?Y.left:Y.right;B[H>>2]=Y.ind,D[H>>2]=Y.est.rgba}return{abuf:A.buffer,inds:B,plte:q}}function w(C,I,P){P==null&&(P=1e-4);const A=new Uint32Array(C.buffer),D={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=k(C,D.i0,D.i1),D.est=N(D.bst);const L=[D];for(;L.length<I;){let q=0,M=0;for(var F=0;F<L.length;F++)L[F].est.L>q&&(q=L[F].est.L,M=F);if(q<P)break;const B=L[M],Y=S(C,A,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=Y||B.i1<=Y){B.est.L=0;continue}const H={i0:B.i0,i1:Y,bst:null,est:null,tdst:0,left:null,right:null};H.bst=k(C,H.i0,H.i1),H.est=N(H.bst);const j={i0:Y,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:B.bst.N-H.bst.N},F=0;F<16;F++)j.bst.R[F]=B.bst.R[F]-H.bst.R[F];for(F=0;F<4;F++)j.bst.m[F]=B.bst.m[F]-H.bst.m[F];j.est=N(j.bst),B.left=H,B.right=j,L[M]=H,L.push(j)}for(L.sort((q,M)=>M.bst.N-q.bst.N),F=0;F<L.length;F++)L[F].ind=F;return[D,L]}function b(C,I,P,A,D){if(C.left==null)return C.tdst=function(H,j,U,V,z){const K=j-H[0],X=U-H[1],W=V-H[2],J=z-H[3];return K*K+X*X+W*W+J*J}(C.est.q,I,P,A,D),C;const L=x(C.est,I,P,A,D);let F=C.left,q=C.right;L>0&&(F=C.right,q=C.left);const M=b(F,I,P,A,D);if(M.tdst<=L*L)return M;const B=b(q,I,P,A,D);return B.tdst<M.tdst?B:M}function x(C,I,P,A,D){const{e:L}=C;return L[0]*I+L[1]*P+L[2]*A+L[3]*D-C.eMq}function S(C,I,P,A,D,L){for(A-=4;P<A;){for(;_(C,P,D)<=L;)P+=4;for(;_(C,A,D)>L;)A-=4;if(P>=A)break;const F=I[P>>2];I[P>>2]=I[A>>2],I[A>>2]=F,P+=4,A-=4}for(;_(C,P,D)>L;)P-=4;return P+4}function _(C,I,P){return C[I]*P[0]+C[I+1]*P[1]+C[I+2]*P[2]+C[I+3]*P[3]}function k(C,I,P){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],L=P-I>>2;for(let F=I;F<P;F+=4){const q=C[F]*.00392156862745098,M=C[F+1]*(1/255),B=C[F+2]*(1/255),Y=C[F+3]*(1/255);D[0]+=q,D[1]+=M,D[2]+=B,D[3]+=Y,A[0]+=q*q,A[1]+=q*M,A[2]+=q*B,A[3]+=q*Y,A[5]+=M*M,A[6]+=M*B,A[7]+=M*Y,A[10]+=B*B,A[11]+=B*Y,A[15]+=Y*Y}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:D,N:L}}function N(C){const{R:I}=C,{m:P}=C,{N:A}=C,D=P[0],L=P[1],F=P[2],q=P[3],M=A==0?0:1/A,B=[I[0]-D*D*M,I[1]-D*L*M,I[2]-D*F*M,I[3]-D*q*M,I[4]-L*D*M,I[5]-L*L*M,I[6]-L*F*M,I[7]-L*q*M,I[8]-F*D*M,I[9]-F*L*M,I[10]-F*F*M,I[11]-F*q*M,I[12]-q*D*M,I[13]-q*L*M,I[14]-q*F*M,I[15]-q*q*M],Y=B,H=O;let j=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,V=0;if(A!=0)for(let K=0;K<16&&(j=H.multVec(Y,j),V=Math.sqrt(H.dot(j,j)),j=H.sml(1/V,j),!(K!=0&&Math.abs(V-U)<1e-9));K++)U=V;const z=[D*M,L*M,F*M,q*M];return{Cov:B,q:z,e:j,L:U,eMq255:H.dot(H.sml(255,z),j),eMq:H.dot(j,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(C,I)=>[C[0]*I[0]+C[1]*I[1]+C[2]*I[2]+C[3]*I[3],C[4]*I[0]+C[5]*I[1]+C[6]*I[2]+C[7]*I[3],C[8]*I[0]+C[9]*I[1]+C[10]*I[2]+C[11]*I[3],C[12]*I[0]+C[13]*I[1]+C[14]*I[2]+C[15]*I[3]],dot:(C,I)=>C[0]*I[0]+C[1]*I[1]+C[2]*I[2]+C[3]*I[3],sml:(C,I)=>[C*I[0],C*I[1],C*I[2],C*I[3]]};Vi.encode=function(I,P,A,D,L,F,q){D==null&&(D=0),q==null&&(q=!1);const M=c(I,P,A,D,[!1,!1,!1,0,q,!1]);return h(M,-1),l(M,P,A,L,F)},Vi.encodeLL=function(I,P,A,D,L,F,q,M){const B={ctype:0+(D==1?0:2)+(L==0?0:4),depth:F,frames:[]},Y=(D+L)*F,H=Y*P;for(let j=0;j<I.length;j++)B.frames.push({rect:{x:0,y:0,width:P,height:A},img:new Uint8Array(I[j]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(H/8)});return h(B,0,!0),l(B,P,A,q,M)},Vi.encode.compress=c,Vi.encode.dither=a,Vi.quantize=y,Vi.quantize.getKDtree=w,Vi.quantize.getNearest=b})();const B3={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,h=122+l,c=new ArrayBuffer(h),f=new DataView(c),p=1<<20;let m,g,y,w,b=p,x=0,S=0,_=0;function k(C){f.setUint16(S,C,!0),S+=2}function N(C){f.setUint32(S,C,!0),S+=4}function O(C){S+=C}k(19778),N(h),O(4),N(122),N(108),N(n),N(-r>>>0),k(1),k(32),N(3),N(l),N(2835),N(2835),O(8),N(16711680),N(65280),N(255),N(4278190080),N(1466527264),function C(){for(;x<r&&b>0;){for(w=122+x*a,m=0;m<i;)b--,g=o[_++],y=g>>>24,f.setUint32(w+m,g<<8|y),m+=4;x++}_<o.length?(b=p,setTimeout(C,B3._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Gr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Dse={[Gr.CHROME]:16384,[Gr.FIREFOX]:11180,[Gr.DESKTOP_SAFARI]:16384,[Gr.IE]:8192,[Gr.IOS]:4096,[Gr.ETC]:8192};const PE=typeof window<"u",U3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Om=PE&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ise=(PE||U3)&&(Om&&Om.getOriginalSymbol(window,"File")||typeof File<"u"&&File),V3=(PE||U3)&&(Om&&Om.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function RE(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const h=new Blob([l],{type:s});h.name=e,h.lastModified=n,r(h)})}function q3(t){return new Promise((e,n)=>{const r=new V3;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function H3(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function $a(){if($a.cachedResult!==void 0)return $a.cachedResult;let t=Gr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Gr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Gr.IOS:/Safari/i.test(e)?t=Gr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Gr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Gr.IE),$a.cachedResult=t,$a.cachedResult}function z3(t,e){const n=$a(),r=Dse[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,h=(r+s)/2;l<h?(s=h,i=h*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function yv(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function W3(t,e){const{width:n,height:r}=z3(t.width,t.height),[i,s]=yv(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Rp(){return Rp.cachedResult!==void 0||(Rp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Rp.cachedResult}function Am(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=W3(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var h=function(c){try{throw c}catch(f){return r(f)}};try{let c;return q3(t).then(function(f){try{return c=f,H3(c).then(function(p){try{return i=p,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return h(m)}},h)}catch(p){return h(p)}},h)}catch(c){h(c)}}catch(c){return r(c)}};try{if(Rp()||[Gr.DESKTOP_SAFARI,Gr.MOBILE_SAFARI].includes($a()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Dm(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,p,m;return f=t.getContext("2d"),{data:p}=f.getImageData(0,0,t.width,t.height),m=Vi.encode([p.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var h=f;if(e==="image/bmp")return new Promise(p=>B3.toBlob(t,p)).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p=function(){return f.call(this)};var c=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,p.call(this)}catch(g){return o(g)}}).bind(this),o);{let m;return m=t.toDataURL(e,i),RE(m,n,r).then((function(g){try{return a=g,p.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function ss(t){t.width=0,t.height=0}function su(){return new Promise(function(t,e){let n,r,i,s;return su.cachedResult!==void 0?t(su.cachedResult):RE("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Am(n).then(function(a){try{return r=a[1],Dm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,ss(r),Am(i).then(function(h){try{return s=h[0],su.cachedResult=s.width===1&&s.height===2,t(su.cachedResult)}catch(c){return e(c)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function Y3(t){return new Promise((e,n)=>{const r=new V3;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const h=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,h);const c=s.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(s.getUint16(a+12*f,h)==274)return e(s.getUint16(a+12*f+8,h))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function G3(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=yv(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),ss(t)),o}function K3(t,e){const{width:n}=t,{height:r}=t,[i,s]=yv(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),ss(t),i}function ZD(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,h,c,f,p,m,g,y,w,b,x,S,_,k,N,O,C;function I(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function P(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,I(),Am(t,e).then((function(A){try{return[,l]=A,I(),h=G3(l,e),I(),new Promise(function(D,L){var F;if(!(F=e.exifOrientation))return Y3(t).then((function(M){try{return F=M,q.call(this)}catch(B){return L(B)}}).bind(this),L);function q(){return D(F)}return q.call(this)}).then((function(D){try{return c=D,I(),su().then((function(L){try{return f=L?h:K3(h,c),I(),p=e.initialQuality||1,m=e.fileType||t.type,Dm(f,m,t.name,t.lastModified,p).then((function(F){try{{let Y=function(){if(o--&&(S>a||S>b)){let j,U;return j=C?.95*O.width:O.width,U=C?.95*O.height:O.height,[k,N]=yv(j,U),N.drawImage(O,0,0,j,U),p*=m==="image/png"?.85:.95,Dm(k,m,t.name,t.lastModified,p).then(function(V){try{return _=V,ss(O),O=k,S=_.size,P(Math.min(99,Math.floor((x-S)/(x-a)*100))),Y}catch(z){return i(z)}},i)}return[1]},H=function(){return ss(O),ss(k),ss(h),ss(f),ss(l),P(100),r(_)};var M=Y,B=H;if(g=F,I(),y=g.size>a,w=g.size>t.size,!y&&!w)return P(100),r(g);var q;return b=t.size,x=g.size,S=x,O=f,C=!e.alwaysKeepResolution&&y,(q=(function(j){for(;j;){if(j.then)return void j.then(q,i);try{if(j.pop){if(j.length)return j.pop()?H.call(this):j;j=Y}else j=j.call(this)}catch(U){return i(U)}}}).bind(this))(Y)}}catch(Y){return i(Y)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)})}const Pse=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let _b;function Rse(t,e){return new Promise((n,r)=>{_b||(_b=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(Pse));const i=new Worker(_b);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function tr(t,e){return new Promise(function(n,r){let i,s,o,a,l,h;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof Ise))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||h)return ZD(t,i).then((function(m){try{return s=m,p.call(this)}catch(g){return r(g)}}).bind(this),r);var c=(function(){try{return p.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return ZD(t,i).then(function(g){try{return s=g,c()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Rse(t,i).then(function(m){try{return s=m,c()}catch{return f()}},f)}catch{f()}function p(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=$3(t,s))}catch{}return n(s)}})}tr.getDataUrlFromFile=q3,tr.getFilefromDataUrl=RE,tr.loadImage=H3,tr.drawImageInCanvas=W3,tr.drawFileInCanvas=Am,tr.canvasToFile=Dm,tr.getExifOrientation=Y3,tr.handleMaxWidthOrHeight=G3,tr.followExifOrientation=K3,tr.cleanupCanvasMemory=ss,tr.isAutoOrientationInBrowser=su,tr.approximateBelowMaximumCanvasSizeOfBrowser=z3,tr.copyExifWithoutOrientation=$3,tr.getBrowserName=$a,tr.version="2.0.2";function Mse({onImageChange:t,className:e=""}){const n=Q.useRef(null);return E.jsxs(E.Fragment,{children:[E.jsx("button",{type:"button",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},className:`absolute bottom-2 right-3 flex size-11 cursor-pointer items-center justify-center rounded-full border-0 bg-purple2 max-sm:size-8 ${e}`,children:E.jsx($re,{fontSize:13,className:"size-4 text-white"})}),E.jsx("input",{type:"file",style:{display:"none"},accept:"image/jpg,image/png,image/jpeg",name:"profile_img",onChange:t,ref:n})]})}const Q3=({isEditing:t,setNewUserImgUrl:e,imgUrl:n})=>{const[r,i]=Q.useState(!0),[s,o]=Q.useState(""),a=Ve(wE),l=async h=>{const{currentTarget:{files:c}}=h;if(!c||!c[0])return;const f=c[0],p=new FileReader,m={maxSizeMB:.1,useWebWorker:!0,maxWidthOrHeight:100,initialQuality:.8},g={maxSizeMB:1,useWebWorker:!0,maxWidthOrHeight:600,initialQuality:1},y=await tr(f,m),w=await tr(f,g);p.onload=b=>{const{target:{result:x}}=b;o(x)},e({compressed:y,original:f.size>1e5?w:f}),p.readAsDataURL(f),i(!1)};return E.jsxs("div",{className:"relative m-3 mx-auto flex w-fit items-center justify-center",children:[E.jsx("img",{src:r?n||a:s,alt:" ",onContextMenu:h=>h.preventDefault(),className:"size-52 min-h-52 min-w-52 rounded-full bg-white object-cover shadow-card max-sm:size-40"}),t&&E.jsx(Mse,{onImageChange:l})]})},Lse=()=>{var y;const[t,e]=Wt(E3),{state:n}=Fr(),{absenteeList:r}=Ve(v3(Vn)),{uid:i}=Ve(Nt),s=Ve(ma),o=s==null?void 0:s.find(w=>w.id===((n==null?void 0:n.userId)||i)),{id:a,favoriteBookField:l,userRecords:h,displayName:c,photoURL:f}=o||{},p=i===a,m=p?"":c,g=r==null?void 0:r.includes(n==null?void 0:n.userId);return Q.useEffect(()=>{(t==null?void 0:t.creatorId)!==a&&a&&lr(al,`2024-${a}`,e)},[a]),E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${m} `,backBtn:!p,backTo:"/bookshelf",children:p&&E.jsx(Ir,{to:"/setting",children:E.jsx(Vre,{fontSize:18})})}),o&&E.jsxs("main",{children:[E.jsxs(Mt,{children:[E.jsx(Q3,{isEditing:!1,imgUrl:(f==null?void 0:f.original)||f}),E.jsx("span",{className:"mx-auto text-lg font-medium",children:c}),E.jsx("div",{className:"mt-3 flex flex-col items-center gap-1",children:g?E.jsx(ar,{text:"  ",color:"red",shape:"square"}):E.jsx(ar,{text:"  ",color:"lightGreen",shape:"square"})})]}),E.jsx(Mt,{title:`${m}   `,children:E.jsx("ul",{className:"flex min-h-14 flex-wrap gap-2",children:l&&(l==null?void 0:l.length)!==0?l.map(({id:w,name:b})=>E.jsx(ar,{text:b,color:"lightBlue",shape:"rounded"},w)):E.jsx(nc,{size:100,className:"h-[30vh] w-full"})})}),(t==null?void 0:t.books)&&E.jsx(Mt,{title:`${m} 2024  `,children:E.jsx("ul",{className:"grid grid-cols-2 gap-4 max-sm:flex max-sm:flex-col",children:(y=t==null?void 0:t.books)==null?void 0:y.map(w=>E.jsx(_se,{challengeBook:w,creatorId:t.creatorId,docId:`2024-${t.creatorId}`},w.title))})}),[""," "," "].map(w=>E.jsxs(Mt,{title:`${m} ${w}`,children:[E.jsx(Ys,{text:"2022 6   ."}),E.jsx(wse,{userRecords:h,postType:w})]},w))]})]})};function eI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ME(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:eI(e[n])&&eI(t[n])&&Object.keys(e[n]).length>0&&ME(t[n],e[n])})}const X3={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ki(){const t=typeof document<"u"?document:{};return ME(t,X3),t}const jse={document:X3,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Tr(){const t=typeof window<"u"?window:{};return ME(t,jse),t}function Ro(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Fse(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Im(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Pm(){return Date.now()}function $se(t){const e=Tr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Bse(t,e){e===void 0&&(e="x");const n=Tr();let r,i,s;const o=$se(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function cp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Use(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function oi(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!Use(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(cp(t[a])&&cp(r[a])?r[a].__swiper__?t[a]=r[a]:oi(t[a],r[a]):!cp(t[a])&&cp(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:oi(t[a],r[a])):t[a]=r[a])}}}return t}function dp(t,e,n){t.style.setProperty(e,n)}function J3(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Tr(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const h=n>s?"next":"prev",c=(p,m)=>h==="next"&&p>=m||h==="prev"&&p<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let g=s+m*(n-s);if(c(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),c(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function vs(t,e){e===void 0&&(e="");const n=Tr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function Vse(t,e){var r,i;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((r=s.shadowRoot)==null?void 0:r.children)||[],...((i=s.assignedElements)==null?void 0:i.call(s))||[])}}function qse(t,e){const n=Tr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Vse(t,e))),r}function Rm(t){try{console.warn(t);return}catch{}}function Gd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Ro(e)),n}function Hse(t){const e=Tr(),n=ki(),r=t.getBoundingClientRect(),i=n.body,s=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:r.top+a-s,left:r.left+l-o}}function zse(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Wse(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function qo(t,e){return Tr().getComputedStyle(t,null).getPropertyValue(e)}function Mm(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Z3(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Xx(t,e,n){const r=Tr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Bn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Sb;function Yse(){const t=Tr(),e=ki();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function e5(){return Sb||(Sb=Yse()),Sb}let Eb;function Gse(t){let{userAgent:e}=t===void 0?{}:t;const n=e5(),r=Tr(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let g=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),h&&!m&&(o.os="android",o.android=!0),(c||p||f)&&(o.os="ios",o.ios=!0),o}function t5(t){return t===void 0&&(t={}),Eb||(Eb=Gse(t)),Eb}let kb;function Kse(){const t=Tr(),e=t5();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,h]=a.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));n=l<16||l===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function Qse(){return kb||(kb=Kse()),kb}function Xse(t){let{swiper:e,on:n,emit:r}=t;const i=Tr();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:p,height:m}=e;let g=p,y=m;f.forEach(w=>{let{contentBoxSize:b,contentRect:x,target:S}=w;S&&S!==e.el||(g=x?x.width:(b[0]||b).inlineSize,y=x?x.height:(b[0]||b).blockSize)}),(g!==p||y!==m)&&a()})}),s.observe(e.el))},h=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),n("destroy",()=>{h(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Jse(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Tr(),a=function(c,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const y=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=Z3(e.hostEl);for(let f=0;f<c.length;f+=1)a(c[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",h)}var Zse={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(h=>{h.apply(r,n)})}),t}};function eoe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(qo(r,"padding-left")||0,10)-parseInt(qo(r,"padding-right")||0,10),n=n-parseInt(qo(r,"padding-top")||0,10)-parseInt(qo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function toe(){const t=this;function e(P,A){return parseFloat(P.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,c=vs(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let p=[];const m=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,x=t.slidesGrid.length;let S=n.spaceBetween,_=-y,k=0,N=0;if(typeof s>"u")return;typeof S=="string"&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*s:typeof S=="string"&&(S=parseFloat(S)),t.virtualSize=-S,c.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(dp(r,"--swiper-centered-offset-before",""),dp(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let C;const I=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(P=>typeof n.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<f;P+=1){C=0;let A;if(c[P]&&(A=c[P]),O&&t.grid.updateSlide(P,A,c),!(c[P]&&qo(A,"display")==="none")){if(n.slidesPerView==="auto"){I&&(c[P].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(A),L=A.style.transform,F=A.style.webkitTransform;if(L&&(A.style.transform="none"),F&&(A.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?Xx(A,"width"):Xx(A,"height");else{const q=e(D,"width"),M=e(D,"padding-left"),B=e(D,"padding-right"),Y=e(D,"margin-left"),H=e(D,"margin-right"),j=D.getPropertyValue("box-sizing");if(j&&j==="border-box")C=q+Y+H;else{const{clientWidth:U,offsetWidth:V}=A;C=q+M+B+Y+H+(V-U)}}L&&(A.style.transform=L),F&&(A.style.webkitTransform=F),n.roundLengths&&(C=Math.floor(C))}else C=(s-(n.slidesPerView-1)*S)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),c[P]&&(c[P].style[t.getDirectionLabel("width")]=`${C}px`);c[P]&&(c[P].swiperSlideSize=C),g.push(C),n.centeredSlides?(_=_+C/2+k/2+S,k===0&&P!==0&&(_=_-s/2-S),P===0&&(_=_-s/2-S),Math.abs(_)<1/1e3&&(_=0),n.roundLengths&&(_=Math.floor(_)),N%n.slidesPerGroup===0&&p.push(_),m.push(_)):(n.roundLengths&&(_=Math.floor(_)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&p.push(_),m.push(_),_=_+C+S),t.virtualSize+=C+S,k=C,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+S}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+S}px`),O&&t.grid.updateWrapperSize(C,p),!n.centeredSlides){const P=[];for(let A=0;A<p.length;A+=1){let D=p[A];n.roundLengths&&(D=Math.floor(D)),p[A]<=t.virtualSize-s&&P.push(D)}p=P,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const P=g[0]+S;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=P*n.slidesPerGroup;for(let L=0;L<A;L+=1)p.push(p[p.length-1]+D)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+P),m.push(m[m.length-1]+P),t.virtualSize+=P}if(p.length===0&&(p=[0]),S!==0){const P=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");c.filter((A,D)=>!n.cssMode||n.loop?!0:D!==c.length-1).forEach(A=>{A.style[P]=`${S}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let P=0;g.forEach(D=>{P+=D+(S||0)}),P-=S;const A=P>s?P-s:0;p=p.map(D=>D<=0?-y:D>A?A+w:D)}if(n.centerInsufficientSlides){let P=0;g.forEach(D=>{P+=D+(S||0)}),P-=S;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(P+A<s){const D=(s-P-A)/2;p.forEach((L,F)=>{p[F]=L-D}),m.forEach((L,F)=>{m[F]=L+D})}}if(Object.assign(t,{slides:c,snapGrid:p,slidesGrid:m,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){dp(r,"--swiper-centered-offset-before",`${-p[0]}px`),dp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const P=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+P),t.slidesGrid=t.slidesGrid.map(D=>D+A)}if(f!==h&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const P=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(P);f<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(P):A&&t.el.classList.remove(P)}}function noe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function roe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const tI=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ioe(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const h=r[l];let c=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),m=-(o-c),g=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||g>1&&g<=e.size||m<=0&&g>=e.size;w&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l)),tI(h,w,n.slideVisibleClass),tI(h,y,n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-p:p}}function soe(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,h=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;s=c||i<=0,o=f||i>=1,c&&(i=0),f&&(i=1)}if(n.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[c],m=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?a=(y-p)/g:a=(y+g-m)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!h&&e.emit("reachEnd toEdge"),(l&&!s||h&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Tb=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ooe(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>vs(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,h,c;if(s)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),c=e.find(f=>f.column===i+1),h=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(c=Wse(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=e[0]),h=zse(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(f=>{Tb(f,f===l,n.slideActiveClass),Tb(f,f===c,n.slideNextClass),Tb(f,f===h,n.slidePrevClass)}),t.emitSlidesClasses()}const Mp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Cb=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Jx=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,h)=>o+r+h)),t.slides.forEach((l,h)=>{a.includes(l.column)&&Cb(t,h)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&Cb(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&Cb(t,o)};function aoe(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function loe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,h;const c=m=>{let g=m-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=aoe(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);h=m+Math.floor((l-m)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===s&&!e.params.loop){h!==a&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=c(l);else if(f){const m=e.slides.find(y=>y.column===l);let g=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(m),0)),p=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:h,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&Jx(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function uoe(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var coe={updateSize:eoe,updateSlides:toe,updateAutoHeight:noe,updateSlidesOffset:roe,updateSlidesProgress:ioe,updateProgress:soe,updateSlidesClasses:ooe,updateActiveIndex:loe,updateClickedSlide:uoe};function doe(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=Bse(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function foe(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const h=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${h}px)`);let c;const f=n.maxTranslate()-n.minTranslate();f===0?c=0:c=(t-n.minTranslate())/f,c!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function hoe(){return-this.snapGrid[0]}function poe(){return-this.snapGrid[this.snapGrid.length-1]}function moe(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),h=s.maxTranslate();let c;if(r&&t>l?c=l:r&&t<h?c=h:c=t,s.updateProgress(c),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return J3({swiper:s,targetPosition:-c,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var goe={getTranslate:doe,setTranslate:foe,minTranslate:hoe,maxTranslate:poe,translateTo:moe};function voe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function n5(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function yoe(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),n5({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function woe(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),n5({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var boe={setTransition:voe,transitionStart:yoe,transitionEnd:woe};function xoe(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:g}=s;if(!g&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let w=y+Math.floor((o-y)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let k=0;k<h.length;k+=1){const N=-Math.floor(b*100),O=Math.floor(h[k]*100),C=Math.floor(h[k+1]*100);typeof h[k+1]<"u"?N>=O&&N<C-(C-O)/2?o=k:N>=O&&N<C&&(o=k+1):N>=O&&(o=k)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(p?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(f||0)!==o))return!1;o!==(c||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let x;o>f?x="next":o<f?x="prev":x="reset";const S=s.virtual&&s.params.virtual.enabled;if(!(S&&i)&&(p&&-b===s.translate||!p&&b===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(b),x!=="reset"&&(s.transitionStart(n,x),s.transitionEnd(n,x)),!1;if(a.cssMode){const k=s.isHorizontal(),N=p?b:-b;if(e===0)S&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),S&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[k?"scrollLeft":"scrollTop"]=N})):m[k?"scrollLeft":"scrollTop"]=N,S&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return J3({swiper:s,targetPosition:N,side:k?"left":"top"}),!0;m.scrollTo({[k?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(b),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,x),e===0?s.transitionEnd(n,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function _oe(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const p=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&c%2===0&&(c=c+1));let f=l-a<c;if(h&&(f=f||a<Math.ceil(c/2)),r&&h&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const p=h?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(s){const p=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function Soe(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,h=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!h&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function Eoe(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:h}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const c=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(f),g=s.map(b=>p(b));let y=s[g.indexOf(m)-1];if(typeof y>"u"&&i.cssMode){let b;s.forEach((x,S)=>{m>=x&&(b=S)}),typeof b<"u"&&(y=s[b>0?b-1:b])}let w=0;if(typeof y<"u"&&(w=o.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function koe(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Toe(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const h=i.snapGrid[a],c=i.snapGrid[a+1];l-h>(c-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[a-1],c=i.snapGrid[a];l-h<=(c-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Coe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(vs(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Im(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(vs(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Im(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var Noe={slideTo:xoe,slideToLoop:_oe,slideNext:Soe,slidePrev:Eoe,slideReset:koe,slideToClosest:Toe,slideToClickedSlide:Coe};function Ooe(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{vs(r,`.${n.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,h=c=>{for(let f=0;f<c;f+=1){const p=e.isElement?Gd("swiper-slide",[n.slideBlankClass]):Gd("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const c=o-e.slides.length%o;h(c),e.recalcSlides(),e.updateSlides()}else Rm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const c=n.grid.rows-e.slides.length%n.grid.rows;h(c),e.recalcSlides(),e.updateSlides()}else Rm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Aoe(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:h,allowSlidePrev:c,allowSlideNext:f,slidesEl:p,params:m}=l,{centeredSlides:g}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=m.loopAdditionalSlides,l.loopedSlides=b;const x=l.grid&&m.grid&&m.grid.rows>1;h.length<y+b?Rm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&m.grid.fill==="row"&&Rm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],_=[];let k=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(h.find(L=>L.classList.contains(m.slideActiveClass))):k=s;const N=r==="next"||!r,O=r==="prev"||!r;let C=0,I=0;const P=x?Math.ceil(h.length/m.grid.rows):h.length,D=(x?h[s].column:s)+(g&&typeof i>"u"?-y/2+.5:0);if(D<b){C=Math.max(b-D,w);for(let L=0;L<b-D;L+=1){const F=L-Math.floor(L/P)*P;if(x){const q=P-F-1;for(let M=h.length-1;M>=0;M-=1)h[M].column===q&&S.push(M)}else S.push(P-F-1)}}else if(D+y>P-b){I=Math.max(D-(P-b*2),w);for(let L=0;L<I;L+=1){const F=L-Math.floor(L/P)*P;x?h.forEach((q,M)=>{q.column===F&&_.push(M)}):_.push(F)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),O&&S.forEach(L=>{h[L].swiperLoopMoveDOM=!0,p.prepend(h[L]),h[L].swiperLoopMoveDOM=!1}),N&&_.forEach(L=>{h[L].swiperLoopMoveDOM=!0,p.append(h[L]),h[L].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():x&&(S.length>0&&O||_.length>0&&N)&&l.slides.forEach((L,F)=>{l.grid.updateSlide(F,L,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(S.length>0&&O){if(typeof e>"u"){const L=l.slidesGrid[k],q=l.slidesGrid[k+C]-L;a?l.setTranslate(l.translate-q):(l.slideTo(k+Math.ceil(C),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else if(i){const L=x?S.length/m.grid.rows:S.length;l.slideTo(l.activeIndex+L,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(_.length>0&&N)if(typeof e>"u"){const L=l.slidesGrid[k],q=l.slidesGrid[k-I]-L;a?l.setTranslate(l.translate-q):(l.slideTo(k-I,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else{const L=x?_.length/m.grid.rows:_.length;l.slideTo(l.activeIndex-L,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const L={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(F=>{!F.destroyed&&F.params.loop&&F.loopFix({...L,slideTo:F.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...L,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Doe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Ioe={loopCreate:Ooe,loopFix:Aoe,loopDestroy:Doe};function Poe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Roe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Moe={setGrabCursor:Poe,unsetGrabCursor:Roe};function Loe(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ki()||r===Tr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function nI(t,e,n){const r=Tr(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function joe(t){const e=this,n=ki();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){nI(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!qse(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",c=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&c&&(l=c[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(p?Loe(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,g=o.currentY;if(!nI(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,i.touchStartTime=Pm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let y=!0;l.matches(i.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Foe(t){const e=ki(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].find(k=>k.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=h.pageX,f=h.pageY;if(l.preventedByNestedSwiper){s.startX=c,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=Pm());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=c,s.currentY=f;const p=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let k;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+m*m>=25&&(k=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?k>i.touchAngle:90-k>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?p:m,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=g,g*=i.touchRatio,o&&(g=-g,y=-y);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!i.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&b&&x&&Math.abs(g)>=1){Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let S=!0,_=i.resistanceRatio;if(i.touchReleaseOnEdges&&(_=0),g>0?(b&&x&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(S=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**_))):g<0&&(b&&x&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(S=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**_))),S&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function $oe(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(k=>k.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:h,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Pm(),p=f-n.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Pm(),Im(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const g=m>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let k=0;k<h.length;k+=k<o.slidesPerGroupSkip?1:o.slidesPerGroup){const N=k<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof h[k+N]<"u"?(g||m>=h[k]&&m<h[k+N])&&(y=k,w=h[k+N]-h[k]):(g||m>=h[k])&&(y=k,w=h[h.length-1]-h[h.length-2])}let b=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const S=(m-h[y])/w,_=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(S>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?b:y+_):e.slideTo(y)),e.swipeDirection==="prev"&&(S>1-o.longSwipesRatio?e.slideTo(y+_):x!==null&&S<0&&Math.abs(S)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+_):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+_),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function rI(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Boe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Uoe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Voe(t){const e=this;Mp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function qoe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const r5=(t,e)=>{const n=ki(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[h](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",rI,!0):t[h]("observerUpdate",rI,!0),i[l]("load",t.onLoad,{capture:!0}))};function Hoe(){const t=this,{params:e}=t;t.onTouchStart=joe.bind(t),t.onTouchMove=Foe.bind(t),t.onTouchEnd=$oe.bind(t),t.onDocumentTouchStart=qoe.bind(t),e.cssMode&&(t.onScroll=Uoe.bind(t)),t.onClick=Boe.bind(t),t.onLoad=Voe.bind(t),r5(t,"on")}function zoe(){r5(this,"off")}var Woe={attachEvents:Hoe,detachEvents:zoe};const iI=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Yoe(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=ki(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),h=t.getBreakpoint(s,a,l);if(!h||t.currentBreakpoint===h)return;const f=(h in s?s[h]:void 0)||t.originalParams,p=iI(t,r),m=iI(t,f),g=t.params.grabCursor,y=f.grabCursor,w=r.enabled;p&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof f[N]>"u")return;const O=r[N]&&r[N].enabled,C=f[N]&&f[N].enabled;O&&!C&&t[N].disable(),!O&&C&&t[N].enable()});const b=f.direction&&f.direction!==r.direction,x=r.loop&&(f.slidesPerView!==r.slidesPerView||b),S=r.loop;b&&n&&t.changeDirection(),oi(t.params,f);const _=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!_?t.disable():!w&&_&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",f),n&&(x?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!S&&k?(t.loopCreate(e),t.updateSlides()):S&&!k&&t.loopDestroy()),t.emit("breakpoint",f)}function Goe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Tr(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:h}=o[a];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=n.clientWidth&&(r=l)}return r||"max"}var Koe={setBreakpoint:Yoe,getBreakpoint:Goe};function Qoe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Xoe(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=Qoe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function Joe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Zoe={addClasses:Xoe,removeClasses:Joe};function eae(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var tae={checkOverflow:eae},Zx={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function nae(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){oi(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){oi(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),oi(e,r)}}const Nb={eventsEmitter:Zse,update:coe,translate:goe,transition:boe,slide:Noe,loop:Ioe,grabCursor:Moe,events:Woe,breakpoints:Koe,checkOverflow:tae,classes:Zoe},Ob={};let LE=class $s{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=oi({},n),e&&!n.el&&(n.el=e);const o=ki();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const c=[];return o.querySelectorAll(n.el).forEach(f=>{const p=oi({},n,{el:f});c.push(new $s(p))}),c}const a=this;a.__swiper__=!0,a.support=e5(),a.device=t5({userAgent:n.userAgent}),a.browser=Qse(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(c=>{c({params:n,swiper:a,extendParams:nae(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const h=oi({},Zx,l);return a.params=oi({},h,Ob,n),a.originalParams=oi({},a.params),a.passedParams=oi({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=vs(n,`.${r.slideClass}, swiper-slide`),s=Mm(i[0]);return Mm(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=vs(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:h}=r;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[h]?Math.ceil(s[h].swiperSlideSize):0,p;for(let m=h+1;m<s.length;m+=1)s[m]&&!p&&(f+=Math.ceil(s[m].swiperSlideSize),c+=1,f>l&&(p=!0));for(let m=h-1;m>=0;m-=1)s[m]&&!p&&(f+=s[m].swiperSlideSize,c+=1,f>l&&(p=!0))}else if(e==="current")for(let f=h+1;f<s.length;f+=1)(n?o[f]+a[f]-o[h]<l:o[f]-o[h]<l)&&(c+=1);else for(let f=h-1;f>=0;f-=1)o[h]-o[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Mp(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):vs(r,i())[0];return!o&&n.params.createElements&&(o=Gd("div",n.params.wrapperClass),r.append(o),vs(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||qo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||qo(r,"direction")==="rtl"),wrongRTL:qo(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Mp(n,s):s.addEventListener("load",o=>{Mp(n,o.target)})}),Jx(n),n.initialized=!0,Jx(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Fse(r)),r.destroyed=!0),null}static extendDefaults(e){oi(Ob,e)}static get extendedDefaults(){return Ob}static get defaults(){return Zx}static installModule(e){$s.prototype.__modules__||($s.prototype.__modules__=[]);const n=$s.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>$s.installModule(n)),$s):($s.installModule(e),$s)}};Object.keys(Nb).forEach(t=>{Object.keys(Nb[t]).forEach(e=>{LE.prototype[e]=Nb[t][e]})});LE.use([Xse,Jse]);const i5=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ll(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function gu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ll(e[r])&&ll(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:gu(t[r],e[r]):t[r]=e[r]})}function s5(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function o5(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function a5(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function l5(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function rae(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function iae(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const h=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:c,pagination:f,navigation:p,scrollbar:m,virtual:g,thumbs:y}=e;let w,b,x,S,_,k,N,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(b=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(c.scrollbar||c.scrollbar===!1)&&m&&!m.el&&(S=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(_=!0);const C=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),c[I].prevEl=void 0,c[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),c[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!r.loop?k=!0:!c.loop&&r.loop?N=!0:O=!0),h.forEach(I=>{if(ll(c[I])&&ll(r[I]))Object.assign(c[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&C(I);else{const P=r[I];(P===!0||P===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?P===!1&&C(I):c[I]=r[I]}}),h.includes("controller")&&!b&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&n&&g&&c.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&c.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&c.loop&&(O=!0),w&&y.init()&&y.update(!0),b&&(e.controller.control=c.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),S&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),_&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(k||O)&&e.loopDestroy(),(N||O)&&e.loopCreate(),e.update()}function sae(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};gu(n,Zx),n._emitClasses=!0,n.init=!1;const s={},o=i5.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ll(t[l])?(n[l]={},i[l]={},gu(n[l],t[l]),gu(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function oae(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;s5(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),o5(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),a5(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function aae(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),h=n.map(i);l.join("")!==h.join("")&&o("children"),r.length!==n.length&&o("children")}return i5.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ll(t[l])&&ll(e[l])){const h=Object.keys(t[l]),c=Object.keys(e[l]);h.length!==c.length?o(l):(h.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const lae=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lm.apply(this,arguments)}function u5(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function c5(t){const e=[];return se.Children.toArray(t).forEach(n=>{u5(n)?e.push(n):n.props&&n.props.children&&c5(n.props.children).forEach(r=>e.push(r))}),e}function uae(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return se.Children.toArray(t).forEach(r=>{if(u5(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=c5(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function cae(t,e,n){if(!n)return null;const r=c=>{let f=c;return c<0?f=e.length+c:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,h=[];for(let c=a;c<l;c+=1)c>=s&&c<=o&&h.push(e[r(c)]);return h.map((c,f)=>se.cloneElement(c,{swiper:t,style:i,key:c.props.virtualIndex||c.key||`slide-${f}`}))}function xd(t,e){return typeof window>"u"?Q.useEffect(t,e):Q.useLayoutEffect(t,e)}const sI=Q.createContext(null),dae=Q.createContext(null),d5=Q.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[h,c]=Q.useState("swiper"),[f,p]=Q.useState(null),[m,g]=Q.useState(!1),y=Q.useRef(!1),w=Q.useRef(null),b=Q.useRef(null),x=Q.useRef(null),S=Q.useRef(null),_=Q.useRef(null),k=Q.useRef(null),N=Q.useRef(null),O=Q.useRef(null),{params:C,passedParams:I,rest:P,events:A}=sae(a),{slides:D,slots:L}=uae(s),F=()=>{g(!m)};Object.assign(C.on,{_containerClasses(H,j){c(j)}});const q=()=>{Object.assign(C.on,A),l=!0;const H={...C};if(delete H.wrapperClass,b.current=new LE(H),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=D;const j={cache:!1,slides:D,renderExternal:p,renderExternalUpdate:!1};gu(b.current.params.virtual,j),gu(b.current.originalParams.virtual,j)}};w.current||q(),b.current&&b.current.on("_beforeBreakpoint",F);const M=()=>{l||!A||!b.current||Object.keys(A).forEach(H=>{b.current.on(H,A[H])})},B=()=>{!A||!b.current||Object.keys(A).forEach(H=>{b.current.off(H,A[H])})};Q.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",F)}),Q.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),xd(()=>{if(e&&(e.current=w.current),!!w.current)return b.current.destroyed&&q(),oae({el:w.current,nextEl:_.current,prevEl:k.current,paginationEl:N.current,scrollbarEl:O.current,swiper:b.current},C),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),xd(()=>{M();const H=aae(I,x.current,D,S.current,j=>j.key);return x.current=I,S.current=D,H.length&&b.current&&!b.current.destroyed&&iae({swiper:b.current,slides:D,passedParams:I,changedParams:H,nextEl:_.current,prevEl:k.current,scrollbarEl:O.current,paginationEl:N.current}),()=>{B()}}),xd(()=>{lae(b.current)},[f]);function Y(){return C.virtual?cae(b.current,D,f):D.map((H,j)=>se.cloneElement(H,{swiper:b.current,swiperSlideIndex:j}))}return se.createElement(r,Lm({ref:w,className:l5(`${h}${n?` ${n}`:""}`)},P),se.createElement(dae.Provider,{value:b.current},L["container-start"],se.createElement(i,{className:rae(C.wrapperClass)},L["wrapper-start"],Y(),L["wrapper-end"]),s5(C)&&se.createElement(se.Fragment,null,se.createElement("div",{ref:k,className:"swiper-button-prev"}),se.createElement("div",{ref:_,className:"swiper-button-next"})),a5(C)&&se.createElement("div",{ref:O,className:"swiper-scrollbar"}),o5(C)&&se.createElement("div",{ref:N,className:"swiper-pagination"}),L["container-end"]))});d5.displayName="Swiper";const rc=Q.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:h,...c}=t===void 0?{}:t;const f=Q.useRef(null),[p,m]=Q.useState("swiper-slide"),[g,y]=Q.useState(!1);function w(_,k,N){k===f.current&&m(N)}xd(()=>{if(typeof h<"u"&&(f.current.swiperSlideIndex=h),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),xd(()=>{s&&f.current&&!s.destroyed&&m(s.getSlideClasses(f.current))},[s]);const b={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(b):r,S=()=>{y(!0)};return se.createElement(n,Lm({ref:f,className:l5(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:S},c),o&&se.createElement(sI.Provider,{value:b},se.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&se.createElement(sI.Provider,{value:b},x(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"})))});rc.displayName="SwiperSlide";function fae(t){return ft({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M235.24,84.38l-28.06,23.68,8.56,35.39a13.34,13.34,0,0,1-5.09,13.91,13.54,13.54,0,0,1-15,.69L164,139l-31.65,19.06a13.51,13.51,0,0,1-15-.69,13.32,13.32,0,0,1-5.1-13.91l8.56-35.39L92.76,84.38a13.39,13.39,0,0,1,7.66-23.58l36.94-2.92,14.21-33.66a13.51,13.51,0,0,1,24.86,0l14.21,33.66,36.94,2.92a13.39,13.39,0,0,1,7.66,23.58ZM88.11,111.89a8,8,0,0,0-11.32,0L18.34,170.34a8,8,0,0,0,11.32,11.32l58.45-58.45A8,8,0,0,0,88.11,111.89Zm-.5,61.19L34.34,226.34a8,8,0,0,0,11.32,11.32l53.26-53.27a8,8,0,0,0-11.31-11.31Zm73-1-54.29,54.28a8,8,0,0,0,11.32,11.32l54.28-54.28a8,8,0,0,0-11.31-11.32Z"},child:[]}]})(t)}function hae({bookWithRank:t}){const{counts:e,readers:n,title:r,thumbnail:i,authors:s,publisher:o,impressionList:a}=t;return E.jsxs(Di,{title:"  ",children:[E.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[E.jsx(dn,{title:r,thumbnail:i,className:"float-left w-14"}),E.jsxs("div",{children:[E.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full font-medium",children:r}),E.jsx(Os,{authors:s,publisher:o}),E.jsxs("div",{className:"mt-2 flex gap-1",children:[E.jsx(ar,{text:` ${e} `,color:"yellow",shape:"rounded",className:"!px-3 !py-1 text-sm"}),E.jsx(ar,{text:`${n} `,color:"lightBlue",shape:"rounded",className:"!px-3 !py-1 text-sm"})]})]})]}),E.jsx("h3",{className:"font-bold text-blue1",children:"  "}),E.jsx("ul",{className:"mt-2",children:a==null?void 0:a.map(({text:l,id:h,creatorId:c,createdAt:f})=>E.jsxs("li",{className:"mb-3 gap-2 border-l-4 border-gray3 pl-3",children:[E.jsx("p",{children:l}),E.jsxs("div",{className:"mt-3 flex justify-between",children:[E.jsx(ti,{userId:c}),E.jsx("span",{className:"text-gray2",children:new Date(f).toLocaleDateString()})]})]},h))})]})}function pae({bookWithRank:t,rank:e}){const{title:n,thumbnail:r}=t,{showModal:i}=Yt(),s=()=>{i({element:E.jsx(hae,{bookWithRank:t})})};return E.jsx("li",{className:"flex items-center justify-center",children:E.jsxs("button",{type:"button",onClick:s,className:"relative",children:[E.jsx(dn,{title:n,thumbnail:r,className:"w-20"}),E.jsxs("div",{className:"absolute -bottom-4 -right-4",children:[E.jsx(fae,{className:"size-[80px] fill-yellow-400"}),E.jsx("span",{className:"absolute bottom-[35px] right-[24px] font-GiantsInline text-xl font-bold text-purple1",children:e})]})]})})}function mae({coll:t,onChallengeBookClick:e}){const[n,r]=Q.useState([]);return Q.useEffect(()=>{n.length===0&&Yn(t,r)},[]),E.jsx(E.Fragment,{children:n.map(({recommendedBook:i,text:s,creatorId:o})=>E.jsx("li",{children:E.jsx("button",{type:"button",className:"w-full",onClick:()=>e(i,s,o),children:E.jsx(dn,{title:i.title,thumbnail:i.thumbnail})})},i.title))})}function gae({selectedBook:t,readers:e,counts:n,reason:r,recommendedUser:i,yearMonthId:s}){const o=Q.useRef(),{uid:a,displayName:l}=Ve(Nt),[h,c]=Q.useState(null),{anonymous:f}=ei("register");Q.useEffect(()=>{lr(al,`${_t}-${a}`,c)},[a]);const{hideModal:p}=Yt(),{sendPushNotificationToAllUser:m}=Ji(),g=async S=>{S.preventDefault();try{if(o.current.value==="")return window.alert("  .");const _=h==null?void 0:h.creatorId,k=h[y],N=an(Jt,al,`${_t}-${a}`),O={text:o.current.value,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:a},C={[y]:{yearMonthId:"",book:{title:y,thumbnail:w,authors:b,publisher:x},counts:1,impressionList:[{id:1,...O}]}};_?await pn(N,k?{[y]:{...k,counts:k.counts+1,impressionList:[...k.impressionList,{id:k.impressionList.length+1,...O}]}}:C):await Cs(N,{creatorId:a,...C}),alert("  .  !"),m({title:`${l}  !`,body:`${l} ${y}  .    !`,subPath:"/challenge"})}catch{window.alert("    .  .")}finally{p()}},{title:y,thumbnail:w,authors:b,publisher:x}=t;return E.jsx(Di,{title:" ",children:E.jsxs("div",{className:"overflow-scroll scrollbar-hide",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx(dn,{title:y,thumbnail:w,className:"float-left mb-3 mr-3 w-16"}),E.jsxs("div",{children:[s&&E.jsx(ar,{color:"purple",shape:"rounded",className:"!py-2",text:`${dt(s,"yyyy M")} `}),E.jsx("h2",{className:"mb-0.5 mt-1.5 w-full font-medium",children:y}),E.jsx(Os,{authors:b,publisher:x}),i&&E.jsxs("div",{className:"mt-2 flex items-center",children:[E.jsx(ti,{userId:i,isLink:!1}),E.jsx("span",{className:"text-[15px]",children:" "})]}),r&&E.jsx("p",{className:"mt-2 border-l-4 border-gray3 pl-2 text-[15px]",children:r})]})]}),E.jsxs("div",{className:"mt-4 flex w-full flex-wrap gap-2",children:[E.jsx(ar,{text:` ${e}  `,color:"lightBlue",className:"!py-1.5"}),E.jsx(ar,{text:`  ${n} `,color:"yellow",className:"!py-1.5"})]}),E.jsxs("form",{onSubmit:g,className:"mt-5 flex flex-col gap-3",children:[E.jsx("textarea",{ref:o,placeholder:"    .",className:"min-h-32 resize-none rounded-xl border p-3 outline-none"}),E.jsx(ht,{name:"",color:"blue",type:"submit",className:"self-end",disabled:f}),f&&E.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})]})})}function vae({userRank:t}){const{creatorId:e,rank:n,rereadingBookList:r,totalRereadingCounts:i}=t;return E.jsxs("li",{className:`flex gap-x-3 rounded-xl bg-white p-4 shadow-card ${r.length!==0?"col-span-2":""}`,children:[E.jsxs("div",{className:`${r.length!==0?"w-[30%] min-w-28":"w-full"}`,children:[E.jsxs("div",{className:"mb-2 flex h-8 items-center justify-between gap-2",children:[i!==0&&E.jsxs("span",{className:"mr-1 font-RomanticGumi text-2xl font-bold text-blue2",children:[n,E.jsx("span",{className:"pb-2 text-lg font-bold text-gray1",children:""})]}),E.jsx(ti,{userId:e,className:"text-lg"})]}),[{key:"  ",value:`${i}`},{key:" ",value:`${r.length}`}].map(({key:s,value:o})=>E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"min-w-20 text-purple2",children:s}),E.jsx("span",{className:"font-semibold",children:o})]},s))]}),r.length!==0&&E.jsx("div",{className:"flex flex-1 gap-x-2 overflow-scroll px-2 py-1 scrollbar-hide",children:r.map(s=>E.jsx(dn,{thumbnail:s.thumbnail,title:s.title,className:"w-14 min-w-14"},s.title))})]})}function f5({selectedYear:t,handleChangeYear:e,buttonClassName:n=""}){return E.jsx("ul",{className:"flex flex-wrap gap-2",children:Ane.map(r=>E.jsx("li",{children:E.jsx(ht,{color:r===t?"blue":"gray",name:`${r}`,type:"button",handleClick:()=>e(r),className:n})},r))})}function jE(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=vs(t.el,`.${r[i]}`)[0];s||(s=Gd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function yae(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function o(g,y){const w=e.params.navigation;g=Bn(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const g=e.params.navigation;if(e.params.navigation=jE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=s(g.nextEl),w=s(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=Bn(y),w=Bn(w);const b=(x,S)=>{x&&x.addEventListener("click",S==="next"?h:l),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>b(x,"next")),w.forEach(x=>b(x,"prev"))}function f(){let{nextEl:g,prevEl:y}=e.navigation;g=Bn(g),y=Bn(y);const w=(b,x)=>{b.removeEventListener("click",x==="next"?h:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>w(b,"next")),y.forEach(b=>w(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(c(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=Bn(g),y=Bn(y),e.enabled){a();return}[...g,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:w,prevEl:b}=e.navigation;w=Bn(w),b=Bn(b);const x=y.target;let S=b.includes(x)||w.includes(x);if(e.isElement&&!S){const _=y.path||y.composedPath&&y.composedPath();_&&(S=_.find(k=>w.includes(k)||b.includes(k)))}if(e.params.navigation.hideOnClick&&!S){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let _;w.length?_=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(_=b[0].classList.contains(e.params.navigation.hiddenClass)),i(_===!0?"navigationShow":"navigationHide"),[...w,...b].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:c,destroy:f})}function tu(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function wae(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(x,S){const{bulletActiveClass:_}=e.params.pagination;x&&(x=x[`${S==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${_}-${S}`),x=x[`${S==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${_}-${S}-${S}`)))}function c(x,S,_){if(x=x%_,S=S%_,S===x+1)return"next";if(S===x-1)return"previous"}function f(x){const S=x.target.closest(tu(e.params.pagination.bulletClass));if(!S)return;x.preventDefault();const _=Mm(S)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===_)return;const k=c(e.realIndex,_,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(_)}else e.slideTo(_)}function p(){const x=e.rtl,S=e.params.pagination;if(l())return;let _=e.pagination.el;_=Bn(_);let k,N;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,k=e.activeIndex||0),S.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let P,A,D;if(S.dynamicBullets&&(o=Xx(I[0],e.isHorizontal()?"width":"height"),_.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${o*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&N!==void 0&&(a+=k-(N||0),a>S.dynamicMainBullets-1?a=S.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(k-a,0),A=P+(Math.min(I.length,S.dynamicMainBullets)-1),D=(A+P)/2),I.forEach(L=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${S.bulletActiveClass}${q}`)].map(q=>typeof q=="string"&&q.includes(" ")?q.split(" "):q).flat();L.classList.remove(...F)}),_.length>1)I.forEach(L=>{const F=Mm(L);F===k?L.classList.add(...S.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),S.dynamicBullets&&(F>=P&&F<=A&&L.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),F===P&&h(L,"prev"),F===A&&h(L,"next"))});else{const L=I[k];if(L&&L.classList.add(...S.bulletActiveClass.split(" ")),e.isElement&&I.forEach((F,q)=>{F.setAttribute("part",q===k?"bullet-active":"bullet")}),S.dynamicBullets){const F=I[P],q=I[A];for(let M=P;M<=A;M+=1)I[M]&&I[M].classList.add(...`${S.bulletActiveClass}-main`.split(" "));h(F,"prev"),h(q,"next")}}if(S.dynamicBullets){const L=Math.min(I.length,S.dynamicMainBullets+4),F=(o*L-o)/2-D*o,q=x?"right":"left";I.forEach(M=>{M.style[e.isHorizontal()?q:"top"]=`${F}px`})}}_.forEach((I,P)=>{if(S.type==="fraction"&&(I.querySelectorAll(tu(S.currentClass)).forEach(A=>{A.textContent=S.formatFractionCurrent(k+1)}),I.querySelectorAll(tu(S.totalClass)).forEach(A=>{A.textContent=S.formatFractionTotal(C)})),S.type==="progressbar"){let A;S.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const D=(k+1)/C;let L=1,F=1;A==="horizontal"?L=D:F=D,I.querySelectorAll(tu(S.progressbarFillClass)).forEach(q=>{q.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${F})`,q.style.transitionDuration=`${e.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(I.innerHTML=S.renderCustom(e,k+1,C),P===0&&i("paginationRender",I)):(P===0&&i("paginationRender",I),i("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](S.lockClass)})}function m(){const x=e.params.pagination;if(l())return;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let _=e.pagination.el;_=Bn(_);let k="";if(x.type==="bullets"){let N=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>S&&(N=S);for(let O=0;O<N;O+=1)x.renderBullet?k+=x.renderBullet.call(e,O,x.bulletClass):k+=`<${x.bulletElement} ${e.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?k=x.renderFraction.call(e,x.currentClass,x.totalClass):k=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?k=x.renderProgressbar.call(e,x.progressbarFillClass):k=`<span class="${x.progressbarFillClass}"></span>`),e.pagination.bullets=[],_.forEach(N=>{x.type!=="custom"&&(N.innerHTML=k||""),x.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(tu(x.bulletClass)))}),x.type!=="custom"&&i("paginationRender",_[0])}function g(){e.params.pagination=jE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const x=e.params.pagination;if(!x.el)return;let S;typeof x.el=="string"&&e.isElement&&(S=e.el.querySelector(x.el)),!S&&typeof x.el=="string"&&(S=[...document.querySelectorAll(x.el)]),S||(S=x.el),!(!S||S.length===0)&&(e.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...e.el.querySelectorAll(x.el)],S.length>1&&(S=S.find(_=>Z3(_,".swiper")[0]===e.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(e.pagination,{el:S}),S=Bn(S),S.forEach(_=>{x.type==="bullets"&&x.clickable&&_.classList.add(...(x.clickableClass||"").split(" ")),_.classList.add(x.modifierClass+x.type),_.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(_.classList.add(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&_.classList.add(x.progressbarOppositeClass),x.clickable&&_.addEventListener("click",f),e.enabled||_.classList.add(x.lockClass)}))}function y(){const x=e.params.pagination;if(l())return;let S=e.pagination.el;S&&(S=Bn(S),S.forEach(_=>{_.classList.remove(x.hiddenClass),_.classList.remove(x.modifierClass+x.type),_.classList.remove(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(_.classList.remove(...(x.clickableClass||"").split(" ")),_.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(_=>_.classList.remove(...x.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const x=e.params.pagination;let{el:S}=e.pagination;S=Bn(S),S.forEach(_=>{_.classList.remove(x.horizontalClass,x.verticalClass),_.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:x}=e.pagination;x&&(x=Bn(x),x.forEach(S=>S.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(x,S)=>{const _=S.target,k=Bn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!_.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&_===e.navigation.nextEl||e.navigation.prevEl&&_===e.navigation.prevEl))return;const N=k[0].classList.contains(e.params.pagination.hiddenClass);i(N===!0?"paginationShow":"paginationHide"),k.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Bn(x),x.forEach(S=>S.classList.remove(e.params.pagination.paginationDisabledClass))),g(),m(),p()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Bn(x),x.forEach(S=>S.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:b,render:m,update:p,init:g,destroy:y})}function bae(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=ki();let o=!1,a=null,l=null,h,c,f,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D,rtlTranslate:L}=e,{dragEl:F,el:q}=D,M=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress;let Y=c,H=(f-c)*B;L?(H=-H,H>0?(Y=c-H,H=0):-H+c>f&&(Y=f+H)):H<0?(Y=c+H,H=0):H+c>f&&(Y=f-H),e.isHorizontal()?(F.style.transform=`translate3d(${H}px, 0, 0)`,F.style.width=`${Y}px`):(F.style.transform=`translate3d(0px, ${H}px, 0)`,F.style.height=`${Y}px`),M.hide&&(clearTimeout(a),q.style.opacity=1,a=setTimeout(()=>{q.style.opacity=0,q.style.transitionDuration="400ms"},1e3))}function g(D){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${D}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D}=e,{dragEl:L,el:F}=D;L.style.width="",L.style.height="",f=e.isHorizontal()?F.offsetWidth:F.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=f*p:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?L.style.width=`${c}px`:L.style.height=`${c}px`,p>=1?F.style.display="none":F.style.display="",e.params.scrollbar.hide&&(F.style.opacity=0),e.params.watchOverflow&&e.enabled&&D.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(D){return e.isHorizontal()?D.clientX:D.clientY}function b(D){const{scrollbar:L,rtlTranslate:F}=e,{el:q}=L;let M;M=(w(D)-Hse(q)[e.isHorizontal()?"left":"top"]-(h!==null?h:c/2))/(f-c),M=Math.max(Math.min(M,1),0),F&&(M=1-M);const B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*M;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function x(D){const L=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:M,dragEl:B}=F;o=!0,h=D.target===B?w(D)-D.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,D.preventDefault(),D.stopPropagation(),q.style.transitionDuration="100ms",B.style.transitionDuration="100ms",b(D),clearTimeout(l),M.style.transitionDuration="0ms",L.hide&&(M.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",D)}function S(D){const{scrollbar:L,wrapperEl:F}=e,{el:q,dragEl:M}=L;o&&(D.preventDefault&&D.cancelable?D.preventDefault():D.returnValue=!1,b(D),F.style.transitionDuration="0ms",q.style.transitionDuration="0ms",M.style.transitionDuration="0ms",i("scrollbarDragMove",D))}function _(D){const L=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:M}=F;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",q.style.transitionDuration=""),L.hide&&(clearTimeout(l),l=Im(()=>{M.style.opacity=0,M.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",D),L.snapOnRelease&&e.slideToClosest())}function k(D){const{scrollbar:L,params:F}=e,q=L.el;if(!q)return;const M=q,B=F.passiveListeners?{passive:!1,capture:!1}:!1,Y=F.passiveListeners?{passive:!0,capture:!1}:!1;if(!M)return;const H=D==="on"?"addEventListener":"removeEventListener";M[H]("pointerdown",x,B),s[H]("pointermove",S,B),s[H]("pointerup",_,Y)}function N(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function O(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function C(){const{scrollbar:D,el:L}=e;e.params.scrollbar=jE(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const F=e.params.scrollbar;if(!F.el)return;let q;if(typeof F.el=="string"&&e.isElement&&(q=e.el.querySelector(F.el)),!q&&typeof F.el=="string"){if(q=s.querySelectorAll(F.el),!q.length)return}else q||(q=F.el);e.params.uniqueNavElements&&typeof F.el=="string"&&q.length>1&&L.querySelectorAll(F.el).length===1&&(q=L.querySelector(F.el)),q.length>0&&(q=q[0]),q.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass);let M;q&&(M=q.querySelector(tu(e.params.scrollbar.dragClass)),M||(M=Gd("div",e.params.scrollbar.dragClass),q.append(M))),Object.assign(D,{el:q,dragEl:M}),F.draggable&&N(),q&&q.classList[e.enabled?"remove":"add"](...Ro(e.params.scrollbar.lockClass))}function I(){const D=e.params.scrollbar,L=e.scrollbar.el;L&&L.classList.remove(...Ro(e.isHorizontal()?D.horizontalClass:D.verticalClass)),O()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const D=e.params.scrollbar;let{el:L}=e.scrollbar;L=Bn(L),L.forEach(F=>{F.classList.remove(D.horizontalClass,D.verticalClass),F.classList.add(e.isHorizontal()?D.horizontalClass:D.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?A():(C(),y(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{y()}),r("setTranslate",()=>{m()}),r("setTransition",(D,L)=>{g(L)}),r("enable disable",()=>{const{el:D}=e.scrollbar;D&&D.classList[e.enabled?"remove":"add"](...Ro(e.params.scrollbar.lockClass))}),r("destroy",()=>{I()});const P=()=>{e.el.classList.remove(...Ro(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Ro(e.params.scrollbar.scrollbarDisabledClass)),C(),y(),m()},A=()=>{e.el.classList.add(...Ro(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Ro(e.params.scrollbar.scrollbarDisabledClass)),I()};Object.assign(e.scrollbar,{enable:P,disable:A,updateSize:y,setTranslate:m,init:C,destroy:I})}function xae(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,h=s&&s.autoplay?s.autoplay.delay:3e3,c,f=new Date().getTime(),p,m,g,y,w,b,x;function S(Y){!e||e.destroyed||!e.wrapperEl||Y.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",S),!(x||Y.detail&&Y.detail.bySwiperTouchMove)&&P())}const _=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(h=c,p=!1);const Y=e.autoplay.paused?c:f+h-new Date().getTime();e.autoplay.timeLeft=Y,i("autoplayTimeLeft",Y,Y/l),a=requestAnimationFrame(()=>{_()})},k=()=>{let Y;return e.virtual&&e.params.virtual.enabled?Y=e.slides.find(j=>j.classList.contains("swiper-slide-active")):Y=e.slides[e.activeIndex],Y?parseInt(Y.getAttribute("data-swiper-autoplay"),10):void 0},N=Y=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),_();let H=typeof Y>"u"?e.params.autoplay.delay:Y;l=e.params.autoplay.delay,h=e.params.autoplay.delay;const j=k();!Number.isNaN(j)&&j>0&&typeof Y>"u"&&(H=j,l=j,h=j),c=H;const U=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,U,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,U,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return H>0?(clearTimeout(o),o=setTimeout(()=>{V()},H)):requestAnimationFrame(()=>{V()}),H},O=()=>{f=new Date().getTime(),e.autoplay.running=!0,N(),i("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},I=(Y,H)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),Y||(b=!0);const j=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",S):P()};if(e.autoplay.paused=!0,H){w&&(c=e.params.autoplay.delay),w=!1,j();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),j())},P=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,N(c)):N(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const Y=ki();Y.visibilityState==="hidden"&&(b=!0,I(!0)),Y.visibilityState==="visible"&&P()},D=Y=>{Y.pointerType==="mouse"&&(b=!0,x=!0,!(e.animating||e.autoplay.paused)&&I(!0))},L=Y=>{Y.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&P())},F=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",L))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",L))},M=()=>{ki().addEventListener("visibilitychange",A)},B=()=>{ki().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(F(),M(),O())}),r("destroy",()=>{q(),B(),e.autoplay.running&&C()}),r("_freeModeStaticRelease",()=>{(g||b)&&P()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():I(!0,!0)}),r("beforeTransitionStart",(Y,H,j)=>{e.destroyed||!e.autoplay.running||(j||!e.params.autoplay.disableOnInteraction?I(!0,!0):C())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}m=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,I(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,m=!1;return}g&&e.params.cssMode&&P(),g=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:O,stop:C,pause:I,resume:P})}function Af({children:t,options:e}){const n={modules:[xae,wae,yae,bae],spaceBetween:15,slidesPerView:"auto",speed:800,autoplay:{disableOnInteraction:!0},navigation:!0,pagination:{type:"bullets"},scrollbar:{draggable:!0},...e};return E.jsx(d5,{className:"sample-slider h-full",...n,children:t})}const _ae={breakpoints:{1024:{slidesPerView:8},800:{slidesPerView:3},320:{slidesPerView:3}},pagination:!0,navigation:!1,scrollbar:!1,spaceBetween:4};function Sae(){var g,y,w,b,x;const t=Ve(ma),[e,n]=Wt(Wre),[r,i]=Q.useState(!1),{showModal:s}=Yt(),{selectedYear:o,setSelectedYear:a,clubBookListByYear:l}=bE(),h=Q.useMemo(()=>{if(!e)return null;const S=e.map(_=>{const{creatorId:k,id:N,...O}=_;return Object.entries(O).map(([C,{book:I,counts:P,impressionList:A}])=>({...I,counts:P,id:N,impressionList:A.map(D=>({...D,creatorId:k}))}))}).flat();return Object.values(S.reduce((_,k)=>{const{title:N,counts:O}=k;return _[N]?(_[N].counts+=O,_[N].readers+=1):_[N]={...k,readers:1},_},{})).sort((_,k)=>{const N=k.readers-_.readers;return N!==0?N:k.counts-_.counts})},[e]),c=Q.useMemo(()=>{const _=t.map(({id:C})=>(e==null?void 0:e.find(({creatorId:P})=>P===C))||{id:C,creatorId:C}).map(C=>{const I=Object.entries(C).filter(([A])=>A!=="id"&&A!=="creatorId").map(([A,D])=>({...D.book,counts:D.counts})),P=I.reduce((A,D)=>A+D.counts,0);return{creatorId:C.creatorId,totalScore:P,rereadingBookList:I}}).sort((C,I)=>I.totalScore-C.totalScore);let k=0,N=-1,O=0;return _.map((C,I)=>{const{rereadingBookList:P,creatorId:A,totalScore:D}=C;N===D?O++:(k=I+1+O,O=0),N=D;const L=P.reduce((F,{counts:q})=>F+q,0);return{creatorId:A,rank:k,rereadingBookList:P,totalRereadingCounts:L}})},[e]);Q.useEffect(()=>{e||Yn(al,n)},[]);const p=(o===_t?RO.filter(S=>+S<=+Qr):RO).map(S=>Rr(`${o}-${S}`,o3)),m=(S,_,k)=>{const N=h.find(({title:O})=>O===S.title);s({element:E.jsx(gae,{selectedBook:N||S,readers:(N==null?void 0:N.readers)||0,counts:(N==null?void 0:N.counts)||0,reason:_,recommendedUser:k,yearMonthId:S.yearMonthId})})};return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${_t}  `,backBtn:!0}),E.jsxs("main",{children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("div",{className:"flex w-full flex-col justify-center gap-y-3 rounded-xl bg-white p-5 shadow-card",children:[E.jsxs("h4",{className:"font-GiantsInline text-lg font-medium leading-6 text-blue3",children:["2025: ",E.jsx("span",{className:"text-xl",children:"Challenge"})]}),E.jsx("span",{className:"font-GiantsInline font-bold text-blue1",children:"   "})]}),E.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-5 shadow-card",children:[E.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/dday.png",alt:"dday",className:"h-10 w-fit"}),E.jsxs("div",{className:"mt-1 flex flex-col items-center",children:[E.jsxs("span",{className:"font-RomanticGumi text-[32px] text-blue2",children:[+Pu(`${_t}-12-21`)>0?"+":"",Pu(`${_t}-12-21`)]}),E.jsx("span",{className:"font-RomanticGumi text-sm text-gray2",children:dt(`${_t}-12-21`,"yy.M.d")})]})]})]}),h&&(h==null?void 0:h.length)>0&&E.jsxs(Mt,{className:"!mb-10 !mt-16",title:"      ?",children:[E.jsxs("div",{className:"relative mt-5 h-64 border",children:[E.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/stage.png",alt:"",className:"absolute bottom-0 left-0 right-0 mx-auto w-full"}),E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center gap-[9%] border",children:[E.jsx(dn,{thumbnail:((g=h==null?void 0:h[1])==null?void 0:g.thumbnail)??"",title:(h==null?void 0:h[1].title)??" 2 !",className:"mt-[23%] w-[65px]"}),E.jsx(dn,{thumbnail:((y=h==null?void 0:h[0])==null?void 0:y.thumbnail)??"",title:((w=h==null?void 0:h[0])==null?void 0:w.title)??" 1 !",className:"w-[65px]"}),E.jsx(dn,{thumbnail:((b=h==null?void 0:h[2])==null?void 0:b.thumbnail)??"",title:((x=h==null?void 0:h[2])==null?void 0:x.title)??" 3 !",className:"mt-14 w-[65px]"})]})]}),E.jsx(Af,{options:_ae,children:h.map((S,_)=>E.jsx(rc,{children:E.jsx(pae,{bookWithRank:S,rank:_+1})},S.title))})]}),E.jsx(Mt,{className:"!mt-10",title:"   ",children:(c==null?void 0:c.length)!==0&&E.jsxs(E.Fragment,{children:[E.jsx("ul",{className:"grid grid-cols-4 gap-5 max-sm:grid-cols-2",children:c==null?void 0:c.slice(0,r?void 0:4).map(S=>E.jsx(vae,{userRank:S},S.creatorId))}),E.jsx("button",{type:"button",className:"mt-7 flex items-center self-center rounded-full bg-gray4 px-6 py-2 text-sm text-blue3",onClick:()=>i(S=>!S),children:r?"":""})]})}),E.jsxs(Mt,{title:" ",children:[E.jsx("p",{className:"mb-4 text-sm text-gray1",children:"        !      ?!"}),E.jsx(f5,{selectedYear:o,handleChangeYear:a,buttonClassName:"shadow-none"}),E.jsxs("ul",{className:"mt-5 grid grid-cols-10 gap-4 max-md:grid-cols-7 max-sm:grid-cols-4 max-sm:gap-4",children:[l.map(S=>E.jsx("li",{children:E.jsx("button",{type:"button",className:"w-full",onClick:()=>m(S),children:E.jsx(dn,{title:S.title,thumbnail:S.thumbnail})})},S.datetime)),p.map(S=>E.jsx(mae,{coll:S,onChallengeBookClick:m},S))]})]})]})]})}function oI({title:t,memberList:e}){return E.jsxs("div",{className:"rounded-card bg-white shadow-card",children:[E.jsxs("h3",{className:`rounded-t-card border-b-2 border-dotted px-4 pb-3 pt-4 text-[15px] font-medium ${t.includes("")?"border-green3 text-green1":"border-red-100 text-pointCoral"}`,children:[t.includes("")?"":""," ",t]}),e.length!==0?E.jsx("ul",{className:"mt-4 flex flex-wrap items-center gap-x-4 gap-y-3 px-4 pb-4",children:e.map(n=>E.jsx("li",{children:E.jsx(ti,{userId:n,isLink:!0})},n))}):E.jsx("span",{className:"mt-4 block px-4 pb-4 text-gray2",children:"  !"})]})}function h5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=h5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=h5(t))&&(r&&(r+=" "),r+=e);return r}function Re(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function zi(t,e){const n=Re(t);return isNaN(e)?Bt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Qi(t,e){const n=Re(t);if(isNaN(e))return Bt(t,NaN);if(!e)return n;const r=n.getDate(),i=Bt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function FE(t,e){const n=+Re(t);return Bt(t,n+e)}const p5=6048e5,Eae=864e5,wv=6e4,bv=36e5,kae=1e3;function Tae(t,e){return FE(t,e*bv)}let Cae={};function kl(){return Cae}function so(t,e){var a,l,h,c;const n=kl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Re(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lu(t){return so(t,{weekStartsOn:1})}function m5(t){const e=Re(t),n=e.getFullYear(),r=Bt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lu(r),s=Bt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Lu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ul(t){const e=Re(t);return e.setHours(0,0,0,0),e}function jm(t){const e=Re(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ju(t,e){const n=ul(t),r=ul(e),i=+n-jm(n),s=+r-jm(r);return Math.round((i-s)/Eae)}function Nae(t){const e=m5(t),n=Bt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lu(n)}function e_(t,e){return FE(t,e*wv)}function $E(t,e){const n=e*3;return Qi(t,n)}function Oae(t,e){return FE(t,e*1e3)}function Fm(t,e){const n=e*7;return zi(t,n)}function Gs(t,e){return Qi(t,e*12)}function aI(t){let e;return t.forEach(function(n){const r=Re(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function lI(t){let e;return t.forEach(n=>{const r=Re(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Aae(t,e){const n=ul(t),r=ul(e);return+n==+r}function Ks(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $m(t){if(!Ks(t)&&typeof t!="number")return!1;const e=Re(t);return!isNaN(Number(e))}function Bm(t,e){const n=Re(t),r=Re(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function za(t){const e=Re(t);return Math.trunc(e.getMonth()/3)+1}function Um(t,e){const n=Re(t),r=Re(e),i=n.getFullYear()-r.getFullYear(),s=za(n)-za(r);return i*4+s}function Vm(t,e){const n=Re(t),r=Re(e);return n.getFullYear()-r.getFullYear()}function Dae(t,e){const n=Re(t),r=Re(e),i=uI(n,r),s=Math.abs(ju(n,r));n.setDate(n.getDate()-i*s);const o=+(uI(n,r)===-i),a=i*(s-o);return a===0?0:a}function uI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function g5(t){const e=Re(t);return e.setHours(23,59,59,999),e}function v5(t){const e=Re(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function t_(t){const e=Re(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function y5(t){const e=Re(t);return e.setDate(1),e.setHours(0,0,0,0),e}function w5(t){const e=Re(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function xv(t){const e=Re(t),n=Bt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Iae(t,e){var a,l;const n=kl(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=Re(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const Pae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rae=(t,e,n)=>{let r;const i=Pae[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ab(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Mae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fae={date:Ab({formats:Mae,defaultWidth:"full"}),time:Ab({formats:Lae,defaultWidth:"full"}),dateTime:Ab({formats:jae,defaultWidth:"full"})},$ae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bae=(t,e,n,r)=>$ae[t];function Gc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Uae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yae=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Gae={ordinalNumber:Yae,era:Gc({values:Uae,defaultWidth:"wide"}),quarter:Gc({values:Vae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gc({values:qae,defaultWidth:"wide"}),day:Gc({values:Hae,defaultWidth:"wide"}),dayPeriod:Gc({values:zae,defaultWidth:"wide",formattingValues:Wae,defaultFormattingWidth:"wide"})};function Kc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Qae(a,f=>f.test(o)):Kae(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function Kae(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Qae(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Xae(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Jae=/^(\d+)(th|st|nd|rd)?/i,Zae=/\d+/i,ele={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tle={any:[/^b/i,/^(a|c)/i]},nle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rle={any:[/1/i,/2/i,/3/i,/4/i]},ile={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ole={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ale={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ule={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cle={ordinalNumber:Xae({matchPattern:Jae,parsePattern:Zae,valueCallback:t=>parseInt(t,10)}),era:Kc({matchPatterns:ele,defaultMatchWidth:"wide",parsePatterns:tle,defaultParseWidth:"any"}),quarter:Kc({matchPatterns:nle,defaultMatchWidth:"wide",parsePatterns:rle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kc({matchPatterns:ile,defaultMatchWidth:"wide",parsePatterns:sle,defaultParseWidth:"any"}),day:Kc({matchPatterns:ole,defaultMatchWidth:"wide",parsePatterns:ale,defaultParseWidth:"any"}),dayPeriod:Kc({matchPatterns:lle,defaultMatchWidth:"any",parsePatterns:ule,defaultParseWidth:"any"})},b5={code:"en-US",formatDistance:Rae,formatLong:Fae,formatRelative:Bae,localize:Gae,match:cle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dle(t){const e=Re(t);return ju(e,xv(e))+1}function BE(t){const e=Re(t),n=+Lu(e)-+Nae(e);return Math.round(n/p5)+1}function UE(t,e){var c,f,p,m;const n=Re(t),r=n.getFullYear(),i=kl(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Bt(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=so(o,e),l=Bt(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=so(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function fle(t,e){var a,l,h,c;const n=kl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=UE(t,e),s=Bt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),so(s,e)}function x5(t,e){const n=Re(t),r=+so(n,e)-+fle(n,e);return Math.round(r/p5)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Po={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Po.y(t,e)},Y:function(t,e,n,r){const i=UE(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return $t(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,e.length)},R:function(t,e){const n=m5(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Po.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=x5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=BE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Po.d(t,e)},D:function(t,e,n){const r=dle(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xl.noon:r===0?i=Xl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xl.evening:r>=12?i=Xl.afternoon:r>=4?i=Xl.morning:i=Xl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Po.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Po.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Po.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Po.s(t,e)},S:function(t,e){return Po.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return fI(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return fI(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dI(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dI(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $t(r,e.length)},T:function(t,e,n){const r=t.getTime();return $t(r,e.length)}};function dI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$t(s,2)}function fI(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+i+e+s}const hI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hle=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return hI(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",hI(r,e)).replace("{{time}}",_5(i,e))},qm={p:_5,P:hle},ple=/^D+$/,mle=/^Y+$/,gle=["D","DD","YY","YYYY"];function S5(t){return ple.test(t)}function E5(t){return mle.test(t)}function n_(t,e,n){const r=vle(t,e,n);if(console.warn(r),gle.includes(t))throw new RangeError(r)}function vle(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ble=/^'([^]*?)'?$/,xle=/''/g,_le=/[a-zA-Z]/;function pI(t,e,n){var c,f,p,m,g,y,w,b;const r=kl(),i=(n==null?void 0:n.locale)??r.locale??b5,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Re(t);if(!$m(a))throw new RangeError("Invalid time value");let l=e.match(wle).map(x=>{const S=x[0];if(S==="p"||S==="P"){const _=qm[S];return _(x,i.formatLong)}return x}).join("").match(yle).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const S=x[0];if(S==="'")return{isToken:!1,value:Sle(x)};if(cI[S])return{isToken:!0,value:x};if(S.match(_le))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const S=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&E5(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&S5(S))&&n_(S,e,String(t));const _=cI[S[0]];return _(a,S,i.localize,h)}).join("")}function Sle(t){const e=t.match(ble);return e?e[1].replace(xle,"'"):t}function mI(t){return Re(t).getDate()}function Ele(t){return Re(t).getDay()}function kle(t){const e=Re(t),n=e.getFullYear(),r=e.getMonth(),i=Bt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Tle(){return Object.assign({},kl())}function _s(t){return Re(t).getHours()}function Cle(t){let n=Re(t).getDay();return n===0&&(n=7),n}function Ss(t){return Re(t).getMinutes()}function Mr(t){return Re(t).getMonth()}function Qs(t){return Re(t).getSeconds()}function r_(t){return Re(t).getTime()}function vt(t){return Re(t).getFullYear()}function na(t,e){const n=Re(t),r=Re(e);return n.getTime()>r.getTime()}function cl(t,e){const n=Re(t),r=Re(e);return+n<+r}function Nle(t,e){const n=Re(t),r=Re(e);return+n==+r}function Ole(t,e){const n=e instanceof Date?Bt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const Ale=10;class k5{constructor(){Me(this,"subPriority",0)}validate(e,n){return!0}}class Dle extends k5{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Ile extends k5{constructor(){super(...arguments);Me(this,"priority",Ale);Me(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Bt(n,Ole(n,Date))}}class Pt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new Dle(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class Ple extends Pt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cn(t,e){return t&&{value:e(t.value),rest:t.rest}}function mn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function hs(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*bv+s*wv+o*kae),rest:e.slice(n[0].length)}}function T5(t){return mn(Tn.anyDigitsSigned,t)}function _n(t,e){switch(t){case 1:return mn(Tn.singleDigit,e);case 2:return mn(Tn.twoDigits,e);case 3:return mn(Tn.threeDigits,e);case 4:return mn(Tn.fourDigits,e);default:return mn(new RegExp("^\\d{1,"+t+"}"),e)}}function Hm(t,e){switch(t){case 1:return mn(Tn.singleDigitSigned,e);case 2:return mn(Tn.twoDigitsSigned,e);case 3:return mn(Tn.threeDigitsSigned,e);case 4:return mn(Tn.fourDigitsSigned,e);default:return mn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function VE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function C5(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function N5(t){return t%400===0||t%4===0&&t%100!==0}class Rle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Cn(_n(4,n),s);case"yo":return Cn(i.ordinalNumber(n,{unit:"year"}),s);default:return Cn(_n(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=C5(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Mle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Cn(_n(4,n),s);case"Yo":return Cn(i.ordinalNumber(n,{unit:"year"}),s);default:return Cn(_n(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=UE(n,s);if(i.isTwoDigitYear){const l=C5(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),so(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),so(n,s)}}class Lle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Hm(r==="R"?4:r.length,n)}set(n,r,i){const s=Bt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Lu(s)}}class jle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Hm(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Fle extends Pt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return _n(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class $le extends Pt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return _n(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Ble extends Pt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Cn(mn(Tn.month,n),s);case"MM":return Cn(_n(2,n),s);case"Mo":return Cn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class Ule extends Pt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Cn(mn(Tn.month,n),s);case"LL":return Cn(_n(2,n),s);case"Lo":return Cn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Vle(t,e,n){const r=Re(t),i=x5(r,n)-e;return r.setDate(r.getDate()-i*7),r}class qle extends Pt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return mn(Tn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return so(Vle(n,i,s),s)}}function Hle(t,e){const n=Re(t),r=BE(n)-e;return n.setDate(n.getDate()-r*7),n}class zle extends Pt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return mn(Tn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Lu(Hle(n,i))}}const Wle=[31,28,31,30,31,30,31,31,30,31,30,31],Yle=[31,29,31,30,31,30,31,31,30,31,30,31];class Gle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return mn(Tn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return _n(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=N5(i),o=n.getMonth();return s?r>=1&&r<=Yle[o]:r>=1&&r<=Wle[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Kle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return mn(Tn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return _n(r.length,n)}}validate(n,r){const i=n.getFullYear();return N5(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function qE(t,e,n){var f,p,m,g;const r=kl(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=Re(t),o=s.getDay(),l=(e%7+7)%7,h=7-i,c=e<0||e>6?e-(o+h)%7:(l+h)%7-(o+h)%7;return zi(s,c)}class Qle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=qE(n,i,s),n.setHours(0,0,0,0),n}}class Xle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Cn(_n(r.length,n),o);case"eo":return Cn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=qE(n,i,s),n.setHours(0,0,0,0),n}}class Jle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Cn(_n(r.length,n),o);case"co":return Cn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=qE(n,i,s),n.setHours(0,0,0,0),n}}function Zle(t,e){const n=Re(t),r=Cle(n),i=e-r;return zi(n,i)}class eue extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return _n(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Cn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Cn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Cn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Cn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Zle(n,i),n.setHours(0,0,0,0),n}}class tue extends Pt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(VE(i),0,0,0),n}}class nue extends Pt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(VE(i),0,0,0),n}}class rue extends Pt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(VE(i),0,0,0),n}}class iue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return mn(Tn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class sue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return mn(Tn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class oue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return mn(Tn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class aue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return mn(Tn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class lue extends Pt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return mn(Tn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class uue extends Pt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return mn(Tn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class cue extends Pt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Cn(_n(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class due extends Pt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return hs(fs.basicOptionalMinutes,n);case"XX":return hs(fs.basic,n);case"XXXX":return hs(fs.basicOptionalSeconds,n);case"XXXXX":return hs(fs.extendedOptionalSeconds,n);case"XXX":default:return hs(fs.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Bt(n,n.getTime()-jm(n)-i)}}class fue extends Pt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return hs(fs.basicOptionalMinutes,n);case"xx":return hs(fs.basic,n);case"xxxx":return hs(fs.basicOptionalSeconds,n);case"xxxxx":return hs(fs.extendedOptionalSeconds,n);case"xxx":default:return hs(fs.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Bt(n,n.getTime()-jm(n)-i)}}class hue extends Pt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(n){return T5(n)}set(n,r,i){return[Bt(n,i*1e3),{timestampIsSet:!0}]}}class pue extends Pt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(n){return T5(n)}set(n,r,i){return[Bt(n,i),{timestampIsSet:!0}]}}const mue={G:new Ple,y:new Rle,Y:new Mle,R:new Lle,u:new jle,Q:new Fle,q:new $le,M:new Ble,L:new Ule,w:new qle,I:new zle,d:new Gle,D:new Kle,E:new Qle,e:new Xle,c:new Jle,i:new eue,a:new tue,b:new nue,B:new rue,h:new iue,H:new sue,K:new oue,k:new aue,m:new lue,s:new uue,S:new cue,X:new due,x:new fue,t:new hue,T:new pue},gue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yue=/^'([^]*?)'?$/,wue=/''/g,bue=/\S/,xue=/[a-zA-Z]/;function Db(t,e,n,r){var y,w,b,x,S,_,k,N;const i=Tle(),s=(r==null?void 0:r.locale)??i.locale??b5,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((N=(k=i.locale)==null?void 0:k.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?Re(n):Bt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},h=[new Ile],c=e.match(vue).map(O=>{const C=O[0];if(C in qm){const I=qm[C];return I(O,s.formatLong)}return O}).join("").match(gue),f=[];for(let O of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&E5(O)&&n_(O,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&S5(O)&&n_(O,e,t);const C=O[0],I=mue[C];if(I){const{incompatibleTokens:P}=I;if(Array.isArray(P)){const D=f.find(L=>P.includes(L.token)||L.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${O}\` at the same time`)}else if(I.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);f.push({token:C,fullToken:O});const A=I.run(t,O,s.match,l);if(!A)return Bt(n,NaN);h.push(A.setter),t=A.rest}else{if(C.match(xue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(O==="''"?O="'":C==="'"&&(O=_ue(O)),t.indexOf(O)===0)t=t.slice(O.length);else return Bt(n,NaN)}}if(t.length>0&&bue.test(t))return Bt(n,NaN);const p=h.map(O=>O.priority).sort((O,C)=>C-O).filter((O,C,I)=>I.indexOf(O)===C).map(O=>h.filter(C=>C.priority===O).sort((C,I)=>I.subPriority-C.subPriority)).map(O=>O[0]);let m=Re(n);if(isNaN(m.getTime()))return Bt(n,NaN);const g={};for(const O of p){if(!O.validate(m,l))return Bt(n,NaN);const C=O.set(m,g,l);Array.isArray(C)?(m=C[0],Object.assign(g,C[1])):m=C}return Bt(n,m)}function _ue(t){return t.match(yue)[1].replace(wue,"'")}function Sue(t,e){const n=Re(t),r=Re(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Eue(t,e){const n=t_(t),r=t_(e);return+n==+r}function kue(t,e){const n=Re(t),r=Re(e);return n.getFullYear()===r.getFullYear()}function Kd(t,e){const n=+Re(t),[r,i]=[+Re(e.start),+Re(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function Tue(t,e){return zi(t,-1)}function Cue(t,e){const r=Due(t);let i;if(r.date){const l=Iue(r.date,2);i=Pue(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=Rue(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=Mue(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),h=new Date(0);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return new Date(s+o+a)}const fp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Nue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Oue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Aue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Due(t){const e={},n=t.split(fp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],fp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(fp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=fp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Iue(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Pue(t,e){if(e===null)return new Date(NaN);const n=t.match(Nue);if(!n)return new Date(NaN);const r=!!n[4],i=Qc(n[1]),s=Qc(n[2])-1,o=Qc(n[3]),a=Qc(n[4]),l=Qc(n[5])-1;if(r)return Bue(e,a,l)?Lue(e,a,l):new Date(NaN);{const h=new Date(0);return!Fue(e,s,o)||!$ue(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Qc(t){return t?parseInt(t):1}function Rue(t){const e=t.match(Oue);if(!e)return NaN;const n=Ib(e[1]),r=Ib(e[2]),i=Ib(e[3]);return Uue(n,r,i)?n*bv+r*wv+i*1e3:NaN}function Ib(t){return t&&parseFloat(t.replace(",","."))||0}function Mue(t){if(t==="Z")return 0;const e=t.match(Aue);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Vue(r,i)?n*(r*bv+i*wv):NaN}function Lue(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const jue=[31,null,31,30,31,30,31,31,30,31,30,31];function O5(t){return t%400===0||t%4===0&&t%100!==0}function Fue(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jue[e]||(O5(t)?29:28))}function $ue(t,e){return e>=1&&e<=(O5(t)?366:365)}function Bue(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Uue(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Vue(t,e){return e>=0&&e<=59}function ai(t,e){const n=Re(t),r=n.getFullYear(),i=n.getDate(),s=Bt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=kle(s);return n.setMonth(e,Math.min(i,o)),n}function que(t,e){let n=Re(t);return isNaN(+n)?Bt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ai(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Lp(t,e){const n=Re(t);return n.setHours(e),n}function jp(t,e){const n=Re(t);return n.setMinutes(e),n}function nu(t,e){const n=Re(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return ai(n,n.getMonth()+i*3)}function Fp(t,e){const n=Re(t);return n.setSeconds(e),n}function is(t,e){const n=Re(t);return isNaN(+n)?Bt(t,NaN):(n.setFullYear(e),n)}function Wa(t,e){return Qi(t,-e)}function A5(t,e){return $E(t,-1)}function gI(t,e){return Fm(t,-1)}function Fu(t,e){return Gs(t,-e)}function _v(){return typeof window<"u"}function ra(t){return D5(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lo(t){var e;return(e=(D5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function D5(t){return _v()?t instanceof Node||t instanceof ci(t).Node:!1}function Xr(t){return _v()?t instanceof Element||t instanceof ci(t).Element:!1}function Ns(t){return _v()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function vI(t){return!_v()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function Df(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Hue(t){return["table","td","th"].includes(ra(t))}function zue(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function HE(t){const e=zE(),n=Xr(t)?pi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function I5(t){let e=$u(t);for(;Ns(e)&&!Sv(e);){if(HE(e))return e;if(zue(e))return null;e=$u(e)}return null}function zE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sv(t){return["html","body","#document"].includes(ra(t))}function pi(t){return ci(t).getComputedStyle(t)}function Ev(t){return Xr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $u(t){if(ra(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vI(t)&&t.host||lo(t);return vI(e)?e.host:e}function P5(t){const e=$u(t);return Sv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ns(e)&&Df(e)?e:P5(e)}function Qd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=P5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ci(i);if(s){const a=Wue(o);return e.concat(o,o.visualViewport||[],Df(i)?i:[],a&&n?Qd(a):[])}return e.concat(i,Qd(i,[],n))}function Wue(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Bu=Math.min,Ya=Math.max,zm=Math.round,hp=Math.floor,ia=t=>({x:t,y:t}),Yue={left:"right",right:"left",bottom:"top",top:"bottom"},Gue={start:"end",end:"start"};function Kue(t,e,n){return Ya(t,Bu(e,n))}function kv(t,e){return typeof t=="function"?t(e):t}function Uu(t){return t.split("-")[0]}function If(t){return t.split("-")[1]}function Que(t){return t==="x"?"y":"x"}function WE(t){return t==="y"?"height":"width"}function YE(t){return["top","bottom"].includes(Uu(t))?"y":"x"}function GE(t){return Que(YE(t))}function Xue(t,e,n){n===void 0&&(n=!1);const r=If(t),i=GE(t),s=WE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Wm(o)),[o,Wm(o)]}function Jue(t){const e=Wm(t);return[i_(t),e,i_(e)]}function i_(t){return t.replace(/start|end/g,e=>Gue[e])}function Zue(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ece(t,e,n,r){const i=If(t);let s=Zue(Uu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(i_)))),s}function Wm(t){return t.replace(/left|right|bottom|top/g,e=>Yue[e])}function tce(t){return{top:0,right:0,bottom:0,left:0,...t}}function R5(t){return typeof t!="number"?tce(t):{top:t,right:t,bottom:t,left:t}}function Ym(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function yI(t,e,n){let{reference:r,floating:i}=t;const s=YE(e),o=GE(e),a=WE(o),l=Uu(e),h=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-i.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(If(e)){case"start":m[o]-=p*(n&&h?-1:1);break;case"end":m[o]+=p*(n&&h?-1:1);break}return m}const nce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=yI(h,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x,y:S,data:_,reset:k}=await b({x:c,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:h,platform:o,elements:{reference:t,floating:e}});c=x??c,f=S??f,m={...m,[w]:{...m[w],..._}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(h=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:c,y:f}=yI(h,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:i,middlewareData:m}};async function rce(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=kv(e,t),g=R5(m),w=a[p?f==="floating"?"reference":"floating":f],b=Ym(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),x=f==="floating"?{...o.floating,x:r,y:i}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},k=Ym(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:S,strategy:l}):x);return{top:(b.top-k.top+g.top)/_.y,bottom:(k.bottom-b.bottom+g.bottom)/_.y,left:(b.left-k.left+g.left)/_.x,right:(k.right-b.right+g.right)/_.x}}const ice=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:h,padding:c=0}=kv(t,e)||{};if(h==null)return{};const f=R5(c),p={x:n,y:r},m=GE(i),g=WE(m),y=await o.getDimensions(h),w=m==="y",b=w?"top":"left",x=w?"bottom":"right",S=w?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[m]-p[m]-s.floating[g],k=p[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let O=N?N[S]:0;(!O||!await(o.isElement==null?void 0:o.isElement(N)))&&(O=a.floating[S]||s.floating[g]);const C=_/2-k/2,I=O/2-y[g]/2-1,P=Bu(f[b],I),A=Bu(f[x],I),D=P,L=O-y[g]-A,F=O/2-y[g]/2+C,q=Kue(D,F,L),M=!l.arrow&&If(i)!=null&&F!==q&&s.reference[g]/2-(F<D?P:A)-y[g]/2<0,B=M?F<D?F-D:F-L:0;return{[m]:p[m]+B,data:{[m]:q,centerOffset:F-q-B,...M&&{alignmentOffset:B}},reset:M}}}),sce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=kv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Uu(i),x=Uu(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(h.floating)),_=p||(x||!y?[Wm(a)]:Jue(a));!p&&g!=="none"&&_.push(...ece(a,y,g,S));const k=[a,..._],N=await rce(e,w),O=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&O.push(N[b]),f){const D=Xue(i,o,S);O.push(N[D[0]],N[D[1]])}if(C=[...C,{placement:i,overflows:O}],!O.every(D=>D<=0)){var I,P;const D=(((I=s.flip)==null?void 0:I.index)||0)+1,L=k[D];if(L)return{data:{index:D,overflows:C},reset:{placement:L}};let F=(P=C.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(m){case"bestFit":{var A;const q=(A=C.map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:A[0];q&&(F=q);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function oce(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Uu(n),a=If(n),l=YE(n)==="y",h=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=kv(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*c,y:p*h}:{x:p*h,y:m*c}}const ace=function(t){return{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await oce(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function M5(t){const e=pi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ns(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=zm(n)!==s||zm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function KE(t){return Xr(t)?t:t.contextElement}function vu(t){const e=KE(t);if(!Ns(e))return ia(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=M5(e);let o=(s?zm(n.width):n.width)/r,a=(s?zm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const lce=ia(0);function L5(t){const e=ci(t);return!zE()||!e.visualViewport?lce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ci(t)?!1:e}function dl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=KE(t);let o=ia(1);e&&(r?Xr(r)&&(o=vu(r)):o=vu(t));const a=uce(s,n,r)?L5(s):ia(0);let l=(i.left+a.x)/o.x,h=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const p=ci(s),m=r&&Xr(r)?ci(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=vu(g),w=g.getBoundingClientRect(),b=pi(g),x=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,S=w.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,h*=y.y,c*=y.x,f*=y.y,l+=x,h+=S,g=ci(g).frameElement}}return Ym({width:c,height:f,x:l,y:h})}const cce=[":popover-open",":modal"];function j5(t){let e=!1,n=0,r=0;function i(s){try{e=e||t.matches(s)}catch{}}if(cce.forEach(s=>{i(s)}),e){const s=I5(t);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[e,n,r]}function dce(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=lo(r),[o]=e?j5(e.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=ia(1);const h=ia(0),c=Ns(r);if((c||!c&&i!=="fixed")&&((ra(r)!=="body"||Df(s))&&(a=Ev(r)),Ns(r))){const f=dl(r);l=vu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+h.x,y:n.y*l.y-a.scrollTop*l.y+h.y}}function fce(t){return Array.from(t.getClientRects())}function F5(t){return dl(lo(t)).left+Ev(t).scrollLeft}function hce(t){const e=lo(t),n=Ev(t),r=t.ownerDocument.body,i=Ya(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ya(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+F5(t);const a=-n.scrollTop;return pi(r).direction==="rtl"&&(o+=Ya(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function pce(t,e){const n=ci(t),r=lo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const h=zE();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function mce(t,e){const n=dl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ns(t)?vu(t):ia(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,h=r*s.y;return{width:o,height:a,x:l,y:h}}function wI(t,e,n){let r;if(e==="viewport")r=pce(t,n);else if(e==="document")r=hce(lo(t));else if(Xr(e))r=mce(e,n);else{const i=L5(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ym(r)}function $5(t,e){const n=$u(t);return n===e||!Xr(n)||Sv(n)?!1:pi(n).position==="fixed"||$5(n,e)}function gce(t,e){const n=e.get(t);if(n)return n;let r=Qd(t,[],!1).filter(a=>Xr(a)&&ra(a)!=="body"),i=null;const s=pi(t).position==="fixed";let o=s?$u(t):t;for(;Xr(o)&&!Sv(o);){const a=pi(o),l=HE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Df(o)&&!l&&$5(t,o))?r=r.filter(c=>c!==o):i=a,o=$u(o)}return e.set(t,r),r}function vce(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?gce(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((h,c)=>{const f=wI(e,c,i);return h.top=Ya(f.top,h.top),h.right=Bu(f.right,h.right),h.bottom=Bu(f.bottom,h.bottom),h.left=Ya(f.left,h.left),h},wI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yce(t){const{width:e,height:n}=M5(t);return{width:e,height:n}}function wce(t,e,n,r){const i=Ns(e),s=lo(e),o=n==="fixed",a=dl(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const h=ia(0);if(i||!i&&!o)if((ra(e)!=="body"||Df(s))&&(l=Ev(e)),i){const y=dl(e,!0,o,e);h.x=y.x+e.clientLeft,h.y=y.y+e.clientTop}else s&&(h.x=F5(s));let c=a.left+l.scrollLeft-h.x,f=a.top+l.scrollTop-h.y;const[p,m,g]=j5(r);return p&&(c+=m,f+=g,i&&(c+=e.clientLeft,f+=e.clientTop)),{x:c,y:f,width:a.width,height:a.height}}function bI(t,e){return!Ns(t)||pi(t).position==="fixed"?null:e?e(t):t.offsetParent}function B5(t,e){const n=ci(t);if(!Ns(t))return n;let r=bI(t,e);for(;r&&Hue(r)&&pi(r).position==="static";)r=bI(r,e);return r&&(ra(r)==="html"||ra(r)==="body"&&pi(r).position==="static"&&!HE(r))?n:r||I5(t)||n}const bce=async function(t){const e=this.getOffsetParent||B5,n=this.getDimensions;return{reference:wce(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function xce(t){return pi(t).direction==="rtl"}const _ce={convertOffsetParentRelativeRectToViewportRelativeRect:dce,getDocumentElement:lo,getClippingRect:vce,getOffsetParent:B5,getElementRects:bce,getClientRects:fce,getDimensions:yce,getScale:vu,isElement:Xr,isRTL:xce};function Sce(t,e){let n=null,r;const i=lo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:h,top:c,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=hp(c),g=hp(i.clientWidth-(h+f)),y=hp(i.clientHeight-(c+p)),w=hp(h),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ya(0,Bu(1,l))||1};let S=!0;function _(k){const N=k[0].intersectionRatio;if(N!==l){if(!S)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(_,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,x)}n.observe(t)}return o(!0),s}function U5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=KE(t),c=i||s?[...h?Qd(h):[],...Qd(e)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=h&&a?Sce(h,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===h&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),h&&!l&&m.observe(h),m.observe(e));let g,y=l?dl(t):null;l&&w();function w(){const b=dl(t);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const Ece=sce,xI=ice,kce=(t,e,n)=>{const r=new Map,i={platform:_ce,...n},s={...i.platform,_c:r};return nce(t,e,{...i,platform:s})};var $p=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Gm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Gm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Gm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function V5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _I(t,e){const n=V5(t);return Math.round(e*n)/n}function Pb(t){const e=Q.useRef(t);return $p(()=>{e.current=t}),e}function Tce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:h}=t,[c,f]=Q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=Q.useState(r);Gm(p,r)||m(r);const[g,y]=Q.useState(null),[w,b]=Q.useState(null),x=Q.useCallback(Y=>{Y!==N.current&&(N.current=Y,y(Y))},[]),S=Q.useCallback(Y=>{Y!==O.current&&(O.current=Y,b(Y))},[]),_=s||g,k=o||w,N=Q.useRef(null),O=Q.useRef(null),C=Q.useRef(c),I=l!=null,P=Pb(l),A=Pb(i),D=Pb(h),L=Q.useCallback(()=>{if(!N.current||!O.current)return;const Y={placement:e,strategy:n,middleware:p};A.current&&(Y.platform=A.current),kce(N.current,O.current,Y).then(H=>{const j={...H,isPositioned:D.current!==!1};F.current&&!Gm(C.current,j)&&(C.current=j,m_.flushSync(()=>{f(j)}))})},[p,e,n,A,D]);$p(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[h]);const F=Q.useRef(!1);$p(()=>(F.current=!0,()=>{F.current=!1}),[]),$p(()=>{if(_&&(N.current=_),k&&(O.current=k),_&&k){if(P.current)return P.current(_,k,L);L()}},[_,k,L,P,I]);const q=Q.useMemo(()=>({reference:N,floating:O,setReference:x,setFloating:S}),[x,S]),M=Q.useMemo(()=>({reference:_,floating:k}),[_,k]),B=Q.useMemo(()=>{const Y={position:n,left:0,top:0};if(!M.floating)return Y;const H=_I(M.floating,c.x),j=_I(M.floating,c.y);return a?{...Y,transform:"translate("+H+"px, "+j+"px)",...V5(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:j}},[n,a,M.floating,c.x,c.y]);return Q.useMemo(()=>({...c,update:L,refs:q,elements:M,floatingStyles:B}),[c,L,q,M,B])}const Cce=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xI({element:r.current,padding:i}).fn(n):{}:r?xI({element:r,padding:i}).fn(n):{}}}},Nce=(t,e)=>({...ace(t),options:[t,e]}),Oce=(t,e)=>({...Ece(t),options:[t,e]}),Ace=(t,e)=>({...Cce(t),options:[t,e]}),q5={...Wp},Dce=q5.useInsertionEffect,Ice=Dce||(t=>t());function Pce(t){const e=Q.useRef(()=>{});return Ice(()=>{e.current=t}),Q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Km=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;let SI=!1,Rce=0;const EI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Rce++;function Mce(){const[t,e]=Q.useState(()=>SI?EI():void 0);return Km(()=>{t==null&&e(EI())},[]),Q.useEffect(()=>{SI=!0},[]),t}const Lce=q5.useId,H5=Lce||Mce,jce=Q.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:h=0,strokeWidth:c=0,staticOffset:f,stroke:p,d:m,style:{transform:g,...y}={},...w}=e,b=H5(),[x,S]=Q.useState(!1);if(Km(()=>{if(!i)return;pi(i).direction==="rtl"&&S(!0)},[i]),!i)return null;const[_,k]=r.split("-"),N=_==="top"||_==="bottom";let O=f;(N&&o!=null&&o.x||!N&&o!=null&&o.y)&&(O=null);const C=c*2,I=C/2,P=a/2*(h/-8+1),A=l/2*h/4,D=!!m,L=O&&k==="end"?"bottom":"top";let F=O&&k==="end"?"right":"left";O&&x&&(F=k==="end"?"left":"right");const q=(s==null?void 0:s.x)!=null?O||s.x:"",M=(s==null?void 0:s.y)!=null?O||s.y:"",B=m||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(l-A))+(" Q"+a/2+","+l+" "+P+","+(l-A))+" Z",Y={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[_];return E.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:D?a:a+C,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[F]:q,[L]:M,[_]:N||D?"100%":"calc(100% - "+C/2+"px)",transform:[Y,g].filter(H=>!!H).join(" "),...y},children:[C>0&&E.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:p,strokeWidth:C+(m?0:1),d:B}),E.jsx("path",{stroke:C&&!m?w.fill:"none",d:B}),E.jsx("clipPath",{id:b,children:E.jsx("rect",{x:-I,y:I*(D?-1:1),width:a+C,height:a})})]})});function Fce(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const $ce=Q.createContext(null),Bce=Q.createContext(null),Uce=()=>{var t;return((t=Q.useContext($ce))==null?void 0:t.id)||null},Vce=()=>Q.useContext(Bce);function qce(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=H5(),s=Q.useRef({}),[o]=Q.useState(()=>Fce()),a=Uce()!=null,[l,h]=Q.useState(r.reference),c=Pce((m,g,y)=>{s.current.openEvent=m?g:void 0,o.emit("openchange",{open:m,event:g,reason:y,nested:a}),n==null||n(m,g,y)}),f=Q.useMemo(()=>({setPositionReference:h}),[]),p=Q.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:p,events:o,floatingId:i,refs:f}),[e,c,p,o,i,f])}function Hce(t){t===void 0&&(t={});const{nodeId:e}=t,n=qce({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=Q.useState(null),[a,l]=Q.useState(null),c=(i==null?void 0:i.domReference)||s,f=Q.useRef(null),p=Vce();Km(()=>{c&&(f.current=c)},[c]);const m=Tce({...t,elements:{...i,...a&&{reference:a}}}),g=Q.useCallback(S=>{const _=Xr(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;l(_),m.refs.setReference(_)},[m.refs]),y=Q.useCallback(S=>{(Xr(S)||S===null)&&(f.current=S,o(S)),(Xr(m.refs.reference.current)||m.refs.reference.current===null||S!==null&&!Xr(S))&&m.refs.setReference(S)},[m.refs]),w=Q.useMemo(()=>({...m.refs,setReference:y,setPositionReference:g,domReference:f}),[m.refs,y,g]),b=Q.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),x=Q.useMemo(()=>({...m,...r,refs:w,elements:b,nodeId:e}),[m,w,b,e,r]);return Km(()=>{r.dataRef.current.floatingContext=x;const S=p==null?void 0:p.nodesRef.current.find(_=>_.id===e);S&&(S.context=x)}),Q.useMemo(()=>({...m,context:x,refs:w,elements:b}),[m,w,b,x])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var s_=function(e,n){return s_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},s_(e,n)};function Qn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var kt=function(){return kt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},kt.apply(this,arguments)};function ys(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var zce=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},Wce=function(t,e){var n=Q.useRef(null),r=Q.useRef(t);r.current=t;var i=Q.useCallback(function(s){var o;n.current&&!n.current.contains(s.target)&&(e&&s.target instanceof HTMLElement&&s.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return Q.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Tv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=Wce(n,o);return se.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ae;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ae||(Ae={}));function z5(){var t=typeof window<"u"?window:globalThis;return t}var Pf=12,Yce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ut(t){if(t==null)return new Date;var e=typeof t=="string"?Cue(t):Re(t);return Us(e)?e:new Date}function Rb(t,e,n,r,i){var s,o=null,a=Ga(n)||Ga(_d()),l=!0;if(Array.isArray(e))return e.forEach(function(c){var f=Db(t,c,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Us(f,i)&&t===sn(f,c,n)),Us(f,i)&&l&&(o=f)}),o;if(o=Db(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Us(o)&&t===sn(o,e,n);else if(!Us(o)){var h=((s=e.match(Yce))!==null&&s!==void 0?s:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var p=qm[f];return a?p(c,a.formatLong):f}return c}).join("");t.length>0&&(o=Db(t,h.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Us(o)||(o=new Date(t))}return Us(o)&&l?o:null}function Us(t,e){return $m(t)&&!cl(t,e??new Date("1/1/1800"))}function sn(t,e,n){if(n==="en")return pI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ga(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&_d()&&Ga(_d())&&(r=Ga(_d())),pI(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function _i(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&sn(t,i,r)||""}function Gce(t,e,n){if(!t)return"";var r=_i(t,n),i=e?_i(e,n):"";return"".concat(r," - ").concat(i)}function Kce(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?_i(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=_i(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Mb(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return Lp(jp(Fp(t,a),s),r)}function Qce(t){return BE(t)}function Xce(t,e){return sn(t,"ddd",e)}function Bp(t){return ul(t)}function Qo(t,e,n){var r=Ga(e||_d());return so(t,{locale:r,weekStartsOn:n})}function Xs(t){return y5(t)}function cd(t){return xv(t)}function kI(t){return t_(t)}function TI(){return ul(Ut())}function CI(t){return g5(t)}function Jce(t){return Iae(t)}function Zce(t){return v5(t)}function os(t,e){return t&&e?kue(t,e):!t&&!e}function Dr(t,e){return t&&e?Sue(t,e):!t&&!e}function Qm(t,e){return t&&e?Eue(t,e):!t&&!e}function xt(t,e){return t&&e?Aae(t,e):!t&&!e}function Ba(t,e){return t&&e?Nle(t,e):!t&&!e}function dd(t,e,n){var r,i=ul(e),s=g5(n);try{r=Kd(t,{start:i,end:s})}catch{r=!1}return r}function _d(){var t=z5();return t.__localeId__}function Ga(t){if(typeof t=="string"){var e=z5();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function ede(t,e,n){return e(sn(t,"EEEE",n))}function tde(t,e){return sn(t,"EEEEEE",e)}function nde(t,e){return sn(t,"EEE",e)}function QE(t,e){return sn(ai(Ut(),t),"LLLL",e)}function W5(t,e){return sn(ai(Ut(),t),"LLL",e)}function rde(t,e){return sn(nu(Ut(),t),"QQQ",e)}function Si(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,h=n.filterDate;return Rf(t,{minDate:r,maxDate:i})||s&&s.some(function(c){return c instanceof Date?xt(t,c):xt(t,c.date)})||o&&o.some(function(c){var f=c.start,p=c.end;return Kd(t,{start:f,end:p})})||a&&!a.some(function(c){return xt(t,c)})||l&&!l.some(function(c){var f=c.start,p=c.end;return Kd(t,{start:f,end:p})})||h&&!h(Ut(t))||!1}function XE(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Kd(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?xt(t,s):xt(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function Y5(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Rf(t,{minDate:r?y5(r):void 0,maxDate:i?v5(i):void 0})||(s==null?void 0:s.some(function(l){return Dr(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Dr(t,l)})||a&&!a(Ut(t))||!1}function pp(t,e,n,r){var i=vt(t),s=Mr(t),o=vt(e),a=Mr(e),l=vt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function ide(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Rf(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return Dr(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Dr(a,t)})||!1}function mp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Rf(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return Qm(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Qm(t,l)})||a&&!a(Ut(t))||!1}function gp(t,e,n){if(!e||!n||!$m(e)||!$m(n))return!1;var r=vt(e),i=vt(n);return r<=t&&i>=t}function Up(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Rf(l,{minDate:r?xv(r):void 0,maxDate:i?w5(i):void 0})||(s==null?void 0:s.some(function(h){return os(l,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return os(l,h)})||a&&!a(Ut(l))||!1}function vp(t,e,n,r){var i=vt(t),s=za(t),o=vt(e),a=za(e),l=vt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Rf(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&ju(t,i)<0||s&&ju(t,s)>0)!==null&&n!==void 0?n:!1}function NI(t,e){return e.some(function(n){return _s(n)===_s(t)&&Ss(n)===Ss(t)&&Qs(n)===Qs(t)})}function OI(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&NI(t,r)||i&&!NI(t,i)||s&&!s(t)||!1}function AI(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ut();i=Lp(i,_s(t)),i=jp(i,Ss(t)),i=Fp(i,Qs(t));var s=Ut();s=Lp(s,_s(n)),s=jp(s,Ss(n)),s=Fp(s,Qs(n));var o=Ut();o=Lp(o,_s(r)),o=jp(o,Ss(r)),o=Fp(o,Qs(r));var a;try{a=!Kd(i,{start:s,end:o})}catch{a=!1}return a}function DI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Wa(t,1);return r&&Bm(r,s)>0||i&&i.every(function(o){return Bm(o,s)>0})||!1}function II(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Qi(t,1);return r&&Bm(s,r)>0||i&&i.every(function(o){return Bm(s,o)>0})||!1}function sde(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=xv(t),o=A5(s);return r&&Um(r,o)>0||i&&i.every(function(a){return Um(a,o)>0})||!1}function ode(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=w5(t),o=$E(s,1);return r&&Um(o,r)>0||i&&i.every(function(a){return Um(o,a)>0})||!1}function PI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Fu(t,1);return r&&Vm(r,s)>0||i&&i.every(function(o){return Vm(o,s)>0})||!1}function ade(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?Pf:i,o=cd(Fu(t,s)),a=Ho(o,s).endPeriod,l=r&&vt(r);return l&&l>a||!1}function RI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Gs(t,1);return r&&Vm(s,r)>0||i&&i.every(function(o){return Vm(s,o)>0})||!1}function lde(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?Pf:i,o=Gs(t,s),a=Ho(o,s).startPeriod,l=r&&vt(r);return l&&l<a||!1}function G5(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ju(i,e)>=0});return lI(r)}else return n?lI(n):e}function K5(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ju(i,e)<=0});return aI(r)}else return n?aI(n):e}function MI(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(Ks(o)){var a=sn(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var h=Object.keys(o),c=(n=h[0])!==null&&n!==void 0?n:"",f=o[c];if(typeof c=="string"&&Array.isArray(f))for(var p=0,m=f.length;p<m;p++){var g=f[p];if(g){var a=sn(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function ude(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function cde(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(Ks(i)){var o=sn(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&ude(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?ys(ys([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function dde(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,h=i[a];h&&(l=Tae(l,_s(h)),l=e_(l,Ss(h)),l=Oae(l,Qs(h)));var c=e_(t,(n+1)*r);na(l,e)&&cl(l,c)&&h!=null&&o.push(h)}return o}function LI(t){return t<10?"0".concat(t):"".concat(t)}function Ho(t,e){e===void 0&&(e=Pf);var n=Math.ceil(vt(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function fde(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function jI(t){var e=t.getSeconds(),n=t.getMilliseconds();return Re(t.getTime()-e*1e3-n)}function hde(t,e){return jI(t).getTime()===jI(e).getTime()}function FI(t){if(!Ks(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function $I(t,e){if(!Ks(t)||!Ks(e))throw new Error("Invalid date received");var n=FI(t),r=FI(e);return cl(n,r)}function Q5(t){return t.key===Ae.Space}var pde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),h=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),f=c[0],p=c[1];h.setHours(Number(f)),h.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,h)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?Q.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){r.onTimeChange(h.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(Q.Component),mde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=Q.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return xt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Si(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return XE(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return xt(n.props.day,Qo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&xt(r,Qo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=sn(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=sn(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:dd(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,h=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!p||!h&&n.isDisabled()?!1:o&&f&&(cl(p,f)||Ba(p,f))?dd(s,p,f):a&&c&&(na(p,c)||Ba(p,c))||l&&c&&!f&&(na(p,c)||Ba(p,c))?dd(s,c,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?xt(s,l):xt(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?xt(s,h):xt(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:xt(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:xt(o,i)},n.isWeekend=function(){var r=Ele(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Mr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Mr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ut())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return sr("react-datepicker__day",i,"react-datepicker__day--"+Xce(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,h=n.isDisabled()||n.isExcluded()?l:o;return"".concat(h," ").concat(sn(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=sn(i,"MM.dd.yyyy"),h=[];return o.has(l)&&h.push.apply(h,o.get(l).holidayNames),n.isExcluded()&&h.push(a==null?void 0:a.filter(function(c){return c instanceof Date?xt(c,i):xt(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),h.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&xt(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(mI(n.props.day),n.props.day):mI(n.props.day)},n.render=function(){return se.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&se.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(Q.Component),gde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=Q.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!xt(n.props.date,n.props.selected)&&xt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||xt(n.props.date,n.props.selected)&&xt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&xt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&xt(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:sr(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(Q.Component),vde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Si(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,h=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var p=!n.isDisabled(f);if(p){h=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(h,i,s),n.props.showWeekPicker&&n.handleDayClick(h,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):Qce(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=zi(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=zi(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(se.createElement(gde,kt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(r,a);return se.createElement(mde,kt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Qo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!xt(n.startOfWeek(),n.props.selected)&&xt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return se.createElement("div",{className:sr(n)},this.renderDays())},e}(Q.Component),Xc,yde=6,yu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lb=(Xc={},Xc[yu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Xc[yu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Xc[yu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Xc),yp=1;function BI(t,e){return t?yu.FOUR_COLUMNS:e?yu.TWO_COLUMNS:yu.THREE_COLUMNS}var wde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=ys([],Array(12),!0).map(function(){return Q.createRef()}),n.QUARTER_REFS=ys([],Array(4),!0).map(function(){return Q.createRef()}),n.isDisabled=function(r){return Si(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return XE(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Dr(ai(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Qm(nu(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Dr(ai(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Qm(nu(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?pp(p,f,r,o):l&&c||h&&c&&!f?pp(c,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,h=ai(o,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Dr(h,c):Dr(h,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,h=s.selectsRange,c=ai(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||h?Dr(c,f):Dr(c,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?vp(p,f,r,o):l&&c||h&&c&&!f?vp(c,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=zi(r,6);return Dr(r,i)||Dr(s,i)},n.isCurrentMonth=function(r,i){return vt(r)===vt(Ut())&&i===Mr(Ut())},n.isCurrentQuarter=function(r,i){return vt(r)===vt(Ut())&&i===za(Ut())},n.isSelectedMonth=function(r,i,s){return Mr(s)===i&&vt(r)===vt(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return za(r)===i&&vt(r)===vt(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Qo(Xs(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Qo(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},h=function(g){return n.props.showWeekPicker?Qo(g,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?h(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(se.createElement(vde,kt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:Mr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=Fm(a,1);var p=i&&s>=yde,m=!i&&!n.isWeekInMonth(a);if(p||m)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Xs(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Xs(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,h=a.preSelection,c=a.setPreSelection,f=a.minDate,p=a.maxDate,m=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(h){var y=BI(m,g),w=n.getVerticalOffset(y),b=(o=Lb[y])===null||o===void 0?void 0:o.grid,x=function(O,C,I){var P,A,D=C,L=I;switch(O){case Ae.ArrowRight:D=Qi(C,yp),L=I===11?0:I+yp;break;case Ae.ArrowLeft:D=Wa(C,yp),L=I===0?11:I-yp;break;case Ae.ArrowUp:D=Wa(C,w),L=!((P=b==null?void 0:b[0])===null||P===void 0)&&P.includes(I)?I+12-w:I-w;break;case Ae.ArrowDown:D=Qi(C,w),L=!((A=b==null?void 0:b[b.length-1])===null||A===void 0)&&A.includes(I)?I-12+w:I+w;break}return{newCalculatedDate:D,newCalculatedMonth:L}},S=function(O,C,I){for(var P=40,A=O,D=!1,L=0,F=x(A,C,I),q=F.newCalculatedDate,M=F.newCalculatedMonth;!D;){if(L>=P){q=C,M=I;break}if(f&&q<f){A=Ae.ArrowRight;var B=x(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}if(p&&q>p){A=Ae.ArrowLeft;var B=x(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}if(ide(q,n.props)){var B=x(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}else D=!0;L++}return{newCalculatedDate:q,newCalculatedMonth:M}};if(i===Ae.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),c==null||c(l));return}var _=S(i,h,s),k=_.newCalculatedDate,N=_.newCalculatedMonth;switch(i){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:n.handleMonthNavigation(N,k);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=Lb[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ae.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=nu(n.props.day,i);mp(s,n.props)||n.handleDayClick(kI(s),r)},n.onQuarterMouseEnter=function(r){var i=nu(n.props.day,r);mp(i,n.props)||n.handleDayMouseEnter(kI(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ae.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Ae.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,$E(n.props.preSelection,1));break;case Ae.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,A5(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,h=s.excludeDates,c=s.includeDates,f=ai(o,r);return{isDisabled:(i=(a||l||h||c)&&Y5(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,h=i.monthClassName,c=h?h(ai(s,r)):void 0,f=n.getSelection();return sr("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?pp(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Mr(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=za(n.props.preSelection),s=mp(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,h=i.day,c=i.locale,f=ai(h,r),p=n.isDisabled(f)||n.isExcluded(f)?l:o;return"".concat(p," ").concat(sn(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,h=i.minDate,c=i.maxDate,f=i.excludeDates,p=i.includeDates,m=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,w=(h||c||f||p||m)&&mp(nu(s,r),n.props);return sr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(s,r,g)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?vp(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,h=W5(r,a),c=QE(r,a);return o?o(r,h,c,l):s?c:h},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=rde(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,h=(r=Lb[BI(o,s)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(c,f){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(p,m){return se.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(g){n.onMonthClick(g,p)},onKeyDown:function(g){Q5(g)&&(g.preventDefault(),g.key=Ae.Enter),n.onMonthKeyDown(g,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return se.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(h){n.onQuarterClick(h,a)},onKeyDown:function(h){n.onQuarterKeyDown(h,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,h=r.showWeekPicker;return sr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":h})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(sn(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(Q.Component),bde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return se.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return se.createElement(Tv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),xde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return se.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return se.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return se.createElement(bde,kt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return W5(s,n.props.locale)}:function(s){return QE(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(Q.Component);function _de(t,e){for(var n=[],r=Xs(t),i=Xs(e);!na(r,i);)n.push(Ut(r)),r=Qi(r,1);return n}var Sde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=r_(i),o=os(r.props.date,i)&&Dr(r.props.date,i);return se.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",sn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:_de(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=sr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(Tv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),Ede=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Xs(n.props.minDate),i=Xs(n.props.maxDate),s=[];!na(r,i);){var o=r_(r);s.push(se.createElement("option",{key:o,value:o},sn(r,n.props.dateFormat,n.props.locale))),r=Qi(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:r_(Xs(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=sn(n.props.date,n.props.dateFormat,n.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return se.createElement(Sde,kt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Ut(r);os(n.props.date,i)&&Dr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(Q.Component),kde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&AI(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&OI(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&hde(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&AI(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&OI(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(_s(r)*3600+Ss(r)*60+Qs(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Ut(),l=Bp(a),h=n.props.injectTimes&&n.props.injectTimes.sort(function(w,b){return w.getTime()-b.getTime()}),c=60*fde(a),f=c/o,p=0;p<f;p++){var m=e_(l,p*o);if(i.push(m),h){var g=dde(l,m,p,o,h);i=i.concat(g)}}var y=i.reduce(function(w,b){return b.getTime()<=a.getTime()?b:w},i[0]);return i.map(function(w){return se.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(b){w===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},sn(w,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(Q.Component),UI=3,Tde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=ys([],Array(r.props.yearItemNumber),!0).map(function(){return Q.createRef()}),r.isDisabled=function(i){return Si(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return XE(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,h,c=r.props,f=c.date,p=c.yearItemNumber;if(!(f===void 0||p===void 0)){var m=Ho(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-m<0?r.updateFocusOnPaginate(p-(m-i)):i-m>=p?r.updateFocusOnPaginate(Math.abs(p-(i-m))):(h=(l=r.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||h===void 0||h.focus())}},r.isSameDay=function(i,s){return xt(i,s)},r.isCurrentYear=function(i){return i===vt(Ut())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&os(is(Ut(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&os(is(Ut(),i),r.props.endDate)},r.isInRange=function(i){return gp(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,h=s.startDate,c=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&c?gp(i,r.selectingDate(),c):a&&h||l&&h&&!c?gp(i,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,h=is(Ut(),i);return l?os(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):os(h,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,h=o.selectsRange,c=is(Ut(),i);return l||h?os(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):os(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,h=s.includeDates,c=s.filterDate,f=cd(is(r.props.date,i)),p=(o||a||l||h||c)&&Up(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!xt(f,cd(r.props.selected))&&xt(f,cd(r.props.preSelection))&&!p}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(cd(is(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,h=r.props,c=h.date,f=h.yearItemNumber,p=h.handleOnKeyDown;if(l!==Ae.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Gs(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Fu(r.props.preSelection,1));break;case Ae.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var m=Ho(c,f).startPeriod,g=UI,y=s-g;if(y<m){var w=f%g;s>=m&&s<m+w?g=w:g+=w,y=s-g}r.handleYearNavigation(y,Fu(r.props.preSelection,g));break}case Ae.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var b=Ho(c,f).endPeriod,g=UI,y=s+g;if(y>b){var w=f%g;s<=b&&s>b-w?g=w:g+=w,y=s+g}r.handleYearNavigation(y,Gs(r.props.preSelection,g));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,h=s.selected,c=s.excludeDates,f=s.includeDates,p=s.filterDate,m=s.yearClassName;return sr("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(is(o,i)):void 0,{"react-datepicker__year-text--selected":h?i===vt(h):void 0,"react-datepicker__year-text--disabled":(a||l||c||f||p)&&Up(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=vt(r.props.preSelection),o=Up(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var h=Ho(s,o),c=h.startPeriod,f=h.endPeriod,p=function(y){r.push(se.createElement("div",{ref:m.YEAR_REFS[y-c],onClick:function(w){n.onYearClick(w,y)},onKeyDown:function(w){Q5(w)&&(w.preventDefault(),w.key=Ae.Enter),n.onYearKeyDown(w,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return a(w,y)},onPointerEnter:m.props.usePointerEvent?function(w){return a(w,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return l(w,y)},onPointerLeave:m.props.usePointerEvent?function(w){return l(w,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,g=c;g<=f;g++)p(g);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(Q.Component);function Cde(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=vt(n)<=o),r&&a&&(a=vt(r)>=o),a&&i.push(o)}return i}var Nde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return se.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),h=r.props.minDate?vt(r.props.minDate):null,c=r.props.maxDate?vt(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(f){return f===h}))&&l.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(h){return h+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:Cde(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=Q.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=sr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(Tv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),Ode=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?vt(n.props.minDate):1900,i=n.props.maxDate?vt(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(se.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return se.createElement(Nde,kt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(Q.Component),Ade=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Dde=function(t){var e=(t.className||"").split(/\s+/);return Ade.some(function(n){return e.indexOf(n)>=0})},Ide=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;Dde(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=G5(r.props),h=K5(r.props),c=Ut(),f=a||o||s;return f||(l&&cl(c,l)?l:h&&na(c,h)?h:c)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Qi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Wa(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:is(Ut(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Si(i,r.props))return i;for(var s=Xs(i),o=Zce(i),a=Dae(o,s),l=null,h=0;h<=a;h++){var c=zi(s,h);if(!Si(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:is(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:ai(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:is(ai(o,Mr(i)),vt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Qo(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(s,a),h=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return se.createElement("div",{key:a,"aria-label":sn(l,"EEEE",r.props.locale),className:sr("react-datepicker__day-name",c)},h)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?ede(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?nde(i,s):tde(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Fu(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,c=Wa(r.state.date,h),f;switch(!0){case r.props.showMonthYearPicker:f=PI(r.state.date,r.props);break;case r.props.showYearPicker:f=ade(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=sde(r.state.date,r.props);break;default:f=DI(c,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,b=w.previousMonthButtonLabel,x=b===void 0?e.defaultProps.previousMonthButtonLabel:b,S=w.previousYearButtonLabel,_=S===void 0?e.defaultProps.previousYearButtonLabel:S,k=r.props,N=k.previousMonthAriaLabel,O=N===void 0?typeof x=="string"?x:"Previous Month":N,C=k.previousYearAriaLabel,I=C===void 0?typeof _=="string"?_:"Previous Year":C;return se.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?I:O},se.createElement("span",{className:p.join(" ")},y?_:x))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Gs(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=RI(r.state.date,r.props);break;case r.props.showYearPicker:s=lde(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=ode(r.state.date,r.props);break;default:s=II(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,m=c.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=r.props,w=y.nextMonthAriaLabel,b=w===void 0?typeof p=="string"?p:"Next Month":w,x=y.nextYearAriaLabel,S=x===void 0?typeof g=="string"?g:"Next Year":x;return se.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?S:b},se.createElement("span",{className:a.join(" ")},h?g:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:s.join(" ")},sn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(Ode,kt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(xde,kt({},e.defaultProps,r.props,{month:Mr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(Ede,kt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(TI(),i),r.props.setPreSelection&&r.props.setPreSelection(TI())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),se.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=DI(r.state.date,r.props),c=II(r.state.date,r.props),f=PI(r.state.date,r.props),p=RI(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,kt(kt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),m&&se.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,h=l===void 0?e.defaultProps.yearItemNumber:l,c=Ho(s,h),f=c.startPeriod,p=c.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):vt(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gs(r.state.date,l):Wa(r.state.date,l),c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<a;++f){var p=f-c+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gs(h,p):Qi(h,p),g="month-".concat(f),y=f<a-1,w=f>0;o.push(se.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:f}),se.createElement(wde,kt({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(Tde,kt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(kde,kt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Us(i)&&!!r.props.selected,o=s?"".concat(LI(i.getHours()),":").concat(LI(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(pde,kt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Ho(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=vt(r.state.date):l="".concat(QE(Mr(r.state.date),r.props.locale)," ").concat(vt(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=Q.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Pf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!xt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Dr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!xt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||zce;return se.createElement(Tv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},se.createElement(n,{className:sr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(Q.Component),Pde=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):se.isValidElement(e)?se.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},X5=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return g_.createPortal(this.props.children,this.el)},e}(Q.Component),Rde="[tabindex], a, button, input, select, textarea",Mde=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},J5=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Rde),1,-1).filter(Mde)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=Q.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(Q.Component);function Lde(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=Q.useRef(null),o=Hce(kt({open:!i,whileElementsMounted:U5,placement:n.popperPlacement,middleware:ys([Oce({padding:15}),Nce(10),Ace({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=kt(kt({},n),{hidePopper:i,popperProps:kt(kt({},o),{arrowRef:s})});return se.createElement(t,kt({},a))};return e}var jde=function(t){Qn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,h=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,m=n.popperProps,g=n.showArrow,y=void 0;if(!o){var w=sr("react-datepicker-popper",r);y=se.createElement(J5,{enableTabLoop:h},se.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},a,g&&se.createElement(jce,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=Q.createElement(this.props.popperContainer,{},y)),f&&!o&&(y=se.createElement(X5,{portalId:f,portalHost:p},y));var b=sr("react-datepicker-wrapper",i);return se.createElement(se.Fragment,null,se.createElement("div",{ref:m.refs.setReference,className:b},l),y)},e}(Q.Component),Fde=Lde(jde),VI="react-datepicker-ignore-onclickoutside";function $de(t,e){return t&&e?Mr(t)!==Mr(e)||vt(t)!==vt(e):t!==e}var jb="Date input not valid.",Bde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ut()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Us(a)?ys(ys([],s,!0),[kt(kt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=G5(r.props),a=K5(r.props),l=o&&cl(s,Bp(o))?o:a&&na(s,CI(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:MI(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(kt(kt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(kt(kt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Fb},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ks(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:Ude});var h=r.props,c=h.dateFormat,f=c===void 0?e.defaultProps.dateFormat:c,p=h.strictParsing,m=p===void 0?e.defaultProps.strictParsing:p,g=h.selectsRange,y=h.startDate,w=h.endDate,b=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(g){var x=b.split("-",2).map(function(P){return P.trim()}),S=x[0],_=x[1],k=Rb(S??"",f,r.props.locale,m),N=Rb(_??"",f,r.props.locale,m),O=(y==null?void 0:y.getTime())!==(k==null?void 0:k.getTime()),C=(w==null?void 0:w.getTime())!==(N==null?void 0:N.getTime());if(!O&&!C||k&&Si(k,r.props)||N&&Si(N,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[k,N],l)}else{var I=Rb(b,f,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&I&&!xt(I,r.props.selected)&&(I=que(r.props.selected,{hours:_s(I),minutes:Ss(I),seconds:Qs(I)})),(I||!b)&&r.setSelected(I,l,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,h=a.endDate;l&&!h&&(r.props.swapRange||!$I(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,h,c=i;if(r.props.showYearPicker){if(c!==null&&Up(vt(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&Y5(c,r.props))return}else if(c!==null&&Si(c,r.props))return;var f=r.props,p=f.onChange,m=f.selectsRange,g=f.startDate,y=f.endDate,w=f.selectsMultiple,b=f.selectedDates,x=f.minTime,S=f.swapRange;if(!Ba(r.props.selected,c)||r.props.allowSameDay||m||w)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Mb(c,{hour:_s(r.props.selected),minute:Ss(r.props.selected),second:Qs(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&x&&(c=Mb(c,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var _=!g&&!y,k=g&&!y,N=g&&y;_?p==null||p([c,null],s):k&&(c===null?p==null||p([null,null],s):$I(c,g)?S?p==null||p([c,g],s):p==null||p([c,null],s):p==null||p([g,c],s)),N&&(p==null||p([c,null],s))}else if(w){if(c!==null)if(!(b!=null&&b.length))p==null||p([c],s);else{var O=b.some(function(I){return xt(I,c)});if(O){var C=b.filter(function(I){return!xt(I,c)});p==null||p(C,s)}else p==null||p(ys(ys([],b,!0),[c],!1),s)}}else p==null||p(c,s);o||((h=(l=r.props).onSelect)===null||h===void 0||h.call(l,c,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=Ks(r.props.minDate),o=Ks(r.props.maxDate),a=!0;if(i){var l=Bp(i);if(s&&o)a=dd(i,r.props.minDate,r.props.maxDate);else if(s){var h=Bp(r.props.minDate);a=na(i,h)||Ba(l,h)}else if(o){var c=CI(r.props.maxDate);a=cl(i,c)||Ba(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Mb(a,{hour:_s(i),minute:Ss(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,h,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Ae.ArrowDown||f===Ae.ArrowUp||f===Ae.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Ae.ArrowDown||f===Ae.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=Ut(r.state.preSelection);f===Ae.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Fb?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===Ae.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Ae.Tab&&r.setOpen(!1),r.inputOk()||(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,h,c,f=r.props,p=f.minDate,m=f.maxDate,g=f.disabledKeyboardNavigation,y=f.showWeekPicker,w=f.shouldCloseOnSelect,b=f.locale,x=f.calendarStartDay,S=f.adjustDateOnChange,_=f.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var k=i.key,N=i.shiftKey,O=Ut(r.state.preSelection),C=function(q,M){var B=M;switch(q){case Ae.ArrowRight:B=y?Fm(M,1):zi(M,1);break;case Ae.ArrowLeft:B=y?gI(M):Tue(M);break;case Ae.ArrowUp:B=gI(M);break;case Ae.ArrowDown:B=Fm(M,1);break;case Ae.PageUp:B=N?Fu(M,1):Wa(M,1);break;case Ae.PageDown:B=N?Gs(M,1):Qi(M,1);break;case Ae.Home:B=Qo(M,b,x);break;case Ae.End:B=Jce(M);break}return B},I=function(q,M){for(var B=40,Y=q,H=!1,j=0,U=C(q,M);!H;){if(j>=B){U=M;break}p&&U<p&&(Y=Ae.ArrowRight,U=Si(p,r.props)?C(Y,U):p),m&&U>m&&(Y=Ae.ArrowLeft,U=Si(m,r.props)?C(Y,U):m),Si(U,r.props)?((Y===Ae.PageUp||Y===Ae.Home)&&(Y=Ae.ArrowRight),(Y===Ae.PageDown||Y===Ae.End)&&(Y=Ae.ArrowLeft),U=C(Y,U)):H=!0,j++}return U};if(k===Ae.Enter){i.preventDefault(),r.handleSelect(O,i),!w&&r.setPreSelection(O);return}else if(k===Ae.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:jb});return}var P=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:P=I(k,O);break}if(!P){(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Fb}),S&&r.setSelected(P),r.setPreSelection(P),_){var A=Mr(O),D=Mr(P),L=vt(O),F=vt(P);A!==D||L!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(Ide,kt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:cde(r.modifyHolidays()),outsideClickIgnoreClass:VI,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,h=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(_i(r.props.startDate,{dateFormat:h,locale:a}),". ").concat(r.props.endDate?"End date: "+_i(r.props.endDate,{dateFormat:h,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(_i(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(_i(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(_i(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(_i(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(_i(r.props.selected,{dateFormat:h,locale:a})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o,a=sr(r.props.className,(i={},i[VI]=r.state.open,i)),l=r.props.customInput||se.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,m=c.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Gce(r.props.startDate,r.props.endDate,{dateFormat:p,locale:m}):r.props.selectsMultiple?Kce((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:m}):_i(r.props.selected,{dateFormat:p,locale:m});return Q.cloneElement(l,(s={},s[h]=function(y){r.input=y},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=sr(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,h=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,m=i.ariaLabelClose,g=m===void 0?"Close":m,y=i.selectedDates;return s&&(a!=null||l!=null||h!=null||y!=null&&y.length)?se.createElement("button",{type:"button",className:sr("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Pf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&$de(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:MI(this.props.highlightDates)}),!r.focused&&!Ba(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(Pde,kt({icon:i,className:sr(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?se.createElement(J5,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(X5,kt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(Fde,kt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(Q.Component),Ude="input",Fb="navigate";function Es({text:t,htmlFor:e,className:n}){return E.jsx("label",{htmlFor:e||t,className:`flex flex-col py-1 pl-1 text-sm font-medium text-blue1 ${n}`,children:t})}function JE({label:t,...e}){return E.jsxs("div",{className:"flex flex-col",children:[t&&E.jsx(Es,{text:t}),E.jsxs("div",{className:"relative",children:[E.jsx(SE,{className:"absolute left-3 top-3.5 z-[1] size-5"}),E.jsx(Bde,{...e,locale:r3,minDate:new Date,shouldCloseOnSelect:!0,popperPlacement:"bottom",timeCaption:"",timeInputLabel:":",timeFormat:"HH:mm",timeIntervals:10,onFocus:n=>n.target.blur(),className:`h-12 w-full rounded-xl border border-gray1 px-3 py-2 pl-10 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none ${e.className}`})]})]})}const gn=se.forwardRef(function({iconName:t,inputType:e,label:n,errorMsg:r,containerClassName:i,children:s,tailIconChildren:o,...a},l){const h={FiMapPin:E.jsx(TE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiSearch:E.jsx(NE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiHash:E.jsx(Lre,{className:"absolute left-3 top-3.5 size-[20px]"}),FiChevronsDown:E.jsx(_3,{className:"absolute left-3 top-3.5 size-[20px]"})},c="h-12 w-full rounded-xl border focus:border-purple2 border-gray1 focus:read-only:border-gray1 focus:read-only:border focus:border-2 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none py-2";return E.jsxs("div",{className:`relative flex w-full flex-col ${i}`,children:[n&&E.jsx(Es,{text:n}),t?E.jsxs("div",{className:"relative w-full",children:[h[t],E.jsx("input",{...a,ref:l,id:n||a.id,className:`pl-10 pr-3 ${c} ${a.className}`}),o]}):E.jsxs(E.Fragment,{children:[E.jsx("input",{...a,ref:l,id:n||a.id,className:`px-3 ${c} ${a.className}`}),o]}),r&&E.jsx("p",{className:"pl-2 pt-1 text-sm text-red-500",children:r}),s]})});function Z5({title:t,currentValue:e,yearMonthId:n,registerBook:r}){var _;const i=Ve(Nt),s=Ve(Ai(n)),o=s?{...s.meeting,...e}:e,{currMeeting:a,onMeetingChange:l,savedPlaceList:h,onMeetingEdit:c,onNewBookClubSubmit:f}=y3(o,n),{anonymous:p}=ei("register"),{isPending:m}=Ji(),{hideModal:g}=Yt(),{errorMsg:y,handleErrorMsg:w}=xE(),b={place:[{condition:a.place==="",error:" ."}]},x=+n.slice(-2),S=async k=>{k.preventDefault();try{if(w(b))return;if(s)await c({meeting:a}),alert(`${x}   !`);else{const O={meeting:a,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i.uid,book:r};await f(O),alert(`${x}   !`)}}catch{window.alert("     .  .")}finally{g()}};return E.jsx(Di,{title:t,className:"max-w-96 max-sm:mt-[30%]",children:E.jsxs("form",{onSubmit:S,className:"flex flex-col gap-y-3",children:["time"in e&&E.jsx(JE,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:new Date(a.time),dateFormat:"M d EEEE a hh:mm",onChange:k=>{l({time:dt(k,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0}),"place"in e&&E.jsx(gn,{label:"",value:a.place,onChange:k=>{l({place:k.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:y==null?void 0:y.place,children:E.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(_=h==null?void 0:h.place)==null?void 0:_.map(k=>E.jsx(ar,{text:k,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>l({place:k})},k))})}),E.jsx(ht,{type:"submit",name:s!=null&&s.meeting?"":`${x}  `,className:"ml-auto",disabled:m||p,color:"blue"}),p&&E.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function eF({label:t,value:e,editable:n}){const{showModal:r}=Yt(),i={:E.jsx(TE,{className:"inline"}),:E.jsx(SE,{className:"inline"}),:E.jsx(Tm,{className:"inline"}),:E.jsx(Tm,{className:"inline"})};return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"relative flex h-full items-center overflow-hidden rounded-card bg-white px-4 py-2 shadow-card max-sm:px-4",children:[E.jsxs("h4",{className:"flex min-w-20 items-center gap-0.5 tracking-tight text-gray2",children:[i[t],t]}),E.jsxs("div",{className:"flex w-full flex-1 py-1",children:[e&&E.jsxs(E.Fragment,{children:[typeof e!="string"&&(e.includes("no_host")?E.jsx("span",{children:" "}):e==null?void 0:e.map(s=>E.jsx(ti,{userId:s,className:"mr-1"},s))),typeof e=="string"&&e&&E.jsx("span",{className:"tracking-tight",children:t===""?dt(e,"M d a h:mm"):e})]}),!e&&E.jsx("span",{className:"text-center text-sm text-gray2 max-sm:text-start",children:"  "})]}),n&&E.jsx("button",{type:"button",onClick:()=>r({element:typeof e=="string"&&E.jsx(Z5,{title:t,currentValue:t===""?{time:e}:{place:e},yearMonthId:Vn})}),className:"absolute bottom-0 right-0 p-3",children:E.jsx(S3,{stroke:"#aaa",size:16})})]})})}function tF({yearMonthId:t,event:e,className:n=""}){var a,l,h;const r=Ve(Ai(t)),i=r&&[{label:"",value:(a=r.meeting)==null?void 0:a.place},{label:"",value:(l=r.meeting)==null?void 0:l.time},{label:"",value:(h=r.meeting.eventMonth)==null?void 0:h.hosts}],s=+t.slice(-2),{pathname:o}=Fr();return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:`flex flex-col justify-between rounded-card bg-white px-6 py-5 shadow-card ${n}`,children:[o==="/"&&E.jsx(ar,{text:`${s} `,color:+s==+Qr?"green":"purple",shape:"rounded",className:"mb-3 font-medium shadow-2xl"}),E.jsx("h1",{className:"mb-1.5 line-clamp-2 w-full text-lg font-medium leading-6",children:e.eventMonth.title}),E.jsxs("span",{className:"text-gray1",children:["  ",e.eventMonth.contents.length,""]})]}),E.jsx("ul",{className:"col-span-2 mt-4 flex flex-col gap-6 max-sm:gap-4",children:i.map(({label:c,value:f})=>E.jsx("li",{children:E.jsx(eF,{label:c,value:f,editable:!1})},c))})]})}function nF({time:t,place:e,className:n}){return E.jsxs("div",{className:n,children:[E.jsxs("div",{className:"mb-1 flex items-start gap-x-1",children:[E.jsx(SE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),E.jsx("span",{className:"text-[15px]",children:t?dt(t,"M d a h:mm"):"   ."})]}),E.jsxs("div",{className:"flex items-start gap-x-1",children:[E.jsx(TE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),E.jsx("span",{className:"text-[15px]",children:e||"   ."})]})]})}function rF({bookClub:t,className:e=""}){const{meeting:{place:n,time:r},book:i,id:s}=t;return i?E.jsxs("div",{className:`flex gap-x-4 rounded-card bg-white p-5 shadow-card ${e}`,children:[E.jsx(dn,{thumbnail:i.thumbnail,title:i.title,url:i.url,className:"w-28"}),E.jsxs("div",{className:"flex w-full flex-col justify-between",children:[E.jsx("h1",{className:"line-clamp-2 pr-1 text-lg font-medium leading-5",children:i.title}),i.authors&&E.jsx(Os,{authors:i.authors,publisher:i.publisher}),E.jsx(nF,{time:r,place:n,className:"mt-3.5"})]})]}):E.jsx(tF,{yearMonthId:s,event:t.meeting})}function iF({month:t,book:e,bookFields:n,className:r=""}){const{title:i,thumbnail:s,authors:o,publisher:a,url:l}=e;return E.jsxs("div",{className:`flex justify-between gap-x-2 rounded-card bg-white px-4 py-5 shadow-card ${r}`,children:[E.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[E.jsx(ar,{text:`${t} `,color:+t==+Qr?"lightBlue":"purple",shape:"rounded",className:"font-medium"}),E.jsxs("div",{className:"ml-1",children:[E.jsx("h1",{className:"mb-0.5 mt-2.5 line-clamp-2 w-full text-lg font-medium leading-[22px]",children:i}),E.jsx(Os,{authors:o,publisher:a}),E.jsxs("div",{className:"mt-2 flex flex-1 items-center gap-x-0.5",children:[E.jsx(Ore,{className:"text-[15px] text-purple2"}),E.jsx("span",{className:"text-[15px] text-purple2",children:n})]})]})]}),E.jsx(dn,{title:i,thumbnail:s,url:l,className:"w-[84px]"})]})}function As({text:t,children:e,createBtnTitle:n,onCreateClick:r}){return E.jsxs("div",{className:"flex h-full min-h-[200px] w-full flex-col items-center justify-center gap-5 rounded-card bg-white p-4 shadow-card max-md:h-[200px]",children:[E.jsx("span",{className:"text-sm text-gray1",children:t}),r&&E.jsx(ht,{name:n,color:"purple",handleClick:r,tailChildren:E.jsx(Sse,{size:18})}),e]})}function sF(){var l,h;const t=Ve(Ai(Vn)),[e,n]=Wt(cv),{pathname:r}=Fr(),i=kr(),{bookFieldAndHostList:s}=e,o=s==null?void 0:s.find(({month:c})=>c===+Qr);Q.useEffect(()=>{e.bookFieldAndHostList.length===0&&lr(Ci,Yd,n)},[]);const a=t&&[{label:"",value:(l=t.meeting)==null?void 0:l.time,editable:r==="/bookclub"},{label:"",value:(h=t.meeting)==null?void 0:h.place,editable:r==="/bookclub"},{label:"",value:o==null?void 0:o.hosts}];return E.jsx(E.Fragment,{children:t&&(t!=null&&t.book)?E.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[E.jsx(iF,{month:`${+Qr}`,book:t.book,bookFields:o==null?void 0:o.field,className:"col-span-1"}),E.jsx("div",{className:"col-span-1 flex flex-col gap-4",children:a.map(({label:c,value:f,editable:p})=>E.jsx(eF,{label:c,value:f,editable:p},c))})]}):E.jsx(As,{text:"    .",createBtnTitle:"  ",onCreateClick:()=>i("/search",{state:{registerYearMonth:Vn}})})})}function Vde(){const t=ea(Xj),e=Ve(E3),n=Ve(Qj),{uid:r}=Ve(Nt),[i,s]=Q.useState({wholePage:0,currentPage:0}),o=e,{title:a,thumbnail:l,authors:h,publisher:c}=n,{anonymous:f,alertAskJoinMember:p}=ei("write"),{hideModal:m}=Yt(),g=async w=>{var S;if(w.preventDefault(),f)return p();if(Number.isNaN(i.currentPage)||Number.isNaN(i.wholePage))return alert(" .");if(i.wholePage===0)return alert("   0   .   !");if(i.currentPage>i.wholePage)return alert("       .   !");if((S=o==null?void 0:o.books)==null?void 0:S.find(_=>_.title===n.title))return alert("    .");const x=o?{...o,books:[...o.books,{...n,...i}]}:{createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r,books:[{...n,...i}]};await Cs(an(Jt,al,r),x),t([]),m(),alert("2024    !   !")},y=(w,b)=>{const{value:x}=w.target,S=b==="wholePage"?{wholePage:+x}:{currentPage:+x};s({...i,...S})};return E.jsxs("form",{onSubmit:g,children:[E.jsx("h3",{children:"  "}),E.jsxs("div",{children:[E.jsx(dn,{title:a,thumbnail:l}),E.jsxs("div",{children:[E.jsx("h4",{children:a}),E.jsx(Os,{authors:h,publisher:c})]})]}),E.jsxs("div",{children:[E.jsx(gn,{label:"  ",name:"wholePage",value:`${i.wholePage}`,placeholder:"   .",onChange:w=>y(w,"wholePage")}),E.jsx(gn,{label:"  ",name:"currentPage",value:`${i.currentPage}`,placeholder:"   .",onChange:w=>y(w,"currentPage")})]}),E.jsx(ht,{type:"submit",name:" "})]})}function Cv({book:t,className:e}){const{authors:n,publisher:r,thumbnail:i,title:s}=t;return E.jsxs("div",{className:`flex w-full items-center gap-3 py-1 ${e}`,children:[E.jsx(dn,{thumbnail:i,title:s,className:"ml-1 w-8"}),E.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-start",children:[E.jsx("h5",{className:"line-clamp-1 truncate whitespace-pre-wrap text-start",children:s}),n&&r&&E.jsx(Os,{authors:n,publisher:r})]})]})}function qde(){const[t,e]=Q.useState(""),{uid:n}=Ve(Nt),r=Ve(Ai(Vn)),i=Ve(dE),{sendPostPushNotification:s,isPending:o}=Ji(),{book:a}=r,{title:l,thumbnail:h,authors:c,url:f,publisher:p}=i,m=Rr(Vn,o3),g={text:t,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:n,title:a.title,thumbnail:a.thumbnail,recommendedBook:{title:l,thumbnail:h,url:f,authors:c,publisher:p}},{onAddDocSubmit:y,onChange:w}=vE({setText:e,collName:m,docData:g}),{hideModal:b}=Yt(),x=async S=>{if(S.preventDefault(),l==="")return window.alert("    .");if(g.text==="")return window.alert("  .");try{await y(S),await s("")}catch{window.alert("    .  .")}finally{b()}};return E.jsxs("form",{onSubmit:x,children:[E.jsx("textarea",{placeholder:"   .",onChange:w,value:t,className:"h-32 w-full resize-none rounded-xl border border-gray2 p-3 outline-none"}),E.jsxs("div",{className:"mt-3 flex items-end justify-between gap-3",children:[h&&E.jsx(Cv,{book:i,className:"h-14"}),E.jsx(ht,{name:"",type:"submit",className:"ml-auto h-fit min-w-max",disabled:o})]})]})}function oF(){return E.jsx("div",{className:"border-b-2 border-dotted border-gray2"})}function aF({searchList:t,onSelectBtnClick:e}){return E.jsx("ul",{className:"mt-2 h-64 overflow-scroll",children:t.map((n,r)=>E.jsxs(Q.Fragment,{children:[E.jsx("li",{className:"py-2",children:E.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-x-2",onClick:()=>e(n),children:[E.jsx(Cv,{book:n,className:"h-14"}),E.jsx(x3,{className:"text-lg text-blue1"})]})}),(t==null?void 0:t.length)-1!==r&&E.jsx(oF,{})]},`${n.title}-${n.isbn}`))})}function Hde({title:t}){const e=ea(dE),n=ea(Qj),[r,i]=Q.useState(1),{searchInputRef:s,onBookQueryChange:o,searchList:a}=_E();Q.useEffect(()=>{s&&!a.length&&s.current.focus()},[]);const l=c=>{h(2),t===" "?e(c):n(c)},h=c=>i(c);return E.jsxs(Di,{title:t,children:[r===1&&E.jsxs("div",{className:"relative mt-3 min-h-64 max-sm:mt-0",children:[E.jsx(gn,{ref:s,placeholder:`${t===" "?"":" "} .`,onChange:o,className:"bg-gray-50 pl-9",iconName:"FiSearch"}),(a==null?void 0:a.length)!==0&&E.jsx(aF,{searchList:a,onSelectBtnClick:l})]}),r===2&&(t===" "?E.jsx(qde,{}):E.jsx(Vde,{}))]})}const zde=()=>{const{showModal:t}=Yt();return E.jsx(E.Fragment,{children:E.jsxs("button",{className:"mb-[10px] flex w-1/2 items-center gap-1 rounded-full bg-white px-4 py-3 shadow-card max-sm:w-full",onClick:()=>t({element:E.jsx(Hde,{title:" "})}),children:[E.jsx(NE,{fontSize:18}),E.jsx("span",{className:"text-sm text-gray2",children:" "})]})})},lF=Nn({key:`subjectDocs/${zt()}`,default:null}),uF=Nn({key:`hostReviews/${zt()}`,default:null}),Wde=Nn({key:`meetingReviewDocs/${zt()}`,default:[]});function Yde(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function Gde(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"},child:[]}]})(t)}function Kde(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"m6.293 13.293 1.414 1.414L12 10.414l4.293 4.293 1.414-1.414L12 7.586z"},child:[]}]})(t)}function Qde(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.379-2.143-4.288-4.521-3.965C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.035C6.138 3.712 4 5.621 4 8c0 .173.012.347.035.521C2.802 9.215 2 10.535 2 12s.802 2.785 2.035 3.479A3.976 3.976 0 0 0 4 16c0 2.379 2.138 4.283 4.521 3.965C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.035C17.857 20.283 20 18.379 20 16c0-.173-.012-.347-.035-.521C21.198 14.785 22 13.465 22 12s-.802-2.785-2.035-3.479zm-9.01 7.895-3.667-3.714 1.424-1.404 2.257 2.286 4.327-4.294 1.408 1.42-5.749 5.706z"},child:[]}]})(t)}const Xde=({docMonth:t})=>{var g,y;const[e,n]=Q.useState(""),[r,i]=Q.useState(!1),s=Ve(Ai(Vn)),{uid:o}=Ve(Nt),a=Rr(t,fE),l={createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:o,text:e,title:(g=s==null?void 0:s.book)==null?void 0:g.title,thumbnail:(y=s==null?void 0:s.book)==null?void 0:y.thumbnail,isAnonymous:r},{onAddDocSubmit:h,onChange:c}=vE({setText:n,collName:a,docData:l}),{isPending:f,sendPostPushNotification:p}=Ji(),m=async w=>{if(w.preventDefault(),l.text!=="")try{await h(w),await p(" ")}catch{window.alert("     .  .")}};return E.jsx("form",{onSubmit:m,className:"mb-5 rounded-2xl bg-green3 p-4 shadow-card max-sm:p-4",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("textarea",{placeholder:"     (  !).",value:e,onChange:c,className:"mb-1 min-h-40 w-full resize-none rounded-xl bg-white p-2.5 outline-none"}),E.jsxs("div",{className:"flex items-end",children:[E.jsxs("button",{type:"button",className:`flex items-center ${r?"text-blue3":"text-gray2"} py-1`,onClick:()=>i(w=>!w),children:[E.jsx(Yde,{}),E.jsx("span",{className:"pl-1",children:" "})]}),E.jsx(ht,{name:"",type:"submit",color:"blue",className:"ml-auto mt-2 !px-5 !py-2",disabled:f})]})]})})};function cF({creatorId:t,isAnonymous:e}){return E.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[E.jsx(qre,{fontSize:14}),E.jsx("span",{className:"mr-2 text-sm",children:""}),e?E.jsx("span",{className:"text-sm",children:" "}):E.jsx(ti,{userId:t,isLink:!1})]})}function dF({collName:t,post:e,postType:n}){const{uid:r}=Ve(Nt),{creatorId:i,isAnonymous:s}=e;return E.jsxs("header",{className:"flex items-center justify-between gap-1 rounded-xl",children:[E.jsx(cF,{creatorId:i,isAnonymous:s}),r===i&&t&&E.jsx(F3,{post:e,collName:t,postType:n})]})}function ZE({type:t,post:e,collName:n,className:r,children:i}){const{text:s}=e;return E.jsxs("article",{className:`flex min-h-[80px] w-full flex-col gap-2.5 ${r}`,children:[E.jsx(dF,{collName:n,post:e,postType:t}),E.jsx(T3,{text:s}),i]})}const Jde=({yearMonthId:t=Vn})=>{const[e,n]=Wt(Wde),r=Rr(t,fE);Q.useEffect(()=>{Yn(r,n)},[r]);const i=t===Vn;return E.jsxs("div",{className:`${!i&&e.length===0?"columns-1":"columns-2"} max-sm:columns-1`,children:[i&&E.jsx(Xde,{docMonth:t}),(e==null?void 0:e.length)!==0?E.jsx("ul",{children:e==null?void 0:e.map(s=>E.jsx("li",{className:"mb-6 flex w-full break-inside-avoid flex-col gap-4",children:E.jsx(ZE,{type:" ",post:s,collName:r,className:"rounded-2xl bg-white p-4 shadow-card",children:E.jsx(dv,{createdAt:s.createdAt,footerType:"likes",post:s,collName:r})})},s.id))}):E.jsx(As,{text:"   ."})]})};function o_({title:t,to:e,state:n,className:r="",onClick:i}){return E.jsxs(Ir,{to:e,state:n,className:`mt-3 flex items-center justify-end gap-1 text-sm text-gray1 ${r}`,onClick:i,children:[t&&E.jsx("span",{className:"font-medium",children:t}),E.jsx(EE,{className:""})]})}function Zde({to:t,name:e,state:n}){return E.jsxs(Ir,{to:t,state:n,className:"mb-2 flex items-center gap-1 rounded-xl px-4 py-3",children:[E.jsx(Ure,{className:"text-lg text-blue3"}),E.jsx("span",{className:"font-medium text-blue3",children:e})]})}const efe={spaceBetween:8,pagination:!1,scrollbar:!1,navigation:!1,autoplay:!1};function tfe({yearMonthId:t}){const[e,n]=Q.useState(""),[r,i]=Wt(uF),[s,o]=Wt(lF);Q.useEffect(()=>{Yn(Rr(t,zd),i),Yn(Rr(t,Wd),o)},[t,s==null?void 0:s.length]);const{pathname:a}=Fr(),l={:{postList:s,linkTo:"subjects",access:""}," ":{postList:r,linkTo:"host-review",access:""}},{postList:h,linkTo:c,access:f}=l[e],{blockLinkAndAlertJoinMember:p}=ei("see");return E.jsxs("div",{className:"w-full",children:[E.jsx("ul",{className:"flex gap-1",children:Object.keys(l).map(m=>E.jsx("li",{children:E.jsx("button",{onClick:()=>n(m),className:`rounded-t-xl px-3 py-2 ${m===e?"bg-blue4 font-medium text-blue3":"bg-white text-text"}`,children:m})},m))}),E.jsx("div",{className:`flex min-h-48 w-full flex-col items-center justify-center rounded-b-2xl rounded-tr-2xl p-4 shadow-card ${e?"bg-blue4":""}`,children:(h==null?void 0:h.length)!==0?E.jsxs(E.Fragment,{children:[E.jsx(Af,{options:efe,children:h==null?void 0:h.map((m,g)=>E.jsx(rc,{className:`!mt-0 min-h-fit !py-0 ${h.length===1?"w-full":"max-w-[70vw]"}`,children:E.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-xl bg-white p-3",children:[E.jsx(ZE,{type:e,post:m,className:"relative [&>p]:line-clamp-[6]"}),E.jsxs("span",{className:"absolute right-4 top-3 text-sm text-gray1",children:[g+1," / ",h.length]}),E.jsx(o_,{title:"",state:{postId:m.id},to:c,onClick:p,className:"bg-purple4 w-fit self-end rounded-xl px-4 py-3 !text-[15px] text-purple2 shadow-card"})]})},m.id))}),E.jsx(o_,{title:` ${e} `,to:c,onClick:p,className:"w-fit self-end px-2 !text-[15px] text-blue-500"})]}):E.jsx(E.Fragment,{children:a.includes("previous-club")?E.jsxs("span",{className:"text-sm text-blue3",children:[" ",e," "]}):E.jsxs(E.Fragment,{children:[E.jsx(Zde,{to:c,name:`${e}  `}),E.jsxs("span",{className:"text-sm text-gray1",children:[f,"   "]})]})})})]})}function nfe({collName:t,recommendedBookDetail:e}){const{creatorId:n,createdAt:r,text:i,title:s,thumbnail:o,recommendedBook:{url:a,authors:l,publisher:h,title:c,thumbnail:f}}=e;return E.jsxs(Di,{title:" ",className:"w-[40%]",children:[E.jsx(dF,{collName:t,post:e,postType:""}),E.jsxs("div",{className:"my-4 gap-2 overflow-scroll scrollbar-hide",children:[E.jsx(dn,{title:c,thumbnail:f,url:a,className:"float-left mb-2 mr-4 w-20"}),E.jsx("h4",{className:"text-lg",children:E.jsx("span",{className:"pr-1",children:c})}),E.jsx(Os,{authors:l,publisher:h}),E.jsxs("h3",{className:"mt-1 flex items-center border-t-2 border-dotted border-gray3 pt-2",children:[E.jsx(ti,{userId:n,isLink:!1}),"  "]}),E.jsx("p",{dangerouslySetInnerHTML:{__html:i},className:"mt-2 whitespace-pre-wrap break-all"}),E.jsx("h3",{className:"mt-10 text-sm text-gray1",children:"  "}),e.recommendedBook&&E.jsx(Cv,{book:{title:s,thumbnail:o},className:"mb-10 h-14"}),E.jsx(dv,{collName:t,createdAt:r,post:e,footerType:"likes"})]})]})}function rfe({docIds:{docId:t,monthId:e}}){var c,f;const[n,r]=Q.useState(),{showModal:i}=Yt(),o=`BookClub-${e.slice(0,4)}/${e}/RecommendedBooks/`;Q.useEffect(()=>{lr(o,t,r)},[]);const a=((c=n==null?void 0:n.recommendedBook)==null?void 0:c.title)||"",l=((f=n==null?void 0:n.recommendedBook)==null?void 0:f.thumbnail)||"",h=()=>i({element:E.jsx(nfe,{recommendedBookDetail:n,collName:o})});return E.jsx(E.Fragment,{children:n&&E.jsxs("button",{type:"button",onClick:h,className:"relative mx-2 mt-7 min-h-[102px] w-full rounded-xl bg-white px-6 py-3 shadow-card",children:[E.jsx(dn,{title:a,thumbnail:l,className:"!absolute bottom-4 w-[80px]"}),E.jsxs("div",{className:"ml-[90px] flex h-full flex-col items-start",children:[E.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[E.jsx(Tm,{fontSize:14,className:"text-gray2"}),E.jsx("span",{className:"mr-2 text-sm text-gray2",children:""}),E.jsx(ti,{userId:n.creatorId})]}),E.jsxs("div",{className:"mb-1 mt-1.5 flex flex-1 flex-col items-start",children:[E.jsx("span",{className:"mb-1 line-clamp-2 text-start text-base font-medium leading-[20px]",children:a}),E.jsx(Os,{authors:n.recommendedBook.authors,publisher:n.recommendedBook.publisher})]})]})]})})}const ife={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},500:{slidesPerView:1},320:{slidesPerView:1}},scrollbar:!1};function fF({yearMonthId:t}){const e=Ve(ma),n=Q.useMemo(()=>{const r=e.map(s=>{var o;return(o=s==null?void 0:s.userRecords)==null?void 0:o.recommendedBooks}).filter(s=>!!(s!=null&&s.length)).flat().sort(PO).slice(0,3),i=r.filter(s=>t?s.monthId===t:s).sort(PO);return t?i:r},[e,t]);return n.length!==0?E.jsx(Af,{options:ife,children:n.map(r=>E.jsx(rc,{children:E.jsx(rfe,{docIds:r})},r.docId))}):E.jsx(As,{text:"  ."})}const sfe=()=>{const t=OP(),e=(t==null?void 0:t.id)||Vn,n=e.slice(0,4),r=Ve(Ai(e)),[i,s]=Wt(El),o=ea(ec),{absenteeList:a,participantList:l}=Ve(v3(e));Q.useEffect(()=>{r||Yn(Ci,o),i||lr(`BookClub-${n}`,Mu,s)},[n]);const h=e===Vn;return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${h?"":dt(e,"yyyy M")} `,backBtn:!h,backTo:"/previous-bookclub"}),Sl(e)?E.jsx("main",{children:r?E.jsxs(E.Fragment,{children:[E.jsx(Mt,{title:" ",children:h?E.jsx(sF,{}):E.jsx(rF,{bookClub:r,className:"w-full"})}),(h&&r||!h)&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-5 gap-x-6 max-sm:flex max-sm:flex-col [&>section:first-child]:col-span-2 [&>section:last-child]:col-span-3",children:[a&&E.jsx(Mt,{title:" ",children:E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx(oI,{title:`  ${l.length}`,memberList:l}),E.jsx(oI,{title:`  ${a.length}`,memberList:a})]})}),E.jsxs(Mt,{title:"  ",children:[h&&E.jsx(Ys,{text:"  ,           .    ,            ."}),E.jsx(tfe,{yearMonthId:e})]})]}),E.jsxs(Mt,{title:h?" ":"",children:[h&&E.jsx(zde,{}),E.jsx(fF,{yearMonthId:e})]}),E.jsx(Mt,{title:" ",children:E.jsx(Jde,{yearMonthId:e})})]})]}):E.jsx(As,{text:"   ."})}):E.jsx(nc,{size:150,className:"h-[80vh]"})]})};function ofe(){return E.jsx("footer",{className:"border-t border-gray3 bg-blue1 px-4 pb-40 pt-10",children:E.jsx("span",{className:"mb-10 text-white",children:"   All rights reserved"})})}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function afe(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hF(t){var e=afe(t,"string");return fl(e)=="symbol"?e:String(e)}function fd(t,e,n){return e=hF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t){if(Array.isArray(t))return t}function ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){h=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pF(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Js(t,e){return lfe(t)||ufe(t,e)||pF(t,e)||cfe()}function dfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uo(t,e){if(t==null)return{};var n=dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var ffe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function hfe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,h=t.onChange,c=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,g=uo(t,ffe),y=Q.useState(a!==void 0?a:n),w=Js(y,2),b=w[0],x=w[1],S=Q.useState(l!==void 0?l:i),_=Js(S,2),k=_[0],N=_[1],O=Q.useState(m!==void 0?m:o),C=Js(O,2),I=C[0],P=C[1],A=Q.useCallback(function(Y,H){typeof h=="function"&&h(Y,H),P(Y)},[h]),D=Q.useCallback(function(Y,H){var j;typeof c=="function"&&(j=c(Y,H)),x(j!==void 0?j:Y)},[c]),L=Q.useCallback(function(){typeof p=="function"&&p(),N(!0)},[p]),F=Q.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),q=a!==void 0?a:b,M=l!==void 0?l:k,B=m!==void 0?m:I;return et(et({},g),{},{inputValue:q,menuIsOpen:M,onChange:A,onInputChange:D,onMenuClose:F,onMenuOpen:L,value:B})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hF(r.key),r)}}function mfe(t,e,n){return e&&HI(t.prototype,e),n&&HI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function vfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yfe(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vfe(t)}function wfe(t){var e=mF();return function(){var r=Xm(t),i;if(e){var s=Xm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return yfe(this,i)}}function bfe(t){if(Array.isArray(t))return a_(t)}function xfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ek(t){return bfe(t)||xfe(t)||pF(t)||_fe()}function Sfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Efe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var kfe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Efe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Sfe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),mr="-ms-",Jm="-moz-",Ot="-webkit-",gF="comm",tk="rule",nk="decl",Tfe="@import",vF="@keyframes",Cfe="@layer",Nfe=Math.abs,Nv=String.fromCharCode,Ofe=Object.assign;function Afe(t,e){return rr(t,0)^45?(((e<<2^rr(t,0))<<2^rr(t,1))<<2^rr(t,2))<<2^rr(t,3):0}function yF(t){return t.trim()}function Dfe(t,e){return(t=e.exec(t))?t[0]:t}function At(t,e,n){return t.replace(e,n)}function u_(t,e){return t.indexOf(e)}function rr(t,e){return t.charCodeAt(e)|0}function Xd(t,e,n){return t.slice(e,n)}function as(t){return t.length}function rk(t){return t.length}function wp(t,e){return e.push(t),t}function Ife(t,e){return t.map(e).join("")}var Ov=1,Vu=1,wF=0,Zr=0,Rn=0,ic="";function Av(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ov,column:Vu,length:o,return:""}}function Jc(t,e){return Ofe(Av("",null,null,"",null,null,0),t,{length:-t.length},e)}function Pfe(){return Rn}function Rfe(){return Rn=Zr>0?rr(ic,--Zr):0,Vu--,Rn===10&&(Vu=1,Ov--),Rn}function di(){return Rn=Zr<wF?rr(ic,Zr++):0,Vu++,Rn===10&&(Vu=1,Ov++),Rn}function ks(){return rr(ic,Zr)}function Vp(){return Zr}function Mf(t,e){return Xd(ic,t,e)}function Jd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bF(t){return Ov=Vu=1,wF=as(ic=t),Zr=0,[]}function xF(t){return ic="",t}function qp(t){return yF(Mf(Zr-1,c_(t===91?t+2:t===40?t+1:t)))}function Mfe(t){for(;(Rn=ks())&&Rn<33;)di();return Jd(t)>2||Jd(Rn)>3?"":" "}function Lfe(t,e){for(;--e&&di()&&!(Rn<48||Rn>102||Rn>57&&Rn<65||Rn>70&&Rn<97););return Mf(t,Vp()+(e<6&&ks()==32&&di()==32))}function c_(t){for(;di();)switch(Rn){case t:return Zr;case 34:case 39:t!==34&&t!==39&&c_(Rn);break;case 40:t===41&&c_(t);break;case 92:di();break}return Zr}function jfe(t,e){for(;di()&&t+Rn!==57;)if(t+Rn===84&&ks()===47)break;return"/*"+Mf(e,Zr-1)+"*"+Nv(t===47?t:di())}function Ffe(t){for(;!Jd(ks());)di();return Mf(t,Zr)}function $fe(t){return xF(Hp("",null,null,null,[""],t=bF(t),0,[0],t))}function Hp(t,e,n,r,i,s,o,a,l){for(var h=0,c=0,f=o,p=0,m=0,g=0,y=1,w=1,b=1,x=0,S="",_=i,k=s,N=r,O=S;w;)switch(g=x,x=di()){case 40:if(g!=108&&rr(O,f-1)==58){u_(O+=At(qp(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:O+=qp(x);break;case 9:case 10:case 13:case 32:O+=Mfe(g);break;case 92:O+=Lfe(Vp()-1,7);continue;case 47:switch(ks()){case 42:case 47:wp(Bfe(jfe(di(),Vp()),e,n),l);break;default:O+="/"}break;case 123*y:a[h++]=as(O)*b;case 125*y:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+c:b==-1&&(O=At(O,/\f/g,"")),m>0&&as(O)-f&&wp(m>32?WI(O+";",r,n,f-1):WI(At(O," ","")+";",r,n,f-2),l);break;case 59:O+=";";default:if(wp(N=zI(O,e,n,h,c,i,a,S,_=[],k=[],f),s),x===123)if(c===0)Hp(O,e,N,N,_,s,f,a,k);else switch(p===99&&rr(O,3)===110?100:p){case 100:case 108:case 109:case 115:Hp(t,N,N,r&&wp(zI(t,N,N,0,0,i,a,S,i,_=[],f),k),i,k,f,a,r?_:k);break;default:Hp(O,N,N,N,[""],k,0,a,k)}}h=c=m=0,y=b=1,S=O="",f=o;break;case 58:f=1+as(O),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Rfe()==125)continue}switch(O+=Nv(x),x*y){case 38:b=c>0?1:(O+="\f",-1);break;case 44:a[h++]=(as(O)-1)*b,b=1;break;case 64:ks()===45&&(O+=qp(di())),p=ks(),c=f=as(S=O+=Ffe(Vp())),x++;break;case 45:g===45&&as(O)==2&&(y=0)}}return s}function zI(t,e,n,r,i,s,o,a,l,h,c){for(var f=i-1,p=i===0?s:[""],m=rk(p),g=0,y=0,w=0;g<r;++g)for(var b=0,x=Xd(t,f+1,f=Nfe(y=o[g])),S=t;b<m;++b)(S=yF(y>0?p[b]+" "+x:At(x,/&\f/g,p[b])))&&(l[w++]=S);return Av(t,e,n,i===0?tk:a,l,h,c)}function Bfe(t,e,n){return Av(t,e,n,gF,Nv(Pfe()),Xd(t,2,-2),0)}function WI(t,e,n,r){return Av(t,e,n,nk,Xd(t,0,r),Xd(t,r+1,-1),r)}function wu(t,e){for(var n="",r=rk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Ufe(t,e,n,r){switch(t.type){case Cfe:if(t.children.length)break;case Tfe:case nk:return t.return=t.return||t.value;case gF:return"";case vF:return t.return=t.value+"{"+wu(t.children,r)+"}";case tk:t.value=t.props.join(",")}return as(n=wu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Vfe(t){var e=rk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function qfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Hfe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var zfe=function(e,n,r){for(var i=0,s=0;i=s,s=ks(),i===38&&s===12&&(n[r]=1),!Jd(s);)di();return Mf(e,Zr)},Wfe=function(e,n){var r=-1,i=44;do switch(Jd(i)){case 0:i===38&&ks()===12&&(n[r]=1),e[r]+=zfe(Zr-1,n,r);break;case 2:e[r]+=qp(i);break;case 4:if(i===44){e[++r]=ks()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Nv(i)}while(i=di());return e},Yfe=function(e,n){return xF(Wfe(bF(e),n))},YI=new WeakMap,Gfe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!YI.get(r))&&!i){YI.set(e,!0);for(var s=[],o=Yfe(n,s),a=r.props,l=0,h=0;l<o.length;l++)for(var c=0;c<a.length;c++,h++)e.props[h]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Kfe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function _F(t,e){switch(Afe(t,e)){case 5103:return Ot+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ot+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ot+t+Jm+t+mr+t+t;case 6828:case 4268:return Ot+t+mr+t+t;case 6165:return Ot+t+mr+"flex-"+t+t;case 5187:return Ot+t+At(t,/(\w+).+(:[^]+)/,Ot+"box-$1$2"+mr+"flex-$1$2")+t;case 5443:return Ot+t+mr+"flex-item-"+At(t,/flex-|-self/,"")+t;case 4675:return Ot+t+mr+"flex-line-pack"+At(t,/align-content|flex-|-self/,"")+t;case 5548:return Ot+t+mr+At(t,"shrink","negative")+t;case 5292:return Ot+t+mr+At(t,"basis","preferred-size")+t;case 6060:return Ot+"box-"+At(t,"-grow","")+Ot+t+mr+At(t,"grow","positive")+t;case 4554:return Ot+At(t,/([^-])(transform)/g,"$1"+Ot+"$2")+t;case 6187:return At(At(At(t,/(zoom-|grab)/,Ot+"$1"),/(image-set)/,Ot+"$1"),t,"")+t;case 5495:case 3959:return At(t,/(image-set\([^]*)/,Ot+"$1$`$1");case 4968:return At(At(t,/(.+:)(flex-)?(.*)/,Ot+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ot+t+t;case 4095:case 3583:case 4068:case 2532:return At(t,/(.+)-inline(.+)/,Ot+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(t)-1-e>6)switch(rr(t,e+1)){case 109:if(rr(t,e+4)!==45)break;case 102:return At(t,/(.+:)(.+)-([^]+)/,"$1"+Ot+"$2-$3$1"+Jm+(rr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~u_(t,"stretch")?_F(At(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rr(t,e+1)!==115)break;case 6444:switch(rr(t,as(t)-3-(~u_(t,"!important")&&10))){case 107:return At(t,":",":"+Ot)+t;case 101:return At(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ot+(rr(t,14)===45?"inline-":"")+"box$3$1"+Ot+"$2$3$1"+mr+"$2box$3")+t}break;case 5936:switch(rr(t,e+11)){case 114:return Ot+t+mr+At(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ot+t+mr+At(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ot+t+mr+At(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ot+t+mr+t+t}return t}var Qfe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case nk:e.return=_F(e.value,e.length);break;case vF:return wu([Jc(e,{value:At(e.value,"@","@"+Ot)})],i);case tk:if(e.length)return Ife(e.props,function(s){switch(Dfe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wu([Jc(e,{props:[At(s,/:(read-\w+)/,":"+Jm+"$1")]})],i);case"::placeholder":return wu([Jc(e,{props:[At(s,/:(plac\w+)/,":"+Ot+"input-$1")]}),Jc(e,{props:[At(s,/:(plac\w+)/,":"+Jm+"$1")]}),Jc(e,{props:[At(s,/:(plac\w+)/,mr+"input-$1")]})],i)}return""})}},Xfe=[Qfe],Jfe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||Xfe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)s[w[b]]=!0;a.push(y)});var l,h=[Gfe,Kfe];{var c,f=[Ufe,qfe(function(y){c.insert(y)})],p=Vfe(h.concat(i,f)),m=function(w){return wu($fe(w),p)};l=function(w,b,x,S){c=x,m(w?w+"{"+b.styles+"}":b.styles),S&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new kfe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},$b={exports:{}},Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function Zfe(){if(GI)return Rt;GI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case l:case h:case r:case s:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case g:case m:case o:return k;default:return N}}case n:return N}}}function _(k){return S(k)===h}return Rt.AsyncMode=l,Rt.ConcurrentMode=h,Rt.ContextConsumer=a,Rt.ContextProvider=o,Rt.Element=e,Rt.ForwardRef=c,Rt.Fragment=r,Rt.Lazy=g,Rt.Memo=m,Rt.Portal=n,Rt.Profiler=s,Rt.StrictMode=i,Rt.Suspense=f,Rt.isAsyncMode=function(k){return _(k)||S(k)===l},Rt.isConcurrentMode=_,Rt.isContextConsumer=function(k){return S(k)===a},Rt.isContextProvider=function(k){return S(k)===o},Rt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Rt.isForwardRef=function(k){return S(k)===c},Rt.isFragment=function(k){return S(k)===r},Rt.isLazy=function(k){return S(k)===g},Rt.isMemo=function(k){return S(k)===m},Rt.isPortal=function(k){return S(k)===n},Rt.isProfiler=function(k){return S(k)===s},Rt.isStrictMode=function(k){return S(k)===i},Rt.isSuspense=function(k){return S(k)===f},Rt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===h||k===s||k===i||k===f||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===o||k.$$typeof===a||k.$$typeof===c||k.$$typeof===w||k.$$typeof===b||k.$$typeof===x||k.$$typeof===y)},Rt.typeOf=S,Rt}var KI;function ehe(){return KI||(KI=1,$b.exports=Zfe()),$b.exports}var Bb,QI;function the(){if(QI)return Bb;QI=1;var t=ehe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(g){return t.isMemo(g)?i:s[g.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(g,y,w){if(typeof y!="string"){if(p){var b=f(y);b&&b!==p&&m(g,b,w)}var x=l(y);h&&(x=x.concat(h(y)));for(var S=o(g),_=o(y),k=0;k<x.length;++k){var N=x[k];if(!n[N]&&!(w&&w[N])&&!(_&&_[N])&&!(S&&S[N])){var O=c(y,N);try{a(g,N,O)}catch{}}}}return g}return Bb=m,Bb}the();var nhe=!0;function rhe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var SF=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||nhe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ihe=function(e,n,r){SF(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function she(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ohe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ahe=/[A-Z]|^ms/g,lhe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EF=function(e){return e.charCodeAt(1)===45},XI=function(e){return e!=null&&typeof e!="boolean"},Ub=Hfe(function(t){return EF(t)?t:t.replace(ahe,"-$&").toLowerCase()}),JI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(lhe,function(r,i,s){return ls={name:i,styles:s,next:ls},i})}return ohe[e]!==1&&!EF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ls={name:n.name,styles:n.styles,next:ls},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ls={name:r.name,styles:r.styles,next:ls},r=r.next;var i=n.styles+";";return i}return uhe(t,e,n)}case"function":{if(t!==void 0){var s=ls,o=n(t);return ls=s,Zd(t,e,o)}break}}return n}function uhe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")XI(o)&&(r+=Ub(s)+":"+JI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var a=0;a<o.length;a++)XI(o[a])&&(r+=Ub(s)+":"+JI(s,o[a])+";");else{var l=Zd(t,e,o);switch(s){case"animation":case"animationName":{r+=Ub(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var ZI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ls,kF=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ls=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Zd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Zd(r,n,e[a]),i&&(s+=o[a]);ZI.lastIndex=0;for(var l="",h;(h=ZI.exec(s))!==null;)l+="-"+h[1];var c=she(s)+l;return{name:c,styles:s,next:ls}},che=function(e){return e()},dhe=Wp.useInsertionEffect?Wp.useInsertionEffect:!1,fhe=dhe||che,ik={}.hasOwnProperty,TF=Q.createContext(typeof HTMLElement<"u"?Jfe({key:"css"}):null);TF.Provider;var hhe=function(e){return Q.forwardRef(function(n,r){var i=Q.useContext(TF);return e(n,i,r)})},phe=Q.createContext({}),d_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mhe=function(e,n){var r={};for(var i in n)ik.call(n,i)&&(r[i]=n[i]);return r[d_]=e,r},ghe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return SF(n,r,i),fhe(function(){return ihe(n,r,i)}),null},vhe=hhe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[d_],s=[r],o="";typeof t.className=="string"?o=rhe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=kF(s,void 0,Q.useContext(phe));o+=e.key+"-"+a.name;var l={};for(var h in t)ik.call(t,h)&&h!=="css"&&h!==d_&&(l[h]=t[h]);return l.ref=n,l.className=o,Q.createElement(Q.Fragment,null,Q.createElement(ghe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),Q.createElement(i,l))}),yhe=vhe,Xe=function(e,n){var r=arguments;if(n==null||!ik.call(n,"css"))return Q.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=yhe,s[1]=mhe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return Q.createElement.apply(null,s)};function sk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return kF(e)}var whe=function(){var e=sk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function bhe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var f_=Q.useLayoutEffect,xhe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Zm=function(){};function _he(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function She(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(_he(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var eP=function(e){return Ihe(e)?e.filter(Boolean):fl(e)==="object"&&e!==null?[e]:[]},CF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=uo(e,xhe);return et({},n)},wn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Dv(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Ehe(t){return Dv(t)?window.innerHeight:t.clientHeight}function NF(t){return Dv(t)?window.pageYOffset:t.scrollTop}function eg(t,e){if(Dv(t)){window.scrollTo(0,e);return}t.scrollTop=e}function khe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function The(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function bp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Zm,i=NF(t),s=e-i,o=10,a=0;function l(){a+=o;var h=The(a,i,s,n);eg(t,h),a<n?window.requestAnimationFrame(l):r(t)}l()}function tP(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?eg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&eg(t,Math.max(e.offsetTop-i,0))}function Che(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function nP(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Nhe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var OF=!1,Ohe={get passive(){return OF=!0}},xp=typeof window<"u"?window:{};xp.addEventListener&&xp.removeEventListener&&(xp.addEventListener("p",Zm,Ohe),xp.removeEventListener("p",Zm,!1));var Ahe=OF;function Dhe(t){return t!=null}function Ihe(t){return Array.isArray(t)}function _p(t,e,n){return t?e:n}var Phe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Js(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Js(a,2),h=l[0],c=l[1];return o[h]=c,o},{})},Rhe=["children","innerProps"],Mhe=["children","innerProps"];function Lhe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=khe(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var c=l.getBoundingClientRect(),f=c.height,p=n.getBoundingClientRect(),m=p.bottom,g=p.height,y=p.top,w=n.offsetParent.getBoundingClientRect(),b=w.top,x=o?window.innerHeight:Ehe(l),S=NF(l),_=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),N=b-k,O=x-y,C=N+S,I=f-S-y,P=m-x+S+_,A=S+y-k,D=160;switch(i){case"auto":case"bottom":if(O>=g)return{placement:"bottom",maxHeight:e};if(I>=g&&!o)return s&&bp(l,P,D),{placement:"bottom",maxHeight:e};if(!o&&I>=r||o&&O>=r){s&&bp(l,P,D);var L=o?O-_:I-_;return{placement:"bottom",maxHeight:L}}if(i==="auto"||o){var F=e,q=o?N:C;return q>=r&&(F=Math.min(q-_-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return s&&eg(l,P),{placement:"bottom",maxHeight:e};break;case"top":if(N>=g)return{placement:"top",maxHeight:e};if(C>=g&&!o)return s&&bp(l,A,D),{placement:"top",maxHeight:e};if(!o&&C>=r||o&&N>=r){var M=e;return(!o&&C>=r||o&&N>=r)&&(M=o?N-k:C-k),s&&bp(l,A,D),{placement:"top",maxHeight:M}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function jhe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var AF=function(e){return e==="auto"?"bottom":e},Fhe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return et((r={label:"menu"},fd(r,jhe(i),"100%"),fd(r,"position","absolute"),fd(r,"width","100%"),fd(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},DF=Q.createContext(null),$he=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,h=Q.useContext(DF)||{},c=h.setPortalPlacement,f=Q.useRef(null),p=Q.useState(i),m=Js(p,2),g=m[0],y=m[1],w=Q.useState(null),b=Js(w,2),x=b[0],S=b[1],_=l.spacing.controlHeight;return f_(function(){var k=f.current;if(k){var N=o==="fixed",O=a&&!N,C=Lhe({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:O,isFixedPosition:N,controlHeight:_});y(C.maxHeight),S(C.placement),c==null||c(C.placement)}},[i,s,o,a,r,c,_]),n({ref:f,placerProps:et(et({},e),{},{placement:x||AF(s),maxHeight:g})})},Bhe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Xe("div",tt({},wn(e,"menu",{menu:!0}),{ref:r},i),n)},Uhe=Bhe,Vhe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return et({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},qhe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Xe("div",tt({},wn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},IF=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return et({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Hhe=IF,zhe=IF,Whe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=uo(e,Rhe);return Xe("div",tt({},wn(et(et({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Yhe=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=uo(e,Mhe);return Xe("div",tt({},wn(et(et({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Ghe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Khe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=Q.useRef(null),h=Q.useRef(null),c=Q.useState(AF(o)),f=Js(c,2),p=f[0],m=f[1],g=Q.useMemo(function(){return{setPortalPlacement:m}},[]),y=Q.useState(null),w=Js(y,2),b=w[0],x=w[1],S=Q.useCallback(function(){if(i){var O=Che(i),C=a==="fixed"?0:window.pageYOffset,I=O[p]+C;(I!==(b==null?void 0:b.offset)||O.left!==(b==null?void 0:b.rect.left)||O.width!==(b==null?void 0:b.rect.width))&&x({offset:I,rect:O})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);f_(function(){S()},[S]);var _=Q.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&l.current&&(h.current=U5(i,l.current,S,{elementResize:"ResizeObserver"in window}))},[i,S]);f_(function(){_()},[_]);var k=Q.useCallback(function(O){l.current=O,_()},[_]);if(!n&&a!=="fixed"||!b)return null;var N=Xe("div",tt({ref:k},wn(et(et({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Xe(DF.Provider,{value:g},n?m_.createPortal(N,n):N)},Qhe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Xhe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Xe("div",tt({},wn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},Jhe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return et({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Zhe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Xe("div",tt({},wn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},epe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},tpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},wn(e,"indicatorsContainer",{indicators:!0}),r),n)},rP,npe=["size"],rpe=["innerProps","isRtl","size"],ipe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},PF=function(e){var n=e.size,r=uo(e,npe);return Xe("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ipe},r))},ok=function(e){return Xe(PF,tt({size:20},e),Xe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},RF=function(e){return Xe(PF,tt({size:20},e),Xe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},MF=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return et({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},spe=MF,ope=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},wn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Xe(RF,null))},ape=MF,lpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},wn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Xe(ok,null))},upe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return et({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},cpe=function(e){var n=e.innerProps;return Xe("span",tt({},n,wn(e,"indicatorSeparator",{"indicator-separator":!0})))},dpe=whe(rP||(rP=bhe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),fpe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return et({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Vb=function(e){var n=e.delay,r=e.offset;return Xe("span",{css:sk({animation:"".concat(dpe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},hpe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=uo(e,rpe);return Xe("div",tt({},wn(et(et({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Xe(Vb,{delay:0,offset:r}),Xe(Vb,{delay:160,offset:!0}),Xe(Vb,{delay:320,offset:!r}))},ppe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return et({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},mpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Xe("div",tt({ref:s},wn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},gpe=mpe,vpe=["data"],ype=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},wpe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,h=e.label,c=e.theme,f=e.selectProps;return Xe("div",tt({},wn(e,"group",{group:!0}),l),Xe(o,tt({},a,{selectProps:f,theme:c,getStyles:i,getClassNames:s,cx:r}),h),Xe("div",null,n))},bpe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return et({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},xpe=function(e){var n=CF(e);n.data;var r=uo(n,vpe);return Xe("div",tt({},wn(e,"groupHeading",{"group-heading":!0}),r))},_pe=wpe,Spe=["innerRef","isDisabled","isHidden","inputClassName"],Epe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return et(et({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},kpe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},LF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kpe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":et({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},LF)},Tpe=function(e){return et({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},LF)},Cpe=function(e){var n=e.cx,r=e.value,i=CF(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,h=uo(i,Spe);return Xe("div",tt({},wn(e,"input",{"input-container":!0}),{"data-value":r||""}),Xe("input",tt({className:n({input:!0},l),ref:s,style:Tpe(a),disabled:o},h)))},Npe=Cpe,Ope=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return et({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Ape=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return et({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Dpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return et({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},jF=function(e){var n=e.children,r=e.innerProps;return Xe("div",r,n)},Ipe=jF,Ppe=jF;function Rpe(t){var e=t.children,n=t.innerProps;return Xe("div",tt({role:"button"},n),e||Xe(ok,{size:14}))}var Mpe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,h=r.Container,c=r.Label,f=r.Remove;return Xe(h,{data:i,innerProps:et(et({},wn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Xe(c,{data:i,innerProps:et({},wn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Xe(f,{data:i,innerProps:et(et({},wn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Lpe=Mpe,jpe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return et({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Fpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Xe("div",tt({},wn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},$pe=Fpe,Bpe=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return et({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Upe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},wn(e,"placeholder",{placeholder:!0}),r),n)},Vpe=Upe,qpe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return et({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Hpe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Xe("div",tt({},wn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},zpe=Hpe,Wpe={ClearIndicator:lpe,Control:gpe,DropdownIndicator:ope,DownChevron:RF,CrossIcon:ok,Group:_pe,GroupHeading:xpe,IndicatorsContainer:tpe,IndicatorSeparator:cpe,Input:Npe,LoadingIndicator:hpe,Menu:Uhe,MenuList:qhe,MenuPortal:Khe,LoadingMessage:Yhe,NoOptionsMessage:Whe,MultiValue:Lpe,MultiValueContainer:Ipe,MultiValueLabel:Ppe,MultiValueRemove:Rpe,Option:$pe,Placeholder:Vpe,SelectContainer:Xhe,SingleValue:zpe,ValueContainer:Zhe},Ype=function(e){return et(et({},Wpe),e.components)},iP=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Gpe(t,e){return!!(t===e||iP(t)&&iP(e))}function Kpe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Gpe(t[n],e[n]))return!1;return!0}function Qpe(t,e){e===void 0&&(e=Kpe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Xpe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Jpe=function(e){return Xe("span",tt({css:Xpe},e))},sP=Jpe,Zpe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,h=e.isSelected,c=e.isAppleDevice,f=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(f(a,r),".");if(n==="menu"&&c){var p=l?" disabled":"",m="".concat(h?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(f(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},eme=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,h=e.id,c=e.isAppleDevice,f=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,g=l.isMulti,y=l.isOptionDisabled,w=l.isSearchable,b=l.menuIsOpen,x=l.options,S=l.screenReaderStatus,_=l.tabSelectsValue,k=l.isLoading,N=l["aria-label"],O=l["aria-live"],C=Q.useMemo(function(){return et(et({},Zpe),f||{})},[f]),I=Q.useMemo(function(){var q="";if(n&&C.onChange){var M=n.option,B=n.options,Y=n.removedValue,H=n.removedValues,j=n.value,U=function(Z){return Array.isArray(Z)?null:Z},V=Y||M||U(j),z=V?p(V):"",K=B||H||void 0,X=K?K.map(p):[],W=et({isDisabled:V&&y(V,a),label:z,labels:X},n);q=C.onChange(W)}return q},[n,C,y,a,p]),P=Q.useMemo(function(){var q="",M=r||i,B=!!(r&&a&&a.includes(r));if(M&&C.onFocus){var Y={focused:M,label:p(M),isDisabled:y(M,a),isSelected:B,options:s,context:M===r?"menu":"value",selectValue:a,isAppleDevice:c};q=C.onFocus(Y)}return q},[r,i,p,y,C,s,a,c]),A=Q.useMemo(function(){var q="";if(b&&x.length&&!k&&C.onFilter){var M=S({count:s.length});q=C.onFilter({inputValue:m,resultsMessage:M})}return q},[s,m,b,C,x,S,k]),D=(n==null?void 0:n.action)==="initial-input-focus",L=Q.useMemo(function(){var q="";if(C.guidance){var M=i?"value":b?"menu":"input";q=C.guidance({"aria-label":N,context:M,isDisabled:r&&y(r,a),isMulti:g,isSearchable:w,tabSelectsValue:_,isInitialFocus:D})}return q},[N,r,i,g,y,w,b,C,a,_,D]),F=Xe(Q.Fragment,null,Xe("span",{id:"aria-selection"},I),Xe("span",{id:"aria-focused"},P),Xe("span",{id:"aria-results"},A),Xe("span",{id:"aria-guidance"},L));return Xe(Q.Fragment,null,Xe(sP,{id:h},D&&F),Xe(sP,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!D&&F))},tme=eme,h_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],nme=new RegExp("["+h_.map(function(t){return t.letters}).join("")+"]","g"),FF={};for(var qb=0;qb<h_.length;qb++)for(var Hb=h_[qb],zb=0;zb<Hb.letters.length;zb++)FF[Hb.letters[zb]]=Hb.base;var $F=function(e){return e.replace(nme,function(n){return FF[n]})},rme=Qpe($F),oP=function(e){return e.replace(/^\s+|\s+$/g,"")},ime=function(e){return"".concat(e.label," ").concat(e.value)},sme=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=et({ignoreCase:!0,ignoreAccents:!0,stringify:ime,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,h=i.matchFrom,c=l?oP(r):r,f=l?oP(a(n)):a(n);return s&&(c=c.toLowerCase(),f=f.toLowerCase()),o&&(c=rme(c),f=$F(f)),h==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},ome=["innerRef"];function ame(t){var e=t.innerRef,n=uo(t,ome),r=Phe(n,"onExited","in","enter","exit","appear");return Xe("input",tt({ref:e},r,{css:sk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var lme=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function ume(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=Q.useRef(!1),a=Q.useRef(!1),l=Q.useRef(0),h=Q.useRef(null),c=Q.useCallback(function(w,b){if(h.current!==null){var x=h.current,S=x.scrollTop,_=x.scrollHeight,k=x.clientHeight,N=h.current,O=b>0,C=_-k-S,I=!1;C>b&&o.current&&(r&&r(w),o.current=!1),O&&a.current&&(s&&s(w),a.current=!1),O&&b>C?(n&&!o.current&&n(w),N.scrollTop=_,I=!0,o.current=!0):!O&&-b>S&&(i&&!a.current&&i(w),N.scrollTop=0,I=!0,a.current=!0),I&&lme(w)}},[n,r,i,s]),f=Q.useCallback(function(w){c(w,w.deltaY)},[c]),p=Q.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=Q.useCallback(function(w){var b=l.current-w.changedTouches[0].clientY;c(w,b)},[c]),g=Q.useCallback(function(w){if(w){var b=Ahe?{passive:!1}:!1;w.addEventListener("wheel",f,b),w.addEventListener("touchstart",p,b),w.addEventListener("touchmove",m,b)}},[m,p,f]),y=Q.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,f]);return Q.useEffect(function(){if(e){var w=h.current;return g(w),function(){y(w)}}},[e,g,y]),function(w){h.current=w}}var aP=["boxSizing","height","overflow","paddingRight","position"],lP={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uP(t){t.preventDefault()}function cP(t){t.stopPropagation()}function dP(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function fP(){return"ontouchstart"in window||navigator.maxTouchPoints}var hP=!!(typeof window<"u"&&window.document&&window.document.createElement),Zc=0,Jl={capture:!1,passive:!1};function cme(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=Q.useRef({}),s=Q.useRef(null),o=Q.useCallback(function(l){if(hP){var h=document.body,c=h&&h.style;if(r&&aP.forEach(function(g){var y=c&&c[g];i.current[g]=y}),r&&Zc<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(lP).forEach(function(g){var y=lP[g];c&&(c[g]=y)}),c&&(c.paddingRight="".concat(m,"px"))}h&&fP()&&(h.addEventListener("touchmove",uP,Jl),l&&(l.addEventListener("touchstart",dP,Jl),l.addEventListener("touchmove",cP,Jl))),Zc+=1}},[r]),a=Q.useCallback(function(l){if(hP){var h=document.body,c=h&&h.style;Zc=Math.max(Zc-1,0),r&&Zc<1&&aP.forEach(function(f){var p=i.current[f];c&&(c[f]=p)}),h&&fP()&&(h.removeEventListener("touchmove",uP,Jl),l&&(l.removeEventListener("touchstart",dP,Jl),l.removeEventListener("touchmove",cP,Jl)))}},[r]);return Q.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var dme=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},fme={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function hme(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,h=ume({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=cme({isEnabled:n}),f=function(m){h(m),c(m)};return Xe(Q.Fragment,null,n&&Xe("div",{onClick:dme,css:fme}),e(f))}var pme={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},mme=function(e){var n=e.name,r=e.onFocus;return Xe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:pme,value:"",onChange:function(){}})},gme=mme;function ak(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function vme(){return ak(/^iPhone/i)}function BF(){return ak(/^Mac/i)}function yme(){return ak(/^iPad/i)||BF()&&navigator.maxTouchPoints>1}function wme(){return vme()||yme()}function bme(){return BF()||wme()}var xme=function(e){return e.label},_me=function(e){return e.label},Sme=function(e){return e.value},Eme=function(e){return!!e.isDisabled},kme={clearIndicator:ape,container:Qhe,control:ppe,dropdownIndicator:spe,group:ype,groupHeading:bpe,indicatorsContainer:epe,indicatorSeparator:upe,input:Epe,loadingIndicator:fpe,loadingMessage:zhe,menu:Fhe,menuList:Vhe,menuPortal:Ghe,multiValue:Ope,multiValueLabel:Ape,multiValueRemove:Dpe,noOptionsMessage:Hhe,option:jpe,placeholder:Bpe,singleValue:qpe,valueContainer:Jhe},Tme={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Cme=4,UF=4,Nme=38,Ome=UF*2,Ame={baseUnit:UF,controlHeight:Nme,menuGutter:Ome},Wb={borderRadius:Cme,colors:Tme,spacing:Ame},Dme={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:nP(),captureMenuScroll:!nP(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:sme(),formatGroupLabel:xme,getOptionLabel:_me,getOptionValue:Sme,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Eme,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Nhe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function pP(t,e,n,r){var i=HF(t,e,n),s=zF(t,e,n),o=qF(t,e),a=tg(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function zp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return pP(t,o,e,a)}).filter(function(o){return gP(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=pP(t,n,e,r);return gP(t,s)?s:void 0}).filter(Dhe)}function VF(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,ek(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function mP(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,ek(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Ime(t,e){return VF(zp(t,e))}function gP(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!YF(t)||!s)&&WF(t,{label:o,value:a,data:i},r)}function Pme(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Rme(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Yb=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},qF=function(e,n){return e.getOptionLabel(n)},tg=function(e,n){return e.getOptionValue(n)};function HF(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function zF(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=tg(t,e);return n.some(function(i){return tg(t,i)===r})}function WF(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var YF=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Mme=1,GF=function(t){gfe(n,t);var e=wfe(n);function n(r){var i;if(pfe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=bme(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,h){var c=i.props,f=c.onChange,p=c.name;h.name=p,i.ariaOnChange(l,h),f(l,h)},i.setValue=function(l,h,c){var f=i.props,p=f.closeMenuOnSelect,m=f.isMulti,g=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:h,option:c})},i.selectOption=function(l){var h=i.props,c=h.blurInputOnSelect,f=h.isMulti,p=h.name,m=i.state.selectValue,g=f&&i.isOptionSelected(l,m),y=i.isOptionDisabled(l,m);if(g){var w=i.getOptionValue(l);i.setValue(m.filter(function(b){return i.getOptionValue(b)!==w}),"deselect-option",l)}else if(!y)f?i.setValue([].concat(ek(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:p});return}c&&i.blurInput()},i.removeValue=function(l){var h=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),p=c.filter(function(g){return i.getOptionValue(g)!==f}),m=_p(h,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(_p(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,h=i.state.selectValue,c=h[h.length-1],f=h.slice(0,h.length-1),p=_p(l,f,f[0]||null);i.onChange(p,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return Yb(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return mP(zp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,h=new Array(l),c=0;c<l;c++)h[c]=arguments[c];return She.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(l){return qF(i.props,l)},i.getOptionValue=function(l){return tg(i.props,l)},i.getStyles=function(l,h){var c=i.props.unstyled,f=kme[l](h,c);f.boxSizing="border-box";var p=i.props.styles[l];return p?p(f,h):f},i.getClassNames=function(l,h){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,h)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return Ype(i.props)},i.buildCategorizedOptions=function(){return zp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return VF(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,h){i.setState({ariaSelection:et({value:l},h)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var h=i.props,c=h.isMulti,f=h.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Dv(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var h=l.touches,c=h&&h.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var h=l.touches,c=h&&h.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),p=Math.abs(c.clientY-i.initialTouchY),m=5;i.userIsDragging=f>m||p>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var h=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var h=i.getFocusableOptions(),c=h.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return YF(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var h=i.props,c=h.isMulti,f=h.backspaceRemovesValue,p=h.escapeClearsValue,m=h.inputValue,g=h.isClearable,y=h.isDisabled,w=h.menuIsOpen,b=h.onKeyDown,x=h.tabSelectsValue,S=h.openMenuOnFocus,_=i.state,k=_.focusedOption,N=_.focusedValue,O=_.selectValue;if(!y&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||m)return;i.focusValue("previous");break;case"ArrowRight":if(!c||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(N)i.removeValue(N);else{if(!f)return;c?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!w||!x||!k||S&&i.isOptionSelected(k,O))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(w){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):g&&p&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Mme),i.state.selectValue=eP(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=Yb(s,o[a])}return i}return mfe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&tP(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(tP(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,h=this.buildFocusableOptions(),c=i==="first"?0:h.length-1;if(!this.props.isMulti){var f=h.indexOf(a[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[c],focusedOptionId:this.getFocusedOptionId(h[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var h=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=h:c=l-1;break;case"next":l>-1&&l<h&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,h=a.indexOf(o);o||(h=-1),i==="up"?l=h>0?h-1:a.length-1:i==="down"?l=(h+1)%a.length:i==="pageup"?(l=h-s,l<0&&(l=0)):i==="pagedown"?(l=h+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Wb):et(et({},Wb),this.props.theme):Wb}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,h=this.selectOption,c=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:g,selectOption:h,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return HF(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return zF(this.props,i,s)}},{key:"filterOption",value:function(i,s){return WF(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,h=i.tabIndex,c=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),g=m.Input,y=this.state,w=y.inputIsHidden,b=y.ariaSelection,x=this.commonProps,S=a||this.getElementId("input"),_=et(et(et({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?Q.createElement(g,tt({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:c,type:"text",value:l},_)):Q.createElement(ame,tt({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Zm,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:c,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,h=s.MultiValueRemove,c=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,y=m.isDisabled,w=m.isMulti,b=m.inputValue,x=m.placeholder,S=this.state,_=S.selectValue,k=S.focusedValue,N=S.isFocused;if(!this.hasValue()||!g)return b?null:Q.createElement(f,tt({},p,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),x);if(w)return _.map(function(C,I){var P=C===k,A="".concat(i.getOptionLabel(C),"-").concat(i.getOptionValue(C));return Q.createElement(o,tt({},p,{components:{Container:a,Label:l,Remove:h},isFocused:P,isDisabled:y,key:A,index:I,removeProps:{onClick:function(){return i.removeValue(C)},onTouchEnd:function(){return i.removeValue(C)},onMouseDown:function(L){L.preventDefault()}},data:C}),i.formatOptionLabel(C,"value"))});if(b)return null;var O=_[0];return Q.createElement(c,tt({},p,{data:O,isDisabled:y}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||h)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Q.createElement(s,tt({},o,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!s||!h)return null;var f={"aria-hidden":"true"};return Q.createElement(s,tt({},o,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,h=this.state.isFocused;return Q.createElement(o,tt({},a,{isDisabled:l,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Q.createElement(s,tt({},o,{innerProps:h,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,h=s.MenuList,c=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,g=this.commonProps,y=this.state.focusedOption,w=this.props,b=w.captureMenuScroll,x=w.inputValue,S=w.isLoading,_=w.loadingMessage,k=w.minMenuHeight,N=w.maxMenuHeight,O=w.menuIsOpen,C=w.menuPlacement,I=w.menuPosition,P=w.menuPortalTarget,A=w.menuShouldBlockScroll,D=w.menuShouldScrollIntoView,L=w.noOptionsMessage,F=w.onMenuScrollToTop,q=w.onMenuScrollToBottom;if(!O)return null;var M=function(z,K){var X=z.type,W=z.data,J=z.isDisabled,Z=z.isSelected,te=z.label,le=z.value,pe=y===W,ge=J?void 0:function(){return i.onOptionHover(W)},Ce=J?void 0:function(){return i.selectOption(W)},Fe="".concat(i.getElementId("option"),"-").concat(K),De={id:Fe,onClick:Ce,onMouseMove:ge,onMouseOver:ge,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return Q.createElement(m,tt({},g,{innerProps:De,data:W,isDisabled:J,isSelected:Z,key:Fe,label:te,type:X,value:le,isFocused:pe,innerRef:pe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(z.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var z=V.data,K=V.options,X=V.index,W="".concat(i.getElementId("group"),"-").concat(X),J="".concat(W,"-heading");return Q.createElement(o,tt({},g,{key:W,data:z,options:K,Heading:a,headingProps:{id:J,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(Z){return M(Z,"".concat(X,"-").concat(Z.index))}))}else if(V.type==="option")return M(V,"".concat(V.index))});else if(S){var Y=_({inputValue:x});if(Y===null)return null;B=Q.createElement(f,g,Y)}else{var H=L({inputValue:x});if(H===null)return null;B=Q.createElement(p,g,H)}var j={minMenuHeight:k,maxMenuHeight:N,menuPlacement:C,menuPosition:I,menuShouldScrollIntoView:D},U=Q.createElement($he,tt({},g,j),function(V){var z=V.ref,K=V.placerProps,X=K.placement,W=K.maxHeight;return Q.createElement(l,tt({},g,j,{innerRef:z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:S,placement:X}),Q.createElement(hme,{captureEnabled:b,onTopArrive:F,onBottomArrive:q,lockEnabled:A},function(J){return Q.createElement(h,tt({},g,{innerRef:function(te){i.getMenuListRef(te),J(te)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:S,maxHeight:W,focusedOption:y}),B)}))});return P||I==="fixed"?Q.createElement(c,tt({},g,{appendTo:P,controlElement:this.controlRef,menuPlacement:C,menuPosition:I}),U):U}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,h=s.name,c=s.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!a)return Q.createElement(gme,{name:h,onFocus:this.onValueInputFocus});if(!(!h||a))if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return Q.createElement("input",{name:h,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,w){return Q.createElement("input",{key:"i-".concat(w),name:h,type:"hidden",value:i.getOptionValue(y)})}):Q.createElement("input",{name:h,type:"hidden",value:""});return Q.createElement("div",null,m)}else{var g=f[0]?this.getOptionValue(f[0]):"";return Q.createElement("input",{name:h,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,h=s.isFocused,c=s.selectValue,f=this.getFocusableOptions();return Q.createElement(tme,tt({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:h,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,h=this.props,c=h.className,f=h.id,p=h.isDisabled,m=h.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return Q.createElement(a,tt({},y,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),Q.createElement(s,tt({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),Q.createElement(l,tt({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),Q.createElement(o,tt({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,c=s.isFocused,f=s.prevWasFocused,p=s.instancePrefix,m=i.options,g=i.value,y=i.menuIsOpen,w=i.inputValue,b=i.isMulti,x=eP(g),S={};if(o&&(g!==o.value||m!==o.options||y!==o.menuIsOpen||w!==o.inputValue)){var _=y?Ime(i,x):[],k=y?mP(zp(i,x),"".concat(p,"-option")):[],N=a?Pme(s,x):null,O=Rme(s,_),C=Yb(k,O);S={selectValue:x,focusedOption:O,focusedOptionId:C,focusableOptionsWithIds:k,focusedValue:N,clearFocusValueOnUpdate:!1}}var I=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},P=h,A=c&&f;return c&&!A&&(P={value:_p(b,x,x[0]||null),options:x,action:"initial-input-focus"},A=!f),(h==null?void 0:h.action)==="initial-input-focus"&&(P=null),et(et(et({},S),I),{},{prevProps:i,ariaSelection:P,prevWasFocused:A})}}]),n}(Q.Component);GF.defaultProps=Dme;var Lme=Q.forwardRef(function(t,e){var n=hfe(t);return Q.createElement(GF,tt({ref:e},n))}),KF=Lme;function QF({msg:t}){return E.jsx("p",{className:"pl-1 pt-1 text-sm text-red-500",children:t})}const jme={id:"no_host",displayName:" "};function XF({label:t,selectedHosts:e,onChange:n,errorMsg:r}){const s=[...Ve(ma),jme].map(a=>({value:a.id,label:a.displayName})),o=s.filter(({value:a})=>e==null?void 0:e.includes(a));return E.jsxs("div",{className:"flex flex-col",children:[E.jsx(Es,{text:t}),E.jsx(KF,{className:"h-12 shadow-none shadow-purple2 focus-within:border-pointCoral [&>div:nth-child(3)]:h-full [&>div:nth-child(3)]:rounded-xl [&>div:nth-child(3)]:border-gray1",menuPosition:"fixed",name:"host",placeholder:`${t} `,defaultValue:o.length?[...o]:[],isMulti:!0,options:s,isClearable:!1,isSearchable:!1,onChange:a=>n(a)}),r&&E.jsx(QF,{msg:r})]})}const Gb=2;function Fme({title:t,currentValue:e,yearMonthId:n}){var F,q;const r=Ve(Nt),[i,s]=Q.useState(1),[o,a]=Q.useState({id:"",isEditing:!1}),l=Ve(Ai(n)),h=l?{...l.meeting,...e}:e,{currMeeting:c,onMeetingChange:f,savedPlaceList:p}=y3(h,n),{anonymous:m}=ei("register"),g=+n.slice(-2),{isPending:y,sendPushNotificationToAllUser:w}=Ji(),{hideModal:b}=Yt(),{errorMsg:x,handleErrorMsg:S}=xE(),{eventMonth:_,time:k,place:N}=c,O={place:[{condition:i===1&&N==="",error:" ."}],eventTitle:[{condition:i===1&&_.title==="",error:"  ."}],hosts:[{condition:i===2&&_.hosts.length===0,error:"  ."}],contents:[{condition:i===2&&_.contents.some(({title:M})=>M===""),error:"  ."}]},C=async()=>{const M=an(Jt,Ci,n);await pn(M,{meeting:c}),alert(`${g}   !`),await w({title:`${c.eventMonth.title}  `,body:`${dt(k,"M d EEEE a h mm")} ${N} `})},I=async()=>{const M={meeting:c,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r.uid};await pE(Ci,n,M),alert(`${g}   !`),await w({title:`${c.eventMonth.title}  `,body:`${g}  ! ${dt(k,"M d EEEE a h mm")} ${N} `})},P=async M=>{M.preventDefault();try{if(S(O))return;l?C():I()}catch{window.alert("     .  .")}finally{b()}},A=(M,B)=>{if(M==="next"&&!S(O)){const H=i===Gb?i:i+1;s(H)}if(M==="prev"){const Y=i===1?i:i-1;s(Y)}},D=M=>{const B=document.getElementById(M);B==null||B.focus()},L=M=>o.id===M&&o.isEditing;return E.jsx(Di,{title:t,className:"max-w-96",children:E.jsxs("form",{onSubmit:P,className:"flex flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[i===1&&E.jsxs(E.Fragment,{children:["eventMonth"in e&&E.jsx(gn,{label:" ",placeholder:"  .",value:_.title,onChange:M=>{f({eventMonth:{..._,title:M.target.value}})},errorMsg:x==null?void 0:x.eventTitle}),"time"in e&&E.jsx(JE,{id:"",label:"",selectsEnd:!0,selected:new Date(k),dateFormat:"M d EEEE a hh:mm",onChange:M=>{f({time:dt(M,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0,placeholderText:"  ."}),"place"in e&&E.jsx(gn,{label:"",value:N,onChange:M=>{f({place:M.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:x==null?void 0:x.place,children:E.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(F=p==null?void 0:p.place)==null?void 0:F.map(M=>E.jsx(ar,{text:M,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>f({place:M})},M))})})]}),i===2&&E.jsx(E.Fragment,{children:"eventMonth"in e&&E.jsxs(E.Fragment,{children:[E.jsx(XF,{label:" ",selectedHosts:e.eventMonth.hosts,onChange:M=>{const B=M.map(({value:Y})=>Y);f({eventMonth:{..._,hosts:B}})},errorMsg:x.hosts}),E.jsxs("div",{className:"flex h-[40vh] flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[(_==null?void 0:_.contents.length)>0&&E.jsx("ul",{className:"flex flex-col gap-y-3",children:(q=_==null?void 0:_.contents)==null?void 0:q.map(({id:M,title:B},Y)=>E.jsx("li",{children:E.jsx(gn,{label:Y===0&&"  ",readOnly:!L(M),id:M,iconName:"FiHash",value:B,placeholder:L(M)?"  .":"",className:"bg-blue-50 !pr-16 font-medium read-only:cursor-default read-only:border-gray1 read-only:bg-white",onChange:H=>{const j=_.contents.map(U=>M===U.id?{...U,title:H.target.value}:U);f({eventMonth:{..._,contents:j}})},errorMsg:B===""&&x.contents,tailIconChildren:E.jsxs("div",{className:"absolute right-3 top-[15px] flex items-center gap-2",children:[L(M)?E.jsx(x3,{onClick:()=>{a({id:"",isEditing:!1})},className:"!size-[17px]"}):E.jsx(S3,{onClick:()=>{a({id:M,isEditing:!0}),D(M)},className:"!size-[18px]"}),Y>2&&E.jsx(Of,{className:"!size-[18px]",onClick:()=>{if(Y===0)return;const H=_.contents.filter(j=>j.id!==M);f({eventMonth:{..._,contents:H}})}})]})})},M))}),E.jsx("button",{type:"button",onClick:()=>{f({eventMonth:{..._,contents:[..._.contents,{id:zt(),title:"",detail:""}]}})},className:"flex min-h-12 w-full items-center justify-center rounded-xl border border-gray1",children:E.jsx(CE,{className:"size-5 text-blue1"})})]})]})}),E.jsxs("div",{className:"ml-auto mt-4 flex gap-x-2",children:[E.jsx(ht,{type:"button",name:"",handleClick:()=>A("prev"),disabled:i===1,className:"!shadow-none",color:"gray"}),Gb!==i&&E.jsx(ht,{type:"button",name:"",handleClick:()=>A("next"),className:"!shadow-none"}),Gb===i&&E.jsx(ht,{type:"submit",name:l!=null&&l.meeting?"":`${g}  `,className:"ml-auto",disabled:y||m,color:"blue"})]}),m&&E.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function $me(){const t=Ve(fre),e=Ve(Ai(dw)),{book:n,id:r}=e||{},{field:i}=t||{},s={place:" ",time:dt(s3(+_t,+IO,11,0),"yyyy-MM-dd'T'HH:mm:ss"),eventMonth:{title:"",contents:[{id:zt(),title:`${Sne}  `,detail:""},{id:zt(),title:`${_t}   `,detail:""},{id:zt(),title:`${_t}   ?`,detail:""},{id:zt(),title:`${_t}  ?`,detail:""}],hosts:[]}},{showModal:o}=Yt(),a=kr(),l=()=>a("/search",{state:{registerYearMonth:dw}}),h=async()=>{o({element:E.jsx(Fme,{title:`${IO}  `,currentValue:s,yearMonthId:dw})})};return E.jsx(E.Fragment,{children:e?n?E.jsx(iF,{month:dt(r,"M"),book:n,bookFields:i,className:"!mb-0 h-full"}):E.jsx(tF,{yearMonthId:r,event:e.meeting,className:"!mb-0 h-full"}):E.jsx(As,{text:"    .",children:E.jsxs("div",{className:"flex gap-x-3",children:[E.jsx(ht,{name:" ",color:"lightBlue",handleClick:l,children:E.jsx(kse,{className:"mr-2"})}),E.jsx(ht,{name:" ",color:"purple",handleClick:h,children:E.jsx(Tse,{className:"mr-2"})})]})})})}function JF({hyphenDate:t,isDateMark:e=!0,className:n}){return E.jsxs("div",{className:`flex items-center gap-x-1 ${n}`,children:[E.jsx("span",{className:"text-[15px] text-gray1",children:"D-DAY"}),E.jsxs("span",{className:"text-red-500",children:[": ",Pu(t)]}),e&&E.jsx("span",{className:"ml-2 text-sm text-gray1",children:dt(t,"yyyy M d")})]})}const ZF=({voteDetail:t})=>{const{id:e,title:n,voteItems:r,deadline:i}=t;return E.jsxs("div",{className:"flex w-fit flex-col justify-between rounded-card bg-white px-7 py-5 shadow-card max-sm:w-full",children:[E.jsxs("h4",{className:"mb-3 flex items-center gap-1 font-medium",children:[E.jsx(OE,{className:"text-base"}),n]}),E.jsx("ul",{className:"flex gap-6",children:r.map(({id:s,book:o})=>E.jsx("li",{children:E.jsx(dn,{thumbnail:o.thumbnail,title:o.title,className:"w-16"})},s))}),E.jsxs("div",{className:"mt-5 flex items-end justify-between gap-2",children:[E.jsx(JF,{hyphenDate:i,isDateMark:!1}),E.jsxs(Ir,{to:`/vote/${e}`,state:{collName:Ru,docId:e},className:"flex items-center justify-end gap-0.5 py-0.5",children:[E.jsx("span",{className:"text-sm text-gray1",children:" "}),E.jsx(EE,{className:"text-sm text-gray1"})]})]})]})},Bme=()=>{const[t,e]=Wt(yE),n=t==null?void 0:t.filter(s=>s.deadline>=_m);Q.useEffect(()=>{t!=null&&t.length||Yn(Ru,e)},[]);const r=kr(),i={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},320:{slidesPerView:1}}};return E.jsx(E.Fragment,{children:n!=null&&n.length?E.jsx(Af,{options:i,children:n==null?void 0:n.map(s=>E.jsx(rc,{children:E.jsx(ZF,{voteDetail:s})},s.id))}):E.jsx(As,{text:"  .",onCreateClick:()=>r("/vote"),createBtnTitle:"  "})})},Ume=()=>{const t=kr(),e=ea(ec);Q.useEffect(()=>{Yn(Ci,e)},[]);const n=[{name:" ",onClick:()=>t("/monthlyinfo",{state:"fieldAndHost"}),color:"blue"},{name:"",onClick:()=>t("/monthlyinfo",{state:"absence"}),color:"blue"},{name:"",onClick:()=>t("/challenge"),color:"blue"},{name:"",onClick:()=>t("/yearClosingEvent"),color:"gray"}];return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:" "}),E.jsxs("main",{children:[E.jsxs("div",{className:"my-2.5 mb-16 grid grid-cols-3 gap-x-6 max-md:flex max-md:flex-col max-md:gap-y-16",children:[E.jsx(Mt,{title:" ",className:"col-span-2 !my-0",children:E.jsx(sF,{})}),E.jsx(Mt,{title:" ",className:"col-span-1 !my-0 size-full",children:E.jsx($me,{})})]}),E.jsx(Mt,{className:"!my-28 grid w-full grid-cols-4 gap-4 max-sm:my-20 max-sm:grid-cols-2 max-sm:gap-2.5",children:n.map(({name:r,onClick:i,color:s})=>E.jsx(ht,{name:`${_t} ${r}`,className:"h-fit w-full rounded-xl !px-0 py-4",color:s,handleClick:i},r))}),E.jsx(Mt,{title:"   ",children:E.jsx(fF,{})}),E.jsx(Mt,{title:" ",children:E.jsx(Bme,{})})]}),E.jsx(ofe,{})]})},Kb=({isLoggedIn:t})=>{var l;const e=(l=Ht.currentUser)==null?void 0:l.isAnonymous,{currEmail:n,currPassword:r,onSubmit:i,onChange:s,onAnonymousLoginClick:o}=yre(t),a=kr();return E.jsx(E.Fragment,{children:E.jsxs("main",{className:"mx-auto flex h-screen w-[50%] flex-col items-center justify-center max-sm:w-[90%]",children:[E.jsxs("header",{className:"mt-[45%] flex w-full flex-col items-center",children:[E.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-40"}),E.jsx("h1",{className:"text-lg font-medium",children:" "})]}),E.jsxs("form",{onSubmit:i,className:"mt-5 flex w-full flex-col gap-3",children:[E.jsx(gn,{name:"email",type:"email",value:n.email,placeholder:"  .",onChange:s,autoComplete:"email",errorMsg:n.error}),E.jsx(gn,{name:"password",type:"password",placeholder:" .",value:r.password,onChange:s,autoComplete:"current-password",errorMsg:r.error}),E.jsx(ht,{type:"submit",name:"",color:"blue",className:"w-full"}),E.jsx(ht,{type:"button",handleClick:()=>a("/create_account"),name:"",className:"w-full"}),!e&&E.jsx(ht,{type:"button",color:"blue",name:" ",handleClick:o,className:"w-full"})]}),E.jsx(Ir,{to:"/find_pw",className:"mt-7 text-[13px] text-gray1",children:" "})]})})};function Aa({isMulti:t=!1,data:e,label:n}){const r="px-1.5 py-4 text-center text-sm";return E.jsxs(E.Fragment,{children:[t&&E.jsx("td",{className:`${r}`,children:E.jsx("ul",{className:"flex flex-wrap items-center justify-center gap-3",children:e!=null&&e.length&&e?e.map(i=>i==="no_host"?E.jsx("span",{className:"text-gray2",children:" "},i):E.jsx(ti,{userId:i},i)):E.jsx("span",{className:"text-gray2",children:""})})}),!t&&E.jsxs(E.Fragment,{children:[n===""&&E.jsxs("td",{className:`${r} !text-[15px] ${+Qr===e?"font-semibold text-blue-700":"text-blue-400"}`,children:[e,""]}),(n===""||n==="")&&E.jsx("td",{className:`${r}`,children:e?n===""?"":"":""}),n!==""&&n!==""&&n!==""&&E.jsx("td",{className:`${r}`,children:e||E.jsx("span",{className:"text-gray2",children:""})})]})]})}function lk({color:t="blue",labels:e,rowDataList:n,isEditable:r,onEditClick:i}){const s={blue:"bg-blue4",yellow:"bg-yellow2"};return E.jsx("div",{className:"relative overflow-hidden rounded-xl bg-white shadow-card",children:E.jsxs("table",{className:"w-full",children:[E.jsxs("colgroup",{children:[e.includes("")&&E.jsx("col",{width:"18%"}),E.jsx("col",{width:"40%"}),E.jsx("col",{width:"40%"}),r&&E.jsx("col",{width:"10%"})]}),E.jsx("thead",{children:E.jsxs("tr",{className:`${s[t]} relative rounded-t-xl`,children:[e.map(o=>E.jsx("th",{className:"py-3 font-medium text-blue3",children:o},o)),r&&E.jsx("th",{"aria-label":""})]})}),E.jsx("tbody",{children:n==null?void 0:n.map(o=>E.jsx(Q.Fragment,{children:E.jsxs("tr",{className:"border-b border-[#f0f0f0] last:border-0",children:["month"in o&&e.includes("")&&E.jsx(Aa,{label:"",data:o.month}),"field"in o&&E.jsx(Aa,{label:"",data:o.field}),"hosts"in o&&E.jsx(Aa,{isMulti:!0,label:"",data:o.hosts}),"onceAbsenceMembers"in o&&E.jsx(Aa,{isMulti:!0,label:"",data:o.onceAbsenceMembers}),"breakMembers"in o&&E.jsx(Aa,{isMulti:!0,label:"",data:o.breakMembers}),"onceAbsenceMonth"in o&&E.jsx(Aa,{label:"",data:o.onceAbsenceMonth}),"breakMonth"in o&&E.jsx(Aa,{label:"",data:o.breakMonth}),r&&"month"in o&&E.jsx("td",{className:"px-4 text-center",children:E.jsx("button",{type:"button",onClick:()=>i(o.month),children:E.jsx(kE,{className:"stroke-gray2"})})})]})},o.month))})]})})}function Vme({isMonth:t,isEditable:e}){const[n,r]=Wt(El);Q.useEffect(()=>{Sl(n)||lr(Ci,Mu,r)},[]);const i=["",""],s=t?["",...i]:i,o=async()=>{await Cs(an(Jt,Ci,Mu),Nne)};return E.jsx(E.Fragment,{children:n!=null&&n.absenceMembers?E.jsx(lk,{labels:s,rowDataList:n==null?void 0:n.absenceMembers,isEditable:e}):E.jsx(As,{text:"    .",createBtnTitle:`${_t}    `,onCreateClick:o})})}function qme({field:t,setSelectedValues:e,errorMsg:n}){const r=bd.map(o=>({value:`${o.id}`,label:o.name})),i=r.find(({label:o})=>o===t),s=o=>{const a=o.label;e(l=>({...l,field:a}))};return E.jsxs("div",{children:[E.jsx(Es,{text:""}),E.jsx(KF,{className:"h-12 [&>div]:h-full [&>div]:rounded-xl [&>div]:border-gray1",menuPosition:"fixed",options:r,isSearchable:!1,defaultValue:i||r[12],onChange:s}),n&&E.jsx(QF,{msg:n})]})}function Hme({month:t}){const{errorMsg:e,fieldAndHostList:n,onSubmit:r,setSelectedValues:i}=hre(),s=n.find(l=>l.month===t),{field:o,hosts:a}=s;return Q.useEffect(()=>{i(s)},[]),E.jsx(Di,{title:`${t}   `,children:E.jsxs("form",{onSubmit:l=>r(l,t),className:"flex flex-col gap-y-4",children:[E.jsx(qme,{field:o,setSelectedValues:i,errorMsg:e==null?void 0:e.field}),E.jsx(XF,{label:"",selectedHosts:a,onChange:l=>{const h=l.map(({value:c})=>c);i(c=>({...c,hosts:h}))},errorMsg:e==null?void 0:e.hosts}),E.jsx(ht,{type:"submit",name:"",className:"self-end"})]})})}const zme=({isMonth:t=!1,isEditable:e=!1})=>{const{bookFieldAndHostList:n}=Ve(cv),{showModal:r}=Yt(),i=a=>{r({element:E.jsx(Hme,{month:a})})},s=async()=>{pE(`BookClub-${_t}`,Yd,One)},o=t?["","",""]:["",""];return E.jsx(E.Fragment,{children:n?E.jsx(lk,{labels:o,rowDataList:n,onEditClick:i,isEditable:e}):E.jsx(As,{text:"     .",createBtnTitle:`${_t}      `,onCreateClick:s})})};function Wme(){const{uid:t}=Ve(Nt),{state:e}=Fr(),r={fieldAndHost:" ",absence:""}[e];return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${_t} ${r} `,backBtn:!0}),E.jsxs("main",{children:[r===""&&E.jsxs(Mt,{children:[E.jsx(Vme,{isMonth:!0}),E.jsx(o_,{title:"   ",to:"/setting/absence",state:{userId:t},className:"pt-3"})]}),r===" "&&E.jsx(Mt,{title:"  ",children:E.jsx(zme,{isEditable:!0,isMonth:!0})})]})]})}const Yme=({document:t})=>{const{id:e,book:n,meeting:{time:r,place:i}}=t,s=dt(e,"M");return E.jsxs("div",{className:"relative flex h-full w-full cursor-pointer flex-col items-center justify-between gap-1 rounded-card bg-white px-4 py-5 shadow-card",children:[E.jsx(ar,{color:e===Vn?"lightBlue":"purple",shape:"rounded",text:`${s} `,className:"font-medium"}),n?E.jsxs(E.Fragment,{children:[E.jsx(dn,{thumbnail:n.thumbnail,title:n.title,className:"mt-4 w-1/2 max-sm:w-1/4"}),E.jsx("h3",{className:"my-2 text-center text-lg font-medium leading-6",children:n.title})]}):E.jsx("h3",{className:"my-2 text-center text-lg font-medium",children:t.meeting.eventMonth.title}),E.jsx(nF,{time:r,place:i,className:"flex flex-col items-center"})]})};function Gme(){const{clubByYear:t,selectedYear:e,setSelectedYear:n}=bE();return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:" "}),E.jsxs("main",{children:[E.jsx(f5,{selectedYear:e,handleChangeYear:n,buttonClassName:"!shadow-sm !px-3 !py-2"}),E.jsx(Mt,{title:`${e} `,className:"!mt-10",children:t.length!==0?E.jsx("ul",{className:"grid grid-cols-4 gap-5 max-md:grid-cols-3 max-sm:mt-2 max-sm:flex max-sm:flex-col [&>div]:col-span-4",children:t.map(r=>E.jsx(Ir,{to:`/bookclub${Vn===r.id?"":`/${r.id}`}`,children:E.jsx(Yme,{document:r})},r.id))}):E.jsx(As,{text:"    ."})})]})]})}const Kme=({searchedBook:t,registerYearMonth:e})=>{const n=Ve(Ai(e)),[r,i]=Q.useState(!1),s=e.slice(-2),{showModal:o}=Yt(),a={place:" ",time:dt(s3(+_t,+s,11,0),"yyyy-MM-dd'T'HH:mm:ss")},l=async()=>{o({element:E.jsx(Z5,{title:`${s}  `,currentValue:a,yearMonthId:e,registerBook:t})})};return Q.useEffect(()=>{n&&i(!0)},[r]),E.jsx(E.Fragment,{children:r&&t.title===(n==null?void 0:n.book.title)?E.jsx(ht,{name:" ",disabled:!0,className:"ml-auto py-2"}):E.jsx(ht,{name:`${s}  ${n!=null&&n.book?"":""}`,type:"button",handleClick:l,color:"blue",className:"ml-auto py-2"})})},Qme=({searchedBook:t})=>{const[e,n]=Q.useState(!1),{state:r}=Fr(),i=()=>n(g=>!g),{thumbnail:s,title:o,authors:a,publisher:l,url:h,datetime:c,price:f,contents:p}=t,m="size-5 w-[10%] text-gray1";return E.jsxs(E.Fragment,{children:[E.jsxs("button",{type:"button",onClick:i,className:"flex w-full items-center justify-between gap-1 rounded-xl bg-white px-3 py-2 text-text shadow-card",children:[E.jsx(Cv,{book:t,className:"mr-1 h-14 w-[90%] items-center"}),e?E.jsx(Kde,{className:m}):E.jsx(Gde,{className:m})]}),E.jsx("div",{className:`-m-2 overflow-hidden p-2 transition-[max-height] duration-500 ease-in-out ${e?"max-h-[1000px]":"max-h-0"}`,children:E.jsxs("div",{className:"mb-4 mt-2 rounded-xl bg-white p-4 shadow-card",children:[E.jsx(dn,{thumbnail:s,title:o,url:h,className:"float-left mr-3 w-28"}),E.jsxs("div",{className:"mb-4 h-full [&>div]:text-text",children:[E.jsx("h1",{className:"mb-1 text-lg font-medium",children:o!==""?` ${o} `:""}),a&&E.jsx(Os,{authors:a,publisher:l}),c&&E.jsxs("div",{className:"mb-0.5 mt-3",children:[E.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",dt(c,"yyyy M d")]}),f&&E.jsxs("div",{className:"mb-0.5",children:[E.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",t.price.toLocaleString(),""]}),p&&E.jsxs("p",{className:"my-3",children:[p,"..."]})]}),E.jsx(Kme,{searchedBook:t,registerYearMonth:r==null?void 0:r.registerYearMonth})]})})]})},Xme=()=>{const{onBookQueryChange:t,searchList:e,setSearchList:n}=_E(),r=Q.useRef(null);return Q.useEffect(()=>{n([]),r.current.focus()},[]),E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:" ",backBtn:!0}),E.jsx("main",{children:E.jsxs(Mt,{title:" ",children:[E.jsxs("form",{className:"mb-8 flex w-1/2 gap-3 max-sm:mb-4 max-sm:w-full",children:[E.jsx(gn,{ref:r,placeholder:"  .",onChange:t,className:"flex-1"}),E.jsx(ht,{name:"",className:"min-w-fit"})]}),E.jsxs("span",{children:[" ",e.length,""," ",E.jsx("span",{className:"text-gray1",children:"( 10 .)"})]}),E.jsx("ul",{className:"mt-4 columns-2 gap-x-4 max-sm:mt-2 max-sm:columns-1 max-sm:gap-x-0",children:e.map((i,s)=>E.jsx("li",{className:"mb-4 w-full items-center justify-between",children:E.jsx(Qme,{searchedBook:i})},`${i.isbn}-${s}`))})]})})]})},Jme=()=>{const{anonymous:t}=ei("see"),e=kr(),n=()=>{if(t)return window.alert(" !");window.confirm("  ?")===!0&&(Ht.signOut(),e("/"))};return E.jsx("button",{className:"border-none bg-transparent",onClick:n,children:""})},Zme=()=>{var s;const{email:t}=Ve(Nt),{blockLinkAndAlertJoinMember:e}=ei("see"),n=[{to:"edit-profile",name:" "},{to:"edit-password",name:" "},{to:"absence",name:""}],r=[{to:"",name:""},{to:"delete-account",name:""}],i=(s=Ht.currentUser)==null?void 0:s.isAnonymous;return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:"",backBtn:!0,showDesktop:!1,backTo:"/bookshelf"}),E.jsxs("main",{children:[E.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:" "}),E.jsxs("ul",{className:"mb-14 divide-y divide-gray3",children:[n.map(({to:o,name:a})=>E.jsx("li",{className:"py-3",children:E.jsx(Ir,{to:o,onClick:e,children:a})},o)),!i&&E.jsx("li",{className:"py-3",children:E.jsx(Ir,{to:"notification",children:""})})]}),E.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:""}),E.jsxs("ul",{className:"divide-y divide-gray3",children:[r.map(({to:o,name:a})=>E.jsx("li",{className:"py-3",children:o===""?E.jsx(Jme,{}):E.jsx(Ir,{to:o,onClick:e,children:a})},o)),t===hE&&E.jsx("li",{className:"py-3",children:E.jsx(Ir,{to:"developer",children:""})})]})]})]})};function ege({voteId:t,book:e,onCreateClick:n,onDeleteClick:r}){return E.jsxs("div",{className:"relative min-w-fit",children:[e.title===""?E.jsx("button",{type:"button",className:"flex aspect-[0.68/1] w-[70px] items-center justify-center rounded-r-lg border border-gray1 shadow-card",onClick:n,children:E.jsx(NE,{className:"size-[28px] text-gray2"})}):E.jsx(dn,{thumbnail:e.thumbnail,title:e.title,className:"w-[70px]"}),t>2&&E.jsx("button",{type:"button",onClick:()=>r(t),className:"absolute -right-1.5 -top-1.5 p-0.5",children:E.jsx(Of,{className:"size-[25px] rounded bg-white p-0.5 text-2xl shadow-card"})})]})}function tge({label:t,containerClassName:e,...n}){return E.jsxs("div",{className:`relative flex flex-col ${e}`,children:[t&&E.jsx(Es,{text:t}),E.jsx("textarea",{...n,className:`h-32 w-full resize-none rounded-xl border border-gray1 p-3 outline-none hover:bg-blue-50 ${n.className}`})]})}const nge={isOpenSearchBook:!1,itemId:1},rge=()=>{const[t,e]=Q.useState(nge),[n,r]=Q.useState(!1),{newVote:i,setNewVote:s,onNewVoteSubmit:o,onVoteTitleChange:a,onDateChange:l,onAddVoteItemBtn:h,onDeleteVoteItemClick:c,isPending:f}=lre(),{searchInputRef:p,onBookQueryChange:m,searchList:g,resetSearchList:y}=_E(),w=N=>{y(),e(({isOpenSearchBook:O,itemId:C})=>({itemId:N||C,isOpenSearchBook:!O}))},b=()=>r(N=>!N),x=N=>{const{title:O,url:C,thumbnail:I}=N,P={title:O,url:C,thumbnail:I},A=i.voteItems.map(D=>D.id===t.itemId?{...D,book:P}:D);s({...i,voteItems:A}),b()},S=N=>{const{value:O}=N.currentTarget,C={...i,voteItems:i.voteItems.map(I=>I.id===t.itemId?{...I,selectReason:O}:I)};s(C)},{title:_,voteItems:k}=i;return E.jsxs(Di,{title:"  ",className:"max-w-[500px]",children:[!t.isOpenSearchBook&&E.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4 overflow-y-scroll scrollbar-hide",children:[E.jsx(gn,{label:"",type:"text",placeholder:": 1  ",value:_,onChange:a,required:!0}),E.jsxs("div",{children:[E.jsx("span",{className:"py-1 pl-1 text-sm font-medium text-blue1",children:"  "}),E.jsxs("ul",{className:"flex gap-x-3 overflow-x-scroll py-1 scrollbar-hide",children:[k.map(({id:N,book:O})=>E.jsx(ege,{voteId:N,book:O,onCreateClick:()=>w(N),onDeleteClick:()=>c(N)},N)),E.jsx("button",{type:"button",onClick:h,disabled:k.length>=4,className:"flex h-[inherit] items-center justify-center px-2 text-blue1 disabled:text-gray2",children:E.jsx(CE,{className:"text-xl"})})]})]}),E.jsx(JE,{id:" ",label:" ",selected:new Date(i.deadline),onChange:l,selectsEnd:!0,endDate:new Date(i.deadline),dateFormat:"yyyy MM dd"}),E.jsx(ht,{type:"submit",name:"  ",className:"mt-3 self-end",disabled:f,color:"blue"})]}),t.isOpenSearchBook&&(n?E.jsxs(E.Fragment,{children:[E.jsx(tge,{label:" 2",id:"select-reason",placeholder:"      .",value:k[t.itemId-1].selectReason,onChange:S}),E.jsx(ht,{type:"button",name:" ",handleClick:()=>{b(),w()},className:"mt-3 self-end"})]}):E.jsxs(E.Fragment,{children:[E.jsx(gn,{id:"search-book",label:" ",ref:p,placeholder:"  .",onChange:m,iconName:"FiSearch"}),E.jsx(aF,{searchList:g,onSelectBtnClick:x})]}))]})};function ige({vote:t,collName:e}){const[n,r]=Q.useState([]),{voteItems:i,title:s,id:o,createdAt:a,creatorId:l}=t;return Q.useEffect(()=>{n!=null&&n.length||Yn(`${e}/VoteId-${o}/${Qx}`,r)},[]),E.jsxs("div",{className:"group relative flex w-full flex-col justify-between rounded-card bg-white bg-opacity-65 p-4 opacity-80 shadow-card",children:[E.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[E.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium text-gray1",children:[E.jsx(OE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),Uee(s,40)]}),E.jsx(ti,{userId:l})]}),E.jsx("ul",{className:"my-3 flex items-center justify-center gap-x-5",children:i.map(({book:{title:h,thumbnail:c},id:f})=>E.jsx("li",{className:"relative",children:E.jsx(dn,{title:h,thumbnail:c,className:"w-16"})},f))}),E.jsx(Ir,{to:`/vote/${o}`,state:{collName:e,docId:o},"aria-label":"",className:"absolute right-4 top-[40%] flex size-12 items-center justify-center rounded-full border bg-blue1 opacity-20 group-hover:opacity-100",children:E.jsx(EE,{className:"text-xl text-white"})}),E.jsx("span",{className:"text-end text-sm text-gray1",children:new Date(a).toLocaleDateString()})]})}const sge=()=>{const[t,e]=Wt(yE),{showModal:n}=Yt();Q.useEffect(()=>{t!=null&&t.length||Yn(Ru,e)},[]);const r=t==null?void 0:t.filter(s=>s.deadline>=_m),i=t==null?void 0:t.filter(s=>s.deadline<_m);return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:" "}),E.jsxs("main",{children:[E.jsx(Mt,{title:" ",titleBtn:E.jsx("button",{type:"button",onClick:()=>n({element:E.jsx(rge,{})}),children:E.jsx(CE,{className:"text-lg text-blue1"})}),children:r&&(r==null?void 0:r.length)!==0?E.jsx("ul",{className:"flex gap-6 max-sm:flex-col",children:r==null?void 0:r.map(s=>E.jsx(ZF,{voteDetail:s},s.id))}):E.jsx(As,{text:"   ."})}),E.jsx(Mt,{title:"  ",children:(i==null?void 0:i.length)!==0&&E.jsx("ul",{className:"grid grid-cols-3 gap-7 max-md:grid-cols-2 max-sm:flex max-sm:flex-col max-sm:gap-5",children:i==null?void 0:i.map(s=>E.jsx(ige,{vote:s,collName:Ru},s.id))})})]})]})},Iv=Nn({key:`currUserFcm/${zt()}`,default:null});Nn({key:`notification/${zt()}`,default:"default"});function vP({voteItem:t,children:e,selected:n}){const{book:{title:r,thumbnail:i}}=t;return E.jsxs("div",{className:`flex h-full w-40 flex-col items-center gap-3 overflow-hidden rounded-card bg-white shadow-card max-sm:w-[45%] max-sm:gap-2 ${e?"pt-4":"py-5"}`,children:[E.jsxs("div",{className:"relative flex w-full justify-center max-sm:px-3",children:[n&&E.jsx(Qde,{className:"absolute -top-2 right-0 z-10 size-12 rounded-full bg-white text-pointCoral"}),E.jsx(dn,{thumbnail:i,title:r,className:"w-24 max-sm:w-20"})]}),E.jsxs("span",{className:"mt-2 line-clamp-2 h-fit w-4/5 text-center leading-5",children:["",r,""]}),e]})}const oge=({vote:t,onVoteDeleteClick:e})=>{const{creatorId:n,createdAt:r,title:i}=t,{uid:s}=Ve(Nt);return E.jsxs("header",{className:"flex flex-col items-center justify-between pb-3 max-sm:pb-0 max-sm:pt-3",children:[E.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[i&&E.jsx("h3",{className:"text-xl font-medium max-sm:text-lg",children:i}),s===n&&E.jsx("button",{type:"button",onClick:e,children:E.jsx(Of,{})})]}),E.jsxs("div",{className:"flex w-full justify-between gap-2",children:[E.jsx(cF,{creatorId:n}),E.jsx("span",{className:"text-gray1 max-sm:text-sm",children:dt(r,"yyyy.M.d. HH:mm")})]})]})};function age({voteItems:t}){const[e,n]=Q.useState(!1),r=()=>n(i=>!i);return E.jsxs("div",{className:"mb-10 mt-3 rounded-xl bg-white p-4 shadow-card max-sm:py-2.5",children:[E.jsxs("button",{type:"button",onClick:r,className:"flex w-full items-center gap-1",children:[E.jsx("span",{className:"block flex-1 text-start",children:"    "}),e?E.jsx(Pre,{className:"text-gray1"}):E.jsx(_3,{className:"text-gray1"})]}),E.jsx("ul",{className:`flex gap-4 overflow-hidden transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${e?"max-h-[5000px]":"max-h-0"}`,children:t.map(({selectReason:i,id:s,book:o})=>E.jsxs("li",{className:"mt-2 flex w-full flex-col px-2 pt-2 max-sm:px-0",children:[E.jsxs("span",{className:"mb-2 bg-green3 py-0.5 font-medium",children:[" ",o.title]}),i?E.jsx("p",{children:i}):E.jsx("span",{children:" ."}),E.jsx(k3,{url:o.url,title:"  ",className:"text-purple2"})]},s))})]})}function lge(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function uge(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function cge({selected:t,onVoteItemClick:e}){return E.jsx("button",{type:"button",onClick:e,className:"flex w-full flex-col items-center justify-center bg-green1 py-5 text-white",children:t?E.jsx(lge,{className:"size-5"}):E.jsx(uge,{className:"size-5"})})}const dge=()=>{const{state:t}=Fr(),{email:e}=Ve(Nt),n=Ve(Iv),r=kr();Q.useEffect(()=>{(!(t!=null&&t.collName)||!(t!=null&&t.docId))&&r("/vote")},[]);const{currentVote:i,votedItemsByMember:s,voteCountsById:o,totalVoteCount:a,selectedItem:l,onVotingSubmit:h,onVoteItemClick:c,myVotedItems:f,onVoteDeleteClick:p,isRevote:m,onToggleRevoteClick:g}=vre({collName:t==null?void 0:t.collName,docId:t==null?void 0:t.docId}),{sendPushNotificationToUser:y,sendPushNotificationToAllUser:w,isPending:b}=Ji(),x=(i==null?void 0:i.deadline)<_m,S=o==null?void 0:o.filter((N,O,C)=>N.voteCount===Math.max(...C.map(I=>I.voteCount))),_=N=>!!S.find(O=>O.title===N),k=Pu(i.deadline);return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${x?" ":""} `,backBtn:!0}),(i==null?void 0:i.voteItems)&&E.jsxs("main",{children:[E.jsx(oge,{vote:i,onVoteDeleteClick:p}),E.jsx(age,{voteItems:i.voteItems}),x||f&&!m?E.jsxs(E.Fragment,{children:[E.jsx("ul",{className:"mb-6 mt-2 flex h-full flex-wrap items-center justify-center gap-5 max-sm:mb-10",children:i.voteItems.map(N=>E.jsx(vP,{voteItem:N,selected:_(N.book.title)},N.id))}),o.map(({id:N,title:O,voteCount:C})=>E.jsxs("div",{className:"relative mx-auto mt-2 flex w-2/3 overflow-hidden rounded-xl bg-white px-3 py-1 shadow-sm max-sm:w-full",children:[E.jsx("div",{style:{width:`${Sm(C,a)}%`},className:`absolute inset-y-0 left-0 z-0 rounded-r-lg ${_(O)?"bg-pointCoral":"bg-gray3"}`}),E.jsx("span",{className:`z-10 inline-block w-full pt-[1px] text-[15px] ${_(O)?"font-medium text-white":"text-gray2"}`,children:O}),E.jsxs("span",{className:`z-10 pt-[1px] text-sm ${_(O)?"font-medium text-pointCoral":"text-gray2"}`,children:[Sm(C,a),"%"]})]},N)),E.jsxs("div",{className:"mt-14 flex items-center justify-center gap-4 max-sm:mb-12",children:[E.jsx(ht,{name:" ",disabled:!0,color:"gray",className:"px-8"}),!x&&E.jsx(ht,{disabled:x,type:"button",name:" ",handleClick:g})]})]}):E.jsxs(E.Fragment,{children:[E.jsx(Ys,{text:"  "}),E.jsxs("form",{onSubmit:h,className:"mb-10 flex flex-col items-center",children:[E.jsx("ul",{className:"mb-8 flex flex-wrap items-center gap-4 max-sm:justify-center",children:i.voteItems.map(N=>E.jsx(vP,{voteItem:N,children:E.jsx(cge,{selected:!!l(N.id),onVoteItemClick:()=>c(N.id)})},N.id))}),E.jsx(ht,{type:"submit",name:"",className:"px-10 py-2 max-sm:px-6"})]})]}),!x&&E.jsx(JF,{hyphenDate:i.deadline}),E.jsxs("div",{className:"mt-10",children:[E.jsxs("h4",{className:"flex items-center gap-2",children:[E.jsx(Hre,{}),`: ${s==null?void 0:s.length}`]}),E.jsx("ul",{className:"mt-2 flex flex-wrap gap-x-3 gap-y-2",children:s.map(N=>E.jsx("li",{children:E.jsx(ti,{userId:N.id})},N.id))})]}),e===hE&&+k>=0&&E.jsx(ht,{className:"mt-10",color:"blue",name:`  : ${+k>0?`${k}`:" "}`,handleClick:async()=>{const N={title:"   !",body:`${+k>0?`${k} `:" "}  .     `,notification:n.notification};await y(N),await w(N),window.alert("     !")},disabled:b})]})]})};function fge(){var o;const t=Ve(ma),e=Ve(El),{clubBookListByYear:n}=bE(),r=new Set((o=e==null?void 0:e.absenceMembers)==null?void 0:o.map(({breakMembers:a,onceAbsenceMembers:l})=>[...a,...l]).flat()),i=t.filter(({id:a})=>!r.has(a)),s={breakpoints:{1024:{slidesPerView:11},800:{slidesPerView:8},500:{slidesPerView:7},320:{slidesPerView:4}},loop:!0,centeredSlides:!0,spaceBetween:5,navigation:!1,pagination:!1,scrollbar:!1,speed:100};return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${_t}  `,backBtn:!0}),E.jsxs("main",{children:[E.jsxs("div",{className:"relative mb-14 mt-2 rounded-2xl bg-white p-5 shadow-card",children:[E.jsxs("h2",{className:"font-GiantsInline italic leading-5",children:[E.jsx("span",{className:"text-3xl tracking-tighter text-purple1",children:_t})," ",E.jsx("br",{}),E.jsx("span",{className:"text-3xl tracking-tighter text-pointCoral",children:n.length}),"  ."]}),E.jsxs("div",{className:"-mx-5 mt-6",children:[E.jsx(Af,{options:s,children:n.map(a=>E.jsx(rc,{children:E.jsx(dn,{title:a.title,thumbnail:a.thumbnail,className:"w-[65px]"})},a.title))}),E.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/books.png",alt:" 3D ",className:"absolute right-4 top-4 w-1/4 opacity-50"})]})]}),E.jsx(Mt,{title:"2025   ",children:E.jsx("div",{className:"flex gap-4",children:E.jsxs("div",{className:"w-full rounded-xl bg-white p-4 shadow-card",children:[E.jsx("h2",{className:"mb-2 text-[15px] font-medium text-blue3",children:"  "}),i.map(({id:a})=>E.jsx(ti,{userId:a},a))]})})}),E.jsx(Mt,{title:"2025    ",children:E.jsx("ul",{className:"rounded-xl bg-white p-4 shadow-card",children:E.jsx("span",{children:"hi"})})})]})]})}function hge({className:t=""}){return E.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:`${t}`})}function yP({type:t}){const{pathname:e}=Fr(),{blockLinkAndAlertJoinMember:n}=ei("see"),r="text-[15px]",i=location.pathname.match(/\/bookclub\/(\d{4}-\d{2})(?:\/|$)/),s=i?i[1]:null,o=[{name:"",to:"/",icon:E.jsx(Fre,{className:`${r}`}),active:e==="/"},{name:" ",to:"/previous-bookclub",icon:E.jsx(Cre,{className:`${r}`}),active:!!(e.includes("previous-bookclub")||e.includes("/bookclub")&&s)},{name:" ",to:"/bookclub",icon:E.jsx(Rre,{className:`${r}`}),active:e.includes("/bookclub")&&!s},{name:"",to:"/vote",icon:E.jsx(OE,{className:`${r}`}),active:e.includes("vote")},{name:" ",to:"/bookshelf",icon:E.jsx(Tm,{className:`${r}`}),onClick:n,active:e==="/bookshelf"}];return E.jsxs(E.Fragment,{children:[t==="top"&&!e.includes("create_account")&&e!=="/login"&&E.jsxs("nav",{className:"header mb-4 flex items-center justify-between py-8 max-sm:hidden",children:[E.jsxs(Ir,{to:"/",className:"flex items-center gap-1",children:[E.jsx(hge,{className:"size-6"}),E.jsx("span",{className:"text-[17px] font-medium",children:" "})]}),E.jsx("ul",{className:"flex gap-x-8",children:o.map(({name:a,to:l,state:h,onClick:c,active:f})=>E.jsx("li",{children:E.jsx(Ir,{to:l,state:h,onClick:c,children:E.jsx("span",{className:`${f?"font-semibold text-text":"text-gray1"}`,children:a})})},l))})]}),t==="bottom"&&e!=="/login"&&!e.includes("setting")&&E.jsx("nav",{className:"fixed bottom-0 left-0 z-10 hidden w-full rounded-t-2xl bg-white py-3.5 shadow-card max-sm:block",children:E.jsx("ul",{className:"flex justify-evenly",children:o.map(({to:a,name:l,icon:h,state:c,onClick:f,active:p})=>E.jsx("li",{className:`flex w-[20%] cursor-pointer flex-col items-center justify-center text-[10px] ${p?"text-text":"text-gray2"}`,children:E.jsxs(Ir,{to:a,state:c,onClick:f,className:"flex w-full flex-col items-center justify-center gap-1",children:[h,E.jsx("span",{children:l})]})},a))})})]})}const pge=({bookFieldName:t,checkedBoxHandler:e,bookFields:n})=>{const[r,i]=Q.useState(!1),s=async o=>{const{currentTarget:{checked:a}}=o;i(l=>!l),e(n,a)};return E.jsxs("div",{children:[E.jsx(Es,{text:t}),E.jsx("input",{id:t,type:"checkbox",name:"bookFields",checked:r,onChange:s})]})},wP=()=>{const{currentStep:t,keyword:e,onFirstStepChange:n,onFirstStepSubmit:r,email:i,password:s,checkPassword:o,showErrorMsg:a,onSecondStepChange:l,onSecondStepSubmit:h,username:c,onThirdStepChange:f,onThirdStepSubmit:p,checkedBoxHandler:m}=sre();return E.jsxs(E.Fragment,{children:[E.jsx(jn,{showDesktop:!0,title:" ",backBtn:!0}),E.jsxs("main",{children:[E.jsxs("header",{children:[E.jsx(ar,{color:"lightBlue",shape:"rounded",text:`${t.step} / ${a3.length}`,className:"mb-2"}),E.jsx(Cm,{title:t.stepName,className:"mb-2"})]}),t.step===1&&E.jsxs("form",{onSubmit:r,children:[E.jsx(Ys,{text:"     ."}),E.jsx(gn,{label:" ",type:"text",placeholder:" ",value:e,onChange:n,required:!0}),E.jsx(ht,{type:"submit",name:"",className:"mx-auto mt-10 !px-6"})]}),t.step===2&&E.jsxs("form",{onSubmit:h,className:"flex flex-col gap-3",children:[E.jsxs("div",{children:[E.jsx(Ys,{text:"    ."}),i&&E.jsx(Ys,{text:"           .     ."})]}),E.jsx(gn,{name:"email",type:"email",placeholder:"    .",value:i,autoComplete:"email",onChange:l}),E.jsx(gn,{name:"password",type:"password",autoComplete:"current-password",placeholder:" 8  .",value:s,onChange:l}),E.jsx(gn,{name:"checkPassword",type:"password",autoComplete:"current-password",placeholder:"   .",value:o,onChange:l}),a&&E.jsx("span",{className:"text-sm text-pointCoral",children:a}),E.jsx(ht,{type:"submit",name:" ",className:"mx-auto mt-4"})]}),t.step===3&&E.jsxs("form",{onSubmit:p,children:[E.jsx(gn,{label:"",name:"username",value:c,placeholder:" .",onChange:f}),E.jsx(Es,{htmlFor:"gender",text:""}),E.jsx("fieldset",{children:Cne.map(g=>E.jsxs("div",{children:[E.jsx(Es,{text:g}),E.jsx("input",{id:g,type:"radio",name:"gender",value:g,onChange:f,required:!0})]},g))}),E.jsx(Es,{htmlFor:"bookFields",text:" "}),E.jsx("fieldset",{className:"bookfield",children:bd.map(g=>E.jsx(pge,{bookFieldName:g.name,bookFields:g,checkedBoxHandler:m},g.id))}),a&&E.jsx("span",{children:a}),E.jsx(ht,{type:"submit",name:""})]})]})]})},mge=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState(!1),i=o=>{o.preventDefault(),x9(Ht,t).catch(a=>{console.log(a)}),r(!0),e("")},s=o=>{r(!1),e(o.currentTarget.value)};return E.jsxs(E.Fragment,{children:[E.jsx(jn,{showDesktop:!0,title:" ",backBtn:!0}),E.jsxs("main",{children:[E.jsx(Cm,{title:"  ?",className:"mb-2"}),E.jsx("p",{children:"     ."}),E.jsxs("form",{onSubmit:i,className:"mb-3 mt-1 flex w-full gap-x-3",children:[E.jsx(gn,{name:"email",type:"email",value:t,placeholder:"  .",onChange:s,autoComplete:"email",className:"min-w-10 flex-grow whitespace-nowrap"}),E.jsx(ht,{type:"submit",name:""})]}),n?E.jsxs("span",{children:["     .",E.jsx("br",{}),"      ."]}):E.jsx(E.Fragment,{})]})]})};function gge(){const{pathname:t}=Fr();return Q.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const vge=({postType:t})=>{const[e,n]=Q.useState(""),r=Ve(Ai(Vn)),{uid:i}=Ve(Nt),{sendPostPushNotification:s,isPending:o}=Ji(),{id:a,book:{thumbnail:l,title:h}}=r,c=t===""?Rr(a,Wd):Rr(a,zd),f={text:e,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i,title:h,thumbnail:l},{onAddDocSubmit:p}=vE({setText:n,collName:c,docData:f}),{hideModal:m}=Yt(),g=async y=>{if(f.text!=="")try{await p(y),await s(t),m()}catch{window.alert("   .")}};return E.jsx(Di,{title:`${t} `,children:E.jsxs("form",{onSubmit:g,className:"flex-1 overflow-scroll pb-1 scrollbar-hide",children:[E.jsx(j3,{placeholder:`${t} `,text:e,setText:n}),E.jsx(ht,{name:" ",type:"submit",className:"ml-auto px-7 !shadow-none max-sm:px-4",disabled:o,color:"blue"})]})})};function bP(){var N;const[t,e]=Wt(ec),[n,r]=Wt(uF),[i,s]=Wt(lF),{showModal:o}=Yt(),{pathname:a,state:l}=Fr(),h=OP(),c=(h==null?void 0:h.id)??Vn,f=a.includes("host-review")?" ":"",p=(l==null?void 0:l.postId)??"",m=c.slice(0,4);Q.useEffect(()=>{Yn(`BookClub-${m}`,e),Yn(Rr(c,zd),r),Yn(Rr(c,Wd),s)},[]);const g=t==null?void 0:t.find(O=>O.id===c),{alertAskJoinMember:y,anonymous:w}=ei("write"),b=()=>{if(w)return y();o({element:E.jsx(vge,{postType:f})})},x={:{postList:i,collName:Rr(c,Wd)}," ":{postList:n,collName:Rr(c,zd)}},{postList:S,collName:_}=x[f],k=p?S.filter(O=>O.id===p):S;return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:`${c===Vn?"":dt(c,"yyyy M")}  ${f}`,backBtn:!0}),E.jsxs("main",{children:[g&&E.jsx(rF,{bookClub:g}),!(h!=null&&h.id)&&E.jsx(ht,{type:"button",color:"blue",name:`${f} `,handleClick:b,className:"mt-5 w-full !py-3"}),(N=x[f])!=null&&N.postList?(k==null?void 0:k.length)!==0&&k.map((O,C)=>E.jsxs(Q.Fragment,{children:[E.jsx(ZE,{type:f,post:O,collName:_,className:"relative mt-4 max-sm:pb-4",children:E.jsx(dv,{createdAt:O.createdAt,footerType:"likes",post:O,collName:_})}),k.length-1!==C&&E.jsx(oF,{})]},O.id)):E.jsx(nc,{size:150,className:"h-[55vh]"})]})]})}function yge({label:t,checked:e,checkedBoxHandler:n,detail:r}){const i=async s=>{const{currentTarget:{checked:o}}=s;n(t,o)};return E.jsxs("div",{className:"flex items-start gap-1",children:[E.jsx("input",{type:"checkbox",id:t,checked:e,onChange:i,className:"mt-1 size-[15px]"}),E.jsxs("div",{className:"flex-1",children:[E.jsx(Es,{text:t,className:"py-0 !text-base"}),r&&E.jsx(Ys,{color:"gray",text:r})]})]})}function wge({month:t}){const e=Ve(El),{uid:n}=Ve(Nt),{onSubmit:r,selectedValues:i,setSelectedValues:s}=dre();Q.useEffect(()=>{const{absenceMembers:a}=e,l=a==null?void 0:a.find(m=>m.month===t);if(!l)return;const{breakMembers:h,onceAbsenceMembers:c}=l,f=h==null?void 0:h.find(m=>m===n),p=c==null?void 0:c.find(m=>m===n);s({month:t,breakMonth:!!f,onceAbsenceMonth:!!p})},[t]);const o=(a,l)=>{const h=a==="  "&&l&&i.breakMonth||a===" "&&l&&i.onceAbsenceMonth;s(h?{...a===" "?{month:t,onceAbsenceMonth:!l,breakMonth:l}:{month:t,breakMonth:!l,onceAbsenceMonth:l}}:{...i,...a===" "?{breakMonth:l}:{onceAbsenceMonth:l}})};return E.jsxs("form",{onSubmit:a=>r(a,t),className:"mt-4 flex flex-col gap-2.5",children:[["  "," "].map(a=>E.jsx(yge,{label:a,checked:a===" "?i.breakMonth:i.onceAbsenceMonth,checkedBoxHandler:o,detail:a===" "?"      .(  X)":"     .(  O)"},a)),E.jsx(ht,{type:"submit",name:"",className:"!ml-auto !py-0"})]})}function bge({userId:t,isEditable:e=!1}){var a;const[n,r]=Wt(El);Q.useEffect(()=>{Sl(n)||lr(Ci,Mu,r)},[n]);const i=(a=n==null?void 0:n.absenceMembers)==null?void 0:a.map(({month:l,onceAbsenceMembers:h,breakMembers:c})=>({month:l,onceAbsenceMonth:h.includes(t),breakMonth:c.includes(t)})),{showModal:s}=Yt(),o=async l=>{s({element:E.jsx(Di,{title:`${l}   `,children:E.jsx(wge,{month:l})})})};return E.jsx(E.Fragment,{children:n?E.jsx(lk,{labels:["","",""],rowDataList:i,onEditClick:o,isEditable:e}):E.jsx(nc,{size:150,className:"h-[60vh]"})})}function xge(){const{uid:t}=Ve(Nt);return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:` ${_t}   `,backBtn:!0}),E.jsxs("main",{children:[E.jsx(Ys,{text:"     "}),E.jsx(bge,{userId:t,isEditable:!0})]})]})}const _ge=()=>{const t=Ht==null?void 0:Ht.currentUser,{onSubmit:e,originPassword:n,onOriginChange:r,newPassword:i,onNewChange:s,checkNewPassword:o,onCheckNewChange:a}=ire();return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:" ",backBtn:!0}),E.jsx("main",{children:E.jsxs("form",{onSubmit:e,className:"flex flex-col gap-y-3",children:[E.jsx("input",{hidden:!0,type:"text",autoComplete:"username",defaultValue:t==null?void 0:t.email}),E.jsx(gn,{name:"password",type:"password",value:n,placeholder:"  .",onChange:r,autoComplete:"current-password"}),E.jsx(gn,{name:"password",type:"password",value:i,placeholder:"  .",onChange:s,autoComplete:"new-password"}),E.jsx(gn,{name:"password",type:"password",value:o,placeholder:"    .",onChange:a,autoComplete:"new-password"}),E.jsx(ht,{type:"submit",name:"",className:"mx-auto mt-5"})]})})]})},Sge=()=>{const{onDeleteSubmit:t,showMessage:e,password:n,onChange:r}=ure();return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:"",backBtn:!0}),E.jsxs("main",{children:[E.jsx(Ys,{text:"       ,   ."}),E.jsxs("form",{className:"gap-1",onSubmit:t,children:[e&&E.jsx("span",{className:"text-sm",children:"  ."}),E.jsx(gn,{label:" ",name:"password",type:"password",placeholder:"  .",value:n,onChange:r,autoComplete:"current-password"}),E.jsx(ht,{type:"submit",name:"",className:"my-2 ml-auto !h-8 py-1"})]})]})]})};function Ege(){const{email:t}=Ve(Nt),e=Ve(Iv),n=Ve(Ai(Vn)),[r,i]=Q.useState([]),{sendPushNotificationToUser:s,sendPushNotificationToAllUser:o,isPending:a}=Ji(),l=kr();Q.useEffect(()=>{t!==hE&&l(-1),Yn(Hd,i)},[]);const h=Pu(n.meeting.time),c=Pu("2025-12-21");return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:"",backBtn:!0}),E.jsxs("main",{children:[E.jsx(Mt,{title:" ",children:E.jsxs("div",{className:"flex flex-wrap gap-3",children:[E.jsx(ht,{name:" ",handleClick:async()=>{const f={title:"",body:"  ",notification:e.notification};(await s(f)).result==="success"&&window.alert(" !")},disabled:a}),E.jsx(ht,{color:"purple",name:"  ",handleClick:async()=>{const f={title:"",body:"  ?"};await s({...f,notification:e.notification}),await o(f),window.alert(" !")},disabled:a})]})}),E.jsx(Mt,{title:"   ",children:E.jsx("ul",{className:"flex flex-wrap gap-3",children:r.map(f=>E.jsx("li",{children:E.jsx(ht,{color:"blue",name:" ",handleClick:async()=>{const p={title:" ",body:"  ?",notification:e.notification},m=await s(p,f);(m==null?void 0:m.result)==="success"&&window.alert(" !")},disabled:a,children:E.jsx(ti,{userId:f.id,isLink:!1})})},f.id))})}),E.jsx(Mt,{title:"  ",children:E.jsx(ht,{name:`${+Qr}   `,handleClick:async()=>{const f={title:`${+Qr}  `,body:" .       ",notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),E.jsx(Mt,{title:"  ",children:E.jsx(ht,{name:`${+Qr}    DDAY: ${h}`,handleClick:async()=>{const f={title:`${+Qr}  !`,body:`${h}   .  `,notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),E.jsx(Mt,{title:"  ",children:E.jsx(ht,{name:`${+_t}  DDAY: ${c}`,handleClick:async()=>{const f={title:`${+_t}   DDAY `,body:`  ${c} .   !`,notification:e.notification};await s(f),await o(f),window.alert("    !")},disabled:a})})]})]})}function xP({onClick:t,disabled:e,className:n=""}){return E.jsx("button",{type:"button",onClick:t,disabled:e,className:`flex size-[26px] items-center justify-center p-1 disabled:text-gray2 ${n}`,children:E.jsx(kE,{className:"size-full"})})}const kge=()=>{var m,g,y;const{displayName:t,email:e}=Ve(Nt),{isEditing:n,onToggleEditClick:r,userDoc:i,setNewUserImgUrl:s,newDisplayName:o,setNewDisplayName:a,onHandleFieldClick:l,onProfileSubmit:h,onDisplayNameChange:c,isSelected:f}=gre();Q.useEffect(()=>{o||a(t)},[]);const p=[{name:"",data:E.jsx("span",{className:"w-full",children:e}),form:E.jsx("span",{className:"w-full text-gray1",children:e})},{name:"",data:E.jsx("span",{children:t}),form:E.jsx(gn,{onChange:c,placeholder:" ",value:o||""})},{name:" ",data:E.jsx("ul",{className:"flex flex-wrap gap-2",children:(m=i==null?void 0:i.favoriteBookField)==null?void 0:m.map(w=>E.jsx(ar,{text:w.name,color:"lightBlue",shape:"rounded"},w.id))}),form:E.jsxs("ul",{className:"flex flex-wrap gap-2",children:[bd==null?void 0:bd.map(({id:w,name:b})=>E.jsx("button",{type:"button",name:b,onClick:x=>l(w,x),children:E.jsx(ar,{text:b,color:f(w)?"lightBlue":"lightGray",shape:"rounded"})},w)),((g=i==null?void 0:i.favoriteBookField)==null?void 0:g.length)===0&&E.jsx("span",{className:"block w-full text-end text-sm text-pointCoral",children:"    "})]})}];return E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:" ",backBtn:!0,backTo:"/setting",children:E.jsx(xP,{onClick:r,disabled:n})}),i!=null&&i.displayName?E.jsxs("main",{className:"flex items-start gap-x-4 max-sm:flex-col",children:[E.jsx(Q3,{imgUrl:(y=i.photoURL)==null?void 0:y.original,isEditing:n,setNewUserImgUrl:s}),E.jsxs("div",{className:"flex-1",children:[E.jsx(xP,{onClick:r,disabled:n,className:"ml-auto max-sm:hidden"}),n?E.jsxs("form",{onSubmit:h,className:"mt-8",children:[E.jsx("ul",{className:"flex flex-col gap-4",children:p.map(({name:w,form:b})=>E.jsxs("li",{className:"flex justify-between gap-6",children:[E.jsx("h3",{className:"min-w-24",children:w}),b]},w))}),E.jsx(ht,{name:"",type:"submit",className:"mx-auto mt-12"})]}):E.jsx("ul",{className:"mt-10 flex w-full flex-col gap-y-5",children:p.map(({name:w,data:b})=>E.jsxs("li",{className:"flex gap-6",children:[E.jsx("h3",{className:"min-w-24",children:w}),b]},w))})]})]}):E.jsx(nc,{size:150,className:"h-[80vh]"})]})};function Tge(){var g;const[t,e]=Q.useState(!1),[n,r]=Q.useState(!1),[i,s]=Wt(Iv),{uid:o}=Ve(Nt),a=(g=Ht.currentUser)==null?void 0:g.isAnonymous,{sendPushNotificationToUser:l,isPending:h}=Ji(),c=async()=>{var x,S;const y=await ym();if((x=i==null?void 0:i.tokens)!=null&&x.includes(y))return;const w=an(Jt,Hd,o),b={createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),notification:!0,tokens:i.tokens&&((S=i.tokens)==null?void 0:S.length)>0?[...i==null?void 0:i.tokens,y]:[y]};i.notification||await Cs(w,b),i.notification&&await pn(w,b),s(b)},f=async()=>{if(!("Notification"in window)){alert("    .");return}if(a){alert("     .");return}if(Notification.permission==="denied")return alert("   .        .        .   .");const y={title:"  ",body:"     ",notification:!0};Notification.permission==="granted"?(await c(),await l(y)):await Notification.requestPermission()==="granted"&&(await c(),await l(y)),e(!0),r(!1)},p=async()=>{const y=an(Jt,Hd,o),w={notification:!1,createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss")};await Cs(y,w),e(b=>!b),r(!1)},m=()=>{r(!0),t?p():f()};return Q.useEffect(()=>{i!=null&&i.notification&&Notification.permission==="granted"&&e(!0)},[i==null?void 0:i.notification]),E.jsxs(E.Fragment,{children:[E.jsx(jn,{title:"",backBtn:!0}),E.jsxs("main",{className:"flex justify-between",children:[E.jsx("h3",{className:"font-medium text-gray1",children:""}),E.jsx("button",{type:"button",className:`flex h-7 w-12 items-center rounded-full p-1 disabled:opacity-20 ${t?"bg-green-500":"bg-gray3"}`,"aria-label":"  ",onClick:m,disabled:h||n,children:E.jsx("div",{className:`size-5 rounded-full shadow-md transition-transform ${t?"translate-x-5 bg-white":"translate-x-0 bg-gray4"}`})})]})]})}function Cge({isLoggedIn:t}){var i;const e=(i=Ht.currentUser)==null?void 0:i.isAnonymous,n=Ve(Kj),{hideModal:r}=Yt();return E.jsxs(eU,{basename:"/han-bookclub-app",children:[E.jsx(gge,{}),t?E.jsxs(E.Fragment,{children:[E.jsx(yP,{type:"top"}),E.jsxs(t2,{children:[E.jsx(Qt,{path:"/",element:E.jsx(Ume,{})}),E.jsx(Qt,{path:"/monthlyinfo",element:E.jsx(Wme,{})}),E.jsx(Qt,{path:"/challenge",element:E.jsx(Sae,{})}),E.jsx(Qt,{path:"/yearClosingEvent",element:E.jsx(fge,{})}),E.jsx(Qt,{path:"/search",element:E.jsx(Xme,{})}),E.jsx(Qt,{path:"/previous-bookclub",element:E.jsx(Gme,{})}),E.jsx(Qt,{path:"/bookclub/:id?",element:E.jsx(sfe,{})}),E.jsx(Qt,{path:"/bookclub/:id?/subjects",element:E.jsx(bP,{})}),E.jsx(Qt,{path:"/bookclub/:id?/host-review",element:E.jsx(bP,{})}),E.jsx(Qt,{path:"/vote",element:E.jsx(sge,{})}),E.jsx(Qt,{path:"/vote/:id",element:E.jsx(dge,{})}),E.jsx(Qt,{path:"/bookshelf/:username?",element:E.jsx(Lse,{})}),E.jsx(Qt,{path:"/setting",element:E.jsx(Zme,{})}),E.jsx(Qt,{path:"/setting/absence",element:E.jsx(xge,{})}),E.jsx(Qt,{path:"/setting/edit-profile",element:E.jsx(kge,{})}),E.jsx(Qt,{path:"/setting/edit-password",element:E.jsx(_ge,{})}),E.jsx(Qt,{path:"/setting/delete-account",element:E.jsx(Sge,{})}),E.jsx(Qt,{path:"/setting/developer",element:E.jsx(Ege,{})}),E.jsx(Qt,{path:"/setting/notification",element:E.jsx(Tge,{})}),e&&E.jsxs(E.Fragment,{children:[E.jsx(Qt,{path:"/login",element:E.jsx(Kb,{isLoggedIn:t})}),E.jsx(Qt,{path:"/create_account",element:E.jsx(wP,{})})]})]}),E.jsx(yP,{type:"bottom"})]}):E.jsxs(t2,{children:[E.jsx(Qt,{path:"/",element:E.jsx(Kb,{isLoggedIn:t})}),E.jsx(Qt,{path:"/find_pw",element:E.jsx(mge,{})}),E.jsx(Qt,{path:"/*",element:E.jsx(Kb,{isLoggedIn:t})}),E.jsx(Qt,{path:"/create_account",element:E.jsx(wP,{})})]}),n.length>0&&n.map(({key:s,element:o,hideDim:a,dimUnclickable:l})=>E.jsxs(Q.Fragment,{children:[!a&&E.jsx("div",{role:"presentation",className:`fixed inset-0 z-10 size-full ${l?"cursor-default":"cursor-pointer"} bg-black opacity-60`,onClick:s?()=>r(s):()=>r()}),o]},s||"modal"))]})}function Nge(){const[t,e]=Q.useState(!1),[n,r]=Wt(Nt),[i,s]=Wt(Iv),o=ea(wE),a=async()=>{const l=Ux(Vx,"avatars/.jpeg");Bx(l).then(h=>{o(h)})};return Q.useEffect(()=>{const l=ug(),h=og(l,c=>{if(c){const{uid:f,displayName:p,email:m,photoURL:g}=c;r({uid:f,displayName:p,email:m,photoURL:g}),a()}else r(null);e(!0)});return()=>h()},[]),Q.useEffect(()=>{n!=null&&n.uid&&lr(Hd,n.uid,s)},[n==null?void 0:n.uid]),Q.useEffect(()=>{t&&(i==null?void 0:i.notification)===!0&&(async()=>{var h,c;if(Notification.permission==="granted"){const f=await ym(),p=(h=i==null?void 0:i.tokens)==null?void 0:h.find(m=>m===f);if(p)return;if(!p&&(n!=null&&n.uid)){const m=an(Jt,Hd,n.uid),g={createdAt:dt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),tokens:((c=i==null?void 0:i.tokens)==null?void 0:c.length)!==0?[...i==null?void 0:i.tokens,f]:[f]};await pn(m,g)}}})()},[i]),t?E.jsx(Cge,{isLoggedIn:!!n}):E.jsx(nc,{size:120,className:"h-screen"})}const Oge=iB.createRoot(document.getElementById("root"));Oge.render(E.jsx(Ree,{children:E.jsx(Nge,{})}));
