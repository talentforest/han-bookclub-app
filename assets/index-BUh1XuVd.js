var aB=Object.defineProperty;var lB=(t,e,n)=>e in t?aB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Le=(t,e,n)=>lB(t,typeof e!="symbol"?e+"":e,n);function uB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _0={exports:{}},Uc={},S0={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function cB(){if(Z2)return yt;Z2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function w(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}w.prototype.isReactComponent={},w.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=w.prototype;function _(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}var E=_.prototype=new b;E.constructor=_,g(E,w.prototype),E.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function C(j,U,V){var z,Q={},X=null,W=null;if(U!=null)for(z in U.ref!==void 0&&(W=U.ref),U.key!==void 0&&(X=""+U.key),U)k.call(U,z)&&!O.hasOwnProperty(z)&&(Q[z]=U[z]);var J=arguments.length-2;if(J===1)Q.children=V;else if(1<J){for(var Z=Array(J),te=0;te<J;te++)Z[te]=arguments[te+2];Q.children=Z}if(j&&j.defaultProps)for(z in J=j.defaultProps,J)Q[z]===void 0&&(Q[z]=J[z]);return{$$typeof:t,type:j,key:X,ref:W,props:Q,_owner:N.current}}function I(j,U){return{$$typeof:t,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function A(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return U[V]})}var D=/\/+/g;function M(j,U){return typeof j=="object"&&j!==null&&j.key!=null?A(""+j.key):U.toString(36)}function F(j,U,V,z,Q){var X=typeof j;(X==="undefined"||X==="boolean")&&(j=null);var W=!1;if(j===null)W=!0;else switch(X){case"string":case"number":W=!0;break;case"object":switch(j.$$typeof){case t:case e:W=!0}}if(W)return W=j,Q=Q(W),j=z===""?"."+M(W,0):z,S(Q)?(V="",j!=null&&(V=j.replace(D,"$&/")+"/"),F(Q,U,V,"",function(te){return te})):Q!=null&&(R(Q)&&(Q=I(Q,V+(!Q.key||W&&W.key===Q.key?"":(""+Q.key).replace(D,"$&/")+"/")+j)),U.push(Q)),1;if(W=0,z=z===""?".":z+":",S(j))for(var J=0;J<j.length;J++){X=j[J];var Z=z+M(X,J);W+=F(X,U,V,Z,Q)}else if(Z=p(j),typeof Z=="function")for(j=Z.call(j),J=0;!(X=j.next()).done;)X=X.value,Z=z+M(X,J++),W+=F(X,U,V,Z,Q);else if(X==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return W}function q(j,U,V){if(j==null)return j;var z=[],Q=0;return F(j,z,"","",function(X){return U.call(V,X,Q++)}),z}function L(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var B={current:null},Y={transition:null},H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Y,ReactCurrentOwner:N};return yt.Children={map:q,forEach:function(j,U,V){q(j,function(){U.apply(this,arguments)},V)},count:function(j){var U=0;return q(j,function(){U++}),U},toArray:function(j){return q(j,function(U){return U})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},yt.Component=w,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=_,yt.StrictMode=r,yt.Suspense=l,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,yt.cloneElement=function(j,U,V){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var z=g({},j.props),Q=j.key,X=j.ref,W=j._owner;if(U!=null){if(U.ref!==void 0&&(X=U.ref,W=N.current),U.key!==void 0&&(Q=""+U.key),j.type&&j.type.defaultProps)var J=j.type.defaultProps;for(Z in U)k.call(U,Z)&&!O.hasOwnProperty(Z)&&(z[Z]=U[Z]===void 0&&J!==void 0?J[Z]:U[Z])}var Z=arguments.length-2;if(Z===1)z.children=V;else if(1<Z){J=Array(Z);for(var te=0;te<Z;te++)J[te]=arguments[te+2];z.children=J}return{$$typeof:t,type:j.type,key:Q,ref:X,props:z,_owner:W}},yt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},yt.createElement=C,yt.createFactory=function(j){var U=C.bind(null,j);return U.type=j,U},yt.createRef=function(){return{current:null}},yt.forwardRef=function(j){return{$$typeof:a,render:j}},yt.isValidElement=R,yt.lazy=function(j){return{$$typeof:c,_payload:{_status:-1,_result:j},_init:L}},yt.memo=function(j,U){return{$$typeof:h,type:j,compare:U===void 0?null:U}},yt.startTransition=function(j){var U=Y.transition;Y.transition={};try{j()}finally{Y.transition=U}},yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},yt.useCallback=function(j,U){return B.current.useCallback(j,U)},yt.useContext=function(j){return B.current.useContext(j)},yt.useDebugValue=function(){},yt.useDeferredValue=function(j){return B.current.useDeferredValue(j)},yt.useEffect=function(j,U){return B.current.useEffect(j,U)},yt.useId=function(){return B.current.useId()},yt.useImperativeHandle=function(j,U,V){return B.current.useImperativeHandle(j,U,V)},yt.useInsertionEffect=function(j,U){return B.current.useInsertionEffect(j,U)},yt.useLayoutEffect=function(j,U){return B.current.useLayoutEffect(j,U)},yt.useMemo=function(j,U){return B.current.useMemo(j,U)},yt.useReducer=function(j,U,V){return B.current.useReducer(j,U,V)},yt.useRef=function(j){return B.current.useRef(j)},yt.useState=function(j){return B.current.useState(j)},yt.useSyncExternalStore=function(j,U,V){return B.current.useSyncExternalStore(j,U,V)},yt.useTransition=function(){return B.current.useTransition()},yt.version="18.2.0",yt}var eC;function ug(){return eC||(eC=1,S0.exports=cB()),S0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function dB(){if(tC)return Uc;tC=1;var t=ug(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,h){var c,f={},p=null,m=null;h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(f[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return Uc.Fragment=n,Uc.jsx=o,Uc.jsxs=o,Uc}var nC;function fB(){return nC||(nC=1,_0.exports=dB()),_0.exports}var x=fB(),Gh={},E0={exports:{}},Qr={},k0={exports:{}},T0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function hB(){return rC||(rC=1,function(t){function e(Y,H){var j=Y.length;Y.push(H);e:for(;0<j;){var U=j-1>>>1,V=Y[U];if(0<i(V,H))Y[U]=H,Y[j]=V,j=U;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],j=Y.pop();if(j!==H){Y[0]=j;e:for(var U=0,V=Y.length,z=V>>>1;U<z;){var Q=2*(U+1)-1,X=Y[Q],W=Q+1,J=Y[W];if(0>i(X,j))W<V&&0>i(J,X)?(Y[U]=J,Y[W]=j,U=W):(Y[U]=X,Y[Q]=j,U=Q);else if(W<V&&0>i(J,j))Y[U]=J,Y[W]=j,U=W;else break e}}return H}function i(Y,H){var j=Y.sortIndex-H.sortIndex;return j!==0?j:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=Y)r(h),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(h)}}function S(Y){if(y=!1,E(Y),!g)if(n(l)!==null)g=!0,L(k);else{var H=n(h);H!==null&&B(S,H.startTime-Y)}}function k(Y,H){g=!1,y&&(y=!1,b(C),C=-1),m=!0;var j=p;try{for(E(H),f=n(l);f!==null&&(!(f.expirationTime>H)||Y&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var V=U(f.expirationTime<=H);H=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),E(H)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var Q=n(h);Q!==null&&B(S,Q.startTime-H),z=!1}return z}finally{f=null,p=j,m=!1}}var N=!1,O=null,C=-1,I=5,R=-1;function A(){return!(t.unstable_now()-R<I)}function D(){if(O!==null){var Y=t.unstable_now();R=Y;var H=!0;try{H=O(!0,Y)}finally{H?M():(N=!1,O=null)}}else N=!1}var M;if(typeof _=="function")M=function(){_(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=D,M=function(){q.postMessage(null)}}else M=function(){w(D,0)};function L(Y){O=Y,N||(N=!0,M())}function B(Y,H){C=w(function(){Y(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,L(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var j=p;p=H;try{return Y()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=p;p=Y;try{return H()}finally{p=j}},t.unstable_scheduleCallback=function(Y,H,j){var U=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,Y={id:c++,callback:H,priorityLevel:Y,startTime:j,expirationTime:V,sortIndex:-1},j>U?(Y.sortIndex=j,e(h,Y),n(l)===null&&Y===n(h)&&(y?(b(C),C=-1):y=!0,B(S,j-U))):(Y.sortIndex=V,e(l,Y),g||m||(g=!0,L(k))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var H=p;return function(){var j=p;p=H;try{return Y.apply(this,arguments)}finally{p=j}}}}(T0)),T0}var iC;function pB(){return iC||(iC=1,k0.exports=hB()),k0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function mB(){if(sC)return Qr;sC=1;var t=ug(),e=pB();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function p(u){return l.call(f,u)?!0:l.call(c,u)?!1:h.test(u)?f[u]=!0:(c[u]=!0,!1)}function m(u,d,v,T){if(v!==null&&v.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return T?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function g(u,d,v,T){if(d===null||typeof d>"u"||m(u,d,v,T))return!0;if(T)return!1;if(v!==null)switch(v.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(u,d,v,T,P,$,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=P,this.mustUseProperty=v,this.propertyName=u,this.type=d,this.sanitizeURL=$,this.removeEmptyString=G}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];w[d]=new y(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(b,_);w[d]=new y(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(b,_);w[d]=new y(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(b,_);w[d]=new y(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function E(u,d,v,T){var P=w.hasOwnProperty(d)?w[d]:null;(P!==null?P.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(g(d,v,P,T)&&(v=null),T||P===null?p(d)&&(v===null?u.removeAttribute(d):u.setAttribute(d,""+v)):P.mustUseProperty?u[P.propertyName]=v===null?P.type===3?!1:"":v:(d=P.attributeName,T=P.attributeNamespace,v===null?u.removeAttribute(d):(P=P.type,v=P===3||P===4&&v===!0?"":""+v,T?u.setAttributeNS(T,d,v):u.setAttribute(d,v))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var j=Object.assign,U;function V(u){if(U===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+u}var z=!1;function Q(u,d){if(!u||z)return"";z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var T=de}Reflect.construct(u,[],d)}else{try{d.call()}catch(de){T=de}u.call(d.prototype)}else{try{throw Error()}catch(de){T=de}u()}}catch(de){if(de&&T&&typeof de.stack=="string"){for(var P=de.stack.split(`
`),$=T.stack.split(`
`),G=P.length-1,ee=$.length-1;1<=G&&0<=ee&&P[G]!==$[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(P[G]!==$[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||P[G]!==$[ee]){var ne=`
`+P[G].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=G&&0<=ee);break}}}finally{z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?V(u):""}function X(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=Q(u.type,!1),u;case 11:return u=Q(u.type.render,!1),u;case 1:return u=Q(u.type,!0),u;default:return""}}function W(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case O:return"Fragment";case N:return"Portal";case I:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case A:return(u.displayName||"Context")+".Consumer";case R:return(u._context.displayName||"Context")+".Provider";case D:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return d=u.displayName||null,d!==null?d:W(u.type)||"Memo";case L:d=u._payload,u=u._init;try{return W(u(d))}catch{}}return null}function J(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function le(u){var d=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),T=""+u[d];if(!u.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var P=v.get,$=v.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return P.call(this)},set:function(G){T=""+G,$.call(this,G)}}),Object.defineProperty(u,d,{enumerable:v.enumerable}),{getValue:function(){return T},setValue:function(G){T=""+G},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function pe(u){u._valueTracker||(u._valueTracker=le(u))}function ge(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var v=d.getValue(),T="";return u&&(T=te(u)?u.checked?"true":"false":u.value),u=T,u!==v?(d.setValue(u),!0):!1}function Ce(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function $e(u,d){var v=d.checked;return j({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function De(u,d){var v=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;v=Z(d.value!=null?d.value:v),u._wrapperState={initialChecked:T,initialValue:v,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function nt(u,d){d=d.checked,d!=null&&E(u,"checked",d,!1)}function Qe(u,d){nt(u,d);var v=Z(d.value),T=d.type;if(v!=null)T==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?fe(u,d.type,v):d.hasOwnProperty("defaultValue")&&fe(u,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function ce(u,d,v){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,v||d===u.value||(u.value=d),u.defaultValue=d}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function fe(u,d,v){(d!=="number"||Ce(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var we=Array.isArray;function xe(u,d,v,T){if(u=u.options,d){d={};for(var P=0;P<v.length;P++)d["$"+v[P]]=!0;for(v=0;v<u.length;v++)P=d.hasOwnProperty("$"+u[v].value),u[v].selected!==P&&(u[v].selected=P),P&&T&&(u[v].defaultSelected=!0)}else{for(v=""+Z(v),d=null,P=0;P<u.length;P++){if(u[P].value===v){u[P].selected=!0,T&&(u[P].defaultSelected=!0);return}d!==null||u[P].disabled||(d=u[P])}d!==null&&(d.selected=!0)}}function he(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Be(u,d){var v=d.value;if(v==null){if(v=d.children,d=d.defaultValue,v!=null){if(d!=null)throw Error(n(92));if(we(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),v=d}u._wrapperState={initialValue:Z(v)}}function Ie(u,d){var v=Z(d.value),T=Z(d.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),d.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),T!=null&&(u.defaultValue=""+T)}function Ye(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Yt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function On(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Yt(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var st,Vr=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,v,T,P){MSApp.execUnsafeLocalFunction(function(){return u(d,v,T,P)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=st.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function dt(u,d){if(d){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=d;return}}u.textContent=d}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jn=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(u){Jn.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),zt[d]=zt[u]})});function qr(u,d,v){return d==null||typeof d=="boolean"||d===""?"":v||typeof d!="number"||d===0||zt.hasOwnProperty(u)&&zt[u]?(""+d).trim():d+"px"}function Rr(u,d){u=u.style;for(var v in d)if(d.hasOwnProperty(v)){var T=v.indexOf("--")===0,P=qr(v,d[v],T);v==="float"&&(v="cssFloat"),T?u.setProperty(v,P):u[v]=P}}var oe=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(u,d){if(d){if(oe[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function be(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Te(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oe=null,Ge=null,Ue=null;function He(u){if(u=Tc(u)){if(typeof Oe!="function")throw Error(n(280));var d=u.stateNode;d&&(d=lh(d),Oe(u.stateNode,u.type,d))}}function rt(u){Ge?Ue?Ue.push(u):Ue=[u]:Ge=u}function St(){if(Ge){var u=Ge,d=Ue;if(Ue=Ge=null,He(u),d)for(u=0;u<d.length;u++)He(d[u])}}function An(u,d){return u(d)}function Ft(){}var cn=!1;function Hr(u,d,v){if(cn)return u(d,v);cn=!0;try{return An(u,d,v)}finally{cn=!1,(Ge!==null||Ue!==null)&&(Ft(),St())}}function gi(u,d){var v=u.stateNode;if(v===null)return null;var T=lh(v);if(T===null)return null;v=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var ho=!1;if(a)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{ho=!1}function va(u,d,v,T,P,$,G,ee,ne){var de=Array.prototype.slice.call(arguments,3);try{d.apply(v,de)}catch(ye){this.onError(ye)}}var ac=!1,Bf=null,Uf=!1,Uv=null,p6={onError:function(u){ac=!0,Bf=u}};function m6(u,d,v,T,P,$,G,ee,ne){ac=!1,Bf=null,va.apply(p6,arguments)}function g6(u,d,v,T,P,$,G,ee,ne){if(m6.apply(this,arguments),ac){if(ac){var de=Bf;ac=!1,Bf=null}else throw Error(n(198));Uf||(Uf=!0,Uv=de)}}function ya(u){var d=u,v=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(v=d.return),u=d.return;while(u)}return d.tag===3?v:null}function xk(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function _k(u){if(ya(u)!==u)throw Error(n(188))}function v6(u){var d=u.alternate;if(!d){if(d=ya(u),d===null)throw Error(n(188));return d!==u?null:u}for(var v=u,T=d;;){var P=v.return;if(P===null)break;var $=P.alternate;if($===null){if(T=P.return,T!==null){v=T;continue}break}if(P.child===$.child){for($=P.child;$;){if($===v)return _k(P),u;if($===T)return _k(P),d;$=$.sibling}throw Error(n(188))}if(v.return!==T.return)v=P,T=$;else{for(var G=!1,ee=P.child;ee;){if(ee===v){G=!0,v=P,T=$;break}if(ee===T){G=!0,T=P,v=$;break}ee=ee.sibling}if(!G){for(ee=$.child;ee;){if(ee===v){G=!0,v=$,T=P;break}if(ee===T){G=!0,T=$,v=P;break}ee=ee.sibling}if(!G)throw Error(n(189))}}if(v.alternate!==T)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:d}function Sk(u){return u=v6(u),u!==null?Ek(u):null}function Ek(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=Ek(u);if(d!==null)return d;u=u.sibling}return null}var kk=e.unstable_scheduleCallback,Tk=e.unstable_cancelCallback,y6=e.unstable_shouldYield,w6=e.unstable_requestPaint,kn=e.unstable_now,b6=e.unstable_getCurrentPriorityLevel,Vv=e.unstable_ImmediatePriority,Ck=e.unstable_UserBlockingPriority,Vf=e.unstable_NormalPriority,x6=e.unstable_LowPriority,Nk=e.unstable_IdlePriority,qf=null,es=null;function _6(u){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(qf,u,void 0,(u.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:k6,S6=Math.log,E6=Math.LN2;function k6(u){return u>>>=0,u===0?32:31-(S6(u)/E6|0)|0}var Hf=64,zf=4194304;function lc(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Wf(u,d){var v=u.pendingLanes;if(v===0)return 0;var T=0,P=u.suspendedLanes,$=u.pingedLanes,G=v&268435455;if(G!==0){var ee=G&~P;ee!==0?T=lc(ee):($&=G,$!==0&&(T=lc($)))}else G=v&~P,G!==0?T=lc(G):$!==0&&(T=lc($));if(T===0)return 0;if(d!==0&&d!==T&&(d&P)===0&&(P=T&-T,$=d&-d,P>=$||P===16&&($&4194240)!==0))return d;if((T&4)!==0&&(T|=v&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=T;0<d;)v=31-Ii(d),P=1<<v,T|=u[v],d&=~P;return T}function T6(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C6(u,d){for(var v=u.suspendedLanes,T=u.pingedLanes,P=u.expirationTimes,$=u.pendingLanes;0<$;){var G=31-Ii($),ee=1<<G,ne=P[G];ne===-1?((ee&v)===0||(ee&T)!==0)&&(P[G]=T6(ee,d)):ne<=d&&(u.expiredLanes|=ee),$&=~ee}}function qv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Ok(){var u=Hf;return Hf<<=1,(Hf&4194240)===0&&(Hf=64),u}function Hv(u){for(var d=[],v=0;31>v;v++)d.push(u);return d}function uc(u,d,v){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Ii(d),u[d]=v}function N6(u,d){var v=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<v;){var P=31-Ii(v),$=1<<P;d[P]=0,T[P]=-1,u[P]=-1,v&=~$}}function zv(u,d){var v=u.entangledLanes|=d;for(u=u.entanglements;v;){var T=31-Ii(v),P=1<<T;P&d|u[T]&d&&(u[T]|=d),v&=~P}}var $t=0;function Ak(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Dk,Wv,Ik,Rk,Pk,Yv=!1,Yf=[],po=null,mo=null,go=null,cc=new Map,dc=new Map,vo=[],O6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mk(u,d){switch(u){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":cc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(d.pointerId)}}function fc(u,d,v,T,P,$){return u===null||u.nativeEvent!==$?(u={blockedOn:d,domEventName:v,eventSystemFlags:T,nativeEvent:$,targetContainers:[P]},d!==null&&(d=Tc(d),d!==null&&Wv(d)),u):(u.eventSystemFlags|=T,d=u.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),u)}function A6(u,d,v,T,P){switch(d){case"focusin":return po=fc(po,u,d,v,T,P),!0;case"dragenter":return mo=fc(mo,u,d,v,T,P),!0;case"mouseover":return go=fc(go,u,d,v,T,P),!0;case"pointerover":var $=P.pointerId;return cc.set($,fc(cc.get($)||null,u,d,v,T,P)),!0;case"gotpointercapture":return $=P.pointerId,dc.set($,fc(dc.get($)||null,u,d,v,T,P)),!0}return!1}function Lk(u){var d=wa(u.target);if(d!==null){var v=ya(d);if(v!==null){if(d=v.tag,d===13){if(d=xk(v),d!==null){u.blockedOn=d,Pk(u.priority,function(){Ik(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gf(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var v=Kv(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var T=new v.constructor(v.type,v);ke=T,v.target.dispatchEvent(T),ke=null}else return d=Tc(v),d!==null&&Wv(d),u.blockedOn=v,!1;d.shift()}return!0}function jk(u,d,v){Gf(u)&&v.delete(d)}function D6(){Yv=!1,po!==null&&Gf(po)&&(po=null),mo!==null&&Gf(mo)&&(mo=null),go!==null&&Gf(go)&&(go=null),cc.forEach(jk),dc.forEach(jk)}function hc(u,d){u.blockedOn===d&&(u.blockedOn=null,Yv||(Yv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D6)))}function pc(u){function d(P){return hc(P,u)}if(0<Yf.length){hc(Yf[0],u);for(var v=1;v<Yf.length;v++){var T=Yf[v];T.blockedOn===u&&(T.blockedOn=null)}}for(po!==null&&hc(po,u),mo!==null&&hc(mo,u),go!==null&&hc(go,u),cc.forEach(d),dc.forEach(d),v=0;v<vo.length;v++)T=vo[v],T.blockedOn===u&&(T.blockedOn=null);for(;0<vo.length&&(v=vo[0],v.blockedOn===null);)Lk(v),v.blockedOn===null&&vo.shift()}var Cl=S.ReactCurrentBatchConfig,Kf=!0;function I6(u,d,v,T){var P=$t,$=Cl.transition;Cl.transition=null;try{$t=1,Gv(u,d,v,T)}finally{$t=P,Cl.transition=$}}function R6(u,d,v,T){var P=$t,$=Cl.transition;Cl.transition=null;try{$t=4,Gv(u,d,v,T)}finally{$t=P,Cl.transition=$}}function Gv(u,d,v,T){if(Kf){var P=Kv(u,d,v,T);if(P===null)fy(u,d,T,Qf,v),Mk(u,T);else if(A6(P,u,d,v,T))T.stopPropagation();else if(Mk(u,T),d&4&&-1<O6.indexOf(u)){for(;P!==null;){var $=Tc(P);if($!==null&&Dk($),$=Kv(u,d,v,T),$===null&&fy(u,d,T,Qf,v),$===P)break;P=$}P!==null&&T.stopPropagation()}else fy(u,d,T,null,v)}}var Qf=null;function Kv(u,d,v,T){if(Qf=null,u=Te(T),u=wa(u),u!==null)if(d=ya(u),d===null)u=null;else if(v=d.tag,v===13){if(u=xk(d),u!==null)return u;u=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Qf=u,null}function Fk(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b6()){case Vv:return 1;case Ck:return 4;case Vf:case x6:return 16;case Nk:return 536870912;default:return 16}default:return 16}}var yo=null,Qv=null,Xf=null;function $k(){if(Xf)return Xf;var u,d=Qv,v=d.length,T,P="value"in yo?yo.value:yo.textContent,$=P.length;for(u=0;u<v&&d[u]===P[u];u++);var G=v-u;for(T=1;T<=G&&d[v-T]===P[$-T];T++);return Xf=P.slice(u,1<T?1-T:void 0)}function Jf(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Zf(){return!0}function Bk(){return!1}function ri(u){function d(v,T,P,$,G){this._reactName=v,this._targetInst=P,this.type=T,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(v=u[ee],this[ee]=v?v($):$[ee]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Zf:Bk,this.isPropagationStopped=Bk,this}return j(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),d}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xv=ri(Nl),mc=j({},Nl,{view:0,detail:0}),P6=ri(mc),Jv,Zv,gc,eh=j({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==gc&&(gc&&u.type==="mousemove"?(Jv=u.screenX-gc.screenX,Zv=u.screenY-gc.screenY):Zv=Jv=0,gc=u),Jv)},movementY:function(u){return"movementY"in u?u.movementY:Zv}}),Uk=ri(eh),M6=j({},eh,{dataTransfer:0}),L6=ri(M6),j6=j({},mc,{relatedTarget:0}),ey=ri(j6),F6=j({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),$6=ri(F6),B6=j({},Nl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),U6=ri(B6),V6=j({},Nl,{data:0}),Vk=ri(V6),q6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W6(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=z6[u])?!!d[u]:!1}function ty(){return W6}var Y6=j({},mc,{key:function(u){if(u.key){var d=q6[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Jf(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?H6[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(u){return u.type==="keypress"?Jf(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Jf(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),G6=ri(Y6),K6=j({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qk=ri(K6),Q6=j({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),X6=ri(Q6),J6=j({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z6=ri(J6),e$=j({},eh,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),t$=ri(e$),n$=[9,13,27,32],ny=a&&"CompositionEvent"in window,vc=null;a&&"documentMode"in document&&(vc=document.documentMode);var r$=a&&"TextEvent"in window&&!vc,Hk=a&&(!ny||vc&&8<vc&&11>=vc),zk=" ",Wk=!1;function Yk(u,d){switch(u){case"keyup":return n$.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gk(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ol=!1;function i$(u,d){switch(u){case"compositionend":return Gk(d);case"keypress":return d.which!==32?null:(Wk=!0,zk);case"textInput":return u=d.data,u===zk&&Wk?null:u;default:return null}}function s$(u,d){if(Ol)return u==="compositionend"||!ny&&Yk(u,d)?(u=$k(),Xf=Qv=yo=null,Ol=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Hk&&d.locale!=="ko"?null:d.data;default:return null}}var o$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kk(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!o$[u.type]:d==="textarea"}function Qk(u,d,v,T){rt(T),d=sh(d,"onChange"),0<d.length&&(v=new Xv("onChange","change",null,v,T),u.push({event:v,listeners:d}))}var yc=null,wc=null;function a$(u){pT(u,0)}function th(u){var d=Pl(u);if(ge(d))return u}function l$(u,d){if(u==="change")return d}var Xk=!1;if(a){var ry;if(a){var iy="oninput"in document;if(!iy){var Jk=document.createElement("div");Jk.setAttribute("oninput","return;"),iy=typeof Jk.oninput=="function"}ry=iy}else ry=!1;Xk=ry&&(!document.documentMode||9<document.documentMode)}function Zk(){yc&&(yc.detachEvent("onpropertychange",eT),wc=yc=null)}function eT(u){if(u.propertyName==="value"&&th(wc)){var d=[];Qk(d,wc,u,Te(u)),Hr(a$,d)}}function u$(u,d,v){u==="focusin"?(Zk(),yc=d,wc=v,yc.attachEvent("onpropertychange",eT)):u==="focusout"&&Zk()}function c$(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return th(wc)}function d$(u,d){if(u==="click")return th(d)}function f$(u,d){if(u==="input"||u==="change")return th(d)}function h$(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ri=typeof Object.is=="function"?Object.is:h$;function bc(u,d){if(Ri(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var v=Object.keys(u),T=Object.keys(d);if(v.length!==T.length)return!1;for(T=0;T<v.length;T++){var P=v[T];if(!l.call(d,P)||!Ri(u[P],d[P]))return!1}return!0}function tT(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function nT(u,d){var v=tT(u);u=0;for(var T;v;){if(v.nodeType===3){if(T=u+v.textContent.length,u<=d&&T>=d)return{node:v,offset:d-u};u=T}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=tT(v)}}function rT(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?rT(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function iT(){for(var u=window,d=Ce();d instanceof u.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)u=d.contentWindow;else break;d=Ce(u.document)}return d}function sy(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function p$(u){var d=iT(),v=u.focusedElem,T=u.selectionRange;if(d!==v&&v&&v.ownerDocument&&rT(v.ownerDocument.documentElement,v)){if(T!==null&&sy(v)){if(d=T.start,u=T.end,u===void 0&&(u=d),"selectionStart"in v)v.selectionStart=d,v.selectionEnd=Math.min(u,v.value.length);else if(u=(d=v.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var P=v.textContent.length,$=Math.min(T.start,P);T=T.end===void 0?$:Math.min(T.end,P),!u.extend&&$>T&&(P=T,T=$,$=P),P=nT(v,$);var G=nT(v,T);P&&G&&(u.rangeCount!==1||u.anchorNode!==P.node||u.anchorOffset!==P.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),u.removeAllRanges(),$>T?(u.addRange(d),u.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),u.addRange(d)))}}for(d=[],u=v;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<d.length;v++)u=d[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var m$=a&&"documentMode"in document&&11>=document.documentMode,Al=null,oy=null,xc=null,ay=!1;function sT(u,d,v){var T=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ay||Al==null||Al!==Ce(T)||(T=Al,"selectionStart"in T&&sy(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),xc&&bc(xc,T)||(xc=T,T=sh(oy,"onSelect"),0<T.length&&(d=new Xv("onSelect","select",null,d,v),u.push({event:d,listeners:T}),d.target=Al)))}function nh(u,d){var v={};return v[u.toLowerCase()]=d.toLowerCase(),v["Webkit"+u]="webkit"+d,v["Moz"+u]="moz"+d,v}var Dl={animationend:nh("Animation","AnimationEnd"),animationiteration:nh("Animation","AnimationIteration"),animationstart:nh("Animation","AnimationStart"),transitionend:nh("Transition","TransitionEnd")},ly={},oT={};a&&(oT=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function rh(u){if(ly[u])return ly[u];if(!Dl[u])return u;var d=Dl[u],v;for(v in d)if(d.hasOwnProperty(v)&&v in oT)return ly[u]=d[v];return u}var aT=rh("animationend"),lT=rh("animationiteration"),uT=rh("animationstart"),cT=rh("transitionend"),dT=new Map,fT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(u,d){dT.set(u,d),s(d,[u])}for(var uy=0;uy<fT.length;uy++){var cy=fT[uy],g$=cy.toLowerCase(),v$=cy[0].toUpperCase()+cy.slice(1);wo(g$,"on"+v$)}wo(aT,"onAnimationEnd"),wo(lT,"onAnimationIteration"),wo(uT,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(cT,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y$=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function hT(u,d,v){var T=u.type||"unknown-event";u.currentTarget=v,g6(T,d,void 0,u),u.currentTarget=null}function pT(u,d){d=(d&4)!==0;for(var v=0;v<u.length;v++){var T=u[v],P=T.event;T=T.listeners;e:{var $=void 0;if(d)for(var G=T.length-1;0<=G;G--){var ee=T[G],ne=ee.instance,de=ee.currentTarget;if(ee=ee.listener,ne!==$&&P.isPropagationStopped())break e;hT(P,ee,de),$=ne}else for(G=0;G<T.length;G++){if(ee=T[G],ne=ee.instance,de=ee.currentTarget,ee=ee.listener,ne!==$&&P.isPropagationStopped())break e;hT(P,ee,de),$=ne}}}if(Uf)throw u=Uv,Uf=!1,Uv=null,u}function Zt(u,d){var v=d[yy];v===void 0&&(v=d[yy]=new Set);var T=u+"__bubble";v.has(T)||(mT(d,u,2,!1),v.add(T))}function dy(u,d,v){var T=0;d&&(T|=4),mT(v,u,T,d)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Sc(u){if(!u[ih]){u[ih]=!0,r.forEach(function(v){v!=="selectionchange"&&(y$.has(v)||dy(v,!1,u),dy(v,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[ih]||(d[ih]=!0,dy("selectionchange",!1,d))}}function mT(u,d,v,T){switch(Fk(d)){case 1:var P=I6;break;case 4:P=R6;break;default:P=Gv}v=P.bind(null,d,v,u),P=void 0,!ho||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),T?P!==void 0?u.addEventListener(d,v,{capture:!0,passive:P}):u.addEventListener(d,v,!0):P!==void 0?u.addEventListener(d,v,{passive:P}):u.addEventListener(d,v,!1)}function fy(u,d,v,T,P){var $=T;if((d&1)===0&&(d&2)===0&&T!==null)e:for(;;){if(T===null)return;var G=T.tag;if(G===3||G===4){var ee=T.stateNode.containerInfo;if(ee===P||ee.nodeType===8&&ee.parentNode===P)break;if(G===4)for(G=T.return;G!==null;){var ne=G.tag;if((ne===3||ne===4)&&(ne=G.stateNode.containerInfo,ne===P||ne.nodeType===8&&ne.parentNode===P))return;G=G.return}for(;ee!==null;){if(G=wa(ee),G===null)return;if(ne=G.tag,ne===5||ne===6){T=$=G;continue e}ee=ee.parentNode}}T=T.return}Hr(function(){var de=$,ye=Te(v),_e=[];e:{var ve=dT.get(u);if(ve!==void 0){var Re=Xv,Ve=u;switch(u){case"keypress":if(Jf(v)===0)break e;case"keydown":case"keyup":Re=G6;break;case"focusin":Ve="focus",Re=ey;break;case"focusout":Ve="blur",Re=ey;break;case"beforeblur":case"afterblur":Re=ey;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Uk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=L6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=X6;break;case aT:case lT:case uT:Re=$6;break;case cT:Re=Z6;break;case"scroll":Re=P6;break;case"wheel":Re=t$;break;case"copy":case"cut":case"paste":Re=U6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=qk}var qe=(d&4)!==0,Tn=!qe&&u==="scroll",ae=qe?ve!==null?ve+"Capture":null:ve;qe=[];for(var re=de,ue;re!==null;){ue=re;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,ae!==null&&(Ee=gi(re,ae),Ee!=null&&qe.push(Ec(re,Ee,ue)))),Tn)break;re=re.return}0<qe.length&&(ve=new Re(ve,Ve,null,v,ye),_e.push({event:ve,listeners:qe}))}}if((d&7)===0){e:{if(ve=u==="mouseover"||u==="pointerover",Re=u==="mouseout"||u==="pointerout",ve&&v!==ke&&(Ve=v.relatedTarget||v.fromElement)&&(wa(Ve)||Ve[Rs]))break e;if((Re||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(Ve=v.relatedTarget||v.toElement,Re=de,Ve=Ve?wa(Ve):null,Ve!==null&&(Tn=ya(Ve),Ve!==Tn||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Re=null,Ve=de),Re!==Ve)){if(qe=Uk,Ee="onMouseLeave",ae="onMouseEnter",re="mouse",(u==="pointerout"||u==="pointerover")&&(qe=qk,Ee="onPointerLeave",ae="onPointerEnter",re="pointer"),Tn=Re==null?ve:Pl(Re),ue=Ve==null?ve:Pl(Ve),ve=new qe(Ee,re+"leave",Re,v,ye),ve.target=Tn,ve.relatedTarget=ue,Ee=null,wa(ye)===de&&(qe=new qe(ae,re+"enter",Ve,v,ye),qe.target=ue,qe.relatedTarget=Tn,Ee=qe),Tn=Ee,Re&&Ve)t:{for(qe=Re,ae=Ve,re=0,ue=qe;ue;ue=Il(ue))re++;for(ue=0,Ee=ae;Ee;Ee=Il(Ee))ue++;for(;0<re-ue;)qe=Il(qe),re--;for(;0<ue-re;)ae=Il(ae),ue--;for(;re--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Il(qe),ae=Il(ae)}qe=null}else qe=null;Re!==null&&gT(_e,ve,Re,qe,!1),Ve!==null&&Tn!==null&&gT(_e,Tn,Ve,qe,!0)}}e:{if(ve=de?Pl(de):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var ze=l$;else if(Kk(ve))if(Xk)ze=f$;else{ze=c$;var Je=u$}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(ze=d$);if(ze&&(ze=ze(u,de))){Qk(_e,ze,v,ye);break e}Je&&Je(u,ve,de),u==="focusout"&&(Je=ve._wrapperState)&&Je.controlled&&ve.type==="number"&&fe(ve,"number",ve.value)}switch(Je=de?Pl(de):window,u){case"focusin":(Kk(Je)||Je.contentEditable==="true")&&(Al=Je,oy=de,xc=null);break;case"focusout":xc=oy=Al=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,sT(_e,v,ye);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":sT(_e,v,ye)}var Ze;if(ny)e:{switch(u){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ol?Yk(u,v)&&(ot="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(ot="onCompositionStart");ot&&(Hk&&v.locale!=="ko"&&(Ol||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ol&&(Ze=$k()):(yo=ye,Qv="value"in yo?yo.value:yo.textContent,Ol=!0)),Je=sh(de,ot),0<Je.length&&(ot=new Vk(ot,u,null,v,ye),_e.push({event:ot,listeners:Je}),Ze?ot.data=Ze:(Ze=Gk(v),Ze!==null&&(ot.data=Ze)))),(Ze=r$?i$(u,v):s$(u,v))&&(de=sh(de,"onBeforeInput"),0<de.length&&(ye=new Vk("onBeforeInput","beforeinput",null,v,ye),_e.push({event:ye,listeners:de}),ye.data=Ze))}pT(_e,d)})}function Ec(u,d,v){return{instance:u,listener:d,currentTarget:v}}function sh(u,d){for(var v=d+"Capture",T=[];u!==null;){var P=u,$=P.stateNode;P.tag===5&&$!==null&&(P=$,$=gi(u,v),$!=null&&T.unshift(Ec(u,$,P)),$=gi(u,d),$!=null&&T.push(Ec(u,$,P))),u=u.return}return T}function Il(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function gT(u,d,v,T,P){for(var $=d._reactName,G=[];v!==null&&v!==T;){var ee=v,ne=ee.alternate,de=ee.stateNode;if(ne!==null&&ne===T)break;ee.tag===5&&de!==null&&(ee=de,P?(ne=gi(v,$),ne!=null&&G.unshift(Ec(v,ne,ee))):P||(ne=gi(v,$),ne!=null&&G.push(Ec(v,ne,ee)))),v=v.return}G.length!==0&&u.push({event:d,listeners:G})}var w$=/\r\n?/g,b$=/\u0000|\uFFFD/g;function vT(u){return(typeof u=="string"?u:""+u).replace(w$,`
`).replace(b$,"")}function oh(u,d,v){if(d=vT(d),vT(u)!==d&&v)throw Error(n(425))}function ah(){}var hy=null,py=null;function my(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,x$=typeof clearTimeout=="function"?clearTimeout:void 0,yT=typeof Promise=="function"?Promise:void 0,_$=typeof queueMicrotask=="function"?queueMicrotask:typeof yT<"u"?function(u){return yT.resolve(null).then(u).catch(S$)}:gy;function S$(u){setTimeout(function(){throw u})}function vy(u,d){var v=d,T=0;do{var P=v.nextSibling;if(u.removeChild(v),P&&P.nodeType===8)if(v=P.data,v==="/$"){if(T===0){u.removeChild(P),pc(d);return}T--}else v!=="$"&&v!=="$?"&&v!=="$!"||T++;v=P}while(v);pc(d)}function bo(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function wT(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return u;d--}else v==="/$"&&d++}u=u.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),ts="__reactFiber$"+Rl,kc="__reactProps$"+Rl,Rs="__reactContainer$"+Rl,yy="__reactEvents$"+Rl,E$="__reactListeners$"+Rl,k$="__reactHandles$"+Rl;function wa(u){var d=u[ts];if(d)return d;for(var v=u.parentNode;v;){if(d=v[Rs]||v[ts]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(u=wT(u);u!==null;){if(v=u[ts])return v;u=wT(u)}return d}u=v,v=u.parentNode}return null}function Tc(u){return u=u[ts]||u[Rs],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Pl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function lh(u){return u[kc]||null}var wy=[],Ml=-1;function xo(u){return{current:u}}function en(u){0>Ml||(u.current=wy[Ml],wy[Ml]=null,Ml--)}function Gt(u,d){Ml++,wy[Ml]=u.current,u.current=d}var _o={},dr=xo(_o),zr=xo(!1),ba=_o;function Ll(u,d){var v=u.type.contextTypes;if(!v)return _o;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var P={},$;for($ in v)P[$]=d[$];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=P),P}function Wr(u){return u=u.childContextTypes,u!=null}function uh(){en(zr),en(dr)}function bT(u,d,v){if(dr.current!==_o)throw Error(n(168));Gt(dr,d),Gt(zr,v)}function xT(u,d,v){var T=u.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return v;T=T.getChildContext();for(var P in T)if(!(P in d))throw Error(n(108,J(u)||"Unknown",P));return j({},v,T)}function ch(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||_o,ba=dr.current,Gt(dr,u),Gt(zr,zr.current),!0}function _T(u,d,v){var T=u.stateNode;if(!T)throw Error(n(169));v?(u=xT(u,d,ba),T.__reactInternalMemoizedMergedChildContext=u,en(zr),en(dr),Gt(dr,u)):en(zr),Gt(zr,v)}var Ps=null,dh=!1,by=!1;function ST(u){Ps===null?Ps=[u]:Ps.push(u)}function T$(u){dh=!0,ST(u)}function So(){if(!by&&Ps!==null){by=!0;var u=0,d=$t;try{var v=Ps;for($t=1;u<v.length;u++){var T=v[u];do T=T(!0);while(T!==null)}Ps=null,dh=!1}catch(P){throw Ps!==null&&(Ps=Ps.slice(u+1)),kk(Vv,So),P}finally{$t=d,by=!1}}return null}var jl=[],Fl=0,fh=null,hh=0,vi=[],yi=0,xa=null,Ms=1,Ls="";function _a(u,d){jl[Fl++]=hh,jl[Fl++]=fh,fh=u,hh=d}function ET(u,d,v){vi[yi++]=Ms,vi[yi++]=Ls,vi[yi++]=xa,xa=u;var T=Ms;u=Ls;var P=32-Ii(T)-1;T&=~(1<<P),v+=1;var $=32-Ii(d)+P;if(30<$){var G=P-P%5;$=(T&(1<<G)-1).toString(32),T>>=G,P-=G,Ms=1<<32-Ii(d)+P|v<<P|T,Ls=$+u}else Ms=1<<$|v<<P|T,Ls=u}function xy(u){u.return!==null&&(_a(u,1),ET(u,1,0))}function _y(u){for(;u===fh;)fh=jl[--Fl],jl[Fl]=null,hh=jl[--Fl],jl[Fl]=null;for(;u===xa;)xa=vi[--yi],vi[yi]=null,Ls=vi[--yi],vi[yi]=null,Ms=vi[--yi],vi[yi]=null}var ii=null,si=null,dn=!1,Pi=null;function kT(u,d){var v=_i(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=u,d=u.deletions,d===null?(u.deletions=[v],u.flags|=16):d.push(v)}function TT(u,d){switch(u.tag){case 5:var v=u.type;return d=d.nodeType!==1||v.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,ii=u,si=bo(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,ii=u,si=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(v=xa!==null?{id:Ms,overflow:Ls}:null,u.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=_i(18,null,null,0),v.stateNode=d,v.return=u,u.child=v,ii=u,si=null,!0):!1;default:return!1}}function Sy(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Ey(u){if(dn){var d=si;if(d){var v=d;if(!TT(u,d)){if(Sy(u))throw Error(n(418));d=bo(v.nextSibling);var T=ii;d&&TT(u,d)?kT(T,v):(u.flags=u.flags&-4097|2,dn=!1,ii=u)}}else{if(Sy(u))throw Error(n(418));u.flags=u.flags&-4097|2,dn=!1,ii=u}}}function CT(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ii=u}function ph(u){if(u!==ii)return!1;if(!dn)return CT(u),dn=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!my(u.type,u.memoizedProps)),d&&(d=si)){if(Sy(u))throw NT(),Error(n(418));for(;d;)kT(u,d),d=bo(d.nextSibling)}if(CT(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(d===0){si=bo(u.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++}u=u.nextSibling}si=null}}else si=ii?bo(u.stateNode.nextSibling):null;return!0}function NT(){for(var u=si;u;)u=bo(u.nextSibling)}function $l(){si=ii=null,dn=!1}function ky(u){Pi===null?Pi=[u]:Pi.push(u)}var C$=S.ReactCurrentBatchConfig;function Mi(u,d){if(u&&u.defaultProps){d=j({},d),u=u.defaultProps;for(var v in u)d[v]===void 0&&(d[v]=u[v]);return d}return d}var mh=xo(null),gh=null,Bl=null,Ty=null;function Cy(){Ty=Bl=gh=null}function Ny(u){var d=mh.current;en(mh),u._currentValue=d}function Oy(u,d,v){for(;u!==null;){var T=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),u===v)break;u=u.return}}function Ul(u,d){gh=u,Ty=Bl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Yr=!0),u.firstContext=null)}function wi(u){var d=u._currentValue;if(Ty!==u)if(u={context:u,memoizedValue:d,next:null},Bl===null){if(gh===null)throw Error(n(308));Bl=u,gh.dependencies={lanes:0,firstContext:u}}else Bl=Bl.next=u;return d}var Sa=null;function Ay(u){Sa===null?Sa=[u]:Sa.push(u)}function OT(u,d,v,T){var P=d.interleaved;return P===null?(v.next=v,Ay(d)):(v.next=P.next,P.next=v),d.interleaved=v,js(u,T)}function js(u,d){u.lanes|=d;var v=u.alternate;for(v!==null&&(v.lanes|=d),v=u,u=u.return;u!==null;)u.childLanes|=d,v=u.alternate,v!==null&&(v.childLanes|=d),v=u,u=u.return;return v.tag===3?v.stateNode:null}var Eo=!1;function Dy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Fs(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function ko(u,d,v){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(Et&2)!==0){var P=T.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),T.pending=d,js(u,v)}return P=T.interleaved,P===null?(d.next=d,Ay(T)):(d.next=P.next,P.next=d),T.interleaved=d,js(u,v)}function vh(u,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,zv(u,v)}}function DT(u,d){var v=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,v===T)){var P=null,$=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};$===null?P=$=G:$=$.next=G,v=v.next}while(v!==null);$===null?P=$=d:$=$.next=d}else P=$=d;v={baseState:T.baseState,firstBaseUpdate:P,lastBaseUpdate:$,shared:T.shared,effects:T.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=d}function yh(u,d,v,T){var P=u.updateQueue;Eo=!1;var $=P.firstBaseUpdate,G=P.lastBaseUpdate,ee=P.shared.pending;if(ee!==null){P.shared.pending=null;var ne=ee,de=ne.next;ne.next=null,G===null?$=de:G.next=de,G=ne;var ye=u.alternate;ye!==null&&(ye=ye.updateQueue,ee=ye.lastBaseUpdate,ee!==G&&(ee===null?ye.firstBaseUpdate=de:ee.next=de,ye.lastBaseUpdate=ne))}if($!==null){var _e=P.baseState;G=0,ye=de=ne=null,ee=$;do{var ve=ee.lane,Re=ee.eventTime;if((T&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Re,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ve=u,qe=ee;switch(ve=d,Re=v,qe.tag){case 1:if(Ve=qe.payload,typeof Ve=="function"){_e=Ve.call(Re,_e,ve);break e}_e=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=qe.payload,ve=typeof Ve=="function"?Ve.call(Re,_e,ve):Ve,ve==null)break e;_e=j({},_e,ve);break e;case 2:Eo=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,ve=P.effects,ve===null?P.effects=[ee]:ve.push(ee))}else Re={eventTime:Re,lane:ve,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ye===null?(de=ye=Re,ne=_e):ye=ye.next=Re,G|=ve;if(ee=ee.next,ee===null){if(ee=P.shared.pending,ee===null)break;ve=ee,ee=ve.next,ve.next=null,P.lastBaseUpdate=ve,P.shared.pending=null}}while(!0);if(ye===null&&(ne=_e),P.baseState=ne,P.firstBaseUpdate=de,P.lastBaseUpdate=ye,d=P.shared.interleaved,d!==null){P=d;do G|=P.lane,P=P.next;while(P!==d)}else $===null&&(P.shared.lanes=0);Ta|=G,u.lanes=G,u.memoizedState=_e}}function IT(u,d,v){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var T=u[d],P=T.callback;if(P!==null){if(T.callback=null,T=v,typeof P!="function")throw Error(n(191,P));P.call(T)}}}var RT=new t.Component().refs;function Iy(u,d,v,T){d=u.memoizedState,v=v(T,d),v=v==null?d:j({},d,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var wh={isMounted:function(u){return(u=u._reactInternals)?ya(u)===u:!1},enqueueSetState:function(u,d,v){u=u._reactInternals;var T=Mr(),P=Oo(u),$=Fs(T,P);$.payload=d,v!=null&&($.callback=v),d=ko(u,$,P),d!==null&&(Fi(d,u,P,T),vh(d,u,P))},enqueueReplaceState:function(u,d,v){u=u._reactInternals;var T=Mr(),P=Oo(u),$=Fs(T,P);$.tag=1,$.payload=d,v!=null&&($.callback=v),d=ko(u,$,P),d!==null&&(Fi(d,u,P,T),vh(d,u,P))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var v=Mr(),T=Oo(u),P=Fs(v,T);P.tag=2,d!=null&&(P.callback=d),d=ko(u,P,T),d!==null&&(Fi(d,u,T,v),vh(d,u,T))}};function PT(u,d,v,T,P,$,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,$,G):d.prototype&&d.prototype.isPureReactComponent?!bc(v,T)||!bc(P,$):!0}function MT(u,d,v){var T=!1,P=_o,$=d.contextType;return typeof $=="object"&&$!==null?$=wi($):(P=Wr(d)?ba:dr.current,T=d.contextTypes,$=(T=T!=null)?Ll(u,P):_o),d=new d(v,$),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wh,u.stateNode=d,d._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=P,u.__reactInternalMemoizedMaskedChildContext=$),d}function LT(u,d,v,T){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,T),d.state!==u&&wh.enqueueReplaceState(d,d.state,null)}function Ry(u,d,v,T){var P=u.stateNode;P.props=v,P.state=u.memoizedState,P.refs=RT,Dy(u);var $=d.contextType;typeof $=="object"&&$!==null?P.context=wi($):($=Wr(d)?ba:dr.current,P.context=Ll(u,$)),P.state=u.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(Iy(u,d,$,v),P.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&wh.enqueueReplaceState(P,P.state,null),yh(u,v,P,T),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308)}function Cc(u,d,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var T=v.stateNode}if(!T)throw Error(n(147,u));var P=T,$=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===$?d.ref:(d=function(G){var ee=P.refs;ee===RT&&(ee=P.refs={}),G===null?delete ee[$]:ee[$]=G},d._stringRef=$,d)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function bh(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function jT(u){var d=u._init;return d(u._payload)}function FT(u){function d(ae,re){if(u){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function v(ae,re){if(!u)return null;for(;re!==null;)d(ae,re),re=re.sibling;return null}function T(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function P(ae,re){return ae=Do(ae,re),ae.index=0,ae.sibling=null,ae}function $(ae,re,ue){return ae.index=ue,u?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function G(ae){return u&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,re,ue,Ee){return re===null||re.tag!==6?(re=g0(ue,ae.mode,Ee),re.return=ae,re):(re=P(re,ue),re.return=ae,re)}function ne(ae,re,ue,Ee){var ze=ue.type;return ze===O?ye(ae,re,ue.props.children,Ee,ue.key):re!==null&&(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===L&&jT(ze)===re.type)?(Ee=P(re,ue.props),Ee.ref=Cc(ae,re,ue),Ee.return=ae,Ee):(Ee=$h(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=Cc(ae,re,ue),Ee.return=ae,Ee)}function de(ae,re,ue,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=v0(ue,ae.mode,Ee),re.return=ae,re):(re=P(re,ue.children||[]),re.return=ae,re)}function ye(ae,re,ue,Ee,ze){return re===null||re.tag!==7?(re=Aa(ue,ae.mode,Ee,ze),re.return=ae,re):(re=P(re,ue),re.return=ae,re)}function _e(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=g0(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return ue=$h(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=Cc(ae,null,re),ue.return=ae,ue;case N:return re=v0(re,ae.mode,ue),re.return=ae,re;case L:var Ee=re._init;return _e(ae,Ee(re._payload),ue)}if(we(re)||H(re))return re=Aa(re,ae.mode,ue,null),re.return=ae,re;bh(ae,re)}return null}function ve(ae,re,ue,Ee){var ze=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ze!==null?null:ee(ae,re,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===ze?ne(ae,re,ue,Ee):null;case N:return ue.key===ze?de(ae,re,ue,Ee):null;case L:return ze=ue._init,ve(ae,re,ze(ue._payload),Ee)}if(we(ue)||H(ue))return ze!==null?null:ye(ae,re,ue,Ee,null);bh(ae,ue)}return null}function Re(ae,re,ue,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(ue)||null,ee(re,ae,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,ne(re,ae,Ee,ze);case N:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,de(re,ae,Ee,ze);case L:var Je=Ee._init;return Re(ae,re,ue,Je(Ee._payload),ze)}if(we(Ee)||H(Ee))return ae=ae.get(ue)||null,ye(re,ae,Ee,ze,null);bh(re,Ee)}return null}function Ve(ae,re,ue,Ee){for(var ze=null,Je=null,Ze=re,ot=re=0,Yn=null;Ze!==null&&ot<ue.length;ot++){Ze.index>ot?(Yn=Ze,Ze=null):Yn=Ze.sibling;var Ct=ve(ae,Ze,ue[ot],Ee);if(Ct===null){Ze===null&&(Ze=Yn);break}u&&Ze&&Ct.alternate===null&&d(ae,Ze),re=$(Ct,re,ot),Je===null?ze=Ct:Je.sibling=Ct,Je=Ct,Ze=Yn}if(ot===ue.length)return v(ae,Ze),dn&&_a(ae,ot),ze;if(Ze===null){for(;ot<ue.length;ot++)Ze=_e(ae,ue[ot],Ee),Ze!==null&&(re=$(Ze,re,ot),Je===null?ze=Ze:Je.sibling=Ze,Je=Ze);return dn&&_a(ae,ot),ze}for(Ze=T(ae,Ze);ot<ue.length;ot++)Yn=Re(Ze,ae,ot,ue[ot],Ee),Yn!==null&&(u&&Yn.alternate!==null&&Ze.delete(Yn.key===null?ot:Yn.key),re=$(Yn,re,ot),Je===null?ze=Yn:Je.sibling=Yn,Je=Yn);return u&&Ze.forEach(function(Io){return d(ae,Io)}),dn&&_a(ae,ot),ze}function qe(ae,re,ue,Ee){var ze=H(ue);if(typeof ze!="function")throw Error(n(150));if(ue=ze.call(ue),ue==null)throw Error(n(151));for(var Je=ze=null,Ze=re,ot=re=0,Yn=null,Ct=ue.next();Ze!==null&&!Ct.done;ot++,Ct=ue.next()){Ze.index>ot?(Yn=Ze,Ze=null):Yn=Ze.sibling;var Io=ve(ae,Ze,Ct.value,Ee);if(Io===null){Ze===null&&(Ze=Yn);break}u&&Ze&&Io.alternate===null&&d(ae,Ze),re=$(Io,re,ot),Je===null?ze=Io:Je.sibling=Io,Je=Io,Ze=Yn}if(Ct.done)return v(ae,Ze),dn&&_a(ae,ot),ze;if(Ze===null){for(;!Ct.done;ot++,Ct=ue.next())Ct=_e(ae,Ct.value,Ee),Ct!==null&&(re=$(Ct,re,ot),Je===null?ze=Ct:Je.sibling=Ct,Je=Ct);return dn&&_a(ae,ot),ze}for(Ze=T(ae,Ze);!Ct.done;ot++,Ct=ue.next())Ct=Re(Ze,ae,ot,Ct.value,Ee),Ct!==null&&(u&&Ct.alternate!==null&&Ze.delete(Ct.key===null?ot:Ct.key),re=$(Ct,re,ot),Je===null?ze=Ct:Je.sibling=Ct,Je=Ct);return u&&Ze.forEach(function(oB){return d(ae,oB)}),dn&&_a(ae,ot),ze}function Tn(ae,re,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var ze=ue.key,Je=re;Je!==null;){if(Je.key===ze){if(ze=ue.type,ze===O){if(Je.tag===7){v(ae,Je.sibling),re=P(Je,ue.props.children),re.return=ae,ae=re;break e}}else if(Je.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===L&&jT(ze)===Je.type){v(ae,Je.sibling),re=P(Je,ue.props),re.ref=Cc(ae,Je,ue),re.return=ae,ae=re;break e}v(ae,Je);break}else d(ae,Je);Je=Je.sibling}ue.type===O?(re=Aa(ue.props.children,ae.mode,Ee,ue.key),re.return=ae,ae=re):(Ee=$h(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=Cc(ae,re,ue),Ee.return=ae,ae=Ee)}return G(ae);case N:e:{for(Je=ue.key;re!==null;){if(re.key===Je)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){v(ae,re.sibling),re=P(re,ue.children||[]),re.return=ae,ae=re;break e}else{v(ae,re);break}else d(ae,re);re=re.sibling}re=v0(ue,ae.mode,Ee),re.return=ae,ae=re}return G(ae);case L:return Je=ue._init,Tn(ae,re,Je(ue._payload),Ee)}if(we(ue))return Ve(ae,re,ue,Ee);if(H(ue))return qe(ae,re,ue,Ee);bh(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(v(ae,re.sibling),re=P(re,ue),re.return=ae,ae=re):(v(ae,re),re=g0(ue,ae.mode,Ee),re.return=ae,ae=re),G(ae)):v(ae,re)}return Tn}var Vl=FT(!0),$T=FT(!1),Nc={},ns=xo(Nc),Oc=xo(Nc),Ac=xo(Nc);function Ea(u){if(u===Nc)throw Error(n(174));return u}function Py(u,d){switch(Gt(Ac,d),Gt(Oc,u),Gt(ns,Nc),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:On(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=On(d,u)}en(ns),Gt(ns,d)}function ql(){en(ns),en(Oc),en(Ac)}function BT(u){Ea(Ac.current);var d=Ea(ns.current),v=On(d,u.type);d!==v&&(Gt(Oc,u),Gt(ns,v))}function My(u){Oc.current===u&&(en(ns),en(Oc))}var hn=xo(0);function xh(u){for(var d=u;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ly=[];function jy(){for(var u=0;u<Ly.length;u++)Ly[u]._workInProgressVersionPrimary=null;Ly.length=0}var _h=S.ReactCurrentDispatcher,Fy=S.ReactCurrentBatchConfig,ka=0,pn=null,Un=null,zn=null,Sh=!1,Dc=!1,Ic=0,N$=0;function fr(){throw Error(n(321))}function $y(u,d){if(d===null)return!1;for(var v=0;v<d.length&&v<u.length;v++)if(!Ri(u[v],d[v]))return!1;return!0}function By(u,d,v,T,P,$){if(ka=$,pn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,_h.current=u===null||u.memoizedState===null?I$:R$,u=v(T,P),Dc){$=0;do{if(Dc=!1,Ic=0,25<=$)throw Error(n(301));$+=1,zn=Un=null,d.updateQueue=null,_h.current=P$,u=v(T,P)}while(Dc)}if(_h.current=Th,d=Un!==null&&Un.next!==null,ka=0,zn=Un=pn=null,Sh=!1,d)throw Error(n(300));return u}function Uy(){var u=Ic!==0;return Ic=0,u}function rs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?pn.memoizedState=zn=u:zn=zn.next=u,zn}function bi(){if(Un===null){var u=pn.alternate;u=u!==null?u.memoizedState:null}else u=Un.next;var d=zn===null?pn.memoizedState:zn.next;if(d!==null)zn=d,Un=u;else{if(u===null)throw Error(n(310));Un=u,u={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},zn===null?pn.memoizedState=zn=u:zn=zn.next=u}return zn}function Rc(u,d){return typeof d=="function"?d(u):d}function Vy(u){var d=bi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=Un,P=T.baseQueue,$=v.pending;if($!==null){if(P!==null){var G=P.next;P.next=$.next,$.next=G}T.baseQueue=P=$,v.pending=null}if(P!==null){$=P.next,T=T.baseState;var ee=G=null,ne=null,de=$;do{var ye=de.lane;if((ka&ye)===ye)ne!==null&&(ne=ne.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),T=de.hasEagerState?de.eagerState:u(T,de.action);else{var _e={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ne===null?(ee=ne=_e,G=T):ne=ne.next=_e,pn.lanes|=ye,Ta|=ye}de=de.next}while(de!==null&&de!==$);ne===null?G=T:ne.next=ee,Ri(T,d.memoizedState)||(Yr=!0),d.memoizedState=T,d.baseState=G,d.baseQueue=ne,v.lastRenderedState=T}if(u=v.interleaved,u!==null){P=u;do $=P.lane,pn.lanes|=$,Ta|=$,P=P.next;while(P!==u)}else P===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function qy(u){var d=bi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=v.dispatch,P=v.pending,$=d.memoizedState;if(P!==null){v.pending=null;var G=P=P.next;do $=u($,G.action),G=G.next;while(G!==P);Ri($,d.memoizedState)||(Yr=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),v.lastRenderedState=$}return[$,T]}function UT(){}function VT(u,d){var v=pn,T=bi(),P=d(),$=!Ri(T.memoizedState,P);if($&&(T.memoizedState=P,Yr=!0),T=T.queue,Hy(zT.bind(null,v,T,u),[u]),T.getSnapshot!==d||$||zn!==null&&zn.memoizedState.tag&1){if(v.flags|=2048,Pc(9,HT.bind(null,v,T,P,d),void 0,null),Wn===null)throw Error(n(349));(ka&30)!==0||qT(v,d,P)}return P}function qT(u,d,v){u.flags|=16384,u={getSnapshot:d,value:v},d=pn.updateQueue,d===null?(d={lastEffect:null,stores:null},pn.updateQueue=d,d.stores=[u]):(v=d.stores,v===null?d.stores=[u]:v.push(u))}function HT(u,d,v,T){d.value=v,d.getSnapshot=T,WT(d)&&YT(u)}function zT(u,d,v){return v(function(){WT(d)&&YT(u)})}function WT(u){var d=u.getSnapshot;u=u.value;try{var v=d();return!Ri(u,v)}catch{return!0}}function YT(u){var d=js(u,1);d!==null&&Fi(d,u,1,-1)}function GT(u){var d=rs();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:u},d.queue=u,u=u.dispatch=D$.bind(null,pn,u),[d.memoizedState,u]}function Pc(u,d,v,T){return u={tag:u,create:d,destroy:v,deps:T,next:null},d=pn.updateQueue,d===null?(d={lastEffect:null,stores:null},pn.updateQueue=d,d.lastEffect=u.next=u):(v=d.lastEffect,v===null?d.lastEffect=u.next=u:(T=v.next,v.next=u,u.next=T,d.lastEffect=u)),u}function KT(){return bi().memoizedState}function Eh(u,d,v,T){var P=rs();pn.flags|=u,P.memoizedState=Pc(1|d,v,void 0,T===void 0?null:T)}function kh(u,d,v,T){var P=bi();T=T===void 0?null:T;var $=void 0;if(Un!==null){var G=Un.memoizedState;if($=G.destroy,T!==null&&$y(T,G.deps)){P.memoizedState=Pc(d,v,$,T);return}}pn.flags|=u,P.memoizedState=Pc(1|d,v,$,T)}function QT(u,d){return Eh(8390656,8,u,d)}function Hy(u,d){return kh(2048,8,u,d)}function XT(u,d){return kh(4,2,u,d)}function JT(u,d){return kh(4,4,u,d)}function ZT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function e2(u,d,v){return v=v!=null?v.concat([u]):null,kh(4,4,ZT.bind(null,d,u),v)}function zy(){}function t2(u,d){var v=bi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&$y(d,T[1])?T[0]:(v.memoizedState=[u,d],u)}function n2(u,d){var v=bi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&$y(d,T[1])?T[0]:(u=u(),v.memoizedState=[u,d],u)}function r2(u,d,v){return(ka&21)===0?(u.baseState&&(u.baseState=!1,Yr=!0),u.memoizedState=v):(Ri(v,d)||(v=Ok(),pn.lanes|=v,Ta|=v,u.baseState=!0),d)}function O$(u,d){var v=$t;$t=v!==0&&4>v?v:4,u(!0);var T=Fy.transition;Fy.transition={};try{u(!1),d()}finally{$t=v,Fy.transition=T}}function i2(){return bi().memoizedState}function A$(u,d,v){var T=Oo(u);if(v={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null},s2(u))o2(d,v);else if(v=OT(u,d,v,T),v!==null){var P=Mr();Fi(v,u,T,P),a2(v,d,T)}}function D$(u,d,v){var T=Oo(u),P={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null};if(s2(u))o2(d,P);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var G=d.lastRenderedState,ee=$(G,v);if(P.hasEagerState=!0,P.eagerState=ee,Ri(ee,G)){var ne=d.interleaved;ne===null?(P.next=P,Ay(d)):(P.next=ne.next,ne.next=P),d.interleaved=P;return}}catch{}finally{}v=OT(u,d,P,T),v!==null&&(P=Mr(),Fi(v,u,T,P),a2(v,d,T))}}function s2(u){var d=u.alternate;return u===pn||d!==null&&d===pn}function o2(u,d){Dc=Sh=!0;var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}function a2(u,d,v){if((v&4194240)!==0){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,zv(u,v)}}var Th={readContext:wi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},I$={readContext:wi,useCallback:function(u,d){return rs().memoizedState=[u,d===void 0?null:d],u},useContext:wi,useEffect:QT,useImperativeHandle:function(u,d,v){return v=v!=null?v.concat([u]):null,Eh(4194308,4,ZT.bind(null,d,u),v)},useLayoutEffect:function(u,d){return Eh(4194308,4,u,d)},useInsertionEffect:function(u,d){return Eh(4,2,u,d)},useMemo:function(u,d){var v=rs();return d=d===void 0?null:d,u=u(),v.memoizedState=[u,d],u},useReducer:function(u,d,v){var T=rs();return d=v!==void 0?v(d):d,T.memoizedState=T.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},T.queue=u,u=u.dispatch=A$.bind(null,pn,u),[T.memoizedState,u]},useRef:function(u){var d=rs();return u={current:u},d.memoizedState=u},useState:GT,useDebugValue:zy,useDeferredValue:function(u){return rs().memoizedState=u},useTransition:function(){var u=GT(!1),d=u[0];return u=O$.bind(null,u[1]),rs().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,v){var T=pn,P=rs();if(dn){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),Wn===null)throw Error(n(349));(ka&30)!==0||qT(T,d,v)}P.memoizedState=v;var $={value:v,getSnapshot:d};return P.queue=$,QT(zT.bind(null,T,$,u),[u]),T.flags|=2048,Pc(9,HT.bind(null,T,$,v,d),void 0,null),v},useId:function(){var u=rs(),d=Wn.identifierPrefix;if(dn){var v=Ls,T=Ms;v=(T&~(1<<32-Ii(T)-1)).toString(32)+v,d=":"+d+"R"+v,v=Ic++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=N$++,d=":"+d+"r"+v.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},R$={readContext:wi,useCallback:t2,useContext:wi,useEffect:Hy,useImperativeHandle:e2,useInsertionEffect:XT,useLayoutEffect:JT,useMemo:n2,useReducer:Vy,useRef:KT,useState:function(){return Vy(Rc)},useDebugValue:zy,useDeferredValue:function(u){var d=bi();return r2(d,Un.memoizedState,u)},useTransition:function(){var u=Vy(Rc)[0],d=bi().memoizedState;return[u,d]},useMutableSource:UT,useSyncExternalStore:VT,useId:i2,unstable_isNewReconciler:!1},P$={readContext:wi,useCallback:t2,useContext:wi,useEffect:Hy,useImperativeHandle:e2,useInsertionEffect:XT,useLayoutEffect:JT,useMemo:n2,useReducer:qy,useRef:KT,useState:function(){return qy(Rc)},useDebugValue:zy,useDeferredValue:function(u){var d=bi();return Un===null?d.memoizedState=u:r2(d,Un.memoizedState,u)},useTransition:function(){var u=qy(Rc)[0],d=bi().memoizedState;return[u,d]},useMutableSource:UT,useSyncExternalStore:VT,useId:i2,unstable_isNewReconciler:!1};function Hl(u,d){try{var v="",T=d;do v+=X(T),T=T.return;while(T);var P=v}catch($){P=`
Error generating stack: `+$.message+`
`+$.stack}return{value:u,source:d,stack:P,digest:null}}function Wy(u,d,v){return{value:u,source:null,stack:v??null,digest:d??null}}function Yy(u,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var M$=typeof WeakMap=="function"?WeakMap:Map;function l2(u,d,v){v=Fs(-1,v),v.tag=3,v.payload={element:null};var T=d.value;return v.callback=function(){Rh||(Rh=!0,l0=T),Yy(u,d)},v}function u2(u,d,v){v=Fs(-1,v),v.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var P=d.value;v.payload=function(){return T(P)},v.callback=function(){Yy(u,d)}}var $=u.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(v.callback=function(){Yy(u,d),typeof T!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),v}function c2(u,d,v){var T=u.pingCache;if(T===null){T=u.pingCache=new M$;var P=new Set;T.set(d,P)}else P=T.get(d),P===void 0&&(P=new Set,T.set(d,P));P.has(v)||(P.add(v),u=K$.bind(null,u,d,v),d.then(u,u))}function d2(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function f2(u,d,v,T,P){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=Fs(-1,1),d.tag=2,ko(v,d,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=P,u)}var L$=S.ReactCurrentOwner,Yr=!1;function Pr(u,d,v,T){d.child=u===null?$T(d,null,v,T):Vl(d,u.child,v,T)}function h2(u,d,v,T,P){v=v.render;var $=d.ref;return Ul(d,P),T=By(u,d,v,T,$,P),v=Uy(),u!==null&&!Yr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~P,$s(u,d,P)):(dn&&v&&xy(d),d.flags|=1,Pr(u,d,T,P),d.child)}function p2(u,d,v,T,P){if(u===null){var $=v.type;return typeof $=="function"&&!m0($)&&$.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=$,m2(u,d,$,T,P)):(u=$h(v.type,null,T,d,d.mode,P),u.ref=d.ref,u.return=d,d.child=u)}if($=u.child,(u.lanes&P)===0){var G=$.memoizedProps;if(v=v.compare,v=v!==null?v:bc,v(G,T)&&u.ref===d.ref)return $s(u,d,P)}return d.flags|=1,u=Do($,T),u.ref=d.ref,u.return=d,d.child=u}function m2(u,d,v,T,P){if(u!==null){var $=u.memoizedProps;if(bc($,T)&&u.ref===d.ref)if(Yr=!1,d.pendingProps=T=$,(u.lanes&P)!==0)(u.flags&131072)!==0&&(Yr=!0);else return d.lanes=u.lanes,$s(u,d,P)}return Gy(u,d,v,T,P)}function g2(u,d,v){var T=d.pendingProps,P=T.children,$=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Wl,oi),oi|=v;else{if((v&1073741824)===0)return u=$!==null?$.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Gt(Wl,oi),oi|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:v,Gt(Wl,oi),oi|=T}else $!==null?(T=$.baseLanes|v,d.memoizedState=null):T=v,Gt(Wl,oi),oi|=T;return Pr(u,d,P,v),d.child}function v2(u,d){var v=d.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function Gy(u,d,v,T,P){var $=Wr(v)?ba:dr.current;return $=Ll(d,$),Ul(d,P),v=By(u,d,v,T,$,P),T=Uy(),u!==null&&!Yr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~P,$s(u,d,P)):(dn&&T&&xy(d),d.flags|=1,Pr(u,d,v,P),d.child)}function y2(u,d,v,T,P){if(Wr(v)){var $=!0;ch(d)}else $=!1;if(Ul(d,P),d.stateNode===null)Nh(u,d),MT(d,v,T),Ry(d,v,T,P),T=!0;else if(u===null){var G=d.stateNode,ee=d.memoizedProps;G.props=ee;var ne=G.context,de=v.contextType;typeof de=="object"&&de!==null?de=wi(de):(de=Wr(v)?ba:dr.current,de=Ll(d,de));var ye=v.getDerivedStateFromProps,_e=typeof ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";_e||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==T||ne!==de)&&LT(d,G,T,de),Eo=!1;var ve=d.memoizedState;G.state=ve,yh(d,T,G,P),ne=d.memoizedState,ee!==T||ve!==ne||zr.current||Eo?(typeof ye=="function"&&(Iy(d,v,ye,T),ne=d.memoizedState),(ee=Eo||PT(d,v,ee,T,ve,ne,de))?(_e||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=ne),G.props=T,G.state=ne,G.context=de,T=ee):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{G=d.stateNode,AT(u,d),ee=d.memoizedProps,de=d.type===d.elementType?ee:Mi(d.type,ee),G.props=de,_e=d.pendingProps,ve=G.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=wi(ne):(ne=Wr(v)?ba:dr.current,ne=Ll(d,ne));var Re=v.getDerivedStateFromProps;(ye=typeof Re=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==_e||ve!==ne)&&LT(d,G,T,ne),Eo=!1,ve=d.memoizedState,G.state=ve,yh(d,T,G,P);var Ve=d.memoizedState;ee!==_e||ve!==Ve||zr.current||Eo?(typeof Re=="function"&&(Iy(d,v,Re,T),Ve=d.memoizedState),(de=Eo||PT(d,v,de,T,ve,Ve,ne)||!1)?(ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(T,Ve,ne),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(T,Ve,ne)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ve),G.props=T,G.state=Ve,G.context=ne,T=de):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),T=!1)}return Ky(u,d,v,T,$,P)}function Ky(u,d,v,T,P,$){v2(u,d);var G=(d.flags&128)!==0;if(!T&&!G)return P&&_T(d,v,!1),$s(u,d,$);T=d.stateNode,L$.current=d;var ee=G&&typeof v.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,u!==null&&G?(d.child=Vl(d,u.child,null,$),d.child=Vl(d,null,ee,$)):Pr(u,d,ee,$),d.memoizedState=T.state,P&&_T(d,v,!0),d.child}function w2(u){var d=u.stateNode;d.pendingContext?bT(u,d.pendingContext,d.pendingContext!==d.context):d.context&&bT(u,d.context,!1),Py(u,d.containerInfo)}function b2(u,d,v,T,P){return $l(),ky(P),d.flags|=256,Pr(u,d,v,T),d.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Xy(u){return{baseLanes:u,cachePool:null,transitions:null}}function x2(u,d,v){var T=d.pendingProps,P=hn.current,$=!1,G=(d.flags&128)!==0,ee;if((ee=G)||(ee=u!==null&&u.memoizedState===null?!1:(P&2)!==0),ee?($=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(P|=1),Gt(hn,P&1),u===null)return Ey(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=T.children,u=T.fallback,$?(T=d.mode,$=d.child,G={mode:"hidden",children:G},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=Bh(G,T,0,null),u=Aa(u,T,v,null),$.return=d,u.return=d,$.sibling=u,d.child=$,d.child.memoizedState=Xy(v),d.memoizedState=Qy,u):Jy(d,G));if(P=u.memoizedState,P!==null&&(ee=P.dehydrated,ee!==null))return j$(u,d,G,T,ee,P,v);if($){$=T.fallback,G=d.mode,P=u.child,ee=P.sibling;var ne={mode:"hidden",children:T.children};return(G&1)===0&&d.child!==P?(T=d.child,T.childLanes=0,T.pendingProps=ne,d.deletions=null):(T=Do(P,ne),T.subtreeFlags=P.subtreeFlags&14680064),ee!==null?$=Do(ee,$):($=Aa($,G,v,null),$.flags|=2),$.return=d,T.return=d,T.sibling=$,d.child=T,T=$,$=d.child,G=u.child.memoizedState,G=G===null?Xy(v):{baseLanes:G.baseLanes|v,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=u.childLanes&~v,d.memoizedState=Qy,T}return $=u.child,u=$.sibling,T=Do($,{mode:"visible",children:T.children}),(d.mode&1)===0&&(T.lanes=v),T.return=d,T.sibling=null,u!==null&&(v=d.deletions,v===null?(d.deletions=[u],d.flags|=16):v.push(u)),d.child=T,d.memoizedState=null,T}function Jy(u,d){return d=Bh({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Ch(u,d,v,T){return T!==null&&ky(T),Vl(d,u.child,null,v),u=Jy(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function j$(u,d,v,T,P,$,G){if(v)return d.flags&256?(d.flags&=-257,T=Wy(Error(n(422))),Ch(u,d,G,T)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):($=T.fallback,P=d.mode,T=Bh({mode:"visible",children:T.children},P,0,null),$=Aa($,P,G,null),$.flags|=2,T.return=d,$.return=d,T.sibling=$,d.child=T,(d.mode&1)!==0&&Vl(d,u.child,null,G),d.child.memoizedState=Xy(G),d.memoizedState=Qy,$);if((d.mode&1)===0)return Ch(u,d,G,null);if(P.data==="$!"){if(T=P.nextSibling&&P.nextSibling.dataset,T)var ee=T.dgst;return T=ee,$=Error(n(419)),T=Wy($,T,void 0),Ch(u,d,G,T)}if(ee=(G&u.childLanes)!==0,Yr||ee){if(T=Wn,T!==null){switch(G&-G){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(T.suspendedLanes|G))!==0?0:P,P!==0&&P!==$.retryLane&&($.retryLane=P,js(u,P),Fi(T,u,P,-1))}return p0(),T=Wy(Error(n(421))),Ch(u,d,G,T)}return P.data==="$?"?(d.flags|=128,d.child=u.child,d=Q$.bind(null,u),P._reactRetry=d,null):(u=$.treeContext,si=bo(P.nextSibling),ii=d,dn=!0,Pi=null,u!==null&&(vi[yi++]=Ms,vi[yi++]=Ls,vi[yi++]=xa,Ms=u.id,Ls=u.overflow,xa=d),d=Jy(d,T.children),d.flags|=4096,d)}function _2(u,d,v){u.lanes|=d;var T=u.alternate;T!==null&&(T.lanes|=d),Oy(u.return,d,v)}function Zy(u,d,v,T,P){var $=u.memoizedState;$===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:v,tailMode:P}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=v,$.tailMode=P)}function S2(u,d,v){var T=d.pendingProps,P=T.revealOrder,$=T.tail;if(Pr(u,d,T.children,v),T=hn.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&_2(u,v,d);else if(u.tag===19)_2(u,v,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(Gt(hn,T),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(v=d.child,P=null;v!==null;)u=v.alternate,u!==null&&xh(u)===null&&(P=v),v=v.sibling;v=P,v===null?(P=d.child,d.child=null):(P=v.sibling,v.sibling=null),Zy(d,!1,P,v,$);break;case"backwards":for(v=null,P=d.child,d.child=null;P!==null;){if(u=P.alternate,u!==null&&xh(u)===null){d.child=P;break}u=P.sibling,P.sibling=v,v=P,P=u}Zy(d,!0,v,null,$);break;case"together":Zy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Nh(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function $s(u,d,v){if(u!==null&&(d.dependencies=u.dependencies),Ta|=d.lanes,(v&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,v=Do(u,u.pendingProps),d.child=v,v.return=d;u.sibling!==null;)u=u.sibling,v=v.sibling=Do(u,u.pendingProps),v.return=d;v.sibling=null}return d.child}function F$(u,d,v){switch(d.tag){case 3:w2(d),$l();break;case 5:BT(d);break;case 1:Wr(d.type)&&ch(d);break;case 4:Py(d,d.stateNode.containerInfo);break;case 10:var T=d.type._context,P=d.memoizedProps.value;Gt(mh,T._currentValue),T._currentValue=P;break;case 13:if(T=d.memoizedState,T!==null)return T.dehydrated!==null?(Gt(hn,hn.current&1),d.flags|=128,null):(v&d.child.childLanes)!==0?x2(u,d,v):(Gt(hn,hn.current&1),u=$s(u,d,v),u!==null?u.sibling:null);Gt(hn,hn.current&1);break;case 19:if(T=(v&d.childLanes)!==0,(u.flags&128)!==0){if(T)return S2(u,d,v);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Gt(hn,hn.current),T)break;return null;case 22:case 23:return d.lanes=0,g2(u,d,v)}return $s(u,d,v)}var E2,e0,k2,T2;E2=function(u,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},e0=function(){},k2=function(u,d,v,T){var P=u.memoizedProps;if(P!==T){u=d.stateNode,Ea(ns.current);var $=null;switch(v){case"input":P=$e(u,P),T=$e(u,T),$=[];break;case"select":P=j({},P,{value:void 0}),T=j({},T,{value:void 0}),$=[];break;case"textarea":P=he(u,P),T=he(u,T),$=[];break;default:typeof P.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=ah)}ie(v,T);var G;v=null;for(de in P)if(!T.hasOwnProperty(de)&&P.hasOwnProperty(de)&&P[de]!=null)if(de==="style"){var ee=P[de];for(G in ee)ee.hasOwnProperty(G)&&(v||(v={}),v[G]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?$||($=[]):($=$||[]).push(de,null));for(de in T){var ne=T[de];if(ee=P!=null?P[de]:void 0,T.hasOwnProperty(de)&&ne!==ee&&(ne!=null||ee!=null))if(de==="style")if(ee){for(G in ee)!ee.hasOwnProperty(G)||ne&&ne.hasOwnProperty(G)||(v||(v={}),v[G]="");for(G in ne)ne.hasOwnProperty(G)&&ee[G]!==ne[G]&&(v||(v={}),v[G]=ne[G])}else v||($||($=[]),$.push(de,v)),v=ne;else de==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&($=$||[]).push(de,ne)):de==="children"?typeof ne!="string"&&typeof ne!="number"||($=$||[]).push(de,""+ne):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(ne!=null&&de==="onScroll"&&Zt("scroll",u),$||ee===ne||($=[])):($=$||[]).push(de,ne))}v&&($=$||[]).push("style",v);var de=$;(d.updateQueue=de)&&(d.flags|=4)}},T2=function(u,d,v,T){v!==T&&(d.flags|=4)};function Mc(u,d){if(!dn)switch(u.tailMode){case"hidden":d=u.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function hr(u){var d=u.alternate!==null&&u.alternate.child===u.child,v=0,T=0;if(d)for(var P=u.child;P!==null;)v|=P.lanes|P.childLanes,T|=P.subtreeFlags&14680064,T|=P.flags&14680064,P.return=u,P=P.sibling;else for(P=u.child;P!==null;)v|=P.lanes|P.childLanes,T|=P.subtreeFlags,T|=P.flags,P.return=u,P=P.sibling;return u.subtreeFlags|=T,u.childLanes=v,d}function $$(u,d,v){var T=d.pendingProps;switch(_y(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(d),null;case 1:return Wr(d.type)&&uh(),hr(d),null;case 3:return T=d.stateNode,ql(),en(zr),en(dr),jy(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(ph(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Pi!==null&&(d0(Pi),Pi=null))),e0(u,d),hr(d),null;case 5:My(d);var P=Ea(Ac.current);if(v=d.type,u!==null&&d.stateNode!=null)k2(u,d,v,T,P),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(n(166));return hr(d),null}if(u=Ea(ns.current),ph(d)){T=d.stateNode,v=d.type;var $=d.memoizedProps;switch(T[ts]=d,T[kc]=$,u=(d.mode&1)!==0,v){case"dialog":Zt("cancel",T),Zt("close",T);break;case"iframe":case"object":case"embed":Zt("load",T);break;case"video":case"audio":for(P=0;P<_c.length;P++)Zt(_c[P],T);break;case"source":Zt("error",T);break;case"img":case"image":case"link":Zt("error",T),Zt("load",T);break;case"details":Zt("toggle",T);break;case"input":De(T,$),Zt("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Zt("invalid",T);break;case"textarea":Be(T,$),Zt("invalid",T)}ie(v,$),P=null;for(var G in $)if($.hasOwnProperty(G)){var ee=$[G];G==="children"?typeof ee=="string"?T.textContent!==ee&&($.suppressHydrationWarning!==!0&&oh(T.textContent,ee,u),P=["children",ee]):typeof ee=="number"&&T.textContent!==""+ee&&($.suppressHydrationWarning!==!0&&oh(T.textContent,ee,u),P=["children",""+ee]):i.hasOwnProperty(G)&&ee!=null&&G==="onScroll"&&Zt("scroll",T)}switch(v){case"input":pe(T),ce(T,$,!0);break;case"textarea":pe(T),Ye(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=ah)}T=P,d.updateQueue=T,T!==null&&(d.flags|=4)}else{G=P.nodeType===9?P:P.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Yt(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=G.createElement(v,{is:T.is}):(u=G.createElement(v),v==="select"&&(G=u,T.multiple?G.multiple=!0:T.size&&(G.size=T.size))):u=G.createElementNS(u,v),u[ts]=d,u[kc]=T,E2(u,d,!1,!1),d.stateNode=u;e:{switch(G=be(v,T),v){case"dialog":Zt("cancel",u),Zt("close",u),P=T;break;case"iframe":case"object":case"embed":Zt("load",u),P=T;break;case"video":case"audio":for(P=0;P<_c.length;P++)Zt(_c[P],u);P=T;break;case"source":Zt("error",u),P=T;break;case"img":case"image":case"link":Zt("error",u),Zt("load",u),P=T;break;case"details":Zt("toggle",u),P=T;break;case"input":De(u,T),P=$e(u,T),Zt("invalid",u);break;case"option":P=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},P=j({},T,{value:void 0}),Zt("invalid",u);break;case"textarea":Be(u,T),P=he(u,T),Zt("invalid",u);break;default:P=T}ie(v,P),ee=P;for($ in ee)if(ee.hasOwnProperty($)){var ne=ee[$];$==="style"?Rr(u,ne):$==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Vr(u,ne)):$==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&dt(u,ne):typeof ne=="number"&&dt(u,""+ne):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ne!=null&&$==="onScroll"&&Zt("scroll",u):ne!=null&&E(u,$,ne,G))}switch(v){case"input":pe(u),ce(u,T,!1);break;case"textarea":pe(u),Ye(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Z(T.value));break;case"select":u.multiple=!!T.multiple,$=T.value,$!=null?xe(u,!!T.multiple,$,!1):T.defaultValue!=null&&xe(u,!!T.multiple,T.defaultValue,!0);break;default:typeof P.onClick=="function"&&(u.onclick=ah)}switch(v){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return hr(d),null;case 6:if(u&&d.stateNode!=null)T2(u,d,u.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(n(166));if(v=Ea(Ac.current),Ea(ns.current),ph(d)){if(T=d.stateNode,v=d.memoizedProps,T[ts]=d,($=T.nodeValue!==v)&&(u=ii,u!==null))switch(u.tag){case 3:oh(T.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&oh(T.nodeValue,v,(u.mode&1)!==0)}$&&(d.flags|=4)}else T=(v.nodeType===9?v:v.ownerDocument).createTextNode(T),T[ts]=d,d.stateNode=T}return hr(d),null;case 13:if(en(hn),T=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(dn&&si!==null&&(d.mode&1)!==0&&(d.flags&128)===0)NT(),$l(),d.flags|=98560,$=!1;else if($=ph(d),T!==null&&T.dehydrated!==null){if(u===null){if(!$)throw Error(n(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[ts]=d}else $l(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;hr(d),$=!1}else Pi!==null&&(d0(Pi),Pi=null),$=!0;if(!$)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=v,d):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(hn.current&1)!==0?Vn===0&&(Vn=3):p0())),d.updateQueue!==null&&(d.flags|=4),hr(d),null);case 4:return ql(),e0(u,d),u===null&&Sc(d.stateNode.containerInfo),hr(d),null;case 10:return Ny(d.type._context),hr(d),null;case 17:return Wr(d.type)&&uh(),hr(d),null;case 19:if(en(hn),$=d.memoizedState,$===null)return hr(d),null;if(T=(d.flags&128)!==0,G=$.rendering,G===null)if(T)Mc($,!1);else{if(Vn!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(G=xh(u),G!==null){for(d.flags|=128,Mc($,!1),T=G.updateQueue,T!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=v,v=d.child;v!==null;)$=v,u=T,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=u,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,u=G.dependencies,$.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Gt(hn,hn.current&1|2),d.child}u=u.sibling}$.tail!==null&&kn()>Yl&&(d.flags|=128,T=!0,Mc($,!1),d.lanes=4194304)}else{if(!T)if(u=xh(G),u!==null){if(d.flags|=128,T=!0,v=u.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),Mc($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!dn)return hr(d),null}else 2*kn()-$.renderingStartTime>Yl&&v!==1073741824&&(d.flags|=128,T=!0,Mc($,!1),d.lanes=4194304);$.isBackwards?(G.sibling=d.child,d.child=G):(v=$.last,v!==null?v.sibling=G:d.child=G,$.last=G)}return $.tail!==null?(d=$.tail,$.rendering=d,$.tail=d.sibling,$.renderingStartTime=kn(),d.sibling=null,v=hn.current,Gt(hn,T?v&1|2:v&1),d):(hr(d),null);case 22:case 23:return h0(),T=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(d.flags|=8192),T&&(d.mode&1)!==0?(oi&1073741824)!==0&&(hr(d),d.subtreeFlags&6&&(d.flags|=8192)):hr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function B$(u,d){switch(_y(d),d.tag){case 1:return Wr(d.type)&&uh(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return ql(),en(zr),en(dr),jy(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return My(d),null;case 13:if(en(hn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));$l()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return en(hn),null;case 4:return ql(),null;case 10:return Ny(d.type._context),null;case 22:case 23:return h0(),null;case 24:return null;default:return null}}var Oh=!1,pr=!1,U$=typeof WeakSet=="function"?WeakSet:Set,je=null;function zl(u,d){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(T){yn(u,d,T)}else v.current=null}function t0(u,d,v){try{v()}catch(T){yn(u,d,T)}}var C2=!1;function V$(u,d){if(hy=Kf,u=iT(),sy(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var T=v.getSelection&&v.getSelection();if(T&&T.rangeCount!==0){v=T.anchorNode;var P=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{v.nodeType,$.nodeType}catch{v=null;break e}var G=0,ee=-1,ne=-1,de=0,ye=0,_e=u,ve=null;t:for(;;){for(var Re;_e!==v||P!==0&&_e.nodeType!==3||(ee=G+P),_e!==$||T!==0&&_e.nodeType!==3||(ne=G+T),_e.nodeType===3&&(G+=_e.nodeValue.length),(Re=_e.firstChild)!==null;)ve=_e,_e=Re;for(;;){if(_e===u)break t;if(ve===v&&++de===P&&(ee=G),ve===$&&++ye===T&&(ne=G),(Re=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Re}v=ee===-1||ne===-1?null:{start:ee,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(py={focusedElem:u,selectionRange:v},Kf=!1,je=d;je!==null;)if(d=je,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,je=u;else for(;je!==null;){d=je;try{var Ve=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var qe=Ve.memoizedProps,Tn=Ve.memoizedState,ae=d.stateNode,re=ae.getSnapshotBeforeUpdate(d.elementType===d.type?qe:Mi(d.type,qe),Tn);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ee){yn(d,d.return,Ee)}if(u=d.sibling,u!==null){u.return=d.return,je=u;break}je=d.return}return Ve=C2,C2=!1,Ve}function Lc(u,d,v){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var P=T=T.next;do{if((P.tag&u)===u){var $=P.destroy;P.destroy=void 0,$!==void 0&&t0(d,v,$)}P=P.next}while(P!==T)}}function Ah(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&u)===u){var T=v.create;v.destroy=T()}v=v.next}while(v!==d)}}function n0(u){var d=u.ref;if(d!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof d=="function"?d(u):d.current=u}}function N2(u){var d=u.alternate;d!==null&&(u.alternate=null,N2(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[ts],delete d[kc],delete d[yy],delete d[E$],delete d[k$])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function O2(u){return u.tag===5||u.tag===3||u.tag===4}function A2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||O2(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function r0(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.nodeType===8?v.parentNode.insertBefore(u,d):v.insertBefore(u,d):(v.nodeType===8?(d=v.parentNode,d.insertBefore(u,v)):(d=v,d.appendChild(u)),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=ah));else if(T!==4&&(u=u.child,u!==null))for(r0(u,d,v),u=u.sibling;u!==null;)r0(u,d,v),u=u.sibling}function i0(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.insertBefore(u,d):v.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(i0(u,d,v),u=u.sibling;u!==null;)i0(u,d,v),u=u.sibling}var Zn=null,Li=!1;function To(u,d,v){for(v=v.child;v!==null;)D2(u,d,v),v=v.sibling}function D2(u,d,v){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(qf,v)}catch{}switch(v.tag){case 5:pr||zl(v,d);case 6:var T=Zn,P=Li;Zn=null,To(u,d,v),Zn=T,Li=P,Zn!==null&&(Li?(u=Zn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):Zn.removeChild(v.stateNode));break;case 18:Zn!==null&&(Li?(u=Zn,v=v.stateNode,u.nodeType===8?vy(u.parentNode,v):u.nodeType===1&&vy(u,v),pc(u)):vy(Zn,v.stateNode));break;case 4:T=Zn,P=Li,Zn=v.stateNode.containerInfo,Li=!0,To(u,d,v),Zn=T,Li=P;break;case 0:case 11:case 14:case 15:if(!pr&&(T=v.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){P=T=T.next;do{var $=P,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&t0(v,d,G),P=P.next}while(P!==T)}To(u,d,v);break;case 1:if(!pr&&(zl(v,d),T=v.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=v.memoizedProps,T.state=v.memoizedState,T.componentWillUnmount()}catch(ee){yn(v,d,ee)}To(u,d,v);break;case 21:To(u,d,v);break;case 22:v.mode&1?(pr=(T=pr)||v.memoizedState!==null,To(u,d,v),pr=T):To(u,d,v);break;default:To(u,d,v)}}function I2(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new U$),d.forEach(function(T){var P=X$.bind(null,u,T);v.has(T)||(v.add(T),T.then(P,P))})}}function ji(u,d){var v=d.deletions;if(v!==null)for(var T=0;T<v.length;T++){var P=v[T];try{var $=u,G=d,ee=G;e:for(;ee!==null;){switch(ee.tag){case 5:Zn=ee.stateNode,Li=!1;break e;case 3:Zn=ee.stateNode.containerInfo,Li=!0;break e;case 4:Zn=ee.stateNode.containerInfo,Li=!0;break e}ee=ee.return}if(Zn===null)throw Error(n(160));D2($,G,P),Zn=null,Li=!1;var ne=P.alternate;ne!==null&&(ne.return=null),P.return=null}catch(de){yn(P,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)R2(d,u),d=d.sibling}function R2(u,d){var v=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ji(d,u),is(u),T&4){try{Lc(3,u,u.return),Ah(3,u)}catch(qe){yn(u,u.return,qe)}try{Lc(5,u,u.return)}catch(qe){yn(u,u.return,qe)}}break;case 1:ji(d,u),is(u),T&512&&v!==null&&zl(v,v.return);break;case 5:if(ji(d,u),is(u),T&512&&v!==null&&zl(v,v.return),u.flags&32){var P=u.stateNode;try{dt(P,"")}catch(qe){yn(u,u.return,qe)}}if(T&4&&(P=u.stateNode,P!=null)){var $=u.memoizedProps,G=v!==null?v.memoizedProps:$,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&$.type==="radio"&&$.name!=null&&nt(P,$),be(ee,G);var de=be(ee,$);for(G=0;G<ne.length;G+=2){var ye=ne[G],_e=ne[G+1];ye==="style"?Rr(P,_e):ye==="dangerouslySetInnerHTML"?Vr(P,_e):ye==="children"?dt(P,_e):E(P,ye,_e,de)}switch(ee){case"input":Qe(P,$);break;case"textarea":Ie(P,$);break;case"select":var ve=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!$.multiple;var Re=$.value;Re!=null?xe(P,!!$.multiple,Re,!1):ve!==!!$.multiple&&($.defaultValue!=null?xe(P,!!$.multiple,$.defaultValue,!0):xe(P,!!$.multiple,$.multiple?[]:"",!1))}P[kc]=$}catch(qe){yn(u,u.return,qe)}}break;case 6:if(ji(d,u),is(u),T&4){if(u.stateNode===null)throw Error(n(162));P=u.stateNode,$=u.memoizedProps;try{P.nodeValue=$}catch(qe){yn(u,u.return,qe)}}break;case 3:if(ji(d,u),is(u),T&4&&v!==null&&v.memoizedState.isDehydrated)try{pc(d.containerInfo)}catch(qe){yn(u,u.return,qe)}break;case 4:ji(d,u),is(u);break;case 13:ji(d,u),is(u),P=u.child,P.flags&8192&&($=P.memoizedState!==null,P.stateNode.isHidden=$,!$||P.alternate!==null&&P.alternate.memoizedState!==null||(a0=kn())),T&4&&I2(u);break;case 22:if(ye=v!==null&&v.memoizedState!==null,u.mode&1?(pr=(de=pr)||ye,ji(d,u),pr=de):ji(d,u),is(u),T&8192){if(de=u.memoizedState!==null,(u.stateNode.isHidden=de)&&!ye&&(u.mode&1)!==0)for(je=u,ye=u.child;ye!==null;){for(_e=je=ye;je!==null;){switch(ve=je,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:Lc(4,ve,ve.return);break;case 1:zl(ve,ve.return);var Ve=ve.stateNode;if(typeof Ve.componentWillUnmount=="function"){T=ve,v=ve.return;try{d=T,Ve.props=d.memoizedProps,Ve.state=d.memoizedState,Ve.componentWillUnmount()}catch(qe){yn(T,v,qe)}}break;case 5:zl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){L2(_e);continue}}Re!==null?(Re.return=ve,je=Re):L2(_e)}ye=ye.sibling}e:for(ye=null,_e=u;;){if(_e.tag===5){if(ye===null){ye=_e;try{P=_e.stateNode,de?($=P.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ee=_e.stateNode,ne=_e.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=qr("display",G))}catch(qe){yn(u,u.return,qe)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(qe){yn(u,u.return,qe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ji(d,u),is(u),T&4&&I2(u);break;case 21:break;default:ji(d,u),is(u)}}function is(u){var d=u.flags;if(d&2){try{e:{for(var v=u.return;v!==null;){if(O2(v)){var T=v;break e}v=v.return}throw Error(n(160))}switch(T.tag){case 5:var P=T.stateNode;T.flags&32&&(dt(P,""),T.flags&=-33);var $=A2(u);i0(u,$,P);break;case 3:case 4:var G=T.stateNode.containerInfo,ee=A2(u);r0(u,ee,G);break;default:throw Error(n(161))}}catch(ne){yn(u,u.return,ne)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function q$(u,d,v){je=u,P2(u)}function P2(u,d,v){for(var T=(u.mode&1)!==0;je!==null;){var P=je,$=P.child;if(P.tag===22&&T){var G=P.memoizedState!==null||Oh;if(!G){var ee=P.alternate,ne=ee!==null&&ee.memoizedState!==null||pr;ee=Oh;var de=pr;if(Oh=G,(pr=ne)&&!de)for(je=P;je!==null;)G=je,ne=G.child,G.tag===22&&G.memoizedState!==null?j2(P):ne!==null?(ne.return=G,je=ne):j2(P);for(;$!==null;)je=$,P2($),$=$.sibling;je=P,Oh=ee,pr=de}M2(u)}else(P.subtreeFlags&8772)!==0&&$!==null?($.return=P,je=$):M2(u)}}function M2(u){for(;je!==null;){var d=je;if((d.flags&8772)!==0){var v=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:pr||Ah(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!pr)if(v===null)T.componentDidMount();else{var P=d.elementType===d.type?v.memoizedProps:Mi(d.type,v.memoizedProps);T.componentDidUpdate(P,v.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=d.updateQueue;$!==null&&IT(d,$,T);break;case 3:var G=d.updateQueue;if(G!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=d.child.stateNode;break;case 1:v=d.child.stateNode}IT(d,G,v)}break;case 5:var ee=d.stateNode;if(v===null&&d.flags&4){v=ee;var ne=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&pc(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pr||d.flags&512&&n0(d)}catch(ve){yn(d,d.return,ve)}}if(d===u){je=null;break}if(v=d.sibling,v!==null){v.return=d.return,je=v;break}je=d.return}}function L2(u){for(;je!==null;){var d=je;if(d===u){je=null;break}var v=d.sibling;if(v!==null){v.return=d.return,je=v;break}je=d.return}}function j2(u){for(;je!==null;){var d=je;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{Ah(4,d)}catch(ne){yn(d,v,ne)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var P=d.return;try{T.componentDidMount()}catch(ne){yn(d,P,ne)}}var $=d.return;try{n0(d)}catch(ne){yn(d,$,ne)}break;case 5:var G=d.return;try{n0(d)}catch(ne){yn(d,G,ne)}}}catch(ne){yn(d,d.return,ne)}if(d===u){je=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,je=ee;break}je=d.return}}var H$=Math.ceil,Dh=S.ReactCurrentDispatcher,s0=S.ReactCurrentOwner,xi=S.ReactCurrentBatchConfig,Et=0,Wn=null,Dn=null,er=0,oi=0,Wl=xo(0),Vn=0,jc=null,Ta=0,Ih=0,o0=0,Fc=null,Gr=null,a0=0,Yl=1/0,Bs=null,Rh=!1,l0=null,Co=null,Ph=!1,No=null,Mh=0,$c=0,u0=null,Lh=-1,jh=0;function Mr(){return(Et&6)!==0?kn():Lh!==-1?Lh:Lh=kn()}function Oo(u){return(u.mode&1)===0?1:(Et&2)!==0&&er!==0?er&-er:C$.transition!==null?(jh===0&&(jh=Ok()),jh):(u=$t,u!==0||(u=window.event,u=u===void 0?16:Fk(u.type)),u)}function Fi(u,d,v,T){if(50<$c)throw $c=0,u0=null,Error(n(185));uc(u,v,T),((Et&2)===0||u!==Wn)&&(u===Wn&&((Et&2)===0&&(Ih|=v),Vn===4&&Ao(u,er)),Kr(u,T),v===1&&Et===0&&(d.mode&1)===0&&(Yl=kn()+500,dh&&So()))}function Kr(u,d){var v=u.callbackNode;C6(u,d);var T=Wf(u,u===Wn?er:0);if(T===0)v!==null&&Tk(v),u.callbackNode=null,u.callbackPriority=0;else if(d=T&-T,u.callbackPriority!==d){if(v!=null&&Tk(v),d===1)u.tag===0?T$($2.bind(null,u)):ST($2.bind(null,u)),_$(function(){(Et&6)===0&&So()}),v=null;else{switch(Ak(T)){case 1:v=Vv;break;case 4:v=Ck;break;case 16:v=Vf;break;case 536870912:v=Nk;break;default:v=Vf}v=Y2(v,F2.bind(null,u))}u.callbackPriority=d,u.callbackNode=v}}function F2(u,d){if(Lh=-1,jh=0,(Et&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Gl()&&u.callbackNode!==v)return null;var T=Wf(u,u===Wn?er:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||d)d=Fh(u,T);else{d=T;var P=Et;Et|=2;var $=U2();(Wn!==u||er!==d)&&(Bs=null,Yl=kn()+500,Na(u,d));do try{Y$();break}catch(ee){B2(u,ee)}while(!0);Cy(),Dh.current=$,Et=P,Dn!==null?d=0:(Wn=null,er=0,d=Vn)}if(d!==0){if(d===2&&(P=qv(u),P!==0&&(T=P,d=c0(u,P))),d===1)throw v=jc,Na(u,0),Ao(u,T),Kr(u,kn()),v;if(d===6)Ao(u,T);else{if(P=u.current.alternate,(T&30)===0&&!z$(P)&&(d=Fh(u,T),d===2&&($=qv(u),$!==0&&(T=$,d=c0(u,$))),d===1))throw v=jc,Na(u,0),Ao(u,T),Kr(u,kn()),v;switch(u.finishedWork=P,u.finishedLanes=T,d){case 0:case 1:throw Error(n(345));case 2:Oa(u,Gr,Bs);break;case 3:if(Ao(u,T),(T&130023424)===T&&(d=a0+500-kn(),10<d)){if(Wf(u,0)!==0)break;if(P=u.suspendedLanes,(P&T)!==T){Mr(),u.pingedLanes|=u.suspendedLanes&P;break}u.timeoutHandle=gy(Oa.bind(null,u,Gr,Bs),d);break}Oa(u,Gr,Bs);break;case 4:if(Ao(u,T),(T&4194240)===T)break;for(d=u.eventTimes,P=-1;0<T;){var G=31-Ii(T);$=1<<G,G=d[G],G>P&&(P=G),T&=~$}if(T=P,T=kn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*H$(T/1960))-T,10<T){u.timeoutHandle=gy(Oa.bind(null,u,Gr,Bs),T);break}Oa(u,Gr,Bs);break;case 5:Oa(u,Gr,Bs);break;default:throw Error(n(329))}}}return Kr(u,kn()),u.callbackNode===v?F2.bind(null,u):null}function c0(u,d){var v=Fc;return u.current.memoizedState.isDehydrated&&(Na(u,d).flags|=256),u=Fh(u,d),u!==2&&(d=Gr,Gr=v,d!==null&&d0(d)),u}function d0(u){Gr===null?Gr=u:Gr.push.apply(Gr,u)}function z$(u){for(var d=u;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var T=0;T<v.length;T++){var P=v[T],$=P.getSnapshot;P=P.value;try{if(!Ri($(),P))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ao(u,d){for(d&=~o0,d&=~Ih,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var v=31-Ii(d),T=1<<v;u[v]=-1,d&=~T}}function $2(u){if((Et&6)!==0)throw Error(n(327));Gl();var d=Wf(u,0);if((d&1)===0)return Kr(u,kn()),null;var v=Fh(u,d);if(u.tag!==0&&v===2){var T=qv(u);T!==0&&(d=T,v=c0(u,T))}if(v===1)throw v=jc,Na(u,0),Ao(u,d),Kr(u,kn()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Oa(u,Gr,Bs),Kr(u,kn()),null}function f0(u,d){var v=Et;Et|=1;try{return u(d)}finally{Et=v,Et===0&&(Yl=kn()+500,dh&&So())}}function Ca(u){No!==null&&No.tag===0&&(Et&6)===0&&Gl();var d=Et;Et|=1;var v=xi.transition,T=$t;try{if(xi.transition=null,$t=1,u)return u()}finally{$t=T,xi.transition=v,Et=d,(Et&6)===0&&So()}}function h0(){oi=Wl.current,en(Wl)}function Na(u,d){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,x$(v)),Dn!==null)for(v=Dn.return;v!==null;){var T=v;switch(_y(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&uh();break;case 3:ql(),en(zr),en(dr),jy();break;case 5:My(T);break;case 4:ql();break;case 13:en(hn);break;case 19:en(hn);break;case 10:Ny(T.type._context);break;case 22:case 23:h0()}v=v.return}if(Wn=u,Dn=u=Do(u.current,null),er=oi=d,Vn=0,jc=null,o0=Ih=Ta=0,Gr=Fc=null,Sa!==null){for(d=0;d<Sa.length;d++)if(v=Sa[d],T=v.interleaved,T!==null){v.interleaved=null;var P=T.next,$=v.pending;if($!==null){var G=$.next;$.next=P,T.next=G}v.pending=T}Sa=null}return u}function B2(u,d){do{var v=Dn;try{if(Cy(),_h.current=Th,Sh){for(var T=pn.memoizedState;T!==null;){var P=T.queue;P!==null&&(P.pending=null),T=T.next}Sh=!1}if(ka=0,zn=Un=pn=null,Dc=!1,Ic=0,s0.current=null,v===null||v.return===null){Vn=1,jc=d,Dn=null;break}e:{var $=u,G=v.return,ee=v,ne=d;if(d=er,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var de=ne,ye=ee,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Re=d2(G);if(Re!==null){Re.flags&=-257,f2(Re,G,ee,$,d),Re.mode&1&&c2($,de,d),d=Re,ne=de;var Ve=d.updateQueue;if(Ve===null){var qe=new Set;qe.add(ne),d.updateQueue=qe}else Ve.add(ne);break e}else{if((d&1)===0){c2($,de,d),p0();break e}ne=Error(n(426))}}else if(dn&&ee.mode&1){var Tn=d2(G);if(Tn!==null){(Tn.flags&65536)===0&&(Tn.flags|=256),f2(Tn,G,ee,$,d),ky(Hl(ne,ee));break e}}$=ne=Hl(ne,ee),Vn!==4&&(Vn=2),Fc===null?Fc=[$]:Fc.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var ae=l2($,ne,d);DT($,ae);break e;case 1:ee=ne;var re=$.type,ue=$.stateNode;if(($.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Co===null||!Co.has(ue)))){$.flags|=65536,d&=-d,$.lanes|=d;var Ee=u2($,ee,d);DT($,Ee);break e}}$=$.return}while($!==null)}q2(v)}catch(ze){d=ze,Dn===v&&v!==null&&(Dn=v=v.return);continue}break}while(!0)}function U2(){var u=Dh.current;return Dh.current=Th,u===null?Th:u}function p0(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Wn===null||(Ta&268435455)===0&&(Ih&268435455)===0||Ao(Wn,er)}function Fh(u,d){var v=Et;Et|=2;var T=U2();(Wn!==u||er!==d)&&(Bs=null,Na(u,d));do try{W$();break}catch(P){B2(u,P)}while(!0);if(Cy(),Et=v,Dh.current=T,Dn!==null)throw Error(n(261));return Wn=null,er=0,Vn}function W$(){for(;Dn!==null;)V2(Dn)}function Y$(){for(;Dn!==null&&!y6();)V2(Dn)}function V2(u){var d=W2(u.alternate,u,oi);u.memoizedProps=u.pendingProps,d===null?q2(u):Dn=d,s0.current=null}function q2(u){var d=u;do{var v=d.alternate;if(u=d.return,(d.flags&32768)===0){if(v=$$(v,d,oi),v!==null){Dn=v;return}}else{if(v=B$(v,d),v!==null){v.flags&=32767,Dn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Vn=6,Dn=null;return}}if(d=d.sibling,d!==null){Dn=d;return}Dn=d=u}while(d!==null);Vn===0&&(Vn=5)}function Oa(u,d,v){var T=$t,P=xi.transition;try{xi.transition=null,$t=1,G$(u,d,v,T)}finally{xi.transition=P,$t=T}return null}function G$(u,d,v,T){do Gl();while(No!==null);if((Et&6)!==0)throw Error(n(327));v=u.finishedWork;var P=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var $=v.lanes|v.childLanes;if(N6(u,$),u===Wn&&(Dn=Wn=null,er=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Ph||(Ph=!0,Y2(Vf,function(){return Gl(),null})),$=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||$){$=xi.transition,xi.transition=null;var G=$t;$t=1;var ee=Et;Et|=4,s0.current=null,V$(u,v),R2(v,u),p$(py),Kf=!!hy,py=hy=null,u.current=v,q$(v),w6(),Et=ee,$t=G,xi.transition=$}else u.current=v;if(Ph&&(Ph=!1,No=u,Mh=P),$=u.pendingLanes,$===0&&(Co=null),_6(v.stateNode),Kr(u,kn()),d!==null)for(T=u.onRecoverableError,v=0;v<d.length;v++)P=d[v],T(P.value,{componentStack:P.stack,digest:P.digest});if(Rh)throw Rh=!1,u=l0,l0=null,u;return(Mh&1)!==0&&u.tag!==0&&Gl(),$=u.pendingLanes,($&1)!==0?u===u0?$c++:($c=0,u0=u):$c=0,So(),null}function Gl(){if(No!==null){var u=Ak(Mh),d=xi.transition,v=$t;try{if(xi.transition=null,$t=16>u?16:u,No===null)var T=!1;else{if(u=No,No=null,Mh=0,(Et&6)!==0)throw Error(n(331));var P=Et;for(Et|=4,je=u.current;je!==null;){var $=je,G=$.child;if((je.flags&16)!==0){var ee=$.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var de=ee[ne];for(je=de;je!==null;){var ye=je;switch(ye.tag){case 0:case 11:case 15:Lc(8,ye,$)}var _e=ye.child;if(_e!==null)_e.return=ye,je=_e;else for(;je!==null;){ye=je;var ve=ye.sibling,Re=ye.return;if(N2(ye),ye===de){je=null;break}if(ve!==null){ve.return=Re,je=ve;break}je=Re}}}var Ve=$.alternate;if(Ve!==null){var qe=Ve.child;if(qe!==null){Ve.child=null;do{var Tn=qe.sibling;qe.sibling=null,qe=Tn}while(qe!==null)}}je=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,je=G;else e:for(;je!==null;){if($=je,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Lc(9,$,$.return)}var ae=$.sibling;if(ae!==null){ae.return=$.return,je=ae;break e}je=$.return}}var re=u.current;for(je=re;je!==null;){G=je;var ue=G.child;if((G.subtreeFlags&2064)!==0&&ue!==null)ue.return=G,je=ue;else e:for(G=re;je!==null;){if(ee=je,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Ah(9,ee)}}catch(ze){yn(ee,ee.return,ze)}if(ee===G){je=null;break e}var Ee=ee.sibling;if(Ee!==null){Ee.return=ee.return,je=Ee;break e}je=ee.return}}if(Et=P,So(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(qf,u)}catch{}T=!0}return T}finally{$t=v,xi.transition=d}}return!1}function H2(u,d,v){d=Hl(v,d),d=l2(u,d,1),u=ko(u,d,1),d=Mr(),u!==null&&(uc(u,1,d),Kr(u,d))}function yn(u,d,v){if(u.tag===3)H2(u,u,v);else for(;d!==null;){if(d.tag===3){H2(d,u,v);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Co===null||!Co.has(T))){u=Hl(v,u),u=u2(d,u,1),d=ko(d,u,1),u=Mr(),d!==null&&(uc(d,1,u),Kr(d,u));break}}d=d.return}}function K$(u,d,v){var T=u.pingCache;T!==null&&T.delete(d),d=Mr(),u.pingedLanes|=u.suspendedLanes&v,Wn===u&&(er&v)===v&&(Vn===4||Vn===3&&(er&130023424)===er&&500>kn()-a0?Na(u,0):o0|=v),Kr(u,d)}function z2(u,d){d===0&&((u.mode&1)===0?d=1:(d=zf,zf<<=1,(zf&130023424)===0&&(zf=4194304)));var v=Mr();u=js(u,d),u!==null&&(uc(u,d,v),Kr(u,v))}function Q$(u){var d=u.memoizedState,v=0;d!==null&&(v=d.retryLane),z2(u,v)}function X$(u,d){var v=0;switch(u.tag){case 13:var T=u.stateNode,P=u.memoizedState;P!==null&&(v=P.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(d),z2(u,v)}var W2;W2=function(u,d,v){if(u!==null)if(u.memoizedProps!==d.pendingProps||zr.current)Yr=!0;else{if((u.lanes&v)===0&&(d.flags&128)===0)return Yr=!1,F$(u,d,v);Yr=(u.flags&131072)!==0}else Yr=!1,dn&&(d.flags&1048576)!==0&&ET(d,hh,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;Nh(u,d),u=d.pendingProps;var P=Ll(d,dr.current);Ul(d,v),P=By(null,d,T,u,P,v);var $=Uy();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Wr(T)?($=!0,ch(d)):$=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Dy(d),P.updater=wh,d.stateNode=P,P._reactInternals=d,Ry(d,T,u,v),d=Ky(null,d,T,!0,$,v)):(d.tag=0,dn&&$&&xy(d),Pr(null,d,P,v),d=d.child),d;case 16:T=d.elementType;e:{switch(Nh(u,d),u=d.pendingProps,P=T._init,T=P(T._payload),d.type=T,P=d.tag=Z$(T),u=Mi(T,u),P){case 0:d=Gy(null,d,T,u,v);break e;case 1:d=y2(null,d,T,u,v);break e;case 11:d=h2(null,d,T,u,v);break e;case 14:d=p2(null,d,T,Mi(T.type,u),v);break e}throw Error(n(306,T,""))}return d;case 0:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),Gy(u,d,T,P,v);case 1:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),y2(u,d,T,P,v);case 3:e:{if(w2(d),u===null)throw Error(n(387));T=d.pendingProps,$=d.memoizedState,P=$.element,AT(u,d),yh(d,T,null,v);var G=d.memoizedState;if(T=G.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){P=Hl(Error(n(423)),d),d=b2(u,d,T,v,P);break e}else if(T!==P){P=Hl(Error(n(424)),d),d=b2(u,d,T,v,P);break e}else for(si=bo(d.stateNode.containerInfo.firstChild),ii=d,dn=!0,Pi=null,v=$T(d,null,T,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if($l(),T===P){d=$s(u,d,v);break e}Pr(u,d,T,v)}d=d.child}return d;case 5:return BT(d),u===null&&Ey(d),T=d.type,P=d.pendingProps,$=u!==null?u.memoizedProps:null,G=P.children,my(T,P)?G=null:$!==null&&my(T,$)&&(d.flags|=32),v2(u,d),Pr(u,d,G,v),d.child;case 6:return u===null&&Ey(d),null;case 13:return x2(u,d,v);case 4:return Py(d,d.stateNode.containerInfo),T=d.pendingProps,u===null?d.child=Vl(d,null,T,v):Pr(u,d,T,v),d.child;case 11:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),h2(u,d,T,P,v);case 7:return Pr(u,d,d.pendingProps,v),d.child;case 8:return Pr(u,d,d.pendingProps.children,v),d.child;case 12:return Pr(u,d,d.pendingProps.children,v),d.child;case 10:e:{if(T=d.type._context,P=d.pendingProps,$=d.memoizedProps,G=P.value,Gt(mh,T._currentValue),T._currentValue=G,$!==null)if(Ri($.value,G)){if($.children===P.children&&!zr.current){d=$s(u,d,v);break e}}else for($=d.child,$!==null&&($.return=d);$!==null;){var ee=$.dependencies;if(ee!==null){G=$.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===T){if($.tag===1){ne=Fs(-1,v&-v),ne.tag=2;var de=$.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?ne.next=ne:(ne.next=ye.next,ye.next=ne),de.pending=ne}}$.lanes|=v,ne=$.alternate,ne!==null&&(ne.lanes|=v),Oy($.return,v,d),ee.lanes|=v;break}ne=ne.next}}else if($.tag===10)G=$.type===d.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=v,ee=G.alternate,ee!==null&&(ee.lanes|=v),Oy(G,v,d),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===d){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}Pr(u,d,P.children,v),d=d.child}return d;case 9:return P=d.type,T=d.pendingProps.children,Ul(d,v),P=wi(P),T=T(P),d.flags|=1,Pr(u,d,T,v),d.child;case 14:return T=d.type,P=Mi(T,d.pendingProps),P=Mi(T.type,P),p2(u,d,T,P,v);case 15:return m2(u,d,d.type,d.pendingProps,v);case 17:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),Nh(u,d),d.tag=1,Wr(T)?(u=!0,ch(d)):u=!1,Ul(d,v),MT(d,T,P),Ry(d,T,P,v),Ky(null,d,T,!0,u,v);case 19:return S2(u,d,v);case 22:return g2(u,d,v)}throw Error(n(156,d.tag))};function Y2(u,d){return kk(u,d)}function J$(u,d,v,T){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(u,d,v,T){return new J$(u,d,v,T)}function m0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Z$(u){if(typeof u=="function")return m0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===D)return 11;if(u===q)return 14}return 2}function Do(u,d){var v=u.alternate;return v===null?(v=_i(u.tag,d,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=d,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,d=u.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function $h(u,d,v,T,P,$){var G=2;if(T=u,typeof u=="function")m0(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case O:return Aa(v.children,P,$,d);case C:G=8,P|=8;break;case I:return u=_i(12,v,d,P|2),u.elementType=I,u.lanes=$,u;case M:return u=_i(13,v,d,P),u.elementType=M,u.lanes=$,u;case F:return u=_i(19,v,d,P),u.elementType=F,u.lanes=$,u;case B:return Bh(v,P,$,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case R:G=10;break e;case A:G=9;break e;case D:G=11;break e;case q:G=14;break e;case L:G=16,T=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=_i(G,v,d,P),d.elementType=u,d.type=T,d.lanes=$,d}function Aa(u,d,v,T){return u=_i(7,u,T,d),u.lanes=v,u}function Bh(u,d,v,T){return u=_i(22,u,T,d),u.elementType=B,u.lanes=v,u.stateNode={isHidden:!1},u}function g0(u,d,v){return u=_i(6,u,null,d),u.lanes=v,u}function v0(u,d,v){return d=_i(4,u.children!==null?u.children:[],u.key,d),d.lanes=v,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function eB(u,d,v,T,P){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hv(0),this.expirationTimes=Hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.identifierPrefix=T,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function y0(u,d,v,T,P,$,G,ee,ne){return u=new eB(u,d,v,ee,ne),d===1?(d=1,$===!0&&(d|=8)):d=0,$=_i(3,null,null,d),u.current=$,$.stateNode=u,$.memoizedState={element:T,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy($),u}function tB(u,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:T==null?null:""+T,children:u,containerInfo:d,implementation:v}}function G2(u){if(!u)return _o;u=u._reactInternals;e:{if(ya(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Wr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(Wr(v))return xT(u,v,d)}return d}function K2(u,d,v,T,P,$,G,ee,ne){return u=y0(v,T,!0,u,P,$,G,ee,ne),u.context=G2(null),v=u.current,T=Mr(),P=Oo(v),$=Fs(T,P),$.callback=d??null,ko(v,$,P),u.current.lanes=P,uc(u,P,T),Kr(u,T),u}function Uh(u,d,v,T){var P=d.current,$=Mr(),G=Oo(P);return v=G2(v),d.context===null?d.context=v:d.pendingContext=v,d=Fs($,G),d.payload={element:u},T=T===void 0?null:T,T!==null&&(d.callback=T),u=ko(P,d,G),u!==null&&(Fi(u,P,G,$),vh(u,P,G)),G}function Vh(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function Q2(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<d?v:d}}function w0(u,d){Q2(u,d),(u=u.alternate)&&Q2(u,d)}function nB(){return null}var X2=typeof reportError=="function"?reportError:function(u){console.error(u)};function b0(u){this._internalRoot=u}qh.prototype.render=b0.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));Uh(u,d,null,null)},qh.prototype.unmount=b0.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Ca(function(){Uh(null,u,null,null)}),d[Rs]=null}};function qh(u){this._internalRoot=u}qh.prototype.unstable_scheduleHydration=function(u){if(u){var d=Rk();u={blockedOn:null,target:u,priority:d};for(var v=0;v<vo.length&&d!==0&&d<vo[v].priority;v++);vo.splice(v,0,u),v===0&&Lk(u)}};function x0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Hh(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function J2(){}function rB(u,d,v,T,P){if(P){if(typeof T=="function"){var $=T;T=function(){var de=Vh(G);$.call(de)}}var G=K2(d,T,u,0,null,!1,!1,"",J2);return u._reactRootContainer=G,u[Rs]=G.current,Sc(u.nodeType===8?u.parentNode:u),Ca(),G}for(;P=u.lastChild;)u.removeChild(P);if(typeof T=="function"){var ee=T;T=function(){var de=Vh(ne);ee.call(de)}}var ne=y0(u,0,!1,null,null,!1,!1,"",J2);return u._reactRootContainer=ne,u[Rs]=ne.current,Sc(u.nodeType===8?u.parentNode:u),Ca(function(){Uh(d,ne,v,T)}),ne}function zh(u,d,v,T,P){var $=v._reactRootContainer;if($){var G=$;if(typeof P=="function"){var ee=P;P=function(){var ne=Vh(G);ee.call(ne)}}Uh(d,G,u,P)}else G=rB(v,d,u,P,T);return Vh(G)}Dk=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var v=lc(d.pendingLanes);v!==0&&(zv(d,v|1),Kr(d,kn()),(Et&6)===0&&(Yl=kn()+500,So()))}break;case 13:Ca(function(){var T=js(u,1);if(T!==null){var P=Mr();Fi(T,u,1,P)}}),w0(u,1)}},Wv=function(u){if(u.tag===13){var d=js(u,134217728);if(d!==null){var v=Mr();Fi(d,u,134217728,v)}w0(u,134217728)}},Ik=function(u){if(u.tag===13){var d=Oo(u),v=js(u,d);if(v!==null){var T=Mr();Fi(v,u,d,T)}w0(u,d)}},Rk=function(){return $t},Pk=function(u,d){var v=$t;try{return $t=u,d()}finally{$t=v}},Oe=function(u,d,v){switch(d){case"input":if(Qe(u,v),d=v.name,v.type==="radio"&&d!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<v.length;d++){var T=v[d];if(T!==u&&T.form===u.form){var P=lh(T);if(!P)throw Error(n(90));ge(T),Qe(T,P)}}}break;case"textarea":Ie(u,v);break;case"select":d=v.value,d!=null&&xe(u,!!v.multiple,d,!1)}},An=f0,Ft=Ca;var iB={usingClientEntryPoint:!1,Events:[Tc,Pl,lh,rt,St,f0]},Bc={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sB={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Sk(u),u===null?null:u.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||nB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{qf=Wh.inject(sB),es=Wh}catch{}}return Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iB,Qr.createPortal=function(u,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x0(d))throw Error(n(200));return tB(u,d,null,v)},Qr.createRoot=function(u,d){if(!x0(u))throw Error(n(299));var v=!1,T="",P=X2;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=y0(u,1,!1,null,null,v,!1,T,P),u[Rs]=d.current,Sc(u.nodeType===8?u.parentNode:u),new b0(d)},Qr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Sk(d),u=u===null?null:u.stateNode,u},Qr.flushSync=function(u){return Ca(u)},Qr.hydrate=function(u,d,v){if(!Hh(d))throw Error(n(200));return zh(null,u,d,!0,v)},Qr.hydrateRoot=function(u,d,v){if(!x0(u))throw Error(n(405));var T=v!=null&&v.hydratedSources||null,P=!1,$="",G=X2;if(v!=null&&(v.unstable_strictMode===!0&&(P=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(G=v.onRecoverableError)),d=K2(d,null,u,1,v??null,P,!1,$,G),u[Rs]=d.current,Sc(u),T)for(u=0;u<T.length;u++)v=T[u],P=v._getVersion,P=P(v._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[v,P]:d.mutableSourceEagerHydrationData.push(v,P);return new qh(d)},Qr.render=function(u,d,v){if(!Hh(d))throw Error(n(200));return zh(null,u,d,!1,v)},Qr.unmountComponentAtNode=function(u){if(!Hh(u))throw Error(n(40));return u._reactRootContainer?(Ca(function(){zh(null,null,u,!1,function(){u._reactRootContainer=null,u[Rs]=null})}),!0):!1},Qr.unstable_batchedUpdates=f0,Qr.unstable_renderSubtreeIntoContainer=function(u,d,v,T){if(!Hh(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return zh(u,d,v,!1,T)},Qr.version="18.2.0-next-9e3b772b8-20220608",Qr}var oC;function b_(){if(oC)return E0.exports;oC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),E0.exports=mB(),E0.exports}var aC;function gB(){if(aC)return Gh;aC=1;var t=b_();return Gh.createRoot=t.createRoot,Gh.hydrateRoot=t.hydrateRoot,Gh}var vB=gB();const yB=tf(vB);var K=ug();const se=tf(K),Qp=uB({__proto__:null,default:se},[K]);var x_=b_();const __=tf(x_);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Td.apply(this,arguments)}var qo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qo||(qo={}));const lC="popstate";function wB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return rx("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xp(i)}return xB(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bB(){return Math.random().toString(36).substr(2,8)}function uC(t,e){return{usr:t.state,key:t.key,idx:e}}function rx(t,e,n,r){return n===void 0&&(n=null),Td({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qu(e):e,{state:n,key:e&&e.key||r||bB()})}function Xp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qo.Pop,l=null,h=c();h==null&&(h=0,o.replaceState(Td({},o.state,{idx:h}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=qo.Pop;let w=c(),b=w==null?null:w-h;h=w,l&&l({action:a,location:y.location,delta:b})}function p(w,b){a=qo.Push;let _=rx(y.location,w,b);h=c()+1;let E=uC(_,h),S=y.createHref(_);try{o.pushState(E,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function m(w,b){a=qo.Replace;let _=rx(y.location,w,b);h=c();let E=uC(_,h),S=y.createHref(_);o.replaceState(E,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:Xp(w);return Ln(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lC,f),l=w,()=>{i.removeEventListener(lC,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(w){return o.go(w)}};return y}var cC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cC||(cC={}));function _B(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qu(e):e,i=E_(r.pathname||"/",n);if(i==null)return null;let s=PR(t);SB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=IB(s[a],MB(i));return o}function PR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=Go([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),PR(s.children,e,c,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:AB(h,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of MR(s.path))i(s,o,l)}),e}function MR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=MR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EB=/^:[\w-]+$/,kB=3,TB=2,CB=1,NB=10,OB=-2,dC=t=>t==="*";function AB(t,e){let n=t.split("/"),r=n.length;return n.some(dC)&&(r+=OB),e&&(r+=TB),n.filter(i=>!dC(i)).reduce((i,s)=>i+(EB.test(s)?kB:s===""?CB:NB),r)}function DB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",c=RB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Go([i,c.pathname]),pathnameBase:BB(Go([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Go([i,c.pathnameBase]))}return s}function RB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?h[p]=void 0:h[p]=LB(g||"",p),h},{}),pathname:s,pathnameBase:o,pattern:t}}function PB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),S_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MB(t){try{return decodeURI(t)}catch(e){return S_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function LB(t,e){try{return decodeURIComponent(t)}catch(n){return S_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function E_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qu(t):t;return{pathname:n?n.startsWith("/")?n:FB(n,e):e,search:UB(r),hash:VB(i)}}function FB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function C0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $B(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LR(t,e){let n=$B(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qu(t):(i=Td({},t),Ln(!i.pathname||!i.pathname.includes("?"),C0("?","pathname","search",i)),Ln(!i.pathname||!i.pathname.includes("#"),C0("#","pathname","hash",i)),Ln(!i.search||!i.search.includes("#"),C0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=jB(i,a),h=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}const Go=t=>t.join("/").replace(/\/\/+/g,"/"),BB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FR=["post","put","patch","delete"];new Set(FR);const HB=["get",...FR];new Set(HB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cd.apply(this,arguments)}const k_=K.createContext(null),zB=K.createContext(null),ml=K.createContext(null),cg=K.createContext(null),aa=K.createContext({outlet:null,matches:[],isDataRoute:!1}),$R=K.createContext(null);function WB(t,e){let{relative:n}=e===void 0?{}:e;nf()||Ln(!1);let{basename:r,navigator:i}=K.useContext(ml),{hash:s,pathname:o,search:a}=UR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Go([r,o])),i.createHref({pathname:l,search:a,hash:s})}function nf(){return K.useContext(cg)!=null}function Nr(){return nf()||Ln(!1),K.useContext(cg).location}function BR(t){K.useContext(ml).static||K.useLayoutEffect(t)}function Or(){let{isDataRoute:t}=K.useContext(aa);return t?s9():YB()}function YB(){nf()||Ln(!1);let t=K.useContext(k_),{basename:e,future:n,navigator:r}=K.useContext(ml),{matches:i}=K.useContext(aa),{pathname:s}=Nr(),o=JSON.stringify(LR(i,n.v7_relativeSplatPath)),a=K.useRef(!1);return BR(()=>{a.current=!0}),K.useCallback(function(h,c){if(c===void 0&&(c={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let f=jR(h,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Go([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function T_(){let{matches:t}=K.useContext(aa),e=t[t.length-1];return e?e.params:{}}function UR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(ml),{matches:i}=K.useContext(aa),{pathname:s}=Nr(),o=JSON.stringify(LR(i,r.v7_relativeSplatPath));return K.useMemo(()=>jR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function GB(t,e){return KB(t,e)}function KB(t,e,n,r){nf()||Ln(!1);let{navigator:i}=K.useContext(ml),{matches:s}=K.useContext(aa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let h=Nr(),c;if(e){var f;let w=typeof e=="string"?qu(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ln(!1),c=w}else c=h;let p=c.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",g=_B(t,{pathname:m}),y=e9(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Go([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Go([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&y?K.createElement(cg.Provider,{value:{location:Cd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qo.Pop}},y):y}function QB(){let t=i9(),e=qB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,null)}const XB=K.createElement(QB,null);class JB extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(aa.Provider,{value:this.props.routeContext},K.createElement($R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZB(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(k_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(aa.Provider,{value:e},r)}function e9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ln(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let m,g=!1,y=null,w=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||XB,l&&(h<0&&p===0?(o9("route-fallback"),g=!0,w=null):h===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),_=()=>{let E;return m?E=y:g?E=w:f.route.Component?E=K.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,K.createElement(ZB,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?K.createElement(JB,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var VR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VR||{}),qR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qR||{});function t9(t){let e=K.useContext(k_);return e||Ln(!1),e}function n9(t){let e=K.useContext(zB);return e||Ln(!1),e}function r9(t){let e=K.useContext(aa);return e||Ln(!1),e}function HR(t){let e=r9(),n=e.matches[e.matches.length-1];return n.route.id||Ln(!1),n.route.id}function i9(){var t;let e=K.useContext($R),n=n9(),r=HR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function s9(){let{router:t}=t9(VR.UseNavigateStable),e=HR(qR.UseNavigateStable),n=K.useRef(!1);return BR(()=>{n.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cd({fromRouteId:e},s)))},[t,e])}const fC={};function o9(t,e,n){fC[t]||(fC[t]=!0)}function Kt(t){Ln(!1)}function a9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qo.Pop,navigator:s,static:o=!1,future:a}=t;nf()&&Ln(!1);let l=e.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:l,navigator:s,static:o,future:Cd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qu(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,y=K.useMemo(()=>{let w=E_(c,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return y==null?null:K.createElement(ml.Provider,{value:h},K.createElement(cg.Provider,{children:n,value:y}))}function hC(t){let{children:e,location:n}=t;return GB(ix(e),n)}new Promise(()=>{});function ix(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){n.push.apply(n,ix(r.props.children,s));return}r.type!==Kt&&Ln(!1),!r.props.index||!r.props.children||Ln(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ix(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function l9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function u9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c9(t,e){return t.button===0&&(!e||e==="_self")&&!u9(t)}const d9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],f9="6";try{window.__reactRouterVersion=f9}catch{}const h9="startTransition",pC=Qp[h9];function p9(t){let{basename:e,children:n,future:r,window:i}=t,s=K.useRef();s.current==null&&(s.current=wB({window:i,v5Compat:!0}));let o=s.current,[a,l]=K.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},c=K.useCallback(f=>{h&&pC?pC(()=>l(f)):l(f)},[l,h]);return K.useLayoutEffect(()=>o.listen(c),[o,c]),K.createElement(a9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const m9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=K.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:c,unstable_viewTransition:f}=e,p=l9(e,d9),{basename:m}=K.useContext(ml),g,y=!1;if(typeof h=="string"&&g9.test(h)&&(g=h,m9))try{let E=new URL(window.location.href),S=h.startsWith("//")?new URL(E.protocol+h):new URL(h),k=E_(S.pathname,m);S.origin===E.origin&&k!=null?h=k+S.search+S.hash:y=!0}catch{}let w=WB(h,{relative:i}),b=v9(h,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function _(E){r&&r(E),E.defaultPrevented||b(E)}return K.createElement("a",sx({},p,{href:g||w,onClick:y||s?r:_,ref:n,target:l}))});var mC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mC||(mC={}));var gC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gC||(gC={}));function v9(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Or(),h=Nr(),c=UR(t,{relative:o});return K.useCallback(f=>{if(c9(f,n)){f.preventDefault();let p=r!==void 0?r:Xp(h)===Xp(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[h,l,c,r,i,n,t,s,o,a])}var vC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},y9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|h>>6,m=h&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||f==null)throw new w9;const p=s<<2|a>>4;if(r.push(p),h!==64){const m=a<<4&240|h>>2;if(r.push(m),f!==64){const g=h<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b9=function(t){const e=zR(t);return WR.encodeByteArray(e,!0)},Jp=function(t){return b9(t).replace(/\./g,"")},YR=function(t){try{return WR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=()=>x9().__FIREBASE_DEFAULTS__,S9=()=>{if(typeof process>"u"||typeof vC>"u")return;const t=vC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YR(t[1]);return e&&JSON.parse(e)},dg=()=>{try{return _9()||S9()||E9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GR=t=>{var e,n;return(n=(e=dg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},C_=t=>{const e=GR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KR=()=>{var t;return(t=dg())===null||t===void 0?void 0:t.config},QR=t=>{var e;return(e=dg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jp(JSON.stringify(n)),Jp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function C9(){var t;const e=(t=dg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A9(){const t=Tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function D9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="FirebaseError";class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I9,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Oi(i,a,r)}}function R9(t,e){return t.replace(P9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P9=/\{\$([^}]+)}/g;function M9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yC(s)&&yC(o)){if(!Zp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function L9(t,e){const n=new j9(t,e);return n.subscribe.bind(n)}class j9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=N0),i.error===void 0&&(i.error=N0),i.complete===void 0&&(i.complete=N0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function N0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U9(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B9(t){return t===Ia?void 0:t}function U9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nt||(Nt={}));const q9={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},H9=Nt.INFO,z9={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},W9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=H9,this._logHandler=W9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const Y9=(t,e)=>e.some(n=>t instanceof n);let wC,bC;function G9(){return wC||(wC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K9(){return bC||(bC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eP=new WeakMap,ox=new WeakMap,tP=new WeakMap,O0=new WeakMap,O_=new WeakMap;function Q9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eP.set(n,t)}).catch(()=>{}),O_.set(e,t),e}function X9(t){if(ox.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ox.set(t,e)}let ax={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ox.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J9(t){ax=t(ax)}function Z9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A0(this),e,...n);return tP.set(r,e.sort?e.sort():[e]),Ko(r)}:K9().includes(t)?function(...e){return t.apply(A0(this),e),Ko(eP.get(this))}:function(...e){return Ko(t.apply(A0(this),e))}}function eU(t){return typeof t=="function"?Z9(t):(t instanceof IDBTransaction&&X9(t),Y9(t,G9())?new Proxy(t,ax):t)}function Ko(t){if(t instanceof IDBRequest)return Q9(t);if(O0.has(t))return O0.get(t);const e=eU(t);return e!==t&&(O0.set(t,e),O_.set(e,t)),e}const A0=t=>O_.get(t);function tU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ko(o.result),l.oldVersion,l.newVersion,Ko(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const nU=["get","getKey","getAll","getAllKeys","count"],rU=["put","add","delete","clear"],D0=new Map;function xC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return D0.set(e,s),s}J9(t=>({...t,get:(e,n,r)=>xC(e,n)||t.get(e,n,r),has:(e,n)=>!!xC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lx="@firebase/app",_C="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new N_("@firebase/app"),oU="@firebase/app-compat",aU="@firebase/analytics-compat",lU="@firebase/analytics",uU="@firebase/app-check-compat",cU="@firebase/app-check",dU="@firebase/auth",fU="@firebase/auth-compat",hU="@firebase/database",pU="@firebase/database-compat",mU="@firebase/functions",gU="@firebase/functions-compat",vU="@firebase/installations",yU="@firebase/installations-compat",wU="@firebase/messaging",bU="@firebase/messaging-compat",xU="@firebase/performance",_U="@firebase/performance-compat",SU="@firebase/remote-config",EU="@firebase/remote-config-compat",kU="@firebase/storage",TU="@firebase/storage-compat",CU="@firebase/firestore",NU="@firebase/firestore-compat",OU="firebase",AU="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="[DEFAULT]",DU={[lx]:"fire-core",[oU]:"fire-core-compat",[lU]:"fire-analytics",[aU]:"fire-analytics-compat",[cU]:"fire-app-check",[uU]:"fire-app-check-compat",[dU]:"fire-auth",[fU]:"fire-auth-compat",[hU]:"fire-rtdb",[pU]:"fire-rtdb-compat",[mU]:"fire-fn",[gU]:"fire-fn-compat",[vU]:"fire-iid",[yU]:"fire-iid-compat",[wU]:"fire-fcm",[bU]:"fire-fcm-compat",[xU]:"fire-perf",[_U]:"fire-perf-compat",[SU]:"fire-rc",[EU]:"fire-rc-compat",[kU]:"fire-gcs",[TU]:"fire-gcs-compat",[CU]:"fire-fst",[NU]:"fire-fst-compat","fire-js":"fire-js",[OU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,cx=new Map;function IU(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ni(t){const e=t.name;if(cx.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;cx.set(e,t);for(const n of em.values())IU(n,t);return!0}function la(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qo=new gl("app","Firebase",RU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=AU;function nP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ux,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=KR()),!n)throw Qo.create("no-options");const s=em.get(i);if(s){if(Zp(n,s.options)&&Zp(r,s.config))return s;throw Qo.create("duplicate-app",{appName:i})}const o=new V9(i);for(const l of cx.values())o.addComponent(l);const a=new PU(n,r,o);return em.set(i,a),a}function sf(t=ux){const e=em.get(t);if(!e&&t===ux&&KR())return nP();if(!e)throw Qo.create("no-app",{appName:t});return e}function _r(t,e,n){var r;let i=(r=DU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(a.join(" "));return}Ni(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="firebase-heartbeat-database",LU=1,Nd="firebase-heartbeat-store";let I0=null;function rP(){return I0||(I0=tU(MU,LU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nd)}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),I0}async function jU(t){try{return await(await rP()).transaction(Nd).objectStore(Nd).get(iP(t))}catch(e){if(e instanceof Oi)Qa.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}async function SC(t,e){try{const r=(await rP()).transaction(Nd,"readwrite");await r.objectStore(Nd).put(e,iP(t)),await r.done}catch(n){if(n instanceof Oi)Qa.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qa.warn(r.message)}}}function iP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=1024,$U=30*24*60*60*1e3;class BU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=EC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=$U}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EC(),{heartbeatsToSend:n,unsentEntries:r}=UU(this._heartbeatsCache.heartbeats),i=Jp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function EC(){return new Date().toISOString().substring(0,10)}function UU(t,e=FU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kC(t){return Jp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){Ni(new hi("platform-logger",e=>new iU(e),"PRIVATE")),Ni(new hi("heartbeat",e=>new BU(e),"PRIVATE")),_r(lx,_C,t),_r(lx,_C,"esm2017"),_r("fire-js","")}qU("");var HU="firebase",zU="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(HU,zU,"app");function A_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WU=sP,oP=new gl("auth","Firebase",sP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new N_("@firebase/auth");function YU(t,...e){tm.logLevel<=Nt.WARN&&tm.warn(`Auth (${vl}): ${t}`,...e)}function Cp(t,...e){tm.logLevel<=Nt.ERROR&&tm.error(`Auth (${vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,...e){throw D_(t,...e)}function bs(t,...e){return D_(t,...e)}function GU(t,e,n){const r=Object.assign(Object.assign({},WU()),{[e]:n});return new gl("auth","Firebase",r).create(e,{appName:t.name})}function D_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oP.create(t,...e)}function lt(t,e,...n){if(!t)throw D_(e,...n)}function Hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function eo(t,e){t||Hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KU(){return TC()==="http:"||TC()==="https:"}function TC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KU()||N9()||"connection"in navigator)?navigator.onLine:!0}function XU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=T9()||O9()}get(){return QU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=new of(3e4,6e4);function yl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ua(t,e,n,r,i={}){return lP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=rf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),aP.fetch()(uP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function lP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JU),e);try{const i=new eV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Kh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw GU(t,c,h);Wi(t,c)}}catch(i){if(i instanceof Oi)throw i;Wi(t,"network-request-failed",{message:String(i)})}}async function af(t,e,n,r,i={}){const s=await ua(t,e,n,r,i);return"mfaPendingCredential"in s&&Wi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?I_(t.config,i):`${t.config.apiScheme}://${i}`}class eV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bs(this.auth,"network-request-failed")),ZU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function nV(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rV(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=R_(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gd(R0(i.auth_time)),issuedAtTime:gd(R0(i.iat)),expirationTime:gd(R0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function R0(t){return Number(t)*1e3}function R_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=YR(n);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iV(t){const e=R_(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oi&&sV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xa(t,nV(n,{idToken:r}));lt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uV(s.providerUserInfo):[],a=lV(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?h:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function aV(t){const e=Rt(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uV(t){return t.map(e=>{var{providerId:n}=e,r=A_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){const n=await lP(t,{},async()=>{const r=rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return lt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Od;return r&&(lt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Od,this.toJSON())}_performRefresh(){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=A_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rV(this,e)}reload(){return aV(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xa(this,tV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:S,isAnonymous:k,providerData:N,stsTokenManager:O}=n;lt(E&&O,e,"internal-error");const C=Od.fromJSON(this.name,O);lt(typeof E=="string",e,"internal-error"),Ro(f,e.name),Ro(p,e.name),lt(typeof S=="boolean",e,"internal-error"),lt(typeof k=="boolean",e,"internal-error"),Ro(m,e.name),Ro(g,e.name),Ro(y,e.name),Ro(w,e.name),Ro(b,e.name),Ro(_,e.name);const I=new Va({uid:E,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:C,createdAt:b,lastLoginAt:_});return N&&Array.isArray(N)&&(I.providerData=N.map(R=>Object.assign({},R))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Od;i.updateFromServerResponse(n);const s=new Va({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Map;function zs(t){eo(t instanceof Function,"Expected a class definition");let e=CC.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dP.type="NONE";const NC=dP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,s),this.fullPersistenceKey=Np("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Va._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(zs(NC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||zs(NC);const o=Np(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const c=await h._get(o);if(c){const f=Va._fromJSON(e,c);h!==s&&(a=f),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new au(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gP(e))return"Blackberry";if(vP(e))return"Webos";if(P_(e))return"Safari";if((e.includes("chrome/")||hP(e))&&!e.includes("edge/"))return"Chrome";if(mP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fP(t=Tr()){return/firefox\//i.test(t)}function P_(t=Tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hP(t=Tr()){return/crios\//i.test(t)}function pP(t=Tr()){return/iemobile/i.test(t)}function mP(t=Tr()){return/android/i.test(t)}function gP(t=Tr()){return/blackberry/i.test(t)}function vP(t=Tr()){return/webos/i.test(t)}function fg(t=Tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dV(t=Tr()){var e;return fg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fV(){return A9()&&document.documentMode===10}function yP(t=Tr()){return fg(t)||mP(t)||vP(t)||gP(t)||/windows phone/i.test(t)||pP(t)}function hV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e=[]){let n;switch(t){case"Browser":n=OC(Tr());break;case"Worker":n=`${OC(Tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${r}`}async function bP(t,e){return ua(t,"GET","/v2/recaptchaConfig",yl(t,e))}function AC(t){return t!==void 0&&t.enterprise!==void 0}class xP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _P(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pV().appendChild(r)})}function mV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const gV="https://www.google.com/recaptcha/enterprise.js?render=",vV="recaptcha-enterprise",yV="NO_RECAPTCHA";class SP{constructor(e){this.type=vV,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{bP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new xP(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;AC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(yV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&AC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}_P(gV+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function xu(t,e,n,r=!1){const i=new SP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DC(this),this.idTokenSubscription=new DC(this),this.beforeStateQueue=new wV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Rt(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}async initializeRecaptchaConfig(){const e=await bP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new xP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new SP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zs(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return lt(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return Rt(t)}class DC{constructor(e){this.auth=e,this.observer=null,this.addObserver=L9(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e){const n=la(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zp(s,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function _V(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SV(t,e,n){const r=ca(t);lt(r._canInitEmulator,r,"emulator-config-failed"),lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=EP(e),{host:o,port:a}=EV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),kV()}function EP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EV(t){const e=EP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:IC(o)}}}function IC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function kP(t,e){return ua(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(t,e){return af(t,"POST","/v1/accounts:signInWithPassword",yl(t,e))}async function TV(t,e){return ua(t,"POST","/v1/accounts:sendOobCode",yl(t,e))}async function M0(t,e){return TV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}async function NV(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends M_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await xu(e,r,"signInWithPassword");return P0(e,i)}else return P0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await xu(e,r,"signInWithPassword");return P0(e,s)}else return Promise.reject(i)});case"emailLink":return CV(e,{email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return kP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return NV(e,{idToken:n,email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e){return af(t,"POST","/v1/accounts:signInWithIdp",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="http://localhost";class Ja extends M_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=A_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ja(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lu(e,n)}buildRequest(){const e={requestUri:OV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DV(t){const e=nd(rd(t)).link,n=e?nd(rd(e)).deep_link_id:null,r=nd(rd(t)).deep_link_id;return(r?nd(rd(r)).link:null)||r||n||e||t}class L_{constructor(e){var n,r,i,s,o,a;const l=nd(rd(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=AV((i=l.mode)!==null&&i!==void 0?i:null);lt(h&&c&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=DV(e);try{return new L_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=L_.parseLink(n);return lt(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends TP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends lf{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends lf{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.GITHUB_SIGN_IN_METHOD="github.com";Bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends lf{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t,e){return af(t,"POST","/v1/accounts:signUp",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Va._fromIdTokenResponse(e,r,i),o=RC(r);return new to({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=RC(r);return new to({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function RC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t){var e;const n=ca(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new to({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Op(n,{returnSecureToken:!0}),i=await to._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Oi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rm(e,n,r,i)}}function CP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,s,e,r):s})}async function RV(t,e,n=!1){const r=await Xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Xa(t,CP(r,i,e,t),n);lt(s.idToken,r,"internal-error");const o=R_(s.idToken);lt(o,r,"internal-error");const{sub:a}=o;return lt(t.uid===a,r,"user-mismatch"),to._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e,n=!1){const r="signIn",i=await CP(t,r,e),s=await to._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PV(t,e){return OP(ca(t),e)}async function AP(t,e){return NP(Rt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e,n){var r;const i=ca(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await xu(i,s,"getOobCode",!0);await M0(i,o)}else await M0(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await xu(i,s,"getOobCode",!0);await M0(i,a)}else return Promise.reject(o)})}async function LV(t,e,n){var r;const i=ca(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await xu(i,s,"signUpPassword");o=Op(i,h)}else o=Op(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await xu(i,s,"signUpPassword");return Op(i,c)}else return Promise.reject(h)});const a=await o.catch(h=>Promise.reject(h)),l=await to._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function jV(t,e,n){return PV(Rt(t),da.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return ua(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Rt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xa(r,FV(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $V(t,e){return BV(Rt(t),null,e)}async function BV(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Xa(t,kP(r,s));await t._updateTokensIfNecessary(o,!0)}function UV(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function VV(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function hg(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}async function qV(t){return Rt(t).delete()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){const t=Tr();return P_(t)||fg(t)}const zV=1e3,WV=10;class IP extends DP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HV()&&hV(),this.fallbackToPolling=yP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);fV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IP.type="LOCAL";const YV=IP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP extends DP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RP.type="SESSION";const PP=RP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await GV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=j_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function QV(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function XV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZV(){return MP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firebaseLocalStorageDb",e8=1,sm="firebaseLocalStorage",jP="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mg(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function t8(){const t=indexedDB.deleteDatabase(LP);return new uf(t).toPromise()}function fx(){const t=indexedDB.open(LP,e8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sm,{keyPath:jP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),await t8(),e(await fx()))})})}async function MC(t,e,n){const r=mg(t,!0).put({[jP]:e,value:n});return new uf(r).toPromise()}async function n8(t,e){const n=mg(t,!1).get(e),r=await new uf(n).toPromise();return r===void 0?null:r.value}function LC(t,e){const n=mg(t,!0).delete(e);return new uf(n).toPromise()}const r8=800,i8=3;class FP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>i8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance(ZV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XV(),!this.activeServiceWorker)return;this.sender=new KV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fx();return await MC(e,im,"1"),await LC(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>n8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mg(i,!1).getAll();return new uf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FP.type="LOCAL";const s8=FP;new of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e){return e?zs(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends M_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a8(t){return OP(t.auth,new F_(t),t.bypassAuthState)}function l8(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),NP(n,new F_(t),t.bypassAuthState)}async function u8(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),RV(n,new F_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a8;case"linkViaPopup":case"linkViaRedirect":return u8;case"reauthViaPopup":case"reauthViaRedirect":return l8;default:Wi(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new of(2e3,1e4);class iu extends $P{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=j_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c8.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="pendingRedirect",Ap=new Map;class f8 extends $P{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ap.get(this.auth._key());if(!e){try{const r=await h8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ap.set(this.auth._key(),e)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h8(t,e){const n=g8(e),r=m8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function p8(t,e){Ap.set(t._key(),e)}function m8(t){return zs(t._redirectPersistence)}function g8(t){return Np(d8,t.config.apiKey,t.name)}async function v8(t,e,n=!1){const r=ca(t),i=o8(r,e),o=await new f8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=10*60*1e3;class w8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y8&&this.cachedEventUids.clear(),this.cachedEventUids.has(jC(e))}saveEventToCache(e){this.cachedEventUids.add(jC(e)),this.lastProcessedEventTime=Date.now()}}function jC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S8=/^https?/;async function E8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x8(t);for(const n of e)try{if(k8(n))return}catch{}Wi(t,"unauthorized-domain")}function k8(t){const e=dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!S8.test(n))return!1;if(_8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new of(3e4,6e4);function FC(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C8(t){return new Promise((e,n)=>{var r,i,s;function o(){FC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FC(),n(bs(t,"network-request-failed"))},timeout:T8.get()})}if(!((i=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xs().gapi)===null||s===void 0)&&s.load)o();else{const a=mV("iframefcb");return xs()[a]=()=>{gapi.load?o():n(bs(t,"network-request-failed"))},_P(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dp=null,e})}let Dp=null;function N8(t){return Dp=Dp||C8(t),Dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new of(5e3,15e3),A8="__/auth/iframe",D8="emulator/auth/iframe",I8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P8(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I_(e,D8):`https://${t.config.authDomain}/${A8}`,r={apiKey:e.apiKey,appName:t.name,v:vl},i=R8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rf(r).slice(1)}`}async function M8(t){const e=await N8(t),n=xs().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:P8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bs(t,"network-request-failed"),a=xs().setTimeout(()=>{s(o)},O8.get());function l(){xs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j8=500,F8=600,$8="_blank",B8="http://localhost";class $C{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U8(t,e,n,r=j8,i=F8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},L8),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Tr().toLowerCase();n&&(a=hP(h)?$8:n),fP(h)&&(e=e||B8,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(dV(h)&&a!=="_self")return V8(e||"",a),new $C(null);const f=window.open(e||"",a,c);lt(f,t,"popup-blocked");try{f.focus()}catch{}return new $C(f)}function V8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="__/auth/handler",H8="emulator/auth/handler",z8=encodeURIComponent("fac");async function BC(t,e,n,r,i,s){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vl,eventId:i};if(e instanceof TP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",M9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof lf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),h=l?`#${z8}=${encodeURIComponent(l)}`:"";return`${W8(t)}?${rf(a).slice(1)}${h}`}function W8({config:t}){return t.emulator?I_(t,H8):`https://${t.authDomain}/${q8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="webStorageSupport";class Y8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PP,this._completeRedirectFn=v8,this._overrideRedirectResult=p8}async _openPopup(e,n,r,i){var s;eo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await BC(e,n,r,dx(),i);return U8(e,o,j_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await BC(e,n,r,dx(),i);return QV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(eo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await M8(e),r=new w8(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L0,{type:L0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[L0];o!==void 0&&n(!!o),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yP()||P_()||fg()}}const G8=Y8;var UC="@firebase/auth",VC="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function X8(t){Ni(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wP(t)},h=new bV(r,i,s,l);return _V(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ni(new hi("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new K8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(UC,VC,Q8(t)),_r(UC,VC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=5*60,Z8=QR("authIdTokenMaxAge")||J8;let qC=null;const eq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z8)return;const i=n==null?void 0:n.token;qC!==i&&(qC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gg(t=sf()){const e=la(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xV(t,{popupRedirectResolver:G8,persistence:[s8,YV,PP]}),r=QR("authTokenSyncURL");if(r){const s=eq(r);VV(n,s,()=>s(n.currentUser)),UV(n,o=>s(o))}const i=GR("auth");return i&&SV(n,`http://${i}`),n}X8("Browser");var tq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne,$_=$_||{},ct=tq||self;function vg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function yg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function nq(t,e,n){return t.call.apply(t.bind,arguments)}function rq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sr=nq:Sr=rq,Sr.apply(null,arguments)}function Qh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fa(){this.s=this.s,this.o=this.o}var iq=0;fa.prototype.s=!1;fa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),iq!=0)};fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function B_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function HC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Er(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var sq=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ct.addEventListener("test",()=>{},e),ct.removeEventListener("test",()=>{},e)}catch{}return t}();function Dd(t){return/^[\s\xa0]*$/.test(t)}function wg(){var t=ct.navigator;return t&&(t=t.userAgent)?t:""}function cs(t){return wg().indexOf(t)!=-1}function U_(t){return U_[" "](t),t}U_[" "]=function(){};function oq(t,e){var n=Zq;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var aq=cs("Opera"),_u=cs("Trident")||cs("MSIE"),VP=cs("Edge"),hx=VP||_u,qP=cs("Gecko")&&!(wg().toLowerCase().indexOf("webkit")!=-1&&!cs("Edge"))&&!(cs("Trident")||cs("MSIE"))&&!cs("Edge"),lq=wg().toLowerCase().indexOf("webkit")!=-1&&!cs("Edge");function HP(){var t=ct.document;return t?t.documentMode:void 0}var px;e:{var j0="",F0=function(){var t=wg();if(qP)return/rv:([^\);]+)(\)|;)/.exec(t);if(VP)return/Edge\/([\d\.]+)/.exec(t);if(_u)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lq)return/WebKit\/(\S+)/.exec(t);if(aq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(F0&&(j0=F0?F0[1]:""),_u){var $0=HP();if($0!=null&&$0>parseFloat(j0)){px=String($0);break e}}px=j0}var mx;if(ct.document&&_u){var zC=HP();mx=zC||parseInt(px,10)||void 0}else mx=void 0;var uq=mx;function Id(t,e){if(Er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qP){e:{try{U_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Id.$.h.call(this)}}Qn(Id,Er);var cq={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bg="closure_listenable_"+(1e6*Math.random()|0),dq=0;function fq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++dq,this.fa=this.ia=!1}function xg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function V_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zP(t){const e={};for(const n in t)e[n]=t[n];return e}const WC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<WC.length;s++)n=WC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _g(t){this.src=t,this.g={},this.h=0}_g.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=vx(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new fq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function gx(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=UP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vx(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var q_="closure_lm_"+(1e6*Math.random()|0),B0={};function YP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)YP(t,e[s],n,r,i);return null}return n=QP(n),t&&t[bg]?t.O(e,n,yg(r)?!!r.capture:!1,i):pq(t,e,n,!1,r,i)}function pq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yg(i)?!!i.capture:!!i,a=z_(t);if(a||(t[q_]=a=new _g(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=mq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(KP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mq(){function t(n){return e.call(t.src,t.listener,n)}const e=gq;return t}function GP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)GP(t,e[s],n,r,i);else r=yg(r)?!!r.capture:!!r,n=QP(n),t&&t[bg]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=vx(s,n,r,i),-1<n&&(xg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=z_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vx(e,n,r,i)),(n=-1<t?e[t]:null)&&H_(n))}function H_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bg])gx(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(KP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=z_(e))?(gx(n,t),n.h==0&&(n.src=null,e[q_]=null)):xg(t)}}}function KP(t){return t in B0?B0[t]:B0[t]="on"+t}function gq(t,e){if(t.fa)t=!0;else{e=new Id(e,this);var n=t.listener,r=t.la||t.src;t.ia&&H_(t),t=n.call(r,e)}return t}function z_(t){return t=t[q_],t instanceof _g?t:null}var U0="__closure_events_fn_"+(1e9*Math.random()>>>0);function QP(t){return typeof t=="function"?t:(t[U0]||(t[U0]=function(e){return t.handleEvent(e)}),t[U0])}function Kn(){fa.call(this),this.i=new _g(this),this.S=this,this.J=null}Qn(Kn,fa);Kn.prototype[bg]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){GP(this,t,e,n,r)};function ar(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Er(e,t);else if(e instanceof Er)e.target=e.target||t;else{var i=e;e=new Er(r,t),WP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Xh(o,r,!0,e)&&i}if(o=e.g=t,i=Xh(o,r,!0,e)&&i,i=Xh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Xh(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xg(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Xh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&gx(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var W_=ct.JSON.stringify;class vq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function yq(){var t=Y_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class wq{constructor(){this.h=this.g=null}add(e,n){const r=XP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XP=new vq(()=>new bq,t=>t.reset());class bq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _q(t){ct.setTimeout(()=>{throw t},0)}let Rd,Pd=!1,Y_=new wq,JP=()=>{const t=ct.Promise.resolve(void 0);Rd=()=>{t.then(Sq)}};var Sq=()=>{for(var t;t=yq();){try{t.h.call(t.g)}catch(n){_q(n)}var e=XP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pd=!1};function Sg(t,e){Kn.call(this),this.h=t||1,this.g=e||ct,this.j=Sr(this.qb,this),this.l=Date.now()}Qn(Sg,Kn);Ne=Sg.prototype;Ne.ga=!1;Ne.T=null;Ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ar(this,"tick"),this.ga&&(G_(this),this.start()))}};Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function G_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ne.N=function(){Sg.$.N.call(this),G_(this),delete this.g};function K_(t,e,n){if(typeof t=="function")n&&(t=Sr(t,n));else if(t&&typeof t.handleEvent=="function")t=Sr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ct.setTimeout(t,e||0)}function ZP(t){t.g=K_(()=>{t.g=null,t.i&&(t.i=!1,ZP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Eq extends fa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZP(this)}N(){super.N(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Md(t){fa.call(this),this.h=t,this.g={}}Qn(Md,fa);var YC=[];function eM(t,e,n,r){Array.isArray(n)||(n&&(YC[0]=n.toString()),n=YC);for(var i=0;i<n.length;i++){var s=YP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tM(t){V_(t.g,function(e,n){this.g.hasOwnProperty(n)&&H_(e)},t),t.g={}}Md.prototype.N=function(){Md.$.N.call(this),tM(this)};Md.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eg(){this.g=!0}Eg.prototype.Ea=function(){this.g=!1};function kq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+h+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Tq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function su(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Nq(t,n)+(r?" "+r:"")})}function Cq(t,e){t.info(function(){return"TIMEOUT: "+e})}Eg.prototype.info=function(){};function Nq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return W_(n)}catch{return e}}var wl={},GC=null;function kg(){return GC=GC||new Kn}wl.Ta="serverreachability";function nM(t){Er.call(this,wl.Ta,t)}Qn(nM,Er);function Ld(t){const e=kg();ar(e,new nM(e))}wl.STAT_EVENT="statevent";function rM(t,e){Er.call(this,wl.STAT_EVENT,t),this.stat=e}Qn(rM,Er);function Fr(t){const e=kg();ar(e,new rM(e,t))}wl.Ua="timingevent";function iM(t,e){Er.call(this,wl.Ua,t),this.size=e}Qn(iM,Er);function cf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){t()},e)}var Tg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q_(){}Q_.prototype.h=null;function KC(t){return t.h||(t.h=t.i())}function oM(){}var df={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function X_(){Er.call(this,"d")}Qn(X_,Er);function J_(){Er.call(this,"c")}Qn(J_,Er);var yx;function Cg(){}Qn(Cg,Q_);Cg.prototype.g=function(){return new XMLHttpRequest};Cg.prototype.i=function(){return{}};yx=new Cg;function ff(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Md(this),this.P=Oq,t=hx?125:void 0,this.V=new Sg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aM}function aM(){this.i=null,this.g="",this.h=!1}var Oq=45e3,wx={},om={};Ne=ff.prototype;Ne.setTimeout=function(t){this.P=t};function bx(t,e,n){t.L=1,t.v=Og(no(e)),t.s=n,t.S=!0,lM(t,null)}function lM(t,e){t.G=Date.now(),hf(t),t.A=no(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),gM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new aM,t.g=jM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Eq(Sr(t.Pa,t,t.g),t.O)),eM(t.U,t.g,"readystatechange",t.nb),e=t.I?zP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ld(),kq(t.j,t.u,t.A,t.m,t.W,t.s)}Ne.nb=function(t){t=t.target;const e=this.M;e&&ms(t)==3?e.l():this.Pa(t)};Ne.Pa=function(t){try{if(t==this.g)e:{const c=ms(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||hx||this.g&&(this.h.h||this.g.ja()||ZC(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Ld(3):Ld(2)),Ng(this);var n=this.g.da();this.ca=n;t:if(uM(this)){var r=ZC(this.g);t="";var i=r.length,s=ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){La(this),vd(this);var o="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Tq(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dd(a)){var h=a;break t}}h=null}if(n=h)su(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xx(this,n);else{this.i=!1,this.o=3,Fr(12),La(this),vd(this);break e}}this.S?(cM(this,c,o),hx&&this.i&&c==3&&(eM(this.U,this.V,"tick",this.mb),this.V.start())):(su(this.j,this.m,o,null),xx(this,o)),c==4&&La(this),this.i&&!this.J&&(c==4?RM(this.l,this):(this.i=!1,hf(this)))}else Qq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),La(this),vd(this)}}}catch{}finally{}};function uM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function cM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Aq(t,n),i==om){e==4&&(t.o=4,Fr(14),r=!1),su(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wx){t.o=4,Fr(15),su(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else su(t.j,t.m,i,null),xx(t,i);uM(t)&&i!=om&&i!=wx&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iS(e),e.M=!0,Fr(11))):(su(t.j,t.m,n,"[Invalid Chunked Response]"),La(t),vd(t))}Ne.mb=function(){if(this.g){var t=ms(this.g),e=this.g.ja();this.C<e.length&&(Ng(this),cM(this,t,e),this.i&&t!=4&&hf(this))}};function Aq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?om:(n=Number(e.substring(n,r)),isNaN(n)?wx:(r+=1,r+n>e.length?om:(e=e.slice(r,r+n),t.C=r+n,e)))}Ne.cancel=function(){this.J=!0,La(this)};function hf(t){t.Y=Date.now()+t.P,dM(t,t.P)}function dM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=cf(Sr(t.lb,t),e)}function Ng(t){t.B&&(ct.clearTimeout(t.B),t.B=null)}Ne.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Cq(this.j,this.A),this.L!=2&&(Ld(),Fr(17)),La(this),this.o=2,vd(this)):dM(this,this.Y-t)};function vd(t){t.l.H==0||t.J||RM(t.l,t)}function La(t){Ng(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,G_(t.V),tM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xx(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_x(n.i,t))){if(!t.K&&_x(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)um(n),Ig(n);else break e;rS(n),Fr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cf(Sr(n.ib,n),6e3));if(1>=wM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ja(n,11)}else if((t.K||n.g==t)&&um(n),!Dd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const c=h[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=h[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=h[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Z_(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,tn(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=LM(r,r.J?r.pa:null,r.Y),o.K){bM(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ng(a),hf(a)),r.g=o}else DM(r);0<n.j.length&&Rg(n)}else h[0]!="stop"&&h[0]!="close"||ja(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?ja(n,7):nS(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Ld(4)}catch{}}function Dq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Iq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function fM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Iq(t),r=Dq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var hM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qa){this.h=t.h,am(this,t.j),this.s=t.s,this.g=t.g,lm(this,t.m),this.l=t.l;var e=t.i,n=new jd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QC(this,n),this.o=t.o}else t&&(e=String(t).match(hM))?(this.h=!1,am(this,e[1]||"",!0),this.s=id(e[2]||""),this.g=id(e[3]||"",!0),lm(this,e[4]),this.l=id(e[5]||"",!0),QC(this,e[6]||"",!0),this.o=id(e[7]||"")):(this.h=!1,this.i=new jd(null,this.h))}qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sd(e,XC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sd(e,XC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sd(n,n.charAt(0)=="/"?Lq:Mq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sd(n,Fq)),t.join("")};function no(t){return new qa(t)}function am(t,e,n){t.j=n?id(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QC(t,e,n){e instanceof jd?(t.i=e,$q(t.i,t.h)):(n||(e=sd(e,jq)),t.i=new jd(e,t.h))}function tn(t,e,n){t.i.set(e,n)}function Og(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Pq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XC=/[#\/\?@]/g,Mq=/[#\?:]/g,Lq=/[#\?]/g,jq=/[#\?@]/g,Fq=/#/g;function jd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Map,t.h=0,t.i&&Rq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ne=jd.prototype;Ne.add=function(t,e){ha(this),this.i=null,t=Hu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pM(t,e){ha(t),e=Hu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mM(t,e){return ha(t),e=Hu(t,e),t.g.has(e)}Ne.forEach=function(t,e){ha(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ne.ta=function(){ha(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ne.Z=function(t){ha(this);let e=[];if(typeof t=="string")mM(this,t)&&(e=e.concat(this.g.get(Hu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ne.set=function(t,e){return ha(this),this.i=null,t=Hu(this,t),mM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gM(t,e,n){pM(t,e),0<n.length&&(t.i=null,t.g.set(Hu(t,e),B_(n)),t.h+=n.length)}Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Hu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $q(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pM(this,r),gM(this,i,n))},t)),t.j=e}var Bq=class{constructor(t,e){this.g=t,this.map=e}};function vM(t){this.l=t||Uq,ct.PerformanceNavigationTiming?(t=ct.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ct.g&&ct.g.Ka&&ct.g.Ka()&&ct.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Uq=10;function yM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wM(t){return t.h?1:t.g?t.g.size:0}function _x(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Z_(t,e){t.g?t.g.add(e):t.h=e}function bM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vM.prototype.cancel=function(){if(this.i=xM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function xM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return B_(t.i)}var Vq=class{stringify(t){return ct.JSON.stringify(t,void 0)}parse(t){return ct.JSON.parse(t,void 0)}};function qq(){this.g=new Vq}function Hq(t,e,n){const r=n||"";try{fM(t,function(i,s){let o=i;yg(i)&&(o=W_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zq(t,e){const n=new Eg;if(ct.Image){const r=new Image;r.onload=Qh(Jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qh(Jh,n,r,"TestLoadImage: error",!1,e),r.onabort=Qh(Jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qh(Jh,n,r,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pf(t){this.l=t.fc||null,this.j=t.ob||!1}Qn(pf,Q_);pf.prototype.g=function(){return new Ag(this.l,this.j)};pf.prototype.i=function(t){return function(){return t}}({});function Ag(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=eS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qn(Ag,Kn);var eS=0;Ne=Ag.prototype;Ne.open=function(t,e){if(this.readyState!=eS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fd(this)};Ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ct).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mf(this)),this.readyState=eS};Ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fd(this)),this.g&&(this.readyState=3,Fd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ct.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_M(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _M(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mf(this):Fd(this),this.readyState==3&&_M(this)}};Ne.Za=function(t){this.g&&(this.response=this.responseText=t,mf(this))};Ne.Ya=function(t){this.g&&(this.response=t,mf(this))};Ne.ka=function(){this.g&&mf(this)};function mf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fd(t)}Ne.setRequestHeader=function(t,e){this.v.append(t,e)};Ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ag.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Wq=ct.JSON.parse;function xn(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SM,this.L=this.M=!1}Qn(xn,Kn);var SM="",Yq=/^https?$/i,Gq=["POST","PUT"];Ne=xn.prototype;Ne.Oa=function(t){this.M=t};Ne.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yx.g(),this.C=this.u?KC(this.u):KC(yx),this.g.onreadystatechange=Sr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){JC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ct.FormData&&t instanceof ct.FormData,!(0<=UP(Gq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TM(this),0<this.B&&((this.L=Kq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.ua,this)):this.A=K_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){JC(this,s)}};function Kq(t){return _u&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ne.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))};function JC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,EM(t),Dg(t)}function EM(t){t.F||(t.F=!0,ar(t,"complete"),ar(t,"error"))}Ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ar(this,"complete"),ar(this,"abort"),Dg(this))};Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dg(this,!0)),xn.$.N.call(this)};Ne.La=function(){this.s||(this.G||this.v||this.l?kM(this):this.kb())};Ne.kb=function(){kM(this)};function kM(t){if(t.h&&typeof $_<"u"&&(!t.C[1]||ms(t)!=4||t.da()!=2)){if(t.v&&ms(t)==4)K_(t.La,0,t);else if(ar(t,"readystatechange"),ms(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(hM)[1]||null;!i&&ct.self&&ct.self.location&&(i=ct.self.location.protocol.slice(0,-1)),r=!Yq.test(i?i.toLowerCase():"")}n=r}if(n)ar(t,"complete"),ar(t,"success");else{t.m=6;try{var s=2<ms(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",EM(t)}}finally{Dg(t)}}}}function Dg(t,e){if(t.g){TM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ar(t,"ready");try{n.onreadystatechange=r}catch{}}}function TM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ct.clearTimeout(t.A),t.A=null)}Ne.isActive=function(){return!!this.g};function ms(t){return t.g?t.g.readyState:0}Ne.da=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}};Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Wq(e)}};function ZC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case SM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Qq(t){const e={};t=(t.g&&2<=ms(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Dd(t[r]))continue;var n=xq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}hq(e,function(r){return r.join(", ")})}Ne.Ia=function(){return this.m};Ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function CM(t){let e="";return V_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tn(t,e,n))}function Vc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NM(t){this.Ga=0,this.j=[],this.l=new Eg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vc("baseRetryDelayMs",5e3,t),this.hb=Vc("retryDelaySeedMs",1e4,t),this.eb=Vc("forwardChannelMaxRetries",2,t),this.xa=Vc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vM(t&&t.concurrentRequestLimit),this.Ja=new qq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ne=NM.prototype;Ne.ra=8;Ne.H=1;function nS(t){if(OM(t),t.H==3){var e=t.W++,n=no(t.I);if(tn(n,"SID",t.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),gf(t,n),e=new ff(t,t.l,e),e.L=2,e.v=Og(no(n)),n=!1,ct.navigator&&ct.navigator.sendBeacon)try{n=ct.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ct.Image&&(new Image().src=e.v,n=!0),n||(e.g=jM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),hf(e)}MM(t)}function Ig(t){t.g&&(iS(t),t.g.cancel(),t.g=null)}function OM(t){Ig(t),t.u&&(ct.clearTimeout(t.u),t.u=null),um(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ct.clearTimeout(t.m),t.m=null)}function Rg(t){if(!yM(t.i)&&!t.m){t.m=!0;var e=t.Na;Rd||JP(),Pd||(Rd(),Pd=!0),Y_.add(e,t),t.C=0}}function Xq(t,e){return wM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=cf(Sr(t.Na,t,e),PM(t,t.C)),t.C++,!0)}Ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ff(this,this.l,t);let s=this.s;if(this.U&&(s?(s=zP(s),WP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AM(this,i,e),n=no(this.I),tn(n,"RID",t),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),gf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(CM(s)))+"&"+e:this.o&&tS(n,this.o,s)),Z_(this.i,i),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),i.aa=!0,bx(i,n,null)):bx(i,n,e),this.H=2}}else this.H==3&&(t?eN(this,t):this.j.length==0||yM(this.i)||eN(this))};function eN(t,e){var n;e?n=e.m:n=t.W++;const r=no(t.I);tn(r,"SID",t.K),tn(r,"RID",n),tn(r,"AID",t.V),gf(t,r),t.o&&t.s&&tS(r,t.o,t.s),n=new ff(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Z_(t.i,n),bx(n,r,e)}function gf(t,e){t.na&&V_(t.na,function(n,r){tn(e,r,n)}),t.h&&fM({},function(n,r){tn(e,r,n)})}function AM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Sr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let h=i[l].g;const c=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),a=!1;else try{Hq(c,o,"req"+h+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function DM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rd||JP(),Pd||(Rd(),Pd=!0),Y_.add(e,t),t.A=0}}function rS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=cf(Sr(t.Ma,t),PM(t,t.A)),t.A++,!0)}Ne.Ma=function(){if(this.u=null,IM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cf(Sr(this.jb,this),t)}};Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fr(10),Ig(this),IM(this))};function iS(t){t.B!=null&&(ct.clearTimeout(t.B),t.B=null)}function IM(t){t.g=new ff(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=no(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),gf(t,e),t.o&&t.s&&tS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Og(no(e)),n.s=null,n.S=!0,lM(n,t)}Ne.ib=function(){this.v!=null&&(this.v=null,Ig(this),rS(this),Fr(19))};function um(t){t.v!=null&&(ct.clearTimeout(t.v),t.v=null)}function RM(t,e){var n=null;if(t.g==e){um(t),iS(t),t.g=null;var r=2}else if(_x(t.i,e))n=e.F,bM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=kg(),ar(r,new iM(r,n)),Rg(t)}else DM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Xq(t,e)||r==2&&rS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ja(t,5);break;case 4:ja(t,10);break;case 3:ja(t,6);break;default:ja(t,2)}}}function PM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ja(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Sr(t.pb,t);n||(n=new qa("//www.google.com/images/cleardot.gif"),ct.location&&ct.location.protocol=="http"||am(n,"https"),Og(n)),zq(n.toString(),r)}else Fr(2);t.H=0,t.h&&t.h.za(e),MM(t),OM(t)}Ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Fr(2)):(this.l.info("Failed to ping google.com"),Fr(1))};function MM(t){if(t.H=0,t.ma=[],t.h){const e=xM(t.i);(e.length!=0||t.j.length!=0)&&(HC(t.ma,e),HC(t.ma,t.j),t.i.i.length=0,B_(t.j),t.j.length=0),t.h.ya()}}function LM(t,e,n){var r=n instanceof qa?no(n):new qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),lm(r,r.m);else{var i=ct.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qa(null);r&&am(s,r),e&&(s.g=e),i&&lm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&tn(r,n,e),tn(r,"VER",t.ra),gf(t,r),r}function jM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xn(new pf({ob:!0})):new xn(t.va),e.Oa(t.J),e}Ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function FM(){}Ne=FM.prototype;Ne.Ba=function(){};Ne.Aa=function(){};Ne.za=function(){};Ne.ya=function(){};Ne.isActive=function(){return!0};Ne.Va=function(){};function cm(){if(_u&&!(10<=Number(uq)))throw Error("Environmental error: no available transport.")}cm.prototype.g=function(t,e){return new pi(t,e)};function pi(t,e){Kn.call(this),this.g=new NM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Dd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zu(this)}Qn(pi,Kn);pi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=LM(t,null,t.Y),Rg(t)};pi.prototype.close=function(){nS(this.g)};pi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=W_(t),t=n);e.j.push(new Bq(e.fb++,t)),e.H==3&&Rg(e)};pi.prototype.N=function(){this.g.h=null,delete this.j,nS(this.g),delete this.g,pi.$.N.call(this)};function $M(t){X_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qn($M,X_);function BM(){J_.call(this),this.status=1}Qn(BM,J_);function zu(t){this.g=t}Qn(zu,FM);zu.prototype.Ba=function(){ar(this.g,"a")};zu.prototype.Aa=function(t){ar(this.g,new $M(t))};zu.prototype.za=function(t){ar(this.g,new BM)};zu.prototype.ya=function(){ar(this.g,"b")};function Jq(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Qn(Yi,Jq);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function V0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)V0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){V0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){V0(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ht(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Zq={};function sS(t){return-128<=t&&128>t?oq(t,function(e){return new Ht([e|0],0>e?-1:0)}):new Ht([t|0],0>t?-1:0)}function gs(t){if(isNaN(t)||!isFinite(t))return uu;if(0>t)return sr(gs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sx;return new Ht(e,0)}function UM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return sr(UM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gs(Math.pow(e,8)),r=uu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=gs(Math.pow(e,s)),r=r.R(s).add(gs(o))):(r=r.R(n),r=r.add(gs(o)))}return r}var Sx=4294967296,uu=sS(0),Ex=sS(1),tN=sS(16777216);Ne=Ht.prototype;Ne.ea=function(){if(ki(this))return-sr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sx+r)*e,e*=Sx}return t};Ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ws(this))return"0";if(ki(this))return"-"+sr(this).toString(t);for(var e=gs(Math.pow(t,6)),n=this,r="";;){var i=fm(n,e).g;n=dm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ws(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ws(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ki(t){return t.h==-1}Ne.X=function(t){return t=dm(this,t),ki(t)?-1:Ws(t)?0:1};function sr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ht(n,~t.h).add(Ex)}Ne.abs=function(){return ki(this)?sr(this):this};Ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ht(n,n[n.length-1]&-2147483648?-1:0)};function dm(t,e){return t.add(sr(e))}Ne.R=function(t){if(Ws(this)||Ws(t))return uu;if(ki(this))return ki(t)?sr(this).R(sr(t)):sr(sr(this).R(t));if(ki(t))return sr(this.R(sr(t)));if(0>this.X(tN)&&0>t.X(tN))return gs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Zh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Zh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Zh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Zh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ht(n,0)};function Zh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qc(t,e){this.g=t,this.h=e}function fm(t,e){if(Ws(e))throw Error("division by zero");if(Ws(t))return new qc(uu,uu);if(ki(t))return e=fm(sr(t),e),new qc(sr(e.g),sr(e.h));if(ki(e))return e=fm(t,sr(e)),new qc(sr(e.g),e.h);if(30<t.g.length){if(ki(t)||ki(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ex,r=e;0>=r.X(t);)n=nN(n),r=nN(r);var i=Kl(n,1),s=Kl(r,1);for(r=Kl(r,2),n=Kl(n,2);!Ws(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Kl(r,1),n=Kl(n,1)}return e=dm(t,i.R(e)),new qc(i,e)}for(i=uu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=gs(n),o=s.R(e);ki(o)||0<o.X(t);)n-=r,s=gs(n),o=s.R(e);Ws(s)&&(s=Ex),i=i.add(s),t=dm(t,o)}return new qc(i,t)}Ne.gb=function(t){return fm(this,t).h};Ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ht(n,this.h&t.h)};Ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ht(n,this.h|t.h)};Ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ht(n,this.h^t.h)};function nN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ht(n,t.h)}function Kl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ht(i,t.h)}cm.prototype.createWebChannel=cm.prototype.g;pi.prototype.send=pi.prototype.u;pi.prototype.open=pi.prototype.m;pi.prototype.close=pi.prototype.close;Tg.NO_ERROR=0;Tg.TIMEOUT=8;Tg.HTTP_ERROR=6;sM.COMPLETE="complete";oM.EventType=df;df.OPEN="a";df.CLOSE="b";df.ERROR="c";df.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;xn.prototype.listenOnce=xn.prototype.P;xn.prototype.getLastError=xn.prototype.Sa;xn.prototype.getLastErrorCode=xn.prototype.Ia;xn.prototype.getStatus=xn.prototype.da;xn.prototype.getResponseJson=xn.prototype.Wa;xn.prototype.getResponseText=xn.prototype.ja;xn.prototype.send=xn.prototype.ha;xn.prototype.setWithCredentials=xn.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;Ht.prototype.add=Ht.prototype.add;Ht.prototype.multiply=Ht.prototype.R;Ht.prototype.modulo=Ht.prototype.gb;Ht.prototype.compare=Ht.prototype.X;Ht.prototype.toNumber=Ht.prototype.ea;Ht.prototype.toString=Ht.prototype.toString;Ht.prototype.getBits=Ht.prototype.D;Ht.fromNumber=gs;Ht.fromString=UM;var e7=function(){return new cm},t7=function(){return kg()},q0=Tg,n7=sM,r7=wl,rN={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},i7=pf,ep=oM,s7=xn,o7=Yi,cu=Ht;const iN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new N_("@firebase/firestore");function sN(){return Za.logLevel}function We(t,...e){if(Za.logLevel<=Nt.DEBUG){const n=e.map(oS);Za.debug(`Firestore (${Wu}): ${t}`,...n)}}function ro(t,...e){if(Za.logLevel<=Nt.ERROR){const n=e.map(oS);Za.error(`Firestore (${Wu}): ${t}`,...n)}}function Su(t,...e){if(Za.logLevel<=Nt.WARN){const n=e.map(oS);Za.warn(`Firestore (${Wu}): ${t}`,...n)}}function oS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t="Unexpected state"){const e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+t;throw ro(e),new Error(e)}function on(t,e){t||ut()}function mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vr.UNAUTHENTICATED))}shutdown(){}}let l7=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class u7{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ha,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ha)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on(typeof r.accessToken=="string"),new VM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(e===null||typeof e=="string"),new vr(e)}}class c7{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class d7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new c7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h7{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(on(typeof n.token=="string"),this.T=n.token,new f7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function Eu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Hn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new Hn(0,0))}static max(){return new ft(new Hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $d.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $d?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends $d{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const m7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends $d{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return m7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(nn.fromString(e))}static fromName(e){return new Ke(nn.fromString(e).popFirst(5))}static empty(){return new Ke(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new nn(e.slice()))}}function g7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new Hn(n+1,0):new Hn(n,r));return new ea(i,Ke.empty(),e)}function v7(t){return new ea(t.readTime,t.key,-1)}class ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ea(ft.min(),Ke.empty(),-1)}static max(){return new ea(ft.max(),Ke.empty(),-1)}}function y7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==w7)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(c=>{o[h]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}aS.ct=-1;function Pg(t){return t==null}function hm(t){return t===0&&1/t==-1/0}function x7(t){return typeof t=="number"&&Number.isInteger(t)&&!hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=s??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(t,e,n,r,i){return this}insert(t,e,n){return new rr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aN(this.data.getIterator())}getIteratorFrom(e){return new aN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kr(this.comparator);return n.data=e,n}}class aN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ui([])}unionWith(e){let n=new kr(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new zM("Invalid base64 string: "+i):i}}(e);return new Cr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const _7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(on(!!t),typeof t=="string"){let e=0;const n=_7.exec(t);if(on(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function el(t){return typeof t=="string"?Cr.fromBase64String(t):Cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uS(t){const e=t.mapValue.fields.__previous_value__;return lS(e)?uS(e):e}function Bd(t){const e=ta(t.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class Ud{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ud("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ud&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np={mapValue:{}};function tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lS(t)?4:E7(t)?9007199254740991:10:ut()}function Cs(t,e){if(t===e)return!0;const n=tl(t);if(n!==tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bd(t).isEqual(Bd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ta(r.timestampValue),o=ta(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return el(r.bytesValue).isEqual(el(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Rn(r.geoPointValue.latitude)===Rn(i.geoPointValue.latitude)&&Rn(r.geoPointValue.longitude)===Rn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Rn(r.integerValue)===Rn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Rn(r.doubleValue),o=Rn(i.doubleValue);return s===o?hm(s)===hm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Eu(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(oN(s)!==oN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Cs(s[a],o[a])))return!1;return!0}(t,e);default:return ut()}}function Vd(t,e){return(t.values||[]).find(n=>Cs(n,e))!==void 0}function ku(t,e){if(t===e)return 0;const n=tl(t),r=tl(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Rn(i.integerValue||i.doubleValue),a=Rn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return lN(t.timestampValue,e.timestampValue);case 4:return lN(Bd(t),Bd(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(i,s){const o=el(i),a=el(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const h=It(o[l],a[l]);if(h!==0)return h}return It(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=It(Rn(i.latitude),Rn(s.latitude));return o!==0?o:It(Rn(i.longitude),Rn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const h=ku(o[l],a[l]);if(h)return h}return It(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===np.mapValue&&s===np.mapValue)return 0;if(i===np.mapValue)return 1;if(s===np.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let c=0;c<a.length&&c<h.length;++c){const f=It(a[c],h[c]);if(f!==0)return f;const p=ku(o[a[c]],l[h[c]]);if(p!==0)return p}return It(a.length,h.length)}(t.mapValue,e.mapValue);default:throw ut()}}function lN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=ta(t),r=ta(e),i=It(n.seconds,r.seconds);return i!==0?i:It(n.nanos,r.nanos)}function Tu(t){return kx(t)}function kx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ta(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?el(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ke.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=kx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${kx(r.fields[a])}`;return s+"}"}(t.mapValue):ut();var e,n}function uN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tx(t){return!!t&&"integerValue"in t}function cS(t){return!!t&&"arrayValue"in t}function cN(t){return!!t&&"nullValue"in t}function dN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ip(t){return!!t&&"mapValue"in t}function yd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jr(yd(this.value))}}function WM(t){const e=[];return bl(t.fields,(n,r)=>{const i=new wr([n]);if(Ip(r)){const s=WM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,ft.min(),ft.min(),ft.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,ft.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,ft.min(),ft.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,ft.min(),ft.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.position=e,this.inclusive=n}}function fN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ke.comparator(Ke.fromName(o.referenceValue),n.key):r=ku(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function k7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class Mn extends YM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C7(e,n,r):n==="array-contains"?new A7(e,r):n==="in"?new D7(e,r):n==="not-in"?new I7(e,r):n==="array-contains-any"?new R7(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N7(e,r):new O7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ku(n,this.value)):n!==null&&tl(this.value)===tl(n)&&this.matchesComparison(ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gi extends YM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Gi(e,n)}matches(e){return GM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function GM(t){return t.op==="and"}function KM(t){return T7(t)&&GM(t)}function T7(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function Cx(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(KM(t))return t.filters.map(e=>Cx(e)).join(",");{const e=t.filters.map(n=>Cx(n)).join(",");return`${t.op}(${e})`}}function QM(t,e){return t instanceof Mn?function(n,r){return r instanceof Mn&&n.op===r.op&&n.field.isEqual(r.field)&&Cs(n.value,r.value)}(t,e):t instanceof Gi?function(n,r){return r instanceof Gi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&QM(s,r.filters[o]),!0):!1}(t,e):void ut()}function XM(t){return t instanceof Mn?function(e){return`${e.field.canonicalString()} ${e.op} ${Tu(e.value)}`}(t):t instanceof Gi?function(e){return e.op.toString()+" {"+e.getFilters().map(XM).join(" ,")+"}"}(t):"Filter"}class C7 extends Mn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class N7 extends Mn{constructor(e,n){super(e,"in",n),this.keys=JM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O7 extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=JM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class A7 extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cS(n)&&Vd(n.arrayValue,this.value)}}class D7 extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vd(this.value.arrayValue,n)}}class I7 extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vd(this.value.arrayValue,n)}}class R7 extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function pN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new P7(t,e,n,r,i,s,o)}function dS(t){const e=mt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),e.dt=n}return e.dt}function fS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hN(t.startAt,e.startAt)&&hN(t.endAt,e.endAt)}function Nx(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function M7(t,e,n,r,i,s,o,a){return new Yu(t,e,n,r,i,s,o,a)}function hS(t){return new Yu(t)}function mN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Mg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ZM(t){return t.collectionGroup!==null}function fu(t){const e=mt(t);if(e.wt===null){e.wt=[];const n=Mg(e),r=pS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new du(n)),e.wt.push(new du(wr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new du(wr.keyField(),s))}}}return e.wt}function io(t){const e=mt(t);if(!e._t)if(e.limitType==="F")e._t=pN(e.path,e.collectionGroup,fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new du(s.field,o))}const r=e.endAt?new pm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pm(e.startAt.position,e.startAt.inclusive):null;e._t=pN(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ox(t,e){e.getFirstInequalityField(),Mg(t);const n=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ax(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lg(t,e){return fS(io(t),io(e))&&t.limitType===e.limitType}function eL(t){return`${dS(io(t))}|lt:${t.limitType}`}function Dx(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>XM(r)).join(", ")}]`),Pg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),`Target(${n})`}(io(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ke.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of fu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=fN(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fu(n),r)||n.endAt&&!function(i,s,o){const a=fN(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fu(n),r))}(t,e)}function L7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tL(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const s=j7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function j7(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ku(a,l):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=new vn(Ke.comparator);function so(){return F7}const nL=new vn(Ke.comparator);function od(...t){let e=nL;for(const n of t)e=e.insert(n.key,n);return e}function rL(t){let e=nL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return wd()}function iL(){return wd()}function wd(){return new Gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const $7=new vn(Ke.comparator),B7=new kr(Ke.comparator);function wt(...t){let e=B7;for(const n of t)e=e.add(n);return e}const U7=new kr(It);function V7(){return U7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(e)?"-0":e}}function oL(t){return{integerValue:""+t}}function q7(t,e){return x7(e)?oL(e):sL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this._=void 0}}function H7(t,e,n){return t instanceof mm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&lS(i)&&(i=uS(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof qd?lL(t,e):t instanceof Hd?uL(t,e):function(r,i){const s=aL(r,i),o=gN(s)+gN(r.gt);return Tx(s)&&Tx(r.gt)?oL(o):sL(r.serializer,o)}(t,e)}function z7(t,e,n){return t instanceof qd?lL(t,e):t instanceof Hd?uL(t,e):n}function aL(t,e){return t instanceof gm?Tx(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class mm extends Fg{}class qd extends Fg{constructor(e){super(),this.elements=e}}function lL(t,e){const n=cL(e);for(const r of t.elements)n.some(i=>Cs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hd extends Fg{constructor(e){super(),this.elements=e}}function uL(t,e){let n=cL(e);for(const r of t.elements)n=n.filter(i=>!Cs(i,r));return{arrayValue:{values:n}}}class gm extends Fg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function gN(t){return Rn(t.integerValue||t.doubleValue)}function cL(t){return cS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W7(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof qd&&r instanceof qd||n instanceof Hd&&r instanceof Hd?Eu(n.elements,r.elements,Cs):n instanceof gm&&r instanceof gm?Cs(n.gt,r.gt):n instanceof mm&&r instanceof mm}(t.transform,e.transform)}class Y7{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $g{}function dL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mS(t.key,Vi.none()):new wf(t.key,t.data,Vi.none());{const n=t.data,r=Jr.empty();let i=new kr(wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pa(t.key,r,new ui(i.toArray()),Vi.none())}}function G7(t,e,n){t instanceof wf?function(r,i,s){const o=r.value.clone(),a=yN(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(r,i,s){if(!Rp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=yN(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(fL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bd(t,e,n,r){return t instanceof wf?function(i,s,o,a){if(!Rp(i.precondition,s))return o;const l=i.value.clone(),h=wN(i.fieldTransforms,a,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(i,s,o,a){if(!Rp(i.precondition,s))return o;const l=wN(i.fieldTransforms,a,s),h=s.data;return h.setAll(fL(i)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Rp(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function K7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aL(r.transform,i||null);s!=null&&(n===null&&(n=Jr.empty()),n.set(r.field,s))}return n||null}function vN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Eu(n,r,(i,s)=>W7(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wf extends $g{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pa extends $g{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yN(t,e,n){const r=new Map;on(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,z7(o,a,n[i]))}return r}function wN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,H7(s,o,e))}return r}class mS extends $g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q7 extends $g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&G7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wt())}isEqual(e){return this.batchId===e.batchId&&Eu(this.mutations,e.mutations,(n,r)=>vN(n,r))&&Eu(this.baseMutations,e.baseMutations,(n,r)=>vN(n,r))}}class gS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){on(e.mutations.length===r.length);let i=$7;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,xt;function eH(t){switch(t){default:return ut();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function hL(t){if(t===void 0)return ro("GRPC error has no .code"),me.UNKNOWN;switch(t){case In.OK:return me.OK;case In.CANCELLED:return me.CANCELLED;case In.UNKNOWN:return me.UNKNOWN;case In.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case In.INTERNAL:return me.INTERNAL;case In.UNAVAILABLE:return me.UNAVAILABLE;case In.UNAUTHENTICATED:return me.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case In.NOT_FOUND:return me.NOT_FOUND;case In.ALREADY_EXISTS:return me.ALREADY_EXISTS;case In.PERMISSION_DENIED:return me.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case In.ABORTED:return me.ABORTED;case In.OUT_OF_RANGE:return me.OUT_OF_RANGE;case In.UNIMPLEMENTED:return me.UNIMPLEMENTED;case In.DATA_LOSS:return me.DATA_LOSS;default:return ut()}}(xt=In||(In={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rp}static getOrCreateInstance(){return rp===null&&(rp=new vS),rp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let rp=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=new cu([4294967295,4294967295],0);function bN(t){const e=tH().encode(t),n=new o7;return n.update(e),new Uint8Array(n.digest())}function xN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cu([n,r],0),new cu([i,s],0)]}class yS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ad(`Invalid padding: ${n}`);if(r<0)throw new ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ad(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=cu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(cu.fromNumber(r)));return i.compare(nH)===1&&(i=new cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=bN(e),[r,i]=xN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=bN(e),[r,i]=xN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bg(ft.min(),i,new vn(It),so(),wt())}}class bf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bf(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class pL{constructor(e,n){this.targetId=e,this.Vt=n}}class mL{constructor(e,n,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _N{constructor(){this.St=0,this.Dt=EN(),this.Ct=Cr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wt(),n=wt(),r=wt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new bf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=EN()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rH{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=so(),this.zt=SN(),this.Wt=new vn(It)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ut()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Nx(o))if(i===0){const a=new Ke(o.path);this.Yt(r,a,yr.newNoDocument(a,ft.min()))}else on(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,h)}(n=vS.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,c,f){var p,m,g,y,w,b;const _={localCacheCount:c,existenceFilterCount:f.count},E=f.unchangedNames;return E&&(_.bloomFilter={applied:h===0,hashCount:(p=E==null?void 0:E.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(g=(m=E==null?void 0:E.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0,padding:(b=(w=E==null?void 0:E.bits)===null||w===void 0?void 0:w.padding)!==null&&b!==void 0?b:0}),_}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,h;try{l=el(s).toUint8Array()}catch(c){if(c instanceof zM)return Su("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{h=new yS(l,o,a)}catch(c){return Su(c instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return h.It===0?1:i!==n-this.oe(e.targetId,h)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Nx(a.target)){const l=new Ke(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,yr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=wt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.se(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Bg(e,n,this.Wt,this.jt,r);return this.jt=so(),this.zt=SN(),this.Wt=new vn(It),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new _N,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new kr(It),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _N),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function SN(){return new vn(Ke.comparator)}function EN(){return new vn(Ke.comparator)}const iH={asc:"ASCENDING",desc:"DESCENDING"},sH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oH={and:"AND",or:"OR"};class aH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ix(t,e){return t.useProto3Json||Pg(e)?e:{value:e}}function vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lH(t,e){return vm(t,e.toTimestamp())}function _s(t){return on(!!t),ft.fromTimestamp(function(e){const n=ta(e);return new Hn(n.seconds,n.nanos)}(t))}function wS(t,e){return function(n){return new nn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function vL(t){const e=nn.fromString(t);return on(xL(e)),e}function Rx(t,e){return wS(t.databaseId,e.path)}function H0(t,e){const n=vL(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(yL(n))}function Px(t,e){return wS(t.databaseId,e)}function uH(t){const e=vL(t);return e.length===4?nn.emptyPath():yL(e)}function Mx(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yL(t){return on(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kN(t,e,n){return{name:Rx(t,e),fields:n.value.mapValue.fields}}function cH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(on(h===void 0||typeof h=="string"),Cr.fromBase64String(h||"")):(on(h===void 0||h instanceof Uint8Array),Cr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?me.UNKNOWN:hL(l.code);return new Fe(h,l.message||"")}(o);n=new mL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=H0(t,r.document.name),s=_s(r.document.updateTime),o=r.document.createTime?_s(r.document.createTime):ft.min(),a=new Jr({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),h=r.targetIds||[],c=r.removedTargetIds||[];n=new Pp(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=H0(t,r.document),s=r.readTime?_s(r.readTime):ft.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=H0(t,r.document),s=r.removedTargetIds||[];n=new Pp([],s,i,null)}else{if(!("filter"in e))return ut();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Z7(i,s),a=r.targetId;n=new pL(a,o)}}return n}function dH(t,e){let n;if(e instanceof wf)n={update:kN(t,e.key,e.value)};else if(e instanceof mS)n={delete:Rx(t,e.key)};else if(e instanceof pa)n={update:kN(t,e.key,e.data),updateMask:bH(e.fieldMask)};else{if(!(e instanceof Q7))return ut();n={verify:Rx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Hd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ut()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:lH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ut()}(t,e.precondition)),n}function fH(t,e){return t&&t.length>0?(on(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?_s(r.updateTime):_s(i);return s.isEqual(ft.min())&&(s=_s(i)),new Y7(s,r.transformResults||[])}(n,e))):[]}function hH(t,e){return{documents:[Px(t,e.path)]}}function pH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Px(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Px(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return bL(Gi.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(c){return{field:eu(c.field),direction:vH(c.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ix(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function mH(t){let e=uH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){on(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=wL(c);return f instanceof Gi&&KM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new du(tu(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Pg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,p=c.values||[];return new pm(p,f)}(n.startAt));let h=null;return n.endAt&&(h=function(c){const f=!c.before,p=c.values||[];return new pm(p,f)}(n.endAt)),M7(e,i,o,s,a,"F",l,h)}function gH(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=tu(e.unaryFilter.field);return Mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=tu(e.unaryFilter.field);return Mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tu(e.unaryFilter.field);return Mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(e.unaryFilter.field);return Mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(t):t.fieldFilter!==void 0?function(e){return Mn.create(tu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Gi.create(e.compositeFilter.filters.map(n=>wL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(t):ut()}function vH(t){return iH[t]}function yH(t){return sH[t]}function wH(t){return oH[t]}function eu(t){return{fieldPath:t.canonicalString()}}function tu(t){return wr.fromServerFormat(t.fieldPath)}function bL(t){return t instanceof Mn?function(e){if(e.op==="=="){if(dN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NAN"}};if(cN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NAN"}};if(cN(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(e.field),op:yH(e.op),value:e.value}}}(t):t instanceof Gi?function(e){const n=e.getFilters().map(r=>bL(r));return n.length===1?n[0]:{compositeFilter:{op:wH(e.op),filters:n}}}(t):ut()}function bH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r,i,s=ft.min(),o=ft.min(),a=Cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.fe=e}}function _H(t){const e=mH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ax(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(){this.rn=new EH}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(ea.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class EH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(nn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cu(0)}static Mn(){return new Cu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.changes=new Gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CH=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bd(r.mutation,i,ui.empty(),Hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wt()){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=od();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=so();const o=wd(),a=wd();return n.forEach((l,h)=>{const c=r.get(h.key);i.has(h.key)&&(c===void 0||c.mutation instanceof pa)?s=s.insert(h.key,h):c!==void 0?(o.set(h.key,c.mutation.getFieldMask()),bd(c.mutation,h,c.mutation.getFieldMask(),Hn.now())):o.set(h.key,ui.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,c)=>o.set(h,c)),n.forEach((h,c)=>{var f;return a.set(h,new TH(c,(f=o.get(h))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wd();let i=new vn((o,a)=>o-a),s=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let c=r.get(l)||ui.empty();c=a.applyToLocalView(h,c),r.set(l,c);const f=(i.get(a.batchId)||wt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,c=l.value,f=iL();c.forEach(p=>{if(!s.has(p)){const m=dL(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ke.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Se.resolve(Fa());let a=-1,l=s;return o.next(h=>Se.forEach(h,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Se.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,wt())).next(c=>({batchId:a,changes:rL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=od();return this.indexManager.getCollectionParents(e,i).next(o=>Se.forEach(o,a=>{const l=function(h,c){return new Yu(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,yr.newInvalidDocument(h)))});let o=od();return s.forEach((a,l)=>{const h=i.get(a);h!==void 0&&bd(h.mutation,l,ui.empty(),Hn.now()),jg(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:_s(r.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:_H(r.bundledQuery),readTime:_s(r.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.overlays=new vn(Ke.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return Se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,o=new Ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vn((h,c)=>h-c);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let c=s.get(h.largestBatchId);c===null&&(c=Fa(),s=s.insert(h.largestBatchId,c)),c.set(h.getKey(),h)}}const a=Fa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,c)=>a.set(h,c)),!(a.size()>=i)););return Se.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J7(n,r));let s=this.ls.get(n);s===void 0&&(s=wt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.fs=new kr(Gn.ds),this.ws=new kr(Gn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Gn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ke(new nn([])),r=new Gn(n,e),i=new Gn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ke(new nn([])),r=new Gn(n,e),i=new Gn(n,e+1);let s=wt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ke.comparator(e.key,n.key)||It(e.As,n.As)}static _s(e,n){return It(e.As,n.As)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new kr(Gn.ds)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new X7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(It);return n.forEach(i=>{const s=new Gn(i,0),o=new Gn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ke.isDocumentKey(s)||(s=s.child(""));const o=new Gn(new Ke(s),0);let a=new kr(It);return this.Rs.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.As)),!0)},o),Se.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){on(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Se.forEach(n.mutations,i=>{const s=new Gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Rs.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e){this.Ds=e,this.docs=new vn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=so();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=so();const o=n.path,a=new Ke(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:c}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||y7(v7(c),r)<=0||(i.has(c.key)||jg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ut()}Cs(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IH(this)}getSize(e){return Se.resolve(this.size)}}class IH extends kH{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.persistence=e,this.xs=new Gu(n=>dS(n),fS),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new bS,this.targetCount=0,this.Ms=Cu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n){this.$s={},this.overlays={},this.Os=new aS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new RH(this),this.indexManager=new SH,this.remoteDocumentCache=function(r){return new DH(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new xH(n),this.qs=new NH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new AH(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new MH(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class MH extends b7{constructor(e){super(),this.currentSequenceNumber=e}}class xS{constructor(e){this.persistence=e,this.Qs=new bS,this.js=null}static zs(e){return new xS(e)}get Ws(){if(this.js)return this.js;throw ut()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,r=>{const i=Ke.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=wt(),i=wt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _S(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(mN(n))return Se.resolve(null);let r=io(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ax(n,null,"F"),r=io(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=wt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ji(n,a);return this.zi(n,h,o,l.readTime)?this.Ki(e,Ax(n,null,"F")):this.Wi(e,h,n,l)}))})))}Gi(e,n,r,i){return mN(n)||i.isEqual(ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(sN()<=Nt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dx(n)),this.Wi(e,o,n,g7(i,-1)))})}ji(e,n){let r=new kr(tL(e));return n.forEach((i,s)=>{jg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return sN()<=Nt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Dx(n)),this.Ui.getDocumentsMatchingQuery(e,n,ea.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new vn(It),this.Yi=new Gu(s=>dS(s),fS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function FH(t,e,n,r){return new jH(t,e,n,r)}async function _L(t,e){const n=mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=wt();for(const h of i){o.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}for(const h of s){a.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(h=>({er:h,removedBatchIds:o,addedBatchIds:a}))})})}function $H(t,e){const n=mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,h){const c=l.batch,f=c.keys();let p=Se.resolve();return f.forEach(m=>{p=p.next(()=>h.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);on(y!==null),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),h.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=wt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SL(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function BH(t,e){const n=mt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Cr.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Bs.updateTargetData(s,m))});let l=so(),h=wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(UH(s,o,e.documentUpdates).next(c=>{l=c.nr,h=c.sr})),!r.isEqual(ft.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function UH(t,e,n){let r=wt(),i=wt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=so();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ft.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):We("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{nr:o,sr:i}})}function VH(t,e){const n=mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qH(t,e){const n=mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Lx(t,e,n){const r=mt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yf(o))throw o;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function TN(t,e,n){const r=mt(t);let i=ft.min(),s=wt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,h){const c=mt(a),f=c.Yi.get(h);return f!==void 0?Se.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,h)}(r,o,io(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ft.min(),n?s:wt())).next(a=>(HH(r,L7(e),a),{documents:a,ir:s})))}function HH(t,e,n){let r=t.Xi.get(e)||ft.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class CN{constructor(){this.activeTargetIds=V7()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zH{constructor(){this.Hr=new CN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new CN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip=null;function z0(){return ip===null?ip=268435456+Math.round(2147483648*Math.random()):ip++,"0x"+ip.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class KH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=z0(),a=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(h=>(We("RestConnection",`Received RPC '${e}' ${o}: `,h),h),h=>{throw Su("RestConnection",`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=YH[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=z0();return new Promise((o,a)=>{const l=new s7;l.setWithCredentials(!0),l.listenOnce(n7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case q0.NO_ERROR:const c=l.getResponseJson();We(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case q0.TIMEOUT:We(mr,`RPC '${e}' ${s} timed out`),a(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case q0.HTTP_ERROR:const f=l.getStatus();if(We(mr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(m.status);a(new Fe(g,m.message))}else a(new Fe(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{We(mr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);We(mr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Ro(e,n,r){const i=z0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e7(),a=t7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new i7({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");We(mr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,m=!1;const g=new GH({ro:w=>{m?We(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(We(mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),We(mr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},oo:()=>f.close()}),y=(w,b,_)=>{w.listen(b,E=>{try{_(E)}catch(S){setTimeout(()=>{throw S},0)}})};return y(f,ep.EventType.OPEN,()=>{m||We(mr,`RPC '${e}' stream ${i} transport opened.`)}),y(f,ep.EventType.CLOSE,()=>{m||(m=!0,We(mr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(f,ep.EventType.ERROR,w=>{m||(m=!0,Su(mr,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),y(f,ep.EventType.MESSAGE,w=>{var b;if(!m){const _=w.data[0];on(!!_);const E=_,S=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(S){We(mr,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let N=function(C){const I=In[C];if(I!==void 0)return hL(I)}(k),O=S.message;N===void 0&&(N=me.INTERNAL,O="Unknown error status: "+k+" with message "+S.message),m=!0,g.wo(new Fe(N,O)),f.close()}else We(mr,`RPC '${e}' stream ${i} received:`,_),g._o(_)}}),y(a,r7.STAT_EVENT,w=>{w.stat===rN.PROXY?We(mr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===rN.NOPROXY&&We(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function W0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return new aH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new EL(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ro(n.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QH extends kL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=cH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ft.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ft.min():s.readTime?_s(s.readTime):ft.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Mx(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Nx(a)?{documents:hH(i,a)}:{query:pH(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=gL(i,s.resumeToken);const l=Ix(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ft.min())>0){o.readTime=vm(i,s.snapshotVersion.toTimestamp());const l=Ix(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=gH(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Mx(this.serializer),n.removeTarget=e,this.Wo(n)}}class XH extends kL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=fH(e.writeResults,e.commitTime),r=_s(e.commitTime);return this.listener.cu(r,n)}return on(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Mx(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dH(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ZH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ro(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{xl(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=mt(a);l.vu.add(4),await xf(l),l.bu.set("Unknown"),l.vu.delete(4),await Vg(l)}(this))})}),this.bu=new ZH(r,i)}}async function Vg(t){if(xl(t))for(const e of t.Ru)await e(!0)}async function xf(t){for(const e of t.Ru)await e(!1)}function TL(t,e){const n=mt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),kS(n)?ES(n):Ku(n).Ko()&&SS(n,e))}function CL(t,e){const n=mt(t),r=Ku(n);n.Au.delete(e),r.Ko()&&NL(n,e),n.Au.size===0&&(r.Ko()?r.jo():xl(n)&&n.bu.set("Unknown"))}function SS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ku(t).su(e)}function NL(t,e){t.Vu.qt(e),Ku(t).iu(e)}function ES(t){t.Vu=new rH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ku(t).start(),t.bu.gu()}function kS(t){return xl(t)&&!Ku(t).Uo()&&t.Au.size>0}function xl(t){return mt(t).vu.size===0}function OL(t){t.Vu=void 0}async function tz(t){t.Au.forEach((e,n)=>{SS(t,e)})}async function nz(t,e){OL(t),kS(t)?(t.bu.Iu(e),ES(t)):t.bu.set("Unknown")}async function rz(t,e,n){if(t.bu.set("Online"),e instanceof mL&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ym(t,r)}else if(e instanceof Pp?t.Vu.Ht(e):e instanceof pL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ft.min()))try{const r=await SL(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.Au.get(l);h&&i.Au.set(l,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const h=i.Au.get(a);if(!h)return;i.Au.set(a,h.withResumeToken(Cr.EMPTY_BYTE_STRING,h.snapshotVersion)),NL(i,a);const c=new Ho(h.target,a,l,h.sequenceNumber);SS(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await ym(t,r)}}async function ym(t,e,n){if(!yf(e))throw e;t.vu.add(1),await xf(t),t.bu.set("Offline"),n||(n=()=>SL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Vg(t)})}function AL(t,e){return e().catch(n=>ym(t,n,e))}async function qg(t){const e=mt(t),n=na(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iz(e);)try{const i=await VH(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,sz(e,i)}catch(i){await ym(e,i)}DL(e)&&IL(e)}function iz(t){return xl(t)&&t.Eu.length<10}function sz(t,e){t.Eu.push(e);const n=na(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function DL(t){return xl(t)&&!na(t).Uo()&&t.Eu.length>0}function IL(t){na(t).start()}async function oz(t){na(t).hu()}async function az(t){const e=na(t);for(const n of t.Eu)e.uu(n.mutations)}async function lz(t,e,n){const r=t.Eu.shift(),i=gS.from(r,e,n);await AL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qg(t)}async function uz(t,e){e&&na(t).ou&&await async function(n,r){if(i=r.code,eH(i)&&i!==me.ABORTED){const s=n.Eu.shift();na(n).Qo(),await AL(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await qg(n)}var i}(t,e),DL(t)&&IL(t)}async function ON(t,e){const n=mt(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=xl(n);n.vu.add(3),await xf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Vg(n)}async function cz(t,e){const n=mt(t);e?(n.vu.delete(2),await Vg(n)):e||(n.vu.add(2),await xf(n),n.bu.set("Unknown"))}function Ku(t){return t.Su||(t.Su=function(e,n,r){const i=mt(e);return i.fu(),new QH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tz.bind(null,t),ao:nz.bind(null,t),nu:rz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),kS(t)?ES(t):t.bu.set("Unknown")):(await t.Su.stop(),OL(t))})),t.Su}function na(t){return t.Du||(t.Du=function(e,n,r){const i=mt(e);return i.fu(),new XH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:oz.bind(null,t),ao:uz.bind(null,t),au:az.bind(null,t),cu:lz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await qg(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new TS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CS(t,e){if(ro("AsyncQueue",`${e}: ${t}`),yf(t))return new Fe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=od(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.Cu=new vn(Ke.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ut():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nu{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nu(e,n,hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.Nu=void 0,this.listeners=[]}}class fz{constructor(){this.queries=new Gu(e=>eL(e),Lg),this.onlineState="Unknown",this.ku=new Set}}async function hz(t,e){const n=mt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new dz),i)try{s.Nu=await n.onListen(r)}catch(o){const a=CS(o,`Initialization of query '${Dx(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&NS(n)}async function pz(t,e){const n=mt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function mz(t,e){const n=mt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&NS(n)}function gz(t,e,n){const r=mt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function NS(t){t.ku.forEach(e=>{e.next()})}class vz{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.key=e}}class PL{constructor(e){this.key=e}}class yz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wt(),this.mutatedKeys=wt(),this.tc=tL(e),this.ec=new hu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new AN,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=jg(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.tc(m,l)>0||h&&this.tc(m,h)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||h)&&(a=!0)),w&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((h,c)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return m(f)-m(p)}(h.type,c.type)||this.tc(h.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Nu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new AN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new PL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new RL(r))}),n}hc(e){this.Yu=e.ir,this.Zu=wt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Nu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class wz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bz{constructor(e){this.key=e,this.fc=!1}}class xz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gu(a=>eL(a),Lg),this._c=new Map,this.mc=new Set,this.gc=new vn(Ke.comparator),this.yc=new Map,this.Ic=new bS,this.Tc={},this.Ec=new Map,this.Ac=Cu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function _z(t,e){const n=Iz(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await qH(n.localStore,io(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Sz(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&TL(n.remoteStore,o)}return i}async function Sz(t,e,n,r,i){t.Rc=(f,p,m)=>async function(g,y,w,b){let _=y.view.sc(w);_.zi&&(_=await TN(g.localStore,y.query,!1).then(({documents:k})=>y.view.sc(k,_)));const E=b&&b.targetChanges.get(y.targetId),S=y.view.applyChanges(_,g.isPrimaryClient,E);return IN(g,y.targetId,S.cc),S.snapshot}(t,f,p,m);const s=await TN(t.localStore,e,!0),o=new yz(e,s.ir),a=o.sc(s.documents),l=bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);IN(t,n,h.cc);const c=new wz(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),h.snapshot}async function Ez(t,e){const n=mt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Lg(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lx(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),CL(n.remoteStore,r.targetId),jx(n,r.targetId)}).catch(vf)):(jx(n,r.targetId),await Lx(n.localStore,r.targetId,!0))}async function kz(t,e,n){const r=Rz(t);try{const i=await function(s,o){const a=mt(s),l=Hn.now(),h=o.reduce((p,m)=>p.add(m.key),wt());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=so(),g=wt();return a.Zi.getEntries(p,h).next(y=>{m=y,m.forEach((w,b)=>{b.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(y=>{c=y;const w=[];for(const b of o){const _=K7(b,c.get(b.key).overlayedDocument);_!=null&&w.push(new pa(b.key,_,WM(_.value.mapValue),Vi.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,w,o)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:rL(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new vn(It)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await _f(r,i.changes),await qg(r.remoteStore)}catch(i){const s=CS(i,"Failed to persist write");n.reject(s)}}async function ML(t,e){const n=mt(t);try{const r=await BH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(on(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?on(o.fc):i.removedDocuments.size>0&&(on(o.fc),o.fc=!1))}),await _f(n,r,e)}catch(r){await vf(r)}}function DN(t,e,n){const r=mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=mt(s);a.onlineState=o;let l=!1;a.queries.forEach((h,c)=>{for(const f of c.listeners)f.Mu(o)&&(l=!0)}),l&&NS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tz(t,e,n){const r=mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new vn(Ke.comparator);o=o.insert(s,yr.newNoDocument(s,ft.min()));const a=wt().add(s),l=new Bg(ft.min(),new Map,new vn(It),o,a);await ML(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),OS(r)}else await Lx(r.localStore,e,!1).then(()=>jx(r,e,n)).catch(vf)}async function Cz(t,e){const n=mt(t),r=e.batch.batchId;try{const i=await $H(n.localStore,e);jL(n,r,null),LL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _f(n,i)}catch(i){await vf(i)}}async function Nz(t,e,n){const r=mt(t);try{const i=await function(s,o){const a=mt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(on(c!==null),h=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(r.localStore,e);jL(r,e,n),LL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _f(r,i)}catch(i){await vf(i)}}function LL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function jL(t,e,n){const r=mt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function jx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||FL(t,r)})}function FL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(CL(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),OS(t))}function IN(t,e,n){for(const r of n)r instanceof RL?(t.Ic.addReference(r.key,e),Oz(t,r)):r instanceof PL?(We("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||FL(t,r.key)):ut()}function Oz(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(We("SyncEngine","New document in limbo: "+n),t.mc.add(r),OS(t))}function OS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ke(nn.fromString(e)),r=t.Ac.next();t.yc.set(r,new bz(n)),t.gc=t.gc.insert(n,r),TL(t.remoteStore,new Ho(io(hS(n.path)),r,"TargetPurposeLimboResolution",aS.ct))}}async function _f(t,e,n){const r=mt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const c=_S.Li(l.targetId,h);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const h=mt(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(l,f=>Se.forEach(f.Fi,p=>h.persistence.referenceDelegate.addReference(c,f.targetId,p)).next(()=>Se.forEach(f.Bi,p=>h.persistence.referenceDelegate.removeReference(c,f.targetId,p)))))}catch(c){if(!yf(c))throw c;We("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const p=h.Ji.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.Ji=h.Ji.insert(f,g)}}}(r.localStore,s))}async function Az(t,e){const n=mt(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await _L(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Fe(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _f(n,r.er)}}function Dz(t,e){const n=mt(t),r=n.yc.get(e);if(r&&r.fc)return wt().add(r.key);{let i=wt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function Iz(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ML.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tz.bind(null,e),e.dc.nu=mz.bind(null,e.eventManager),e.dc.Pc=gz.bind(null,e.eventManager),e}function Rz(t){const e=mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nz.bind(null,e),e}class RN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ug(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FH(this.persistence,new LH,e.initialUser,this.serializer)}createPersistence(e){return new PH(xS.zs,this.serializer)}createSharedClientState(e){return new zH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Pz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Az.bind(null,this.syncEngine),await cz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fz}createDatastore(e){const n=Ug(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new KH(i));var i;return function(s,o,a,l){return new JH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>DN(this.syncEngine,a,0),o=NN.D()?new NN:new WH,new ez(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,h){const c=new xz(r,i,s,o,a,l);return h&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=mt(e);We("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await xf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=qM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{We("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(We("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Y0(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _L(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Fz(t);We("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>ON(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ON(e.remoteStore,s)),t._onlineComponents=e}function jz(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Fz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await Y0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jz(n))throw n;Su("Error using user provided cache. Falling back to memory cache: "+n),await Y0(t,new RN)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await Y0(t,new RN);return t._offlineComponents}async function $L(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await PN(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await PN(t,new Pz))),t._onlineComponents}function $z(t){return $L(t).then(e=>e.syncEngine)}async function MN(t){const e=await $L(t),n=e.eventManager;return n.onListen=_z.bind(null,e.syncEngine),n.onUnlisten=Ez.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e,n){if(!n)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bz(t,e,n,r){if(e===!0&&r===!0)throw new Fe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jN(t){if(!Ke.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FN(t){if(Ke.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut()}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $N({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $N(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new a7;switch(n.type){case"firstParty":return new d7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=LN.get(e);n&&(We("ComponentProvider","Removing Datastore"),LN.delete(e),n.terminate())}(this),Promise.resolve()}}function Uz(t,e,n,r={}){var i;const s=(t=Ys(t,zg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vr.MOCK_USER;else{a=XR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vr(h)}t._authCredentials=new l7(new VM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class _l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class Xo extends _l{constructor(e,n,r){super(e,n,hS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new Ke(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function VL(t,e,...n){if(t=Rt(t),UL("collection","path",e),t instanceof zg){const r=nn.fromString(e,...n);return FN(r),new Xo(t,null,r)}{if(!(t instanceof Br||t instanceof Xo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return FN(r),new Xo(t.firestore,null,r)}}function ln(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=qM.A()),UL("doc","path",e),t instanceof zg){const r=nn.fromString(e,...n);return jN(r),new Br(t,null,new Ke(r))}{if(!(t instanceof Br||t instanceof Xo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return jN(r),new Br(t.firestore,t instanceof Xo?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new EL(this,"async_queue_retry"),this.Xc=()=>{const n=W0();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=W0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=W0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ha;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!yf(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ro("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=TS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ut()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function BN(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ou extends zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Vz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||HL(this),this._firestoreClient.terminate()}}function qz(t,e){const n=sf(),r="(default)",i=la(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=C_("firestore");s&&Uz(i,...s)}return i}function qL(t){return t._firestoreClient||HL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HL(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,h){return new S7(o,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Lz(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(Cr.fromBase64String(e))}catch(n){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Au(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=/^__.*__$/;class zz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new wf(e,this.data,n,this.fieldTransforms)}}class zL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class IS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new IS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(WL(this.ca)&&Hz.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Wz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ug(e)}ya(e,n,r,i=!1){return new IS({ca:e,methodName:n,ga:r,path:wr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RS(t){const e=t._freezeSettings(),n=Ug(t._databaseId);return new Wz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yz(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);PS("Data must be an object, but it was:",o,r);const a=YL(r,o);let l,h;if(s.merge)l=new ui(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=Fx(e,f,n);if(!o.contains(p))throw new Fe(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);KL(c,p)||c.push(p)}l=new ui(c),h=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=o.fieldTransforms;return new zz(new Jr(a),l,h)}class Yg extends AS{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yg}}function Gz(t,e,n,r){const i=t.ya(1,e,n);PS("Data must be an object, but it was:",i,r);const s=[],o=Jr.empty();bl(r,(l,h)=>{const c=MS(e,l,n);h=Rt(h);const f=i.da(c);if(h instanceof Yg)s.push(c);else{const p=Sf(h,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new ui(s);return new zL(o,a,i.fieldTransforms)}function Kz(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Fx(e,r,n)],l=[i];if(s.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Fx(e,s[p])),l.push(s[p+1]);const h=[],c=Jr.empty();for(let p=a.length-1;p>=0;--p)if(!KL(h,a[p])){const m=a[p];let g=l[p];g=Rt(g);const y=o.da(m);if(g instanceof Yg)h.push(m);else{const w=Sf(g,y);w!=null&&(h.push(m),c.set(m,w))}}const f=new ui(h);return new zL(c,f,o.fieldTransforms)}function Qz(t,e,n,r=!1){return Sf(n,t.ya(r?4:3,e))}function Sf(t,e){if(GL(t=Rt(t)))return PS("Unsupported field value:",e,t),YL(t,e);if(t instanceof AS)return function(n,r){if(!WL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Sf(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Rt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return q7(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Hn.fromDate(n);return{timestampValue:vm(r.serializer,i)}}if(n instanceof Hn){const i=new Hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vm(r.serializer,i)}}if(n instanceof DS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Au)return{bytesValue:gL(r.serializer,n._byteString)};if(n instanceof Br){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Hg(n)}`)}(t,e)}function YL(t,e){const n={};return HM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(r,i)=>{const s=Sf(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Hn||t instanceof DS||t instanceof Au||t instanceof Br||t instanceof AS)}function PS(t,e,n){if(!GL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Fx(t,e,n){if((e=Rt(e))instanceof Wg)return e._internalPath;if(typeof e=="string")return MS(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xz=new RegExp("[~\\*/\\[\\]]");function MS(t,e,n){if(e.search(Xz)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wg(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Fe(me.INVALID_ARGUMENT,a+t+l)}function KL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jz extends QL{data(){return super.data()}}function Gg(t,e){return typeof e=="string"?MS(t,e):e instanceof Wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LS{}class XL extends LS{}function G0(t,e,...n){let r=[];e instanceof LS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof jS).length,o=i.filter(a=>a instanceof Kg).length;if(s>1||s>0&&o>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kg extends XL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kg(e,n,r)}_apply(e){const n=this._parse(e);return JL(e._query,n),new _l(e.firestore,e.converter,Ox(e._query,n))}_parse(e){const n=RS(e.firestore);return function(i,s,o,a,l,h,c){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qN(c,h);const p=[];for(const m of c)p.push(VN(a,i,m));f={arrayValue:{values:p}}}else f=VN(a,i,c)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qN(c,h),f=Qz(o,s,c,h==="in"||h==="not-in");return Mn.create(l,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UN(t,e,n){const r=e,i=Gg("where",t);return Kg._create(i,r,n)}class jS extends LS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)JL(s,a),s=Ox(s,a)}(e._query,n),new _l(e.firestore,e.converter,Ox(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class FS extends XL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new FS(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new du(i,s);return function(a,l){if(pS(a)===null){const h=Mg(a);h!==null&&ZL(a,h,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new _l(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Yu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function eW(t,e="asc"){const n=e,r=Gg("orderBy",t);return FS._create(r,n)}function VN(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZM(e)&&n.indexOf("/")!==-1)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!Ke.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uN(t,new Ke(r))}if(n instanceof Br)return uN(t,n._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(n)}.`)}function qN(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JL(t,e){if(e.isInequality()){const r=Mg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=pS(t);s!==null&&ZL(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZL(t,e,n){if(!n.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class tW{convertValue(e,n="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ut()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new DS(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bd(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);on(xL(r));const i=new Ud(r.get(1),r.get(3)),s=new Ke(r.popFirst(5));return i.isEqual(n)||ro(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e4 extends QL{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mp extends e4{data(e={}){return super.data(e)}}class rW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ld(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mp(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Mp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ld(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Mp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ld(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:iW(o.type),doc:a,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}class t4 extends tW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,n)}}function Ns(t,e,n){t=Ys(t,Br);const r=Ys(t.firestore,Ou),i=nW(t.converter,e);return $S(r,[Yz(RS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vi.none())])}function wn(t,e,n,...r){t=Ys(t,Br);const i=Ys(t.firestore,Ou),s=RS(i);let o;return o=typeof(e=Rt(e))=="string"||e instanceof Wg?Kz(s,"updateDoc",t._key,e,n,r):Gz(s,"updateDoc",t._key,e),$S(i,[o.toMutation(t._key,Vi.exists(!0))])}function Qg(t){return $S(Ys(t.firestore,Ou),[new mS(t._key,Vi.none())])}function n4(t,...e){var n,r,i;t=Rt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||BN(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(BN(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,h,c;if(t instanceof Br)h=Ys(t.firestore,Ou),c=hS(t._key.path),l={next:f=>{e[o]&&e[o](sW(h,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ys(t,_l);h=Ys(f.firestore,Ou),c=f._query;const p=new t4(h);l={next:m=>{e[o]&&e[o](new rW(h,p,f,m))},error:e[o+1],complete:e[o+2]},Zz(t._query)}return function(f,p,m,g){const y=new Mz(g),w=new vz(p,y,m);return f.asyncQueue.enqueueAndForget(async()=>hz(await MN(f),w)),()=>{y.Dc(),f.asyncQueue.enqueueAndForget(async()=>pz(await MN(f),w))}}(qL(h),c,a,l)}function $S(t,e){return function(n,r){const i=new Ha;return n.asyncQueue.enqueueAndForget(async()=>kz(await $z(n),r,i)),i.promise}(qL(t),e)}function sW(t,e,n){const r=n.docs.get(e._key),i=new t4(t);return new e4(t,i,e._key,r,new ld(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Wu=n})(vl),Ni(new hi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ou(new u7(n.getProvider("auth-internal")),new h7(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),_r(iN,"3.13.0",t),_r(iN,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW="type.googleapis.com/google.protobuf.Int64Value",aW="type.googleapis.com/google.protobuf.UInt64Value";function r4(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function $x(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>$x(e));if(typeof t=="function"||typeof t=="object")return r4(t,e=>$x(e));throw new Error("Data cannot be encoded in JSON: "+t)}function bm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case oW:case aW:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>bm(e)):typeof t=="function"||typeof t=="object"?r4(t,e=>bm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pu extends Oi{constructor(e,n,r){super(`${BS}/${e}`,n||""),this.details=r}}function lW(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uW(t,e){let n=lW(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!HN[o])return new pu("internal","internal");n=HN[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=bm(i))}}catch{}return n==="ok"?null:new pu(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="us-central1";function dW(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new pu("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class fW{constructor(e,n,r,i,s=Bx,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new cW(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=Bx}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function hW(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function pW(t,e,n){return r=>gW(t,e,r,{})}async function mW(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function gW(t,e,n,r){const i=t._url(e);return vW(t,i,n,r)}async function vW(t,e,n,r){n=$x(n);const i={data:n},s={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=dW(a),h=await Promise.race([mW(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!h)throw new pu("cancelled","Firebase Functions instance was deleted.");const c=uW(h.status,h.json);if(c)throw c;if(!h.json)throw new pu("internal","Response is not valid JSON object.");let f=h.json.data;if(typeof f>"u"&&(f=h.json.result),typeof f>"u")throw new pu("internal","Response is missing data field.");return{data:bm(f)}}const zN="@firebase/functions",WN="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="auth-internal",wW="app-check-internal",bW="messaging-internal";function xW(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(yW),a=r.getProvider(bW),l=r.getProvider(wW);return new fW(s,o,a,l,i,t)};Ni(new hi(BS,n,"PUBLIC").setMultipleInstances(!0)),_r(zN,WN,e),_r(zN,WN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t=sf(),e=Bx){const r=la(Rt(t),BS).getImmediate({identifier:e}),i=C_("functions");return i&&SW(r,...i),r}function SW(t,e,n){hW(Rt(t),e,n)}function i4(t,e,n){return pW(Rt(t),e)}xW(fetch.bind(self));const EW=(t,e)=>e.some(n=>t instanceof n);let YN,GN;function kW(){return YN||(YN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TW(){return GN||(GN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s4=new WeakMap,Ux=new WeakMap,o4=new WeakMap,K0=new WeakMap,US=new WeakMap;function CW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&s4.set(n,t)}).catch(()=>{}),US.set(e,t),e}function NW(t){if(Ux.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ux.set(t,e)}let Vx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OW(t){Vx=t(Vx)}function AW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Q0(this),e,...n);return o4.set(r,e.sort?e.sort():[e]),Jo(r)}:TW().includes(t)?function(...e){return t.apply(Q0(this),e),Jo(s4.get(this))}:function(...e){return Jo(t.apply(Q0(this),e))}}function DW(t){return typeof t=="function"?AW(t):(t instanceof IDBTransaction&&NW(t),EW(t,kW())?new Proxy(t,Vx):t)}function Jo(t){if(t instanceof IDBRequest)return CW(t);if(K0.has(t))return K0.get(t);const e=DW(t);return e!==t&&(K0.set(t,e),US.set(e,t)),e}const Q0=t=>US.get(t);function IW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jo(o.result),l.oldVersion,l.newVersion,Jo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const RW=["get","getKey","getAll","getAllKeys","count"],PW=["put","add","delete","clear"],X0=new Map;function KN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(X0.get(e))return X0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RW.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return X0.set(e,s),s}OW(t=>({...t,get:(e,n,r)=>KN(e,n)||t.get(e,n,r),has:(e,n)=>!!KN(e,n)||t.has(e,n)}));const a4="@firebase/installations",VS="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=1e4,u4=`w:${VS}`,c4="FIS_v2",MW="https://firebaseinstallations.googleapis.com/v1",LW=60*60*1e3,jW="installations",FW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nl=new gl(jW,FW,$W);function d4(t){return t instanceof Oi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4({projectId:t}){return`${MW}/projects/${t}/installations`}function h4(t){return{token:t.token,requestStatus:2,expiresIn:UW(t.expiresIn),creationTime:Date.now()}}async function p4(t,e){const r=(await e.json()).error;return nl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function m4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BW(t,{refreshToken:e}){const n=m4(t);return n.append("Authorization",VW(e)),n}async function g4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function UW(t){return Number(t.replace("s","000"))}function VW(t){return`${c4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=f4(t),i=m4(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:c4,appId:t.appId,sdkVersion:u4},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await g4(()=>fetch(r,a));if(l.ok){const h=await l.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:h4(h.authToken)}}else throw await p4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=/^[cdef][\w-]{21}$/,qx="";function WW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YW(t);return zW.test(n)?n:qx}catch{return qx}}function YW(t){return HW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Map;function w4(t,e){const n=Xg(t);b4(n,e),GW(n,e)}function b4(t,e){const n=y4.get(t);if(n)for(const r of n)r(e)}function GW(t,e){const n=KW();n&&n.postMessage({key:t,fid:e}),QW()}let $a=null;function KW(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=t=>{b4(t.data.key,t.data.fid)}),$a}function QW(){y4.size===0&&$a&&($a.close(),$a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="firebase-installations-database",JW=1,rl="firebase-installations-store";let J0=null;function qS(){return J0||(J0=IW(XW,JW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),J0}async function xm(t,e){const n=Xg(t),i=(await qS()).transaction(rl,"readwrite"),s=i.objectStore(rl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&w4(t,e.fid),e}async function x4(t){const e=Xg(t),r=(await qS()).transaction(rl,"readwrite");await r.objectStore(rl).delete(e),await r.done}async function Jg(t,e){const n=Xg(t),i=(await qS()).transaction(rl,"readwrite"),s=i.objectStore(rl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&w4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t){let e;const n=await Jg(t.appConfig,r=>{const i=ZW(r),s=eY(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===qx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZW(t){const e=t||{fid:WW(),registrationStatus:0};return _4(e)}function eY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(nl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nY(t)}:{installationEntry:e}}async function tY(t,e){try{const n=await qW(t,e);return xm(t.appConfig,n)}catch(n){throw d4(n)&&n.customData.serverCode===409?await x4(t.appConfig):await xm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nY(t){let e=await QN(t.appConfig);for(;e.registrationStatus===1;)await v4(100),e=await QN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await HS(t);return r||n}return e}function QN(t){return Jg(t,e=>{if(!e)throw nl.create("installation-not-found");return _4(e)})}function _4(t){return rY(t)?{fid:t.fid,registrationStatus:0}:t}function rY(t){return t.registrationStatus===1&&t.registrationTime+l4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iY({appConfig:t,heartbeatServiceProvider:e},n){const r=sY(t,n),i=BW(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:u4,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await g4(()=>fetch(r,a));if(l.ok){const h=await l.json();return h4(h)}else throw await p4("Generate Auth Token",l)}function sY(t,{fid:e}){return`${f4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t,e=!1){let n;const r=await Jg(t.appConfig,s=>{if(!S4(s))throw nl.create("not-registered");const o=s.authToken;if(!e&&lY(o))return s;if(o.requestStatus===1)return n=oY(t,e),s;{if(!navigator.onLine)throw nl.create("app-offline");const a=cY(s);return n=aY(t,a),a}});return n?await n:r.authToken}async function oY(t,e){let n=await XN(t.appConfig);for(;n.authToken.requestStatus===1;)await v4(100),n=await XN(t.appConfig);const r=n.authToken;return r.requestStatus===0?zS(t,e):r}function XN(t){return Jg(t,e=>{if(!S4(e))throw nl.create("not-registered");const n=e.authToken;return dY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aY(t,e){try{const n=await iY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xm(t.appConfig,r),n}catch(n){if(d4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await x4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xm(t.appConfig,r)}throw n}}function S4(t){return t!==void 0&&t.registrationStatus===2}function lY(t){return t.requestStatus===2&&!uY(t)}function uY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LW}function cY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dY(t){return t.requestStatus===1&&t.requestTime+l4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fY(t){const e=t,{installationEntry:n,registrationPromise:r}=await HS(e);return r?r.catch(console.error):zS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hY(t,e=!1){const n=t;return await pY(n),(await zS(n,e)).token}async function pY(t){const{registrationPromise:e}=await HS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t){if(!t||!t.options)throw Z0("App Configuration");if(!t.name)throw Z0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Z0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Z0(t){return nl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="installations",gY="installations-internal",vY=t=>{const e=t.getProvider("app").getImmediate(),n=mY(e),r=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yY=t=>{const e=t.getProvider("app").getImmediate(),n=la(e,E4).getImmediate();return{getId:()=>fY(n),getToken:i=>hY(n,i)}};function wY(){Ni(new hi(E4,vY,"PUBLIC")),Ni(new hi(gY,yY,"PRIVATE"))}wY();_r(a4,VS);_r(a4,VS,"esm2017");const bY=(t,e)=>e.some(n=>t instanceof n);let JN,ZN;function xY(){return JN||(JN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _Y(){return ZN||(ZN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k4=new WeakMap,Hx=new WeakMap,T4=new WeakMap,ew=new WeakMap,WS=new WeakMap;function SY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&k4.set(n,t)}).catch(()=>{}),WS.set(e,t),e}function EY(t){if(Hx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kY(t){zx=t(zx)}function TY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tw(this),e,...n);return T4.set(r,e.sort?e.sort():[e]),Gs(r)}:_Y().includes(t)?function(...e){return t.apply(tw(this),e),Gs(k4.get(this))}:function(...e){return Gs(t.apply(tw(this),e))}}function CY(t){return typeof t=="function"?TY(t):(t instanceof IDBTransaction&&EY(t),bY(t,xY())?new Proxy(t,zx):t)}function Gs(t){if(t instanceof IDBRequest)return SY(t);if(ew.has(t))return ew.get(t);const e=CY(t);return e!==t&&(ew.set(t,e),WS.set(e,t)),e}const tw=t=>WS.get(t);function C4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function nw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Gs(n).then(()=>{})}const NY=["get","getKey","getAll","getAllKeys","count"],OY=["put","add","delete","clear"],rw=new Map;function eO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rw.get(e))return rw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return rw.set(e,s),s}kY(t=>({...t,get:(e,n,r)=>eO(e,n)||t.get(e,n,r),has:(e,n)=>!!eO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY="/firebase-messaging-sw.js",DY="/firebase-cloud-messaging-push-scope",N4="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",IY="https://fcmregistrations.googleapis.com/v1",O4="google.c.a.c_id",RY="google.c.a.c_l",PY="google.c.a.ts",MY="google.c.a.e";var tO;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(tO||(tO={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var zd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(zd||(zd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LY(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="fcm_token_details_db",jY=5,nO="fcm_token_object_Store";async function FY(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(iw))return null;let e=null;return(await C4(iw,jY,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(nO))return;const l=o.objectStore(nO),h=await l.index("fcmSenderId").get(t);if(await l.clear(),!!h){if(i===2){const c=h;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Vs(c.vapidKey)}}}else if(i===3){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Vs(c.auth),p256dh:Vs(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Vs(c.vapidKey)}}}else if(i===4){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Vs(c.auth),p256dh:Vs(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Vs(c.vapidKey)}}}}}})).close(),await nw(iw),await nw("fcm_vapid_details_db"),await nw("undefined"),$Y(e)?e:null}function $Y(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="firebase-messaging-database",UY=1,il="firebase-messaging-store";let sw=null;function YS(){return sw||(sw=C4(BY,UY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),sw}async function A4(t){const e=KS(t),r=await(await YS()).transaction(il).objectStore(il).get(e);if(r)return r;{const i=await FY(t.appConfig.senderId);if(i)return await GS(t,i),i}}async function GS(t,e){const n=KS(t),i=(await YS()).transaction(il,"readwrite");return await i.objectStore(il).put(e,n),await i.done,e}async function VY(t){const e=KS(t),r=(await YS()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}function KS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ur=new gl("messaging","Messaging",qY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t,e){const n=await XS(t),r=I4(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(QS(t.appConfig),i)).json()}catch(o){throw Ur.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Ur.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Ur.create("token-subscribe-no-token");return s.token}async function zY(t,e){const n=await XS(t),r=I4(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${QS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ur.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Ur.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Ur.create("token-update-no-token");return s.token}async function D4(t,e){const r={method:"DELETE",headers:await XS(t)};try{const s=await(await fetch(`${QS(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw Ur.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Ur.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function QS({projectId:t}){return`${IY}/projects/${t}/registrations`}async function XS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function I4({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==N4&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=7*24*60*60*1e3;async function YY(t){const e=await QY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Vs(e.getKey("auth")),p256dh:Vs(e.getKey("p256dh"))},r=await A4(t.firebaseDependencies);if(r){if(XY(r.subscriptionOptions,n))return Date.now()>=r.createTime+WY?KY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await D4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return rO(t.firebaseDependencies,n)}else return rO(t.firebaseDependencies,n)}async function GY(t){const e=await A4(t.firebaseDependencies);e&&(await D4(t.firebaseDependencies,e.token),await VY(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function KY(t,e){try{const n=await zY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await GS(t.firebaseDependencies,r),n}catch(n){throw await GY(t),n}}async function rO(t,e){const r={token:await HY(t,e),createTime:Date.now(),subscriptionOptions:e};return await GS(t,r),r.token}async function QY(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LY(e)})}function XY(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return JY(e,t),ZY(e,t),eG(e,t),e}function JY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function ZY(t,e){e.data&&(t.data=e.data)}function eG(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t){return typeof t=="object"&&!!t&&O4 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */R4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");R4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function R4(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){if(!t||!t.options)throw ow("App Configuration Object");if(!t.name)throw ow("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ow(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ow(t){return Ur.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=nG(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(t){try{t.swRegistration=await navigator.serviceWorker.register(AY,{scope:DY}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ur.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e){if(!e&&!t.swRegistration&&await iG(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ur.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=N4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){if(!navigator)throw Ur.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ur.create("permission-blocked");return await oG(t,e==null?void 0:e.vapidKey),await sG(t,e==null?void 0:e.serviceWorkerRegistration),YY(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(t,e,n){const r=lG(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[O4],message_name:n[RY],message_time:n[PY],message_device_time:Math.floor(Date.now()/1e3)})}function lG(t){switch(t){case zd.NOTIFICATION_CLICKED:return"notification_open";case zd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uG(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===zd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(iO(n)):t.onMessageHandler.next(iO(n)));const r=n.data;tG(r)&&r[MY]==="1"&&await aG(t,n.messageType,r)}const sO="@firebase/messaging",oO="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=t=>{const e=new rG(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>uG(e,n)),e},dG=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>P4(e,r)}};function fG(){Ni(new hi("messaging",cG,"PUBLIC")),Ni(new hi("messaging-internal",dG,"PRIVATE")),_r(sO,oO),_r(sO,oO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(){try{await ZR()}catch{return!1}return typeof window<"u"&&JR()&&D9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t=sf()){return hG().then(e=>{if(!e)throw Ur.create("unsupported-browser")},e=>{throw Ur.create("indexed-db-unsupported")}),la(Rt(t),"messaging").getImmediate()}async function mG(t,e){return t=Rt(t),P4(t,e)}fG();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebasestorage.googleapis.com",L4="storageBucket",gG=2*60*1e3,vG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends Oi{constructor(e,n,r=0){super(aw(e),`Firebase Storage: ${n} (${aw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _n;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_n||(_n={}));function aw(t){return"storage/"+t}function JS(){const t="An unknown error occurred, please check the error payload for server response.";return new En(_n.UNKNOWN,t)}function yG(t){return new En(_n.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wG(t){return new En(_n.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new En(_n.UNAUTHENTICATED,t)}function xG(){return new En(_n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _G(t){return new En(_n.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SG(){return new En(_n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EG(){return new En(_n.CANCELED,"User canceled the upload/download.")}function kG(t){return new En(_n.INVALID_URL,"Invalid URL '"+t+"'.")}function TG(t){return new En(_n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CG(){return new En(_n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+L4+"' property when initializing the app?")}function NG(){return new En(_n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OG(){return new En(_n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AG(t){return new En(_n.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wx(t){return new En(_n.INVALID_ARGUMENT,t)}function j4(){return new En(_n.APP_DELETED,"The Firebase app was deleted.")}function DG(t){return new En(_n.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xd(t,e){return new En(_n.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hc(t){throw new En(_n.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ci.makeFromUrl(e,n)}catch{return new ci(e,"")}if(r.path==="")return r;throw TG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===M4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let S=0;S<E.length;S++){const k=E[S],N=k.regex.exec(e);if(N){const O=N[k.indices.bucket];let C=N[k.indices.path];C||(C=""),r=new ci(O,C),k.postModify(r);break}}if(r==null)throw kG(e);return r}}class IG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let h=!1;function c(...w){h||(h=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(m,l())},w)}function p(){s&&clearTimeout(s)}function m(w,...b){if(h){p();return}if(w){p(),c.call(null,w,...b);return}if(l()||o){p(),c.call(null,w,...b);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function y(w){g||(g=!0,p(),!h&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function PG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){return t!==void 0}function LG(t){return typeof t=="object"&&!Array.isArray(t)}function ZS(t){return typeof t=="string"||t instanceof String}function aO(t){return eE()&&t instanceof Blob}function eE(){return typeof Blob<"u"&&!C9()}function lO(t,e,n,r){if(r<e)throw Wx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function F4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(za||(za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e,n,r,i,s,o,a,l,h,c,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===za.NO_ERROR,l=s.getStatus();if(!a||jG(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===za.ABORT;r(!1,new sp(!1,null,c));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new sp(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());MG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=JS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?j4():EG();o(l)}else{const l=SG();o(l)}};this.canceled_?n(!1,new sp(!1,null,!0)):this.backoffId_=RG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $G(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qG(t,e,n,r,i,s,o=!0){const a=F4(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return UG(h,e),$G(h,n),BG(h,s),VG(h,r),new FG(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zG(...t){const e=HG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(eE())return new Blob(t);throw new En(_n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){if(typeof atob>"u")throw AG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lw{constructor(e,n){this.data=e,this.contentType=n||null}}function GG(t,e){switch(t){case vs.RAW:return new lw($4(e));case vs.BASE64:case vs.BASE64URL:return new lw(B4(t,e));case vs.DATA_URL:return new lw(QG(e),XG(e))}throw JS()}function $4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KG(t){let e;try{e=decodeURIComponent(t)}catch{throw xd(vs.DATA_URL,"Malformed data URL.")}return $4(e)}function B4(t,e){switch(t){case vs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YG(e)}catch(i){throw i.message.includes("polyfill")?i:xd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class U4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xd(vs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=JG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function QG(t){const e=new U4(t);return e.base64?B4(vs.BASE64,e.rest):KG(e.rest)}function XG(t){return new U4(t).contentType}function JG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){let r=0,i="";aO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(aO(this.data_)){const r=this.data_,i=WG(r,e,n);return i===null?null:new Vo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vo(r,!0)}}static getBlob(...e){if(eE()){const n=e.map(r=>r instanceof Vo?r.data_:r);return new Vo(zG.apply(null,n))}else{const n=e.map(o=>ZS(o)?GG(vs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Vo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){let e;try{e=JSON.parse(t)}catch{return null}return LG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function q4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t,e){return e}class Lr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tK}}let op=null;function nK(t){return!ZS(t)||t.length<2?t:q4(t)}function H4(){if(op)return op;const t=[];t.push(new Lr("bucket")),t.push(new Lr("generation")),t.push(new Lr("metageneration")),t.push(new Lr("name","fullPath",!0));function e(s,o){return nK(o)}const n=new Lr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Lr("size");return i.xform=r,t.push(i),t.push(new Lr("timeCreated")),t.push(new Lr("updated")),t.push(new Lr("md5Hash",null,!0)),t.push(new Lr("cacheControl",null,!0)),t.push(new Lr("contentDisposition",null,!0)),t.push(new Lr("contentEncoding",null,!0)),t.push(new Lr("contentLanguage",null,!0)),t.push(new Lr("contentType",null,!0)),t.push(new Lr("metadata","customMetadata",!0)),op=t,op}function rK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ci(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function iK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return rK(r,t),r}function z4(t,e,n){const r=V4(e);return r===null?null:iK(t,r,n)}function sK(t,e,n,r){const i=V4(e);if(i===null||!ZS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const c=t.bucket,f=t.fullPath,p="/b/"+o(c)+"/o/"+o(f),m=tE(p,n,r),g=F4({alt:"media",token:h});return m+g})[0]}function oK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class W4{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){if(!t)throw JS()}function aK(t,e){function n(r,i){const s=z4(t,i,e);return Y4(s!==null),s}return n}function lK(t,e){function n(r,i){const s=z4(t,i,e);return Y4(s!==null),sK(s,i,t.host,t._protocol)}return n}function G4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xG():i=bG():n.getStatus()===402?i=wG(t.bucket):n.getStatus()===403?i=_G(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uK(t){const e=G4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=yG(t.path)),s.serverResponse=i.serverResponse,s}return n}function cK(t,e,n){const r=e.fullServerUrl(),i=tE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new W4(i,s,lK(t,n),o);return a.errorHandler=uK(e),a}function dK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=dK(null,e)),r}function hK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let S=0;S<2;S++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const h=fK(e,r,i),c=oK(h,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Vo.getBlob(f,r,p);if(m===null)throw NG();const g={name:h.fullPath},y=tE(s,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,_=new W4(y,w,aK(t,n),b);return _.urlParams=g,_.headers=o,_.body=m.uploadData(),_.errorHandler=G4(e),_}class pK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Hc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mK extends pK{initXhr(){this.xhr_.responseType="text"}}function K4(){return new mK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sl(e,n)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q4(this._location.path)}get storage(){return this._service}get parent(){const e=ZG(this._location.path);if(e===null)return null;const n=new ci(this._location.bucket,e);return new sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DG(e)}}function gK(t,e,n){t._throwIfRoot("uploadBytes");const r=hK(t.storage,t._location,H4(),new Vo(e,!0),n);return t.storage.makeRequestWithTokens(r,K4).then(i=>({metadata:i,ref:t}))}function vK(t){t._throwIfRoot("getDownloadURL");const e=cK(t.storage,t._location,H4());return t.storage.makeRequestWithTokens(e,K4).then(n=>{if(n===null)throw OG();return n})}function yK(t,e){const n=eK(t._location.path,e),r=new ci(t._location.bucket,n);return new sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){return/^[A-Za-z]+:\/\//.test(t)}function bK(t,e){return new sl(t,e)}function Q4(t,e){if(t instanceof nE){const n=t;if(n._bucket==null)throw CG();const r=new sl(n,n._bucket);return e!=null?Q4(r,e):r}else return e!==void 0?yK(t,e):t}function xK(t,e){if(e&&wK(e)){if(t instanceof nE)return bK(t,e);throw Wx("To use ref(service, url), the first argument must be a Storage instance.")}else return Q4(t,e)}function uO(t,e){const n=e==null?void 0:e[L4];return n==null?null:ci.makeFromBucketSpec(n,t)}function _K(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:XR(i,t.app.options.projectId))}class nE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=M4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gG,this._maxUploadRetryTime=vG,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i,this._host):this._bucket=uO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=uO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new IG(j4());{const o=qG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const cO="@firebase/storage",dO="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="storage";function fO(t,e,n){return t=Rt(t),gK(t,e,n)}function Yx(t){return t=Rt(t),vK(t)}function Gx(t,e){return t=Rt(t),xK(t,e)}function SK(t=sf(),e){t=Rt(t);const r=la(t,X4).getImmediate({identifier:e}),i=C_("storage");return i&&EK(r,...i),r}function EK(t,e,n,r={}){_K(t,e,n,r)}function kK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nE(n,r,i,e,vl)}function TK(){Ni(new hi(X4,kK,"PUBLIC").setMultipleInstances(!0)),_r(cO,dO,""),_r(cO,dO,"esm2017")}TK();const CK={apiKey:"AIzaSyA6HW3pwkb-agsEpSYWGmlYSuvFiJDxp5c",authDomain:"han-bookclub.firebaseapp.com",projectId:"han-bookclub",storageBucket:"han-bookclub.appspot.com",messagingSenderId:"1033530409448",appId:"1:1033530409448:web:aff6942a34c0a48c81645d",measurementId:"G-925LMFR6FK"},NK=nP(CK),Xt=gg(),Jt=qz(),Kx=SK(),OK=pG(NK),J4=_W(),_m=async()=>mG(OK,{vapidKey:"BDj5rPznBXENjg3_ufDJ6BLBU1igiHvQTiBDYOUMRbVQTcQpQRh6erEWWBQyg1SVuC3yAvzgM4xarrhpqwM26ag",serviceWorkerRegistration:await navigator.serviceWorker.register("/han-bookclub-app/firebase-messaging-sw.js")}),uw=i4(J4,"sendUnicast"),hO=i4(J4,"sendMulticast");var Z4={};function AK(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var DK=AK,gt=DK;function IK(t){return!!t&&typeof t.then=="function"}var rn=IK;function RK(t,e){if(t!=null)return t;throw gt(e??"Got unexpected null or undefined")}var fn=RK;function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Zg{getValue(){throw gt("BaseLoadable")}toPromise(){throw gt("BaseLoadable")}valueMaybe(){throw gt("BaseLoadable")}valueOrThrow(){throw gt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw gt("BaseLoadable")}promiseOrThrow(){throw gt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw gt("BaseLoadable")}errorOrThrow(){throw gt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw gt("BaseLoadable")}}class PK extends Zg{constructor(e){super(),pt(this,"state","hasValue"),pt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return rn(n)?ol(n):Du(n)?n:Ef(n)}catch(n){return rn(n)?ol(n.next(()=>this.map(e))):ev(n)}}}class MK extends Zg{constructor(e){super(),pt(this,"state","hasError"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class ej extends Zg{constructor(e){super(),pt(this,"state","loading"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ol(this.contents.then(n=>{const r=e(n);if(Du(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(rn(n))return n.then(()=>this.map(e).contents);throw n}))}}function Ef(t){return Object.freeze(new PK(t))}function ev(t){return Object.freeze(new MK(t))}function ol(t){return Object.freeze(new ej(t))}function tj(){return Object.freeze(new ej(new Promise(()=>{})))}function LK(t){return t.every(e=>e.state==="hasValue")?Ef(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?ev(fn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ol(Promise.all(t.map(e=>e.contents)))}function nj(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Du(i)?i:rn(i)?ol(i):Ef(i)),r=LK(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Du(t){return t instanceof Zg}const jK={of:t=>rn(t)?ol(t):Du(t)?t:Ef(t),error:t=>ev(t),loading:()=>tj(),all:nj,isLoadable:Du};var Sl={loadableWithValue:Ef,loadableWithError:ev,loadableWithPromise:ol,loadableLoading:tj,loadableAll:nj,isLoadable:Du,RecoilLoadable:jK},FK=Sl.loadableWithValue,$K=Sl.loadableWithError,BK=Sl.loadableWithPromise,UK=Sl.loadableLoading,VK=Sl.loadableAll,qK=Sl.isLoadable,HK=Sl.RecoilLoadable,kf=Object.freeze({__proto__:null,loadableWithValue:FK,loadableWithError:$K,loadableWithPromise:BK,loadableLoading:UK,loadableAll:VK,isLoadable:qK,RecoilLoadable:HK});const Qx={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function zK(t,e){var n,r;const i=(n=Z4[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw gt(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function WK(t,e){var n;const r=(n=Z4[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function YK(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(zK("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Qx.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),WK("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Qx.RECOIL_GKS_ENABLED.add(n)})}))}YK();var Tf=Qx;function tv(t){return Tf.RECOIL_GKS_ENABLED.has(t)}tv.setPass=t=>{Tf.RECOIL_GKS_ENABLED.add(t)};tv.setFail=t=>{Tf.RECOIL_GKS_ENABLED.delete(t)};tv.clear=()=>{Tf.RECOIL_GKS_ENABLED.clear()};var Qt=tv;function GK(t,e,{error:n}={}){return null}var KK=GK,ei=KK,cw,dw,fw;const QK=(cw=se.createMutableSource)!==null&&cw!==void 0?cw:se.unstable_createMutableSource,rj=(dw=se.useMutableSource)!==null&&dw!==void 0?dw:se.unstable_useMutableSource,rE=(fw=se.useSyncExternalStore)!==null&&fw!==void 0?fw:se.unstable_useSyncExternalStore;let pO=!1;function XK(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null;return rE&&!i&&!pO&&(pO=!0,ei()),i}function JK(){return Qt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Qt("recoil_sync_external_store")&&rE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Qt("recoil_mutable_source")&&rj!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Qt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Qt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var iE={createMutableSource:QK,useMutableSource:rj,useSyncExternalStore:rE,currentRendererSupportsUseSyncExternalStore:XK,reactMode:JK};class sE{constructor(e){pt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class ij extends sE{}class sj extends sE{}function ZK(t){return t instanceof ij||t instanceof sj}var nv={AbstractRecoilValue:sE,RecoilState:ij,RecoilValueReadOnly:sj,isRecoilValue:ZK},eQ=nv.AbstractRecoilValue,tQ=nv.RecoilState,nQ=nv.RecoilValueReadOnly,rQ=nv.isRecoilValue,al=Object.freeze({__proto__:null,AbstractRecoilValue:eQ,RecoilState:tQ,RecoilValueReadOnly:nQ,isRecoilValue:rQ});function iQ(t,...e){}var sQ=iQ,oj=sQ;function oQ(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var rv=oQ;class aj{}const aQ=new aj,Iu=new Map,oE=new Map;function lQ(t){return rv(t,e=>fn(oE.get(e)))}function uQ(t){if(Iu.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function cQ(t){Tf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&uQ(t.key),Iu.set(t.key,t);const e=t.set==null?new al.RecoilValueReadOnly(t.key):new al.RecoilState(t.key);return oE.set(t.key,e),e}class dQ extends Error{}function fQ(t){const e=Iu.get(t);if(e==null)throw new dQ(`Missing definition for RecoilValue: "${t}""`);return e}function hQ(t){return Iu.get(t)}const Sm=new Map;function pQ(t){var e;if(!Qt("recoil_memory_managament_2020"))return;const n=Iu.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Iu.delete(t),(r=lj(t))===null||r===void 0||r(),Sm.delete(t)}}function mQ(t,e){Qt("recoil_memory_managament_2020")&&(e===void 0?Sm.delete(t):Sm.set(t,e))}function lj(t){return Sm.get(t)}var Ai={recoilValues:oE,registerNode:cQ,getNode:fQ,getNodeMaybe:hQ,deleteNodeConfigIfPossible:pQ,setConfigDeletionHandler:mQ,getConfigDeletionHandler:lj,recoilValuesForKeys:lQ,DefaultValue:aj,DEFAULT_VALUE:aQ};function gQ(t,e){e()}var vQ={enqueueExecution:gQ};function yQ(t,e){return e={exports:{}},t(e,e.exports),e.exports}var wQ=yQ(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},h=function(ie){return function(){return ie}},c=n.hash=function(oe){var ie=typeof oe>"u"?"undefined":e(oe);if(ie==="number")return oe;ie!=="string"&&(oe+="");for(var be=0,ke=0,Te=oe.length;ke<Te;++ke){var Oe=oe.charCodeAt(ke);be=(be<<5)-be+Oe|0}return be},f=function(ie){return ie-=ie>>1&1431655765,ie=(ie&858993459)+(ie>>2&858993459),ie=ie+(ie>>4)&252645135,ie+=ie>>8,ie+=ie>>16,ie&127},p=function(ie,be){return be>>>ie&s},m=function(ie){return 1<<ie},g=function(ie,be){return f(ie&be-1)},y=function(ie,be,ke,Te){var Oe=Te;if(!ie){var Ge=Te.length;Oe=new Array(Ge);for(var Ue=0;Ue<Ge;++Ue)Oe[Ue]=Te[Ue]}return Oe[be]=ke,Oe},w=function(ie,be,ke){var Te=ke.length-1,Oe=0,Ge=0,Ue=ke;if(ie)Oe=Ge=be;else for(Ue=new Array(Te);Oe<be;)Ue[Ge++]=ke[Oe++];for(++Oe;Oe<=Te;)Ue[Ge++]=ke[Oe++];return ie&&(Ue.length=Te),Ue},b=function(ie,be,ke,Te){var Oe=Te.length;if(ie){for(var Ge=Oe;Ge>=be;)Te[Ge--]=Te[Ge];return Te[be]=ke,Te}for(var Ue=0,He=0,rt=new Array(Oe+1);Ue<be;)rt[He++]=Te[Ue++];for(rt[be]=ke;Ue<Oe;)rt[++He]=Te[Ue++];return rt},_=1,E=2,S=3,k=4,N={__hamt_isEmpty:!0},O=function(ie){return ie===N||ie&&ie.__hamt_isEmpty},C=function(ie,be,ke,Te){return{type:_,edit:ie,hash:be,key:ke,value:Te,_modify:Y}},I=function(ie,be,ke){return{type:E,edit:ie,hash:be,children:ke,_modify:H}},R=function(ie,be,ke){return{type:S,edit:ie,mask:be,children:ke,_modify:j}},A=function(ie,be,ke){return{type:k,edit:ie,size:be,children:ke,_modify:U}},D=function(ie){return ie===N||ie.type===_||ie.type===E},M=function(ie,be,ke,Te,Oe){for(var Ge=[],Ue=Te,He=0,rt=0;Ue;++rt)Ue&1&&(Ge[rt]=Oe[He++]),Ue>>>=1;return Ge[be]=ke,A(ie,He+1,Ge)},F=function(ie,be,ke,Te){for(var Oe=new Array(be-1),Ge=0,Ue=0,He=0,rt=Te.length;He<rt;++He)if(He!==ke){var St=Te[He];St&&!O(St)&&(Oe[Ge++]=St,Ue|=1<<He)}return R(ie,Ue,Oe)},q=function oe(ie,be,ke,Te,Oe,Ge){if(ke===Oe)return I(ie,ke,[Ge,Te]);var Ue=p(be,ke),He=p(be,Oe);return R(ie,m(Ue)|m(He),Ue===He?[oe(ie,be+r,ke,Te,Oe,Ge)]:Ue<He?[Te,Ge]:[Ge,Te])},L=function(ie,be,ke,Te,Oe,Ge,Ue,He){for(var rt=Oe.length,St=0;St<rt;++St){var An=Oe[St];if(ke(Ue,An.key)){var Ft=An.value,cn=Ge(Ft);return cn===Ft?Oe:cn===l?(--He.value,w(ie,St,Oe)):y(ie,St,C(be,Te,Ue,cn),Oe)}}var Hr=Ge();return Hr===l?Oe:(++He.value,y(ie,rt,C(be,Te,Ue,Hr),Oe))},B=function(ie,be){return ie===be.edit},Y=function(ie,be,ke,Te,Oe,Ge,Ue){if(be(Ge,this.key)){var He=Te(this.value);return He===this.value?this:He===l?(--Ue.value,N):B(ie,this)?(this.value=He,this):C(ie,Oe,Ge,He)}var rt=Te();return rt===l?this:(++Ue.value,q(ie,ke,this.hash,this,Oe,C(ie,Oe,Ge,rt)))},H=function(ie,be,ke,Te,Oe,Ge,Ue){if(Oe===this.hash){var He=B(ie,this),rt=L(He,ie,be,this.hash,this.children,Te,Ge,Ue);return rt===this.children?this:rt.length>1?I(ie,this.hash,rt):rt[0]}var St=Te();return St===l?this:(++Ue.value,q(ie,ke,this.hash,this,Oe,C(ie,Oe,Ge,St)))},j=function(ie,be,ke,Te,Oe,Ge,Ue){var He=this.mask,rt=this.children,St=p(ke,Oe),An=m(St),Ft=g(He,An),cn=He&An,Hr=cn?rt[Ft]:N,gi=Hr._modify(ie,be,ke+r,Te,Oe,Ge,Ue);if(Hr===gi)return this;var ho=B(ie,this),Di=He,va=void 0;if(cn&&O(gi)){if(Di&=~An,!Di)return N;if(rt.length<=2&&D(rt[Ft^1]))return rt[Ft^1];va=w(ho,Ft,rt)}else if(!cn&&!O(gi)){if(rt.length>=o)return M(ie,St,gi,He,rt);Di|=An,va=b(ho,Ft,gi,rt)}else va=y(ho,Ft,gi,rt);return ho?(this.mask=Di,this.children=va,this):R(ie,Di,va)},U=function(ie,be,ke,Te,Oe,Ge,Ue){var He=this.size,rt=this.children,St=p(ke,Oe),An=rt[St],Ft=(An||N)._modify(ie,be,ke+r,Te,Oe,Ge,Ue);if(An===Ft)return this;var cn=B(ie,this),Hr=void 0;if(O(An)&&!O(Ft))++He,Hr=y(cn,St,Ft,rt);else if(!O(An)&&O(Ft)){if(--He,He<=a)return F(ie,He,St,rt);Hr=y(cn,St,N,rt)}else Hr=y(cn,St,Ft,rt);return cn?(this.size=He,this.children=Hr,this):A(ie,He,Hr)};N._modify=function(oe,ie,be,ke,Te,Oe,Ge){var Ue=ke();return Ue===l?N:(++Ge.value,C(oe,Te,Oe,Ue))};function V(oe,ie,be,ke,Te){this._editable=oe,this._edit=ie,this._config=be,this._root=ke,this._size=Te}V.prototype.setTree=function(oe,ie){return this._editable?(this._root=oe,this._size=ie,this):oe===this._root?this:new V(this._editable,this._edit,this._config,oe,ie)};var z=n.tryGetHash=function(oe,ie,be,ke){for(var Te=ke._root,Oe=0,Ge=ke._config.keyEq;;)switch(Te.type){case _:return Ge(be,Te.key)?Te.value:oe;case E:{if(ie===Te.hash)for(var Ue=Te.children,He=0,rt=Ue.length;He<rt;++He){var St=Ue[He];if(Ge(be,St.key))return St.value}return oe}case S:{var An=p(Oe,ie),Ft=m(An);if(Te.mask&Ft){Te=Te.children[g(Te.mask,Ft)],Oe+=r;break}return oe}case k:{if(Te=Te.children[p(Oe,ie)],Te){Oe+=r;break}return oe}default:return oe}};V.prototype.tryGetHash=function(oe,ie,be){return z(oe,ie,be,this)};var Q=n.tryGet=function(oe,ie,be){return z(oe,be._config.hash(ie),ie,be)};V.prototype.tryGet=function(oe,ie){return Q(oe,ie,this)};var X=n.getHash=function(oe,ie,be){return z(void 0,oe,ie,be)};V.prototype.getHash=function(oe,ie){return X(oe,ie,this)},n.get=function(oe,ie){return z(void 0,ie._config.hash(oe),oe,ie)},V.prototype.get=function(oe,ie){return Q(ie,oe,this)};var W=n.has=function(oe,ie,be){return z(l,oe,ie,be)!==l};V.prototype.hasHash=function(oe,ie){return W(oe,ie,this)};var J=n.has=function(oe,ie){return W(ie._config.hash(oe),oe,ie)};V.prototype.has=function(oe){return J(oe,this)};var Z=function(ie,be){return ie===be};n.make=function(oe){return new V(0,0,{keyEq:oe&&oe.keyEq||Z,hash:oe&&oe.hash||c},N,0)},n.empty=n.make();var te=n.isEmpty=function(oe){return oe&&!!O(oe._root)};V.prototype.isEmpty=function(){return te(this)};var le=n.modifyHash=function(oe,ie,be,ke){var Te={value:ke._size},Oe=ke._root._modify(ke._editable?ke._edit:NaN,ke._config.keyEq,0,oe,ie,be,Te);return ke.setTree(Oe,Te.value)};V.prototype.modifyHash=function(oe,ie,be){return le(be,oe,ie,this)};var pe=n.modify=function(oe,ie,be){return le(oe,be._config.hash(ie),ie,be)};V.prototype.modify=function(oe,ie){return pe(ie,oe,this)};var ge=n.setHash=function(oe,ie,be,ke){return le(h(be),oe,ie,ke)};V.prototype.setHash=function(oe,ie,be){return ge(oe,ie,be,this)};var Ce=n.set=function(oe,ie,be){return ge(be._config.hash(oe),oe,ie,be)};V.prototype.set=function(oe,ie){return Ce(oe,ie,this)};var $e=h(l),De=n.removeHash=function(oe,ie,be){return le($e,oe,ie,be)};V.prototype.removeHash=V.prototype.deleteHash=function(oe,ie){return De(oe,ie,this)};var nt=n.remove=function(oe,ie){return De(ie._config.hash(oe),oe,ie)};V.prototype.remove=V.prototype.delete=function(oe){return nt(oe,this)};var Qe=n.beginMutation=function(oe){return new V(oe._editable+1,oe._edit+1,oe._config,oe._root,oe._size)};V.prototype.beginMutation=function(){return Qe(this)};var ce=n.endMutation=function(oe){return oe._editable=oe._editable&&oe._editable-1,oe};V.prototype.endMutation=function(){return ce(this)};var fe=n.mutate=function(oe,ie){var be=Qe(ie);return oe(be),ce(be)};V.prototype.mutate=function(oe){return fe(oe,this)};var we=function(ie){return ie&&xe(ie[0],ie[1],ie[2],ie[3],ie[4])},xe=function(ie,be,ke,Te,Oe){for(;ke<ie;){var Ge=be[ke++];if(Ge&&!O(Ge))return he(Ge,Te,[ie,be,ke,Te,Oe])}return we(Oe)},he=function(ie,be,ke){switch(ie.type){case _:return{value:be(ie),rest:ke};case E:case k:case S:var Te=ie.children;return xe(Te.length,Te,0,be,ke);default:return we(ke)}},Be={done:!0};function Ie(oe){this.v=oe}Ie.prototype.next=function(){if(!this.v)return Be;var oe=this.v;return this.v=we(oe.rest),oe},Ie.prototype[Symbol.iterator]=function(){return this};var Ye=function(ie,be){return new Ie(he(ie._root,be))},Yt=function(ie){return[ie.key,ie.value]},On=n.entries=function(oe){return Ye(oe,Yt)};V.prototype.entries=V.prototype[Symbol.iterator]=function(){return On(this)};var st=function(ie){return ie.key},Vr=n.keys=function(oe){return Ye(oe,st)};V.prototype.keys=function(){return Vr(this)};var dt=function(ie){return ie.value},zt=n.values=V.prototype.values=function(oe){return Ye(oe,dt)};V.prototype.values=function(){return zt(this)};var Jn=n.fold=function(oe,ie,be){var ke=be._root;if(ke.type===_)return oe(ie,ke.value,ke.key);for(var Te=[ke.children],Oe=void 0;Oe=Te.pop();)for(var Ge=0,Ue=Oe.length;Ge<Ue;){var He=Oe[Ge++];He&&He.type&&(He.type===_?ie=oe(ie,He.value,He.key):Te.push(He.children))}return ie};V.prototype.fold=function(oe,ie){return Jn(oe,ie,this)};var qr=n.forEach=function(oe,ie){return Jn(function(be,ke,Te){return oe(ke,Te,ie)},null,ie)};V.prototype.forEach=function(oe){return qr(oe,this)};var Rr=n.count=function(oe){return oe._size};V.prototype.count=function(){return Rr(this)},Object.defineProperty(V.prototype,"size",{get:V.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class bQ{constructor(e){pt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return lE(this)}toMap(){return new Map(this._map)}}class aE{constructor(e){if(pt(this,"_hamt",wQ.empty.beginMutation()),e instanceof aE){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return lE(this)}toMap(){return new Map(this._hamt)}}function lE(t){return Qt("recoil_hamt_2020")?new aE(t):new bQ(t)}var xQ={persistentMap:lE},_Q=xQ.persistentMap,SQ=Object.freeze({__proto__:null,persistentMap:_Q});function EQ(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var mO=EQ;function kQ(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var gO=kQ;function TQ(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function CQ(t){return{nodeDeps:gO(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:gO(t.nodeToNodeSubscriptions,e=>new Set(e))}}function hw(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:mO(e,o);for(const l of a)s.has(l)||s.set(l,new Set),fn(s.get(l)).add(t);if(o){const l=mO(o,e);for(const h of l){if(!s.has(h))return;const c=fn(s.get(h));c.delete(t),c.size===0&&s.delete(h)}}}function NQ(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||r===((s=l.previousTree)===null||s===void 0?void 0:s.version)||ei();const h=n.getGraph(r);if(hw(t,e,h),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const f=n.getGraph(l.currentTree.version);hw(t,e,f,h)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const p=n.getGraph(f);hw(t,e,p,h)}}}var Cf={cloneGraph:CQ,graph:TQ,saveDepsToStore:NQ};let OQ=0;const AQ=()=>OQ++;let DQ=0;const IQ=()=>DQ++;let RQ=0;const PQ=()=>RQ++;var iv={getNextTreeStateVersion:AQ,getNextStoreID:IQ,getNextComponentID:PQ};const{persistentMap:vO}=SQ,{graph:MQ}=Cf,{getNextTreeStateVersion:uj}=iv;function LQ(){const t=uj();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:vO(),nonvalidatedAtoms:vO()}}function jQ(){const t=LQ();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,MQ()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var cj={makeEmptyStoreState:jQ,getNextTreeStateVersion:uj};class FQ{}var uE={RetentionZone:FQ};function $Q(t,e){const n=new Set(t);return n.add(e),n}var BQ={setByAddingToSet:$Q};function*UQ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var cE=UQ;function VQ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var dj=VQ;const{getNode:Nf,getNodeMaybe:qQ,recoilValuesForKeys:yO}=Ai,{RetentionZone:wO}=uE,{setByAddingToSet:HQ}=BQ,zQ=Object.freeze(new Set);class WQ extends Error{}function YQ(t,e,n){if(!Qt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof wO)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Qt("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof wO)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function dE(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Nf(n),o=YQ(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function GQ(t,e,n){dE(t,t.getState().currentTree,e,n)}function KQ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function QQ(t,e,n){return dE(t,e,n,"get"),Nf(n).get(t,e)}function fj(t,e,n){return Nf(n).peek(t,e)}function XQ(t,e,n){var r;const i=qQ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:HQ(t.dirtyAtoms,e)}}function JQ(t,e,n,r){const i=Nf(n);if(i.set==null)throw new WQ(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return dE(t,e,n,"set"),s(t,e,r)}function ZQ(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Nf(n).nodeType;return dj({type:s},{loadable:()=>fj(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return yO((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:yO(cE(hj(t,e,new Set([n])),l=>l!==n)),components:rv((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function hj(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:zQ;for(const h of l)r.has(h)||i.push(h)}return r}var El={getNodeLoadable:QQ,peekNodeLoadable:fj,setNodeValue:JQ,initializeNode:GQ,cleanUpNode:KQ,setUnvalidatedAtomValue_DEPRECATED:XQ,peekNodeInfo:ZQ,getDownstreamNodes:hj};let pj=null;function eX(t){pj=t}function tX(){var t;(t=pj)===null||t===void 0||t()}var mj={setInvalidateMemoizedSnapshot:eX,invalidateMemoizedSnapshot:tX};const{getDownstreamNodes:nX,getNodeLoadable:gj,setNodeValue:rX}=El,{getNextComponentID:iX}=iv,{getNode:sX,getNodeMaybe:vj}=Ai,{DefaultValue:fE}=Ai,{reactMode:oX}=iE,{AbstractRecoilValue:aX,RecoilState:Xge,RecoilValueReadOnly:Jge,isRecoilValue:Zge}=al,{invalidateMemoizedSnapshot:lX}=mj;function uX(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||n.version===((i=s.previousTree)===null||i===void 0?void 0:i.version)||ei();const o=gj(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function cX(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof fE?n.delete(i):n.set(i,r)}),n}function dX(t,e,{key:n},r){if(typeof r=="function"){const i=gj(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ei(),gt(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function fX(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=dX(t,e,i,s),a=rX(t,e,i.key,o);for(const[l,h]of a.entries())Xx(e,l,h)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Xx(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=vj(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else ei(`Unknown action ${n.type}`)}function Xx(t,e,n){n.state==="hasValue"&&n.contents instanceof fE?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function yj(t,e){t.replaceState(n=>{const r=wj(n);for(const i of e)fX(t,r,i);return bj(t,r),lX(),r})}function sv(t,e){if(_d.length){const n=_d[_d.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else yj(t,[e])}const _d=[];function hX(){const t=new Map;return _d.push(t),()=>{for(const[n,r]of t)yj(n,r);_d.pop()!==t&&ei()}}function wj(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function bj(t,e){const n=nX(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=vj(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function xj(t,e,n){sv(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function pX(t,e,n){if(n instanceof fE)return xj(t,e,n);sv(t,{type:"setLoadable",recoilValue:e,loadable:n})}function mX(t,e){sv(t,{type:"markModified",recoilValue:e})}function gX(t,e,n){sv(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function vX(t,{key:e},n,r=null){const i=iX(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),fn(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=oX();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);if(l===void 0||!l.has(i)){ei();return}l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e)}}}function yX(t,e){var n;const{currentTree:r}=t.getState(),i=sX(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var ao={AbstractRecoilValue:aX,getRecoilValueAsLoadable:uX,setRecoilValue:xj,setRecoilValueLoadable:pX,markRecoilValueModified:mX,setUnvalidatedRecoilValue:gX,subscribeToRecoilValue:vX,applyAtomValueWrites:cX,batchStart:hX,writeLoadableToTreeState:Xx,invalidateDownstreams:bj,copyTreeState:wj,refreshRecoilValue:yX};function wX(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var bX=wX;const{cleanUpNode:xX}=El,{deleteNodeConfigIfPossible:_X,getNode:_j}=Ai,{RetentionZone:Sj}=uE,SX=12e4,Ej=new Set;function kj(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree){ei();return}const i=new Set;for(const o of e)if(o instanceof Sj)for(const a of CX(n,o))i.add(a);else i.add(o);const s=EX(t,i);for(const o of s)TX(t,r,o)}function EX(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const h=new Set,c=kX(t,r,l,s,o);for(const g of c){var f;if(_j(g).retainedBy==="recoilRoot"){o.add(g);continue}if(((f=n.retention.referenceCounts.get(g))!==null&&f!==void 0?f:0)>0){o.add(g);continue}if(Tj(g).some(w=>n.retention.referenceCounts.get(w))){o.add(g);continue}const y=i.nodeToNodeSubscriptions.get(g);if(y&&bX(y,w=>o.has(w))){o.add(g);continue}s.add(g),h.add(g)}const p=new Set;for(const g of h)for(const y of(m=i.nodeDeps.get(g))!==null&&m!==void 0?m:Ej){var m;s.has(y)||p.add(y)}p.size&&a(p)}}function kX(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(fn(n.values().next().value));return o;function l(h){if(r.has(h)||i.has(h)){n.delete(h);return}if(a.has(h))return;const c=s.nodeToNodeSubscriptions.get(h);if(c)for(const f of c)l(f);a.add(h),n.delete(h),o.push(h)}}function TX(t,e,n){if(!Qt("recoil_memory_managament_2020"))return;xX(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=Tj(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const h of l){var a;(a=o.nodeToNodeSubscriptions.get(h))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}_X(n)}function CX(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:Ej}function Tj(t){const e=_j(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Sj?[e]:e}function NX(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):kj(t,new Set([e]))}function OX(t,e,n){var r;if(!Qt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?AX(t,e):i.set(e,s)}function AX(t,e){if(!Qt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),NX(t,e)}function DX(t){if(!Qt("recoil_memory_managament_2020"))return;const e=t.getState();kj(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function IX(t){return t===void 0?"recoilRoot":t}var Qu={SUSPENSE_TIMEOUT_MS:SX,updateRetainCount:OX,releaseScheduledRetainablesNow:DX,retainedByOptionWithDefault:IX};const{unstable_batchedUpdates:RX}=__;var PX={unstable_batchedUpdates:RX};const{unstable_batchedUpdates:MX}=PX;var LX={unstable_batchedUpdates:MX};const{batchStart:jX}=ao,{unstable_batchedUpdates:FX}=LX;let $X=FX||(t=>t());const BX=t=>{$X(()=>{let e=()=>{};try{e=jX(),t()}finally{e()}})};var hE={batchUpdates:BX};function*UX(t){for(const e of t)for(const n of e)yield n}var Cj=UX;const VX=typeof Window>"u"||typeof window>"u";var pE={isSSR:VX};function qX(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var HX={memoizeOneWithArgsHashAndInvalidation:qX};const{batchUpdates:Jx}=hE,{initializeNode:zX,peekNodeInfo:WX}=El,{graph:YX}=Cf,{getNextStoreID:GX}=iv,{DEFAULT_VALUE:KX,recoilValues:bO,recoilValuesForKeys:xO}=Ai,{AbstractRecoilValue:QX,getRecoilValueAsLoadable:XX,setRecoilValue:_O,setUnvalidatedRecoilValue:JX}=ao,{updateRetainCount:Lp}=Qu,{setInvalidateMemoizedSnapshot:ZX}=mj,{getNextTreeStateVersion:eJ,makeEmptyStoreState:tJ}=cj,{isSSR:nJ}=pE,{memoizeOneWithArgsHashAndInvalidation:rJ}=HX;class ov{constructor(e,n){pt(this,"_store",void 0),pt(this,"_refCount",1),pt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),XX(this._store,r))),pt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),pt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return xO(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?bO.values():r.isInitialized===!0?xO(Cj([i,s])):cE(bO.values(),({key:o})=>!i.has(o)&&!s.has(o))}),pt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),WX(this._store,this._store.getState().currentTree,r))),pt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Zx(this,Jx);return r(i),i}),pt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Zx(this,Jx);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:GX(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return fn(i.get(r));const s=YX();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw gt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)zX(this._store,r,"get"),Lp(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&ei(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){nJ||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Qt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Qt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Nj(t,e,n=!1){const r=t.getState(),i=n?eJ():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(rv(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function iJ(t){const e=new ov(tJ());return t!=null?e.map(t):e}const[SO,Oj]=rJ((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:fn(r.previousTree);return new ov(Nj(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});ZX(Oj);function sJ(t,e="latest"){const n=SO(t,e);return n.isRetained()?n:(Oj(),SO(t,e))}class Zx extends ov{constructor(e,n){super(Nj(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),pt(this,"_batch",void 0),pt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Lp(s,r.key,1),_O(this.getStore_INTERNAL(),r,i)})}),pt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Lp(i,r.key,1),_O(this.getStore_INTERNAL(),r,KX)})}),pt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Jx(()=>{for(const[s,o]of r.entries())Lp(i,s,1),JX(i,new QX(s),o)})}),this._batch=n}}var av={Snapshot:ov,MutableSnapshot:Zx,freshSnapshot:iJ,cloneSnapshot:sJ},oJ=av.Snapshot,aJ=av.MutableSnapshot,lJ=av.freshSnapshot,uJ=av.cloneSnapshot,lv=Object.freeze({__proto__:null,Snapshot:oJ,MutableSnapshot:aJ,freshSnapshot:lJ,cloneSnapshot:uJ});function cJ(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var dJ=cJ;const{useRef:fJ}=se;function hJ(t){const e=fJ(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var EO=hJ;const{getNextTreeStateVersion:pJ,makeEmptyStoreState:Aj}=cj,{cleanUpNode:mJ,getDownstreamNodes:gJ,initializeNode:vJ,setNodeValue:yJ,setUnvalidatedAtomValue_DEPRECATED:wJ}=El,{graph:bJ}=Cf,{cloneGraph:xJ}=Cf,{getNextStoreID:Dj}=iv,{createMutableSource:pw,reactMode:Ij}=iE,{applyAtomValueWrites:_J}=ao,{releaseScheduledRetainablesNow:Rj}=Qu,{freshSnapshot:SJ}=lv,{useCallback:EJ,useContext:Pj,useEffect:e_,useMemo:kJ,useRef:TJ,useState:CJ}=se;function zc(){throw gt("This component must be used inside a <RecoilRoot> component.")}const Mj=Object.freeze({storeID:Dj(),getState:zc,replaceState:zc,getGraph:zc,subscribeToTransactions:zc,addTransactionMetadata:zc});let t_=!1;function kO(t){if(t_)throw gt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Qt("recoil_memory_managament_2020")&&Qt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Rj(t);const n=e.currentTree.version,r=pJ();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,xJ(fn(e.graphsByVersion.get(n))))}}const Lj=se.createContext({current:Mj}),mE=()=>Pj(Lj),jj=se.createContext(null);function NJ(){const t=Pj(jj);return t==null&&oj(),t}function Fj(t,e,n){const r=gJ(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function OJ(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!Ij().early||e.suspendedComponentResolvers.size>0)&&(Fj(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function AJ(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,OJ(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):ei("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Qt("recoil_memory_managament_2020")&&n==null&&Rj(t)}finally{e.commitDepth--}}function DJ({setNotifyBatcherOfChange:t}){const e=mE(),[,n]=CJ([]);return t(()=>n({})),e_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),e_(()=>{vQ.enqueueExecution("Batcher",()=>{AJ(e.current)})}),null}function IJ(t,e){const n=Aj();return e({set:(r,i)=>{const s=n.currentTree,o=yJ(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const h of a)l.delete(h);n.currentTree={...s,dirtyAtoms:dJ(s.dirtyAtoms,a),atomValues:_J(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=wJ(n.currentTree,s,i)})}}),n}function RJ(t){const e=SJ(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let TO=0;function PJ({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=m=>{const g=i.current.graphsByVersion;if(g.has(m))return fn(g.get(m));const y=bJ();return g.set(m,y),y},o=(m,g)=>{if(g==null){const{transactionSubscriptions:y}=f.current.getState(),w=TO++;return y.set(w,m),{release:()=>{y.delete(w)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(g)||y.set(g,new Map);const w=TO++;return fn(y.get(g)).set(w,m),{release:()=>{const b=y.get(g);b&&(b.delete(w),b.size===0&&y.delete(g))}}}},a=m=>{kO(f.current);for(const g of Object.keys(m))fn(f.current.getState().nextTree).transactionMetadata[g]=m[g]},l=m=>{kO(f.current);const g=fn(i.current.nextTree);let y;try{t_=!0,y=m(g)}finally{t_=!1}y!==g&&(i.current.nextTree=y,Ij().early&&Fj(f.current,i.current,y),fn(h.current)())},h=TJ(null),c=EJ(m=>{h.current=m},[h]),f=EO(()=>n??{storeID:Dj(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(f.current=n),i=EO(()=>t!=null?IJ(f.current,t):e!=null?RJ(e):Aj());const p=kJ(()=>pw==null?void 0:pw(i,()=>i.current.currentTree.version),[i]);return e_(()=>{const m=f.current;for(const g of new Set(m.getState().knownAtoms))vJ(m,g,"get");return()=>{for(const g of m.getState().knownAtoms)mJ(m,g)}},[f]),se.createElement(Lj.Provider,{value:f},se.createElement(jj.Provider,{value:p},se.createElement(DJ,{setNotifyBatcherOfChange:c}),r))}function MJ(t){const{override:e,...n}=t,r=mE();return e===!1&&r.current!==Mj?t.children:se.createElement(PJ,n)}var gE={RecoilRoot:MJ,useStoreRef:mE,useRecoilMutableSource:NJ};function LJ(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var jJ=LJ;const{useEffect:FJ,useRef:$J}=se;function BJ(t){const e=$J();return FJ(()=>{e.current=t}),e.current}var UJ=BJ;const{useStoreRef:VJ}=gE,{SUSPENSE_TIMEOUT_MS:qJ}=Qu,{updateRetainCount:Wc}=Qu,{RetentionZone:HJ}=uE,{useEffect:zJ,useRef:WJ}=se,{isSSR:CO}=pE;function YJ(t){if(Qt("recoil_memory_managament_2020"))return GJ(t)}function GJ(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof HJ?o:o.key),r=VJ();zJ(()=>{if(!Qt("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!CO)window.clearTimeout(i.current),i.current=null;else for(const a of n)Wc(o,a,1);return()=>{for(const a of n)Wc(o,a,-1)}},[r,...n]);const i=WJ(),s=UJ(n);if(!CO&&(s===void 0||!jJ(s,n))){const o=r.current;for(const a of n)Wc(o,a,1);if(s)for(const a of s)Wc(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Wc(o,a,-1)},qJ)}}var KJ=YJ;function QJ(){return"<component name not available>"}var uv=QJ;const{currentRendererSupportsUseSyncExternalStore:XJ,reactMode:Of,useMutableSource:JJ,useSyncExternalStore:ZJ}=iE,{useRecoilMutableSource:eZ,useStoreRef:Xu}=gE,{isRecoilValue:eve}=al,{getRecoilValueAsLoadable:cv,setRecoilValue:tZ,subscribeToRecoilValue:dv}=ao,{useCallback:qi,useEffect:Em,useMemo:nZ,useRef:$j,useState:Bj}=se,{isSSR:rZ}=pE;function iZ(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),rZ&&rn(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:gt(`Invalid value of loadable atom "${e.key}"`)}function sZ(t){const e=Xu(),n=uv(),r=qi(()=>{var a;const l=e.current,h=l.getState(),c=Of().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return{loadable:cv(l,t,c),key:t.key}},[e,t]),i=qi(a=>{let l;return()=>{var h,c;const f=a();return(h=l)!==null&&h!==void 0&&h.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),s=nZ(()=>i(r),[r,i]),o=qi(a=>{const l=e.current;return dv(l,t,a,n).release},[e,t,n]);return ZJ(o,s,s).loadable}function oZ(t){const e=Xu(),n=qi(()=>{var h;const c=e.current,f=c.getState(),p=Of().early&&(h=f.nextTree)!==null&&h!==void 0?h:f.currentTree;return cv(c,t,p)},[e,t]),r=qi(()=>n(),[n]),i=uv(),s=qi((h,c)=>{const f=e.current;return dv(f,t,()=>{if(!Qt("recoil_suppress_rerender_in_callback"))return c();const m=n();l.current.is(m)||c(),l.current=m},i).release},[e,t,i,n]),o=eZ();if(o==null)throw gt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=JJ(o,r,s),l=$j(a);return Em(()=>{l.current=a}),a}function NO(t){const e=Xu(),n=uv(),r=qi(()=>{var l;const h=e.current,c=h.getState(),f=Of().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return cv(h,t,f)},[e,t]),i=qi(()=>({loadable:r(),key:t.key}),[r,t.key]),s=qi(l=>{const h=i();return l.loadable.is(h.loadable)&&l.key===h.key?l:h},[i]);Em(()=>{const l=dv(e.current,t,h=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Bj(i);return o.key!==t.key?i().loadable:o.loadable}function aZ(t){const e=Xu(),[,n]=Bj([]),r=uv(),i=qi(()=>{var a;const l=e.current,h=l.getState(),c=Of().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return cv(l,t,c)},[e,t]),s=i(),o=$j(s);return Em(()=>{o.current=s}),Em(()=>{const a=e.current,l=a.getState(),h=dv(a,t,f=>{var p;if(!Qt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=o.current)!==null&&p!==void 0&&p.is(m)||n(m),o.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Qt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=o.current)!==null&&c!==void 0&&c.is(f)||n(f),o.current=f}return h.release},[r,i,t,e]),s}function lZ(t){return Qt("recoil_memory_managament_2020")&&KJ(t),{TRANSITION_SUPPORT:NO,SYNC_EXTERNAL_STORE:XJ()?sZ:NO,MUTABLE_SOURCE:oZ,LEGACY:aZ}[Of().mode](t)}function Uj(t){const e=Xu(),n=lZ(t);return iZ(n,t,e)}function Vj(t){const e=Xu();return qi(n=>{tZ(e.current,t,n)},[e,t])}function uZ(t){return[Uj(t),Vj(t)]}var cZ={useRecoilState:uZ,useRecoilValue:Uj,useSetRecoilState:Vj};const{batchUpdates:dZ}=hE,{DEFAULT_VALUE:fZ,getNode:hZ}=Ai,{AbstractRecoilValue:pZ,setRecoilValueLoadable:mZ}=ao,{cloneSnapshot:tve}=lv,{useCallback:nve,useEffect:rve,useRef:ive,useState:sve}=se;function gZ(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;dZ(()=>{const o=new Set;for(const h of[i.atomValues.keys(),s.atomValues.keys()])for(const c of h){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&hZ(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(h=>{mZ(t,new pZ(h),s.atomValues.has(h)?fn(s.atomValues.get(h)):fZ)}),t.replaceState(h=>({...h,stateID:e.getID()}))})}var vZ={gotoSnapshot:gZ};const{useMemo:ove}=se,{loadableWithValue:yZ}=kf,{initializeNode:wZ}=El,{DEFAULT_VALUE:bZ,getNode:xZ}=Ai,{copyTreeState:_Z,getRecoilValueAsLoadable:SZ,invalidateDownstreams:EZ,writeLoadableToTreeState:kZ}=ao;function OO(t){return xZ(t.key).nodeType==="atom"}class TZ{constructor(e,n){pt(this,"_store",void 0),pt(this,"_treeState",void 0),pt(this,"_changes",void 0),pt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!OO(r))throw gt("Reading selectors within atomicUpdate is not supported");const i=SZ(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:gt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),pt(this,"set",(r,i)=>{if(!OO(r))throw gt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else wZ(this._store,r.key,"set"),this._changes.set(r.key,i)}),pt(this,"reset",r=>{this.set(r,bZ)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=_Z(this._treeState);for(const[n,r]of this._changes)kZ(e,n,yZ(r));return EZ(this._store,e),e}}function CZ(t){return e=>{t.replaceState(n=>{const r=new TZ(t,n);return e(r),r.newTreeState_INTERNAL()})}}var NZ={atomicUpdater:CZ},OZ=NZ.atomicUpdater,qj=Object.freeze({__proto__:null,atomicUpdater:OZ});function AZ(t,e){if(!t)throw new Error(e)}var DZ=AZ,ud=DZ;const{atomicUpdater:IZ}=qj,{batchUpdates:RZ}=hE,{DEFAULT_VALUE:PZ}=Ai,{refreshRecoilValue:MZ,setRecoilValue:AO}=ao,{cloneSnapshot:LZ}=lv,{gotoSnapshot:jZ}=vZ,{useCallback:ave}=se;class Hj{}const FZ=new Hj;function $Z(t,e,n,r){let i=FZ,s;if(RZ(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw gt(a);const l=dj({...r??{},set:(c,f)=>AO(t,c,f),reset:c=>AO(t,c,PZ),refresh:c=>MZ(t,c),gotoSnapshot:c=>jZ(t,c),transact_UNSTABLE:c=>IZ(t)(c)},{snapshot:()=>{const c=LZ(t);return s=c.retain(),c}}),h=e(l);if(typeof h!="function")throw gt(a);i=h(...n)}),i instanceof Hj&&ud(!1),rn(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}var BZ={recoilCallback:$Z};const{useCallback:lve}=se,{atomicUpdater:uve}=qj,{useMemo:cve}=se;class UZ{constructor(e){pt(this,"value",void 0),this.value=e}}var VZ={WrappedValue:UZ},qZ=VZ.WrappedValue,zj=Object.freeze({__proto__:null,WrappedValue:qZ});class DO extends Error{}class HZ{constructor(e){var n,r,i;pt(this,"_name",void 0),pt(this,"_numLeafs",void 0),pt(this,"_root",void 0),pt(this,"_onHit",void 0),pt(this,"_onSet",void 0),pt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let h,c;for(const[w,b]of e){var f,p,m;const _=this._root;if((_==null?void 0:_.type)==="leaf")throw this.invalidCacheError();const E=h;if(h=E?E.branches.get(c):_,h=(f=h)!==null&&f!==void 0?f:{type:"branch",nodeKey:w,parent:E,branches:new Map,branchKey:c},h.type!=="branch"||h.nodeKey!==w)throw this.invalidCacheError();E==null||E.branches.set(c,h),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,h),c=this._mapNodeValue(b),this._root=(m=this._root)!==null&&m!==void 0?m:h}const g=h?(s=h)===null||s===void 0?void 0:s.branches.get(c):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:h,branchKey:c};(o=h)===null||o===void 0||o.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(s){if(s instanceof DO)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw ei("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new DO}}var zZ={TreeCache:HZ},WZ=zZ.TreeCache,Wj=Object.freeze({__proto__:null,TreeCache:WZ});class YZ{constructor(e){var n;pt(this,"_maxSize",void 0),pt(this,"_size",void 0),pt(this,"_head",void 0),pt(this,"_tail",void 0),pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=fn(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var GZ={LRUCache:YZ},KZ=GZ.LRUCache,Yj=Object.freeze({__proto__:null,LRUCache:KZ});const{LRUCache:QZ}=Yj,{TreeCache:XZ}=Wj;function JZ({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new QZ({maxSize:e}),i=new XZ({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var IO=JZ;function Bi(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw gt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(rn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Bi(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Bi(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Bi(s,e)]=o;return Bi(i,e,n)}return t instanceof Set?Bi(Array.from(t).sort((i,s)=>Bi(i,e).localeCompare(Bi(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Bi(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Bi(i,e)}:${Bi(t[i],e,i)}`).join(",")}}`}function ZZ(t,e={allowFunctions:!1}){return Bi(t,e)}var fv=ZZ;const{TreeCache:eee}=Wj,ap={equality:"reference",eviction:"keep-all",maxSize:1/0};function tee({equality:t=ap.equality,eviction:e=ap.eviction,maxSize:n=ap.maxSize}=ap,r){const i=nee(t);return ree(e,n,i,r)}function nee(t){switch(t){case"reference":return e=>e;case"value":return e=>fv(e)}throw gt(`Unrecognized equality policy ${t}`)}function ree(t,e,n,r){switch(t){case"keep-all":return new eee({name:r,mapNodeValue:n});case"lru":return IO({name:r,maxSize:fn(e),mapNodeValue:n});case"most-recent":return IO({name:r,maxSize:1,mapNodeValue:n})}throw gt(`Unrecognized eviction policy ${t}`)}var iee=tee;const{isLoadable:see,loadableWithError:lp,loadableWithPromise:oee,loadableWithValue:mw}=kf,{WrappedValue:Gj}=zj,{getNodeLoadable:up,peekNodeLoadable:aee,setNodeValue:lee}=El,{saveDepsToStore:uee}=Cf,{DEFAULT_VALUE:cee,getConfigDeletionHandler:dee,getNode:fee,registerNode:RO}=Ai,{isRecoilValue:hee}=al,{markRecoilValueModified:PO}=ao,{retainedByOptionWithDefault:pee}=Qu,{recoilCallback:mee}=BZ;class Kj{}const Yc=new Kj,Gc=[],cp=new Map,gee=(()=>{let t=0;return()=>t++})();function Qj(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=iee(i??{equality:"reference",eviction:"keep-all"},n),l=pee(t.retainedBy_UNSTABLE),h=new Map;let c=0;function f(){return!Qt("recoil_memory_managament_2020")||c>0}function p(V){return V.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return dee(n)!==void 0&&!f()}function g(V,z,Q,X,W){L(z,X,W),y(V,Q)}function y(V,z){F(V,z)&&M(V),b(z,!0)}function w(V,z){F(V,z)&&(fn(R(V)).stateVersions.clear(),b(z,!1))}function b(V,z){const Q=cp.get(V);if(Q!=null){for(const X of Q)PO(X,fn(e));z&&cp.delete(V)}}function _(V,z){let Q=cp.get(z);Q==null&&cp.set(z,Q=new Set),Q.add(V)}function E(V,z,Q,X,W,J){return z.then(Z=>{if(!f())throw M(V),Yc;const te=mw(Z);return g(V,Q,W,te,X),Z}).catch(Z=>{if(!f())throw M(V),Yc;if(rn(Z))return S(V,Z,Q,X,W,J);const te=lp(Z);throw g(V,Q,W,te,X),Z})}function S(V,z,Q,X,W,J){return z.then(Z=>{if(!f())throw M(V),Yc;J.loadingDepKey!=null&&J.loadingDepPromise===z?Q.atomValues.set(J.loadingDepKey,mw(Z)):V.getState().knownSelectors.forEach(ge=>{Q.atomValues.delete(ge)});const te=O(V,Q);if(te&&te.state!=="loading"){if((F(V,W)||R(V)==null)&&y(V,W),te.state==="hasValue")return te.contents;throw te.contents}if(!F(V,W)){const ge=I(V,Q);if(ge!=null)return ge.loadingLoadable.contents}const[le,pe]=N(V,Q,W);if(le.state!=="loading"&&g(V,Q,W,le,pe),le.state==="hasError")throw le.contents;return le.contents}).catch(Z=>{if(Z instanceof Kj)throw Yc;if(!f())throw M(V),Yc;const te=lp(Z);throw g(V,Q,W,te,X),Z})}function k(V,z,Q,X){var W,J,Z,te;if(F(V,X)||z.version===((W=V.getState())===null||W===void 0||(J=W.currentTree)===null||J===void 0?void 0:J.version)||z.version===((Z=V.getState())===null||Z===void 0||(te=Z.nextTree)===null||te===void 0?void 0:te.version)){var le,pe,ge;uee(n,Q,V,(le=(pe=V.getState())===null||pe===void 0||(ge=pe.nextTree)===null||ge===void 0?void 0:ge.version)!==null&&le!==void 0?le:V.getState().currentTree.version)}for(const Ce of Q)o.add(Ce)}function N(V,z,Q){let X=!0,W=!0;const J=()=>{W=!1};let Z,te=!1,le;const pe={loadingDepKey:null,loadingDepPromise:null},ge=new Map;function Ce({key:De}){const nt=up(V,z,De);switch(ge.set(De,nt),X||(k(V,z,new Set(ge.keys()),Q),w(V,Q)),nt.state){case"hasValue":return nt.contents;case"hasError":throw nt.contents;case"loading":throw pe.loadingDepKey=De,pe.loadingDepPromise=nt.contents,nt.contents}throw gt("Invalid Loadable state")}const $e=De=>(...nt)=>{if(W)throw gt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&ud(!1),mee(V,De,nt,{node:e})};try{Z=r({get:Ce,getCallback:$e}),Z=hee(Z)?Ce(Z):Z,see(Z)&&(Z.state==="hasError"&&(te=!0),Z=Z.contents),rn(Z)?Z=E(V,Z,z,ge,Q,pe).finally(J):J(),Z=Z instanceof Gj?Z.value:Z}catch(De){Z=De,rn(Z)?Z=S(V,Z,z,ge,Q,pe).finally(J):(te=!0,J())}return te?le=lp(Z):rn(Z)?le=oee(Z):le=mw(Z),X=!1,D(V,Q,ge),k(V,z,new Set(ge.keys()),Q),[le,ge]}function O(V,z){let Q=z.atomValues.get(n);if(Q!=null)return Q;const X=new Set;try{Q=a.get(J=>(typeof J!="string"&&ud(!1),up(V,z,J).contents),{onNodeVisit:J=>{J.type==="branch"&&J.nodeKey!==n&&X.add(J.nodeKey)}})}catch(J){throw gt(`Problem with cache lookup for selector "${n}": ${J.message}`)}if(Q){var W;z.atomValues.set(n,Q),k(V,z,X,(W=R(V))===null||W===void 0?void 0:W.executionID)}return Q}function C(V,z){const Q=O(V,z);if(Q!=null)return M(V),Q;const X=I(V,z);if(X!=null){var W;return((W=X.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&_(V,X.executionID),X.loadingLoadable}const J=gee(),[Z,te]=N(V,z,J);return Z.state==="loading"?(A(V,J,Z,te,z),_(V,J)):(M(V),L(z,Z,te)),Z}function I(V,z){const Q=Cj([h.has(V)?[fn(h.get(V))]:[],rv(cE(h,([W])=>W!==V),([,W])=>W)]);function X(W){for(const[J,Z]of W)if(!up(V,z,J).is(Z))return!0;return!1}for(const W of Q){if(W.stateVersions.get(z.version)||!X(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(z.version,!0),W;W.stateVersions.set(z.version,!1)}}function R(V){return h.get(V)}function A(V,z,Q,X,W){h.set(V,{depValuesDiscoveredSoFarDuringAsyncWork:X,executionID:z,loadingLoadable:Q,stateVersions:new Map([[W.version,!0]])})}function D(V,z,Q){if(F(V,z)){const X=R(V);X!=null&&(X.depValuesDiscoveredSoFarDuringAsyncWork=Q)}}function M(V){h.delete(V)}function F(V,z){var Q;return z===((Q=R(V))===null||Q===void 0?void 0:Q.executionID)}function q(V){return Array.from(V.entries()).map(([z,Q])=>[z,Q.contents])}function L(V,z,Q){V.atomValues.set(n,z);try{a.set(q(Q),z)}catch(X){throw gt(`Problem with setting cache for selector "${n}": ${X.message}`)}}function B(V){if(Gc.includes(n)){const z=`Recoil selector has circular dependencies: ${Gc.slice(Gc.indexOf(n)).join("  ")}`;return lp(gt(z))}Gc.push(n);try{return V()}finally{Gc.pop()}}function Y(V,z){const Q=z.atomValues.get(n);return Q??a.get(X=>{var W;return typeof X!="string"&&ud(!1),(W=aee(V,z,X))===null||W===void 0?void 0:W.contents})}function H(V,z){return B(()=>C(V,z))}function j(V){V.atomValues.delete(n)}function U(V,z){e==null&&ud(!1);for(const X of o){var Q;const W=fee(X);(Q=W.clearCache)===null||Q===void 0||Q.call(W,V,z)}o.clear(),j(z),a.clear(),PO(V,e)}return s!=null?e=RO({key:n,nodeType:"selector",peek:Y,get:H,set:(z,Q,X)=>{let W=!1;const J=new Map;function Z({key:ge}){if(W)throw gt("Recoil: Async selector sets are not currently supported.");const Ce=up(z,Q,ge);if(Ce.state==="hasValue")return Ce.contents;if(Ce.state==="loading"){const $e=`Getting value of asynchronous atom or selector "${ge}" in a pending state while setting selector "${n}" is not yet supported.`;throw ei(),gt($e)}else throw Ce.contents}function te(ge,Ce){if(W){const nt="Recoil: Async selector sets are not currently supported.";throw ei(),gt(nt)}const $e=typeof Ce=="function"?Ce(Z(ge)):Ce;lee(z,Q,ge.key,$e).forEach((nt,Qe)=>J.set(Qe,nt))}function le(ge){te(ge,cee)}const pe=s({set:te,get:Z,reset:le},X);if(pe!==void 0)throw rn(pe)?gt("Recoil: Async selector sets are not currently supported."):gt("Recoil: selector set should be a void function.");return W=!0,J},init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=RO({key:n,nodeType:"selector",peek:Y,get:H,init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Qj.value=t=>new Gj(t);var Ru=Qj;const{isLoadable:vee,loadableWithError:gw,loadableWithPromise:vw,loadableWithValue:Ql}=kf,{WrappedValue:Xj}=zj,{peekNodeInfo:yee}=El,{DEFAULT_VALUE:Ma,DefaultValue:jo,getConfigDeletionHandler:Jj,registerNode:wee,setConfigDeletionHandler:bee}=Ai,{isRecoilValue:xee}=al,{getRecoilValueAsLoadable:_ee,markRecoilValueModified:See,setRecoilValue:MO,setRecoilValueLoadable:Eee}=ao,{retainedByOptionWithDefault:kee}=Qu,Kc=t=>t instanceof Xj?t.value:t;function Tee(t){const{key:e,persistence_UNSTABLE:n}=t,r=kee(t.retainedBy_UNSTABLE);let i=0;function s(_){return vw(_.then(E=>(o=Ql(E),E)).catch(E=>{throw o=gw(E),E}))}let o=rn(t.default)?s(t.default):vee(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Ql(Kc(t.default));o.contents;let a;const l=new Map;function h(_){return _}function c(_,E){const S=E.then(k=>{var N,O;return((O=((N=_.getState().nextTree)!==null&&N!==void 0?N:_.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&MO(_,b,k),k}).catch(k=>{var N,O;throw((O=((N=_.getState().nextTree)!==null&&N!==void 0?N:_.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&Eee(_,b,gw(k)),k});return S}function f(_,E,S){var k;i++;const N=()=>{var R;i--,(R=l.get(_))===null||R===void 0||R.forEach(A=>A()),l.delete(_)};if(_.getState().knownAtoms.add(e),o.state==="loading"){const R=()=>{var A;((A=_.getState().nextTree)!==null&&A!==void 0?A:_.getState().currentTree).atomValues.has(e)||See(_,b)};o.contents.finally(R)}const O=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(O!=null){let R=function(j){if(F&&j.key===e){const U=M;return U instanceof jo?p(_,E):rn(U)?vw(U.then(V=>V instanceof jo?o.toPromise():V)):Ql(U)}return _ee(_,j)},A=function(j){return R(j).toPromise()},D=function(j){var U;const V=yee(_,(U=_.getState().nextTree)!==null&&U!==void 0?U:_.getState().currentTree,j.key);return F&&j.key===e&&!(M instanceof jo)?{...V,isSet:!0,loadable:R(j)}:V},M=Ma,F=!0,q=!1,L=null;const B=j=>U=>{if(F){const V=R(b),z=V.state==="hasValue"?V.contents:Ma;M=typeof U=="function"?U(z):U,rn(M)&&(M=M.then(Q=>(L={effect:j,value:Q},Q)))}else{if(rn(U))throw gt("Setting atoms to async values is not implemented.");typeof U!="function"&&(L={effect:j,value:Kc(U)}),MO(_,b,typeof U=="function"?V=>{const z=Kc(U(V));return L={effect:j,value:z},z}:Kc(U))}},Y=j=>()=>B(j)(Ma),H=j=>U=>{var V;const{release:z}=_.subscribeToTransactions(Q=>{var X;let{currentTree:W,previousTree:J}=Q.getState();J||(ei(),J=W);const Z=(X=W.atomValues.get(e))!==null&&X!==void 0?X:o;if(Z.state==="hasValue"){var te,le,pe,ge;const Ce=Z.contents,$e=(te=J.atomValues.get(e))!==null&&te!==void 0?te:o,De=$e.state==="hasValue"?$e.contents:Ma;((le=L)===null||le===void 0?void 0:le.effect)!==j||((pe=L)===null||pe===void 0?void 0:pe.value)!==Ce?U(Ce,De,!W.atomValues.has(e)):((ge=L)===null||ge===void 0?void 0:ge.effect)===j&&(L=null)}},e);l.set(_,[...(V=l.get(_))!==null&&V!==void 0?V:[],z])};for(const j of O)try{const U=j({node:b,storeID:_.storeID,parentStoreID_UNSTABLE:_.parentStoreID,trigger:S,setSelf:B(j),resetSelf:Y(j),onSet:H(j),getPromise:A,getLoadable:R,getInfo_UNSTABLE:D});if(U!=null){var C;l.set(_,[...(C=l.get(_))!==null&&C!==void 0?C:[],U])}}catch(U){M=U,q=!0}if(F=!1,!(M instanceof jo)){var I;const j=q?gw(M):rn(M)?vw(c(_,M)):Ql(Kc(M));j.contents,E.atomValues.set(e,j),(I=_.getState().nextTree)===null||I===void 0||I.atomValues.set(e,j)}}return N}function p(_,E){var S,k;return(S=(k=E.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&S!==void 0?S:o}function m(_,E){if(E.atomValues.has(e))return fn(E.atomValues.get(e));if(E.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return oj(),o;const S=E.nonvalidatedAtoms.get(e),k=n.validator(S,Ma);return a=k instanceof jo?o:Ql(k),a}else return o}function g(){a=void 0}function y(_,E,S){if(E.atomValues.has(e)){const k=fn(E.atomValues.get(e));if(k.state==="hasValue"&&S===k.contents)return new Map}else if(!E.nonvalidatedAtoms.has(e)&&S instanceof jo)return new Map;return a=void 0,new Map().set(e,Ql(S))}function w(){return Jj(e)!==void 0&&i<=0}const b=wee({key:e,nodeType:"atom",peek:p,get:m,set:y,init:f,invalidate:g,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return b}function vE(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return xee(n)?Cee({...e,default:n}):Tee({...e,default:n})}function Cee(t){const e=vE({...t,default:Ma,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof jo?r:fn(t.persistence_UNSTABLE).validator(r,Ma)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ru({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof jo?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return bee(n.key,Jj(t.key)),n}vE.value=t=>new Xj(t);var Zj=vE;class Nee{constructor(e){var n;pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Oee={MapCache:Nee},Aee=Oee.MapCache,Dee=Object.freeze({__proto__:null,MapCache:Aee});const{LRUCache:LO}=Yj,{MapCache:Iee}=Dee,dp={equality:"reference",eviction:"none",maxSize:1/0};function Ree({equality:t=dp.equality,eviction:e=dp.eviction,maxSize:n=dp.maxSize}=dp){const r=Pee(t);return Mee(e,n,r)}function Pee(t){switch(t){case"reference":return e=>e;case"value":return e=>fv(e)}throw gt(`Unrecognized equality policy ${t}`)}function Mee(t,e,n){switch(t){case"keep-all":return new Iee({mapKey:n});case"lru":return new LO({mapKey:n,maxSize:fn(e)});case"most-recent":return new LO({mapKey:n,maxSize:1})}throw gt(`Unrecognized eviction policy ${t}`)}var e3=Ree;const{setConfigDeletionHandler:Lee}=Ai;function jee(t){var e,n;const r=e3({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...h}=t,c="default"in t?t.default:new Promise(()=>{}),f=Zj({...h,key:`${t.key}__${(s=fv(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,f),Lee(f.key,()=>{r.delete(i)}),f}}var Fee=jee;const{setConfigDeletionHandler:$ee}=Ai;let Bee=0;function Uee(t){var e,n;const r=e3({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(p){throw gt(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=fv(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${Bee++}`,l=p=>t.get(i)(p),h=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const p=t.set;f=Ru({key:a,get:l,set:(g,y)=>p(i)(g,y),cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Ru({key:a,get:l,cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),$ee(f.key,()=>{r.delete(i)}),f}}var ma=Uee;ma({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});ma({key:"__error",get:t=>()=>{throw gt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:t3,loadableWithPromise:n3,loadableWithValue:r3}=kf;function hv(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function Vee(t){return t!=null&&!rn(t)}function pv(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function n_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function mu(t,e,n){const r=n.map((i,s)=>i==null?r3(e[s]):rn(i)?n3(i):t3(i));return n_(t,r)}function qee(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}ma({key:"__waitForNone",get:t=>({get:e})=>{const n=pv(t),[r,i]=hv(e,n);return mu(t,r,i)},dangerouslyAllowMutability:!0});ma({key:"__waitForAny",get:t=>({get:e})=>{const n=pv(t),[r,i]=hv(e,n);return i.some(s=>!rn(s))?mu(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())rn(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(mu(t,r,i))}).catch(l=>{i[o]=l,s(mu(t,r,i))})})},dangerouslyAllowMutability:!0});ma({key:"__waitForAll",get:t=>({get:e})=>{const n=pv(t),[r,i]=hv(e,n);if(i.every(o=>o==null))return n_(t,r);const s=i.find(Vee);if(s!=null)throw s;return Promise.all(i).then(o=>n_(t,qee(r,o)))},dangerouslyAllowMutability:!0});ma({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=pv(t),[r,i]=hv(e,n);return i.every(s=>!rn(s))?mu(t,r,i):Promise.all(i.map((s,o)=>rn(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>mu(t,r,i))},dangerouslyAllowMutability:!0});ma({key:"__noWait",get:t=>({get:e})=>{try{return Ru.value(r3(e(t)))}catch(n){return Ru.value(rn(n)?n3(n):t3(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:dve}=kf,{RecoilRoot:Hee}=gE,{isRecoilValue:fve}=al,{freshSnapshot:hve}=lv,{useRecoilState:zee,useRecoilValue:Wee,useSetRecoilState:Yee}=cZ;var ga={RecoilRoot:Hee,atom:Zj,selector:Ru,atomFamily:Fee,selectorFamily:ma,useRecoilValue:Wee,useRecoilState:zee,useSetRecoilState:Yee},Gee=ga.RecoilRoot,$n=ga.atom,Kee=ga.selector,yE=ga.atomFamily,wE=ga.selectorFamily,Pe=ga.useRecoilValue,an=ga.useRecoilState,Os=ga.useSetRecoilState;const i3=$n({key:"modalList",default:[]});var fp,Qee=new Uint8Array(16);function Xee(){if(!fp&&(fp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!fp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fp(Qee)}const Jee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zee(t){return typeof t=="string"&&Jee.test(t)}var tr=[];for(var yw=0;yw<256;++yw)tr.push((yw+256).toString(16).substr(1));function ete(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(tr[t[e+0]]+tr[t[e+1]]+tr[t[e+2]]+tr[t[e+3]]+"-"+tr[t[e+4]]+tr[t[e+5]]+"-"+tr[t[e+6]]+tr[t[e+7]]+"-"+tr[t[e+8]]+tr[t[e+9]]+"-"+tr[t[e+10]]+tr[t[e+11]]+tr[t[e+12]]+tr[t[e+13]]+tr[t[e+14]]+tr[t[e+15]]).toLowerCase();if(!Zee(n))throw TypeError("Stringified UUID is invalid");return n}function jt(t,e,n){t=t||{};var r=t.random||(t.rng||Xee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return ete(r)}const bE=$n({key:`recommendedBook/${jt()}`,default:{thumbnail:"",title:"",authors:[],url:"",publisher:""}}),s3=$n({key:`bookDesc${jt()}`,default:null}),o3=$n({key:`searchList${jt()}`,default:[]}),Sd=[{id:1,name:""},{id:2,name:""},{id:3,name:"/"},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:"/"},{id:12,name:""}];function tte(t,e){return t.length<e?t:`${t.slice(0,e)}...`}const a3=6048e5,nte=864e5,jO=Symbol.for("constructDateFrom");function ra(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&jO in t?t[jO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xi(t,e){return ra(e||t,t)}let rte={};function mv(){return rte}function Wd(t,e){var a,l,h,c;const n=mv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Xi(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function km(t,e){return Wd(t,{...e,weekStartsOn:1})}function l3(t,e){const n=Xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=ra(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=km(i),o=ra(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=km(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function FO(t){const e=Xi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ite(t,...e){const n=ra.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function $O(t,e){const n=Xi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ste(t,e,n){const[r,i]=ite(n==null?void 0:n.in,t,e),s=$O(r),o=$O(i),a=+s-FO(s),l=+o-FO(o);return Math.round((a-l)/nte)}function ote(t,e){const n=l3(t,e),r=ra(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),km(r)}function ate(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lte(t){return!(!ate(t)&&typeof t!="number"||isNaN(+Xi(t)))}function ute(t,e){const n=Xi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const cte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dte=(t,e,n)=>{let r;const i=cte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mte={date:gu({formats:fte,defaultWidth:"full"}),time:gu({formats:hte,defaultWidth:"full"}),dateTime:gu({formats:pte,defaultWidth:"full"})},gte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vte=(t,e,n,r)=>gte[t];function ds(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const yte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_te={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ste={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ete=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kte={ordinalNumber:Ete,era:ds({values:yte,defaultWidth:"wide"}),quarter:ds({values:wte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ds({values:bte,defaultWidth:"wide"}),day:ds({values:xte,defaultWidth:"wide"}),dayPeriod:ds({values:_te,defaultWidth:"wide",formattingValues:Ste,defaultFormattingWidth:"wide"})};function fs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Cte(a,f=>f.test(o)):Tte(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function Tte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Cte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function u3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Nte=/^(\d+)(th|st|nd|rd)?/i,Ote=/\d+/i,Ate={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dte={any:[/^b/i,/^(a|c)/i]},Ite={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rte={any:[/1/i,/2/i,/3/i,/4/i]},Pte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$te={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bte={ordinalNumber:u3({matchPattern:Nte,parsePattern:Ote,valueCallback:t=>parseInt(t,10)}),era:fs({matchPatterns:Ate,defaultMatchWidth:"wide",parsePatterns:Dte,defaultParseWidth:"any"}),quarter:fs({matchPatterns:Ite,defaultMatchWidth:"wide",parsePatterns:Rte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fs({matchPatterns:Pte,defaultMatchWidth:"wide",parsePatterns:Mte,defaultParseWidth:"any"}),day:fs({matchPatterns:Lte,defaultMatchWidth:"wide",parsePatterns:jte,defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:Fte,defaultMatchWidth:"any",parsePatterns:$te,defaultParseWidth:"any"})},Ute={code:"en-US",formatDistance:dte,formatLong:mte,formatRelative:vte,localize:kte,match:Bte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vte(t,e){const n=Xi(t,e==null?void 0:e.in);return ste(n,ute(n))+1}function qte(t,e){const n=Xi(t,e==null?void 0:e.in),r=+km(n)-+ote(n);return Math.round(r/a3)+1}function c3(t,e){var c,f,p,m;const n=Xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=mv(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ra((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Wd(o,e),l=ra((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=Wd(l,e);return+n>=+a?r+1:+n>=+h?r:r-1}function Hte(t,e){var a,l,h,c;const n=mv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=c3(t,e),s=ra((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Wd(s,e)}function zte(t,e){const n=Xi(t,e==null?void 0:e.in),r=+Wd(n,e)-+Hte(n,e);return Math.round(r/a3)+1}function Bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Po={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Bt(n+1,2)},d(t,e){return Bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Bt(t.getHours()%12||12,e.length)},H(t,e){return Bt(t.getHours(),e.length)},m(t,e){return Bt(t.getMinutes(),e.length)},s(t,e){return Bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Bt(i,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Po.y(t,e)},Y:function(t,e,n,r){const i=c3(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Bt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Bt(s,e.length)},R:function(t,e){const n=l3(t);return Bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Po.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=zte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Bt(i,e.length)},I:function(t,e,n){const r=qte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Po.d(t,e)},D:function(t,e,n){const r=Vte(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xl.noon:r===0?i=Xl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xl.evening:r>=12?i=Xl.afternoon:r>=4?i=Xl.morning:i=Xl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Po.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Po.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Po.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Po.s(t,e)},S:function(t,e){return Po.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return VO(r);case"XXXX":case"XX":return Ra(r);case"XXXXX":case"XXX":default:return Ra(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return VO(r);case"xxxx":case"xx":return Ra(r);case"xxxxx":case"xxx":default:return Ra(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+UO(r,":");case"OOOO":default:return"GMT"+Ra(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+UO(r,":");case"zzzz":default:return"GMT"+Ra(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Bt(r,e.length)},T:function(t,e,n){return Bt(+t,e.length)}};function UO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Bt(s,2)}function VO(t,e){return t%60===0?(t>0?"-":"+")+Bt(Math.abs(t)/60,2):Ra(t,e)}function Ra(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Bt(Math.trunc(r/60),2),s=Bt(r%60,2);return n+i+e+s}const qO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return qO(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",qO(r,e)).replace("{{time}}",d3(i,e))},Yte={p:d3,P:Wte},Gte=/^D+$/,Kte=/^Y+$/,Qte=["D","DD","YY","YYYY"];function Xte(t){return Gte.test(t)}function Jte(t){return Kte.test(t)}function Zte(t,e,n){const r=ene(t,e,n);if(console.warn(r),Qte.includes(t))throw new RangeError(r)}function ene(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rne=/^'([^]*?)'?$/,ine=/''/g,sne=/[a-zA-Z]/;function one(t,e,n){var c,f,p,m,g,y,w,b;const r=mv(),i=(n==null?void 0:n.locale)??r.locale??Ute,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Xi(t,n==null?void 0:n.in);if(!lte(a))throw new RangeError("Invalid time value");let l=e.match(nne).map(_=>{const E=_[0];if(E==="p"||E==="P"){const S=Yte[E];return S(_,i.formatLong)}return _}).join("").match(tne).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:ane(_)};if(BO[E])return{isToken:!0,value:_};if(E.match(sne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Jte(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Xte(E))&&Zte(E,e,String(t));const S=BO[E[0]];return S(a,E,i.localize,h)}).join("")}function ane(t){const e=t.match(rne);return e?e[1].replace(ine,"'"):t}const lne={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},une=(t,e,n)=>{let r;const i=lne[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" ":r+" ":r},cne={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},dne={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fne={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},hne={date:gu({formats:cne,defaultWidth:"full"}),time:gu({formats:dne,defaultWidth:"full"}),dateTime:gu({formats:fne,defaultWidth:"full"})},pne={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},mne=(t,e,n,r)=>pne[t],gne={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},vne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},yne={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},wne={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},bne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},xne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},_ne=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},Sne={ordinalNumber:_ne,era:ds({values:gne,defaultWidth:"wide"}),quarter:ds({values:vne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ds({values:yne,defaultWidth:"wide"}),day:ds({values:wne,defaultWidth:"wide"}),dayPeriod:ds({values:bne,defaultWidth:"wide",formattingValues:xne,defaultFormattingWidth:"wide"})},Ene=/^(\d+)(|)?/i,kne=/\d+/i,Tne={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},Cne={any:[/^(bc|)/i,/^(ad|)/i]},Nne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},One={any:[/1/i,/2/i,/3/i,/4/i]},Ane={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Dne={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Ine={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Rne={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Pne={any:/^(am|pm|||||||)/i},Mne={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Lne={ordinalNumber:u3({matchPattern:Ene,parsePattern:kne,valueCallback:t=>parseInt(t,10)}),era:fs({matchPatterns:Tne,defaultMatchWidth:"wide",parsePatterns:Cne,defaultParseWidth:"any"}),quarter:fs({matchPatterns:Nne,defaultMatchWidth:"wide",parsePatterns:One,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fs({matchPatterns:Ane,defaultMatchWidth:"wide",parsePatterns:Dne,defaultParseWidth:"any"}),day:fs({matchPatterns:Ine,defaultMatchWidth:"wide",parsePatterns:Rne,defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:Pne,defaultMatchWidth:"any",parsePatterns:Mne,defaultParseWidth:"any"})},f3={code:"ko",formatDistance:une,formatLong:hne,formatRelative:mne,localize:Sne,match:Lne,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ju=new Date,ht=(t,e="yy M d HH:mm")=>{try{const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("  ");return one(n,e,{locale:f3})}catch(n){console.error("    :",n)}};function Pu(t){const e=new Date;e.setHours(0,0,0,0);const n=new Date(t);n.setHours(0,0,0,0);const r=+n-+e;return`${Math.floor(r/(1e3*60*60*24))}`}const h3=()=>{const t=new Date(ht(Ju,"yyyy-MM"));return t.setMonth(t.getMonth()+1),ht(t,"yyyy-MM")};function p3(t=+Tt,e=+Ti,n=0,r=0){const i=new Date(t,e-1,1);for(;i.getDay()!==0;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+14),i.setHours(n,r,0,0),i}const gn=ht(Ju,"yyyy-MM"),Tt=ht(Ju,"yyyy"),Ti=ht(Ju,"MM");ht(Ju,"dd");const cd=ht(h3(),"yyyy-MM"),Tm=`${+Tt+1}`;cd.slice(0,4);const m3=ht(h3(),"MM"),Cm=ht(Ju,"yyyy-MM-dd");function Af(t){return t?!!Object.keys(t).length:{}}const xr=(t,e)=>`${`BookClub-${t.slice(0,4)}`}/${t}/${e}`;function HO(t,e,n){return n==="latest"?t.monthId.localeCompare(e.monthId):e.monthId.localeCompare(t.monthId)}const jne=(t,e)=>t==null?void 0:t.map(({id:r,book:{title:i}})=>{const s=e.map(({votedItem:a})=>a).flat(),o=s==null?void 0:s.filter(a=>(a==null?void 0:a.id)===r).length;return{id:r,voteCount:o,title:i}}),Nm=(t,e,n=0)=>t===0&&e===0?0:+(Math.round(t/e*1e4/10)/10).toFixed(n),lo=`BookClub-${Tt}`,Fne=`BookClub-${Tm}`,zo="BookVote",ll="Challenge",$ne="TagList",Yd="FCMNotification",Ki="User",r_="VotedItems",g3="RecommendedBooks",Gd="HostReview",xE="Reviews",Mu="Subjects",_E="BookFieldAndHost",ul="AbsenceMembers",Bne="MeetingPlace",v3=[{step:1,stepName:" "},{step:2,stepName:" "},{step:3,stepName:" "}],Une=["",""],Vne={absenceMembers:Array.from({length:12},(t,e)=>({month:e+1,breakMembers:[],onceAbsenceMembers:[]}))},zO=["01","02","03","04","05","06","07","08","09","10","11","12"],qne=Array.from({length:+Tt-2020},(t,e)=>`${+Tt-e}`),SE="wowo6806@naver.com";function Ar(t,e,n){const r=n4(ln(Jt,t,e),i=>{n({id:i.id,...i.data()})});y3(r)}function jn(t,e){const n=VL(Jt,t),r=G0(n,UN("name","!=","")),i=G0(n,UN("__name__",">=",`${Tt}-`)),s=G0(n,eW("createdAt","desc")),a=n4(t===Ki?r:t===ll?i:s,l=>{const h=l.docs.map(c=>({id:c.id,...c.data()}));e(h)});y3(a)}function y3(t){hg(Xt,e=>{e==null&&t()})}async function EE(t,e,n){const r=ln(Jt,t,e);await Ns(r,n)}var hp={exports:{}},ww,WO;function w3(){return WO||(WO=1,ww=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}}),ww}var bw,YO;function lr(){if(YO)return bw;YO=1;var t=w3(),e=Object.prototype.toString,n=function(L){return function(B){var Y=e.call(B);return L[Y]||(L[Y]=Y.slice(8,-1).toLowerCase())}}(Object.create(null));function r(L){return L=L.toLowerCase(),function(Y){return n(Y)===L}}function i(L){return Array.isArray(L)}function s(L){return typeof L>"u"}function o(L){return L!==null&&!s(L)&&L.constructor!==null&&!s(L.constructor)&&typeof L.constructor.isBuffer=="function"&&L.constructor.isBuffer(L)}var a=r("ArrayBuffer");function l(L){var B;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?B=ArrayBuffer.isView(L):B=L&&L.buffer&&a(L.buffer),B}function h(L){return typeof L=="string"}function c(L){return typeof L=="number"}function f(L){return L!==null&&typeof L=="object"}function p(L){if(n(L)!=="object")return!1;var B=Object.getPrototypeOf(L);return B===null||B===Object.prototype}var m=r("Date"),g=r("File"),y=r("Blob"),w=r("FileList");function b(L){return e.call(L)==="[object Function]"}function _(L){return f(L)&&b(L.pipe)}function E(L){var B="[object FormData]";return L&&(typeof FormData=="function"&&L instanceof FormData||e.call(L)===B||b(L.toString)&&L.toString()===B)}var S=r("URLSearchParams");function k(L){return L.trim?L.trim():L.replace(/^\s+|\s+$/g,"")}function N(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function O(L,B){if(!(L===null||typeof L>"u"))if(typeof L!="object"&&(L=[L]),i(L))for(var Y=0,H=L.length;Y<H;Y++)B.call(null,L[Y],Y,L);else for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&B.call(null,L[j],j,L)}function C(){var L={};function B(j,U){p(L[U])&&p(j)?L[U]=C(L[U],j):p(j)?L[U]=C({},j):i(j)?L[U]=j.slice():L[U]=j}for(var Y=0,H=arguments.length;Y<H;Y++)O(arguments[Y],B);return L}function I(L,B,Y){return O(B,function(j,U){Y&&typeof j=="function"?L[U]=t(j,Y):L[U]=j}),L}function R(L){return L.charCodeAt(0)===65279&&(L=L.slice(1)),L}function A(L,B,Y,H){L.prototype=Object.create(B.prototype,H),L.prototype.constructor=L,Y&&Object.assign(L.prototype,Y)}function D(L,B,Y){var H,j,U,V={};B=B||{};do{for(H=Object.getOwnPropertyNames(L),j=H.length;j-- >0;)U=H[j],V[U]||(B[U]=L[U],V[U]=!0);L=Object.getPrototypeOf(L)}while(L&&(!Y||Y(L,B))&&L!==Object.prototype);return B}function M(L,B,Y){L=String(L),(Y===void 0||Y>L.length)&&(Y=L.length),Y-=B.length;var H=L.indexOf(B,Y);return H!==-1&&H===Y}function F(L){if(!L)return null;var B=L.length;if(s(B))return null;for(var Y=new Array(B);B-- >0;)Y[B]=L[B];return Y}var q=function(L){return function(B){return L&&B instanceof L}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return bw={isArray:i,isArrayBuffer:a,isBuffer:o,isFormData:E,isArrayBufferView:l,isString:h,isNumber:c,isObject:f,isPlainObject:p,isUndefined:s,isDate:m,isFile:g,isBlob:y,isFunction:b,isStream:_,isURLSearchParams:S,isStandardBrowserEnv:N,forEach:O,merge:C,extend:I,trim:k,stripBOM:R,inherits:A,toFlatObject:D,kindOf:n,kindOfTest:r,endsWith:M,toArray:F,isTypedArray:q,isFileList:w},bw}var xw,GO;function b3(){if(GO)return xw;GO=1;var t=lr();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return xw=function(r,i,s){if(!i)return r;var o;if(s)o=s(i);else if(t.isURLSearchParams(i))o=i.toString();else{var a=[];t.forEach(i,function(c,f){c===null||typeof c>"u"||(t.isArray(c)?f=f+"[]":c=[c],t.forEach(c,function(m){t.isDate(m)?m=m.toISOString():t.isObject(m)&&(m=JSON.stringify(m)),a.push(e(f)+"="+e(m))}))}),o=a.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},xw}var _w,KO;function Hne(){if(KO)return _w;KO=1;var t=lr();function e(){this.handlers=[]}return e.prototype.use=function(r,i,s){return this.handlers.push({fulfilled:r,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(s){s!==null&&r(s)})},_w=e,_w}var Sw,QO;function zne(){if(QO)return Sw;QO=1;var t=lr();return Sw=function(n,r){t.forEach(n,function(s,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=s,delete n[o])})},Sw}var Ew,XO;function Zu(){if(XO)return Ew;XO=1;var t=lr();function e(i,s,o,a,l){Error.call(this),this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),a&&(this.request=a),l&&(this.response=l)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,s,o,a,l,h){var c=Object.create(n);return t.toFlatObject(i,c,function(p){return p!==Error.prototype}),e.call(c,i.message,s,o,a,l),c.name=i.name,h&&Object.assign(c,h),c},Ew=e,Ew}var kw,JO;function x3(){return JO||(JO=1,kw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),kw}var Tw,ZO;function _3(){if(ZO)return Tw;ZO=1;var t=lr();function e(n,r){r=r||new FormData;var i=[];function s(a){return a===null?"":t.isDate(a)?a.toISOString():t.isArrayBuffer(a)||t.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function o(a,l){if(t.isPlainObject(a)||t.isArray(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+l);i.push(a),t.forEach(a,function(c,f){if(!t.isUndefined(c)){var p=l?l+"."+f:f,m;if(c&&!l&&typeof c=="object"){if(t.endsWith(f,"{}"))c=JSON.stringify(c);else if(t.endsWith(f,"[]")&&(m=t.toArray(c))){m.forEach(function(g){!t.isUndefined(g)&&r.append(p,s(g))});return}}o(c,p)}}),i.pop()}else r.append(l,s(a))}return o(n),r}return Tw=e,Tw}var Cw,eA;function Wne(){if(eA)return Cw;eA=1;var t=Zu();return Cw=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Cw}var Nw,tA;function Yne(){if(tA)return Nw;tA=1;var t=lr();return Nw=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Nw}var Ow,nA;function Gne(){return nA||(nA=1,Ow=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Ow}var Aw,rA;function Kne(){return rA||(rA=1,Aw=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Aw}var Dw,iA;function S3(){if(iA)return Dw;iA=1;var t=Gne(),e=Kne();return Dw=function(r,i){return r&&!t(i)?e(r,i):i},Dw}var Iw,sA;function Qne(){if(sA)return Iw;sA=1;var t=lr(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Iw=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(h){if(a=h.indexOf(":"),s=t.trim(h.substr(0,a)).toLowerCase(),o=t.trim(h.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Iw}var Rw,oA;function Xne(){if(oA)return Rw;oA=1;var t=lr();return Rw=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Rw}var Pw,aA;function gv(){if(aA)return Pw;aA=1;var t=Zu(),e=lr();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Pw=n,Pw}var Mw,lA;function Jne(){return lA||(lA=1,Mw=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Mw}var Lw,uA;function cA(){if(uA)return Lw;uA=1;var t=lr(),e=Wne(),n=Yne(),r=b3(),i=S3(),s=Qne(),o=Xne(),a=x3(),l=Zu(),h=gv(),c=Jne();return Lw=function(p){return new Promise(function(g,y){var w=p.data,b=p.headers,_=p.responseType,E;function S(){p.cancelToken&&p.cancelToken.unsubscribe(E),p.signal&&p.signal.removeEventListener("abort",E)}t.isFormData(w)&&t.isStandardBrowserEnv()&&delete b["Content-Type"];var k=new XMLHttpRequest;if(p.auth){var N=p.auth.username||"",O=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";b.Authorization="Basic "+btoa(N+":"+O)}var C=i(p.baseURL,p.url);k.open(p.method.toUpperCase(),r(C,p.params,p.paramsSerializer),!0),k.timeout=p.timeout;function I(){if(k){var D="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,M=!_||_==="text"||_==="json"?k.responseText:k.response,F={data:M,status:k.status,statusText:k.statusText,headers:D,config:p,request:k};e(function(L){g(L),S()},function(L){y(L),S()},F),k=null}}if("onloadend"in k?k.onloadend=I:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(I)},k.onabort=function(){k&&(y(new l("Request aborted",l.ECONNABORTED,p,k)),k=null)},k.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,p,k,k)),k=null},k.ontimeout=function(){var M=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",F=p.transitional||a;p.timeoutErrorMessage&&(M=p.timeoutErrorMessage),y(new l(M,F.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,k)),k=null},t.isStandardBrowserEnv()){var R=(p.withCredentials||o(C))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;R&&(b[p.xsrfHeaderName]=R)}"setRequestHeader"in k&&t.forEach(b,function(M,F){typeof w>"u"&&F.toLowerCase()==="content-type"?delete b[F]:k.setRequestHeader(F,M)}),t.isUndefined(p.withCredentials)||(k.withCredentials=!!p.withCredentials),_&&_!=="json"&&(k.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&k.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(E=function(D){k&&(y(!D||D&&D.type?new h:D),k.abort(),k=null)},p.cancelToken&&p.cancelToken.subscribe(E),p.signal&&(p.signal.aborted?E():p.signal.addEventListener("abort",E))),w||(w=null);var A=c(C);if(A&&["http","https","file"].indexOf(A)===-1){y(new l("Unsupported protocol "+A+":",l.ERR_BAD_REQUEST,p));return}k.send(w)})},Lw}var jw,dA;function Zne(){return dA||(dA=1,jw=null),jw}var Fw,fA;function kE(){if(fA)return Fw;fA=1;var t=lr(),e=zne(),n=Zu(),r=x3(),i=_3(),s={"Content-Type":"application/x-www-form-urlencoded"};function o(c,f){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=f)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=cA()),c}function l(c,f,p){if(t.isString(c))try{return(f||JSON.parse)(c),t.trim(c)}catch(m){if(m.name!=="SyntaxError")throw m}return(p||JSON.stringify)(c)}var h={transitional:r,adapter:a(),transformRequest:[function(f,p){if(e(p,"Accept"),e(p,"Content-Type"),t.isFormData(f)||t.isArrayBuffer(f)||t.isBuffer(f)||t.isStream(f)||t.isFile(f)||t.isBlob(f))return f;if(t.isArrayBufferView(f))return f.buffer;if(t.isURLSearchParams(f))return o(p,"application/x-www-form-urlencoded;charset=utf-8"),f.toString();var m=t.isObject(f),g=p&&p["Content-Type"],y;if((y=t.isFileList(f))||m&&g==="multipart/form-data"){var w=this.env&&this.env.FormData;return i(y?{"files[]":f}:f,w&&new w)}else if(m||g==="application/json")return o(p,"application/json"),l(f);return f}],transformResponse:[function(f){var p=this.transitional||h.transitional,m=p&&p.silentJSONParsing,g=p&&p.forcedJSONParsing,y=!m&&this.responseType==="json";if(y||g&&t.isString(f)&&f.length)try{return JSON.parse(f)}catch(w){if(y)throw w.name==="SyntaxError"?n.from(w,n.ERR_BAD_RESPONSE,this,null,this.response):w}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zne()},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(f){h.headers[f]={}}),t.forEach(["post","put","patch"],function(f){h.headers[f]=t.merge(s)}),Fw=h,Fw}var $w,hA;function ere(){if(hA)return $w;hA=1;var t=lr(),e=kE();return $w=function(r,i,s){var o=this||e;return t.forEach(s,function(l){r=l.call(o,r,i)}),r},$w}var Bw,pA;function E3(){return pA||(pA=1,Bw=function(e){return!!(e&&e.__CANCEL__)}),Bw}var Uw,mA;function tre(){if(mA)return Uw;mA=1;var t=lr(),e=ere(),n=E3(),r=kE(),i=gv();function s(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new i}return Uw=function(a){s(a),a.headers=a.headers||{},a.data=e.call(a,a.data,a.headers,a.transformRequest),a.headers=t.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var l=a.adapter||r.adapter;return l(a).then(function(c){return s(a),c.data=e.call(a,c.data,c.headers,a.transformResponse),c},function(c){return n(c)||(s(a),c&&c.response&&(c.response.data=e.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},Uw}var Vw,gA;function k3(){if(gA)return Vw;gA=1;var t=lr();return Vw=function(n,r){r=r||{};var i={};function s(f,p){return t.isPlainObject(f)&&t.isPlainObject(p)?t.merge(f,p):t.isPlainObject(p)?t.merge({},p):t.isArray(p)?p.slice():p}function o(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(n[f],r[f])}function a(f){if(!t.isUndefined(r[f]))return s(void 0,r[f])}function l(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(void 0,r[f])}function h(f){if(f in r)return s(n[f],r[f]);if(f in n)return s(void 0,n[f])}var c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(p){var m=c[p]||o,g=m(p);t.isUndefined(g)&&m!==h||(i[p]=g)}),i},Vw}var qw,vA;function T3(){return vA||(vA=1,qw={version:"0.27.2"}),qw}var Hw,yA;function nre(){if(yA)return Hw;yA=1;var t=T3().version,e=Zu(),n={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){n[s]=function(l){return typeof l===s||"a"+(o<1?"n ":" ")+s}});var r={};n.transitional=function(o,a,l){function h(c,f){return"[Axios v"+t+"] Transitional option '"+c+"'"+f+(l?". "+l:"")}return function(c,f,p){if(o===!1)throw new e(h(f," has been removed"+(a?" in "+a:"")),e.ERR_DEPRECATED);return a&&!r[f]&&(r[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),o?o(c,f,p):!0}};function i(s,o,a){if(typeof s!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(s),h=l.length;h-- >0;){var c=l[h],f=o[c];if(f){var p=s[c],m=p===void 0||f(p,c,s);if(m!==!0)throw new e("option "+c+" must be "+m,e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new e("Unknown option "+c,e.ERR_BAD_OPTION)}}return Hw={assertOptions:i,validators:n},Hw}var zw,wA;function rre(){if(wA)return zw;wA=1;var t=lr(),e=b3(),n=Hne(),r=tre(),i=k3(),s=S3(),o=nre(),a=o.validators;function l(h){this.defaults=h,this.interceptors={request:new n,response:new n}}return l.prototype.request=function(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var p=f.transitional;p!==void 0&&o.assertOptions(p,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=[],g=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(f)===!1||(g=g&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});var y=[];this.interceptors.response.forEach(function(N){y.push(N.fulfilled,N.rejected)});var w;if(!g){var b=[r,void 0];for(Array.prototype.unshift.apply(b,m),b=b.concat(y),w=Promise.resolve(f);b.length;)w=w.then(b.shift(),b.shift());return w}for(var _=f;m.length;){var E=m.shift(),S=m.shift();try{_=E(_)}catch(k){S(k);break}}try{w=r(_)}catch(k){return Promise.reject(k)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},l.prototype.getUri=function(c){c=i(this.defaults,c);var f=s(c.baseURL,c.url);return e(f,c.params,c.paramsSerializer)},t.forEach(["delete","get","head","options"],function(c){l.prototype[c]=function(f,p){return this.request(i(p||{},{method:c,url:f,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(c){function f(p){return function(g,y,w){return this.request(i(w||{},{method:c,headers:p?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}l.prototype[c]=f(),l.prototype[c+"Form"]=f(!0)}),zw=l,zw}var Ww,bA;function ire(){if(bA)return Ww;bA=1;var t=gv();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},Ww=e,Ww}var Yw,xA;function sre(){return xA||(xA=1,Yw=function(e){return function(r){return e.apply(null,r)}}),Yw}var Gw,_A;function ore(){if(_A)return Gw;_A=1;var t=lr();return Gw=function(n){return t.isObject(n)&&n.isAxiosError===!0},Gw}var SA;function are(){if(SA)return hp.exports;SA=1;var t=lr(),e=w3(),n=rre(),r=k3(),i=kE();function s(a){var l=new n(a),h=e(n.prototype.request,l);return t.extend(h,n.prototype,l),t.extend(h,l),h.create=function(f){return s(r(a,f))},h}var o=s(i);return o.Axios=n,o.CanceledError=gv(),o.CancelToken=ire(),o.isCancel=E3(),o.VERSION=T3().version,o.toFormData=_3(),o.AxiosError=Zu(),o.Cancel=o.CanceledError,o.all=function(l){return Promise.all(l)},o.spread=sre(),o.isAxiosError=ore(),hp.exports=o,hp.exports.default=o,hp.exports}var Kw,EA;function lre(){return EA||(EA=1,Kw=are()),Kw}var ure=lre();const cre=tf(ure),dre=cre.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK e8625f56dd420c3a1e0b08fa4e2550d4"}}),fre=t=>dre.get("/v3/search/book",{params:t}),hre=async(t,e)=>{const n={query:t},{data:r}=await fre(n);e(r.documents)},pre=gg(),Ds=$n({key:`allUsers/${jt}`,default:[],effects:[({setSelf:t})=>{jn(Ki,t)}]}),Pt=$n({key:`currUser/${jt}`,default:null,effects:[({setSelf:t})=>{const e=hg(pre,n=>{if(n){const{uid:r,email:i,displayName:s,photoURL:o}=n;t({uid:r??"",email:i??"",displayName:s??" ",photoURL:o??""})}else t(null)});return()=>{e()}}]}),TE=yE({key:`user/${jt}`,default:{},effects:t=>[({setSelf:e})=>{t&&Ar(Ki,t,e)}]}),CE=({collName:t,initialDocData:e})=>{const[n,r]=K.useState(e),{uid:i}=Pe(Pt),[s,o]=an(TE(i)),a=Os(bE),{alertAskJoinMember:l}=ni("write");K.useEffect(()=>{i&&!Af(s)&&Ar(Ki,i,o)},[i]);const h=ln(VL(Jt,t)),c=async m=>{m.preventDefault();try{if(n.text.length===0)return;await Ns(h,{...n,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss")});const g={monthId:gn,docId:h.id};f(g),n!=null&&n.recommendedBook&&a({thumbnail:"",title:"",authors:[],url:"",publisher:""})}catch(g){console.error("Error adding document:",g)}},f=async m=>{var y,w,b,_,E;const g=ln(Jt,Ki,i);t.includes("Sentence")&&await wn(g,{"userRecords.sentences":[...((y=s==null?void 0:s.userRecords)==null?void 0:y.sentences)??[],m]}),t.includes("Reviews")&&await wn(g,{"userRecords.reviews":[...((w=s==null?void 0:s.userRecords)==null?void 0:w.reviews)??[],m]}),t.includes("Subjects")&&await wn(g,{"userRecords.subjects":[...((b=s==null?void 0:s.userRecords)==null?void 0:b.subjects)??[],m]}),t.includes("RecommendedBooks")&&await wn(g,{"userRecords.recommendedBooks":[...((_=s==null?void 0:s.userRecords)==null?void 0:_.recommendedBooks)??[],{monthId:gn,docId:h.id}]}),t.includes("HostReview")&&await wn(g,{"userRecords.hostReviews":[...((E=s==null?void 0:s.userRecords)==null?void 0:E.hostReviews)??[],m]})};return{onAddDocSubmit:c,onDataChange:async m=>{if(Xt.currentUser.isAnonymous)return l();r({...n,...m})},newDocData:n}},bt=()=>{const[t,e]=an(i3);return{modalList:t,showModal:i=>new Promise(s=>{const o={...i,isOpen:!0};e(a=>[...a,o]),s()}),hideModal:async i=>{if(typeof i=="string"&&i){const s=t.map(o=>o.key===i?{...o,isOpen:!1}:o);e(s)}else e([])}}},mre=({collName:t,docId:e})=>{const{uid:n}=Pe(Pt),[r,i]=an(TE(n)),s=ln(Jt,t,e),{hideModal:o}=bt();K.useEffect(()=>{n&&!Af(r)&&Ar(Ki,n,i)},[n]);const a=async()=>{window.confirm(" ?")&&(await Qg(s),l(),o())},l=async()=>{const h=ln(Jt,Ki,n),{reviews:c,subjects:f,recommendedBooks:p,hostReviews:m,sentences:g}=r.userRecords;if(t.includes("Reviews")){const y=c.filter(w=>w.docId!==s.id);await wn(h,{"userRecords.reviews":y})}if(t.includes("Subjects")){const y=f.filter(w=>w.docId!==s.id);await wn(h,{"userRecords.subjects":y})}if(t.includes("Recommended")){const y=p.filter(w=>w.docId!==s.id);await wn(h,{"userRecords.recommendedBooks":y})}if(t.includes("HostReview")){const y=m.filter(w=>w.docId!==s.id);await wn(h,{"userRecords.hostReviews":y})}if(t.includes("Sentence-2024")){const y=g.filter(w=>w.docId!==s.id);await wn(h,{"userRecords.sentences":y})}};return{onDeleteClick:a}},ec=({collName:t,docId:e,dataToUpdate:n})=>{const[r,i]=K.useState(n),{alertAskJoinMember:s,anonymous:o}=ni("see"),{hideModal:a}=bt();return{editedData:r,setEditedData:i,onEditSubmit:async c=>{if(c.preventDefault(),o)return s();if((r==null?void 0:r.text)==="<p><br></p>")return alert("  .");const f=ln(Jt,t,e);await wn(f,{...r,updatedAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss")}),a()},onEditSubmitClick:async c=>{if(o)return s();const f=ln(Jt,t,e);await wn(f,c)}}},ni=t=>{var a;const e=Or(),n=(a=Xt.currentUser)==null?void 0:a.isAnonymous,{hideModal:r}=bt(),i=()=>{switch(t){case"see":return"  ";case"edit":return"  ";case"register":return"  ";case"write":return"  "}};function s(){if(Xt.currentUser.isAnonymous){const l=window.confirm(`  ${i()}.  .`);if(r(),l)return e("/login")}}return{alertAskJoinMember:s,blockLinkAndAlertJoinMember:l=>{n&&(l.preventDefault(),s())},anonymous:n}},gre=()=>{var y;const[t,e]=K.useState(""),[n,r]=K.useState(""),[i,s]=K.useState(""),o=(y=Xt.currentUser)==null?void 0:y.isAnonymous,a=Xt==null?void 0:Xt.currentUser,l=Or(),h=w=>{if(w.preventDefault(),!t||!n||!i)return;const b=da.credential(a==null?void 0:a.email,t);AP(a,b).then(()=>{if(n!==i){m();return}g()}).catch(_=>{if(console.error(_),_.message.includes("auth/missing-email"))return window.alert(" .")})},c=w=>{if(o)return alert(" !");r(w.currentTarget.value)},f=w=>{if(o)return alert(" !");e(w.currentTarget.value)},p=w=>{if(o)return alert(" !");s(w.currentTarget.value)};function m(){window.alert("   .   .")}function g(){$V(a,n).then(()=>{window.alert("  ."),e(""),r(""),s(""),l(-1)}).catch(w=>{console.error(w)})}return{onSubmit:h,originPassword:t,onOriginChange:f,newPassword:n,onNewChange:c,checkNewPassword:i,onCheckNewChange:p}},vre=()=>{const[t,e]=K.useState(v3[0]),[n,r]=K.useState(""),[i,s]=K.useState(""),[o,a]=K.useState(""),[l,h]=K.useState(""),[c,f]=K.useState(""),[p,m]=K.useState(""),[g,y]=K.useState(""),[w,b]=K.useState(new Set),_=Or();return{currentStep:t,keyword:n,onFirstStepChange:R=>{const{currentTarget:{value:A}}=R;r(A)},onFirstStepSubmit:R=>{R.preventDefault(),n===""?e({step:2,stepName:" "}):alert("  !")},email:i,password:o,checkPassword:l,showErrorMsg:c,onSecondStepChange:R=>{const{currentTarget:{name:A,value:D}}=R;switch(A){case"email":s(D);break;case"password":a(D),f("");break;case"checkPassword":h(D);break}},onSecondStepSubmit:async R=>{R.preventDefault();try{if(i.length===0)return f("  !");if(o.length<8)return f(" 8 .");if(o!==l)return f("  .");window.alert("      !"),e({step:3,stepName:" "})}catch(A){if(A.message.includes("email-already-in-use"))return f("    .   .")}},username:p,userGender:g,checkedBookField:w,onThirdStepChange:async R=>{const{currentTarget:{name:A,value:D}}=R;switch(A){case"username":m(D);break;case"gender":y(D);break}},onThirdStepSubmit:async R=>{var A;R.preventDefault();try{await LV(Xt,i,o),p&&g&&w.size!==0?(await Ns(ln(Jt,Ki,`${(A=Xt.currentUser)==null?void 0:A.uid}`),{favoriteBookField:Array.from(w),gender:g,name:p,displayName:"  ",photoURL:""}),window.alert("  .      !"),_("/")):alert("    .")}catch(D){if(D.message.includes("auth/invalid-email"))return f("   .");console.error(D.message)}},checkedBoxHandler:(R,A)=>{A?(w.add(R),b(w)):!A&&w.has(R)&&(w.delete(R),b(w))}}},yre={id:"",title:"",creatorId:"",createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),deadline:"",voteItems:[]},wre={id:0,selectReason:"",book:{title:"",thumbnail:"",url:""}},NE=$n({key:`bookVoteDocs/${jt()}`,default:null}),bre=()=>{const{uid:t}=Pe(Pt),n=Pe(NE).length,r={id:1,book:{title:"",thumbnail:"",url:""},selectReason:""},i={id:`${(n+1).toString().padStart(3,"0")}`,title:"",createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:t,deadline:ht(new Date,"yyyy-MM-dd"),voteItems:[r,{...r,id:2}]},[s,o]=K.useState(i),{alertAskJoinMember:a,anonymous:l}=ni("register"),{sendPushNotificationToAllUser:h,isPending:c}=Ji(),f=async()=>{const _=ln(Jt,zo,`VoteId-${s.id}`);await Ns(_,s)},{hideModal:p}=bt();return{newVote:s,setNewVote:o,onNewVoteSubmit:async _=>{if(_.preventDefault(),l)return a();if(s.title==="")return;if(s.voteItems.find(S=>S.book.title===""))return alert("    !");try{f(),window.alert("  !"),p(),h({title:"  ",body:`${s.title}  .    !`,subPath:"/vote"})}catch(S){console.error("Error adding document:",S)}},onVoteTitleChange:_=>{const E={...s,title:_.currentTarget.value};o(E)},onDateChange:_=>{const E={...s,deadline:ht(_,"yyyy-MM-dd")};o(E)},onAddVoteItemBtn:()=>{const _={voteItems:[...s.voteItems,{...wre,id:s.voteItems.length+1}]};o(E=>({...E,..._}))},onDeleteVoteItemClick:_=>{const E=s.voteItems.filter(({id:S})=>S!==_);o(S=>({...S,voteItems:E}))},isPending:c}},xre=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(!1),{uid:i}=Pe(Pt),s=Or();return{onDeleteSubmit:l=>{if(l.preventDefault(),t==="")return;const h=Xt.currentUser,c=da.credential(h==null?void 0:h.email,t);try{window.confirm(" ?")===!0?AP(h,c).then(()=>{const p=ln(Jt,Ki,i);Qg(p),qV(h),s("/")}).catch(p=>{p.message.includes("wrong-password")&&r(!0)}):window.alert(".")}catch(f){console.log(f)}},showMessage:n,password:t,onChange:l=>{var c;if((c=Xt.currentUser)==null?void 0:c.isAnonymous)return alert(" !");e(l.currentTarget.value)}}},OE=$n({key:`basePhotoAtom/${jt()}`,default:null});$n({key:`selectedYearAtom/${jt()}`,default:Tt});const tc=$n({key:`clubByYearAtom/${jt()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),C3=$n({key:`clubByNextYearAtom/${jt()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByNextYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),Dr=wE({key:"clubByMonthSelector",get:t=>({get:e})=>{const n=e(tc),r=e(C3);return(Tm===t.slice(0,4)?r:n).find(({id:s})=>s===t)||null}}),Df=()=>{const[t,e]=K.useState(Tt),[n,r]=an(tc);K.useEffect(()=>{jn(`BookClub-${t}`,r)},[t]);const i=K.useMemo(()=>n.filter(s=>s==null?void 0:s.book).filter(({book:s})=>s.thumbnail!=="").map(({book:{title:s,url:o,publisher:a,authors:l,thumbnail:h},id:c})=>({title:s,url:o,publisher:a,authors:l,thumbnail:h,yearMonthId:c})),[n]);return{clubByYear:n,selectedYear:t,setSelectedYear:e,clubBookListByYear:i}},kl=yE({key:`absence/${jt()}`,default:null,effects:t=>[({setSelf:e})=>{(async()=>{Ar(`BookClub-${t}`,ul,e)})()}]}),N3=wE({key:"attendanceSelector",get:t=>({get:e})=>{const n=+t.slice(0,4),r=+t.slice(-2),i=e(Ds),s=e(kl(`${n}`));if(!(s!=null&&s.absenceMembers))return{absenteeList:null,participantList:null};const a=(s==null?void 0:s.absenceMembers).find(({month:c})=>r===c),l=[...(a==null?void 0:a.breakMembers)||[],...(a==null?void 0:a.onceAbsenceMembers)||[]],h=i.filter(({membershipJoinTime:c})=>{const f=new Date(n,r-1);return new Date(c).getTime()<f.getTime()}).filter(c=>!l.includes(c.id)).map(c=>c.id);return{absenteeList:l,participantList:h}}}),_re={month:1,breakMonth:!1,onceAbsenceMonth:!1},Sre=t=>{const{uid:e}=Pe(Pt),[n,r]=an(kl(t)),[i,s]=K.useState(_re),o=ln(Jt,lo,ul),a=(c,f)=>f?c.includes(e)?c:[...c,e]:c.filter(p=>p!==e),{hideModal:l}=bt();return{onSubmit:async(c,f)=>{c.preventDefault();const{onceAbsenceMonth:p,breakMonth:m}=i,g=n.absenceMembers.map(w=>{const{breakMembers:b,onceAbsenceMembers:_}=w,E={...w,breakMembers:a(b,m),onceAbsenceMembers:a(_,p)};return w.month===f?E:w}),y={...n,absenceMembers:g};r(y),await wn(o,{absenceMembers:g}),l()},selectedValues:i,setSelectedValues:s}},AE=yE({key:`fieldAndHostAtomFamily/${jt}`,default:{},effects:t=>[({setSelf:e})=>{(async()=>{Ar(`BookClub-${t}`,_E,e)})()}]}),O3=wE({key:"fieldAndHostSelector",get:t=>({get:e})=>{const n=t.slice(0,4),r=e(AE(n)),i=`${+t.slice(-2)}`;return r[i]||null}}),Ere=({year:t,monthKey:e})=>{const{id:n,...r}=Pe(AE(t)),i=r[e],[s,o]=K.useState(i),{alertAskJoinMember:a,anonymous:l}=ni("edit"),{hideModal:h}=bt(),{errorMsg:c,handleErrorMsg:f}=DE(),p={field:[{condition:(s==null?void 0:s.field)==="",error:"  ."}],hosts:[{condition:(s==null?void 0:s.hosts.length)===0,error:"   ."}]},m=ln(Jt,`BookClub-${t}`,_E);return{fieldAndHostObj:r,fieldAndHost:i,onSubmit:async y=>{if(y.preventDefault(),l)return a();if(f(p))return;const b={[e]:s};await wn(m,b),h()},selectedValues:s,setSelectedValues:o,errorMsg:c}},DE=()=>{const[t,e]=K.useState({});return{errorMsg:t,handleErrorMsg:r=>{const i=a=>{var h;return((h=a==null?void 0:a.find(c=>c.condition))==null?void 0:h.error)||""},s=Object.fromEntries(Object.keys(r).map(a=>[a,i(r[a])]));return e(s),Object.values(s).some(a=>a!=="")}}},kre=({likes:t,likeUsers:e,docId:n,collName:r})=>{const[i,s]=K.useState(!1),[o,a]=K.useState(!1),{uid:l}=Pe(Pt),{onEditSubmitClick:h}=ec({collName:r,docId:n});return{like:i,setLike:s,onLikeClick:async()=>{r&&(i?(a(!1),await h({likes:t-1,likeUsers:e.filter(p=>p!==l)})):await h({likes:t+1,likeUsers:[...e,l]}),s(p=>!p))},showLikeUsers:o,toggleShowLikeUsers:()=>a(p=>!p)}},Tre=$n({key:`penaltyDoc/${jt()}`,default:{}});Kee({key:`userPenaltyList/${jt()}`,get:({get:t})=>{const e=t(Tre),{createdAt:n,id:r,...i}=e;return Object.entries(i).map(([s,o])=>({[s]:o}))}});const Cre=()=>{const[t,e]=K.useState(!1),[{uid:n,displayName:r},i]=an(Pt),[s,o]=an(TE(n)),[a,l]=K.useState(null),[h,c]=K.useState(r),f=()=>{const k=gg().currentUser;i({uid:k.uid,email:k.email,displayName:k.displayName,photoURL:k.photoURL})},p=ln(Jt,Ki,n),m=async()=>{const{original:k,compressed:N}=a,O=Gx(Kx,`avatars/${n}/original`),C=await fO(O,k),I=await Yx(C.ref),R=Gx(Kx,`avatars/${n}/compressed`),A=await fO(R,N),D=await Yx(A.ref);await PC(Xt.currentUser,{photoURL:I}),await wn(p,{photoURL:{original:I,compressed:D}}),f()},g=async()=>{const k={displayName:h};await PC(Xt.currentUser,k),await wn(p,k),f()},y=async()=>{await wn(p,{favoriteBookField:Array.from(s.favoriteBookField)})};return{isEditing:t,onToggleEditClick:()=>e(!0),onHandleFieldClick:(k,N)=>{const{name:O}=N.currentTarget,C={id:k,name:O};if(!s.favoriteBookField.some(R=>R.id===k)){const A=[...s.favoriteBookField,C].filter((D,M,F)=>M===F.findIndex(q=>q.id===D.id));return o(D=>({...D,favoriteBookField:A}))}o(R=>({...R,favoriteBookField:R.favoriteBookField.filter(A=>A.id!==k)}))},onProfileSubmit:async k=>{k.preventDefault();try{a&&m(),r!==h&&g(),y(),e(!1)}catch(N){console.error("Error adding document:",N)}},newUserImgUrl:a,setNewUserImgUrl:l,newDisplayName:h,setNewDisplayName:c,userDoc:s,onDisplayNameChange:k=>{c(k.currentTarget.value)},isSelected:k=>{var N;return(N=s==null?void 0:s.favoriteBookField)==null?void 0:N.some(O=>O.id===k)}}},A3=(t,e)=>{const[n,r]=K.useState(t),[i,s]=K.useState(null),o=Pe(Dr(e)),a=Os(tc),{hideModal:l}=bt(),{sendPushNotificationToAllUser:h}=Ji(),c=+e.slice(-2),f=`BookClub-${e.slice(0,4)}`,p=async y=>{const w=ln(Jt,f,e),{meeting:{time:b,place:_}}=y;if(t.time===b.toLocaleString()&&t.place===_)return l();await wn(w,y),a(E=>E.map(S=>o.id===e?{...S,...y}:S)),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ! ${ht(b,"M d EEEE a h mm")} ${_}  `})},m=async y=>{await EE(f,e,y),alert(`${c}   !`)},g=y=>{r(w=>({...w,...y}))};return K.useEffect(()=>{var y;((y=i==null?void 0:i.place)==null?void 0:y.length)!==null&&Ar($ne,Bne,s)},[]),{savedPlaceList:i,currMeeting:n,onMeetingChange:g,onMeetingEdit:p,onNewBookClubSubmit:m}},Nre=({docId:t})=>{var k;const{uid:e}=Pe(Pt),[n,r]=K.useState(yre),[i,s]=K.useState([]),[o,a]=K.useState([]),[l,h]=K.useState(!1),c=()=>h(N=>!N),f=Or(),{anonymous:p,alertAskJoinMember:m}=ni("see");K.useEffect(()=>{t&&n.id===""&&Ar(zo,`VoteId-${t}`,r),n.id&&jn(`${zo}/VoteId-${n.id}/${r_}`,a)},[t,n.id,a]);const g=async()=>{if(window.confirm(" ?")){const O=ln(Jt,zo,`VoteId-${t}`);await Qg(O),f(-1)}},y=async N=>{if(N.preventDefault(),p)return m();if(i.length===0)return window.alert("   .");try{const O=ln(Jt,`${zo}/VoteId-${n.id}/${r_}`,e);await Ns(O,{createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),votedItem:i}),window.alert(" !"),_&&c()}catch(O){console.error(O)}},w=N=>i.find(({id:O})=>O===N),b=N=>{const O=w(N);s(O?i.filter(({id:C})=>C!==N):[...i,{id:N}])},_=o==null?void 0:o.find(({id:N})=>N===e),E=jne(n.voteItems,o),S=(k=E==null?void 0:E.map(N=>N.voteCount))==null?void 0:k.reduce((N,O)=>N+O,0);return{currentVote:n,votedItemsByMember:o,voteCountsById:E,totalVoteCount:S,selectedItem:w,onVotingSubmit:y,onVoteItemClick:b,myVotedItems:_,onVoteDeleteClick:g,isRevote:l,onToggleRevoteClick:c}},Ore=t=>{const[e,n]=K.useState({email:"",error:""}),[r,i]=K.useState({password:"",error:""}),s=Or(),o={email:{HAS_NOT_EMAIL:"  ."},password:{HAS_NOT_PASSWORD:"  .",NOT_CORRECT:"    ."}},a=(f,p)=>{f==="email"&&n(m=>({...m,error:p})),f==="password"&&i(m=>({...m,error:p}))};return{currEmail:e,currPassword:r,onSubmit:async f=>{f.preventDefault();const{email:p}=e,{password:m}=r,{email:{HAS_NOT_EMAIL:g},password:{HAS_NOT_PASSWORD:y,NOT_CORRECT:w}}=o;try{if(!p&&!m){a("email",g),a("password",y);return}if(!p){a("email",g);return}if(!m){a("password",y);return}await jV(Xt,p,m),s("/")}catch(b){b.message.includes("invalid-login-credentials")&&a("password",w)}},onChange:f=>{const{currentTarget:{name:p,value:m}}=f;p==="email"&&n({email:m,error:""}),p==="password"&&i({password:m,error:""})},onAnonymousLoginClick:()=>{if(!t)try{IV(Xt),hg(Xt,f=>{f&&s("/")})}catch(f){console.log(f)}}}},IE=()=>{var o;const[t,e]=an(o3),n=K.useRef(null),r=(o=n==null?void 0:n.current)==null?void 0:o.value;return K.useEffect(()=>{if(r==="")return e([])},[]),{searchInputRef:n,onBookQueryChange:a=>{const{value:l}=a.currentTarget;l!==""?hre(l,e):e([])},searchList:t,setSearchList:e,resetSearchList:()=>e([])}},Ji=()=>{const[t,e]=K.useState(!1),{uid:n,displayName:r}=Pe(Pt),i=async(h,c)=>{e(!0);const{title:f,body:p,subPath:m,notification:g}=h,y=`https://talentforest.github.io/han-bookclub-app${m||""}`;try{if(!c){if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!g)return{result:"fail"};const w=await _m();return await uw({title:f,body:p,token:w,link:y}),{result:"success"}}if(c)return c!=null&&c.notification?(c.tokens.map(async w=>uw({title:f,body:p,token:w,link:y})),{result:"success"}):{result:"fail"}}catch(w){console.log(w)}finally{e(!1)}},s=async({title:h,body:c,subPath:f})=>{e(!0);try{const p=`https://talentforest.github.io/han-bookclub-app${f||""}`;await hO({title:h,body:c,link:p,uid:n})}catch(p){console.log(p)}finally{e(!1)}},o=async(h,c)=>{e(!0);try{if(!n||!h)return{result:"fail"};const f=+(c==null?void 0:c.slice(-2))||+Ti,p={:{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r}  .  !`,subPath:"/bookclub"},:{title:"  ",body:`${r} ${f}  .`,subPath:"/bookclub"},:{title:" ",body:`${r}  .   !`,subPath:"/bookclub"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}},{title:m,body:g,subPath:y}=p[h],w=`https://talentforest.github.io/han-bookclub-app${y}`;return await hO({title:m,body:g,link:w,uid:n}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},a=(h,c)=>{const f=+(c==null?void 0:c.slice(-2))||+Ti,p=c?`/${c}`:"";return{:{title:"  ",body:`${r} ${f}  .  ?`,subPath:`/bookclub${p}/subjects`}," ":{title:"  ",body:`${r} ${f}   .  ?`,subPath:`/bookclub${p}/host-review`}," ":{title:"  ",body:`${r}  .  !`,subPath:`/bookclub${p}`},:{title:"  ",body:`${r} ${f}   .`,subPath:`/bookclub${p}`},:{title:" ",body:`${r}  .      ?!`,subPath:"/challenge"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}}[h]};return{sendTestToMe:async(h,c)=>{e(!0);try{if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!n||!h)return{result:"fail"};const{title:f,body:p,subPath:m}=a(h,c),g=`http://localhost:3000/han-bookclub-app${m}`,y=await _m();return await uw({title:f,body:p,token:y,link:g}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},sendPostPushNotification:o,sendPushNotificationToUser:i,sendPushNotificationToAllUser:s,isPending:t}},Are=$n({key:`rereadingChallenge/${jt()}`,default:null}),D3=$n({key:`completeReadingChallenge/${jt()}`,default:null});$n({key:`sentences/${jt()}`,default:null});const I3=()=>{const t=Pe(Ds),[e,n]=an(Are);K.useEffect(()=>{e||jn(ll,n)},[]);const r=K.useMemo(()=>{if(!e)return null;const s=e.map(o=>{const{creatorId:a,id:l,...h}=o;return Object.entries(h).map(([c,{book:f,counts:p,impressionList:m}])=>({...f,counts:p,id:l,impressionList:m.map(g=>({...g,creatorId:a}))}))}).flat();return Object.values(s.reduce((o,a)=>{const{title:l,counts:h,impressionList:c}=a;return o[l]?(o[l].counts+=h,o[l].readers+=1,o[l].impressionList=[...o[l].impressionList??[],...c]):o[l]={...a,readers:1},o},{})).sort((o,a)=>a.counts+a.readers-(o.counts+o.readers))},[e]),i=K.useMemo(()=>{const o=t.map(({id:c})=>(e==null?void 0:e.find(({creatorId:p})=>p===c))||{id:c,creatorId:c}).map(c=>{const f=Object.entries(c).filter(([m])=>m!=="id"&&m!=="creatorId").map(([m,g])=>({...g.book,counts:g.counts})),p=f.reduce((m,g)=>m+g.counts,0);return{creatorId:c.creatorId,totalScore:p,rereadingBookList:f}}).sort((c,f)=>f.totalScore-c.totalScore);let a=0,l=null,h=0;return o.map((c,f)=>{const{rereadingBookList:p,creatorId:m,totalScore:g}=c;l===g?a=h:a=f+1,l=g,h=a;const y=p.reduce((w,{counts:b})=>w+b,0);return{creatorId:m,rank:a,rereadingBookList:p,totalRereadingCounts:y}})},[e]);return{bookWithRankList:r,userRankList:i}};var R3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kA=se.createContext&&se.createContext(R3),Dre=["attr","size","title"];function Ire(t,e){if(t==null)return{};var n=Rre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}function TA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=Lre(t,"string");return typeof e=="symbol"?e:e+""}function Lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P3(t){return t&&t.map((e,n)=>se.createElement(e.tag,Am({key:n},e.attr),P3(e.child)))}function it(t){return e=>se.createElement(jre,Om({attr:Am({},t.attr)},e),P3(t.child))}function jre(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Ire(t,Dre),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),se.createElement("svg",Om({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Am(Am({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&se.createElement("title",null,s),t.children)};return kA!==void 0?se.createElement(kA.Consumer,null,n=>e(n)):e(R3)}function Fre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function $re(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(t)}function Bre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function Ure(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(t)}function RE(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function M3(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Vre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function qre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function PE(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Hre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function zre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(t)}function Wre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function L3(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function ME(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Yre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function Gre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function Kre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Qre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Xre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function Jre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function LE(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Zre(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function vv(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function j3(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function jE(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function eie(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function If(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function tie(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Dm(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function nie(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function F3(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Bn({title:t,backBtn:e,showDesktop:n,children:r,backTo:i,className:s}){const o=Or(),a=()=>{o(i||-1)};return x.jsxs("header",{className:`header items-center gap-2 py-4 max-sm:flex ${n?"flex":"hidden"} ${s}`,children:[t===" "&&x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-[20px]"}),e&&x.jsx("button",{onClick:a,type:"button","aria-label":"",onKeyDown:a,children:x.jsx(qre,{fontSize:22})}),x.jsx("span",{className:"mr-auto text-lg font-medium",children:t}),r]})}function ur({title:t,children:e,className:n,headerType:r="normal"}){const{hideModal:i}=bt();K.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const s=document.getElementById("modal");return __.createPortal(x.jsxs("section",{className:`fixed inset-0 z-10 m-auto flex h-fit max-h-[80vh] w-[55vw] flex-col rounded-2xl bg-white px-5 py-6 max-sm:w-[90%] ${n}`,children:[r!=="noHeader"&&x.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-medium",children:t}),r!=="onlyTitle"&&x.jsx("button",{type:"button",onClick:()=>i(),className:"px-1",children:x.jsx(F3,{size:20})})]}),e]}),s)}function rie(t){return it({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(t)}function FE(t){return it({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3zm1 7H5v-1h14v1zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54 4.95-4.95z"},child:[]}]})(t)}function $3({url:t,title:e,className:n=""}){return x.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:`p-1.5 text-gray1 ${e?"flex items-center gap-1":"inline-block"} ${n}`,children:[x.jsx(Yre,{className:e?"":"size-full"}),e&&x.jsx("span",{className:"truncate text-[15px]",children:e})]})}function un({title:t,thumbnail:e,url:n,className:r="",iconName:i}){const s={MdEventAvailable:x.jsx(rie,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"}),FiPlus:x.jsx(j3,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-blue2 max-sm:w-[55%]"})},o="aspect-[0.68/1] h-fit shadow-book rounded-r-[8%]";return x.jsxs(x.Fragment,{children:[e&&x.jsxs("div",{className:`relative ${o} ${r}`,children:[x.jsx("img",{className:"size-full shadow-sm shadow-white",src:e,alt:`${t} `}),n&&x.jsx($3,{url:n,className:"absolute bottom-1 right-1 flex size-7 items-center justify-center rounded-full bg-indigo-500 text-white opacity-50"})]}),!e&&x.jsx("div",{className:`flex items-center justify-center bg-gray4 ${o} ${r}`,children:i?s[i]:x.jsx(Bre,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"})})]})}function $E({text:t,lineClamp:e}){const n=`line-clamp-[${e}]`,r=t.replaceAll("","");return x.jsx("p",{className:`ql-editor min-h-12 w-full truncate whitespace-pre-line !p-0 leading-7 ${e?n:""}`,dangerouslySetInnerHTML:{__html:r}})}function iie({collName:t,like:e,onLikeClick:n}){return x.jsx("button",{type:"button",disabled:!t,onClick:n,className:"p-1",children:x.jsx(Kre,{stroke:t?"red":"#aaa",fill:t?e?"red":"transparent":"#aaa",fontSize:13})})}function cr({userId:t,className:e,isLink:n=!0}){const{uid:r}=Pe(Pt),i=Pe(OE),[s,o]=an(Ds),a=s==null?void 0:s.find(({id:p})=>p===t);K.useEffect(()=>{(s==null?void 0:s.length)===0&&jn(Ki,o)},[t,s,o]);const l=p=>(p.preventDefault(),p.stopPropagation(),!1),h="size-[20px] aspect-square rounded-full shadow-card";if(!a)return;const f=`/bookshelf${r===(a==null?void 0:a.id)?"":`/${a==null?void 0:a.displayName}`}`;return n?x.jsxs(br,{to:f,state:{userId:a.id},className:`flex min-w-fit cursor-pointer items-center justify-between gap-x-1 ${e}`,children:[x.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),x.jsx("span",{className:"min-w-fit",children:a.displayName})]}):x.jsxs("div",{className:`flex min-w-fit items-center justify-between gap-x-1 ${e}`,children:[x.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),x.jsx("span",{className:"min-w-fit",children:a.displayName})]})}const sie=({post:t,collName:e})=>{var c,f,p;const{uid:n}=Pe(Pt),r=n===t.creatorId,{like:i,setLike:s,onLikeClick:o,showLikeUsers:a,toggleShowLikeUsers:l}=kre({likes:t.likes||0,likeUsers:t.likeUsers||[],docId:t.id,collName:e}),h=(c=t.likeUsers)==null?void 0:c.some(m=>m===n);return K.useEffect(()=>{h&&s(!0)},[]),x.jsxs("div",{className:"relative flex",children:[x.jsx("button",{type:"button",onClick:l,className:"px-1",children:a?x.jsx(Hre,{className:"text-gray1"}):x.jsx(Vre,{className:"text-gray1"})}),x.jsxs("span",{className:"text-sm",children:[((f=t==null?void 0:t.likeUsers)==null?void 0:f.length)||0," Likes"]}),!r&&x.jsx(iie,{collName:e,like:i,onLikeClick:o}),a&&x.jsxs("div",{className:"absolute bottom-7 right-0 rounded-xl border bg-white p-3",children:[x.jsx("h4",{className:"mb-2 min-w-20 text-sm text-gray1",children:" "}),x.jsx("ul",{className:"flex w-full flex-wrap gap-x-2 gap-y-1",children:(p=t==null?void 0:t.likeUsers)==null?void 0:p.map(m=>x.jsx(cr,{userId:m,className:""},m))})]})]})};function yv({post:t,createdAt:e,footerType:n,collName:r}){return x.jsxs("footer",{className:"mt-4 flex items-center justify-between",children:[x.jsx("span",{className:"min-w-fit text-sm text-gray1",children:ht(e)}),n==="likes"&&x.jsx(sie,{collName:r,post:t})]})}function oie({docId:t,collName:e}){const{onDeleteClick:n}=mre({docId:t,collName:e});return x.jsx("button",{onClick:n,children:x.jsx(If,{fontSize:15,stroke:"#aaa"})})}function at({name:t,type:e="button",children:n,disabled:r,handleClick:i,color:s="blue",className:o="",tailChildren:a,size:l="md"}){const h={gray:"text-gray1 bg-gray4",blue:"text-white bg-blue1",purple:"text-white bg-purple2",lightBlue:"text-blue4 bg-blue2"},c={lg:"h-14 min-h-14 px-4 text-[17px]",md:"h-12 min-h-12 px-4 text-[15px]",sm:"h-9 min-h-4 px-2 text-[13px]"};return x.jsxs("button",{type:e,onClick:i,disabled:r,className:`flex w-fit min-w-max items-center justify-center rounded-lg shadow-lg disabled:bg-gray4 disabled:text-gray2 max-sm:px-4 ${c[l]} ${h[s]} ${o}`,children:[n,x.jsx("span",{className:"font-medium tracking-tight",children:t}),a]})}var Qw,CA;function aie(){if(CA)return Qw;CA=1;function t(){this.__data__=[],this.size=0}return Qw=t,Qw}var Xw,NA;function B3(){if(NA)return Xw;NA=1;function t(e,n){return e===n||e!==e&&n!==n}return Xw=t,Xw}var Jw,OA;function wv(){if(OA)return Jw;OA=1;var t=B3();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Jw=e,Jw}var Zw,AA;function lie(){if(AA)return Zw;AA=1;var t=wv(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Zw=r,Zw}var e1,DA;function uie(){if(DA)return e1;DA=1;var t=wv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return e1=e,e1}var t1,IA;function cie(){if(IA)return t1;IA=1;var t=wv();function e(n){return t(this.__data__,n)>-1}return t1=e,t1}var n1,RA;function die(){if(RA)return n1;RA=1;var t=wv();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return n1=e,n1}var r1,PA;function bv(){if(PA)return r1;PA=1;var t=aie(),e=lie(),n=uie(),r=cie(),i=die();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,r1=s,r1}var i1,MA;function fie(){if(MA)return i1;MA=1;var t=bv();function e(){this.__data__=new t,this.size=0}return i1=e,i1}var s1,LA;function hie(){if(LA)return s1;LA=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return s1=t,s1}var o1,jA;function pie(){if(jA)return o1;jA=1;function t(e){return this.__data__.get(e)}return o1=t,o1}var a1,FA;function mie(){if(FA)return a1;FA=1;function t(e){return this.__data__.has(e)}return a1=t,a1}var l1,$A;function U3(){if($A)return l1;$A=1;var t=typeof Yh=="object"&&Yh&&Yh.Object===Object&&Yh;return l1=t,l1}var u1,BA;function uo(){if(BA)return u1;BA=1;var t=U3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return u1=n,u1}var c1,UA;function BE(){if(UA)return c1;UA=1;var t=uo(),e=t.Symbol;return c1=e,c1}var d1,VA;function gie(){if(VA)return d1;VA=1;var t=BE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var h=!0}catch{}var c=r.call(o);return h&&(a?o[i]=l:delete o[i]),c}return d1=s,d1}var f1,qA;function vie(){if(qA)return f1;qA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return f1=n,f1}var h1,HA;function xv(){if(HA)return h1;HA=1;var t=BE(),e=gie(),n=vie(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return h1=o,h1}var p1,zA;function V3(){if(zA)return p1;zA=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return p1=t,p1}var m1,WA;function q3(){if(WA)return m1;WA=1;var t=xv(),e=V3(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return m1=o,m1}var g1,YA;function yie(){if(YA)return g1;YA=1;var t=uo(),e=t["__core-js_shared__"];return g1=e,g1}var v1,GA;function wie(){if(GA)return v1;GA=1;var t=yie(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return v1=n,v1}var y1,KA;function H3(){if(KA)return y1;KA=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return y1=n,y1}var w1,QA;function bie(){if(QA)return w1;QA=1;var t=q3(),e=wie(),n=V3(),r=H3(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,h=a.hasOwnProperty,c=RegExp("^"+l.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=t(p)?c:s;return m.test(r(p))}return w1=f,w1}var b1,XA;function xie(){if(XA)return b1;XA=1;function t(e,n){return e==null?void 0:e[n]}return b1=t,b1}var x1,JA;function nc(){if(JA)return x1;JA=1;var t=bie(),e=xie();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return x1=n,x1}var _1,ZA;function UE(){if(ZA)return _1;ZA=1;var t=nc(),e=uo(),n=t(e,"Map");return _1=n,_1}var S1,eD;function _v(){if(eD)return S1;eD=1;var t=nc(),e=t(Object,"create");return S1=e,S1}var E1,tD;function _ie(){if(tD)return E1;tD=1;var t=_v();function e(){this.__data__=t?t(null):{},this.size=0}return E1=e,E1}var k1,nD;function Sie(){if(nD)return k1;nD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return k1=t,k1}var T1,rD;function Eie(){if(rD)return T1;rD=1;var t=_v(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return T1=i,T1}var C1,iD;function kie(){if(iD)return C1;iD=1;var t=_v(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return C1=r,C1}var N1,sD;function Tie(){if(sD)return N1;sD=1;var t=_v(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return N1=n,N1}var O1,oD;function Cie(){if(oD)return O1;oD=1;var t=_ie(),e=Sie(),n=Eie(),r=kie(),i=Tie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,O1=s,O1}var A1,aD;function Nie(){if(aD)return A1;aD=1;var t=Cie(),e=bv(),n=UE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return A1=r,A1}var D1,lD;function Oie(){if(lD)return D1;lD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return D1=t,D1}var I1,uD;function Sv(){if(uD)return I1;uD=1;var t=Oie();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return I1=e,I1}var R1,cD;function Aie(){if(cD)return R1;cD=1;var t=Sv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return R1=e,R1}var P1,dD;function Die(){if(dD)return P1;dD=1;var t=Sv();function e(n){return t(this,n).get(n)}return P1=e,P1}var M1,fD;function Iie(){if(fD)return M1;fD=1;var t=Sv();function e(n){return t(this,n).has(n)}return M1=e,M1}var L1,hD;function Rie(){if(hD)return L1;hD=1;var t=Sv();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return L1=e,L1}var j1,pD;function z3(){if(pD)return j1;pD=1;var t=Nie(),e=Aie(),n=Die(),r=Iie(),i=Rie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,j1=s,j1}var F1,mD;function Pie(){if(mD)return F1;mD=1;var t=bv(),e=UE(),n=z3(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return F1=i,F1}var $1,gD;function Mie(){if(gD)return $1;gD=1;var t=bv(),e=fie(),n=hie(),r=pie(),i=mie(),s=Pie();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,$1=o,$1}var B1,vD;function Lie(){if(vD)return B1;vD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return B1=e,B1}var U1,yD;function jie(){if(yD)return U1;yD=1;function t(e){return this.__data__.has(e)}return U1=t,U1}var V1,wD;function Fie(){if(wD)return V1;wD=1;var t=z3(),e=Lie(),n=jie();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,V1=r,V1}var q1,bD;function $ie(){if(bD)return q1;bD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return q1=t,q1}var H1,xD;function Bie(){if(xD)return H1;xD=1;function t(e,n){return e.has(n)}return H1=t,H1}var z1,_D;function W3(){if(_D)return z1;_D=1;var t=Fie(),e=$ie(),n=Bie(),r=1,i=2;function s(o,a,l,h,c,f){var p=l&r,m=o.length,g=a.length;if(m!=g&&!(p&&g>m))return!1;var y=f.get(o),w=f.get(a);if(y&&w)return y==a&&w==o;var b=-1,_=!0,E=l&i?new t:void 0;for(f.set(o,a),f.set(a,o);++b<m;){var S=o[b],k=a[b];if(h)var N=p?h(k,S,b,a,o,f):h(S,k,b,o,a,f);if(N!==void 0){if(N)continue;_=!1;break}if(E){if(!e(a,function(O,C){if(!n(E,C)&&(S===O||c(S,O,l,h,f)))return E.push(C)})){_=!1;break}}else if(!(S===k||c(S,k,l,h,f))){_=!1;break}}return f.delete(o),f.delete(a),_}return z1=s,z1}var W1,SD;function Uie(){if(SD)return W1;SD=1;var t=uo(),e=t.Uint8Array;return W1=e,W1}var Y1,ED;function Vie(){if(ED)return Y1;ED=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return Y1=t,Y1}var G1,kD;function qie(){if(kD)return G1;kD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return G1=t,G1}var K1,TD;function Hie(){if(TD)return K1;TD=1;var t=BE(),e=Uie(),n=B3(),r=W3(),i=Vie(),s=qie(),o=1,a=2,l="[object Boolean]",h="[object Date]",c="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",E=t?t.prototype:void 0,S=E?E.valueOf:void 0;function k(N,O,C,I,R,A,D){switch(C){case _:if(N.byteLength!=O.byteLength||N.byteOffset!=O.byteOffset)return!1;N=N.buffer,O=O.buffer;case b:return!(N.byteLength!=O.byteLength||!A(new e(N),new e(O)));case l:case h:case p:return n(+N,+O);case c:return N.name==O.name&&N.message==O.message;case m:case y:return N==O+"";case f:var M=i;case g:var F=I&o;if(M||(M=s),N.size!=O.size&&!F)return!1;var q=D.get(N);if(q)return q==O;I|=a,D.set(N,O);var L=r(M(N),M(O),I,R,A,D);return D.delete(N),L;case w:if(S)return S.call(N)==S.call(O)}return!1}return K1=k,K1}var Q1,CD;function zie(){if(CD)return Q1;CD=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return Q1=t,Q1}var X1,ND;function VE(){if(ND)return X1;ND=1;var t=Array.isArray;return X1=t,X1}var J1,OD;function Wie(){if(OD)return J1;OD=1;var t=zie(),e=VE();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return J1=n,J1}var Z1,AD;function Yie(){if(AD)return Z1;AD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return Z1=t,Z1}var eb,DD;function Gie(){if(DD)return eb;DD=1;function t(){return[]}return eb=t,eb}var tb,ID;function Kie(){if(ID)return tb;ID=1;var t=Yie(),e=Gie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return tb=s,tb}var nb,RD;function Qie(){if(RD)return nb;RD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return nb=t,nb}var rb,PD;function Ev(){if(PD)return rb;PD=1;function t(e){return e!=null&&typeof e=="object"}return rb=t,rb}var ib,MD;function Xie(){if(MD)return ib;MD=1;var t=xv(),e=Ev(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ib=r,ib}var sb,LD;function Jie(){if(LD)return sb;LD=1;var t=Xie(),e=Ev(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return sb=s,sb}var dd={exports:{}},ob,jD;function Zie(){if(jD)return ob;jD=1;function t(){return!1}return ob=t,ob}dd.exports;var FD;function Y3(){return FD||(FD=1,function(t,e){var n=uo(),r=Zie(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,h=l||r;t.exports=h}(dd,dd.exports)),dd.exports}var ab,$D;function ese(){if($D)return ab;$D=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ab=n,ab}var lb,BD;function G3(){if(BD)return lb;BD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return lb=e,lb}var ub,UD;function tse(){if(UD)return ub;UD=1;var t=xv(),e=G3(),n=Ev(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",h="[object Map]",c="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]",A={};A[_]=A[E]=A[S]=A[k]=A[N]=A[O]=A[C]=A[I]=A[R]=!0,A[r]=A[i]=A[w]=A[s]=A[b]=A[o]=A[a]=A[l]=A[h]=A[c]=A[f]=A[p]=A[m]=A[g]=A[y]=!1;function D(M){return n(M)&&e(M.length)&&!!A[t(M)]}return ub=D,ub}var cb,VD;function nse(){if(VD)return cb;VD=1;function t(e){return function(n){return e(n)}}return cb=t,cb}var fd={exports:{}};fd.exports;var qD;function rse(){return qD||(qD=1,function(t,e){var n=U3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(fd,fd.exports)),fd.exports}var db,HD;function K3(){if(HD)return db;HD=1;var t=tse(),e=nse(),n=rse(),r=n&&n.isTypedArray,i=r?e(r):t;return db=i,db}var fb,zD;function ise(){if(zD)return fb;zD=1;var t=Qie(),e=Jie(),n=VE(),r=Y3(),i=ese(),s=K3(),o=Object.prototype,a=o.hasOwnProperty;function l(h,c){var f=n(h),p=!f&&e(h),m=!f&&!p&&r(h),g=!f&&!p&&!m&&s(h),y=f||p||m||g,w=y?t(h.length,String):[],b=w.length;for(var _ in h)(c||a.call(h,_))&&!(y&&(_=="length"||m&&(_=="offset"||_=="parent")||g&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,b)))&&w.push(_);return w}return fb=l,fb}var hb,WD;function sse(){if(WD)return hb;WD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return hb=e,hb}var pb,YD;function ose(){if(YD)return pb;YD=1;function t(e,n){return function(r){return e(n(r))}}return pb=t,pb}var mb,GD;function ase(){if(GD)return mb;GD=1;var t=ose(),e=t(Object.keys,Object);return mb=e,mb}var gb,KD;function lse(){if(KD)return gb;KD=1;var t=sse(),e=ase(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return gb=i,gb}var vb,QD;function use(){if(QD)return vb;QD=1;var t=q3(),e=G3();function n(r){return r!=null&&e(r.length)&&!t(r)}return vb=n,vb}var yb,XD;function cse(){if(XD)return yb;XD=1;var t=ise(),e=lse(),n=use();function r(i){return n(i)?t(i):e(i)}return yb=r,yb}var wb,JD;function dse(){if(JD)return wb;JD=1;var t=Wie(),e=Kie(),n=cse();function r(i){return t(i,n,e)}return wb=r,wb}var bb,ZD;function fse(){if(ZD)return bb;ZD=1;var t=dse(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,h,c){var f=a&e,p=t(s),m=p.length,g=t(o),y=g.length;if(m!=y&&!f)return!1;for(var w=m;w--;){var b=p[w];if(!(f?b in o:r.call(o,b)))return!1}var _=c.get(s),E=c.get(o);if(_&&E)return _==o&&E==s;var S=!0;c.set(s,o),c.set(o,s);for(var k=f;++w<m;){b=p[w];var N=s[b],O=o[b];if(l)var C=f?l(O,N,b,o,s,c):l(N,O,b,s,o,c);if(!(C===void 0?N===O||h(N,O,a,l,c):C)){S=!1;break}k||(k=b=="constructor")}if(S&&!k){var I=s.constructor,R=o.constructor;I!=R&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof R=="function"&&R instanceof R)&&(S=!1)}return c.delete(s),c.delete(o),S}return bb=i,bb}var xb,eI;function hse(){if(eI)return xb;eI=1;var t=nc(),e=uo(),n=t(e,"DataView");return xb=n,xb}var _b,tI;function pse(){if(tI)return _b;tI=1;var t=nc(),e=uo(),n=t(e,"Promise");return _b=n,_b}var Sb,nI;function mse(){if(nI)return Sb;nI=1;var t=nc(),e=uo(),n=t(e,"Set");return Sb=n,Sb}var Eb,rI;function gse(){if(rI)return Eb;rI=1;var t=nc(),e=uo(),n=t(e,"WeakMap");return Eb=n,Eb}var kb,iI;function vse(){if(iI)return kb;iI=1;var t=hse(),e=UE(),n=pse(),r=mse(),i=gse(),s=xv(),o=H3(),a="[object Map]",l="[object Object]",h="[object Promise]",c="[object Set]",f="[object WeakMap]",p="[object DataView]",m=o(t),g=o(e),y=o(n),w=o(r),b=o(i),_=s;return(t&&_(new t(new ArrayBuffer(1)))!=p||e&&_(new e)!=a||n&&_(n.resolve())!=h||r&&_(new r)!=c||i&&_(new i)!=f)&&(_=function(E){var S=s(E),k=S==l?E.constructor:void 0,N=k?o(k):"";if(N)switch(N){case m:return p;case g:return a;case y:return h;case w:return c;case b:return f}return S}),kb=_,kb}var Tb,sI;function yse(){if(sI)return Tb;sI=1;var t=Mie(),e=W3(),n=Hie(),r=fse(),i=vse(),s=VE(),o=Y3(),a=K3(),l=1,h="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(y,w,b,_,E,S){var k=s(y),N=s(w),O=k?c:i(y),C=N?c:i(w);O=O==h?f:O,C=C==h?f:C;var I=O==f,R=C==f,A=O==C;if(A&&o(y)){if(!o(w))return!1;k=!0,I=!1}if(A&&!I)return S||(S=new t),k||a(y)?e(y,w,b,_,E,S):n(y,w,O,b,_,E,S);if(!(b&l)){var D=I&&m.call(y,"__wrapped__"),M=R&&m.call(w,"__wrapped__");if(D||M){var F=D?y.value():y,q=M?w.value():w;return S||(S=new t),E(F,q,b,_,S)}}return A?(S||(S=new t),r(y,w,b,_,E,S)):!1}return Tb=g,Tb}var Cb,oI;function wse(){if(oI)return Cb;oI=1;var t=yse(),e=Ev();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return Cb=n,Cb}var Nb,aI;function bse(){if(aI)return Nb;aI=1;var t=wse();function e(n,r){return t(n,r)}return Nb=e,Nb}var jp={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var xse=jp.exports,lI;function _se(){return lI||(lI=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:xse,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),h=i(46),c=i(47),f=i(48),p=i(49),m=i(12),g=i(32),y=i(33),w=i(31),b=i(1),_={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:h.default,Text:p.default,Attributor:{Attribute:m.default,Class:g.default,Style:y.default,Store:w.default}};r.default=_},function(n,r,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var E in _)_.hasOwnProperty(E)&&(b[E]=_[E])};return function(b,_){w(b,_);function E(){this.constructor=b}b.prototype=_===null?Object.create(_):(E.prototype=_.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){s(b,w);function b(_){var E=this;return _="[Parchment] "+_,E=w.call(this,_)||this,E.message=_,E.name=E.constructor.name,E}return b}(Error);r.ParchmentError=o;var a={},l={},h={},c={};r.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function p(w,b){var _=g(w);if(_==null)throw new o("Unable to create "+w+" blot");var E=_,S=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(b);return new E(S,b)}r.create=p;function m(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?m(w.parentNode,b):null}r.find=m;function g(w,b){b===void 0&&(b=f.ANY);var _;if(typeof w=="string")_=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)_=c.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?_=c.block:w&f.LEVEL&f.INLINE&&(_=c.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var S in E)if(_=l[E[S]],_)break;_=_||h[w.tagName]}return _==null?null:b&f.LEVEL&_.scope&&b&f.TYPE&_.scope?_:null}r.query=g;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(S){return y(S)});var _=w[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new o("Invalid definition");if(_.blotName==="abstract")throw new o("Cannot register abstract class");if(c[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(S){return S.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var E=Array.isArray(_.tagName)?_.tagName:[_.tagName];E.forEach(function(S){(h[S]==null||_.className==null)&&(h[S]=_)})}return _}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),h="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,p){var m={};return f.length===0?this:(m.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,p){if(f<=0)return this;var m={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},c.prototype.push=function(f){var p=this.ops.length,m=this.ops[p-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(f),this;if(o(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var p=[],m=[];return this.forEach(function(g){var y=f(g)?p:m;y.push(g)}),[p,m]},c.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},c.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},c.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var m=[],g=l.iterator(this.ops),y=0;y<p&&g.hasNext();){var w;y<f?w=g.next(f-y):(w=g.next(p-y),m.push(w)),y+=l.length(w)}return new c(m)},c.prototype.compose=function(f){var p=l.iterator(this.ops),m=l.iterator(f.ops),g=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),g.push(p.next());y.retain-w>0&&m.next(y.retain-w)}for(var b=new c(g);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(p.peekType()==="delete")b.push(p.next());else{var _=Math.min(p.peekLength(),m.peekLength()),E=p.next(_),S=m.next(_);if(typeof S.retain=="number"){var k={};typeof E.retain=="number"?k.retain=_:k.insert=E.insert;var N=l.attributes.compose(E.attributes,S.attributes,typeof E.retain=="number");if(N&&(k.attributes=N),b.push(k),!m.hasNext()&&o(b.ops[b.ops.length-1],k)){var O=new c(p.rest());return b.concat(O).chop()}}else typeof S.delete=="number"&&typeof E.retain=="number"&&b.push(S)}return b.chop()},c.prototype.concat=function(f){var p=new c(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},c.prototype.diff=function(f,p){if(this.ops===f.ops)return new c;var m=[this,f].map(function(_){return _.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:h;var S=_===f?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),g=new c,y=s(m[0],m[1],p),w=l.iterator(this.ops),b=l.iterator(f.ops);return y.forEach(function(_){for(var E=_[1].length;E>0;){var S=0;switch(_[0]){case s.INSERT:S=Math.min(b.peekLength(),E),g.push(b.next(S));break;case s.DELETE:S=Math.min(E,w.peekLength()),w.next(S),g.delete(S);break;case s.EQUAL:S=Math.min(w.peekLength(),b.peekLength(),E);var k=w.next(S),N=b.next(S);o(k.insert,N.insert)?g.retain(S,l.attributes.diff(k.attributes,N.attributes)):g.push(N).delete(S);break}E-=S}}),g.chop()},c.prototype.eachLine=function(f,p){p=p||`
`;for(var m=l.iterator(this.ops),g=new c,y=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),b=l.length(w)-m.peekLength(),_=typeof w.insert=="string"?w.insert.indexOf(p,b)-b:-1;if(_<0)g.push(m.next());else if(_>0)g.push(m.next(_));else{if(f(g,m.next(1).attributes||{},y)===!1)return;y+=1,g=new c}}g.length()>0&&f(g,{},y)},c.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var m=l.iterator(this.ops),g=l.iterator(f.ops),y=new c;m.hasNext()||g.hasNext();)if(m.peekType()==="insert"&&(p||g.peekType()!=="insert"))y.retain(l.length(m.next()));else if(g.peekType()==="insert")y.push(g.next());else{var w=Math.min(m.peekLength(),g.peekLength()),b=m.next(w),_=g.next(w);if(b.delete)continue;_.delete?y.push(_):y.retain(w,l.attributes.transform(b.attributes,_.attributes,p))}return y.chop()},c.prototype.transformPosition=function(f,p){p=!!p;for(var m=l.iterator(this.ops),g=0;m.hasNext()&&g<=f;){var y=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){f-=Math.min(y,f-g);continue}else w==="insert"&&(g<f||!p)&&(f+=y);g+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},h=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var g=i.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},c=function(m,g){o&&g.name==="__proto__"?o(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},f=function(m,g){if(g==="__proto__")if(i.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};n.exports=function p(){var m,g,y,w,b,_,E=arguments[0],S=1,k=arguments.length,N=!1;for(typeof E=="boolean"&&(N=E,E=arguments[1]||{},S=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});S<k;++S)if(m=arguments[S],m!=null)for(g in m)y=f(E,g),w=f(m,g),E!==w&&(N&&w&&(h(w)||(b=l(w)))?(b?(b=!1,_=y&&l(y)?y:[]):_=y&&h(y)?y:{},c(E,{name:g,newValue:p(N,_,w)})):typeof w<"u"&&c(E,{name:g,newValue:w}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(D,M){for(var F=0;F<M.length;F++){var q=M[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,M,F){return M&&A(D.prototype,M),F&&A(D,F),D}}(),o=function A(D,M,F){D===null&&(D=Function.prototype);var q=Object.getOwnPropertyDescriptor(D,M);if(q===void 0){var L=Object.getPrototypeOf(D);return L===null?void 0:A(L,M,F)}else{if("value"in q)return q.value;var B=q.get;return B===void 0?void 0:B.call(F)}},a=i(3),l=E(a),h=i(2),c=E(h),f=i(0),p=E(f),m=i(16),g=E(m),y=i(6),w=E(y),b=i(7),_=E(b);function E(A){return A&&A.__esModule?A:{default:A}}function S(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function k(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function N(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var O=1,C=function(A){N(D,A);function D(){return S(this,D),k(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"attach",value:function(){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,q){var L=p.default.query(F,p.default.Scope.BLOCK_ATTRIBUTE);L!=null&&this.attributes.attribute(L,q)}},{key:"formatAt",value:function(F,q,L,B){this.format(L,B)}},{key:"insertAt",value:function(F,q,L){if(typeof q=="string"&&q.endsWith(`
`)){var B=p.default.create(I.blotName);this.parent.insertBefore(B,F===0?this:this.next),B.insertAt(0,q.slice(0,-1))}else o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,L)}}]),D}(p.default.Embed);C.scope=p.default.Scope.BLOCK_BLOT;var I=function(A){N(D,A);function D(M){S(this,D);var F=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M));return F.cache={},F}return s(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(F,q){return q.length()===0?F:F.insert(q.value(),R(q))},new c.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,F,q),this.cache={}}},{key:"formatAt",value:function(F,q,L,B){q<=0||(p.default.query(L,p.default.Scope.BLOCK)?F+q===this.length()&&this.format(L,B):o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,F,Math.min(q,this.length()-F-1),L,B),this.cache={})}},{key:"insertAt",value:function(F,q,L){if(L!=null)return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,L);if(q.length!==0){var B=q.split(`
`),Y=B.shift();Y.length>0&&(F<this.length()-1||this.children.tail==null?o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var H=this;B.reduce(function(j,U){return H=H.split(j,!0),H.insertAt(0,U),U.length},F+Y.length)}}},{key:"insertBefore",value:function(F,q){var L=this.children.head;o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,F,q),L instanceof g.default&&L.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,F,q),this.cache={}}},{key:"optimize",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(F===0||F>=this.length()-O)){var L=this.clone();return F===0?(this.parent.insertBefore(L,this),this):(this.parent.insertBefore(L,this.next),L)}else{var B=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,F,q);return this.cache={},B}}}]),D}(p.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[w.default,p.default.Embed,_.default];function R(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(D=(0,l.default)(D,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?D:R(A.parent,D)}r.bubbleFormats=R,r.BlockEmbed=C,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(j,U){var V=[],z=!0,Q=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){Q=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(Q)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}();i(50);var l=i(2),h=R(l),c=i(14),f=R(c),p=i(8),m=R(p),g=i(9),y=R(g),w=i(0),b=R(w),_=i(15),E=R(_),S=i(3),k=R(S),N=i(10),O=R(N),C=i(34),I=R(C);function R(H){return H&&H.__esModule?H:{default:H}}function A(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function D(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var M=(0,O.default)("quill"),F=function(){a(H,null,[{key:"debug",value:function(U){U===!0&&(U="log"),O.default.level(U)}},{key:"find",value:function(U){return U.__quill||b.default.find(U)}},{key:"import",value:function(U){return this.imports[U]==null&&M.error("Cannot import "+U+". Are you sure it was registered?"),this.imports[U]}},{key:"register",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof U!="string"){var X=U.attrName||U.blotName;typeof X=="string"?this.register("formats/"+X,U,V):Object.keys(U).forEach(function(W){z.register(W,U[W],V)})}else this.imports[U]!=null&&!Q&&M.warn("Overwriting "+U+" with",V),this.imports[U]=V,(U.startsWith("blots/")||U.startsWith("formats/"))&&V.blotName!=="abstract"?b.default.register(V):U.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function H(j){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,H),this.options=q(j,V),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",j);this.options.debug&&H.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,W){var J=U.selection.lastRange,Z=J&&J.length===0?J.index:void 0;L.call(U,function(){return U.editor.update(null,W,Z)},X)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof U=="string"){var z=U;U=document.createElement("div"),U.classList.add(z)}return this.container.insertBefore(U,V),U}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(U,V,z){var Q=this,X=B(U,V,z),W=o(X,4);return U=W[0],V=W[1],z=W[3],L.call(this,function(){return Q.editor.deleteText(U,V)},z,U,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(U),this.container.classList.toggle("ql-disabled",!U)}},{key:"focus",value:function(){var U=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=U,this.scrollIntoView()}},{key:"format",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return L.call(this,function(){var X=z.getSelection(!0),W=new h.default;if(X==null)return W;if(b.default.query(U,b.default.Scope.BLOCK))W=z.editor.formatLine(X.index,X.length,A({},U,V));else{if(X.length===0)return z.selection.format(U,V),W;W=z.editor.formatText(X.index,X.length,A({},U,V))}return z.setSelection(X,m.default.sources.SILENT),W},Q)}},{key:"formatLine",value:function(U,V,z,Q,X){var W=this,J=void 0,Z=B(U,V,z,Q,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],L.call(this,function(){return W.editor.formatLine(U,V,J)},X,U,0)}},{key:"formatText",value:function(U,V,z,Q,X){var W=this,J=void 0,Z=B(U,V,z,Q,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],L.call(this,function(){return W.editor.formatText(U,V,J)},X,U,0)}},{key:"getBounds",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof U=="number"?z=this.selection.getBounds(U,V):z=this.selection.getBounds(U.index,U.length);var Q=this.container.getBoundingClientRect();return{bottom:z.bottom-Q.top,height:z.height,left:z.left-Q.left,right:z.right-Q.left,top:z.top-Q.top,width:z.width}}},{key:"getContents",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),Q=o(z,2);return U=Q[0],V=Q[1],this.editor.getContents(U,V)}},{key:"getFormat",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof U=="number"?this.editor.getFormat(U,V):this.editor.getFormat(U.index,U.length)}},{key:"getIndex",value:function(U){return U.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(U){return this.scroll.leaf(U)}},{key:"getLine",value:function(U){return this.scroll.line(U)}},{key:"getLines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof U!="number"?this.scroll.lines(U.index,U.length):this.scroll.lines(U,V)}},{key:"getModule",value:function(U){return this.theme.modules[U]}},{key:"getSelection",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return U&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),Q=o(z,2);return U=Q[0],V=Q[1],this.editor.getText(U,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(U,V,z){var Q=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return L.call(this,function(){return Q.editor.insertEmbed(U,V,z)},X,U)}},{key:"insertText",value:function(U,V,z,Q,X){var W=this,J=void 0,Z=B(U,0,z,Q,X),te=o(Z,4);return U=te[0],J=te[2],X=te[3],L.call(this,function(){return W.editor.insertText(U,V,J)},X,U,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(U,V,z){this.clipboard.dangerouslyPasteHTML(U,V,z)}},{key:"removeFormat",value:function(U,V,z){var Q=this,X=B(U,V,z),W=o(X,4);return U=W[0],V=W[1],z=W[3],L.call(this,function(){return Q.editor.removeFormat(U,V)},z,U)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return L.call(this,function(){U=new h.default(U);var Q=V.getLength(),X=V.editor.deleteText(0,Q),W=V.editor.applyDelta(U),J=W.ops[W.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),W.delete(1));var Z=X.compose(W);return Z},z)}},{key:"setSelection",value:function(U,V,z){if(U==null)this.selection.setRange(null,V||H.sources.API);else{var Q=B(U,V,z),X=o(Q,4);U=X[0],V=X[1],z=X[3],this.selection.setRange(new _.Range(U,V),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new h.default().insert(U);return this.setContents(z,V)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,V=this.scroll.update(U);return this.selection.update(U),V}},{key:"updateContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return L.call(this,function(){return U=new h.default(U),V.editor.applyDelta(U,z)},z,!0)}}]),H}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=m.default.events,F.sources=m.default.sources,F.version="1.3.7",F.imports={delta:h.default,parchment:b.default,"core/module":y.default,"core/theme":I.default};function q(H,j){if(j=(0,k.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===F.DEFAULTS.theme)j.theme=I.default;else if(j.theme=F.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var U=(0,k.default)(!0,{},j.theme.DEFAULTS);[U,j].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(X){Q.modules[X]===!0&&(Q.modules[X]={})})});var V=Object.keys(U.modules).concat(Object.keys(j.modules)),z=V.reduce(function(Q,X){var W=F.import("modules/"+X);return W==null?M.error("Cannot load "+X+" module. Are you sure you registered it?"):Q[X]=W.DEFAULTS||{},Q},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,k.default)(!0,{},F.DEFAULTS,{modules:z},U,j),["bounds","container","scrollingContainer"].forEach(function(Q){typeof j[Q]=="string"&&(j[Q]=document.querySelector(j[Q]))}),j.modules=Object.keys(j.modules).reduce(function(Q,X){return j.modules[X]&&(Q[X]=j.modules[X]),Q},{}),j}function L(H,j,U,V){if(this.options.strict&&!this.isEnabled()&&j===m.default.sources.USER)return new h.default;var z=U==null?null:this.getSelection(),Q=this.editor.delta,X=H();if(z!=null&&(U===!0&&(U=z.index),V==null?z=Y(z,X,j):V!==0&&(z=Y(z,U,V,j)),this.setSelection(z,m.default.sources.SILENT)),X.length()>0){var W,J=[m.default.events.TEXT_CHANGE,X,Q,j];if((W=this.emitter).emit.apply(W,[m.default.events.EDITOR_CHANGE].concat(J)),j!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}return X}function B(H,j,U,V,z){var Q={};return typeof H.index=="number"&&typeof H.length=="number"?typeof j!="number"?(z=V,V=U,U=j,j=H.length,H=H.index):(j=H.length,H=H.index):typeof j!="number"&&(z=V,V=U,U=j,j=0),(typeof U>"u"?"undefined":s(U))==="object"?(Q=U,z=V):typeof U=="string"&&(V!=null?Q[U]=V:z=U),z=z||m.default.sources.API,[H,j,Q,z]}function Y(H,j,U,V){if(H==null)return null;var z=void 0,Q=void 0;if(j instanceof h.default){var X=[H.index,H.index+H.length].map(function(te){return j.transformPosition(te,V!==m.default.sources.USER)}),W=o(X,2);z=W[0],Q=W[1]}else{var J=[H.index,H.index+H.length].map(function(te){return te<j||te===j&&V===m.default.sources.USER?te:U>=0?te+U:Math.max(j,te+U)}),Z=o(J,2);z=Z[0],Q=Z[1]}return new _.Range(z,Q-z)}r.expandConfig=q,r.overload=B,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),o=function w(b,_,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(7),l=f(a),h=i(0),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){g(b,w);function b(){return p(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(E,S,k,N){if(b.compare(this.statics.blotName,k)<0&&c.default.query(k,c.default.Scope.BLOT)){var O=this.isolate(E,S);N&&O.wrap(k,N)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,E,S,k,N)}},{key:"optimize",value:function(E){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(E,S){var k=b.order.indexOf(E),N=b.order.indexOf(S);return k>=0||N>=0?k-N:E===S?0:E<S?-1:1}}]),b}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(E,S){for(var k=0;k<S.length;k++){var N=S[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,S,k){return S&&_(E.prototype,S),k&&_(E,k),E}}(),o=function _(E,S,k){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,S);if(N===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:_(O,S,k)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(k)}},a=i(54),l=f(a),h=i(10),c=f(h);function f(_){return _&&_.__esModule?_:{default:_}}function p(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function m(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function g(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(_){document.addEventListener(_,function(){for(var E=arguments.length,S=Array(E),k=0;k<E;k++)S[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var O;(O=N.__quill.emitter).handleDOM.apply(O,S)}})})});var b=function(_){g(E,_);function E(){p(this,E);var S=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return S.listeners={},S.on("error",y.error),S}return s(E,[{key:"emit",value:function(){y.log.apply(y,arguments),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var N=arguments.length,O=Array(N>1?N-1:0),C=1;C<N;C++)O[C-1]=arguments[C];(this.listeners[k.type]||[]).forEach(function(I){var R=I.node,A=I.handler;(k.target===R||R.contains(k.target))&&A.apply(void 0,[k].concat(O))})}},{key:"listenDOM",value:function(k,N,O){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:N,handler:O})}}]),E}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=h};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(h){if(s.indexOf(h)<=s.indexOf(o)){for(var c,f=arguments.length,p=Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];(c=console)[h].apply(c,p)}}function l(h){return s.reduce(function(c,f){return c[f]=a.bind(console,f,h),c},{})}a.level=l.level=function(h){o=h},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(p,m,g){return g||(g={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?g.strict?p===m:p==m:f(p,m,g)};function h(p){return p==null}function c(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,m,g){var y,w;if(h(p)||h(m)||p.prototype!==m.prototype)return!1;if(a(p))return a(m)?(p=s.call(p),m=s.call(m),l(p,m,g)):!1;if(c(p)){if(!c(m)||p.length!==m.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==m[y])return!1;return!0}try{var b=o(p),_=o(m)}catch{return!1}if(b.length!=_.length)return!1;for(b.sort(),_.sort(),y=b.length-1;y>=0;y--)if(b[y]!=_[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!l(p[w],m[w],g))return!1;return typeof p==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,h,c){c===void 0&&(c={}),this.attrName=l,this.keyName=h;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(h){return h.name})},a.prototype.add=function(l,h){return this.canAdd(l,h)?(l.setAttribute(this.keyName,h),!0):!1},a.prototype.canAdd=function(l,h){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var h=l.getAttribute(this.keyName);return this.canAdd(l,h)&&h?h:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function C(I,R){var A=[],D=!0,M=!1,F=void 0;try{for(var q=I[Symbol.iterator](),L;!(D=(L=q.next()).done)&&(A.push(L.value),!(R&&A.length===R));D=!0);}catch(B){M=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(M)throw F}}return A}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,R){for(var A=0;A<R.length;A++){var D=R[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,R,A){return R&&C(I.prototype,R),A&&C(I,A),I}}(),a=function C(I,R,A){I===null&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,R);if(D===void 0){var M=Object.getPrototypeOf(I);return M===null?void 0:C(M,R,A)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(A)}},l=i(2),h=_(l),c=i(0),f=_(c),p=i(4),m=_(p),g=i(6),y=_(g),w=i(7),b=_(w);function _(C){return C&&C.__esModule?C:{default:C}}function E(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function S(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function k(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var N=function(C){k(I,C);function I(){return E(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(y.default);N.blotName="code",N.tagName="CODE";var O=function(C){k(I,C);function I(){return E(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"delta",value:function(){var A=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(M,F){return M.insert(F).insert(`
`,A.formats())},new h.default)}},{key:"format",value:function(A,D){if(!(A===this.statics.blotName&&D)){var M=this.descendant(b.default,this.length()-1),F=s(M,1),q=F[0];q!=null&&q.deleteAt(q.length()-1,1),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,A,D)}}},{key:"formatAt",value:function(A,D,M,F){if(D!==0&&!(f.default.query(M,f.default.Scope.BLOCK)==null||M===this.statics.blotName&&F===this.statics.formats(this.domNode))){var q=this.newlineIndex(A);if(!(q<0||q>=A+D)){var L=this.newlineIndex(A,!0)+1,B=q-L+1,Y=this.isolate(L,B),H=Y.next;Y.format(M,F),H instanceof I&&H.formatAt(0,A-L+D-B,M,F)}}}},{key:"insertAt",value:function(A,D,M){if(M==null){var F=this.descendant(b.default,A),q=s(F,2),L=q[0],B=q[1];L.insertAt(B,D)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var M=this.domNode.textContent.slice(A).indexOf(`
`);return M>-1?A+M:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(A),D.moveChildren(this),D.remove())}},{key:"replace",value:function(A){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var M=f.default.find(D);M==null?D.parentNode.removeChild(D):M instanceof f.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(A){var D=a(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,A);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),I}(m.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=N,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(j,U){var V=[],z=!0,Q=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){Q=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(Q)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}(),l=i(2),h=D(l),c=i(20),f=D(c),p=i(0),m=D(p),g=i(13),y=D(g),w=i(24),b=D(w),_=i(4),E=D(_),S=i(16),k=D(S),N=i(21),O=D(N),C=i(11),I=D(C),R=i(3),A=D(R);function D(H){return H&&H.__esModule?H:{default:H}}function M(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function F(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,L=function(){function H(j){F(this,H),this.scroll=j,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function(U){var V=this,z=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),U=Y(U),U.reduce(function(X,W){var J=W.retain||W.delete||W.insert.length||1,Z=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var te=W.insert;te.endsWith(`
`)&&z&&(z=!1,te=te.slice(0,-1)),X>=Q&&!te.endsWith(`
`)&&(z=!0),V.scroll.insertAt(X,te);var le=V.scroll.line(X),pe=o(le,2),ge=pe[0],Ce=pe[1],$e=(0,A.default)({},(0,_.bubbleFormats)(ge));if(ge instanceof E.default){var De=ge.descendant(m.default.Leaf,Ce),nt=o(De,1),Qe=nt[0];$e=(0,A.default)($e,(0,_.bubbleFormats)(Qe))}Z=f.default.attributes.diff($e,Z)||{}}else if(s(W.insert)==="object"){var ce=Object.keys(W.insert)[0];if(ce==null)return X;V.scroll.insertAt(X,ce,W.insert[ce])}Q+=J}return Object.keys(Z).forEach(function(fe){V.scroll.formatAt(X,J,fe,Z[fe])}),X+J},0),U.reduce(function(X,W){return typeof W.delete=="number"?(V.scroll.deleteAt(X,W.delete),X):X+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(U)}},{key:"deleteText",value:function(U,V){return this.scroll.deleteAt(U,V),this.update(new h.default().retain(U).delete(V))}},{key:"formatLine",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(X){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[X])){var W=z.scroll.lines(U,Math.max(V,1)),J=V;W.forEach(function(Z){var te=Z.length();if(!(Z instanceof y.default))Z.format(X,Q[X]);else{var le=U-Z.offset(z.scroll),pe=Z.newlineIndex(le+J)-le+1;Z.formatAt(le,pe,X,Q[X])}J-=te})}}),this.scroll.optimize(),this.update(new h.default().retain(U).retain(V,(0,O.default)(Q)))}},{key:"formatText",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(X){z.scroll.formatAt(U,V,X,Q[X])}),this.update(new h.default().retain(U).retain(V,(0,O.default)(Q)))}},{key:"getContents",value:function(U,V){return this.delta.slice(U,U+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(U,V){return U.concat(V.delta())},new h.default)}},{key:"getFormat",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],Q=[];V===0?this.scroll.path(U).forEach(function(W){var J=o(W,1),Z=J[0];Z instanceof E.default?z.push(Z):Z instanceof m.default.Leaf&&Q.push(Z)}):(z=this.scroll.lines(U,V),Q=this.scroll.descendants(m.default.Leaf,U,V));var X=[z,Q].map(function(W){if(W.length===0)return{};for(var J=(0,_.bubbleFormats)(W.shift());Object.keys(J).length>0;){var Z=W.shift();if(Z==null)return J;J=B((0,_.bubbleFormats)(Z),J)}return J});return A.default.apply(A.default,X)}},{key:"getText",value:function(U,V){return this.getContents(U,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(U,V,z){return this.scroll.insertAt(U,V,z),this.update(new h.default().retain(U).insert(M({},V,z)))}},{key:"insertText",value:function(U,V){var z=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(U,V),Object.keys(Q).forEach(function(X){z.scroll.formatAt(U,V.length,X,Q[X])}),this.update(new h.default().retain(U).insert(V,(0,O.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var U=this.scroll.children.head;return U.statics.blotName!==E.default.blotName||U.children.length>1?!1:U.children.head instanceof k.default}},{key:"removeFormat",value:function(U,V){var z=this.getText(U,V),Q=this.scroll.line(U+V),X=o(Q,2),W=X[0],J=X[1],Z=0,te=new h.default;W!=null&&(W instanceof y.default?Z=W.newlineIndex(J)-J+1:Z=W.length()-J,te=W.delta().slice(J,J+Z-1).insert(`
`));var le=this.getContents(U,V+Z),pe=le.diff(new h.default().insert(z).concat(te)),ge=new h.default().retain(U).concat(pe);return this.applyDelta(ge)}},{key:"update",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(q)&&m.default.find(V[0].target)){var X=m.default.find(V[0].target),W=(0,_.bubbleFormats)(X),J=X.offset(this.scroll),Z=V[0].oldValue.replace(b.default.CONTENTS,""),te=new h.default().insert(Z),le=new h.default().insert(X.value()),pe=new h.default().retain(J).concat(te.diff(le,z));U=pe.reduce(function(ge,Ce){return Ce.insert?ge.insert(Ce.insert,W):ge.push(Ce)},new h.default),this.delta=Q.compose(U)}else this.delta=this.getDelta(),(!U||!(0,I.default)(Q.compose(U),this.delta))&&(U=Q.diff(this.delta,z));return U}}]),H}();function B(H,j){return Object.keys(j).reduce(function(U,V){return H[V]==null||(j[V]===H[V]?U[V]=j[V]:Array.isArray(j[V])?j[V].indexOf(H[V])<0&&(U[V]=j[V].concat([H[V]])):U[V]=[j[V],H[V]]),U},{})}function Y(H){return H.reduce(function(j,U){if(U.insert===1){var V=(0,O.default)(U.attributes);return delete V.image,j.insert({image:U.attributes.image},V)}if(U.attributes!=null&&(U.attributes.list===!0||U.attributes.bullet===!0)&&(U=(0,O.default)(U),U.attributes.list?U.attributes.list="ordered":(U.attributes.list="bullet",delete U.attributes.bullet)),typeof U.insert=="string"){var z=U.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(z,U.attributes)}return j.push(U)},new h.default)}r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function C(I,R){var A=[],D=!0,M=!1,F=void 0;try{for(var q=I[Symbol.iterator](),L;!(D=(L=q.next()).done)&&(A.push(L.value),!(R&&A.length===R));D=!0);}catch(B){M=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(M)throw F}}return A}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,R){for(var A=0;A<R.length;A++){var D=R[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,R,A){return R&&C(I.prototype,R),A&&C(I,A),I}}(),a=i(0),l=b(a),h=i(21),c=b(h),f=i(11),p=b(f),m=i(8),g=b(m),y=i(10),w=b(y);function b(C){return C&&C.__esModule?C:{default:C}}function _(C){if(Array.isArray(C)){for(var I=0,R=Array(C.length);I<C.length;I++)R[I]=C[I];return R}else return Array.from(C)}function E(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var S=(0,w.default)("quill:selection"),k=function C(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,C),this.index=I,this.length=R},N=function(){function C(I,R){var A=this;E(this,C),this.emitter=R,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(D,M){D===g.default.events.TEXT_CHANGE&&M.length()>0&&A.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var D=A.getNativeRange();D!=null&&D.start.node!==A.cursor.textNode&&A.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(D,M){if(M.range){var F=M.range,q=F.startNode,L=F.startOffset,B=F.endNode,Y=F.endOffset;A.setNativeRange(q,L,B,Y)}}),this.update(g.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var A=R.cursor.restore();if(!A)return;setTimeout(function(){R.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||l.default.query(R,l.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var M=l.default.find(D.start.node,!1);if(M==null)return;if(M instanceof l.default.Leaf){var F=M.split(D.start.offset);M.parent.insertBefore(this.cursor,F)}else M.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(R,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();R=Math.min(R,D-1),A=Math.min(R+A,D-1)-R;var M=void 0,F=this.scroll.leaf(R),q=s(F,2),L=q[0],B=q[1];if(L==null)return null;var Y=L.position(B,!0),H=s(Y,2);M=H[0],B=H[1];var j=document.createRange();if(A>0){j.setStart(M,B);var U=this.scroll.leaf(R+A),V=s(U,2);if(L=V[0],B=V[1],L==null)return null;var z=L.position(B,!0),Q=s(z,2);return M=Q[0],B=Q[1],j.setEnd(M,B),j.getBoundingClientRect()}else{var X="left",W=void 0;return M instanceof Text?(B<M.data.length?(j.setStart(M,B),j.setEnd(M,B+1)):(j.setStart(M,B-1),j.setEnd(M,B),X="right"),W=j.getBoundingClientRect()):(W=L.domNode.getBoundingClientRect(),B>0&&(X="right")),{bottom:W.top+W.height,height:W.height,left:W[X],right:W[X],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var A=R.getRangeAt(0);if(A==null)return null;var D=this.normalizeNative(A);return S.info("getNativeRange",D),D}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var A=this.normalizedToRange(R);return[A,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var A=this,D=[[R.start.node,R.start.offset]];R.native.collapsed||D.push([R.end.node,R.end.offset]);var M=D.map(function(L){var B=s(L,2),Y=B[0],H=B[1],j=l.default.find(Y,!0),U=j.offset(A.scroll);return H===0?U:j instanceof l.default.Container?U+j.length():U+j.index(Y,H)}),F=Math.min(Math.max.apply(Math,_(M)),this.scroll.length()-1),q=Math.min.apply(Math,[F].concat(_(M)));return new k(q,F-q)}},{key:"normalizeNative",value:function(R){if(!O(this.root,R.startContainer)||!R.collapsed&&!O(this.root,R.endContainer))return null;var A={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[A.start,A.end].forEach(function(D){for(var M=D.node,F=D.offset;!(M instanceof Text)&&M.childNodes.length>0;)if(M.childNodes.length>F)M=M.childNodes[F],F=0;else if(M.childNodes.length===F)M=M.lastChild,F=M instanceof Text?M.data.length:M.childNodes.length+1;else break;D.node=M,D.offset=F}),A}},{key:"rangeToNative",value:function(R){var A=this,D=R.collapsed?[R.index]:[R.index,R.index+R.length],M=[],F=this.scroll.length();return D.forEach(function(q,L){q=Math.min(F-1,q);var B=void 0,Y=A.scroll.leaf(q),H=s(Y,2),j=H[0],U=H[1],V=j.position(U,L!==0),z=s(V,2);B=z[0],U=z[1],M.push(B,U)}),M.length<2&&(M=M.concat(M)),M}},{key:"scrollIntoView",value:function(R){var A=this.lastRange;if(A!=null){var D=this.getBounds(A.index,A.length);if(D!=null){var M=this.scroll.length()-1,F=this.scroll.line(Math.min(A.index,M)),q=s(F,1),L=q[0],B=L;if(A.length>0){var Y=this.scroll.line(Math.min(A.index+A.length,M)),H=s(Y,1);B=H[0]}if(!(L==null||B==null)){var j=R.getBoundingClientRect();D.top<j.top?R.scrollTop-=j.top-D.top:D.bottom>j.bottom&&(R.scrollTop+=D.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(R,A){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",R,A,D,M),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||D.parentNode==null))){var q=document.getSelection();if(q!=null)if(R!=null){this.hasFocus()||this.root.focus();var L=(this.getNativeRange()||{}).native;if(L==null||F||R!==L.startContainer||A!==L.startOffset||D!==L.endContainer||M!==L.endOffset){R.tagName=="BR"&&(A=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),D.tagName=="BR"&&(M=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var B=document.createRange();B.setStart(R,A),B.setEnd(D,M),q.removeAllRanges(),q.addRange(B)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof A=="string"&&(D=A,A=!1),S.info("setRange",R),R!=null){var M=this.rangeToNative(R);this.setNativeRange.apply(this,_(M).concat([A]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,A=this.lastRange,D=this.getRange(),M=s(D,2),F=M[0],q=M[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(A,this.lastRange)){var L;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(A),R];if((L=this.emitter).emit.apply(L,[g.default.events.EDITOR_CHANGE].concat(B)),R!==g.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,B)}}}}]),C}();function O(C,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),C.contains(I)}r.Range=k,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(b)}},a=i(0),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(b,_){b.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),h=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.build(),g}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=c(g);m.insertBefore(y,m.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(m,g){if(m===0&&g===this.length())return this.remove();this.children.forEachAt(m,g,function(y,w,b){y.deleteAt(w,b)})},p.prototype.descendant=function(m,g){var y=this.children.find(g),w=y[0],b=y[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,b]:w instanceof p?w.descendant(m,b):[null,-1]},p.prototype.descendants=function(m,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(g,y,function(_,E,S){(m.blotName==null&&m(_)||m.blotName!=null&&_ instanceof m)&&w.push(_),_ instanceof p&&(w=w.concat(_.descendants(m,E,b))),b-=S}),w},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(m,g,y,w){this.children.forEachAt(m,g,function(b,_,E){b.formatAt(_,E,y,w)})},p.prototype.insertAt=function(m,g,y){var w=this.children.find(m),b=w[0],_=w[1];if(b)b.insertAt(_,g,y);else{var E=y==null?l.create("text",g):l.create(g,y);this.appendChild(E)}},p.prototype.insertBefore=function(m,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return m instanceof y}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,g)},p.prototype.length=function(){return this.children.reduce(function(m,g){return m+g.length()},0)},p.prototype.moveChildren=function(m,g){this.children.forEach(function(y){m.insertBefore(y,g)})},p.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(m)}else this.remove()},p.prototype.path=function(m,g){g===void 0&&(g=!1);var y=this.children.find(m,g),w=y[0],b=y[1],_=[[this,m]];return w instanceof p?_.concat(w.path(b,g)):(w!=null&&_.push([w,b]),_)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),f.prototype.replace.call(this,m)},p.prototype.split=function(m,g){if(g===void 0&&(g=!1),!g){if(m===0)return this;if(m===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(m,this.length(),function(w,b,_){w=w.split(b,g),y.appendChild(w)}),y},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,g){var y=this,w=[],b=[];m.forEach(function(_){_.target===y.domNode&&_.type==="childList"&&(w.push.apply(w,_.addedNodes),b.push.apply(b,_.removedNodes))}),b.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(_);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===y.domNode)&&E.detach()}}),w.filter(function(_){return _.parentNode==y.domNode}).sort(function(_,E){return _===E?0:_.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var E=null;_.nextSibling!=null&&(E=l.find(_.nextSibling));var S=c(_);(S.next!=E||S.next==null)&&(S.parent!=null&&S.parent.removeChild(y),y.insertBefore(S,E||void 0))})},p}(a.default);function c(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){p.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),h=i(1),c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.attributes=new a.default(g.domNode),g}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,g){var y=h.query(m);y instanceof o.default?this.attributes.attribute(y,g):g&&y!=null&&(m!==this.statics.blotName||this.formats()[m]!==g)&&this.replaceWith(m,g)},p.prototype.formats=function(){var m=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(m[this.statics.blotName]=g),m},p.prototype.replaceWith=function(m,g){var y=f.prototype.replaceWith.call(this,m,g);return this.attributes.copy(y),y},p.prototype.update=function(m,g){var y=this;f.prototype.update.call(this,m,g),m.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,g){var y=f.prototype.wrap.call(this,m,g);return y instanceof p&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},p}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},c.prototype.position=function(f,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(h,c,f){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var p=o(!0,{},c);f||(p=Object.keys(p).reduce(function(g,y){return p[y]!=null&&(g[y]=p[y]),g},{}));for(var m in h)h[m]!==void 0&&c[m]===void 0&&(p[m]=h[m]);return Object.keys(p).length>0?p:void 0},diff:function(h,c){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var f=Object.keys(h).concat(Object.keys(c)).reduce(function(p,m){return s(h[m],c[m])||(p[m]=c[m]===void 0?null:c[m]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(h,c,f){if(typeof h!="object")return c;if(typeof c=="object"){if(!f)return c;var p=Object.keys(c).reduce(function(m,g){return h[g]===void 0&&(m[g]=c[g]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(h){return new l(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function l(h){this.ops=h,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(h){h||(h=1/0);var c=this.ops[this.index];if(c){var f=this.offset,p=a.length(c);if(h>=p-f?(h=p-f,this.index+=1,this.offset=0):this.offset+=h,typeof c.delete=="number")return{delete:h};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=h:typeof c.insert=="string"?m.insert=c.insert.substr(f,h):m.insert=c.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,c=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=h,this.index=c,[f].concat(p)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function h(y,w,b,_,E){typeof w=="object"&&(b=w.depth,_=w.prototype,E=w.includeNonEnumerable,w=w.circular);var S=[],k=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function O(C,I){if(C===null)return null;if(I===0)return C;var R,A;if(typeof C!="object")return C;if(s(C,o))R=new o;else if(s(C,a))R=new a;else if(s(C,l))R=new l(function(j,U){C.then(function(V){j(O(V,I-1))},function(V){U(O(V,I-1))})});else if(h.__isArray(C))R=[];else if(h.__isRegExp(C))R=new RegExp(C.source,g(C)),C.lastIndex&&(R.lastIndex=C.lastIndex);else if(h.__isDate(C))R=new Date(C.getTime());else{if(N&&Buffer.isBuffer(C))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(C.length):R=new Buffer(C.length),C.copy(R),R;s(C,Error)?R=Object.create(C):typeof _>"u"?(A=Object.getPrototypeOf(C),R=Object.create(A)):(R=Object.create(_),A=_)}if(w){var D=S.indexOf(C);if(D!=-1)return k[D];S.push(C),k.push(R)}s(C,o)&&C.forEach(function(j,U){var V=O(U,I-1),z=O(j,I-1);R.set(V,z)}),s(C,a)&&C.forEach(function(j){var U=O(j,I-1);R.add(U)});for(var M in C){var F;A&&(F=Object.getOwnPropertyDescriptor(A,M)),!(F&&F.set==null)&&(R[M]=O(C[M],I-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(C),M=0;M<q.length;M++){var L=q[M],B=Object.getOwnPropertyDescriptor(C,L);B&&!B.enumerable&&!E||(R[L]=O(C[L],I-1),B.enumerable||Object.defineProperty(R,L,{enumerable:!1}))}if(E)for(var Y=Object.getOwnPropertyNames(C),M=0;M<Y.length;M++){var H=Y[M],B=Object.getOwnPropertyDescriptor(C,H);B&&B.enumerable||(R[H]=O(C[H],I-1),Object.defineProperty(R,H,{enumerable:!1}))}return R}return O(y,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(y){return Object.prototype.toString.call(y)}h.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}h.__isDate=f;function p(y){return typeof y=="object"&&c(y)==="[object Array]"}h.__isArray=p;function m(y){return typeof y=="object"&&c(y)==="[object RegExp]"}h.__isRegExp=m;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return h.__getRegExpFlags=g,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function R(A,D){var M=[],F=!0,q=!1,L=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(M.push(Y.value),!(D&&M.length===D));F=!0);}catch(H){q=!0,L=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw L}}return M}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return R(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(A,D){for(var M=0;M<D.length;M++){var F=D[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,M){return D&&R(A.prototype,D),M&&R(A,M),A}}(),a=function R(A,D,M){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:R(q,D,M)}else{if("value"in F)return F.value;var L=F.get;return L===void 0?void 0:L.call(M)}},l=i(0),h=S(l),c=i(8),f=S(c),p=i(4),m=S(p),g=i(16),y=S(g),w=i(13),b=S(w),_=i(25),E=S(_);function S(R){return R&&R.__esModule?R:{default:R}}function k(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function N(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function O(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}function C(R){return R instanceof m.default||R instanceof p.BlockEmbed}var I=function(R){O(A,R);function A(D,M){k(this,A);var F=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D));return F.emitter=M.emitter,Array.isArray(M.whitelist)&&(F.whitelist=M.whitelist.reduce(function(q,L){return q[L]=!0,q},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(M,F){var q=this.line(M),L=s(q,2),B=L[0],Y=L[1],H=this.line(M+F),j=s(H,1),U=j[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,M,F),U!=null&&B!==U&&Y>0){if(B instanceof p.BlockEmbed||U instanceof p.BlockEmbed){this.optimize();return}if(B instanceof b.default){var V=B.newlineIndex(B.length(),!0);if(V>-1&&(B=B.split(V+1),B===U)){this.optimize();return}}else if(U instanceof b.default){var z=U.newlineIndex(0);z>-1&&U.split(z+1)}var Q=U.children.head instanceof y.default?null:U.children.head;B.moveChildren(U,Q),B.remove()}this.optimize()}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",M)}},{key:"formatAt",value:function(M,F,q,L){this.whitelist!=null&&!this.whitelist[q]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,M,F,q,L),this.optimize())}},{key:"insertAt",value:function(M,F,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[F])){if(M>=this.length())if(q==null||h.default.query(F,h.default.Scope.BLOCK)==null){var L=h.default.create(this.statics.defaultChild);this.appendChild(L),q==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),L.insertAt(0,F,q)}else{var B=h.default.create(F,q);this.appendChild(B)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,F,q);this.optimize()}}},{key:"insertBefore",value:function(M,F){if(M.statics.scope===h.default.Scope.INLINE_BLOT){var q=h.default.create(this.statics.defaultChild);q.appendChild(M),M=q}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,M,F)}},{key:"leaf",value:function(M){return this.path(M).pop()||[null,-1]}},{key:"line",value:function(M){return M===this.length()?this.line(M-1):this.descendant(C,M)}},{key:"lines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function L(B,Y,H){var j=[],U=H;return B.children.forEachAt(Y,H,function(V,z,Q){C(V)?j.push(V):V instanceof h.default.Container&&(j=j.concat(L(V,z,U))),U-=Q}),j};return q(this,M,F)}},{key:"optimize",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,M,F),M.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,M,F))}},{key:"path",value:function(M){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,M).slice(1)}},{key:"update",value:function(M){if(this.batch!==!0){var F=f.default.sources.USER;typeof M=="string"&&(F=M),Array.isArray(M)||(M=this.observer.takeRecords()),M.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,F,M),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,M.concat([])),M.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,F,M)}}}]),A}(h.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[m.default,p.BlockEmbed,E.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(J,Z){var te=[],le=!0,pe=!1,ge=void 0;try{for(var Ce=J[Symbol.iterator](),$e;!(le=($e=Ce.next()).done)&&(te.push($e.value),!(Z&&te.length===Z));le=!0);}catch(De){pe=!0,ge=De}finally{try{!le&&Ce.return&&Ce.return()}finally{if(pe)throw ge}}return te}return function(J,Z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return W(J,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(J,Z){for(var te=0;te<Z.length;te++){var le=Z[te];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,Z,te){return Z&&W(J.prototype,Z),te&&W(J,te),J}}(),l=i(21),h=R(l),c=i(11),f=R(c),p=i(3),m=R(p),g=i(2),y=R(g),w=i(20),b=R(w),_=i(0),E=R(_),S=i(5),k=R(S),N=i(10),O=R(N),C=i(9),I=R(C);function R(W){return W&&W.__esModule?W:{default:W}}function A(W,J,Z){return J in W?Object.defineProperty(W,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):W[J]=Z,W}function D(W,J){if(!(W instanceof J))throw new TypeError("Cannot call a class as a function")}function M(W,J){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:W}function F(W,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}var q=(0,O.default)("quill:keyboard"),L=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(W){F(J,W),a(J,null,[{key:"match",value:function(te,le){return le=X(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==te[pe]&&le[pe]!==null})?!1:le.key===(te.which||te.keyCode)}}]);function J(Z,te){D(this,J);var le=M(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,Z,te));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:J.keys.ENTER,shiftKey:null},V),le.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0},j)):(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),le.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},U),le.addBinding({key:J.keys.DELETE},{collapsed:!1},U),le.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),le.listen(),le}return a(J,[{key:"addBinding",value:function(te){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=X(te);if(ge==null||ge.key==null)return q.warn("Attempted to add invalid keyboard binding",ge);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ge=(0,m.default)(ge,le,pe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var te=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ge=(te.bindings[pe]||[]).filter(function(dt){return J.match(le,dt)});if(ge.length!==0){var Ce=te.quill.getSelection();if(!(Ce==null||!te.quill.hasFocus())){var $e=te.quill.getLine(Ce.index),De=o($e,2),nt=De[0],Qe=De[1],ce=te.quill.getLeaf(Ce.index),fe=o(ce,2),we=fe[0],xe=fe[1],he=Ce.length===0?[we,xe]:te.quill.getLeaf(Ce.index+Ce.length),Be=o(he,2),Ie=Be[0],Ye=Be[1],Yt=we instanceof E.default.Text?we.value().slice(0,xe):"",On=Ie instanceof E.default.Text?Ie.value().slice(Ye):"",st={collapsed:Ce.length===0,empty:Ce.length===0&&nt.length()<=1,format:te.quill.getFormat(Ce),offset:Qe,prefix:Yt,suffix:On},Vr=ge.some(function(dt){if(dt.collapsed!=null&&dt.collapsed!==st.collapsed||dt.empty!=null&&dt.empty!==st.empty||dt.offset!=null&&dt.offset!==st.offset)return!1;if(Array.isArray(dt.format)){if(dt.format.every(function(zt){return st.format[zt]==null}))return!1}else if(s(dt.format)==="object"&&!Object.keys(dt.format).every(function(zt){return dt.format[zt]===!0?st.format[zt]!=null:dt.format[zt]===!1?st.format[zt]==null:(0,f.default)(dt.format[zt],st.format[zt])}))return!1;return dt.prefix!=null&&!dt.prefix.test(st.prefix)||dt.suffix!=null&&!dt.suffix.test(st.suffix)?!1:dt.handler.call(te,Ce,st)!==!0});Vr&&le.preventDefault()}}}})}}]),J}(I.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,Z){Z.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,k.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(J){this.quill.history.cutoff();var Z=new y.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(Z,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,k.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,Z){this.quill.format("list",!1,k.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=(0,m.default)({},le.formats(),{list:"checked"}),Ce=new y.default().retain(J.index).insert(`
`,ge).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,Z){var te=this.quill.getLine(J.index),le=o(te,2),pe=le[0],ge=le[1],Ce=new y.default().retain(J.index).insert(`
`,Z.format).retain(pe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,Z){var te=Z.prefix.length,le=this.quill.getLine(J.index),pe=o(le,2),ge=pe[0],Ce=pe[1];if(Ce>te)return!0;var $e=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":$e="unchecked";break;case"[x]":$e="checked";break;case"-":case"*":$e="bullet";break;default:$e="ordered"}this.quill.insertText(J.index," ",k.default.sources.USER),this.quill.history.cutoff();var De=new y.default().retain(J.index-Ce).delete(te+1).retain(ge.length()-2-Ce).retain(1,{list:$e});this.quill.updateContents(De,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-te,k.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=new y.default().retain(J.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Y(B.keys.LEFT,!1),"embed left shift":Y(B.keys.LEFT,!0),"embed right":Y(B.keys.RIGHT,!1),"embed right shift":Y(B.keys.RIGHT,!0)}};function Y(W,J){var Z,te=W===B.keys.LEFT?"prefix":"suffix";return Z={key:W,shiftKey:J,altKey:null},A(Z,te,/^$/),A(Z,"handler",function(pe){var ge=pe.index;W===B.keys.RIGHT&&(ge+=pe.length+1);var Ce=this.quill.getLeaf(ge),$e=o(Ce,1),De=$e[0];return De instanceof E.default.Embed?(W===B.keys.LEFT?J?this.quill.setSelection(pe.index-1,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index-1,k.default.sources.USER):J?this.quill.setSelection(pe.index,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,k.default.sources.USER),!1):!0}),Z}function H(W,J){if(!(W.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(W.index),te=o(Z,1),le=te[0],pe={};if(J.offset===0){var ge=this.quill.getLine(W.index-1),Ce=o(ge,1),$e=Ce[0];if($e!=null&&$e.length()>1){var De=le.formats(),nt=this.quill.getFormat(W.index-1,1);pe=b.default.attributes.diff(De,nt)||{}}}var Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(W.index-Qe,Qe,k.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(W.index-Qe,Qe,pe,k.default.sources.USER),this.quill.focus()}}function j(W,J){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(W.index>=this.quill.getLength()-Z)){var te={},le=0,pe=this.quill.getLine(W.index),ge=o(pe,1),Ce=ge[0];if(J.offset>=Ce.length()-1){var $e=this.quill.getLine(W.index+1),De=o($e,1),nt=De[0];if(nt){var Qe=Ce.formats(),ce=this.quill.getFormat(W.index,1);te=b.default.attributes.diff(Qe,ce)||{},le=nt.length()}}this.quill.deleteText(W.index,Z,k.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(W.index+le-1,Z,te,k.default.sources.USER)}}function U(W){var J=this.quill.getLines(W),Z={};if(J.length>1){var te=J[0].formats(),le=J[J.length-1].formats();Z=b.default.attributes.diff(le,te)||{}}this.quill.deleteText(W,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(W.index,1,Z,k.default.sources.USER),this.quill.setSelection(W.index,k.default.sources.SILENT),this.quill.focus()}function V(W,J){var Z=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var te=Object.keys(J.format).reduce(function(le,pe){return E.default.query(pe,E.default.Scope.BLOCK)&&!Array.isArray(J.format[pe])&&(le[pe]=J.format[pe]),le},{});this.quill.insertText(W.index,`
`,te,k.default.sources.USER),this.quill.setSelection(W.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(le){te[le]==null&&(Array.isArray(J.format[le])||le!=="link"&&Z.quill.format(le,J.format[le],k.default.sources.USER))})}function z(W){return{key:B.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(Z){var te=E.default.query("code-block"),le=Z.index,pe=Z.length,ge=this.quill.scroll.descendant(te,le),Ce=o(ge,2),$e=Ce[0],De=Ce[1];if($e!=null){var nt=this.quill.getIndex($e),Qe=$e.newlineIndex(De,!0)+1,ce=$e.newlineIndex(nt+De+pe),fe=$e.domNode.textContent.slice(Qe,ce).split(`
`);De=0,fe.forEach(function(we,xe){W?($e.insertAt(Qe+De,te.TAB),De+=te.TAB.length,xe===0?le+=te.TAB.length:pe+=te.TAB.length):we.startsWith(te.TAB)&&($e.deleteAt(Qe+De,te.TAB.length),De-=te.TAB.length,xe===0?le-=te.TAB.length:pe-=te.TAB.length),De+=we.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(le,pe,k.default.sources.SILENT)}}}}function Q(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(Z,te){this.quill.format(W,!te.format[W],k.default.sources.USER)}}}function X(W){if(typeof W=="string"||typeof W=="number")return X({key:W});if((typeof W>"u"?"undefined":s(W))==="object"&&(W=(0,h.default)(W,!1)),typeof W.key=="string")if(B.keys[W.key.toUpperCase()]!=null)W.key=B.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[L]=W.shortKey,delete W.shortKey),W}r.default=B,r.SHORTKEY=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(_,E){var S=[],k=!0,N=!1,O=void 0;try{for(var C=_[Symbol.iterator](),I;!(k=(I=C.next()).done)&&(S.push(I.value),!(E&&S.length===E));k=!0);}catch(R){N=!0,O=R}finally{try{!k&&C.return&&C.return()}finally{if(N)throw O}}return S}return function(_,E){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(_,E,S){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:b(N,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=function(){function b(_,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,S){return E&&b(_.prototype,E),S&&b(_,S),_}}(),l=i(0),h=p(l),c=i(7),f=p(c);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function g(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function y(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var w=function(b){y(_,b),a(_,null,[{key:"value",value:function(){}}]);function _(E,S){m(this,_);var k=g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E));return k.selection=S,k.textNode=document.createTextNode(_.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,k){if(this._length!==0)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,k);for(var N=this,O=0;N!=null&&N.statics.scope!==h.default.Scope.BLOCK_BLOT;)O+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=_.CONTENTS.length,N.optimize(),N.formatAt(O,_.CONTENTS.length,S,k),this._length=0)}},{key:"index",value:function(S,k){return S===this.textNode?0:o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,S,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,k=this.selection.getNativeRange(),N=void 0,O=void 0,C=void 0;if(k!=null&&k.start.node===S&&k.end.node===S){var I=[S,k.start.offset,k.end.offset];N=I[0],O=I[1],C=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var R=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof f.default?(N=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=_.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var A=[O,C].map(function(M){return Math.max(0,Math.min(N.data.length,M-1))}),D=s(A,2);return O=D[0],C=D[1],{startNode:N,startOffset:O,endNode:N,endOffset:C}}}}},{key:"update",value:function(S,k){var N=this;if(S.some(function(C){return C.type==="characterData"&&C.target===N.textNode})){var O=this.restore();O&&(k.range=O)}}},{key:"value",value:function(){return""}}]),_}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=h(s),a=i(4),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function w(b,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),o=function w(b,_,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(0),l=h(a);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var m=function(w){p(b,w);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(E){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,E);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):S}}]),b}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=g,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(w,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,_){return b&&y(w.prototype,b),_&&y(w,_),w}}(),o=function y(w,b,_){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,b,_)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(_)}},a=i(6),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(_,E){if(_!==this.statics.blotName||!E)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,_,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(_){var E=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,_);return _=this.sanitize(_),E.setAttribute("href",_),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return g(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),w}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,w){var b=document.createElement("a");b.href=y;var _=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(_)>-1}r.default=m,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),a=i(23),l=f(a),h=i(107),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function g(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var _=this;p(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var E=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),_.hasAttribute("value")&&S.setAttribute("data-value",_.getAttribute("value")),_.textContent&&S.setAttribute("data-label",_.textContent),S.addEventListener("click",function(){E.selectItem(S,!0)}),S.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:E.selectItem(S,!0),k.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=c.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(S){var k=_.buildItem(S);E.appendChild(k),S.selected===!0&&_.selectItem(k)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(E){_.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(_!==S&&(S!=null&&S.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var S=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=q(s),a=i(5),l=q(a),h=i(4),c=q(h),f=i(16),p=q(f),m=i(25),g=q(m),y=i(24),w=q(y),b=i(35),_=q(b),E=i(6),S=q(E),k=i(22),N=q(k),O=i(7),C=q(O),I=i(55),R=q(I),A=i(42),D=q(A),M=i(23),F=q(M);function q(L){return L&&L.__esModule?L:{default:L}}l.default.register({"blots/block":c.default,"blots/block/embed":h.BlockEmbed,"blots/break":p.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":_.default,"blots/inline":S.default,"blots/scroll":N.default,"blots/text":C.default,"modules/clipboard":R.default,"modules/history":D.default,"modules/keyboard":F.default}),o.default.register(c.default,p.default,w.default,S.default,N.default,C.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?h=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?h=document.createElement(l):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,h){var c=this.isolate(l,h);c.remove()},a.prototype.formatAt=function(l,h,c,f){var p=this.isolate(l,h);if(s.query(c,s.Scope.BLOT)!=null&&f)p.wrap(c,f);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);p.wrap(m),m.format(c,f)}},a.prototype.insertAt=function(l,h,c){var f=c==null?s.create("text",h):s.create(h,c),p=this.split(l);this.parent.insertBefore(f,p)},a.prototype.insertInto=function(l,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,h),h!=null&&(c=h.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,h){var c=this.split(l);return c.split(h),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return c.replace(this),c},a.prototype.split=function(l,h){return l===0?this:this.next},a.prototype.update=function(l,h){},a.prototype.wrap=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),h=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var p=s.default.keys(this.domNode),m=o.default.keys(this.domNode),g=a.default.keys(this.domNode);p.concat(m).concat(g).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof s.default&&(f.attributes[w.attrName]=w)})},c.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(m){var g=p.attributes[m].value(p.domNode);f.format(m,g)})},c.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=f.attributes[m].value(f.domNode),p},{})},c}();r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h,c){var f=h.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(c+"-")===0})}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},c.prototype.remove=function(f){var p=a(f,this.keyName);p.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var p=a(f,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h){var c=h.split("-"),f=c.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return c[0]+f}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[a(this.keyName)]=p,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var p=f.style[a(this.keyName)];return this.canAdd(f,p)?p:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){o(this,l),this.quill=h,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(_,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,S){return E&&b(_.prototype,E),S&&b(_,S),_}}(),o=function b(_,E,S){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:b(N,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=f(a),h=i(7),c=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function m(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function g(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y="\uFEFF",w=function(b){g(_,b);function _(E){p(this,_);var S=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(k){S.contentNode.appendChild(k)}),S.leftGuard=document.createTextNode(y),S.rightGuard=document.createTextNode(y),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return s(_,[{key:"index",value:function(S,k){return S===this.leftGuard?0:S===this.rightGuard?1:o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,S,k)}},{key:"restore",value:function(S){var k=void 0,N=void 0,O=S.data.split(y).join("");if(S===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,O),k={startNode:this.prev.domNode,startOffset:C+O.length}}else N=document.createTextNode(O),this.parent.insertBefore(l.default.create(N),this),k={startNode:N,startOffset:O.length};else S===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,O),k={startNode:this.next.domNode,startOffset:O.length}):(N=document.createTextNode(O),this.parent.insertBefore(l.default.create(N),this.next),k={startNode:N,startOffset:O.length}));return S.data=y,k}},{key:"update",value:function(S,k){var N=this;S.forEach(function(O){if(O.type==="characterData"&&(O.target===N.leftGuard||O.target===N.rightGuard)){var C=N.restore(O.target);C&&(k.range=C)}})}}]),_}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=h,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=h,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function b(_,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,S){return E&&b(_.prototype,E),S&&b(_,S),_}}(),o=function b(_,E,S){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:b(N,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=h(a);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function p(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",m),y=function(b){p(_,b);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(S){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),w=new y("font","font-family",m);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=h},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function E(S,k){for(var N=0;N<k.length;N++){var O=k[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,N){return k&&E(S.prototype,k),N&&E(S,N),S}}(),o=i(0),a=p(o),l=i(5),h=p(l),c=i(9),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function m(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function y(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=function(E){y(S,E);function S(k,N){m(this,S);var O=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,N));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(h.default.events.EDITOR_CHANGE,function(C,I,R,A){C!==h.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||A===h.default.sources.USER?O.record(I,R):O.transform(I))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return s(S,[{key:"change",value:function(N,O){if(this.stack[N].length!==0){var C=this.stack[N].pop();this.stack[O].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[N],h.default.sources.USER),this.ignoreChange=!1;var I=_(C[N]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,O){if(N.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(O),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var R=this.stack.undo.pop();C=C.compose(R.undo),N=R.redo.compose(N)}else this.lastRecorded=I;this.stack.undo.push({redo:N,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(E){var S=E.ops[E.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function _(E){var S=E.reduce(function(N,O){return N+=O.delete||0,N},0),k=E.length()-S;return b(E)&&(k-=1),k}r.default=w,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(z,Q){for(var X=0;X<Q.length;X++){var W=Q[X];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,W.key,W)}}return function(z,Q,X){return Q&&V(z.prototype,Q),X&&V(z,X),z}}(),o=function V(z,Q,X){z===null&&(z=Function.prototype);var W=Object.getOwnPropertyDescriptor(z,Q);if(W===void 0){var J=Object.getPrototypeOf(z);return J===null?void 0:V(J,Q,X)}else{if("value"in W)return W.value;var Z=W.get;return Z===void 0?void 0:Z.call(X)}},a=i(3),l=I(a),h=i(2),c=I(h),f=i(8),p=I(f),m=i(23),g=I(m),y=i(34),w=I(y),b=i(59),_=I(b),E=i(60),S=I(E),k=i(28),N=I(k),O=i(61),C=I(O);function I(V){return V&&V.__esModule?V:{default:V}}function R(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function A(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function D(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var M=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],L=["1","2","3",!1],B=["small",!1,"large","huge"],Y=function(V){D(z,V);function z(Q,X){R(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Q,X)),J=function Z(te){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",Z);W.tooltip!=null&&!W.tooltip.root.contains(te.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(le){le.container.contains(te.target)||le.close()})};return Q.emitter.listenDOM("click",document.body,J),W}return s(z,[{key:"addModule",value:function(X){var W=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(X,W){X.forEach(function(J){var Z=J.getAttribute("class")||"";Z.split(/\s+/).forEach(function(te){if(te.startsWith("ql-")&&(te=te.slice(3),W[te]!=null))if(te==="direction")J.innerHTML=W[te][""]+W[te].rtl;else if(typeof W[te]=="string")J.innerHTML=W[te];else{var le=J.value||"";le!=null&&W[te][le]&&(J.innerHTML=W[te][le])}})})}},{key:"buildPickers",value:function(X,W){var J=this;this.pickers=X.map(function(te){if(te.classList.contains("ql-align"))return te.querySelector("option")==null&&U(te,M),new S.default(te,W.align);if(te.classList.contains("ql-background")||te.classList.contains("ql-color")){var le=te.classList.contains("ql-background")?"background":"color";return te.querySelector("option")==null&&U(te,F,le==="background"?"#ffffff":"#000000"),new _.default(te,W[le])}else return te.querySelector("option")==null&&(te.classList.contains("ql-font")?U(te,q):te.classList.contains("ql-header")?U(te,L):te.classList.contains("ql-size")&&U(te,B)),new N.default(te)});var Z=function(){J.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,Z)}}]),z}(w.default);Y.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var X=new FileReader;X.onload=function(W){var J=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(J.index).delete(J.length).insert({image:W.target.result}),p.default.sources.USER),z.quill.setSelection(J.index+1,p.default.sources.SILENT),Q.value=""},X.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(V){D(z,V);function z(Q,X){R(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Q,X));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return s(z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(W){g.default.match(W,"enter")?(X.save(),W.preventDefault()):g.default.match(W,"escape")&&(X.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,p.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":X=j(X);case"formula":{if(!X)break;var J=this.quill.getSelection(!0);if(J!=null){var Z=J.index+J.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),X,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",p.default.sources.USER),this.quill.setSelection(Z+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(C.default);function j(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function U(V,z){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(X){var W=document.createElement("option");X===Q?W.setAttribute("selected","selected"):W.setAttribute("value",X),V.appendChild(W)})}r.BaseTooltip=H,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,h=this.iterator();l=h();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,h=this.head;h!=null;){if(h===a)return l;l+=h.length(),h=h.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var h,c=this.iterator();h=c();){var f=h.length();if(a<f||l&&a===f&&(h.next==null||h.next.length()!==0))return[h,a];a-=f}return[null,0]},o.prototype.forEach=function(a){for(var l,h=this.iterator();l=h();)a(l)},o.prototype.forEachAt=function(a,l,h){if(!(l<=0))for(var c=this.find(a),f=c[0],p=c[1],m,g=a-p,y=this.iterator(f);(m=y())&&g<a+l;){var w=m.length();a>g?h(m,a-g,Math.min(l,g+w-a)):h(m,0,Math.min(w,a+l-g)),g+=w}},o.prototype.map=function(a){return this.reduce(function(l,h){return l.push(a(h)),l},[])},o.prototype.reduce=function(a,l){for(var h,c=this.iterator();h=c();)l=a(l,h);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,l),g.attach(),g}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,g){this.update(),m===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,m,g)},p.prototype.formatAt=function(m,g,y,w){this.update(),f.prototype.formatAt.call(this,m,g,y,w)},p.prototype.insertAt=function(m,g,y){this.update(),f.prototype.insertAt.call(this,m,g,y)},p.prototype.optimize=function(m,g){var y=this;m===void 0&&(m=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var b=function(k,N){N===void 0&&(N=!0),!(k==null||k===y)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),N&&b(k.parent))},_=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(_),k.optimize(g))},E=m,S=0;E.length>0;S+=1){if(S>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(k){var N=a.find(k.target,!0);N!=null&&(N.domNode===k.target&&(k.type==="childList"?(b(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(O){var C=a.find(O,!1);b(C,!1),C instanceof o.default&&C.children.forEach(function(I){b(I,!1)})})):k.type==="attributes"&&b(N.prev)),b(N))}),this.children.forEach(_),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)m.push(w.pop())}},p.prototype.update=function(m,g){var y=this;g===void 0&&(g={}),m=m||this.observer.takeRecords(),m.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(m,g)},p.blotName="scroll",p.defaultChild="block",p.scope=a.Scope.BLOCK_BLOT,p.tagName="DIV",p}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var p in c)if(c[p]!==f[p])return!1;return!0}var h=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return c.formats.call(this,p)},f.prototype.format=function(p,m){var g=this;p===this.statics.blotName&&!m?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(f.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,p,m)},f.prototype.formatAt=function(p,m,g,y){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(p,m);w.format(g,y)}else c.prototype.formatAt.call(this,p,m,g,y)},f.prototype.optimize=function(p){c.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(m,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){var p=a.query(c.blotName).tagName;if(f.tagName!==p)return h.formats.call(this,f)},c.prototype.format=function(f,p){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(c.blotName):h.prototype.format.call(this,f,p))},c.prototype.formatAt=function(f,p,m,g){a.query(m,a.Scope.BLOCK)!=null?this.format(m,g):h.prototype.formatAt.call(this,f,p,m,g)},c.prototype.insertAt=function(f,p,m){if(m==null||a.query(p,a.Scope.INLINE)!=null)h.prototype.insertAt.call(this,f,p,m);else{var g=this.split(f),y=a.create(p,m);g.parent.insertBefore(y,g)}},c.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,f,p)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(h,l);function h(){return l!==null&&l.apply(this,arguments)||this}return h.formats=function(c){},h.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},h.prototype.formatAt=function(c,f,p,m){c===0&&f===this.length()?this.format(p,m):l.prototype.formatAt.call(this,c,f,p,m)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(h){s(c,h);function c(f){var p=h.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},c.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},c.prototype.index=function(f,p){return this.domNode===f?p:-1},c.prototype.insertAt=function(f,p,m){m==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):h.prototype.insertAt.call(this,f,p,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,p){return[this.domNode,f]},c.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(f,p){var m=this;f.some(function(g){return g.type==="characterData"&&g.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var h=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>h.length)&&(l=h.length),l-=a.length;var c=h.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),c=h.length>>>0,f=arguments[1],p,m=0;m<c;m++)if(p=h[m],l.call(f,p,m,h))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(S,k,N){if(S==k)return S?[[o,S]]:[];(N<0||S.length<N)&&(N=null);var O=f(S,k),C=S.substring(0,O);S=S.substring(O),k=k.substring(O),O=p(S,k);var I=S.substring(S.length-O);S=S.substring(0,S.length-O),k=k.substring(0,k.length-O);var R=l(S,k);return C&&R.unshift([o,C]),I&&R.push([o,I]),g(R),N!=null&&(R=b(R,N)),R=_(R),R}function l(S,k){var N;if(!S)return[[s,k]];if(!k)return[[i,S]];var O=S.length>k.length?S:k,C=S.length>k.length?k:S,I=O.indexOf(C);if(I!=-1)return N=[[s,O.substring(0,I)],[o,C],[s,O.substring(I+C.length)]],S.length>k.length&&(N[0][0]=N[2][0]=i),N;if(C.length==1)return[[i,S],[s,k]];var R=m(S,k);if(R){var A=R[0],D=R[1],M=R[2],F=R[3],q=R[4],L=a(A,M),B=a(D,F);return L.concat([[o,q]],B)}return h(S,k)}function h(S,k){for(var N=S.length,O=k.length,C=Math.ceil((N+O)/2),I=C,R=2*C,A=new Array(R),D=new Array(R),M=0;M<R;M++)A[M]=-1,D[M]=-1;A[I+1]=0,D[I+1]=0;for(var F=N-O,q=F%2!=0,L=0,B=0,Y=0,H=0,j=0;j<C;j++){for(var U=-j+L;U<=j-B;U+=2){var V=I+U,z;U==-j||U!=j&&A[V-1]<A[V+1]?z=A[V+1]:z=A[V-1]+1;for(var Q=z-U;z<N&&Q<O&&S.charAt(z)==k.charAt(Q);)z++,Q++;if(A[V]=z,z>N)B+=2;else if(Q>O)L+=2;else if(q){var X=I+F-U;if(X>=0&&X<R&&D[X]!=-1){var W=N-D[X];if(z>=W)return c(S,k,z,Q)}}}for(var J=-j+Y;J<=j-H;J+=2){var X=I+J,W;J==-j||J!=j&&D[X-1]<D[X+1]?W=D[X+1]:W=D[X-1]+1;for(var Z=W-J;W<N&&Z<O&&S.charAt(N-W-1)==k.charAt(O-Z-1);)W++,Z++;if(D[X]=W,W>N)H+=2;else if(Z>O)Y+=2;else if(!q){var V=I+F-J;if(V>=0&&V<R&&A[V]!=-1){var z=A[V],Q=I+z-V;if(W=N-W,z>=W)return c(S,k,z,Q)}}}}return[[i,S],[s,k]]}function c(S,k,N,O){var C=S.substring(0,N),I=k.substring(0,O),R=S.substring(N),A=k.substring(O),D=a(C,I),M=a(R,A);return D.concat(M)}function f(S,k){if(!S||!k||S.charAt(0)!=k.charAt(0))return 0;for(var N=0,O=Math.min(S.length,k.length),C=O,I=0;N<C;)S.substring(I,C)==k.substring(I,C)?(N=C,I=N):O=C,C=Math.floor((O-N)/2+N);return C}function p(S,k){if(!S||!k||S.charAt(S.length-1)!=k.charAt(k.length-1))return 0;for(var N=0,O=Math.min(S.length,k.length),C=O,I=0;N<C;)S.substring(S.length-C,S.length-I)==k.substring(k.length-C,k.length-I)?(N=C,I=N):O=C,C=Math.floor((O-N)/2+N);return C}function m(S,k){var N=S.length>k.length?S:k,O=S.length>k.length?k:S;if(N.length<4||O.length*2<N.length)return null;function C(B,Y,H){for(var j=B.substring(H,H+Math.floor(B.length/4)),U=-1,V="",z,Q,X,W;(U=Y.indexOf(j,U+1))!=-1;){var J=f(B.substring(H),Y.substring(U)),Z=p(B.substring(0,H),Y.substring(0,U));V.length<Z+J&&(V=Y.substring(U-Z,U)+Y.substring(U,U+J),z=B.substring(0,H-Z),Q=B.substring(H+J),X=Y.substring(0,U-Z),W=Y.substring(U+J))}return V.length*2>=B.length?[z,Q,X,W,V]:null}var I=C(N,O,Math.ceil(N.length/4)),R=C(N,O,Math.ceil(N.length/2)),A;if(!I&&!R)return null;R?I?A=I[4].length>R[4].length?I:R:A=R:A=I;var D,M,F,q;S.length>k.length?(D=A[0],M=A[1],F=A[2],q=A[3]):(F=A[0],q=A[1],D=A[2],M=A[3]);var L=A[4];return[D,M,F,q,L]}function g(S){S.push([o,""]);for(var k=0,N=0,O=0,C="",I="",R;k<S.length;)switch(S[k][0]){case s:O++,I+=S[k][1],k++;break;case i:N++,C+=S[k][1],k++;break;case o:N+O>1?(N!==0&&O!==0&&(R=f(I,C),R!==0&&(k-N-O>0&&S[k-N-O-1][0]==o?S[k-N-O-1][1]+=I.substring(0,R):(S.splice(0,0,[o,I.substring(0,R)]),k++),I=I.substring(R),C=C.substring(R)),R=p(I,C),R!==0&&(S[k][1]=I.substring(I.length-R)+S[k][1],I=I.substring(0,I.length-R),C=C.substring(0,C.length-R))),N===0?S.splice(k-O,N+O,[s,I]):O===0?S.splice(k-N,N+O,[i,C]):S.splice(k-N-O,N+O,[i,C],[s,I]),k=k-N-O+(N?1:0)+(O?1:0)+1):k!==0&&S[k-1][0]==o?(S[k-1][1]+=S[k][1],S.splice(k,1)):k++,O=0,N=0,C="",I="";break}S[S.length-1][1]===""&&S.pop();var A=!1;for(k=1;k<S.length-1;)S[k-1][0]==o&&S[k+1][0]==o&&(S[k][1].substring(S[k][1].length-S[k-1][1].length)==S[k-1][1]?(S[k][1]=S[k-1][1]+S[k][1].substring(0,S[k][1].length-S[k-1][1].length),S[k+1][1]=S[k-1][1]+S[k+1][1],S.splice(k-1,1),A=!0):S[k][1].substring(0,S[k+1][1].length)==S[k+1][1]&&(S[k-1][1]+=S[k+1][1],S[k][1]=S[k][1].substring(S[k+1][1].length)+S[k+1][1],S.splice(k+1,1),A=!0)),k++;A&&g(S)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function w(S,k){if(k===0)return[o,S];for(var N=0,O=0;O<S.length;O++){var C=S[O];if(C[0]===i||C[0]===o){var I=N+C[1].length;if(k===I)return[O+1,S];if(k<I){S=S.slice();var R=k-N,A=[C[0],C[1].slice(0,R)],D=[C[0],C[1].slice(R)];return S.splice(O,1,A,D),[O+1,S]}else N=I}}throw new Error("cursor_pos is out of bounds!")}function b(S,k){var N=w(S,k),O=N[1],C=N[0],I=O[C],R=O[C+1];if(I==null)return S;if(I[0]!==o)return S;if(R!=null&&I[1]+R[1]===R[1]+I[1])return O.splice(C,2,R,I),E(O,C,2);if(R!=null&&R[1].indexOf(I[1])===0){O.splice(C,2,[R[0],I[1]],[0,I[1]]);var A=R[1].slice(I[1].length);return A.length>0&&O.splice(C+2,0,[R[0],A]),E(O,C,3)}else return S}function _(S){for(var k=!1,N=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},O=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},C=2;C<S.length;C+=1)S[C-2][0]===o&&O(S[C-2][1])&&S[C-1][0]===i&&N(S[C-1][1])&&S[C][0]===s&&N(S[C][1])&&(k=!0,S[C-1][1]=S[C-2][1].slice(-1)+S[C-1][1],S[C][1]=S[C-2][1].slice(-1)+S[C][1],S[C-2][1]=S[C-2][1].slice(0,-1));if(!k)return S;for(var I=[],C=0;C<S.length;C+=1)S[C][1].length>0&&I.push(S[C]);return I}function E(S,k,N){for(var O=k+N-1;O>=0&&O>=k-1;O--)if(O+1<S.length){var C=S[O],I=S[O+1];C[0]===I[1]&&S.splice(O,2,[C[0],C[1]+I[1]])}return S}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)i.call(f,p)&&c.push(s?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var p=s?s+c:c,m=this._events[p];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.emit=function(c,f,p,m,g,y){var w=s?s+c:c;if(!this._events[w])return!1;var b=this._events[w],_=arguments.length,E,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,y),!0}for(S=1,E=new Array(_-1);S<_;S++)E[S-1]=arguments[S];b.fn.apply(b.context,E)}else{var k=b.length,N;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),_){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,p);break;case 4:b[S].fn.call(b[S].context,f,p,m);break;default:if(!E)for(N=1,E=new Array(_-1);N<_;N++)E[N-1]=arguments[N];b[S].fn.apply(b[S].context,E)}}return!0},l.prototype.on=function(c,f,p){var m=new a(f,p||this),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.once=function(c,f,p){var m=new a(f,p||this,!0),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.removeListener=function(c,f,p,m){var g=s?s+c:c;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===f&&(!m||y.once)&&(!p||y.context===p)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var w=0,b=[],_=y.length;w<_;w++)(y[w].fn!==f||m&&!y[w].once||p&&y[w].context!==p)&&b.push(y[w]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=s?s+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},o=function(){function ce(fe,we){var xe=[],he=!0,Be=!1,Ie=void 0;try{for(var Ye=fe[Symbol.iterator](),Yt;!(he=(Yt=Ye.next()).done)&&(xe.push(Yt.value),!(we&&xe.length===we));he=!0);}catch(On){Be=!0,Ie=On}finally{try{!he&&Ye.return&&Ye.return()}finally{if(Be)throw Ie}}return xe}return function(fe,we){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ce(fe,we){for(var xe=0;xe<we.length;xe++){var he=we[xe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(fe,he.key,he)}}return function(fe,we,xe){return we&&ce(fe.prototype,we),xe&&ce(fe,xe),fe}}(),l=i(3),h=D(l),c=i(2),f=D(c),p=i(0),m=D(p),g=i(5),y=D(g),w=i(10),b=D(w),_=i(9),E=D(_),S=i(36),k=i(37),N=i(13),O=D(N),C=i(26),I=i(38),R=i(39),A=i(40);function D(ce){return ce&&ce.__esModule?ce:{default:ce}}function M(ce,fe,we){return fe in ce?Object.defineProperty(ce,fe,{value:we,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=we,ce}function F(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function q(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function L(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var B=(0,b.default)("quill:clipboard"),Y="__ql-matcher",H=[[Node.TEXT_NODE,Qe],[Node.TEXT_NODE,$e],["br",pe],[Node.ELEMENT_NODE,$e],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,nt],["li",Ce],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ge]],j=[S.AlignAttribute,I.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),U=[S.AlignStyle,k.BackgroundStyle,C.ColorStyle,I.DirectionStyle,R.FontStyle,A.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),V=function(ce){L(fe,ce);function fe(we,xe){F(this,fe);var he=q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,we,xe));return he.quill.root.addEventListener("paste",he.onPaste.bind(he)),he.container=he.quill.addContainer("ql-clipboard"),he.container.setAttribute("contenteditable",!0),he.container.setAttribute("tabindex",-1),he.matchers=[],H.concat(he.options.matchers).forEach(function(Be){var Ie=o(Be,2),Ye=Ie[0],Yt=Ie[1];!xe.matchVisual&&Yt===De||he.addMatcher(Ye,Yt)}),he}return a(fe,[{key:"addMatcher",value:function(xe,he){this.matchers.push([xe,he])}},{key:"convert",value:function(xe){if(typeof xe=="string")return this.container.innerHTML=xe.replace(/\>\r?\n +\</g,"><"),this.convert();var he=this.quill.getFormat(this.quill.selection.savedRange.index);if(he[O.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Be,M({},O.default.blotName,he[O.default.blotName]))}var Ie=this.prepareMatching(),Ye=o(Ie,2),Yt=Ye[0],On=Ye[1],st=J(this.container,Yt,On);return X(st,`
`)&&st.ops[st.ops.length-1].attributes==null&&(st=st.compose(new f.default().retain(st.length()-1).delete(1))),B.log("convert",this.container.innerHTML,st),this.container.innerHTML="",st}},{key:"dangerouslyPasteHTML",value:function(xe,he){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof xe=="string")this.quill.setContents(this.convert(xe),he),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ie=this.convert(he);this.quill.updateContents(new f.default().retain(xe).concat(Ie),Be),this.quill.setSelection(xe+Ie.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(xe){var he=this;if(!(xe.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),Ie=new f.default().retain(Be.index),Ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ie=Ie.concat(he.convert()).delete(Be.length),he.quill.updateContents(Ie,y.default.sources.USER),he.quill.setSelection(Ie.length()-Be.length,y.default.sources.SILENT),he.quill.scrollingContainer.scrollTop=Ye,he.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xe=this,he=[],Be=[];return this.matchers.forEach(function(Ie){var Ye=o(Ie,2),Yt=Ye[0],On=Ye[1];switch(Yt){case Node.TEXT_NODE:Be.push(On);break;case Node.ELEMENT_NODE:he.push(On);break;default:[].forEach.call(xe.container.querySelectorAll(Yt),function(st){st[Y]=st[Y]||[],st[Y].push(On)});break}}),[he,Be]}}]),fe}(E.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(ce,fe,we){return(typeof fe>"u"?"undefined":s(fe))==="object"?Object.keys(fe).reduce(function(xe,he){return z(xe,he,fe[he])},ce):ce.reduce(function(xe,he){return he.attributes&&he.attributes[fe]?xe.push(he):xe.insert(he.insert,(0,h.default)({},M({},fe,we),he.attributes))},new f.default)}function Q(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function X(ce,fe){for(var we="",xe=ce.ops.length-1;xe>=0&&we.length<fe.length;--xe){var he=ce.ops[xe];if(typeof he.insert!="string")break;we=he.insert+we}return we.slice(-1*fe.length)===fe}function W(ce){if(ce.childNodes.length===0)return!1;var fe=Q(ce);return["block","list-item"].indexOf(fe.display)>-1}function J(ce,fe,we){return ce.nodeType===ce.TEXT_NODE?we.reduce(function(xe,he){return he(ce,xe)},new f.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(xe,he){var Be=J(he,fe,we);return he.nodeType===ce.ELEMENT_NODE&&(Be=fe.reduce(function(Ie,Ye){return Ye(he,Ie)},Be),Be=(he[Y]||[]).reduce(function(Ie,Ye){return Ye(he,Ie)},Be)),xe.concat(Be)},new f.default):new f.default}function Z(ce,fe,we){return z(we,ce,!0)}function te(ce,fe){var we=m.default.Attributor.Attribute.keys(ce),xe=m.default.Attributor.Class.keys(ce),he=m.default.Attributor.Style.keys(ce),Be={};return we.concat(xe).concat(he).forEach(function(Ie){var Ye=m.default.query(Ie,m.default.Scope.ATTRIBUTE);Ye!=null&&(Be[Ye.attrName]=Ye.value(ce),Be[Ye.attrName])||(Ye=j[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Be[Ye.attrName]=Ye.value(ce)||void 0),Ye=U[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Ye=U[Ie],Be[Ye.attrName]=Ye.value(ce)||void 0))}),Object.keys(Be).length>0&&(fe=z(fe,Be)),fe}function le(ce,fe){var we=m.default.query(ce);if(we==null)return fe;if(we.prototype instanceof m.default.Embed){var xe={},he=we.value(ce);he!=null&&(xe[we.blotName]=he,fe=new f.default().insert(xe,we.formats(ce)))}else typeof we.formats=="function"&&(fe=z(fe,we.blotName,we.formats(ce)));return fe}function pe(ce,fe){return X(fe,`
`)||fe.insert(`
`),fe}function ge(){return new f.default}function Ce(ce,fe){var we=m.default.query(ce);if(we==null||we.blotName!=="list-item"||!X(fe,`
`))return fe;for(var xe=-1,he=ce.parentNode;!he.classList.contains("ql-clipboard");)(m.default.query(he)||{}).blotName==="list"&&(xe+=1),he=he.parentNode;return xe<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:xe}))}function $e(ce,fe){return X(fe,`
`)||(W(ce)||fe.length()>0&&ce.nextSibling&&W(ce.nextSibling))&&fe.insert(`
`),fe}function De(ce,fe){if(W(ce)&&ce.nextElementSibling!=null&&!X(fe,`

`)){var we=ce.offsetHeight+parseFloat(Q(ce).marginTop)+parseFloat(Q(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+we*1.5&&fe.insert(`
`)}return fe}function nt(ce,fe){var we={},xe=ce.style||{};return xe.fontStyle&&Q(ce).fontStyle==="italic"&&(we.italic=!0),xe.fontWeight&&(Q(ce).fontWeight.startsWith("bold")||parseInt(Q(ce).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(fe=z(fe,we)),parseFloat(xe.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Qe(ce,fe){var we=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(we.trim());if(we.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!Q(ce.parentNode).whiteSpace.startsWith("pre")){var xe=function(Be,Ie){return Ie=Ie.replace(/[^\u00a0]/g,""),Ie.length<1&&Be?" ":Ie};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,xe.bind(xe,!0)),(ce.previousSibling==null&&W(ce.parentNode)||ce.previousSibling!=null&&W(ce.previousSibling))&&(we=we.replace(/^\s+/,xe.bind(xe,!1))),(ce.nextSibling==null&&W(ce.parentNode)||ce.nextSibling!=null&&W(ce.nextSibling))&&(we=we.replace(/\s+$/,xe.bind(xe,!1)))}return fe.insert(we)}r.default=V,r.matchAttributor=te,r.matchBlot=le,r.matchNewline=$e,r.matchSpacing=De,r.matchText=Qe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(D,M){var F=[],q=!0,L=!1,B=void 0;try{for(var Y=D[Symbol.iterator](),H;!(q=(H=Y.next()).done)&&(F.push(H.value),!(M&&F.length===M));q=!0);}catch(j){L=!0,B=j}finally{try{!q&&Y.return&&Y.return()}finally{if(L)throw B}}return F}return function(D,M){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return A(D,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(D,M){for(var F=0;F<M.length;F++){var q=M[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,M,F){return M&&A(D.prototype,M),F&&A(D,F),D}}(),a=i(2),l=b(a),h=i(0),c=b(h),f=i(5),p=b(f),m=i(10),g=b(m),y=i(9),w=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function _(A,D,M){return D in A?Object.defineProperty(A,D,{value:M,enumerable:!0,configurable:!0,writable:!0}):A[D]=M,A}function E(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function S(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function k(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var N=(0,g.default)("quill:toolbar"),O=function(A){k(D,A);function D(M,F){E(this,D);var q=S(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M,F));if(Array.isArray(q.options.container)){var L=document.createElement("div");I(L,q.options.container),M.container.parentNode.insertBefore(L,M.container),q.container=L}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var B;return B=N.error("Container required for toolbar",q.options),S(q,B)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Y){q.addHandler(Y,q.options.handlers[Y])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Y){q.attach(Y)}),q.quill.on(p.default.events.EDITOR_CHANGE,function(Y,H){Y===p.default.events.SELECTION_CHANGE&&q.update(H)}),q.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var Y=q.quill.selection.getRange(),H=s(Y,1),j=H[0];q.update(j)}),q}return o(D,[{key:"addHandler",value:function(F,q){this.handlers[F]=q}},{key:"attach",value:function(F){var q=this,L=[].find.call(F.classList,function(Y){return Y.indexOf("ql-")===0});if(L){if(L=L.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[L]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[L]==null){N.warn("ignoring attaching to disabled format",L,F);return}if(c.default.query(L)==null){N.warn("ignoring attaching to nonexistent format",L,F);return}}var B=F.tagName==="SELECT"?"change":"click";F.addEventListener(B,function(Y){var H=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var j=F.options[F.selectedIndex];j.hasAttribute("selected")?H=!1:H=j.value||!1}else F.classList.contains("ql-active")?H=!1:H=F.value||!F.hasAttribute("value"),Y.preventDefault();q.quill.focus();var U=q.quill.selection.getRange(),V=s(U,1),z=V[0];if(q.handlers[L]!=null)q.handlers[L].call(q,H);else if(c.default.query(L).prototype instanceof c.default.Embed){if(H=prompt("Enter "+L),!H)return;q.quill.updateContents(new l.default().retain(z.index).delete(z.length).insert(_({},L,H)),p.default.sources.USER)}else q.quill.format(L,H,p.default.sources.USER);q.update(z)}),this.controls.push([L,F])}}},{key:"update",value:function(F){var q=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(L){var B=s(L,2),Y=B[0],H=B[1];if(H.tagName==="SELECT"){var j=void 0;if(F==null)j=null;else if(q[Y]==null)j=H.querySelector("option[selected]");else if(!Array.isArray(q[Y])){var U=q[Y];typeof U=="string"&&(U=U.replace(/\"/g,'\\"')),j=H.querySelector('option[value="'+U+'"]')}j==null?(H.value="",H.selectedIndex=-1):j.selected=!0}else if(F==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var V=q[Y]===H.getAttribute("value")||q[Y]!=null&&q[Y].toString()===H.getAttribute("value")||q[Y]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",V)}else H.classList.toggle("ql-active",q[Y]!=null)})}}]),D}(w.default);O.DEFAULTS={};function C(A,D,M){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+D),M!=null&&(F.value=M),A.appendChild(F)}function I(A,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(M){var F=document.createElement("span");F.classList.add("ql-formats"),M.forEach(function(q){if(typeof q=="string")C(F,q);else{var L=Object.keys(q)[0],B=q[L];Array.isArray(B)?R(F,L,B):C(F,L,B)}}),A.appendChild(F)})}function R(A,D,M){var F=document.createElement("select");F.classList.add("ql-"+D),M.forEach(function(q){var L=document.createElement("option");q!==!1?L.setAttribute("value",q):L.setAttribute("selected","selected"),F.appendChild(L)}),A.appendChild(F)}O.DEFAULTS={container:null,handlers:{clean:function(){var D=this,M=this.quill.getSelection();if(M!=null)if(M.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(q){c.default.query(q,c.default.Scope.INLINE)!=null&&D.quill.format(q,!1)})}else this.quill.removeFormat(M,p.default.sources.USER)},direction:function(D){var M=this.quill.getFormat().align;D==="rtl"&&M==null?this.quill.format("align","right",p.default.sources.USER):!D&&M==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",D,p.default.sources.USER)},indent:function(D){var M=this.quill.getSelection(),F=this.quill.getFormat(M),q=parseInt(F.indent||0);if(D==="+1"||D==="-1"){var L=D==="+1"?1:-1;F.direction==="rtl"&&(L*=-1),this.quill.format("indent",q+L,p.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,p.default.sources.USER)},list:function(D){var M=this.quill.getSelection(),F=this.quill.getFormat(M);D==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",D,p.default.sources.USER)}}},r.default=O,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var _=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.label.innerHTML=b,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),_}return s(y,[{key:"buildItem",value:function(b){var _=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return _.style.backgroundColor=b.getAttribute("value")||"",_}},{key:"selectItem",value:function(b,_){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,_);var E=this.label.querySelector(".ql-color-label"),S=b&&b.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=S:E.style.fill=S)}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var _=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=b[E.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return s(y,[{key:"selectItem",value:function(b,_){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,_),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){var f=this;o(this,l),this.quill=h,this.boundsContainer=c||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,p=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>m.right&&(y=m.right-g.right,this.root.style.left=f+y+"px"),g.left<m.left&&(y=m.left-g.left,this.root.style.left=f+y+"px"),g.bottom>m.bottom){var w=g.bottom-g.top,b=c.bottom-c.top+w;this.root.style.top=p-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function R(A,D){var M=[],F=!0,q=!1,L=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(M.push(Y.value),!(D&&M.length===D));F=!0);}catch(H){q=!0,L=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw L}}return M}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return R(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function R(A,D,M){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:R(q,D,M)}else{if("value"in F)return F.value;var L=F.get;return L===void 0?void 0:L.call(M)}},a=function(){function R(A,D){for(var M=0;M<D.length;M++){var F=D[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,M){return D&&R(A.prototype,D),M&&R(A,M),A}}(),l=i(3),h=E(l),c=i(8),f=E(c),p=i(43),m=E(p),g=i(27),y=E(g),w=i(15),b=i(41),_=E(b);function E(R){return R&&R.__esModule?R:{default:R}}function S(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function k(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function N(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(R){N(A,R);function A(D,M){S(this,A),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=O);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,M));return F.quill.container.classList.add("ql-snow"),F}return a(A,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),_.default),this.tooltip=new I(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,q){M.handlers.link.call(M,!q.format.link)})}}]),A}(m.default);C.DEFAULTS=(0,h.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var D=this.quill.getSelection();if(D==null||D.length==0)return;var M=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M);var F=this.quill.theme.tooltip;F.edit("link",M)}else this.quill.format("link",!1)}}}}});var I=function(R){N(A,R);function A(D,M){S(this,A);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,M));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(A,[{key:"listen",value:function(){var M=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(M.linkRange!=null){var q=M.linkRange;M.restoreFocus(),M.quill.formatText(q,"link",!1,f.default.sources.USER),delete M.linkRange}F.preventDefault(),M.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(F,q,L){if(F!=null){if(F.length===0&&L===f.default.sources.USER){var B=M.quill.scroll.descendant(y.default,F.index),Y=s(B,2),H=Y[0],j=Y[1];if(H!=null){M.linkRange=new w.Range(F.index-j,H.length());var U=y.default.formats(H.domNode);M.preview.textContent=U,M.preview.setAttribute("href",U),M.show(),M.position(M.quill.getBounds(M.linkRange));return}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(p.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=he(s),a=i(36),l=i(38),h=i(64),c=i(65),f=he(c),p=i(66),m=he(p),g=i(67),y=he(g),w=i(37),b=i(26),_=i(39),E=i(40),S=i(56),k=he(S),N=i(68),O=he(N),C=i(27),I=he(C),R=i(69),A=he(R),D=i(70),M=he(D),F=i(71),q=he(F),L=i(72),B=he(L),Y=i(73),H=he(Y),j=i(13),U=he(j),V=i(74),z=he(V),Q=i(75),X=he(Q),W=i(57),J=he(W),Z=i(41),te=he(Z),le=i(28),pe=he(le),ge=i(59),Ce=he(ge),$e=i(60),De=he($e),nt=i(61),Qe=he(nt),ce=i(108),fe=he(ce),we=i(62),xe=he(we);function he(Be){return Be&&Be.__esModule?Be:{default:Be}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":E.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":_.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":U.default,"formats/header":m.default,"formats/list":y.default,"formats/bold":k.default,"formats/code":j.Code,"formats/italic":O.default,"formats/link":I.default,"formats/script":A.default,"formats/strike":M.default,"formats/underline":q.default,"formats/image":B.default,"formats/video":H.default,"formats/list/item":g.ListItem,"modules/formula":z.default,"modules/syntax":X.default,"modules/toolbar":J.default,"themes/bubble":fe.default,"themes/snow":xe.default,"ui/icons":te.default,"ui/picker":pe.default,"ui/icon-picker":De.default,"ui/color-picker":Ce.default,"ui/tooltip":Qe.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(w,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,_){return b&&y(w.prototype,b),_&&y(w,_),w}}(),o=function y(w,b,_){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,b,_)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(_)}},a=i(0),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(_,E){if(E==="+1"||E==="-1"){var S=this.value(_)||0;E=E==="+1"?S+1:S-1}return E===0?(this.remove(_),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,_,E)}},{key:"canAdd",value:function(_,E){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,E)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,parseInt(E))}},{key:"value",value:function(_){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,_))||void 0}}]),w}(l.default.Attributor.Class),g=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(g,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,w){return y&&m(g.prototype,y),w&&m(g,w),g}}(),o=i(4),a=l(o);function l(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){f(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function S(k,N){for(var O=0;O<N.length;O++){var C=N[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,N,O){return N&&S(k.prototype,N),O&&S(k,O),k}}(),o=function S(k,N,O){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,N);if(C===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:S(I,N,O)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(O)}},a=i(0),l=m(a),h=i(4),c=m(h),f=i(25),p=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function g(S,k,N){return k in S?Object.defineProperty(S,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[k]=N,S}function y(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function w(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function b(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var _=function(S){b(k,S);function k(){return y(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(O,C){O===E.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,O,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,C){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,C),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,O,C))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,O)}}]),k}(c.default);_.blotName="list-item",_.tagName="LI";var E=function(S){b(k,S),s(k,null,[{key:"create",value:function(O){var C=O==="ordered"?"OL":"UL",I=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,C);return(O==="checked"||O==="unchecked")&&I.setAttribute("data-checked",O==="checked"),I}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(N){y(this,k);var O=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N)),C=function(R){if(R.target.parentNode===N){var A=O.statics.formats(N),D=l.default.find(R.target);A==="checked"?D.format("list","unchecked"):A==="unchecked"&&D.format("list","checked")}};return N.addEventListener("touchstart",C),N.addEventListener("mousedown",C),O}return s(k,[{key:"format",value:function(O,C){this.children.length>0&&this.children.tail.format(O,C)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,C){if(O instanceof _)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,C);else{var I=C==null?this.length():C.offset(this),R=this.split(I);R.parent.insertBefore(O,R)}}},{key:"optimize",value:function(O){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);O.moveChildren(C),this.appendChild(C)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,O)}}]),k}(p.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[_],r.ListItem=_,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),o=function w(b,_,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(0),l=c(a),h=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["alt","height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(E,S){g.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return typeof E=="string"&&S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return g.reduce(function(S,k){return E.hasAttribute(k)&&(S[k]=E.getAttribute(k)),S},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,h.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),o=function w(b,_,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(4),l=i(27),h=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(E,S){g.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return g.reduce(function(S,k){return E.hasAttribute(k)&&(S[k]=E.getAttribute(k)),S},{})}},{key:"sanitize",value:function(E){return h.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function E(S,k){for(var N=0;N<k.length;N++){var O=k[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,N){return k&&E(S.prototype,k),N&&E(S,N),S}}(),o=function E(S,k,N){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,k);if(O===void 0){var C=Object.getPrototypeOf(S);return C===null?void 0:E(C,k,N)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(N)}},a=i(35),l=m(a),h=i(5),c=m(h),f=i(9),p=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var b=function(E){w(S,E);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,null,[{key:"create",value:function(N){var O=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",N)),O}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),S}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var _=function(E){w(S,E),s(S,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function S(){g(this,S);var k=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return S}(p.default);r.FormulaBlot=b,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function N(O,C){for(var I=0;I<C.length;I++){var R=C[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,C,I){return C&&N(O.prototype,C),I&&N(O,I),O}}(),o=function N(O,C,I){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,C);if(R===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:N(A,C,I)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(I)}},a=i(0),l=y(a),h=i(5),c=y(h),f=i(9),p=y(f),m=i(13),g=y(m);function y(N){return N&&N.__esModule?N:{default:N}}function w(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function b(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function _(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var E=function(N){_(O,N);function O(){return w(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),O}(g.default);E.className="ql-syntax";var S=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(N){_(O,N),s(O,null,[{key:"register",value:function(){c.default.register(S,!0),c.default.register(E,!0)}}]);function O(C,I){w(this,O);var R=b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,I));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return R.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){R.highlight(),A=null},R.options.interval)}),R.highlight(),R}return s(O,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(A){A.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),R!=null&&this.quill.setSelection(R,c.default.sources.SILENT)}}}]),O}(p.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var O=window.hljs.highlightAuto(N);return O.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=S,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function O(C,I,R){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,I);if(A===void 0){var D=Object.getPrototypeOf(C);return D===null?void 0:O(D,I,R)}else{if("value"in A)return A.value;var M=A.get;return M===void 0?void 0:M.call(R)}},o=function(){function O(C,I){for(var R=0;R<I.length;R++){var A=I[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,I,R){return I&&O(C.prototype,I),R&&O(C,R),C}}(),a=i(3),l=w(a),h=i(8),c=w(h),f=i(43),p=w(f),m=i(15),g=i(41),y=w(g);function w(O){return O&&O.__esModule?O:{default:O}}function b(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function _(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function E(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(O){E(C,O);function C(I,R){b(this,C),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var A=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,R));return A.quill.container.classList.add("ql-bubble"),A}return o(C,[{key:"extendToolbar",value:function(R){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),y.default)}}]),C}(p.default);k.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(O){E(C,O);function C(I,R){b(this,C);var A=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,R));return A.quill.on(c.default.events.EDITOR_CHANGE,function(D,M,F,q){if(D===c.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&q===c.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var L=A.quill.getLines(M.index,M.length);if(L.length===1)A.position(A.quill.getBounds(M));else{var B=L[L.length-1],Y=A.quill.getIndex(B),H=Math.min(B.length()-1,M.index+M.length-Y),j=A.quill.getBounds(new m.Range(Y,H));A.position(j)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(C,[{key:"listen",value:function(){var R=this;s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var A=R.quill.getSelection();A!=null&&R.position(R.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var A=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,R),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",A===0)return A;D.style.marginLeft=-1*A-D.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=k},function(n,r,i){n.exports=i(63)}]).default})}(jp)),jp.exports}var $i,uI;function Sse(){if(uI)return $i;uI=1;var t=$i&&$i.__extends||function(){var c=function(f,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])},c(f,p)};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=$i&&$i.__assign||function(){return e=Object.assign||function(c){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},e.apply(this,arguments)},n=$i&&$i.__spreadArrays||function(){for(var c=0,f=0,p=arguments.length;f<p;f++)c+=arguments[f].length;for(var m=Array(c),g=0,f=0;f<p;f++)for(var y=arguments[f],w=0,b=y.length;w<b;w++,g++)m[g]=y[w];return m},r=$i&&$i.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},i=r(ug()),s=r(b_()),o=r(bse()),a=r(_se()),l=function(c){t(f,c);function f(p){var m=c.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(y,w,b,_){var E,S,k,N;y==="text-change"?(S=(E=m).onEditorChangeText)===null||S===void 0||S.call(E,m.editor.root.innerHTML,w,_,m.unprivilegedEditor):y==="selection-change"&&((N=(k=m).onEditorChangeSelection)===null||N===void 0||N.call(k,w,_,m.unprivilegedEditor))};var g=m.isControlled()?p.value:p.defaultValue;return m.value=g??"",m}return f.prototype.validateProps=function(p){var m;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var g=i.default.Children.only(p.children);if(((m=g)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(p,m){var g=this,y;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var w=this.getEditorContents(),b=(y=p.value,y??"");this.isEqualValue(b,w)||this.setEditorContents(this.editor,b)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),n(this.cleanProps,this.dirtyProps).some(function(_){return!o.default(p[_],g.props[_])})},f.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(g){return!o.default(p[g],m.props[g])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(p,m){var g=this;if(this.editor&&this.shouldComponentRegenerate(p)){var y=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var b=this.regenerationSnapshot,y=b.delta,_=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var E=this.editor;E.setContents(y),h(function(){return g.setEditorSelection(E,_)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(p,m){var g=new a.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(g,m.tabIndex),this.hookEditor(g),g},f.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(p){return p&&p.ops},f.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?o.default(p.ops,m.ops):o.default(p,m)},f.prototype.setEditorContents=function(p,m){var g=this;this.value=m;var y=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),h(function(){return g.setEditorSelection(p,y)})},f.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var g=p.getLength();m.index=Math.max(0,Math.min(m.index,g-1)),m.length=Math.max(0,Math.min(m.length,g-1-m.index)),p.setSelection(m)}},f.prototype.setEditorTabIndex=function(p,m){var g,y;!((y=(g=p)===null||g===void 0?void 0:g.scroll)===null||y===void 0)&&y.domNode&&(p.scroll.domNode.tabIndex=m)},f.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},f.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=s.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},f.prototype.renderEditingArea=function(){var p=this,m=this.props,g=m.children,y=m.preserveWhitespace,w=this.state.generation,b={key:w,ref:function(_){p.editingArea=_}};return i.default.Children.count(g)?i.default.cloneElement(i.default.Children.only(g),b):y?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(p,m,g,y){var w,b;if(this.editor){var _=this.isDelta(this.value)?y.getContents():y.getHTML();_!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=_,(b=(w=this.props).onChange)===null||b===void 0||b.call(w,p,m,g,y))}},f.prototype.onEditorChangeSelection=function(p,m,g){var y,w,b,_,E,S;if(this.editor){var k=this.getEditorSelection(),N=!k&&p,O=k&&!p;o.default(p,k)||(this.selection=p,(w=(y=this.props).onChangeSelection)===null||w===void 0||w.call(y,p,m,g),N?(_=(b=this.props).onFocus)===null||_===void 0||_.call(b,p,m,g):O&&((S=(E=this.props).onBlur)===null||S===void 0||S.call(E,k,m,g)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=a.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(i.default.Component);function h(c){Promise.resolve().then(c)}return $i=l,$i}var Ese=Sse();const kse=tf(Ese),Q3=({placeholder:t,text:e,setText:n})=>{const r=K.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large"]}],[{color:[]}],["italic","underline","blockquote","bold"],[{list:"ordered"},{list:"bullet"}],["link"]]}}),[]);return x.jsx(kse,{value:e,onChange:n,modules:r,placeholder:t,className:"mb-2 w-full rounded-xl border-0 bg-white scrollbar-hide"})};function Tse({postType:t,post:e,collName:n}){const{onEditSubmit:r,setEditedData:i,editedData:s}=ec({dataToUpdate:{text:e.text,updatedAt:(e==null?void 0:e.updatedAt)||""},collName:n,docId:e.id}),o=a=>{i({text:a})};return x.jsx(ur,{title:`${t} `,children:x.jsxs("form",{onSubmit:r,children:[x.jsx(Q3,{placeholder:"  .",text:s.text,setText:o}),x.jsx(at,{name:"",type:"submit",className:"ml-auto"})]})})}function Cse({collName:t,postType:e,post:n}){const{showModal:r,hideModal:i}=bt(),s=()=>{i(),r({element:x.jsx(Tse,{postType:e,post:n,collName:t})})};return x.jsx("button",{onClick:s,children:x.jsx(ME,{fontSize:14,stroke:"#aaa"})})}const X3=({collName:t,post:e,postType:n})=>x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Cse,{collName:t,post:e,postType:n}),x.jsx(oie,{docId:e.id,collName:t})]}),Nse=({postId:t,postType:e})=>{const{uid:n}=Pe(Pt),r=Pe(Ds),[i,s]=K.useState({}),{docId:o,monthId:a}=t,{showModal:l}=bt(),h=()=>{if(e==="")return xr(a,Mu);if(e===" ")return xr(a,xE);if(e===" ")return xr(a,Gd)};K.useEffect(()=>{o&&Ar(h(),o,s)},[]);const{thumbnail:c,title:f,createdAt:p,creatorId:m,text:g}=i,y=n===m,w=r==null?void 0:r.find(E=>E.id===m),b=y?"":w==null?void 0:w.displayName,_=()=>l({element:x.jsx(ur,{title:`${b} ${e}`,children:x.jsxs("div",{className:"overflow-scroll",children:[x.jsx($E,{text:g}),x.jsx("div",{className:"mb-4 mt-10 flex justify-end",children:n===m&&x.jsx(X3,{post:i,collName:h(),postType:e})}),x.jsx(yv,{createdAt:p,footerType:"likes",post:i})]})})});return x.jsx(x.Fragment,{children:Af(i)&&x.jsx("button",{type:"button",onClick:_,children:x.jsx(un,{thumbnail:c,title:f,className:"w-full overflow-hidden"})})})};function Ose({userRecords:t,postType:e}){const n=(t==null?void 0:t.subjects)||[],r=(t==null?void 0:t.hostReviews)||[],i=(t==null?void 0:t.reviews)||[],s={:n," ":i," ":r};return x.jsx("ul",{className:"grid grid-cols-7 gap-5 max-md:grid-cols-6 max-sm:grid-cols-4 max-sm:gap-4",children:s[e].length!==0?s[e].map(o=>x.jsx(Nse,{postId:o,postType:e},o.docId)):x.jsxs("span",{children:["  ",e," ."]})})}function Ase({percentage:t}){return x.jsx("div",{className:"mt-2 flex items-center gap-4",children:x.jsx("div",{className:`flex h-[14px] w-full items-center rounded-2xl border p-0.5 ${t==="100%"?"border-green1":"border-yellow-600"}`,children:x.jsx("div",{style:{width:t},className:`relative h-full rounded-3xl ${t==="100%"?"w-full bg-green1":"bg-yellow-300"}`})})})}function Fn({text:t,color:e="lightBlue",children:n,shape:r="square",className:i,onClick:s}){const o={lightGray:"bg-gray4 text-gray1",lightGreen:"bg-green3 text-green-700",lightBlue:"bg-blue4 text-blue2",yellow:"bg-amber-100 text-yellow-700",purple:"bg-purple4 text-purple-700",green:"bg-green1 text-white",red:"bg-pointCoral text-white"},a={rounded:"rounded-full",square:"rounded-lg"};return s?x.jsxs("button",{type:"button",onClick:s,className:`${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 text-sm ${i}`,children:[x.jsx("span",{children:t&&t}),n&&n]}):x.jsxs("div",{className:`min-w-fit text-sm ${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[x.jsx("span",{children:t&&t}),n&&n]})}function Is({authors:t,publisher:e}){return x.jsxs("span",{className:"line-clamp-1 truncate whitespace-pre-wrap text-sm tracking-tight text-gray1",children:[t.length!==0?x.jsxs("span",{children:[t[0],t.length!==1&&`( ${t.length-1})`]}):x.jsx("span",{className:"text-gray1",children:" "}),e&&x.jsxs("span",{children:["  ",e]})]})}function Dse({currentPage:t,wholePage:e}){const n=Nm(t,e);return x.jsxs("span",{className:`text-sm font-medium tracking-tighter ${n===100?"text-green2":"text-pointCoral"}`,children:[n===100?"":""," ",t," / ",e," (",n,"%)"]})}function Ise({docId:t,creatorId:e,challengeBook:n}){const{title:r,thumbnail:i,authors:s,publisher:o,wholePage:a,currentPage:l}=n,[h]=K.useState(l),{uid:c}=Pe(Pt),{pathname:f}=Nr(),p=ln(Jt,ll,t),m=async()=>{window.confirm(" ?")&&await Qg(p)},g=`${Nm(l,a)}%`;return x.jsxs("li",{className:`rounded-xl border bg-white px-4 pb-3 pt-4 shadow-card ${g==="100%"?"border-green1":"border-pointCoral opacity-50"}`,children:[x.jsxs("div",{className:"mb-2.5 flex flex-1",children:[x.jsxs("div",{className:"mr-4 flex flex-1 flex-col gap-1",children:[x.jsx(Fn,{text:g==="100%"?"  ":"  ",color:g==="100%"?"green":"red",className:"mb-1.5 min-w-fit font-medium"}),x.jsx("h3",{className:"font-medium leading-5",children:r}),x.jsx(Is,{authors:s,publisher:o}),f==="/challenge"&&c===e&&x.jsx("div",{className:"absolute right-3 top-3 flex gap-3",children:x.jsx("button",{type:"button",onClick:m,children:x.jsx(If,{fontSize:15})})}),x.jsx(Dse,{currentPage:h,wholePage:a})]}),x.jsx(un,{title:r,thumbnail:i,className:"w-20"})]}),x.jsx(Ase,{percentage:g})]})}const Ss=({text:t,color:e="gray",icon:n=!0})=>{const r={red:"text-pointCoral stroke-pointCoral",green:"text-green1 stroke-green1",gray:"text-gray1 stroke-gray1"};return x.jsxs("div",{className:"mb-2 gap-1",children:[n&&(e==="red"?x.jsx(Fre,{className:`mb-0.5 inline text-base ${r[e]}`}):x.jsx(Jre,{className:`mb-0.5 inline text-base ${r[e]}`})),x.jsx("span",{className:`ml-1 text-base leading-6 ${r[e]}`,children:t})]})};function Rse(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h10v10"},child:[]},{tag:"path",attr:{d:"M7 17 17 7"},child:[]}]})(t)}function Pse(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"},child:[]},{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function Mse(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function Lse(t){return it({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5.8 11.3 2 22l10.7-3.79"},child:[]},{tag:"path",attr:{d:"M4 3h.01"},child:[]},{tag:"path",attr:{d:"M22 8h.01"},child:[]},{tag:"path",attr:{d:"M15 2h.01"},child:[]},{tag:"path",attr:{d:"M22 20h.01"},child:[]},{tag:"path",attr:{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"},child:[]},{tag:"path",attr:{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"},child:[]},{tag:"path",attr:{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"},child:[]},{tag:"path",attr:{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"},child:[]}]})(t)}function rc({size:t=200,className:e=""}){return x.jsx("div",{className:`flex items-center justify-center ${e}`,children:x.jsxs("div",{className:"relative flex items-center justify-center rounded-full",style:{height:`${t}px`,width:`${t}px`},children:[x.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"11",fill:"none",className:"stroke-purple4"}),x.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:10,strokeLinecap:"round",strokeDasharray:"45 240",strokeDashoffset:"100",className:"origin-center animate-spin border stroke-purple2"})]}),x.jsx(Pse,{className:"absolute size-[40%] text-purple2"})]})})}const Im=({title:t,className:e})=>x.jsx("h3",{className:`flex w-fit items-center text-[17px] font-medium text-blue1 ${e}`,children:t});function Ot({children:t,title:e,titleBtn:n,className:r=""}){return x.jsxs("section",{className:`relative flex flex-col pb-20 pt-2.5 max-md:pb-16 ${r}`,children:[e&&(n?x.jsxs("div",{className:"mb-2 flex items-center justify-between px-1",children:[x.jsx(Im,{title:e}),n]}):x.jsx(Im,{title:e,className:"mb-2 pl-1"})),t]})}function jse(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function J3(t,e){return new Promise(function(n,r){let i;return Fse(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Fse=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const h=o+10;let c;switch(s.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(h+2,c)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(h+4,c),p=h+f+2+12*s.getUint16(h+f,c);for(let m=h+f+2;m<p;m+=12)if(s.getUint16(m,c)==274){if(s.getUint16(m+2,c)!==3)return n("Orientation data type is invalid");if(s.getUint32(m+4,c)!==1)return n("Orientation data count is invalid");s.setUint16(m+8,1,c);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Rm={},$se={get exports(){return Rm},set exports(t){Rm=t}};(function(t){var e,n,r={};$se.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,h={},c=new Uint8Array(i),f=c.length-4;a(c,f)!=101010256;)f--;l=f,l+=4;var p=o(c,l+=4);o(c,l+=2);var m=a(c,l+=2),g=a(c,l+=4);l+=4,l=g;for(var y=0;y<p;y++){a(c,l),l+=4,l+=4,l+=4,a(c,l+=4),m=a(c,l+=4);var w=a(c,l+=4),b=o(c,l+=4),_=o(c,l+2),E=o(c,l+4);l+=6;var S=a(c,l+=8);l+=4,l+=b+_+E,r._readLocal(c,S,h,m,w,s)}return h},r._readLocal=function(i,s,o,a,l,h){var c=r.bin.readUshort,f=r.bin.readUint;f(i,s),c(i,s+=4),c(i,s+=2);var p=c(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var m=c(i,s+=8),g=c(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,m);if(s+=m,s+=g,h)o[y]={size:l,csize:a};else{var w=new Uint8Array(i.buffer,s);if(p==0)o[y]=new Uint8Array(w.buffer.slice(s,s+a));else{if(p!=8)throw"unknown compression method: "+p;var b=new Uint8Array(l);r.inflateRaw(w,b),o[y]=b}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,h={};for(var c in i){var f=!r._noNeed(c)&&!s,p=i[c],m=r.crc.crc(p,0,p.length);h[c]={cpr:f,usize:p.length,crc:m,file:f?r.deflateRaw(p):p}}for(var c in h)o+=h[c].file.length+30+46+2*r.bin.sizeUTF8(c);o+=22;var g=new Uint8Array(o),y=0,w=[];for(var c in h){var b=h[c];w.push(y),y=r._writeHeader(g,y,c,b,0)}var _=0,E=y;for(var c in h)b=h[c],w.push(y),y=r._writeHeader(g,y,c,b,1,w[_++]);var S=y-E;return a(g,y,101010256),y+=4,l(g,y+=4,_),l(g,y+=2,_),a(g,y+=2,S),a(g,y+=4,E),y+=4,y+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,h){var c=r.bin.writeUint,f=r.bin.writeUshort,p=a.file;return c(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,a.cpr?8:0),c(i,s+=2,0),c(i,s+=4,a.crc),c(i,s+=4,p.length),c(i,s+=4,a.usize),f(i,s+=4,r.bin.sizeUTF8(o)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,c(i,s+=6,h),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(p,s),s+=p.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,h=s,c=s+o;h<c;){for(var f=Math.min(h+5552,c);h<f;)l+=a+=i[h++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",h=0;h<o;h++)l+="%"+r.bin.pad(i[s+h].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,h=0;h<a;h++){var c=o.charCodeAt(h);if((4294967168&c)==0)i[s+l]=c,l++;else if((4294965248&c)==0)i[s+l]=192|c>>6,i[s+l+1]=128|c>>0&63,l+=2;else if((4294901760&c)==0)i[s+l]=224|c>>12,i[s+l+1]=128|c>>6&63,i[s+l+2]=128|c>>0&63,l+=3;else{if((4292870144&c)!=0)throw"e";i[s+l]=240|c>>18,i[s+l+1]=128|c>>12&63,i[s+l+2]=128|c>>6&63,i[s+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if((4294967168&l)==0)o++;else if((4294965248&l)==0)o+=2;else if((4294901760&l)==0)o+=3;else{if((4292870144&l)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,p=0,m=o<<3,g=0,y=i.length;if(a==0){for(;p<y;)f(s,m,p+(A=Math.min(65535,y-p))==y?1:0),m=r.F._copyExact(i,p,A,s,m+8),p+=A;return m>>>3}var w=h.lits,b=h.strt,_=h.prev,E=0,S=0,k=0,N=0,O=0,C=0;for(y>2&&(b[C=r.F._hash(i,0)]=0),p=0;p<y;p++){if(O=C,p+1<y-2){C=r.F._hash(i,p+1);var I=p+1&32767;_[I]=b[C],b[C]=I}if(g<=p){(E>14e3||S>26697)&&y-p>100&&(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(p==y-1||g==y?1:0,w,E,N,i,k,p-k,s,m),E=S=N=0,k=p);var R=0;p<y-2&&(R=r.F._bestMatch(i,p,_,O,Math.min(l[2],y-p),l[3]));var A=R>>>16,D=65535&R;if(R!=0){D=65535&R;var M=c(A=R>>>16,h.of0);h.lhst[257+M]++;var F=c(D,h.df0);h.dhst[F]++,N+=h.exb[M]+h.dxb[F],w[E]=A<<23|p-g,w[E+1]=D<<16|M<<8|F,E+=2,g=p+A}else h.lhst[i[p]]++;S++}}for(k==p&&i.length!=0||(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(1,w,E,N,i,k,p-k,s,m),E=0,S=0,E=S=N=0,k=p);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,s,o,a,l,h){var c=32767&s,f=o[c],p=c-f+32768&32767;if(f==c||a!=r.F._hash(i,s-p))return 0;for(var m=0,g=0,y=Math.min(32767,s);p<=y&&--h!=0&&f!=c;){if(m==0||i[s+m]==i[s+m-p]){var w=r.F._howLong(i,s,p);if(w>m){if(g=p,(m=w)>=l)break;p+2<w&&(w=p+2);for(var b=0,_=0;_<w-2;_++){var E=s-p+_+32768&32767,S=E-o[E]+32768&32767;S>b&&(b=S,f=E)}}}p+=(c=f)-(f=o[c])+32768&32767}return m<<16|g},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,h,c,f,p){var m,g,y,w,b,_,E,S,k,N=r.F.U,O=r.F._putsF,C=r.F._putsE;N.lhst[256]++,g=(m=r.F.getTrees())[0],y=m[1],w=m[2],b=m[3],_=m[4],E=m[5],S=m[6],k=m[7];var I=32+((p+3&7)==0?0:8-(p+3&7))+(c<<3),R=a+r.F.contSize(N.fltree,N.lhst)+r.F.contSize(N.fdtree,N.dhst),A=a+r.F.contSize(N.ltree,N.lhst)+r.F.contSize(N.dtree,N.dhst);A+=14+3*E+r.F.contSize(N.itree,N.ihst)+(2*N.ihst[16]+3*N.ihst[17]+7*N.ihst[18]);for(var D=0;D<286;D++)N.lhst[D]=0;for(D=0;D<30;D++)N.dhst[D]=0;for(D=0;D<19;D++)N.ihst[D]=0;var M=I<R&&I<A?0:R<A?1:2;if(O(f,p,i),O(f,p+1,M),p+=3,M==0){for(;(7&p)!=0;)p++;p=r.F._copyExact(l,h,c,f,p)}else{var F,q;if(M==1&&(F=N.fltree,q=N.fdtree),M==2){r.F.makeCodes(N.ltree,g),r.F.revCodes(N.ltree,g),r.F.makeCodes(N.dtree,y),r.F.revCodes(N.dtree,y),r.F.makeCodes(N.itree,w),r.F.revCodes(N.itree,w),F=N.ltree,q=N.dtree,C(f,p,b-257),C(f,p+=5,_-1),C(f,p+=5,E-4),p+=4;for(var L=0;L<E;L++)C(f,p+3*L,N.itree[1+(N.ordr[L]<<1)]);p+=3*E,p=r.F._codeTiny(S,N.itree,f,p),p=r.F._codeTiny(k,N.itree,f,p)}for(var B=h,Y=0;Y<o;Y+=2){for(var H=s[Y],j=H>>>23,U=B+(8388607&H);B<U;)p=r.F._writeLit(l[B++],F,f,p);if(j!=0){var V=s[Y+1],z=V>>16,Q=V>>8&255,X=255&V;C(f,p=r.F._writeLit(257+Q,F,f,p),j-N.of0[Q]),p+=N.exb[Q],O(f,p=r.F._writeLit(X,q,f,p),z-N.df0[X]),p+=N.dxb[X],B+=j}}p=r.F._writeLit(256,F,f,p)}return p},r.F._copyExact=function(i,s,o,a,l){var h=l>>>3;return a[h]=o,a[h+1]=o>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(i.buffer,s,o),h),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),h=[],c=r.F._lenCodes(i.dtree,h),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<h.length;f+=2)i.ihst[h[f]]++;for(var p=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[s,o,p,l,c,m,a,h]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var h=i[l],c=i[l+1];a=r.F._writeLit(h,s,o,a);var f=h==16?2:h==17?3:7;h>15&&(r.F._putsE(o,a,c,f),a+=f)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],h=a+3<o?i[a+3]:-1,c=a+5<o?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&h==l&&c==l){for(var p=a+5;p+2<o&&i[p+2]==l;)p+=2;(m=Math.min(p+1-a>>>1,138))<11?s.push(17,m-3):s.push(18,m-11),a+=2*m-2}else if(l==f&&h==l&&c==l){for(p=a+5;p+2<o&&i[p+2]==l;)p+=2;var m=Math.min(p+1-a>>>1,6);s.push(16,m-3),a+=2*m-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,h=s.length,c=0;for(c=0;c<h;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&a.push({lit:c,f:i[c]});var f=a.length,p=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return p=m==0?1:0,s[1+(m<<1)]=1,s[1+(p<<1)]=1,1}a.sort(function(S,k){return S.f-k.f});var g=a[0],y=a[1],w=0,b=1,_=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};b!=f-1;)g=w!=b&&(_==f||a[w].f<a[_].f)?a[w++]:a[_++],y=w!=b&&(_==f||a[w].f<a[_].f)?a[w++]:a[_++],a[b++]={lit:-1,f:g.f+y.f,l:g,r:y};var E=r.F.setDepth(a[b-1],0);for(E>o&&(r.F.restrictDepth(p,o,E),E=o),c=0;c<f;c++)s[1+(p[c].lit<<1)]=p[c].d;return E},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,h=0;for(i.sort(function(f,p){return p.d==f.d?f.f-p.f:p.d-f.d}),a=0;a<i.length&&i[a].d>s;a++){var c=i[a].d;i[a].d=s,h+=l-(1<<o-c)}for(h>>>=o-s;h>0;)(c=i[a].d)<s?(i[a].d++,h-=1<<s-c-1):a++;for(;a>=0;a--)i[a].d==s&&h<0&&(i[a].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,p=a.codes2map,m=a._get17,g=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var w,b,_=0,E=0,S=0,k=0,N=0,O=0,C=0,I=0,R=0;_==0;)if(_=l(i,R,1),E=l(i,R+1,2),R+=3,E!=0){if(y&&(s=r.F._check(s,I+(1<<17))),E==1&&(w=g.flmap,b=g.fdmap,O=511,C=31),E==2){S=h(i,R,5)+257,k=h(i,R+5,5)+1,N=h(i,R+10,4)+4,R+=14;for(var A=0;A<38;A+=2)g.itree[A]=0,g.itree[A+1]=0;var D=1;for(A=0;A<N;A++){var M=h(i,R+3*A,3);g.itree[1+(g.ordr[A]<<1)]=M,M>D&&(D=M)}R+=3*N,f(g.itree,D),p(g.itree,D,g.imap),w=g.lmap,b=g.dmap,R=c(g.imap,(1<<D)-1,S+k,i,R,g.ttree);var F=a._copyOut(g.ttree,0,S,g.ltree);O=(1<<F)-1;var q=a._copyOut(g.ttree,S,k,g.dtree);C=(1<<q)-1,f(g.ltree,F),p(g.ltree,F,w),f(g.dtree,q),p(g.dtree,q,b)}for(;;){var L=w[m(i,R)&O];R+=15&L;var B=L>>>4;if(!(B>>>8))s[I++]=B;else{if(B==256)break;var Y=I+B-254;if(B>264){var H=g.ldef[B-257];Y=I+(H>>>3)+h(i,R,7&H),R+=7&H}var j=b[m(i,R)&C];R+=15&j;var U=j>>>4,V=g.ddef[U],z=(V>>>4)+l(i,R,15&V);for(R+=15&V,y&&(s=r.F._check(s,I+(1<<17)));I<Y;)s[I]=s[I++-z],s[I]=s[I++-z],s[I]=s[I++-z],s[I]=s[I++-z];I=Y}}}else{(7&R)!=0&&(R+=8-(7&R));var Q=4+(R>>>3),X=i[Q-4]|i[Q-3]<<8;y&&(s=r.F._check(s,I+X)),s.set(new o(i.buffer,i.byteOffset+Q,X),I),R=Q+X<<3,I+=X}return s.length==I?s:s.slice(0,I)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,h){for(var c=r.F._bitsE,f=r.F._get17,p=0;p<o;){var m=i[f(a,l)&s];l+=15&m;var g=m>>>4;if(g<=15)h[p]=g,p++;else{var y=0,w=0;g==16?(w=3+c(a,l,2),l+=2,y=h[p-1]):g==17?(w=3+c(a,l,3),l+=3):g==18&&(w=11+c(a,l,7),l+=7);for(var b=p+w;p<b;)h[p]=y,p++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,h=0,c=a.length>>>1;h<o;){var f=i[h+s];a[h<<1]=0,a[1+(h<<1)]=f,f>l&&(l=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,h,c=r.F.U,f=i.length,p=c.bl_count,m=0;m<=s;m++)p[m]=0;for(m=1;m<f;m+=2)p[i[m]]++;var g=c.next_code;for(o=0,p[0]=0,a=1;a<=s;a++)o=o+p[a-1]<<1,g[a]=o;for(l=0;l<f;l+=2)(h=i[l+1])!=0&&(i[l]=g[h],g[h]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,h=0;h<a;h+=2)if(i[h+1]!=0)for(var c=h>>1,f=i[h+1],p=c<<4|f,m=s-f,g=i[h]<<m,y=g+(1<<m);g!=y;)o[l[g]>>>15-s]=p,g++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var h=i[l]<<s-i[l+1];i[l]=o[h]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,h,c){for(;h--!=0;)l.push(0,c)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Bse=jse({__proto__:null,default:Rm},[Rm]);const Ui=function(){var t={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,p){c[f]=p>>8&255,c[f+1]=255&p},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,p){c[f]=p>>24&255,c[f+1]=p>>16&255,c[f+2]=p>>8&255,c[f+3]=255&p},readASCII(c,f,p){let m="";for(let g=0;g<p;g++)m+=String.fromCharCode(c[f+g]);return m},writeASCII(c,f,p){for(let m=0;m<p.length;m++)c[f+m]=p.charCodeAt(m)},readBytes(c,f,p){const m=[];for(let g=0;g<p;g++)m.push(c[f+g]);return m},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,p){let m,g="";for(let y=0;y<p;y++)g+=`%${t.pad(c[f+y].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(c,f,p)}return m}};function e(c,f,p,m){const g=f*p,y=s(m),w=Math.ceil(f*y/8),b=new Uint8Array(4*g),_=new Uint32Array(b.buffer),{ctype:E}=m,{depth:S}=m,k=t.readUshort;if(E==6){const H=g<<2;if(S==8)for(var N=0;N<H;N+=4)b[N]=c[N],b[N+1]=c[N+1],b[N+2]=c[N+2],b[N+3]=c[N+3];if(S==16)for(N=0;N<H;N++)b[N]=c[N<<1]}else if(E==2){const H=m.tabs.tRNS;if(H==null){if(S==8)for(N=0;N<g;N++){var O=3*N;_[N]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O]}if(S==16)for(N=0;N<g;N++)O=6*N,_[N]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O]}else{var C=H[0];const j=H[1],U=H[2];if(S==8)for(N=0;N<g;N++){var I=N<<2;O=3*N,_[N]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O],c[O]==C&&c[O+1]==j&&c[O+2]==U&&(b[I+3]=0)}if(S==16)for(N=0;N<g;N++)I=N<<2,O=6*N,_[N]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O],k(c,O)==C&&k(c,O+2)==j&&k(c,O+4)==U&&(b[I+3]=0)}}else if(E==3){const H=m.tabs.PLTE,j=m.tabs.tRNS,U=j?j.length:0;if(S==1)for(var R=0;R<p;R++){var A=R*w,D=R*f;for(N=0;N<f;N++){I=D+N<<2;var M=3*(F=c[A+(N>>3)]>>7-((7&N)<<0)&1);b[I]=H[M],b[I+1]=H[M+1],b[I+2]=H[M+2],b[I+3]=F<U?j[F]:255}}if(S==2)for(R=0;R<p;R++)for(A=R*w,D=R*f,N=0;N<f;N++)I=D+N<<2,M=3*(F=c[A+(N>>2)]>>6-((3&N)<<1)&3),b[I]=H[M],b[I+1]=H[M+1],b[I+2]=H[M+2],b[I+3]=F<U?j[F]:255;if(S==4)for(R=0;R<p;R++)for(A=R*w,D=R*f,N=0;N<f;N++)I=D+N<<2,M=3*(F=c[A+(N>>1)]>>4-((1&N)<<2)&15),b[I]=H[M],b[I+1]=H[M+1],b[I+2]=H[M+2],b[I+3]=F<U?j[F]:255;if(S==8)for(N=0;N<g;N++){var F;I=N<<2,M=3*(F=c[N]),b[I]=H[M],b[I+1]=H[M+1],b[I+2]=H[M+2],b[I+3]=F<U?j[F]:255}}else if(E==4){if(S==8)for(N=0;N<g;N++){I=N<<2;var q=c[L=N<<1];b[I]=q,b[I+1]=q,b[I+2]=q,b[I+3]=c[L+1]}if(S==16)for(N=0;N<g;N++){var L;I=N<<2,q=c[L=N<<2],b[I]=q,b[I+1]=q,b[I+2]=q,b[I+3]=c[L+2]}}else if(E==0)for(C=m.tabs.tRNS?m.tabs.tRNS:-1,R=0;R<p;R++){const H=R*w,j=R*f;if(S==1)for(var B=0;B<f;B++){var Y=(q=255*(c[H+(B>>>3)]>>>7-(7&B)&1))==255*C?0:255;_[j+B]=Y<<24|q<<16|q<<8|q}else if(S==2)for(B=0;B<f;B++)Y=(q=85*(c[H+(B>>>2)]>>>6-((3&B)<<1)&3))==85*C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q;else if(S==4)for(B=0;B<f;B++)Y=(q=17*(c[H+(B>>>1)]>>>4-((1&B)<<2)&15))==17*C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q;else if(S==8)for(B=0;B<f;B++)Y=(q=c[H+B])==C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q;else if(S==16)for(B=0;B<f;B++)q=c[H+(B<<1)],Y=k(c,H+(B<<1))==C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q}return b}function n(c,f,p,m){const g=s(c),y=Math.ceil(p*g/8),w=new Uint8Array((y+1+c.interlace)*m);return f=c.tabs.CgBI?i(f,w):r(f,w),c.interlace==0?f=o(f,c,0,p,m):c.interlace==1&&(f=function(_,E){const S=E.width,k=E.height,N=s(E),O=N>>3,C=Math.ceil(S*N/8),I=new Uint8Array(k*C);let R=0;const A=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const B=M[q],Y=F[q];let H=0,j=0,U=A[q];for(;U<k;)U+=B,j++;let V=D[q];for(;V<S;)V+=Y,H++;const z=Math.ceil(H*N/8);o(_,E,R,H,j);let Q=0,X=A[q];for(;X<k;){let W=D[q],J=R+Q*z<<3;for(;W<S;){var L;if(N==1&&(L=(L=_[J>>3])>>7-(7&J)&1,I[X*C+(W>>3)]|=L<<7-((7&W)<<0)),N==2&&(L=(L=_[J>>3])>>6-(7&J)&3,I[X*C+(W>>2)]|=L<<6-((3&W)<<1)),N==4&&(L=(L=_[J>>3])>>4-(7&J)&15,I[X*C+(W>>1)]|=L<<4-((1&W)<<2)),N>=8){const Z=X*C+W*O;for(let te=0;te<O;te++)I[Z+te]=_[(J>>3)+te]}J+=N,W+=Y}Q++,X+=B}H*j!=0&&(R+=j*(1+z)),q+=1}return I}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,p){const m=Uint8Array;let g,y,w=0,b=0,_=0,E=0,S=0,k=0,N=0,O=0,C=0;if(f[0]==3&&f[1]==0)return p||new m(0);const I=c.H,R=I.b,A=I.e,D=I.R,M=I.n,F=I.A,q=I.Z,L=I.m,B=p==null;for(B&&(p=new m(f.length>>>2<<5));w==0;)if(w=R(f,C,1),b=R(f,C+1,2),C+=3,b!=0){if(B&&(p=c.H.W(p,O+(1<<17))),b==1&&(g=L.J,y=L.h,k=511,N=31),b==2){_=A(f,C,5)+257,E=A(f,C+5,5)+1,S=A(f,C+10,4)+4,C+=14;let H=1;for(var Y=0;Y<38;Y+=2)L.Q[Y]=0,L.Q[Y+1]=0;for(Y=0;Y<S;Y++){const V=A(f,C+3*Y,3);L.Q[1+(L.X[Y]<<1)]=V,V>H&&(H=V)}C+=3*S,M(L.Q,H),F(L.Q,H,L.u),g=L.w,y=L.d,C=D(L.u,(1<<H)-1,_+E,f,C,L.v);const j=I.V(L.v,0,_,L.C);k=(1<<j)-1;const U=I.V(L.v,_,E,L.D);N=(1<<U)-1,M(L.C,j),F(L.C,j,g),M(L.D,U),F(L.D,U,y)}for(;;){const H=g[q(f,C)&k];C+=15&H;const j=H>>>4;if(!(j>>>8))p[O++]=j;else{if(j==256)break;{let U=O+j-254;if(j>264){const W=L.q[j-257];U=O+(W>>>3)+A(f,C,7&W),C+=7&W}const V=y[q(f,C)&N];C+=15&V;const z=V>>>4,Q=L.c[z],X=(Q>>>4)+R(f,C,15&Q);for(C+=15&Q;O<U;)p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X];O=U}}}}else{(7&C)!=0&&(C+=8-(7&C));const H=4+(C>>>3),j=f[H-4]|f[H-3]<<8;B&&(p=c.H.W(p,O+j)),p.set(new m(f.buffer,f.byteOffset+H,j),O),C=H+j<<3,O+=j}return p.length==O?p:p.slice(0,O)},c.H.W=function(f,p){const m=f.length;if(p<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},c.H.R=function(f,p,m,g,y,w){const b=c.H.e,_=c.H.Z;let E=0;for(;E<m;){const S=f[_(g,y)&p];y+=15&S;const k=S>>>4;if(k<=15)w[E]=k,E++;else{let N=0,O=0;k==16?(O=3+b(g,y,2),y+=2,N=w[E-1]):k==17?(O=3+b(g,y,3),y+=3):k==18&&(O=11+b(g,y,7),y+=7);const C=E+O;for(;E<C;)w[E]=N,E++}}return y},c.H.V=function(f,p,m,g){let y=0,w=0;const b=g.length>>>1;for(;w<m;){const _=f[w+p];g[w<<1]=0,g[1+(w<<1)]=_,_>y&&(y=_),w++}for(;w<b;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},c.H.n=function(f,p){const m=c.H.m,g=f.length;let y,w,b,_;const E=m.j;for(var S=0;S<=p;S++)E[S]=0;for(S=1;S<g;S+=2)E[f[S]]++;const k=m.K;for(y=0,E[0]=0,w=1;w<=p;w++)y=y+E[w-1]<<1,k[w]=y;for(b=0;b<g;b+=2)_=f[b+1],_!=0&&(f[b]=k[_],k[_]++)},c.H.A=function(f,p,m){const g=f.length,y=c.H.m.r;for(let w=0;w<g;w+=2)if(f[w+1]!=0){const b=w>>1,_=f[w+1],E=b<<4|_,S=p-_;let k=f[w]<<S;const N=k+(1<<S);for(;k!=N;)m[y[k]>>>15-p]=E,k++}},c.H.l=function(f,p){const m=c.H.m.r,g=15-p;for(let y=0;y<f.length;y+=2){const w=f[y]<<p-f[y+1];f[y]=m[w]>>>g}},c.H.M=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8},c.H.I=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},c.H.e=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8)>>>(7&p)&(1<<m)-1},c.H.b=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)&(1<<m)-1},c.H.Z=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)},c.H.i=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16|f[3+(p>>>3)]<<24)>>>(7&p)},c.H.m=function(){const f=Uint16Array,p=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[p]=(g>>>16|g<<16)>>>17}function m(g,y,w){for(;y--!=0;)g.push(0,w)}for(p=0;p<32;p++)f.q[p]=f.S[p]<<3|f.T[p],f.c[p]=f.p[p]<<4|f.z[p];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),m(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function o(c,f,p,m,g){let y=s(f);const w=Math.ceil(m*y/8);let b,_;y=Math.ceil(y/8);let E=c[p],S=0;if(E>1&&(c[p]=[0,0,1][E-2]),E==3)for(S=y;S<w;S++)c[S+1]=c[S+1]+(c[S+1-y]>>>1)&255;for(let k=0;k<g;k++)if(b=p+k*w,_=b+k+1,E=c[_-1],S=0,E==0)for(;S<w;S++)c[b+S]=c[_+S];else if(E==1){for(;S<y;S++)c[b+S]=c[_+S];for(;S<w;S++)c[b+S]=c[_+S]+c[b+S-y]}else if(E==2)for(;S<w;S++)c[b+S]=c[_+S]+c[b+S-w];else if(E==3){for(;S<y;S++)c[b+S]=c[_+S]+(c[b+S-w]>>>1);for(;S<w;S++)c[b+S]=c[_+S]+(c[b+S-w]+c[b+S-y]>>>1)}else{for(;S<y;S++)c[b+S]=c[_+S]+a(0,c[b+S-w],0);for(;S<w;S++)c[b+S]=c[_+S]+a(c[b+S-y],c[b+S-w],c[b+S-y-w])}return c}function a(c,f,p){const m=c+f-p,g=m-c,y=m-f,w=m-p;return g*g<=y*y&&g*g<=w*w?c:y*y<=w*w?f:p}function l(c,f,p){p.width=t.readUint(c,f),f+=4,p.height=t.readUint(c,f),f+=4,p.depth=c[f],f++,p.ctype=c[f],f++,p.compress=c[f],f++,p.filter=c[f],f++,p.interlace=c[f],f++}function h(c,f,p,m,g,y,w,b,_){const E=Math.min(f,g),S=Math.min(p,y);let k=0,N=0;for(let q=0;q<S;q++)for(let L=0;L<E;L++)if(w>=0&&b>=0?(k=q*f+L<<2,N=(b+q)*g+w+L<<2):(k=(-b+q)*f-w+L<<2,N=q*g+L<<2),_==0)m[N]=c[k],m[N+1]=c[k+1],m[N+2]=c[k+2],m[N+3]=c[k+3];else if(_==1){var O=c[k+3]*.00392156862745098,C=c[k]*O,I=c[k+1]*O,R=c[k+2]*O,A=m[N+3]*(1/255),D=m[N]*A,M=m[N+1]*A,F=m[N+2]*A;const B=1-O,Y=O+A*B,H=Y==0?0:1/Y;m[N+3]=255*Y,m[N+0]=(C+D*B)*H,m[N+1]=(I+M*B)*H,m[N+2]=(R+F*B)*H}else if(_==2)O=c[k+3],C=c[k],I=c[k+1],R=c[k+2],A=m[N+3],D=m[N],M=m[N+1],F=m[N+2],O==A&&C==D&&I==M&&R==F?(m[N]=0,m[N+1]=0,m[N+2]=0,m[N+3]=0):(m[N]=C,m[N+1]=I,m[N+2]=R,m[N+3]=O);else if(_==3){if(O=c[k+3],C=c[k],I=c[k+1],R=c[k+2],A=m[N+3],D=m[N],M=m[N+1],F=m[N+2],O==A&&C==D&&I==M&&R==F)continue;if(O<220&&A>20)return!1}return!0}return{decode:function(f){const p=new Uint8Array(f);let m=8;const g=t,y=g.readUshort,w=g.readUint,b={tabs:{},frames:[]},_=new Uint8Array(p.length);let E,S=0,k=0;const N=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(p[O]!=N[O])throw"The input is not a PNG file!";for(;m<p.length;){const q=g.readUint(p,m);m+=4;const L=g.readASCII(p,m,4);if(m+=4,L=="IHDR")l(p,m,b);else if(L=="iCCP"){for(var C=m;p[C]!=0;)C++;g.readASCII(p,m,C-m),p[C+1];const B=p.slice(C+2,m+q);let Y=null;try{Y=r(B)}catch{Y=i(B)}b.tabs[L]=Y}else if(L=="CgBI")b.tabs[L]=p.slice(m,m+4);else if(L=="IDAT"){for(O=0;O<q;O++)_[S+O]=p[m+O];S+=q}else if(L=="acTL")b.tabs[L]={num_frames:w(p,m),num_plays:w(p,m+4)},E=new Uint8Array(p.length);else if(L=="fcTL"){k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height),k=0);const B={x:w(p,m+12),y:w(p,m+16),width:w(p,m+4),height:w(p,m+8)};let Y=y(p,m+22);Y=y(p,m+20)/(Y==0?100:Y);const H={rect:B,delay:Math.round(1e3*Y),dispose:p[m+24],blend:p[m+25]};b.frames.push(H)}else if(L=="fdAT"){for(O=0;O<q-4;O++)E[k+O]=p[m+O+4];k+=q-4}else if(L=="pHYs")b.tabs[L]=[g.readUint(p,m),g.readUint(p,m+4),p[m+8]];else if(L=="cHRM")for(b.tabs[L]=[],O=0;O<8;O++)b.tabs[L].push(g.readUint(p,m+4*O));else if(L=="tEXt"||L=="zTXt"){b.tabs[L]==null&&(b.tabs[L]={});var I=g.nextZero(p,m),R=g.readASCII(p,m,I-m),A=m+q-I-1;if(L=="tEXt")M=g.readASCII(p,I+1,A);else{var D=r(p.slice(I+2,I+2+A));M=g.readUTF8(D,0,D.length)}b.tabs[L][R]=M}else if(L=="iTXt"){b.tabs[L]==null&&(b.tabs[L]={}),I=0,C=m,I=g.nextZero(p,C),R=g.readASCII(p,C,I-C);const B=p[C=I+1];var M;p[C+1],C+=2,I=g.nextZero(p,C),g.readASCII(p,C,I-C),C=I+1,I=g.nextZero(p,C),g.readUTF8(p,C,I-C),A=q-((C=I+1)-m),B==0?M=g.readUTF8(p,C,A):(D=r(p.slice(C,C+A)),M=g.readUTF8(D,0,D.length)),b.tabs[L][R]=M}else if(L=="PLTE")b.tabs[L]=g.readBytes(p,m,q);else if(L=="hIST"){const B=b.tabs.PLTE.length/3;for(b.tabs[L]=[],O=0;O<B;O++)b.tabs[L].push(y(p,m+2*O))}else if(L=="tRNS")b.ctype==3?b.tabs[L]=g.readBytes(p,m,q):b.ctype==0?b.tabs[L]=y(p,m):b.ctype==2&&(b.tabs[L]=[y(p,m),y(p,m+2),y(p,m+4)]);else if(L=="gAMA")b.tabs[L]=g.readUint(p,m)/1e5;else if(L=="sRGB")b.tabs[L]=p[m];else if(L=="bKGD")b.ctype==0||b.ctype==4?b.tabs[L]=[y(p,m)]:b.ctype==2||b.ctype==6?b.tabs[L]=[y(p,m),y(p,m+2),y(p,m+4)]:b.ctype==3&&(b.tabs[L]=p[m]);else if(L=="IEND")break;m+=q,g.readUint(p,m),m+=4}var F;return k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height)),b.data=n(b,_,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(f){const p=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,p,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=p*m*4,w=new Uint8Array(y),b=new Uint8Array(y),_=new Uint8Array(y);for(let S=0;S<f.frames.length;S++){const k=f.frames[S],N=k.rect.x,O=k.rect.y,C=k.rect.width,I=k.rect.height,R=e(k.data,C,I,f);if(S!=0)for(var E=0;E<y;E++)_[E]=w[E];if(k.blend==0?h(R,C,I,w,p,m,N,O,0):k.blend==1&&h(R,C,I,w,p,m,N,O,1),g.push(w.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)h(b,C,I,w,p,m,N,O,0);else if(k.dispose==2)for(E=0;E<y;E++)w[E]=_[E]}}return g},_paeth:a,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=Ui,{_bin:e}=Ui,n=Ui._paeth;var r={table:function(){const C=new Uint32Array(256);for(let I=0;I<256;I++){let R=I;for(let A=0;A<8;A++)1&R?R=3988292384^R>>>1:R>>>=1;C[I]=R}return C}(),update(C,I,R,A){for(let D=0;D<A;D++)C=r.table[255&(C^I[R+D])]^C>>>8;return C},crc:(C,I,R)=>4294967295^r.update(4294967295,C,I,R)};function i(C,I,R,A){I[R]+=C[0]*A>>4,I[R+1]+=C[1]*A>>4,I[R+2]+=C[2]*A>>4,I[R+3]+=C[3]*A>>4}function s(C){return Math.max(0,Math.min(255,C))}function o(C,I){const R=C[0]-I[0],A=C[1]-I[1],D=C[2]-I[2],M=C[3]-I[3];return R*R+A*A+D*D+M*M}function a(C,I,R,A,D,M,F){F==null&&(F=1);const q=A.length,L=[];for(var B=0;B<q;B++){const X=A[B];L.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(B=0;B<q;B++){let X=4294967295;for(var Y=0,H=0;H<q;H++){var j=o(L[B],L[H]);H!=B&&j<X&&(X=j,Y=H)}}const U=new Uint32Array(D.buffer),V=new Int16Array(I*R*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<z.length;B++)z[B]=255*((z[B]+.5)/16-.5);for(let X=0;X<R;X++)for(let W=0;W<I;W++){var Q;B=4*(X*I+W),F!=2?Q=[s(C[B]+V[B]),s(C[B+1]+V[B+1]),s(C[B+2]+V[B+2]),s(C[B+3]+V[B+3])]:(j=z[4*(3&X)+(3&W)],Q=[s(C[B]+j),s(C[B+1]+j),s(C[B+2]+j),s(C[B+3]+j)]),Y=0;let J=16777215;for(H=0;H<q;H++){const le=o(Q,L[H]);le<J&&(J=le,Y=H)}const Z=L[Y],te=[Q[0]-Z[0],Q[1]-Z[1],Q[2]-Z[2],Q[3]-Z[3]];F==1&&(W!=I-1&&i(te,V,B+4,7),X!=R-1&&(W!=0&&i(te,V,B+4*I-4,3),i(te,V,B+4*I,5),W!=I-1&&i(te,V,B+4*I+4,1))),M[B>>2]=Y,U[B>>2]=A[Y]}}function l(C,I,R,A,D){D==null&&(D={});const{crc:M}=r,F=e.writeUint,q=e.writeUshort,L=e.writeASCII;let B=8;const Y=C.frames.length>1;let H,j=!1,U=33+(Y?20:0);if(D.sRGB!=null&&(U+=13),D.pHYs!=null&&(U+=21),D.iCCP!=null&&(H=pako.deflate(D.iCCP),U+=21+H.length+4),C.ctype==3){for(var V=C.plte.length,z=0;z<V;z++)C.plte[z]>>>24!=255&&(j=!0);U+=8+3*V+4+(j?8+1*V+4:0)}for(var Q=0;Q<C.frames.length;Q++)Y&&(U+=38),U+=(Z=C.frames[Q]).cimg.length+12,Q!=0&&(U+=4);U+=12;const X=new Uint8Array(U),W=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)X[z]=W[z];if(F(X,B,13),B+=4,L(X,B,"IHDR"),B+=4,F(X,B,I),B+=4,F(X,B,R),B+=4,X[B]=C.depth,B++,X[B]=C.ctype,B++,X[B]=0,B++,X[B]=0,B++,X[B]=0,B++,F(X,B,M(X,B-17,17)),B+=4,D.sRGB!=null&&(F(X,B,1),B+=4,L(X,B,"sRGB"),B+=4,X[B]=D.sRGB,B++,F(X,B,M(X,B-5,5)),B+=4),D.iCCP!=null){const te=13+H.length;F(X,B,te),B+=4,L(X,B,"iCCP"),B+=4,L(X,B,"ICC profile"),B+=11,B+=2,X.set(H,B),B+=H.length,F(X,B,M(X,B-(te+4),te+4)),B+=4}if(D.pHYs!=null&&(F(X,B,9),B+=4,L(X,B,"pHYs"),B+=4,F(X,B,D.pHYs[0]),B+=4,F(X,B,D.pHYs[1]),B+=4,X[B]=D.pHYs[2],B++,F(X,B,M(X,B-13,13)),B+=4),Y&&(F(X,B,8),B+=4,L(X,B,"acTL"),B+=4,F(X,B,C.frames.length),B+=4,F(X,B,D.loop!=null?D.loop:0),B+=4,F(X,B,M(X,B-12,12)),B+=4),C.ctype==3){for(F(X,B,3*(V=C.plte.length)),B+=4,L(X,B,"PLTE"),B+=4,z=0;z<V;z++){const te=3*z,le=C.plte[z],pe=255&le,ge=le>>>8&255,Ce=le>>>16&255;X[B+te+0]=pe,X[B+te+1]=ge,X[B+te+2]=Ce}if(B+=3*V,F(X,B,M(X,B-3*V-4,3*V+4)),B+=4,j){for(F(X,B,V),B+=4,L(X,B,"tRNS"),B+=4,z=0;z<V;z++)X[B+z]=C.plte[z]>>>24&255;B+=V,F(X,B,M(X,B-V-4,V+4)),B+=4}}let J=0;for(Q=0;Q<C.frames.length;Q++){var Z=C.frames[Q];Y&&(F(X,B,26),B+=4,L(X,B,"fcTL"),B+=4,F(X,B,J++),B+=4,F(X,B,Z.rect.width),B+=4,F(X,B,Z.rect.height),B+=4,F(X,B,Z.rect.x),B+=4,F(X,B,Z.rect.y),B+=4,q(X,B,A[Q]),B+=2,q(X,B,1e3),B+=2,X[B]=Z.dispose,B++,X[B]=Z.blend,B++,F(X,B,M(X,B-30,30)),B+=4);const te=Z.cimg;F(X,B,(V=te.length)+(Q==0?0:4)),B+=4;const le=B;L(X,B,Q==0?"IDAT":"fdAT"),B+=4,Q!=0&&(F(X,B,J++),B+=4),X.set(te,B),B+=V,F(X,B,M(X,le,B-le)),B+=4}return F(X,B,0),B+=4,L(X,B,"IEND"),B+=4,F(X,B,M(X,B-4,4)),B+=4,X.buffer}function h(C,I,R){for(let A=0;A<C.frames.length;A++){const D=C.frames[A];D.rect.width;const M=D.rect.height,F=new Uint8Array(M*D.bpl+M);D.cimg=m(D.img,M,D.bpp,D.bpl,F,I,R)}}function c(C,I,R,A,D){const M=D[0],F=D[1],q=D[2],L=D[3],B=D[4],Y=D[5];let H=6,j=8,U=255;for(var V=0;V<C.length;V++){const nt=new Uint8Array(C[V]);for(var z=nt.length,Q=0;Q<z;Q+=4)U&=nt[Q+3]}const X=U!=255,W=function(Qe,ce,fe,we,xe,he){const Be=[];for(var Ie=0;Ie<Qe.length;Ie++){const dt=new Uint8Array(Qe[Ie]),zt=new Uint32Array(dt.buffer);var Ye;let Jn=0,qr=0,Rr=ce,oe=fe,ie=we?1:0;if(Ie!=0){const be=he||we||Ie==1||Be[Ie-2].dispose!=0?1:2;let ke=0,Te=1e9;for(let Oe=0;Oe<be;Oe++){var Yt=new Uint8Array(Qe[Ie-1-Oe]);const Ge=new Uint32Array(Qe[Ie-1-Oe]);let Ue=ce,He=fe,rt=-1,St=-1;for(let Ft=0;Ft<fe;Ft++)for(let cn=0;cn<ce;cn++)zt[st=Ft*ce+cn]!=Ge[st]&&(cn<Ue&&(Ue=cn),cn>rt&&(rt=cn),Ft<He&&(He=Ft),Ft>St&&(St=Ft));rt==-1&&(Ue=He=rt=St=0),xe&&((1&Ue)==1&&Ue--,(1&He)==1&&He--);const An=(rt-Ue+1)*(St-He+1);An<Te&&(Te=An,ke=Oe,Jn=Ue,qr=He,Rr=rt-Ue+1,oe=St-He+1)}Yt=new Uint8Array(Qe[Ie-1-ke]),ke==1&&(Be[Ie-1].dispose=2),Ye=new Uint8Array(Rr*oe*4),t(Yt,ce,fe,Ye,Rr,oe,-Jn,-qr,0),ie=t(dt,ce,fe,Ye,Rr,oe,-Jn,-qr,3)?1:0,ie==1?p(dt,ce,fe,Ye,{x:Jn,y:qr,width:Rr,height:oe}):t(dt,ce,fe,Ye,Rr,oe,-Jn,-qr,0)}else Ye=dt.slice(0);Be.push({rect:{x:Jn,y:qr,width:Rr,height:oe},img:Ye,blend:ie,dispose:0})}if(we)for(Ie=0;Ie<Be.length;Ie++){if((Vr=Be[Ie]).blend==1)continue;const dt=Vr.rect,zt=Be[Ie-1].rect,Jn=Math.min(dt.x,zt.x),qr=Math.min(dt.y,zt.y),Rr={x:Jn,y:qr,width:Math.max(dt.x+dt.width,zt.x+zt.width)-Jn,height:Math.max(dt.y+dt.height,zt.y+zt.height)-qr};Be[Ie-1].dispose=1,Ie-1!=0&&f(Qe,ce,fe,Be,Ie-1,Rr,xe),f(Qe,ce,fe,Be,Ie,Rr,xe)}let On=0;if(Qe.length!=1)for(var st=0;st<Be.length;st++){var Vr;On+=(Vr=Be[st]).rect.width*Vr.rect.height}return Be}(C,I,R,M,F,q),J={},Z=[],te=[];if(A!=0){const nt=[];for(Q=0;Q<W.length;Q++)nt.push(W[Q].img.buffer);const Qe=function(xe){let he=0;for(var Be=0;Be<xe.length;Be++)he+=xe[Be].byteLength;const Ie=new Uint8Array(he);let Ye=0;for(Be=0;Be<xe.length;Be++){const Yt=new Uint8Array(xe[Be]),On=Yt.length;for(let st=0;st<On;st+=4){let Vr=Yt[st],dt=Yt[st+1],zt=Yt[st+2];const Jn=Yt[st+3];Jn==0&&(Vr=dt=zt=0),Ie[Ye+st]=Vr,Ie[Ye+st+1]=dt,Ie[Ye+st+2]=zt,Ie[Ye+st+3]=Jn}Ye+=On}return Ie.buffer}(nt),ce=y(Qe,A);for(Q=0;Q<ce.plte.length;Q++)Z.push(ce.plte[Q].est.rgba);let fe=0;for(Q=0;Q<W.length;Q++){const we=(pe=W[Q]).img.length;var le=new Uint8Array(ce.inds.buffer,fe>>2,we>>2);te.push(le);const xe=new Uint8Array(ce.abuf,fe,we);Y&&a(pe.img,pe.rect.width,pe.rect.height,Z,xe,le),pe.img.set(xe),fe+=we}}else for(V=0;V<W.length;V++){var pe=W[V];const nt=new Uint32Array(pe.img.buffer);var ge=pe.rect.width;for(z=nt.length,le=new Uint8Array(z),te.push(le),Q=0;Q<z;Q++){const Qe=nt[Q];if(Q!=0&&Qe==nt[Q-1])le[Q]=le[Q-1];else if(Q>ge&&Qe==nt[Q-ge])le[Q]=le[Q-ge];else{let ce=J[Qe];if(ce==null&&(J[Qe]=ce=Z.length,Z.push(Qe),Z.length>=300))break;le[Q]=ce}}}const Ce=Z.length;for(Ce<=256&&B==0&&(j=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,j=Math.max(j,L)),V=0;V<W.length;V++){(pe=W[V]).rect.x,pe.rect.y,ge=pe.rect.width;const nt=pe.rect.height;let Qe=pe.img;new Uint32Array(Qe.buffer);let ce=4*ge,fe=4;if(Ce<=256&&B==0){ce=Math.ceil(j*ge/8);var $e=new Uint8Array(ce*nt);const we=te[V];for(let xe=0;xe<nt;xe++){Q=xe*ce;const he=xe*ge;if(j==8)for(var De=0;De<ge;De++)$e[Q+De]=we[he+De];else if(j==4)for(De=0;De<ge;De++)$e[Q+(De>>1)]|=we[he+De]<<4-4*(1&De);else if(j==2)for(De=0;De<ge;De++)$e[Q+(De>>2)]|=we[he+De]<<6-2*(3&De);else if(j==1)for(De=0;De<ge;De++)$e[Q+(De>>3)]|=we[he+De]<<7-1*(7&De)}Qe=$e,H=3,fe=1}else if(X==0&&W.length==1){$e=new Uint8Array(ge*nt*3);const we=ge*nt;for(Q=0;Q<we;Q++){const xe=3*Q,he=4*Q;$e[xe]=Qe[he],$e[xe+1]=Qe[he+1],$e[xe+2]=Qe[he+2]}Qe=$e,H=2,fe=3,ce=3*ge}pe.img=Qe,pe.bpl=ce,pe.bpp=fe}return{ctype:H,depth:j,plte:Z,frames:W}}function f(C,I,R,A,D,M,F){const q=Uint8Array,L=Uint32Array,B=new q(C[D-1]),Y=new L(C[D-1]),H=D+1<C.length?new q(C[D+1]):null,j=new q(C[D]),U=new L(j.buffer);let V=I,z=R,Q=-1,X=-1;for(let J=0;J<M.height;J++)for(let Z=0;Z<M.width;Z++){const te=M.x+Z,le=M.y+J,pe=le*I+te,ge=U[pe];ge==0||A[D-1].dispose==0&&Y[pe]==ge&&(H==null||H[4*pe+3]!=0)||(te<V&&(V=te),te>Q&&(Q=te),le<z&&(z=le),le>X&&(X=le))}Q==-1&&(V=z=Q=X=0),F&&((1&V)==1&&V--,(1&z)==1&&z--),M={x:V,y:z,width:Q-V+1,height:X-z+1};const W=A[D];W.rect=M,W.blend=1,W.img=new Uint8Array(M.width*M.height*4),A[D-1].dispose==0?(t(B,I,R,W.img,M.width,M.height,-M.x,-M.y,0),p(j,I,R,W.img,M)):t(j,I,R,W.img,M.width,M.height,-M.x,-M.y,0)}function p(C,I,R,A,D){t(C,I,R,A,D.width,D.height,-D.x,-D.y,2)}function m(C,I,R,A,D,M,F){const q=[];let L,B=[0,1,2,3,4];M!=-1?B=[M]:(I*A>5e5||R==1)&&(B=[0]),F&&(L={level:0});const Y=Bse;for(var H=0;H<B.length;H++){for(let V=0;V<I;V++)g(D,C,V,A,R,B[H]);q.push(Y.deflate(D,L))}let j,U=1e9;for(H=0;H<q.length;H++)q[H].length<U&&(j=H,U=q[H].length);return q[j]}function g(C,I,R,A,D,M){const F=R*A;let q=F+R;if(C[q]=M,q++,M==0)if(A<500)for(var L=0;L<A;L++)C[q+L]=I[F+L];else C.set(new Uint8Array(I.buffer,F,A),q);else if(M==1){for(L=0;L<D;L++)C[q+L]=I[F+L];for(L=D;L<A;L++)C[q+L]=I[F+L]-I[F+L-D]+256&255}else if(R==0){for(L=0;L<D;L++)C[q+L]=I[F+L];if(M==2)for(L=D;L<A;L++)C[q+L]=I[F+L];if(M==3)for(L=D;L<A;L++)C[q+L]=I[F+L]-(I[F+L-D]>>1)+256&255;if(M==4)for(L=D;L<A;L++)C[q+L]=I[F+L]-n(I[F+L-D],0,0)+256&255}else{if(M==2)for(L=0;L<A;L++)C[q+L]=I[F+L]+256-I[F+L-A]&255;if(M==3){for(L=0;L<D;L++)C[q+L]=I[F+L]+256-(I[F+L-A]>>1)&255;for(L=D;L<A;L++)C[q+L]=I[F+L]+256-(I[F+L-A]+I[F+L-D]>>1)&255}if(M==4){for(L=0;L<D;L++)C[q+L]=I[F+L]+256-n(0,I[F+L-A],0)&255;for(L=D;L<A;L++)C[q+L]=I[F+L]+256-n(I[F+L-D],I[F+L-A],I[F+L-D-A])&255}}}function y(C,I){const R=new Uint8Array(C),A=R.slice(0),D=new Uint32Array(A.buffer),M=w(A,I),F=M[0],q=M[1],L=R.length,B=new Uint8Array(L>>2);let Y;if(R.length<2e7)for(var H=0;H<L;H+=4)Y=b(F,j=R[H]*(1/255),U=R[H+1]*(1/255),V=R[H+2]*(1/255),z=R[H+3]*(1/255)),B[H>>2]=Y.ind,D[H>>2]=Y.est.rgba;else for(H=0;H<L;H+=4){var j=R[H]*.00392156862745098,U=R[H+1]*(1/255),V=R[H+2]*(1/255),z=R[H+3]*(1/255);for(Y=F;Y.left;)Y=_(Y.est,j,U,V,z)<=0?Y.left:Y.right;B[H>>2]=Y.ind,D[H>>2]=Y.est.rgba}return{abuf:A.buffer,inds:B,plte:q}}function w(C,I,R){R==null&&(R=1e-4);const A=new Uint32Array(C.buffer),D={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=k(C,D.i0,D.i1),D.est=N(D.bst);const M=[D];for(;M.length<I;){let q=0,L=0;for(var F=0;F<M.length;F++)M[F].est.L>q&&(q=M[F].est.L,L=F);if(q<R)break;const B=M[L],Y=E(C,A,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=Y||B.i1<=Y){B.est.L=0;continue}const H={i0:B.i0,i1:Y,bst:null,est:null,tdst:0,left:null,right:null};H.bst=k(C,H.i0,H.i1),H.est=N(H.bst);const j={i0:Y,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:B.bst.N-H.bst.N},F=0;F<16;F++)j.bst.R[F]=B.bst.R[F]-H.bst.R[F];for(F=0;F<4;F++)j.bst.m[F]=B.bst.m[F]-H.bst.m[F];j.est=N(j.bst),B.left=H,B.right=j,M[L]=H,M.push(j)}for(M.sort((q,L)=>L.bst.N-q.bst.N),F=0;F<M.length;F++)M[F].ind=F;return[D,M]}function b(C,I,R,A,D){if(C.left==null)return C.tdst=function(H,j,U,V,z){const Q=j-H[0],X=U-H[1],W=V-H[2],J=z-H[3];return Q*Q+X*X+W*W+J*J}(C.est.q,I,R,A,D),C;const M=_(C.est,I,R,A,D);let F=C.left,q=C.right;M>0&&(F=C.right,q=C.left);const L=b(F,I,R,A,D);if(L.tdst<=M*M)return L;const B=b(q,I,R,A,D);return B.tdst<L.tdst?B:L}function _(C,I,R,A,D){const{e:M}=C;return M[0]*I+M[1]*R+M[2]*A+M[3]*D-C.eMq}function E(C,I,R,A,D,M){for(A-=4;R<A;){for(;S(C,R,D)<=M;)R+=4;for(;S(C,A,D)>M;)A-=4;if(R>=A)break;const F=I[R>>2];I[R>>2]=I[A>>2],I[A>>2]=F,R+=4,A-=4}for(;S(C,R,D)>M;)R-=4;return R+4}function S(C,I,R){return C[I]*R[0]+C[I+1]*R[1]+C[I+2]*R[2]+C[I+3]*R[3]}function k(C,I,R){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],M=R-I>>2;for(let F=I;F<R;F+=4){const q=C[F]*.00392156862745098,L=C[F+1]*(1/255),B=C[F+2]*(1/255),Y=C[F+3]*(1/255);D[0]+=q,D[1]+=L,D[2]+=B,D[3]+=Y,A[0]+=q*q,A[1]+=q*L,A[2]+=q*B,A[3]+=q*Y,A[5]+=L*L,A[6]+=L*B,A[7]+=L*Y,A[10]+=B*B,A[11]+=B*Y,A[15]+=Y*Y}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:D,N:M}}function N(C){const{R:I}=C,{m:R}=C,{N:A}=C,D=R[0],M=R[1],F=R[2],q=R[3],L=A==0?0:1/A,B=[I[0]-D*D*L,I[1]-D*M*L,I[2]-D*F*L,I[3]-D*q*L,I[4]-M*D*L,I[5]-M*M*L,I[6]-M*F*L,I[7]-M*q*L,I[8]-F*D*L,I[9]-F*M*L,I[10]-F*F*L,I[11]-F*q*L,I[12]-q*D*L,I[13]-q*M*L,I[14]-q*F*L,I[15]-q*q*L],Y=B,H=O;let j=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,V=0;if(A!=0)for(let Q=0;Q<16&&(j=H.multVec(Y,j),V=Math.sqrt(H.dot(j,j)),j=H.sml(1/V,j),!(Q!=0&&Math.abs(V-U)<1e-9));Q++)U=V;const z=[D*L,M*L,F*L,q*L];return{Cov:B,q:z,e:j,L:U,eMq255:H.dot(H.sml(255,z),j),eMq:H.dot(j,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(C,I)=>[C[0]*I[0]+C[1]*I[1]+C[2]*I[2]+C[3]*I[3],C[4]*I[0]+C[5]*I[1]+C[6]*I[2]+C[7]*I[3],C[8]*I[0]+C[9]*I[1]+C[10]*I[2]+C[11]*I[3],C[12]*I[0]+C[13]*I[1]+C[14]*I[2]+C[15]*I[3]],dot:(C,I)=>C[0]*I[0]+C[1]*I[1]+C[2]*I[2]+C[3]*I[3],sml:(C,I)=>[C*I[0],C*I[1],C*I[2],C*I[3]]};Ui.encode=function(I,R,A,D,M,F,q){D==null&&(D=0),q==null&&(q=!1);const L=c(I,R,A,D,[!1,!1,!1,0,q,!1]);return h(L,-1),l(L,R,A,M,F)},Ui.encodeLL=function(I,R,A,D,M,F,q,L){const B={ctype:0+(D==1?0:2)+(M==0?0:4),depth:F,frames:[]},Y=(D+M)*F,H=Y*R;for(let j=0;j<I.length;j++)B.frames.push({rect:{x:0,y:0,width:R,height:A},img:new Uint8Array(I[j]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(H/8)});return h(B,0,!0),l(B,R,A,q,L)},Ui.encode.compress=c,Ui.encode.dither=a,Ui.quantize=y,Ui.quantize.getKDtree=w,Ui.quantize.getNearest=b})();const Z3={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,h=122+l,c=new ArrayBuffer(h),f=new DataView(c),p=1<<20;let m,g,y,w,b=p,_=0,E=0,S=0;function k(C){f.setUint16(E,C,!0),E+=2}function N(C){f.setUint32(E,C,!0),E+=4}function O(C){E+=C}k(19778),N(h),O(4),N(122),N(108),N(n),N(-r>>>0),k(1),k(32),N(3),N(l),N(2835),N(2835),O(8),N(16711680),N(65280),N(255),N(4278190080),N(1466527264),function C(){for(;_<r&&b>0;){for(w=122+_*a,m=0;m<i;)b--,g=o[S++],y=g>>>24,f.setUint32(w+m,g<<8|y),m+=4;_++}S<o.length?(b=p,setTimeout(C,Z3._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Xr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Use={[Xr.CHROME]:16384,[Xr.FIREFOX]:11180,[Xr.DESKTOP_SAFARI]:16384,[Xr.IE]:8192,[Xr.IOS]:4096,[Xr.ETC]:8192};const qE=typeof window<"u",e5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Pm=qE&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Vse=(qE||e5)&&(Pm&&Pm.getOriginalSymbol(window,"File")||typeof File<"u"&&File),t5=(qE||e5)&&(Pm&&Pm.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function HE(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const h=new Blob([l],{type:s});h.name=e,h.lastModified=n,r(h)})}function n5(t){return new Promise((e,n)=>{const r=new t5;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function r5(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ba(){if(Ba.cachedResult!==void 0)return Ba.cachedResult;let t=Xr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Xr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Xr.IOS:/Safari/i.test(e)?t=Xr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Xr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Xr.IE),Ba.cachedResult=t,Ba.cachedResult}function i5(t,e){const n=Ba(),r=Use[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,h=(r+s)/2;l<h?(s=h,i=h*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function kv(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function s5(t,e){const{width:n,height:r}=i5(t.width,t.height),[i,s]=kv(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Fp(){return Fp.cachedResult!==void 0||(Fp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Fp.cachedResult}function Mm(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=s5(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var h=function(c){try{throw c}catch(f){return r(f)}};try{let c;return n5(t).then(function(f){try{return c=f,r5(c).then(function(p){try{return i=p,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return h(m)}},h)}catch(p){return h(p)}},h)}catch(c){h(c)}}catch(c){return r(c)}};try{if(Fp()||[Xr.DESKTOP_SAFARI,Xr.MOBILE_SAFARI].includes(Ba()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Lm(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,p,m;return f=t.getContext("2d"),{data:p}=f.getImageData(0,0,t.width,t.height),m=Ui.encode([p.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var h=f;if(e==="image/bmp")return new Promise(p=>Z3.toBlob(t,p)).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p=function(){return f.call(this)};var c=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,p.call(this)}catch(g){return o(g)}}).bind(this),o);{let m;return m=t.toDataURL(e,i),HE(m,n,r).then((function(g){try{return a=g,p.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function os(t){t.width=0,t.height=0}function ou(){return new Promise(function(t,e){let n,r,i,s;return ou.cachedResult!==void 0?t(ou.cachedResult):HE("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Mm(n).then(function(a){try{return r=a[1],Lm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,os(r),Mm(i).then(function(h){try{return s=h[0],ou.cachedResult=s.width===1&&s.height===2,t(ou.cachedResult)}catch(c){return e(c)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function o5(t){return new Promise((e,n)=>{const r=new t5;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const h=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,h);const c=s.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(s.getUint16(a+12*f,h)==274)return e(s.getUint16(a+12*f+8,h))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function a5(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=kv(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),os(t)),o}function l5(t,e){const{width:n}=t,{height:r}=t,[i,s]=kv(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),os(t),i}function cI(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,h,c,f,p,m,g,y,w,b,_,E,S,k,N,O,C;function I(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function R(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,I(),Mm(t,e).then((function(A){try{return[,l]=A,I(),h=a5(l,e),I(),new Promise(function(D,M){var F;if(!(F=e.exifOrientation))return o5(t).then((function(L){try{return F=L,q.call(this)}catch(B){return M(B)}}).bind(this),M);function q(){return D(F)}return q.call(this)}).then((function(D){try{return c=D,I(),ou().then((function(M){try{return f=M?h:l5(h,c),I(),p=e.initialQuality||1,m=e.fileType||t.type,Lm(f,m,t.name,t.lastModified,p).then((function(F){try{{let Y=function(){if(o--&&(E>a||E>b)){let j,U;return j=C?.95*O.width:O.width,U=C?.95*O.height:O.height,[k,N]=kv(j,U),N.drawImage(O,0,0,j,U),p*=m==="image/png"?.85:.95,Lm(k,m,t.name,t.lastModified,p).then(function(V){try{return S=V,os(O),O=k,E=S.size,R(Math.min(99,Math.floor((_-E)/(_-a)*100))),Y}catch(z){return i(z)}},i)}return[1]},H=function(){return os(O),os(k),os(h),os(f),os(l),R(100),r(S)};var L=Y,B=H;if(g=F,I(),y=g.size>a,w=g.size>t.size,!y&&!w)return R(100),r(g);var q;return b=t.size,_=g.size,E=_,O=f,C=!e.alwaysKeepResolution&&y,(q=(function(j){for(;j;){if(j.then)return void j.then(q,i);try{if(j.pop){if(j.length)return j.pop()?H.call(this):j;j=Y}else j=j.call(this)}catch(U){return i(U)}}}).bind(this))(Y)}}catch(Y){return i(Y)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)})}const qse=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ob;function Hse(t,e){return new Promise((n,r)=>{Ob||(Ob=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(qse));const i=new Worker(Ob);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function nr(t,e){return new Promise(function(n,r){let i,s,o,a,l,h;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof Vse))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||h)return cI(t,i).then((function(m){try{return s=m,p.call(this)}catch(g){return r(g)}}).bind(this),r);var c=(function(){try{return p.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return cI(t,i).then(function(g){try{return s=g,c()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Hse(t,i).then(function(m){try{return s=m,c()}catch{return f()}},f)}catch{f()}function p(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=J3(t,s))}catch{}return n(s)}})}nr.getDataUrlFromFile=n5,nr.getFilefromDataUrl=HE,nr.loadImage=r5,nr.drawImageInCanvas=s5,nr.drawFileInCanvas=Mm,nr.canvasToFile=Lm,nr.getExifOrientation=o5,nr.handleMaxWidthOrHeight=a5,nr.followExifOrientation=l5,nr.cleanupCanvasMemory=os,nr.isAutoOrientationInBrowser=ou,nr.approximateBelowMaximumCanvasSizeOfBrowser=i5,nr.copyExifWithoutOrientation=J3,nr.getBrowserName=Ba,nr.version="2.0.2";function zse({onImageChange:t,className:e=""}){const n=K.useRef(null);return x.jsxs(x.Fragment,{children:[x.jsx("button",{type:"button",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},className:`absolute bottom-2 right-3 flex size-11 cursor-pointer items-center justify-center rounded-full border-0 bg-purple2 max-sm:size-8 ${e}`,children:x.jsx(Xre,{fontSize:13,className:"size-4 text-white"})}),x.jsx("input",{type:"file",style:{display:"none"},accept:"image/jpg,image/png,image/jpeg",name:"profile_img",onChange:t,ref:n})]})}const u5=({isEditing:t,setNewUserImgUrl:e,imgUrl:n})=>{const[r,i]=K.useState(!0),[s,o]=K.useState(""),a=Pe(OE),l=async h=>{const{currentTarget:{files:c}}=h;if(!c||!c[0])return;const f=c[0],p=new FileReader,m={maxSizeMB:.1,useWebWorker:!0,maxWidthOrHeight:100,initialQuality:.8},g={maxSizeMB:1,useWebWorker:!0,maxWidthOrHeight:600,initialQuality:1},y=await nr(f,m),w=await nr(f,g);p.onload=b=>{const{target:{result:_}}=b;o(_)},e({compressed:y,original:f.size>1e5?w:f}),p.readAsDataURL(f),i(!1)};return x.jsxs("div",{className:"relative m-3 mx-auto flex w-fit items-center justify-center",children:[x.jsx("img",{src:r?n||a:s,alt:" ",onContextMenu:h=>h.preventDefault(),className:"size-52 min-h-52 min-w-52 rounded-full bg-white object-cover shadow-card max-sm:size-40"}),t&&x.jsx(zse,{onImageChange:l})]})},Wse=()=>{var y;const[t,e]=an(D3),{state:n}=Nr(),{absenteeList:r}=Pe(N3(gn)),{uid:i}=Pe(Pt),s=Pe(Ds),o=s==null?void 0:s.find(w=>w.id===((n==null?void 0:n.userId)||i)),{id:a,favoriteBookField:l,userRecords:h,displayName:c,photoURL:f}=o||{},p=i===a,m=p?"":c,g=r==null?void 0:r.includes(n==null?void 0:n.userId);return K.useEffect(()=>{(t==null?void 0:t.creatorId)!==a&&a&&Ar(ll,`2024-${a}`,e)},[a]),x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${m} `,backBtn:!p,backTo:"/bookshelf",children:p&&x.jsx(br,{to:"/setting",children:x.jsx(eie,{fontSize:18})})}),o&&x.jsxs("main",{children:[x.jsxs(Ot,{children:[x.jsx(u5,{isEditing:!1,imgUrl:(f==null?void 0:f.original)||f}),x.jsx("span",{className:"mx-auto text-lg font-medium",children:c}),x.jsx("div",{className:"mt-3 flex flex-col items-center gap-1",children:g?x.jsx(Fn,{text:"  ",color:"red",shape:"square"}):x.jsx(Fn,{text:"  ",color:"lightGreen",shape:"square"})})]}),x.jsx(Ot,{title:`${m}   `,children:x.jsx("ul",{className:"flex min-h-14 flex-wrap gap-2",children:l&&(l==null?void 0:l.length)!==0?l.map(({id:w,name:b})=>x.jsx(Fn,{text:b,color:"lightBlue",shape:"rounded"},w)):x.jsx(rc,{size:100,className:"h-[30vh] w-full"})})}),(t==null?void 0:t.books)&&x.jsx(Ot,{title:`${m} 2024  `,children:x.jsx("ul",{className:"grid grid-cols-2 gap-4 max-sm:flex max-sm:flex-col",children:(y=t==null?void 0:t.books)==null?void 0:y.map(w=>x.jsx(Ise,{challengeBook:w,creatorId:t.creatorId,docId:`2024-${t.creatorId}`},w.title))})}),[""," "," "].map(w=>x.jsxs(Ot,{title:`${m} ${w}`,children:[x.jsx(Ss,{text:"2022 6   ."}),x.jsx(Ose,{userRecords:h,postType:w})]},w))]})]})};function Yse({bookWithRank:t}){const{counts:e,readers:n,title:r,thumbnail:i,authors:s,publisher:o,impressionList:a}=t;return x.jsxs(ur,{title:"  ",children:[x.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[x.jsx(un,{title:r,thumbnail:i,className:"float-left w-14"}),x.jsxs("div",{children:[x.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full font-medium",children:r}),x.jsx(Is,{authors:s,publisher:o}),x.jsxs("div",{className:"mt-2 flex gap-1",children:[x.jsx(Fn,{text:` ${e} `,color:"yellow",shape:"rounded",className:"!px-3 !py-1 text-sm"}),x.jsx(Fn,{text:`${n} `,color:"lightBlue",shape:"rounded",className:"!px-3 !py-1 text-sm"})]})]})]}),x.jsx("h3",{className:"font-bold text-blue1",children:"  "}),x.jsx("ul",{className:"mt-2 flex flex-col gap-y-4 overflow-scroll scrollbar-hide",children:a==null?void 0:a.map(({text:l,creatorId:h,createdAt:c})=>x.jsxs("li",{className:"gap-2 border-l-4 border-gray3 pl-3",children:[x.jsxs("div",{className:"mb-2 flex justify-between",children:[x.jsx(cr,{userId:h}),x.jsx("span",{className:"text-[15px] text-gray1",children:new Date(c).toLocaleDateString()})]}),x.jsx("p",{children:l})]},l))})]})}function Gse({bookWithRank:t}){const{title:e,thumbnail:n}=t,{showModal:r}=bt(),i=()=>{r({element:x.jsx(Yse,{bookWithRank:t})})};return x.jsx("li",{className:"flex items-center justify-center",children:x.jsx("button",{type:"button",onClick:i,className:"relative",children:x.jsx(un,{title:e,thumbnail:n,className:"w-full"})})})}function Kse({coll:t,onChallengeBookClick:e}){const[n,r]=K.useState([]);return K.useEffect(()=>{n.length===0&&jn(t,r)},[]),x.jsx(x.Fragment,{children:n.map(({recommendedBook:i,text:s,creatorId:o})=>x.jsx("li",{children:x.jsx("button",{type:"button",className:"w-full",onClick:()=>e(i,s,o),children:x.jsx(un,{title:i.title,thumbnail:i.thumbnail})})},i.title))})}function Qse({selectedBook:t,readers:e,counts:n,reason:r,recommendedUser:i,yearMonthId:s}){const o=K.useRef(),{uid:a,displayName:l}=Pe(Pt),[h,c]=K.useState(null),{anonymous:f}=ni("register");K.useEffect(()=>{Ar(ll,`${Tt}-${a}`,c)},[a]);const{hideModal:p}=bt(),{sendPushNotificationToAllUser:m}=Ji(),g=async E=>{E.preventDefault();try{if(o.current.value==="")return window.alert("  .");const S=h==null?void 0:h.creatorId,k=h[y],N=ln(Jt,ll,`${Tt}-${a}`),O={text:o.current.value,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:a},C={[y]:{yearMonthId:"",book:{title:y,thumbnail:w,authors:b,publisher:_},counts:1,impressionList:[{id:1,...O}]}};S?await wn(N,k?{[y]:{...k,counts:k.counts+1,impressionList:[...k.impressionList,{id:k.impressionList.length+1,...O}]}}:C):await Ns(N,{creatorId:a,...C}),alert("  .  !"),m({title:`${l}  !`,body:`${l} ${y}  .    !`,subPath:"/challenge"})}catch{window.alert("    .  .")}finally{p()}},{title:y,thumbnail:w,authors:b,publisher:_}=t;return x.jsx(ur,{title:" ",children:x.jsxs("div",{className:"overflow-scroll scrollbar-hide",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx(un,{title:y,thumbnail:w,className:"float-left mb-3 mr-3 w-16"}),x.jsxs("div",{children:[s&&x.jsx(Fn,{color:"purple",shape:"rounded",className:"!py-2",text:`${ht(s,"yyyy M")} `}),x.jsx("h2",{className:"mb-0.5 mt-1.5 w-full font-medium",children:y}),x.jsx(Is,{authors:b,publisher:_}),i&&x.jsxs("div",{className:"mt-2 flex items-center",children:[x.jsx(cr,{userId:i,isLink:!1}),x.jsx("span",{className:"text-[15px]",children:" "})]}),r&&x.jsx("p",{className:"mt-2 border-l-4 border-gray3 pl-2 text-[15px]",children:r})]})]}),x.jsxs("div",{className:"mt-4 flex w-full flex-wrap gap-2",children:[x.jsx(Fn,{text:` ${e}  `,color:"lightBlue",className:"!py-1.5"}),x.jsx(Fn,{text:`  ${n} `,color:"yellow",className:"!py-1.5"})]}),x.jsxs("form",{onSubmit:g,className:"mt-5 flex flex-col gap-3",children:[x.jsx("textarea",{ref:o,placeholder:"    .",className:"min-h-32 resize-none rounded-xl border p-3 outline-none"}),x.jsx(at,{name:"",color:"blue",type:"submit",className:"self-end",disabled:f}),f&&x.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})]})})}function Xse(t){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96 42.98 96 96 96 96-42.98 96-96zM233.59 241.1c-59.33-36.32-155.43-46.3-203.79-49.05C13.55 191.13 0 203.51 0 219.14v222.8c0 14.33 11.59 26.28 26.49 27.05 43.66 2.29 131.99 10.68 193.04 41.43 9.37 4.72 20.48-1.71 20.48-11.87V252.56c-.01-4.67-2.32-8.95-6.42-11.46zm248.61-49.05c-48.35 2.74-144.46 12.73-203.78 49.05-4.1 2.51-6.41 6.96-6.41 11.63v245.79c0 10.19 11.14 16.63 20.54 11.9 61.04-30.72 149.32-39.11 192.97-41.4 14.9-.78 26.49-12.73 26.49-27.06V219.14c-.01-15.63-13.56-28.01-29.81-27.09z"},child:[]}]})(t)}function Jse(t){return it({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function Zse(t){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function eoe(t){return it({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function toe(t){return it({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function noe(t){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function zE(t){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function roe(t){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function ioe(t){return it({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Rf({title:t,children:e,headerChildren:n,iconClassName:r,className:i=""}){const[s,o]=K.useState(!1),a=()=>o(l=>!l);return x.jsxs("li",{className:`h-fit list-none rounded-xl bg-white shadow-card ${i}`,children:[x.jsxs("div",{className:"flex w-full items-center pl-4",children:[n||x.jsx("h1",{className:"py-2",children:t}),x.jsx("button",{type:"button",onClick:a,className:"ml-auto px-4 py-5",children:s?x.jsx(toe,{className:`size-3.5 text-blue3 ${r}`}):x.jsx(eoe,{className:`size-3.5 text-blue3 ${r}`})})]}),x.jsx("div",{className:`flex overflow-hidden px-4 transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${s?"max-h-[5000px]":"max-h-0"}`,children:e})]})}function c5({userRank:t}){const{creatorId:e,rank:n,rereadingBookList:r,totalRereadingCounts:i}=t;return x.jsx(Rf,{className:"!h-[54px]",headerChildren:x.jsxs("div",{className:"flex w-full items-center gap-x-2",children:[n===1&&x.jsx(zE,{className:"mr-2 size-5 text-yellow-600"}),i!==0&&x.jsxs("span",{className:"font-RomanticGumi text-lg font-bold text-blue2",children:[n,x.jsx("span",{className:"text-sm font-bold text-gray1",children:""})]}),x.jsx(cr,{userId:e,className:"ml-2 font-medium"}),x.jsx(Fn,{className:"ml-auto !px-3 !py-1.5 font-GiantsInline !text-sm font-medium",text:`${r.length}`,color:"yellow"})]}),children:x.jsxs("div",{className:"-mt-2 mb-3 flex items-start gap-x-4 pt-1",children:[x.jsx("ul",{className:"w-[85px] pt-1.5",children:[{key:"  ",value:`${i}`},{key:" ",value:`${r.length}`}].map(({key:s,value:o})=>x.jsxs("li",{className:"flex items-center justify-between pb-1",children:[x.jsx("span",{className:"min-w-14 text-sm text-purple2",children:s}),x.jsx("span",{className:"min-w-fit text-sm font-semibold",children:o})]},s))}),r.length!==0&&x.jsx("div",{className:"-mx-2 flex flex-1 gap-x-2.5 overflow-scroll rounded-lg px-2.5 py-2 scrollbar-hide",children:r.map(s=>x.jsx("button",{type:"button",onClick:()=>{},children:x.jsx(un,{thumbnail:s.thumbnail,title:s.title,className:"w-12 min-w-12"})},s.title))})]})})}function d5({selectedYear:t,handleChangeYear:e,buttonClassName:n=""}){return x.jsx("ul",{className:"flex flex-wrap gap-2",children:qne.map(r=>x.jsx("li",{children:x.jsx(at,{color:r===t?"blue":"gray",name:`${r}`,type:"button",handleClick:()=>e(r),className:n})},r))})}function soe(){const[t,e]=K.useState(!1),{showModal:n}=bt(),{bookWithRankList:r,userRankList:i}=I3(),{selectedYear:s,setSelectedYear:o,clubBookListByYear:a}=Df(),l=K.useMemo(()=>(s===Tt?zO.filter(f=>+f<=+Ti):zO).map(f=>xr(`${s}-${f}`,g3)),[s]),h=(c,f,p)=>{const m=r.find(({title:g})=>g===c.title);n({element:x.jsx(Qse,{selectedBook:m||c,readers:(m==null?void 0:m.readers)||0,counts:(m==null?void 0:m.counts)||0,reason:f,recommendedUser:p,yearMonthId:c.yearMonthId})})};return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${Tt}  `,backBtn:!0,backTo:"/"}),x.jsxs("main",{children:[x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-y-3 rounded-xl bg-white p-4 shadow-card",children:[x.jsx("h4",{className:"font-GiantsInline font-semibold leading-6 text-blue2",children:"2025: Challenge"}),x.jsx("span",{className:"font-RomanticGumi font-bold text-blue1",children:"   "})]}),x.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-white p-4 shadow-card",children:[x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/dday.png",alt:"dday",className:"aspect-auto h-7 w-fit"}),x.jsxs("div",{className:"mt-1 flex flex-col items-center",children:[x.jsxs("span",{className:"font-RomanticGumi text-[28px] text-blue2",children:[+Pu(`${Tt}-12-21`)>0?"+":"",Pu(`${Tt}-12-21`)]}),x.jsx("span",{className:"font-RomanticGumi text-sm tracking-tighter text-gray2",children:ht(`${Tt}-12-21`,"yy.M.d")})]})]})]}),r&&(r==null?void 0:r.length)>0&&x.jsx(Ot,{className:"!mb-10 !mt-16 flex",title:"      ?",children:x.jsx("ul",{className:"grid grid-cols-4 gap-4",children:r.map(c=>x.jsx(Gse,{bookWithRank:c},c.title))})}),x.jsx(Ot,{className:"!mt-10",title:"   ",children:(i==null?void 0:i.length)!==0&&x.jsxs(x.Fragment,{children:[x.jsx("ul",{className:"flex flex-col gap-y-3",children:i==null?void 0:i.slice(0,t?void 0:4).map(c=>x.jsx(c5,{userRank:c},c.creatorId))}),x.jsx("button",{type:"button",className:"mt-7 flex items-center self-center rounded-full bg-gray4 px-6 py-2 text-sm text-blue3",onClick:()=>e(c=>!c),children:t?"":""})]})}),x.jsxs(Ot,{title:" ",children:[x.jsx("p",{className:"mb-4 text-sm text-gray1",children:"        !      ?!"}),x.jsx(d5,{selectedYear:s,handleChangeYear:o,buttonClassName:"shadow-none"}),x.jsxs("ul",{className:"mt-5 grid grid-cols-10 gap-4 max-md:grid-cols-8 max-sm:grid-cols-4 max-sm:gap-4",children:[a.map(c=>x.jsx("li",{children:x.jsx("button",{type:"button",className:"w-full",onClick:()=>h(c),children:x.jsx(un,{title:c.title,thumbnail:c.thumbnail})})},c.title)),l.map(c=>x.jsx(Kse,{coll:c,onChallengeBookClick:h},c))]})]})]})]})}function dI({title:t,memberList:e}){return x.jsxs("div",{className:"rounded-card bg-white shadow-card",children:[x.jsxs("h3",{className:`rounded-t-card border-b-2 border-dotted px-4 pb-3 pt-4 text-[15px] font-medium ${t.includes("")?"border-green3 text-green1":"border-red-100 text-pointCoral"}`,children:[t.includes("")?"":""," ",t]}),e.length!==0?x.jsx("ul",{className:"mt-4 flex flex-wrap items-center gap-x-4 gap-y-3 px-4 pb-4",children:e.map(n=>x.jsx("li",{children:x.jsx(cr,{userId:n,isLink:!0})},n))}):x.jsx("span",{className:"mt-4 block px-4 pb-4 text-gray2",children:"  !"})]})}function f5({time:t,place:e,className:n}){return x.jsxs("div",{className:n,children:[x.jsxs("div",{className:"mb-1 flex items-start gap-x-1",children:[x.jsx(RE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),x.jsx("span",{className:"text-[15px]",children:t?ht(t,"M d a h:mm"):"   ."})]}),x.jsxs("div",{className:"flex items-start gap-x-1",children:[x.jsx(LE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),x.jsx("span",{className:"text-[15px]",children:e||"   ."})]})]})}function h5({bookClub:t,className:e=""}){const{meeting:{place:n,time:r},book:i}=t;return x.jsxs("div",{className:`flex gap-x-4 rounded-card bg-white p-5 shadow-card ${e}`,children:[x.jsx(un,{thumbnail:i.thumbnail,title:i.title,iconName:i.title.includes("")?"MdEventAvailable":void 0,url:i.url,className:"w-28"}),x.jsxs("div",{className:"flex w-full flex-col justify-between",children:[x.jsx("h1",{className:"line-clamp-2 pr-1 text-lg font-medium leading-5",children:i.title}),i.authors&&x.jsx(Is,{authors:i.authors,publisher:i.publisher}),x.jsx(f5,{time:r,place:n,className:"mt-3.5"})]})]})}function p5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function or(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p5(t))&&(r&&(r+=" "),r+=e);return r}function Me(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Hi(t,e){const n=Me(t);return isNaN(e)?Vt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Qi(t,e){const n=Me(t);if(isNaN(e))return Vt(t,NaN);if(!e)return n;const r=n.getDate(),i=Vt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function WE(t,e){const n=+Me(t);return Vt(t,n+e)}const m5=6048e5,ooe=864e5,Tv=6e4,Cv=36e5,aoe=1e3;function loe(t,e){return WE(t,e*Cv)}let uoe={};function Tl(){return uoe}function oo(t,e){var a,l,h,c;const n=Tl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Me(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lu(t){return oo(t,{weekStartsOn:1})}function g5(t){const e=Me(t),n=e.getFullYear(),r=Vt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lu(r),s=Vt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Lu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cl(t){const e=Me(t);return e.setHours(0,0,0,0),e}function jm(t){const e=Me(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ju(t,e){const n=cl(t),r=cl(e),i=+n-jm(n),s=+r-jm(r);return Math.round((i-s)/ooe)}function coe(t){const e=g5(t),n=Vt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lu(n)}function i_(t,e){return WE(t,e*Tv)}function YE(t,e){const n=e*3;return Qi(t,n)}function doe(t,e){return WE(t,e*1e3)}function Fm(t,e){const n=e*7;return Hi(t,n)}function Ks(t,e){return Qi(t,e*12)}function fI(t){let e;return t.forEach(function(n){const r=Me(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function hI(t){let e;return t.forEach(n=>{const r=Me(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function foe(t,e){const n=cl(t),r=cl(e);return+n==+r}function Qs(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $m(t){if(!Qs(t)&&typeof t!="number")return!1;const e=Me(t);return!isNaN(Number(e))}function Bm(t,e){const n=Me(t),r=Me(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Wa(t){const e=Me(t);return Math.trunc(e.getMonth()/3)+1}function Um(t,e){const n=Me(t),r=Me(e),i=n.getFullYear()-r.getFullYear(),s=Wa(n)-Wa(r);return i*4+s}function Vm(t,e){const n=Me(t),r=Me(e);return n.getFullYear()-r.getFullYear()}function hoe(t,e){const n=Me(t),r=Me(e),i=pI(n,r),s=Math.abs(ju(n,r));n.setDate(n.getDate()-i*s);const o=+(pI(n,r)===-i),a=i*(s-o);return a===0?0:a}function pI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function v5(t){const e=Me(t);return e.setHours(23,59,59,999),e}function y5(t){const e=Me(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function s_(t){const e=Me(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function w5(t){const e=Me(t);return e.setDate(1),e.setHours(0,0,0,0),e}function b5(t){const e=Me(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Nv(t){const e=Me(t),n=Vt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function poe(t,e){var a,l;const n=Tl(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=Me(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const moe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},goe=(t,e,n)=>{let r;const i=moe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ab(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const voe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yoe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},woe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},boe={date:Ab({formats:voe,defaultWidth:"full"}),time:Ab({formats:yoe,defaultWidth:"full"}),dateTime:Ab({formats:woe,defaultWidth:"full"})},xoe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_oe=(t,e,n,r)=>xoe[t];function Qc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Soe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Eoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},koe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Toe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Coe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Noe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ooe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Aoe={ordinalNumber:Ooe,era:Qc({values:Soe,defaultWidth:"wide"}),quarter:Qc({values:Eoe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qc({values:koe,defaultWidth:"wide"}),day:Qc({values:Toe,defaultWidth:"wide"}),dayPeriod:Qc({values:Coe,defaultWidth:"wide",formattingValues:Noe,defaultFormattingWidth:"wide"})};function Xc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Ioe(a,f=>f.test(o)):Doe(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function Doe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ioe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Roe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Poe=/^(\d+)(th|st|nd|rd)?/i,Moe=/\d+/i,Loe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},joe={any:[/^b/i,/^(a|c)/i]},Foe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$oe={any:[/1/i,/2/i,/3/i,/4/i]},Boe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Voe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zoe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Woe={ordinalNumber:Roe({matchPattern:Poe,parsePattern:Moe,valueCallback:t=>parseInt(t,10)}),era:Xc({matchPatterns:Loe,defaultMatchWidth:"wide",parsePatterns:joe,defaultParseWidth:"any"}),quarter:Xc({matchPatterns:Foe,defaultMatchWidth:"wide",parsePatterns:$oe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xc({matchPatterns:Boe,defaultMatchWidth:"wide",parsePatterns:Uoe,defaultParseWidth:"any"}),day:Xc({matchPatterns:Voe,defaultMatchWidth:"wide",parsePatterns:qoe,defaultParseWidth:"any"}),dayPeriod:Xc({matchPatterns:Hoe,defaultMatchWidth:"any",parsePatterns:zoe,defaultParseWidth:"any"})},x5={code:"en-US",formatDistance:goe,formatLong:boe,formatRelative:_oe,localize:Aoe,match:Woe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yoe(t){const e=Me(t);return ju(e,Nv(e))+1}function GE(t){const e=Me(t),n=+Lu(e)-+coe(e);return Math.round(n/m5)+1}function KE(t,e){var c,f,p,m;const n=Me(t),r=n.getFullYear(),i=Tl(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Vt(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=oo(o,e),l=Vt(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=oo(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function Goe(t,e){var a,l,h,c;const n=Tl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=KE(t,e),s=Vt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),oo(s,e)}function _5(t,e){const n=Me(t),r=+oo(n,e)-+Goe(n,e);return Math.round(r/m5)+1}function Ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Mo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ut(n+1,2)},d(t,e){return Ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ut(t.getHours()%12||12,e.length)},H(t,e){return Ut(t.getHours(),e.length)},m(t,e){return Ut(t.getMinutes(),e.length)},s(t,e){return Ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ut(i,e.length)}},Jl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Mo.y(t,e)},Y:function(t,e,n,r){const i=KE(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ut(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ut(s,e.length)},R:function(t,e){const n=g5(t);return Ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Mo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=_5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ut(i,e.length)},I:function(t,e,n){const r=GE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Mo.d(t,e)},D:function(t,e,n){const r=Yoe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ut(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ut(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ut(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Jl.noon:r===0?i=Jl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Jl.evening:r>=12?i=Jl.afternoon:r>=4?i=Jl.morning:i=Jl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Mo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Mo.s(t,e)},S:function(t,e){return Mo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vI(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vI(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gI(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gI(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ut(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ut(r,e.length)}};function gI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ut(s,2)}function vI(t,e){return t%60===0?(t>0?"-":"+")+Ut(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ut(Math.trunc(r/60),2),s=Ut(r%60,2);return n+i+e+s}const yI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},S5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Koe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return yI(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",yI(r,e)).replace("{{time}}",S5(i,e))},qm={p:S5,P:Koe},Qoe=/^D+$/,Xoe=/^Y+$/,Joe=["D","DD","YY","YYYY"];function E5(t){return Qoe.test(t)}function k5(t){return Xoe.test(t)}function o_(t,e,n){const r=Zoe(t,e,n);if(console.warn(r),Joe.includes(t))throw new RangeError(r)}function Zoe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nae=/^'([^]*?)'?$/,rae=/''/g,iae=/[a-zA-Z]/;function wI(t,e,n){var c,f,p,m,g,y,w,b;const r=Tl(),i=(n==null?void 0:n.locale)??r.locale??x5,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Me(t);if(!$m(a))throw new RangeError("Invalid time value");let l=e.match(tae).map(_=>{const E=_[0];if(E==="p"||E==="P"){const S=qm[E];return S(_,i.formatLong)}return _}).join("").match(eae).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:sae(_)};if(mI[E])return{isToken:!0,value:_};if(E.match(iae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&k5(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&E5(E))&&o_(E,e,String(t));const S=mI[E[0]];return S(a,E,i.localize,h)}).join("")}function sae(t){const e=t.match(nae);return e?e[1].replace(rae,"'"):t}function bI(t){return Me(t).getDate()}function oae(t){return Me(t).getDay()}function aae(t){const e=Me(t),n=e.getFullYear(),r=e.getMonth(),i=Vt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function lae(){return Object.assign({},Tl())}function Es(t){return Me(t).getHours()}function uae(t){let n=Me(t).getDay();return n===0&&(n=7),n}function ks(t){return Me(t).getMinutes()}function $r(t){return Me(t).getMonth()}function Xs(t){return Me(t).getSeconds()}function a_(t){return Me(t).getTime()}function vt(t){return Me(t).getFullYear()}function ia(t,e){const n=Me(t),r=Me(e);return n.getTime()>r.getTime()}function dl(t,e){const n=Me(t),r=Me(e);return+n<+r}function cae(t,e){const n=Me(t),r=Me(e);return+n==+r}function dae(t,e){const n=e instanceof Date?Vt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const fae=10;class T5{constructor(){Le(this,"subPriority",0)}validate(e,n){return!0}}class hae extends T5{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class pae extends T5{constructor(){super(...arguments);Le(this,"priority",fae);Le(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Vt(n,dae(n,Date))}}class Mt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new hae(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class mae extends Mt{constructor(){super(...arguments);Le(this,"priority",140);Le(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nn(t,e){return t&&{value:e(t.value),rest:t.rest}}function mn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ps(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Cv+s*Tv+o*aoe),rest:e.slice(n[0].length)}}function C5(t){return mn(Cn.anyDigitsSigned,t)}function Sn(t,e){switch(t){case 1:return mn(Cn.singleDigit,e);case 2:return mn(Cn.twoDigits,e);case 3:return mn(Cn.threeDigits,e);case 4:return mn(Cn.fourDigits,e);default:return mn(new RegExp("^\\d{1,"+t+"}"),e)}}function Hm(t,e){switch(t){case 1:return mn(Cn.singleDigitSigned,e);case 2:return mn(Cn.twoDigitsSigned,e);case 3:return mn(Cn.threeDigitsSigned,e);case 4:return mn(Cn.fourDigitsSigned,e);default:return mn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function QE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function N5(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function O5(t){return t%400===0||t%4===0&&t%100!==0}class gae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Nn(Sn(4,n),s);case"yo":return Nn(i.ordinalNumber(n,{unit:"year"}),s);default:return Nn(Sn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=N5(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class vae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Nn(Sn(4,n),s);case"Yo":return Nn(i.ordinalNumber(n,{unit:"year"}),s);default:return Nn(Sn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=KE(n,s);if(i.isTwoDigitYear){const l=N5(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),oo(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),oo(n,s)}}class yae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Hm(r==="R"?4:r.length,n)}set(n,r,i){const s=Vt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Lu(s)}}class wae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Hm(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class bae extends Mt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Sn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class xae extends Mt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Sn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class _ae extends Mt{constructor(){super(...arguments);Le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Le(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Nn(mn(Cn.month,n),s);case"MM":return Nn(Sn(2,n),s);case"Mo":return Nn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class Sae extends Mt{constructor(){super(...arguments);Le(this,"priority",110);Le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Nn(mn(Cn.month,n),s);case"LL":return Nn(Sn(2,n),s);case"Lo":return Nn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Eae(t,e,n){const r=Me(t),i=_5(r,n)-e;return r.setDate(r.getDate()-i*7),r}class kae extends Mt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return mn(Cn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return oo(Eae(n,i,s),s)}}function Tae(t,e){const n=Me(t),r=GE(n)-e;return n.setDate(n.getDate()-r*7),n}class Cae extends Mt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return mn(Cn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Lu(Tae(n,i))}}const Nae=[31,28,31,30,31,30,31,31,30,31,30,31],Oae=[31,29,31,30,31,30,31,31,30,31,30,31];class Aae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subPriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return mn(Cn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Sn(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=O5(i),o=n.getMonth();return s?r>=1&&r<=Oae[o]:r>=1&&r<=Nae[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Dae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subpriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return mn(Cn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Sn(r.length,n)}}validate(n,r){const i=n.getFullYear();return O5(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function XE(t,e,n){var f,p,m,g;const r=Tl(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=Me(t),o=s.getDay(),l=(e%7+7)%7,h=7-i,c=e<0||e>6?e-(o+h)%7:(l+h)%7-(o+h)%7;return Hi(s,c)}class Iae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=XE(n,i,s),n.setHours(0,0,0,0),n}}class Rae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Nn(Sn(r.length,n),o);case"eo":return Nn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=XE(n,i,s),n.setHours(0,0,0,0),n}}class Pae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Nn(Sn(r.length,n),o);case"co":return Nn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=XE(n,i,s),n.setHours(0,0,0,0),n}}function Mae(t,e){const n=Me(t),r=uae(n),i=e-r;return Hi(n,i)}class Lae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Sn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Nn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Nn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Nn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Nn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Mae(n,i),n.setHours(0,0,0,0),n}}class jae extends Mt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(QE(i),0,0,0),n}}class Fae extends Mt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(QE(i),0,0,0),n}}class $ae extends Mt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(QE(i),0,0,0),n}}class Bae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return mn(Cn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Uae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return mn(Cn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Vae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return mn(Cn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class qae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return mn(Cn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Sn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class Hae extends Mt{constructor(){super(...arguments);Le(this,"priority",60);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return mn(Cn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class zae extends Mt{constructor(){super(...arguments);Le(this,"priority",50);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return mn(Cn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Sn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Wae extends Mt{constructor(){super(...arguments);Le(this,"priority",30);Le(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Nn(Sn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Yae extends Mt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ps(hs.basicOptionalMinutes,n);case"XX":return ps(hs.basic,n);case"XXXX":return ps(hs.basicOptionalSeconds,n);case"XXXXX":return ps(hs.extendedOptionalSeconds,n);case"XXX":default:return ps(hs.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Vt(n,n.getTime()-jm(n)-i)}}class Gae extends Mt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ps(hs.basicOptionalMinutes,n);case"xx":return ps(hs.basic,n);case"xxxx":return ps(hs.basicOptionalSeconds,n);case"xxxxx":return ps(hs.extendedOptionalSeconds,n);case"xxx":default:return ps(hs.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Vt(n,n.getTime()-jm(n)-i)}}class Kae extends Mt{constructor(){super(...arguments);Le(this,"priority",40);Le(this,"incompatibleTokens","*")}parse(n){return C5(n)}set(n,r,i){return[Vt(n,i*1e3),{timestampIsSet:!0}]}}class Qae extends Mt{constructor(){super(...arguments);Le(this,"priority",20);Le(this,"incompatibleTokens","*")}parse(n){return C5(n)}set(n,r,i){return[Vt(n,i),{timestampIsSet:!0}]}}const Xae={G:new mae,y:new gae,Y:new vae,R:new yae,u:new wae,Q:new bae,q:new xae,M:new _ae,L:new Sae,w:new kae,I:new Cae,d:new Aae,D:new Dae,E:new Iae,e:new Rae,c:new Pae,i:new Lae,a:new jae,b:new Fae,B:new $ae,h:new Bae,H:new Uae,K:new Vae,k:new qae,m:new Hae,s:new zae,S:new Wae,X:new Yae,x:new Gae,t:new Kae,T:new Qae},Jae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ele=/^'([^]*?)'?$/,tle=/''/g,nle=/\S/,rle=/[a-zA-Z]/;function Db(t,e,n,r){var y,w,b,_,E,S,k,N;const i=lae(),s=(r==null?void 0:r.locale)??i.locale??x5,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(b=i.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((S=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((N=(k=i.locale)==null?void 0:k.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?Me(n):Vt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},h=[new pae],c=e.match(Zae).map(O=>{const C=O[0];if(C in qm){const I=qm[C];return I(O,s.formatLong)}return O}).join("").match(Jae),f=[];for(let O of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&k5(O)&&o_(O,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&E5(O)&&o_(O,e,t);const C=O[0],I=Xae[C];if(I){const{incompatibleTokens:R}=I;if(Array.isArray(R)){const D=f.find(M=>R.includes(M.token)||M.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${O}\` at the same time`)}else if(I.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);f.push({token:C,fullToken:O});const A=I.run(t,O,s.match,l);if(!A)return Vt(n,NaN);h.push(A.setter),t=A.rest}else{if(C.match(rle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(O==="''"?O="'":C==="'"&&(O=ile(O)),t.indexOf(O)===0)t=t.slice(O.length);else return Vt(n,NaN)}}if(t.length>0&&nle.test(t))return Vt(n,NaN);const p=h.map(O=>O.priority).sort((O,C)=>C-O).filter((O,C,I)=>I.indexOf(O)===C).map(O=>h.filter(C=>C.priority===O).sort((C,I)=>I.subPriority-C.subPriority)).map(O=>O[0]);let m=Me(n);if(isNaN(m.getTime()))return Vt(n,NaN);const g={};for(const O of p){if(!O.validate(m,l))return Vt(n,NaN);const C=O.set(m,g,l);Array.isArray(C)?(m=C[0],Object.assign(g,C[1])):m=C}return Vt(n,m)}function ile(t){return t.match(ele)[1].replace(tle,"'")}function sle(t,e){const n=Me(t),r=Me(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ole(t,e){const n=s_(t),r=s_(e);return+n==+r}function ale(t,e){const n=Me(t),r=Me(e);return n.getFullYear()===r.getFullYear()}function Kd(t,e){const n=+Me(t),[r,i]=[+Me(e.start),+Me(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function lle(t,e){return Hi(t,-1)}function ule(t,e){const r=hle(t);let i;if(r.date){const l=ple(r.date,2);i=mle(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=gle(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=vle(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),h=new Date(0);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return new Date(s+o+a)}const pp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hle(t){const e={},n=t.split(pp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],pp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(pp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=pp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ple(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function mle(t,e){if(e===null)return new Date(NaN);const n=t.match(cle);if(!n)return new Date(NaN);const r=!!n[4],i=Jc(n[1]),s=Jc(n[2])-1,o=Jc(n[3]),a=Jc(n[4]),l=Jc(n[5])-1;if(r)return _le(e,a,l)?yle(e,a,l):new Date(NaN);{const h=new Date(0);return!ble(e,s,o)||!xle(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Jc(t){return t?parseInt(t):1}function gle(t){const e=t.match(dle);if(!e)return NaN;const n=Ib(e[1]),r=Ib(e[2]),i=Ib(e[3]);return Sle(n,r,i)?n*Cv+r*Tv+i*1e3:NaN}function Ib(t){return t&&parseFloat(t.replace(",","."))||0}function vle(t){if(t==="Z")return 0;const e=t.match(fle);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Ele(r,i)?n*(r*Cv+i*Tv):NaN}function yle(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const wle=[31,null,31,30,31,30,31,31,30,31,30,31];function A5(t){return t%400===0||t%4===0&&t%100!==0}function ble(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(wle[e]||(A5(t)?29:28))}function xle(t,e){return e>=1&&e<=(A5(t)?366:365)}function _le(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Sle(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Ele(t,e){return e>=0&&e<=59}function ai(t,e){const n=Me(t),r=n.getFullYear(),i=n.getDate(),s=Vt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=aae(s);return n.setMonth(e,Math.min(i,o)),n}function kle(t,e){let n=Me(t);return isNaN(+n)?Vt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ai(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function $p(t,e){const n=Me(t);return n.setHours(e),n}function Bp(t,e){const n=Me(t);return n.setMinutes(e),n}function nu(t,e){const n=Me(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return ai(n,n.getMonth()+i*3)}function Up(t,e){const n=Me(t);return n.setSeconds(e),n}function ss(t,e){const n=Me(t);return isNaN(+n)?Vt(t,NaN):(n.setFullYear(e),n)}function Ya(t,e){return Qi(t,-e)}function D5(t,e){return YE(t,-1)}function xI(t,e){return Fm(t,-1)}function Fu(t,e){return Ks(t,-e)}function Ov(){return typeof window<"u"}function sa(t){return I5(t)?(t.nodeName||"").toLowerCase():"#document"}function di(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function co(t){var e;return(e=(I5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function I5(t){return Ov()?t instanceof Node||t instanceof di(t).Node:!1}function Zr(t){return Ov()?t instanceof Element||t instanceof di(t).Element:!1}function As(t){return Ov()?t instanceof HTMLElement||t instanceof di(t).HTMLElement:!1}function _I(t){return!Ov()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof di(t).ShadowRoot}function Pf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Tle(t){return["table","td","th"].includes(sa(t))}function Cle(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function JE(t){const e=ZE(),n=Zr(t)?mi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function R5(t){let e=$u(t);for(;As(e)&&!Av(e);){if(JE(e))return e;if(Cle(e))return null;e=$u(e)}return null}function ZE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Av(t){return["html","body","#document"].includes(sa(t))}function mi(t){return di(t).getComputedStyle(t)}function Dv(t){return Zr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $u(t){if(sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_I(t)&&t.host||co(t);return _I(e)?e.host:e}function P5(t){const e=$u(t);return Av(e)?t.ownerDocument?t.ownerDocument.body:t.body:As(e)&&Pf(e)?e:P5(e)}function Qd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=P5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=di(i);if(s){const a=Nle(o);return e.concat(o,o.visualViewport||[],Pf(i)?i:[],a&&n?Qd(a):[])}return e.concat(i,Qd(i,[],n))}function Nle(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Bu=Math.min,Ga=Math.max,zm=Math.round,mp=Math.floor,oa=t=>({x:t,y:t}),Ole={left:"right",right:"left",bottom:"top",top:"bottom"},Ale={start:"end",end:"start"};function Dle(t,e,n){return Ga(t,Bu(e,n))}function Iv(t,e){return typeof t=="function"?t(e):t}function Uu(t){return t.split("-")[0]}function Mf(t){return t.split("-")[1]}function Ile(t){return t==="x"?"y":"x"}function ek(t){return t==="y"?"height":"width"}function tk(t){return["top","bottom"].includes(Uu(t))?"y":"x"}function nk(t){return Ile(tk(t))}function Rle(t,e,n){n===void 0&&(n=!1);const r=Mf(t),i=nk(t),s=ek(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Wm(o)),[o,Wm(o)]}function Ple(t){const e=Wm(t);return[l_(t),e,l_(e)]}function l_(t){return t.replace(/start|end/g,e=>Ale[e])}function Mle(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Lle(t,e,n,r){const i=Mf(t);let s=Mle(Uu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(l_)))),s}function Wm(t){return t.replace(/left|right|bottom|top/g,e=>Ole[e])}function jle(t){return{top:0,right:0,bottom:0,left:0,...t}}function M5(t){return typeof t!="number"?jle(t):{top:t,right:t,bottom:t,left:t}}function Ym(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function SI(t,e,n){let{reference:r,floating:i}=t;const s=tk(e),o=nk(e),a=ek(o),l=Uu(e),h=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-i.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Mf(e)){case"start":m[o]-=p*(n&&h?-1:1);break;case"end":m[o]+=p*(n&&h?-1:1);break}return m}const Fle=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=SI(h,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x:_,y:E,data:S,reset:k}=await b({x:c,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:h,platform:o,elements:{reference:t,floating:e}});c=_??c,f=E??f,m={...m,[w]:{...m[w],...S}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(h=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:c,y:f}=SI(h,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:i,middlewareData:m}};async function $le(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Iv(e,t),g=M5(m),w=a[p?f==="floating"?"reference":"floating":f],b=Ym(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),_=f==="floating"?{...o.floating,x:r,y:i}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Ym(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:l}):_);return{top:(b.top-k.top+g.top)/S.y,bottom:(k.bottom-b.bottom+g.bottom)/S.y,left:(b.left-k.left+g.left)/S.x,right:(k.right-b.right+g.right)/S.x}}const Ble=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:h,padding:c=0}=Iv(t,e)||{};if(h==null)return{};const f=M5(c),p={x:n,y:r},m=nk(i),g=ek(m),y=await o.getDimensions(h),w=m==="y",b=w?"top":"left",_=w?"bottom":"right",E=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[m]-p[m]-s.floating[g],k=p[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let O=N?N[E]:0;(!O||!await(o.isElement==null?void 0:o.isElement(N)))&&(O=a.floating[E]||s.floating[g]);const C=S/2-k/2,I=O/2-y[g]/2-1,R=Bu(f[b],I),A=Bu(f[_],I),D=R,M=O-y[g]-A,F=O/2-y[g]/2+C,q=Dle(D,F,M),L=!l.arrow&&Mf(i)!=null&&F!==q&&s.reference[g]/2-(F<D?R:A)-y[g]/2<0,B=L?F<D?F-D:F-M:0;return{[m]:p[m]+B,data:{[m]:q,centerOffset:F-q-B,...L&&{alignmentOffset:B}},reset:L}}}),Ule=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=Iv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Uu(i),_=Uu(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(h.floating)),S=p||(_||!y?[Wm(a)]:Ple(a));!p&&g!=="none"&&S.push(...Lle(a,y,g,E));const k=[a,...S],N=await $le(e,w),O=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&O.push(N[b]),f){const D=Rle(i,o,E);O.push(N[D[0]],N[D[1]])}if(C=[...C,{placement:i,overflows:O}],!O.every(D=>D<=0)){var I,R;const D=(((I=s.flip)==null?void 0:I.index)||0)+1,M=k[D];if(M)return{data:{index:D,overflows:C},reset:{placement:M}};let F=(R=C.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(m){case"bestFit":{var A;const q=(A=C.map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:A[0];q&&(F=q);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function Vle(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Uu(n),a=Mf(n),l=tk(n)==="y",h=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=Iv(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*c,y:p*h}:{x:p*h,y:m*c}}const qle=function(t){return{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Vle(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function L5(t){const e=mi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=As(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=zm(n)!==s||zm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function rk(t){return Zr(t)?t:t.contextElement}function vu(t){const e=rk(t);if(!As(e))return oa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=L5(e);let o=(s?zm(n.width):n.width)/r,a=(s?zm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Hle=oa(0);function j5(t){const e=di(t);return!ZE()||!e.visualViewport?Hle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==di(t)?!1:e}function fl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=rk(t);let o=oa(1);e&&(r?Zr(r)&&(o=vu(r)):o=vu(t));const a=zle(s,n,r)?j5(s):oa(0);let l=(i.left+a.x)/o.x,h=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const p=di(s),m=r&&Zr(r)?di(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=vu(g),w=g.getBoundingClientRect(),b=mi(g),_=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,h*=y.y,c*=y.x,f*=y.y,l+=_,h+=E,g=di(g).frameElement}}return Ym({width:c,height:f,x:l,y:h})}const Wle=[":popover-open",":modal"];function F5(t){let e=!1,n=0,r=0;function i(s){try{e=e||t.matches(s)}catch{}}if(Wle.forEach(s=>{i(s)}),e){const s=R5(t);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[e,n,r]}function Yle(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=co(r),[o]=e?F5(e.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=oa(1);const h=oa(0),c=As(r);if((c||!c&&i!=="fixed")&&((sa(r)!=="body"||Pf(s))&&(a=Dv(r)),As(r))){const f=fl(r);l=vu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+h.x,y:n.y*l.y-a.scrollTop*l.y+h.y}}function Gle(t){return Array.from(t.getClientRects())}function $5(t){return fl(co(t)).left+Dv(t).scrollLeft}function Kle(t){const e=co(t),n=Dv(t),r=t.ownerDocument.body,i=Ga(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ga(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$5(t);const a=-n.scrollTop;return mi(r).direction==="rtl"&&(o+=Ga(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Qle(t,e){const n=di(t),r=co(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const h=ZE();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Xle(t,e){const n=fl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=As(t)?vu(t):oa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,h=r*s.y;return{width:o,height:a,x:l,y:h}}function EI(t,e,n){let r;if(e==="viewport")r=Qle(t,n);else if(e==="document")r=Kle(co(t));else if(Zr(e))r=Xle(e,n);else{const i=j5(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ym(r)}function B5(t,e){const n=$u(t);return n===e||!Zr(n)||Av(n)?!1:mi(n).position==="fixed"||B5(n,e)}function Jle(t,e){const n=e.get(t);if(n)return n;let r=Qd(t,[],!1).filter(a=>Zr(a)&&sa(a)!=="body"),i=null;const s=mi(t).position==="fixed";let o=s?$u(t):t;for(;Zr(o)&&!Av(o);){const a=mi(o),l=JE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pf(o)&&!l&&B5(t,o))?r=r.filter(c=>c!==o):i=a,o=$u(o)}return e.set(t,r),r}function Zle(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Jle(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((h,c)=>{const f=EI(e,c,i);return h.top=Ga(f.top,h.top),h.right=Bu(f.right,h.right),h.bottom=Bu(f.bottom,h.bottom),h.left=Ga(f.left,h.left),h},EI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function eue(t){const{width:e,height:n}=L5(t);return{width:e,height:n}}function tue(t,e,n,r){const i=As(e),s=co(e),o=n==="fixed",a=fl(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const h=oa(0);if(i||!i&&!o)if((sa(e)!=="body"||Pf(s))&&(l=Dv(e)),i){const y=fl(e,!0,o,e);h.x=y.x+e.clientLeft,h.y=y.y+e.clientTop}else s&&(h.x=$5(s));let c=a.left+l.scrollLeft-h.x,f=a.top+l.scrollTop-h.y;const[p,m,g]=F5(r);return p&&(c+=m,f+=g,i&&(c+=e.clientLeft,f+=e.clientTop)),{x:c,y:f,width:a.width,height:a.height}}function kI(t,e){return!As(t)||mi(t).position==="fixed"?null:e?e(t):t.offsetParent}function U5(t,e){const n=di(t);if(!As(t))return n;let r=kI(t,e);for(;r&&Tle(r)&&mi(r).position==="static";)r=kI(r,e);return r&&(sa(r)==="html"||sa(r)==="body"&&mi(r).position==="static"&&!JE(r))?n:r||R5(t)||n}const nue=async function(t){const e=this.getOffsetParent||U5,n=this.getDimensions;return{reference:tue(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function rue(t){return mi(t).direction==="rtl"}const iue={convertOffsetParentRelativeRectToViewportRelativeRect:Yle,getDocumentElement:co,getClippingRect:Zle,getOffsetParent:U5,getElementRects:nue,getClientRects:Gle,getDimensions:eue,getScale:vu,isElement:Zr,isRTL:rue};function sue(t,e){let n=null,r;const i=co(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:h,top:c,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=mp(c),g=mp(i.clientWidth-(h+f)),y=mp(i.clientHeight-(c+p)),w=mp(h),_={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ga(0,Bu(1,l))||1};let E=!0;function S(k){const N=k[0].intersectionRatio;if(N!==l){if(!E)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return o(!0),s}function V5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=rk(t),c=i||s?[...h?Qd(h):[],...Qd(e)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=h&&a?sue(h,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===h&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),h&&!l&&m.observe(h),m.observe(e));let g,y=l?fl(t):null;l&&w();function w(){const b=fl(t);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const oue=Ule,TI=Ble,aue=(t,e,n)=>{const r=new Map,i={platform:iue,...n},s={...i.platform,_c:r};return Fle(t,e,{...i,platform:s})};var Vp=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Gm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Gm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Gm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function q5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CI(t,e){const n=q5(t);return Math.round(e*n)/n}function Rb(t){const e=K.useRef(t);return Vp(()=>{e.current=t}),e}function lue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:h}=t,[c,f]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=K.useState(r);Gm(p,r)||m(r);const[g,y]=K.useState(null),[w,b]=K.useState(null),_=K.useCallback(Y=>{Y!==N.current&&(N.current=Y,y(Y))},[]),E=K.useCallback(Y=>{Y!==O.current&&(O.current=Y,b(Y))},[]),S=s||g,k=o||w,N=K.useRef(null),O=K.useRef(null),C=K.useRef(c),I=l!=null,R=Rb(l),A=Rb(i),D=Rb(h),M=K.useCallback(()=>{if(!N.current||!O.current)return;const Y={placement:e,strategy:n,middleware:p};A.current&&(Y.platform=A.current),aue(N.current,O.current,Y).then(H=>{const j={...H,isPositioned:D.current!==!1};F.current&&!Gm(C.current,j)&&(C.current=j,x_.flushSync(()=>{f(j)}))})},[p,e,n,A,D]);Vp(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[h]);const F=K.useRef(!1);Vp(()=>(F.current=!0,()=>{F.current=!1}),[]),Vp(()=>{if(S&&(N.current=S),k&&(O.current=k),S&&k){if(R.current)return R.current(S,k,M);M()}},[S,k,M,R,I]);const q=K.useMemo(()=>({reference:N,floating:O,setReference:_,setFloating:E}),[_,E]),L=K.useMemo(()=>({reference:S,floating:k}),[S,k]),B=K.useMemo(()=>{const Y={position:n,left:0,top:0};if(!L.floating)return Y;const H=CI(L.floating,c.x),j=CI(L.floating,c.y);return a?{...Y,transform:"translate("+H+"px, "+j+"px)",...q5(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:j}},[n,a,L.floating,c.x,c.y]);return K.useMemo(()=>({...c,update:M,refs:q,elements:L,floatingStyles:B}),[c,M,q,L,B])}const uue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?TI({element:r.current,padding:i}).fn(n):{}:r?TI({element:r,padding:i}).fn(n):{}}}},cue=(t,e)=>({...qle(t),options:[t,e]}),due=(t,e)=>({...oue(t),options:[t,e]}),fue=(t,e)=>({...uue(t),options:[t,e]}),H5={...Qp},hue=H5.useInsertionEffect,pue=hue||(t=>t());function mue(t){const e=K.useRef(()=>{});return pue(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Km=typeof document<"u"?K.useLayoutEffect:K.useEffect;let NI=!1,gue=0;const OI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gue++;function vue(){const[t,e]=K.useState(()=>NI?OI():void 0);return Km(()=>{t==null&&e(OI())},[]),K.useEffect(()=>{NI=!0},[]),t}const yue=H5.useId,z5=yue||vue,wue=K.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:h=0,strokeWidth:c=0,staticOffset:f,stroke:p,d:m,style:{transform:g,...y}={},...w}=e,b=z5(),[_,E]=K.useState(!1);if(Km(()=>{if(!i)return;mi(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[S,k]=r.split("-"),N=S==="top"||S==="bottom";let O=f;(N&&o!=null&&o.x||!N&&o!=null&&o.y)&&(O=null);const C=c*2,I=C/2,R=a/2*(h/-8+1),A=l/2*h/4,D=!!m,M=O&&k==="end"?"bottom":"top";let F=O&&k==="end"?"right":"left";O&&_&&(F=k==="end"?"left":"right");const q=(s==null?void 0:s.x)!=null?O||s.x:"",L=(s==null?void 0:s.y)!=null?O||s.y:"",B=m||"M0,0"+(" H"+a)+(" L"+(a-R)+","+(l-A))+(" Q"+a/2+","+l+" "+R+","+(l-A))+" Z",Y={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[S];return x.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:D?a:a+C,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[F]:q,[M]:L,[S]:N||D?"100%":"calc(100% - "+C/2+"px)",transform:[Y,g].filter(H=>!!H).join(" "),...y},children:[C>0&&x.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:p,strokeWidth:C+(m?0:1),d:B}),x.jsx("path",{stroke:C&&!m?w.fill:"none",d:B}),x.jsx("clipPath",{id:b,children:x.jsx("rect",{x:-I,y:I*(D?-1:1),width:a+C,height:a})})]})});function bue(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const xue=K.createContext(null),_ue=K.createContext(null),Sue=()=>{var t;return((t=K.useContext(xue))==null?void 0:t.id)||null},Eue=()=>K.useContext(_ue);function kue(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=z5(),s=K.useRef({}),[o]=K.useState(()=>bue()),a=Sue()!=null,[l,h]=K.useState(r.reference),c=mue((m,g,y)=>{s.current.openEvent=m?g:void 0,o.emit("openchange",{open:m,event:g,reason:y,nested:a}),n==null||n(m,g,y)}),f=K.useMemo(()=>({setPositionReference:h}),[]),p=K.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:p,events:o,floatingId:i,refs:f}),[e,c,p,o,i,f])}function Tue(t){t===void 0&&(t={});const{nodeId:e}=t,n=kue({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[a,l]=K.useState(null),c=(i==null?void 0:i.domReference)||s,f=K.useRef(null),p=Eue();Km(()=>{c&&(f.current=c)},[c]);const m=lue({...t,elements:{...i,...a&&{reference:a}}}),g=K.useCallback(E=>{const S=Zr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(S),m.refs.setReference(S)},[m.refs]),y=K.useCallback(E=>{(Zr(E)||E===null)&&(f.current=E,o(E)),(Zr(m.refs.reference.current)||m.refs.reference.current===null||E!==null&&!Zr(E))&&m.refs.setReference(E)},[m.refs]),w=K.useMemo(()=>({...m.refs,setReference:y,setPositionReference:g,domReference:f}),[m.refs,y,g]),b=K.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),_=K.useMemo(()=>({...m,...r,refs:w,elements:b,nodeId:e}),[m,w,b,e,r]);return Km(()=>{r.dataRef.current.floatingContext=_;const E=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);E&&(E.context=_)}),K.useMemo(()=>({...m,context:_,refs:w,elements:b}),[m,w,b,_])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var u_=function(e,n){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},u_(e,n)};function Xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var kt=function(){return kt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},kt.apply(this,arguments)};function ys(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Cue=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},Nue=function(t,e){var n=K.useRef(null),r=K.useRef(t);r.current=t;var i=K.useCallback(function(s){var o;n.current&&!n.current.contains(s.target)&&(e&&s.target instanceof HTMLElement&&s.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Rv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=Nue(n,o);return se.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ae;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ae||(Ae={}));function W5(){var t=typeof window<"u"?window:globalThis;return t}var Lf=12,Oue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function qt(t){if(t==null)return new Date;var e=typeof t=="string"?ule(t):Me(t);return qs(e)?e:new Date}function Pb(t,e,n,r,i){var s,o=null,a=Ka(n)||Ka(Ed()),l=!0;if(Array.isArray(e))return e.forEach(function(c){var f=Db(t,c,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=qs(f,i)&&t===sn(f,c,n)),qs(f,i)&&l&&(o=f)}),o;if(o=Db(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=qs(o)&&t===sn(o,e,n);else if(!qs(o)){var h=((s=e.match(Oue))!==null&&s!==void 0?s:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var p=qm[f];return a?p(c,a.formatLong):f}return c}).join("");t.length>0&&(o=Db(t,h.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),qs(o)||(o=new Date(t))}return qs(o)&&l?o:null}function qs(t,e){return $m(t)&&!dl(t,e??new Date("1/1/1800"))}function sn(t,e,n){if(n==="en")return wI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ka(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ed()&&Ka(Ed())&&(r=Ka(Ed())),wI(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Si(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&sn(t,i,r)||""}function Aue(t,e,n){if(!t)return"";var r=Si(t,n),i=e?Si(e,n):"";return"".concat(r," - ").concat(i)}function Due(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Si(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Si(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Mb(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return $p(Bp(Up(t,a),s),r)}function Iue(t){return GE(t)}function Rue(t,e){return sn(t,"ddd",e)}function qp(t){return cl(t)}function Zo(t,e,n){var r=Ka(e||Ed());return oo(t,{locale:r,weekStartsOn:n})}function Js(t){return w5(t)}function hd(t){return Nv(t)}function AI(t){return s_(t)}function DI(){return cl(qt())}function II(t){return v5(t)}function Pue(t){return poe(t)}function Mue(t){return y5(t)}function as(t,e){return t&&e?ale(t,e):!t&&!e}function jr(t,e){return t&&e?sle(t,e):!t&&!e}function Qm(t,e){return t&&e?ole(t,e):!t&&!e}function _t(t,e){return t&&e?foe(t,e):!t&&!e}function Ua(t,e){return t&&e?cae(t,e):!t&&!e}function pd(t,e,n){var r,i=cl(e),s=v5(n);try{r=Kd(t,{start:i,end:s})}catch{r=!1}return r}function Ed(){var t=W5();return t.__localeId__}function Ka(t){if(typeof t=="string"){var e=W5();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Lue(t,e,n){return e(sn(t,"EEEE",n))}function jue(t,e){return sn(t,"EEEEEE",e)}function Fue(t,e){return sn(t,"EEE",e)}function ik(t,e){return sn(ai(qt(),t),"LLLL",e)}function Y5(t,e){return sn(ai(qt(),t),"LLL",e)}function $ue(t,e){return sn(nu(qt(),t),"QQQ",e)}function Ei(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,h=n.filterDate;return jf(t,{minDate:r,maxDate:i})||s&&s.some(function(c){return c instanceof Date?_t(t,c):_t(t,c.date)})||o&&o.some(function(c){var f=c.start,p=c.end;return Kd(t,{start:f,end:p})})||a&&!a.some(function(c){return _t(t,c)})||l&&!l.some(function(c){var f=c.start,p=c.end;return Kd(t,{start:f,end:p})})||h&&!h(qt(t))||!1}function sk(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Kd(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?_t(t,s):_t(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function G5(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return jf(t,{minDate:r?w5(r):void 0,maxDate:i?y5(i):void 0})||(s==null?void 0:s.some(function(l){return jr(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return jr(t,l)})||a&&!a(qt(t))||!1}function gp(t,e,n,r){var i=vt(t),s=$r(t),o=vt(e),a=$r(e),l=vt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Bue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return jf(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return jr(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return jr(a,t)})||!1}function vp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return jf(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return Qm(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Qm(t,l)})||a&&!a(qt(t))||!1}function yp(t,e,n){if(!e||!n||!$m(e)||!$m(n))return!1;var r=vt(e),i=vt(n);return r<=t&&i>=t}function Hp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return jf(l,{minDate:r?Nv(r):void 0,maxDate:i?b5(i):void 0})||(s==null?void 0:s.some(function(h){return as(l,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return as(l,h)})||a&&!a(qt(l))||!1}function wp(t,e,n,r){var i=vt(t),s=Wa(t),o=vt(e),a=Wa(e),l=vt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function jf(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&ju(t,i)<0||s&&ju(t,s)>0)!==null&&n!==void 0?n:!1}function RI(t,e){return e.some(function(n){return Es(n)===Es(t)&&ks(n)===ks(t)&&Xs(n)===Xs(t)})}function PI(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&RI(t,r)||i&&!RI(t,i)||s&&!s(t)||!1}function MI(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=qt();i=$p(i,Es(t)),i=Bp(i,ks(t)),i=Up(i,Xs(t));var s=qt();s=$p(s,Es(n)),s=Bp(s,ks(n)),s=Up(s,Xs(n));var o=qt();o=$p(o,Es(r)),o=Bp(o,ks(r)),o=Up(o,Xs(r));var a;try{a=!Kd(i,{start:s,end:o})}catch{a=!1}return a}function LI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Ya(t,1);return r&&Bm(r,s)>0||i&&i.every(function(o){return Bm(o,s)>0})||!1}function jI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Qi(t,1);return r&&Bm(s,r)>0||i&&i.every(function(o){return Bm(s,o)>0})||!1}function Uue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Nv(t),o=D5(s);return r&&Um(r,o)>0||i&&i.every(function(a){return Um(a,o)>0})||!1}function Vue(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=b5(t),o=YE(s,1);return r&&Um(o,r)>0||i&&i.every(function(a){return Um(o,a)>0})||!1}function FI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Fu(t,1);return r&&Vm(r,s)>0||i&&i.every(function(o){return Vm(o,s)>0})||!1}function que(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?Lf:i,o=hd(Fu(t,s)),a=Wo(o,s).endPeriod,l=r&&vt(r);return l&&l>a||!1}function $I(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Ks(t,1);return r&&Vm(s,r)>0||i&&i.every(function(o){return Vm(s,o)>0})||!1}function Hue(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?Lf:i,o=Ks(t,s),a=Wo(o,s).startPeriod,l=r&&vt(r);return l&&l<a||!1}function K5(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ju(i,e)>=0});return hI(r)}else return n?hI(n):e}function Q5(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ju(i,e)<=0});return fI(r)}else return n?fI(n):e}function BI(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(Qs(o)){var a=sn(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var h=Object.keys(o),c=(n=h[0])!==null&&n!==void 0?n:"",f=o[c];if(typeof c=="string"&&Array.isArray(f))for(var p=0,m=f.length;p<m;p++){var g=f[p];if(g){var a=sn(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function zue(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function Wue(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(Qs(i)){var o=sn(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&zue(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?ys(ys([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function Yue(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,h=i[a];h&&(l=loe(l,Es(h)),l=i_(l,ks(h)),l=doe(l,Xs(h)));var c=i_(t,(n+1)*r);ia(l,e)&&dl(l,c)&&h!=null&&o.push(h)}return o}function UI(t){return t<10?"0".concat(t):"".concat(t)}function Wo(t,e){e===void 0&&(e=Lf);var n=Math.ceil(vt(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function Gue(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function VI(t){var e=t.getSeconds(),n=t.getMilliseconds();return Me(t.getTime()-e*1e3-n)}function Kue(t,e){return VI(t).getTime()===VI(e).getTime()}function qI(t){if(!Qs(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function HI(t,e){if(!Qs(t)||!Qs(e))throw new Error("Invalid date received");var n=qI(t),r=qI(e);return dl(n,r)}function X5(t){return t.key===Ae.Space}var Que=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),h=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),f=c[0],p=c[1];h.setHours(Number(f)),h.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,h)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?K.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){r.onTimeChange(h.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(K.Component),Xue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=K.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return _t(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return sk(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return _t(n.props.day,Zo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&_t(r,Zo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=sn(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=sn(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:pd(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,h=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!p||!h&&n.isDisabled()?!1:o&&f&&(dl(p,f)||Ua(p,f))?pd(s,p,f):a&&c&&(ia(p,c)||Ua(p,c))||l&&c&&!f&&(ia(p,c)||Ua(p,c))?pd(s,c,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?_t(s,l):_t(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?_t(s,h):_t(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:_t(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:_t(o,i)},n.isWeekend=function(){var r=oae(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===$r(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&($r(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(qt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return or("react-datepicker__day",i,"react-datepicker__day--"+Rue(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,h=n.isDisabled()||n.isExcluded()?l:o;return"".concat(h," ").concat(sn(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=sn(i,"MM.dd.yyyy"),h=[];return o.has(l)&&h.push.apply(h,o.get(l).holidayNames),n.isExcluded()&&h.push(a==null?void 0:a.filter(function(c){return c instanceof Date?_t(c,i):_t(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),h.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&_t(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(bI(n.props.day),n.props.day):bI(n.props.day)},n.render=function(){return se.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&se.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(K.Component),Jue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=K.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.props.date,n.props.selected)&&_t(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||_t(n.props.date,n.props.selected)&&_t(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&_t(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:or(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(K.Component),Zue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,h=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var p=!n.isDisabled(f);if(p){h=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(h,i,s),n.props.showWeekPicker&&n.handleDayClick(h,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):Iue(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=Hi(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=Hi(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(se.createElement(Jue,kt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=Hi(r,a);return se.createElement(Xue,kt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Zo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.startOfWeek(),n.props.selected)&&_t(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return se.createElement("div",{className:or(n)},this.renderDays())},e}(K.Component),Zc,ece=6,yu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lb=(Zc={},Zc[yu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Zc[yu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Zc[yu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Zc),bp=1;function zI(t,e){return t?yu.FOUR_COLUMNS:e?yu.TWO_COLUMNS:yu.THREE_COLUMNS}var tce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=ys([],Array(12),!0).map(function(){return K.createRef()}),n.QUARTER_REFS=ys([],Array(4),!0).map(function(){return K.createRef()}),n.isDisabled=function(r){return Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return sk(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:jr(ai(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Qm(nu(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:jr(ai(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Qm(nu(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?gp(p,f,r,o):l&&c||h&&c&&!f?gp(c,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,h=ai(o,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?jr(h,c):jr(h,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,h=s.selectsRange,c=ai(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||h?jr(c,f):jr(c,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?wp(p,f,r,o):l&&c||h&&c&&!f?wp(c,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=Hi(r,6);return jr(r,i)||jr(s,i)},n.isCurrentMonth=function(r,i){return vt(r)===vt(qt())&&i===$r(qt())},n.isCurrentQuarter=function(r,i){return vt(r)===vt(qt())&&i===Wa(qt())},n.isSelectedMonth=function(r,i,s){return $r(s)===i&&vt(r)===vt(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Wa(r)===i&&vt(r)===vt(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Zo(Js(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Zo(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},h=function(g){return n.props.showWeekPicker?Zo(g,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?h(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(se.createElement(Zue,kt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:$r(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=Fm(a,1);var p=i&&s>=ece,m=!i&&!n.isWeekInMonth(a);if(p||m)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Js(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Js(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,h=a.preSelection,c=a.setPreSelection,f=a.minDate,p=a.maxDate,m=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(h){var y=zI(m,g),w=n.getVerticalOffset(y),b=(o=Lb[y])===null||o===void 0?void 0:o.grid,_=function(O,C,I){var R,A,D=C,M=I;switch(O){case Ae.ArrowRight:D=Qi(C,bp),M=I===11?0:I+bp;break;case Ae.ArrowLeft:D=Ya(C,bp),M=I===0?11:I-bp;break;case Ae.ArrowUp:D=Ya(C,w),M=!((R=b==null?void 0:b[0])===null||R===void 0)&&R.includes(I)?I+12-w:I-w;break;case Ae.ArrowDown:D=Qi(C,w),M=!((A=b==null?void 0:b[b.length-1])===null||A===void 0)&&A.includes(I)?I-12+w:I+w;break}return{newCalculatedDate:D,newCalculatedMonth:M}},E=function(O,C,I){for(var R=40,A=O,D=!1,M=0,F=_(A,C,I),q=F.newCalculatedDate,L=F.newCalculatedMonth;!D;){if(M>=R){q=C,L=I;break}if(f&&q<f){A=Ae.ArrowRight;var B=_(A,q,L);q=B.newCalculatedDate,L=B.newCalculatedMonth}if(p&&q>p){A=Ae.ArrowLeft;var B=_(A,q,L);q=B.newCalculatedDate,L=B.newCalculatedMonth}if(Bue(q,n.props)){var B=_(A,q,L);q=B.newCalculatedDate,L=B.newCalculatedMonth}else D=!0;M++}return{newCalculatedDate:q,newCalculatedMonth:L}};if(i===Ae.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),c==null||c(l));return}var S=E(i,h,s),k=S.newCalculatedDate,N=S.newCalculatedMonth;switch(i){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:n.handleMonthNavigation(N,k);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=Lb[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ae.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=nu(n.props.day,i);vp(s,n.props)||n.handleDayClick(AI(s),r)},n.onQuarterMouseEnter=function(r){var i=nu(n.props.day,r);vp(i,n.props)||n.handleDayMouseEnter(AI(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ae.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Ae.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,YE(n.props.preSelection,1));break;case Ae.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,D5(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,h=s.excludeDates,c=s.includeDates,f=ai(o,r);return{isDisabled:(i=(a||l||h||c)&&G5(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,h=i.monthClassName,c=h?h(ai(s,r)):void 0,f=n.getSelection();return or("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?gp(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=$r(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Wa(n.props.preSelection),s=vp(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,h=i.day,c=i.locale,f=ai(h,r),p=n.isDisabled(f)||n.isExcluded(f)?l:o;return"".concat(p," ").concat(sn(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,h=i.minDate,c=i.maxDate,f=i.excludeDates,p=i.includeDates,m=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,w=(h||c||f||p||m)&&vp(nu(s,r),n.props);return or("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(s,r,g)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?wp(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,h=Y5(r,a),c=ik(r,a);return o?o(r,h,c,l):s?c:h},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=$ue(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,h=(r=Lb[zI(o,s)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(c,f){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(p,m){return se.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(g){n.onMonthClick(g,p)},onKeyDown:function(g){X5(g)&&(g.preventDefault(),g.key=Ae.Enter),n.onMonthKeyDown(g,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return se.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(h){n.onQuarterClick(h,a)},onKeyDown:function(h){n.onQuarterKeyDown(h,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,h=r.showWeekPicker;return or("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":h})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(sn(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(K.Component),nce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return se.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return se.createElement(Rv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),rce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return se.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return se.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return se.createElement(nce,kt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Y5(s,n.props.locale)}:function(s){return ik(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(K.Component);function ice(t,e){for(var n=[],r=Js(t),i=Js(e);!ia(r,i);)n.push(qt(r)),r=Qi(r,1);return n}var sce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=a_(i),o=as(r.props.date,i)&&jr(r.props.date,i);return se.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",sn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:ice(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=or({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(Rv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),oce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Js(n.props.minDate),i=Js(n.props.maxDate),s=[];!ia(r,i);){var o=a_(r);s.push(se.createElement("option",{key:o,value:o},sn(r,n.props.dateFormat,n.props.locale))),r=Qi(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:a_(Js(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=sn(n.props.date,n.props.dateFormat,n.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return se.createElement(sce,kt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=qt(r);as(n.props.date,i)&&jr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(K.Component),ace=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&MI(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&PI(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&Kue(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&MI(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&PI(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Es(r)*3600+ks(r)*60+Xs(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||qt(),l=qp(a),h=n.props.injectTimes&&n.props.injectTimes.sort(function(w,b){return w.getTime()-b.getTime()}),c=60*Gue(a),f=c/o,p=0;p<f;p++){var m=i_(l,p*o);if(i.push(m),h){var g=Yue(l,m,p,o,h);i=i.concat(g)}}var y=i.reduce(function(w,b){return b.getTime()<=a.getTime()?b:w},i[0]);return i.map(function(w){return se.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(b){w===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},sn(w,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(K.Component),WI=3,lce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=ys([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return Ei(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return sk(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,h,c=r.props,f=c.date,p=c.yearItemNumber;if(!(f===void 0||p===void 0)){var m=Wo(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-m<0?r.updateFocusOnPaginate(p-(m-i)):i-m>=p?r.updateFocusOnPaginate(Math.abs(p-(i-m))):(h=(l=r.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||h===void 0||h.focus())}},r.isSameDay=function(i,s){return _t(i,s)},r.isCurrentYear=function(i){return i===vt(qt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&as(ss(qt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&as(ss(qt(),i),r.props.endDate)},r.isInRange=function(i){return yp(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,h=s.startDate,c=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&c?yp(i,r.selectingDate(),c):a&&h||l&&h&&!c?yp(i,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,h=ss(qt(),i);return l?as(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):as(h,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,h=o.selectsRange,c=ss(qt(),i);return l||h?as(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):as(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,h=s.includeDates,c=s.filterDate,f=hd(ss(r.props.date,i)),p=(o||a||l||h||c)&&Hp(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!_t(f,hd(r.props.selected))&&_t(f,hd(r.props.preSelection))&&!p}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(hd(ss(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,h=r.props,c=h.date,f=h.yearItemNumber,p=h.handleOnKeyDown;if(l!==Ae.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ks(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Fu(r.props.preSelection,1));break;case Ae.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var m=Wo(c,f).startPeriod,g=WI,y=s-g;if(y<m){var w=f%g;s>=m&&s<m+w?g=w:g+=w,y=s-g}r.handleYearNavigation(y,Fu(r.props.preSelection,g));break}case Ae.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var b=Wo(c,f).endPeriod,g=WI,y=s+g;if(y>b){var w=f%g;s<=b&&s>b-w?g=w:g+=w,y=s+g}r.handleYearNavigation(y,Ks(r.props.preSelection,g));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,h=s.selected,c=s.excludeDates,f=s.includeDates,p=s.filterDate,m=s.yearClassName;return or("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(ss(o,i)):void 0,{"react-datepicker__year-text--selected":h?i===vt(h):void 0,"react-datepicker__year-text--disabled":(a||l||c||f||p)&&Hp(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=vt(r.props.preSelection),o=Hp(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var h=Wo(s,o),c=h.startPeriod,f=h.endPeriod,p=function(y){r.push(se.createElement("div",{ref:m.YEAR_REFS[y-c],onClick:function(w){n.onYearClick(w,y)},onKeyDown:function(w){X5(w)&&(w.preventDefault(),w.key=Ae.Enter),n.onYearKeyDown(w,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return a(w,y)},onPointerEnter:m.props.usePointerEvent?function(w){return a(w,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return l(w,y)},onPointerLeave:m.props.usePointerEvent?function(w){return l(w,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,g=c;g<=f;g++)p(g);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(K.Component);function uce(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=vt(n)<=o),r&&a&&(a=vt(r)>=o),a&&i.push(o)}return i}var cce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return se.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),h=r.props.minDate?vt(r.props.minDate):null,c=r.props.maxDate?vt(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(f){return f===h}))&&l.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(h){return h+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:uce(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=or({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(Rv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),dce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?vt(n.props.minDate):1900,i=n.props.maxDate?vt(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(se.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return se.createElement(cce,kt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(K.Component),fce=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],hce=function(t){var e=(t.className||"").split(/\s+/);return fce.some(function(n){return e.indexOf(n)>=0})},pce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;hce(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=K5(r.props),h=Q5(r.props),c=qt(),f=a||o||s;return f||(l&&dl(c,l)?l:h&&ia(c,h)?h:c)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Qi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ya(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:ss(qt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ei(i,r.props))return i;for(var s=Js(i),o=Mue(i),a=hoe(o,s),l=null,h=0;h<=a;h++){var c=Hi(s,h);if(!Ei(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:ss(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:ai(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:ss(ai(o,$r(i)),vt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Zo(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Hi(s,a),h=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return se.createElement("div",{key:a,"aria-label":sn(l,"EEEE",r.props.locale),className:or("react-datepicker__day-name",c)},h)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?Lue(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Fue(i,s):jue(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Fu(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,c=Ya(r.state.date,h),f;switch(!0){case r.props.showMonthYearPicker:f=FI(r.state.date,r.props);break;case r.props.showYearPicker:f=que(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=Uue(r.state.date,r.props);break;default:f=LI(c,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,b=w.previousMonthButtonLabel,_=b===void 0?e.defaultProps.previousMonthButtonLabel:b,E=w.previousYearButtonLabel,S=E===void 0?e.defaultProps.previousYearButtonLabel:E,k=r.props,N=k.previousMonthAriaLabel,O=N===void 0?typeof _=="string"?_:"Previous Month":N,C=k.previousYearAriaLabel,I=C===void 0?typeof S=="string"?S:"Previous Year":C;return se.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?I:O},se.createElement("span",{className:p.join(" ")},y?S:_))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Ks(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=$I(r.state.date,r.props);break;case r.props.showYearPicker:s=Hue(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=Vue(r.state.date,r.props);break;default:s=jI(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,m=c.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=r.props,w=y.nextMonthAriaLabel,b=w===void 0?typeof p=="string"?p:"Next Month":w,_=y.nextYearAriaLabel,E=_===void 0?typeof g=="string"?g:"Next Year":_;return se.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?E:b},se.createElement("span",{className:a.join(" ")},h?g:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:s.join(" ")},sn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(dce,kt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(rce,kt({},e.defaultProps,r.props,{month:$r(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(oce,kt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(DI(),i),r.props.setPreSelection&&r.props.setPreSelection(DI())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),se.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=LI(r.state.date,r.props),c=jI(r.state.date,r.props),f=FI(r.state.date,r.props),p=$I(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,kt(kt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),m&&se.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,h=l===void 0?e.defaultProps.yearItemNumber:l,c=Wo(s,h),f=c.startPeriod,p=c.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):vt(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ks(r.state.date,l):Ya(r.state.date,l),c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<a;++f){var p=f-c+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ks(h,p):Qi(h,p),g="month-".concat(f),y=f<a-1,w=f>0;o.push(se.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:f}),se.createElement(tce,kt({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(lce,kt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(ace,kt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&qs(i)&&!!r.props.selected,o=s?"".concat(UI(i.getHours()),":").concat(UI(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(Que,kt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Wo(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=vt(r.state.date):l="".concat(ik($r(r.state.date),r.props.locale)," ").concat(vt(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Lf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!jr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||Cue;return se.createElement(Rv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},se.createElement(n,{className:or("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(K.Component),mce=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):se.isValidElement(e)?se.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},J5=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return __.createPortal(this.props.children,this.el)},e}(K.Component),gce="[tabindex], a, button, input, select, textarea",vce=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},Z5=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(gce),1,-1).filter(vce)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(K.Component);function yce(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=K.useRef(null),o=Tue(kt({open:!i,whileElementsMounted:V5,placement:n.popperPlacement,middleware:ys([due({padding:15}),cue(10),fue({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=kt(kt({},n),{hidePopper:i,popperProps:kt(kt({},o),{arrowRef:s})});return se.createElement(t,kt({},a))};return e}var wce=function(t){Xn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,h=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,m=n.popperProps,g=n.showArrow,y=void 0;if(!o){var w=or("react-datepicker-popper",r);y=se.createElement(Z5,{enableTabLoop:h},se.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},a,g&&se.createElement(wue,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=K.createElement(this.props.popperContainer,{},y)),f&&!o&&(y=se.createElement(J5,{portalId:f,portalHost:p},y));var b=or("react-datepicker-wrapper",i);return se.createElement(se.Fragment,null,se.createElement("div",{ref:m.refs.setReference,className:b},l),y)},e}(K.Component),bce=yce(wce),YI="react-datepicker-ignore-onclickoutside";function xce(t,e){return t&&e?$r(t)!==$r(e)||vt(t)!==vt(e):t!==e}var jb="Date input not valid.",_ce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:qt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return qs(a)?ys(ys([],s,!0),[kt(kt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=K5(r.props),a=Q5(r.props),l=o&&dl(s,qp(o))?o:a&&ia(s,II(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:BI(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(kt(kt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(kt(kt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Fb},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Qs(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:Sce});var h=r.props,c=h.dateFormat,f=c===void 0?e.defaultProps.dateFormat:c,p=h.strictParsing,m=p===void 0?e.defaultProps.strictParsing:p,g=h.selectsRange,y=h.startDate,w=h.endDate,b=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(g){var _=b.split("-",2).map(function(R){return R.trim()}),E=_[0],S=_[1],k=Pb(E??"",f,r.props.locale,m),N=Pb(S??"",f,r.props.locale,m),O=(y==null?void 0:y.getTime())!==(k==null?void 0:k.getTime()),C=(w==null?void 0:w.getTime())!==(N==null?void 0:N.getTime());if(!O&&!C||k&&Ei(k,r.props)||N&&Ei(N,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[k,N],l)}else{var I=Pb(b,f,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&I&&!_t(I,r.props.selected)&&(I=kle(r.props.selected,{hours:Es(I),minutes:ks(I),seconds:Xs(I)})),(I||!b)&&r.setSelected(I,l,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,h=a.endDate;l&&!h&&(r.props.swapRange||!HI(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,h,c=i;if(r.props.showYearPicker){if(c!==null&&Hp(vt(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&G5(c,r.props))return}else if(c!==null&&Ei(c,r.props))return;var f=r.props,p=f.onChange,m=f.selectsRange,g=f.startDate,y=f.endDate,w=f.selectsMultiple,b=f.selectedDates,_=f.minTime,E=f.swapRange;if(!Ua(r.props.selected,c)||r.props.allowSameDay||m||w)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Mb(c,{hour:Es(r.props.selected),minute:ks(r.props.selected),second:Xs(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(c=Mb(c,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var S=!g&&!y,k=g&&!y,N=g&&y;S?p==null||p([c,null],s):k&&(c===null?p==null||p([null,null],s):HI(c,g)?E?p==null||p([c,g],s):p==null||p([c,null],s):p==null||p([g,c],s)),N&&(p==null||p([c,null],s))}else if(w){if(c!==null)if(!(b!=null&&b.length))p==null||p([c],s);else{var O=b.some(function(I){return _t(I,c)});if(O){var C=b.filter(function(I){return!_t(I,c)});p==null||p(C,s)}else p==null||p(ys(ys([],b,!0),[c],!1),s)}}else p==null||p(c,s);o||((h=(l=r.props).onSelect)===null||h===void 0||h.call(l,c,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=Qs(r.props.minDate),o=Qs(r.props.maxDate),a=!0;if(i){var l=qp(i);if(s&&o)a=pd(i,r.props.minDate,r.props.maxDate);else if(s){var h=qp(r.props.minDate);a=ia(i,h)||Ua(l,h)}else if(o){var c=II(r.props.maxDate);a=dl(i,c)||Ua(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Mb(a,{hour:Es(i),minute:ks(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,h,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Ae.ArrowDown||f===Ae.ArrowUp||f===Ae.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Ae.ArrowDown||f===Ae.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=qt(r.state.preSelection);f===Ae.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Fb?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===Ae.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Ae.Tab&&r.setOpen(!1),r.inputOk()||(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,h,c,f=r.props,p=f.minDate,m=f.maxDate,g=f.disabledKeyboardNavigation,y=f.showWeekPicker,w=f.shouldCloseOnSelect,b=f.locale,_=f.calendarStartDay,E=f.adjustDateOnChange,S=f.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var k=i.key,N=i.shiftKey,O=qt(r.state.preSelection),C=function(q,L){var B=L;switch(q){case Ae.ArrowRight:B=y?Fm(L,1):Hi(L,1);break;case Ae.ArrowLeft:B=y?xI(L):lle(L);break;case Ae.ArrowUp:B=xI(L);break;case Ae.ArrowDown:B=Fm(L,1);break;case Ae.PageUp:B=N?Fu(L,1):Ya(L,1);break;case Ae.PageDown:B=N?Ks(L,1):Qi(L,1);break;case Ae.Home:B=Zo(L,b,_);break;case Ae.End:B=Pue(L);break}return B},I=function(q,L){for(var B=40,Y=q,H=!1,j=0,U=C(q,L);!H;){if(j>=B){U=L;break}p&&U<p&&(Y=Ae.ArrowRight,U=Ei(p,r.props)?C(Y,U):p),m&&U>m&&(Y=Ae.ArrowLeft,U=Ei(m,r.props)?C(Y,U):m),Ei(U,r.props)?((Y===Ae.PageUp||Y===Ae.Home)&&(Y=Ae.ArrowRight),(Y===Ae.PageDown||Y===Ae.End)&&(Y=Ae.ArrowLeft),U=C(Y,U)):H=!0,j++}return U};if(k===Ae.Enter){i.preventDefault(),r.handleSelect(O,i),!w&&r.setPreSelection(O);return}else if(k===Ae.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:jb});return}var R=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:R=I(k,O);break}if(!R){(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Fb}),E&&r.setSelected(R),r.setPreSelection(R),S){var A=$r(O),D=$r(R),M=vt(O),F=vt(R);A!==D||M!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(pce,kt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Wue(r.modifyHolidays()),outsideClickIgnoreClass:YI,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,h=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Si(r.props.startDate,{dateFormat:h,locale:a}),". ").concat(r.props.endDate?"End date: "+Si(r.props.endDate,{dateFormat:h,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Si(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(Si(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(Si(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Si(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(Si(r.props.selected,{dateFormat:h,locale:a})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o,a=or(r.props.className,(i={},i[YI]=r.state.open,i)),l=r.props.customInput||se.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,m=c.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Aue(r.props.startDate,r.props.endDate,{dateFormat:p,locale:m}):r.props.selectsMultiple?Due((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:m}):Si(r.props.selected,{dateFormat:p,locale:m});return K.cloneElement(l,(s={},s[h]=function(y){r.input=y},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=or(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,h=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,m=i.ariaLabelClose,g=m===void 0?"Close":m,y=i.selectedDates;return s&&(a!=null||l!=null||h!=null||y!=null&&y.length)?se.createElement("button",{type:"button",className:or("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Lf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&xce(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:BI(this.props.highlightDates)}),!r.focused&&!Ua(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(mce,kt({icon:i,className:or(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?se.createElement(Z5,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(J5,kt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(bce,kt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(K.Component),Sce="input",Fb="navigate";function zi({text:t,htmlFor:e,className:n}){return x.jsx("label",{htmlFor:e||t,className:`flex flex-col py-1 pl-1 text-sm font-medium text-blue1 ${n}`,children:t})}function Pv({label:t,resetDate:e,...n}){return x.jsxs("div",{className:"flex flex-col",children:[t&&x.jsx(zi,{text:t}),x.jsxs("div",{className:"relative",children:[x.jsx(RE,{className:"absolute left-3 top-3.5 z-[1] size-5"}),x.jsx(_ce,{...n,locale:f3,minDate:new Date,shouldCloseOnSelect:!0,popperPlacement:"bottom",timeCaption:"",timeInputLabel:":",timeFormat:"HH:mm",timeIntervals:10,onFocus:r=>r.target.blur(),className:`h-12 w-full rounded-xl border border-gray1 px-3 py-2 pl-10 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none ${n.className}`}),e&&x.jsx("button",{type:"button",onClick:e,children:x.jsx(F3,{className:"absolute right-3 top-3 z-[1] size-[23px] text-gray1"})})]})]})}const Wt=se.forwardRef(function({iconName:t,inputType:e,label:n,errorMsg:r,containerClassName:i,children:s,tailIconChildren:o,...a},l){const h={FiMapPin:x.jsx(LE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiSearch:x.jsx(jE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiHash:x.jsx(Gre,{className:"absolute left-3 top-3.5 size-[20px]"}),FiChevronsDown:x.jsx(zre,{className:"absolute left-3 top-3.5 size-[20px]"}),FaMedal:x.jsx(zE,{className:"absolute left-3 top-3.5 size-[20px]"})},c="h-12 w-full rounded-xl border focus:border-purple2 border-gray1 focus:read-only:border-gray1 focus:read-only:border focus:border-2 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none py-2";return x.jsxs("div",{className:`relative flex w-full flex-col ${i}`,children:[n&&x.jsx(zi,{text:n}),t?x.jsxs("div",{className:"relative w-full",children:[h[t],x.jsx("input",{...a,ref:l,id:n||a.id,className:`pl-10 pr-3 ${c} ${a.className}`}),o]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{...a,ref:l,id:n||a.id,className:`px-3 ${c} ${a.className}`}),o]}),r&&x.jsx("p",{className:"pl-2 pt-1 text-sm text-red-500",children:r}),s]})});function eF({title:t,currentValue:e,yearMonthId:n,registerBook:r}){var S;const i=Pe(Pt),s=Pe(Dr(n)),o=s?{...s.meeting,...e}:e,{currMeeting:a,onMeetingChange:l,savedPlaceList:h,onMeetingEdit:c,onNewBookClubSubmit:f}=A3(o,n),{anonymous:p}=ni("register"),{isPending:m}=Ji(),{hideModal:g}=bt(),{errorMsg:y,handleErrorMsg:w}=DE(),b={place:[{condition:a.place==="",error:" ."}]},_=+n.slice(-2),E=async k=>{k.preventDefault();try{if(w(b))return;if(s)await c({meeting:a}),alert(`${_}   !`);else{const O={meeting:a,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i.uid,book:r};await f(O),alert(`${_}   !`)}g()}catch{window.alert("     .  ."),g()}};return x.jsx(ur,{title:t,className:"max-w-96 max-sm:mt-[30%]",children:x.jsxs("form",{onSubmit:E,className:"flex flex-col gap-y-3",children:["time"in e&&x.jsx(Pv,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:new Date(a.time),dateFormat:"M d EEEE a hh:mm",onChange:k=>{l({time:ht(k,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0}),"place"in e&&x.jsx(Wt,{label:"",value:a.place,onChange:k=>{l({place:k.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:y==null?void 0:y.place,children:x.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(S=h==null?void 0:h.place)==null?void 0:S.map(k=>x.jsx(Fn,{text:k,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>l({place:k})},k))})}),x.jsx(at,{type:"submit",name:s!=null&&s.meeting?"":`${_}  `,className:"ml-auto",disabled:m||p,color:"blue"}),p&&x.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function ok({label:t,value:e,editable:n}){const{showModal:r}=bt(),i={:x.jsx(LE,{className:"inline"}),:x.jsx(RE,{className:"inline"}),:x.jsx(Dm,{className:"inline"}),:x.jsx(Dm,{className:"inline"})};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"relative flex h-full items-center overflow-hidden rounded-card bg-white px-4 py-2 shadow-card max-sm:px-4",children:[x.jsxs("h4",{className:"flex min-w-20 items-center gap-0.5 tracking-tight text-gray2",children:[i[t],t]}),x.jsxs("div",{className:"flex w-full flex-1 py-1",children:[e&&x.jsxs(x.Fragment,{children:[typeof e!="string"&&(e.includes("no_host")||e.length===0?x.jsx("span",{children:" "}):e==null?void 0:e.map(s=>x.jsx(cr,{userId:s,className:"mr-1"},s))),typeof e=="string"&&e&&x.jsx("span",{className:"tracking-tight",children:t===""?ht(e,"M d a h:mm"):e})]}),!e&&x.jsx("span",{className:"text-center text-sm text-gray2 max-sm:text-start",children:"  "})]}),n&&x.jsx("button",{type:"button",onClick:()=>r({element:typeof e=="string"&&x.jsx(eF,{title:t,currentValue:t===""?{time:e}:{place:e},yearMonthId:gn})}),className:"absolute bottom-0 right-0 p-3",children:x.jsx(L3,{stroke:"#aaa",size:16})})]})})}function ak({yearMonthId:t,event:e,className:n=""}){var a,l,h;const r=Pe(Dr(t)),i=r&&[{label:"",value:(a=r.meeting)==null?void 0:a.place},{label:"",value:(l=r.meeting)==null?void 0:l.time},{label:"",value:(h=r.meeting.eventMonth)==null?void 0:h.hosts}],s=+t.slice(-2),{pathname:o}=Nr();return x.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[x.jsxs("div",{className:`flex flex-col justify-between rounded-card bg-white px-4 py-5 shadow-card ${n}`,children:[o==="/"&&x.jsx(Fn,{text:`${s} `,color:+s==+Ti?"green":"purple",shape:"rounded",className:"mb-3 font-medium shadow-2xl"}),x.jsx("h1",{className:"mb-1.5 line-clamp-2 w-full text-lg font-medium leading-6",children:e.eventMonth.title}),x.jsxs("span",{className:"text-gray1",children:["  ",e.eventMonth.contents.length,""]})]}),x.jsx("ul",{className:"col-span-1 flex flex-col gap-4",children:i.map(({label:c,value:f})=>x.jsx("li",{children:x.jsx(ok,{label:c,value:f,editable:!1})},c))})]})}function GI({initialContent:t,contents:e}){const{onEditSubmit:n,setEditedData:r,editedData:i}=ec({collName:lo,docId:`${Tt}-12`,dataToUpdate:{"meeting.eventMonth.contents":e}}),s=i["meeting.eventMonth.contents"].find(({id:a})=>a===t.id),o=a=>{const l=i["meeting.eventMonth.contents"],h={...s,...a},c=l.map(f=>f.id===h.id?h:f);r({"meeting.eventMonth.contents":c})};return x.jsx(ur,{title:" ",children:x.jsxs("form",{className:"mb-4 flex flex-col gap-y-2 overflow-scroll",onSubmit:n,children:[x.jsx(Wt,{value:(s==null?void 0:s.title)||"",onChange:a=>o({title:a.target.value}),label:" ",placeholder:"  ."}),x.jsxs("div",{children:[x.jsx(zi,{text:" "}),x.jsx("textarea",{id:" ",placeholder:"    .",value:s==null?void 0:s.detail,onChange:a=>o({detail:a.target.value}),className:"min-h-40 w-full resize-none rounded-xl border border-gray1 bg-white p-2.5 outline-none"})]}),x.jsx(Wt,{value:(s==null?void 0:s.reward)||"",onChange:a=>o({reward:a.target.value}),label:"",placeholder:"  .",iconName:"FaMedal"}),x.jsx(Pv,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:s!=null&&s.deadline?new Date(s==null?void 0:s.deadline):null,dateFormat:"MM dd",onChange:a=>o({deadline:ht(a,"yyyy-MM-dd")}),resetDate:()=>o({deadline:null})}),x.jsx(at,{type:"submit",name:"",className:"ml-auto",size:"md"})]})})}function Xm({onClick:t,disabled:e,className:n=""}){return x.jsx("button",{type:"button",onClick:t,disabled:e,className:`flex size-[26px] items-center justify-center p-1 disabled:text-gray2 ${n}`,children:x.jsx(ME,{className:"size-full"})})}function Zi({text:t,children:e,createBtnTitle:n,onCreateClick:r}){return x.jsxs("div",{className:"flex h-full min-h-[200px] w-full flex-col items-center justify-center gap-5 rounded-card bg-white p-4 shadow-card max-md:h-[200px]",children:[x.jsx("span",{className:"text-sm text-gray1",children:t}),r&&x.jsx(at,{name:n,color:"purple",handleClick:r,tailChildren:x.jsx(Rse,{size:18})}),e]})}function Ece({eventDetail:t}){const{showModal:e}=bt(),n=async o=>{e({element:x.jsx(GI,{initialContent:o,contents:t.contents})})},r=()=>{const o={id:jt(),title:"",detail:""};e({element:x.jsx(GI,{initialContent:o,contents:[...t.contents,o]})})},i=T_(),s=gn===i.id||!i;return x.jsx(Ot,{title:" ",titleBtn:s&&x.jsx("button",{type:"button",onClick:r,children:x.jsx(vv,{className:"text-lg text-blue1"})}),children:t.contents.length>0?x.jsx("ul",{className:"flex flex-col gap-y-3",children:t.contents.map(o=>x.jsxs(Rf,{title:`${o.title} ${o!=null&&o.reward?"":""} ${o!=null&&o.deadline?"":""}`,children:[x.jsxs("div",{className:"flex items-start gap-x-1",children:[(o==null?void 0:o.reward)&&x.jsx(Fn,{text:`${o!=null&&o.reward?"":""} `,shape:"rounded",className:"!mb-2 border border-blue3 !px-2.5 !py-1.5 !text-[13px] font-medium"}),(o==null?void 0:o.deadline)&&x.jsx(Fn,{text:`${o!=null&&o.deadline?"":""} ${ht(o.deadline,"yy.M.d")} `,color:"lightGreen",shape:"rounded",className:"!mb-2 border border-green-500 !px-2.5 !py-1.5 !text-[13px] font-medium"})]}),x.jsx("p",{className:"whitespace-pre-wrap px-0.5 text-[15px] text-gray1",children:o.detail||"   ."}),x.jsx("div",{className:"mb-4 ml-auto flex gap-x-2",children:x.jsx(Xm,{onClick:()=>n(o),className:"size-[24px] text-gray1"})})]},o.id))}):x.jsx(Zi,{text:" "})})}function tF({month:t,book:e,field:n,className:r=""}){const{title:i,thumbnail:s,authors:o,publisher:a,url:l}=e;return x.jsxs("div",{className:`flex justify-between gap-x-2 rounded-card bg-white px-4 py-5 shadow-card ${r}`,children:[x.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[x.jsx(Fn,{text:`${t} `,color:+t==+Ti?"lightBlue":"purple",shape:"rounded",className:"font-medium"}),x.jsxs("div",{className:"ml-1",children:[x.jsx("h1",{className:"mb-0.5 mt-2.5 line-clamp-2 w-full text-lg font-medium leading-[22px]",children:i}),x.jsx(Is,{authors:o,publisher:a}),n&&x.jsxs("div",{className:"mt-2 flex flex-1 items-center gap-x-0.5",children:[x.jsx(Ure,{className:"text-[15px] text-purple2"}),x.jsx("span",{className:"text-[15px] text-purple2",children:n})]})]})]}),x.jsx(un,{title:i,thumbnail:s,url:l,className:"w-[84px]"})]})}function nF(){var s,o;const t=Pe(Dr(gn)),e=Pe(O3(gn)),{pathname:n}=Nr(),r=Or(),i=t&&[{label:"",value:(s=t.meeting)==null?void 0:s.time,editable:n==="/bookclub"},{label:"",value:(o=t.meeting)==null?void 0:o.place,editable:n==="/bookclub"},{label:"",value:e==null?void 0:e.hosts}];return x.jsx(x.Fragment,{children:t?t!=null&&t.book?x.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[x.jsx(tF,{month:Ti,book:t.book,field:e==null?void 0:e.field,className:"col-span-1"}),x.jsx("div",{className:"col-span-1 flex flex-col gap-4",children:i.map(({label:a,value:l,editable:h})=>x.jsx(ok,{label:a,value:l,editable:h},a))})]}):x.jsx(ak,{yearMonthId:gn,event:t.meeting}):x.jsx(Zi,{text:"    .",createBtnTitle:"  ",onCreateClick:()=>r("/search",{state:{registerYearMonth:gn}})})})}function kce(){const t=Os(o3),e=Pe(D3),n=Pe(s3),{uid:r}=Pe(Pt),[i,s]=K.useState({wholePage:0,currentPage:0}),o=e,{title:a,thumbnail:l,authors:h,publisher:c}=n,{anonymous:f,alertAskJoinMember:p}=ni("write"),{hideModal:m}=bt(),g=async w=>{var E;if(w.preventDefault(),f)return p();if(Number.isNaN(i.currentPage)||Number.isNaN(i.wholePage))return alert(" .");if(i.wholePage===0)return alert("   0   .   !");if(i.currentPage>i.wholePage)return alert("       .   !");if((E=o==null?void 0:o.books)==null?void 0:E.find(S=>S.title===a))return alert("    .");const _=o?{...o,books:[...o.books,{...n,...i}]}:{createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r,books:[{...n,...i}]};await Ns(ln(Jt,ll,r),_),t([]),m(),alert("2024    !   !")},y=(w,b)=>{const{value:_}=w.target,E=b==="wholePage"?{wholePage:+_}:{currentPage:+_};s({...i,...E})};return x.jsxs("form",{onSubmit:g,children:[x.jsx("h3",{children:"  "}),x.jsxs("div",{children:[x.jsx(un,{title:a,thumbnail:l}),x.jsxs("div",{children:[x.jsx("h4",{children:a}),x.jsx(Is,{authors:h,publisher:c})]})]}),x.jsxs("div",{children:[x.jsx(Wt,{label:"  ",name:"wholePage",value:`${i.wholePage}`,placeholder:"   .",onChange:w=>y(w,"wholePage")}),x.jsx(Wt,{label:"  ",name:"currentPage",value:`${i.currentPage}`,placeholder:"   .",onChange:w=>y(w,"currentPage")})]}),x.jsx(at,{type:"submit",name:" "})]})}function ic({book:t,className:e}){const{authors:n,publisher:r,thumbnail:i,title:s}=t;return x.jsxs("div",{className:`flex w-full items-center gap-2 py-1 ${e}`,children:[x.jsx(un,{thumbnail:i,title:s,className:"ml-1 w-7"}),x.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-start",children:[x.jsx("h5",{className:"line-clamp-1 truncate whitespace-pre-wrap text-start font-medium",children:s}),n&&r&&x.jsx(Is,{authors:n,publisher:r})]})]})}function Tce(){const{book:t}=Pe(Dr(gn)),e=Pe(bE),{uid:n}=Pe(Pt),{sendPostPushNotification:r,isPending:i}=Ji(),s=xr(gn,g3),o={text:"",createdAt:"",creatorId:n,clubBook:t||null,recommendedBook:e},{onAddDocSubmit:a,onDataChange:l,newDocData:h}=CE({collName:s,initialDocData:o}),{hideModal:c}=bt(),f=async p=>{if(p.preventDefault(),e.title==="")return window.alert("    .");if(h.text==="")return window.alert("  .");try{await a(p),l({text:""}),await r("")}catch{window.alert("    .  .")}finally{c()}};return x.jsxs("form",{onSubmit:f,children:[x.jsx("textarea",{placeholder:"   .",onChange:p=>l({text:p.target.value}),value:h.text,className:"h-32 w-full resize-none rounded-xl border border-gray2 p-3 outline-none"}),x.jsxs("div",{className:"mt-3 flex items-end justify-between gap-3",children:[e.thumbnail&&x.jsx(ic,{book:e,className:"h-14"}),x.jsx(at,{name:"",type:"submit",className:"ml-auto h-fit min-w-max",disabled:i})]})]})}function rF(){return x.jsx("div",{className:"border-b-2 border-dotted border-gray2"})}function iF({searchList:t,onSelectBtnClick:e}){return x.jsx("ul",{className:"mt-2 h-64 overflow-scroll",children:t.map(({isbn:n,title:r,thumbnail:i,authors:s,publisher:o,url:a},l)=>x.jsxs(K.Fragment,{children:[x.jsx("li",{className:"py-2",children:x.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-x-2",onClick:()=>e({title:r,thumbnail:i,authors:s,publisher:o,url:a}),children:[x.jsx(ic,{book:{title:r,thumbnail:i,authors:s,publisher:o,url:a},className:"h-14"}),x.jsx(M3,{className:"text-lg text-blue1"})]})}),(t==null?void 0:t.length)-1!==l&&x.jsx(rF,{})]},`${r}-${n}`))})}function Cce({title:t}){const e=Os(bE),n=Os(s3),[r,i]=K.useState(1),{searchInputRef:s,onBookQueryChange:o,searchList:a}=IE();K.useEffect(()=>{s&&!a.length&&s.current.focus()},[]);const l=c=>{h(2),t===" "?e(c):n(c)},h=c=>i(c);return x.jsxs(ur,{title:t,children:[r===1&&x.jsxs("div",{className:"relative mt-3 min-h-64 max-sm:mt-0",children:[x.jsx(Wt,{ref:s,placeholder:`${t===" "?"":" "} .`,onChange:o,className:"bg-gray-50 pl-9",iconName:"FiSearch"}),(a==null?void 0:a.length)!==0&&x.jsx(iF,{searchList:a,onSelectBtnClick:l})]}),r===2&&(t===" "?x.jsx(Tce,{}):x.jsx(kce,{}))]})}const Nce=()=>{const{showModal:t}=bt();return x.jsx(x.Fragment,{children:x.jsxs("button",{className:"mb-[10px] flex w-1/2 items-center gap-1 rounded-full bg-white px-4 py-3 shadow-card max-sm:w-full",onClick:()=>t({element:x.jsx(Cce,{title:" "})}),children:[x.jsx(jE,{fontSize:18}),x.jsx("span",{className:"text-sm text-gray2",children:" "})]})})},sF=$n({key:`subjectDocs/${jt()}`,default:null}),oF=$n({key:`hostReviews/${jt()}`,default:null}),Oce=$n({key:`meetingReviewDocs/${jt()}`,default:[]});function Ace(t){return it({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function Dce(t){return it({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.379-2.143-4.288-4.521-3.965C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.035C6.138 3.712 4 5.621 4 8c0 .173.012.347.035.521C2.802 9.215 2 10.535 2 12s.802 2.785 2.035 3.479A3.976 3.976 0 0 0 4 16c0 2.379 2.138 4.283 4.521 3.965C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.035C17.857 20.283 20 18.379 20 16c0-.173-.012-.347-.035-.521C21.198 14.785 22 13.465 22 12s-.802-2.785-2.035-3.479zm-9.01 7.895-3.667-3.714 1.424-1.404 2.257 2.286 4.327-4.294 1.408 1.42-5.749 5.706z"},child:[]}]})(t)}const Ice=({docMonth:t})=>{const[e,n]=K.useState(!1),{book:r}=Pe(Dr(gn)),{uid:i}=Pe(Pt),s=xr(t,xE),o={text:"",createdAt:"",creatorId:i,clubBook:r||null,isAnonymous:e},{onAddDocSubmit:a,onDataChange:l,newDocData:h}=CE({collName:s,initialDocData:o}),{isPending:c,sendPostPushNotification:f}=Ji(),p=async m=>{if(m.preventDefault(),h.text!=="")try{await a(m),l({text:""}),await f(" ")}catch{window.alert("     .  .")}};return x.jsx("form",{onSubmit:p,className:"mb-5 rounded-2xl bg-purple4 p-4 shadow-card max-sm:p-4",children:x.jsxs("div",{className:"flex flex-col",children:[x.jsx("textarea",{placeholder:"     (  !).",value:h.text,onChange:m=>{l({text:m.target.value})},className:"mb-1 min-h-40 w-full resize-none rounded-xl bg-white p-2.5 outline-none"}),x.jsxs("div",{className:"flex items-end",children:[x.jsxs("button",{type:"button",className:`flex items-center ${e?"text-blue3":"text-gray2"} py-1`,onClick:()=>n(m=>!m),children:[x.jsx(Ace,{}),x.jsx("span",{className:"pl-1",children:" "})]}),x.jsx(at,{name:"",type:"submit",color:"blue",className:"ml-auto mt-2 !px-5 !py-2",disabled:c})]})]})})};function aF({creatorId:t,isAnonymous:e}){return x.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[x.jsx(tie,{fontSize:14}),x.jsx("span",{className:"mr-2 text-sm",children:""}),e?x.jsx("span",{className:"text-sm",children:" "}):x.jsx(cr,{userId:t,isLink:!1})]})}function lF({collName:t,post:e,postType:n}){const{uid:r}=Pe(Pt),{creatorId:i,isAnonymous:s}=e;return x.jsxs("header",{className:"flex items-center justify-between gap-1 rounded-xl",children:[x.jsx(aF,{creatorId:i,isAnonymous:s}),r===i&&t&&x.jsx(X3,{post:e,collName:t,postType:n})]})}function lk({type:t,post:e,collName:n,className:r,children:i}){const{text:s}=e;return x.jsxs("article",{className:`flex min-h-[80px] w-full flex-col gap-2.5 ${r}`,children:[x.jsx(lF,{collName:n,post:e,postType:t}),x.jsx($E,{text:s}),i]})}const Rce=({yearMonthId:t=gn})=>{const[e,n]=an(Oce),r=xr(t,xE);K.useEffect(()=>{jn(r,n)},[r]);const i=t===gn;return x.jsxs("div",{className:`${!i&&e.length===0?"columns-1":"columns-2"} max-sm:columns-1`,children:[i&&x.jsx(Ice,{docMonth:t}),(e==null?void 0:e.length)!==0?x.jsx("ul",{children:e==null?void 0:e.map(s=>x.jsx("li",{className:"mb-6 flex w-full break-inside-avoid flex-col gap-4",children:x.jsx(lk,{type:" ",post:s,collName:r,className:"rounded-2xl bg-white p-4 shadow-card",children:x.jsx(yv,{createdAt:s.createdAt,footerType:"likes",post:s,collName:r})})},s.id))}):x.jsx(Zi,{text:"   ."})]})};function KI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function uk(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:KI(e[n])&&KI(t[n])&&Object.keys(e[n]).length>0&&uk(t[n],e[n])})}const uF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ci(){const t=typeof document<"u"?document:{};return uk(t,uF),t}const Pce={document:uF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ir(){const t=typeof window<"u"?window:{};return uk(t,Pce),t}function Lo(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Mce(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Jm(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Zm(){return Date.now()}function Lce(t){const e=Ir();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function jce(t,e){e===void 0&&(e="x");const n=Ir();let r,i,s;const o=Lce(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function xp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Fce(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function li(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!Fce(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(xp(t[a])&&xp(r[a])?r[a].__swiper__?t[a]=r[a]:li(t[a],r[a]):!xp(t[a])&&xp(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:li(t[a],r[a])):t[a]=r[a])}}}return t}function _p(t,e,n){t.style.setProperty(e,n)}function cF(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Ir(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const h=n>s?"next":"prev",c=(p,m)=>h==="next"&&p>=m||h==="prev"&&p<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let g=s+m*(n-s);if(c(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),c(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function ws(t,e){e===void 0&&(e="");const n=Ir(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function $ce(t,e){var r,i;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((r=s.shadowRoot)==null?void 0:r.children)||[],...((i=s.assignedElements)==null?void 0:i.call(s))||[])}}function Bce(t,e){const n=Ir();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=$ce(t,e))),r}function eg(t){try{console.warn(t);return}catch{}}function Xd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Lo(e)),n}function Uce(t){const e=Ir(),n=Ci(),r=t.getBoundingClientRect(),i=n.body,s=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:r.top+a-s,left:r.left+l-o}}function Vce(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function qce(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Yo(t,e){return Ir().getComputedStyle(t,null).getPropertyValue(e)}function tg(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function dF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function c_(t,e,n){const r=Ir();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function qn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let $b;function Hce(){const t=Ir(),e=Ci();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function fF(){return $b||($b=Hce()),$b}let Bb;function zce(t){let{userAgent:e}=t===void 0?{}:t;const n=fF(),r=Ir(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let g=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),h&&!m&&(o.os="android",o.android=!0),(c||p||f)&&(o.os="ios",o.ios=!0),o}function hF(t){return t===void 0&&(t={}),Bb||(Bb=zce(t)),Bb}let Ub;function Wce(){const t=Ir(),e=hF();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,h]=a.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));n=l<16||l===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function Yce(){return Ub||(Ub=Wce()),Ub}function Gce(t){let{swiper:e,on:n,emit:r}=t;const i=Ir();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:p,height:m}=e;let g=p,y=m;f.forEach(w=>{let{contentBoxSize:b,contentRect:_,target:E}=w;E&&E!==e.el||(g=_?_.width:(b[0]||b).inlineSize,y=_?_.height:(b[0]||b).blockSize)}),(g!==p||y!==m)&&a()})}),s.observe(e.el))},h=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),n("destroy",()=>{h(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Kce(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Ir(),a=function(c,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const y=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=dF(e.hostEl);for(let f=0;f<c.length;f+=1)a(c[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",h)}var Qce={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(h=>{h.apply(r,n)})}),t}};function Xce(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Yo(r,"padding-left")||0,10)-parseInt(Yo(r,"padding-right")||0,10),n=n-parseInt(Yo(r,"padding-top")||0,10)-parseInt(Yo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Jce(){const t=this;function e(R,A){return parseFloat(R.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,c=ws(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let p=[];const m=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,_=t.slidesGrid.length;let E=n.spaceBetween,S=-y,k=0,N=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,c.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(_p(r,"--swiper-centered-offset-before",""),_p(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let C;const I=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<f;R+=1){C=0;let A;if(c[R]&&(A=c[R]),O&&t.grid.updateSlide(R,A,c),!(c[R]&&Yo(A,"display")==="none")){if(n.slidesPerView==="auto"){I&&(c[R].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(A),M=A.style.transform,F=A.style.webkitTransform;if(M&&(A.style.transform="none"),F&&(A.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?c_(A,"width"):c_(A,"height");else{const q=e(D,"width"),L=e(D,"padding-left"),B=e(D,"padding-right"),Y=e(D,"margin-left"),H=e(D,"margin-right"),j=D.getPropertyValue("box-sizing");if(j&&j==="border-box")C=q+Y+H;else{const{clientWidth:U,offsetWidth:V}=A;C=q+L+B+Y+H+(V-U)}}M&&(A.style.transform=M),F&&(A.style.webkitTransform=F),n.roundLengths&&(C=Math.floor(C))}else C=(s-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),c[R]&&(c[R].style[t.getDirectionLabel("width")]=`${C}px`);c[R]&&(c[R].swiperSlideSize=C),g.push(C),n.centeredSlides?(S=S+C/2+k/2+E,k===0&&R!==0&&(S=S-s/2-E),R===0&&(S=S-s/2-E),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),N%n.slidesPerGroup===0&&p.push(S),m.push(S)):(n.roundLengths&&(S=Math.floor(S)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&p.push(S),m.push(S),S=S+C+E),t.virtualSize+=C+E,k=C,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),O&&t.grid.updateWrapperSize(C,p),!n.centeredSlides){const R=[];for(let A=0;A<p.length;A+=1){let D=p[A];n.roundLengths&&(D=Math.floor(D)),p[A]<=t.virtualSize-s&&R.push(D)}p=R,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const R=g[0]+E;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=R*n.slidesPerGroup;for(let M=0;M<A;M+=1)p.push(p[p.length-1]+D)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+R),m.push(m[m.length-1]+R),t.virtualSize+=R}if(p.length===0&&(p=[0]),E!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");c.filter((A,D)=>!n.cssMode||n.loop?!0:D!==c.length-1).forEach(A=>{A.style[R]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;g.forEach(D=>{R+=D+(E||0)}),R-=E;const A=R>s?R-s:0;p=p.map(D=>D<=0?-y:D>A?A+w:D)}if(n.centerInsufficientSlides){let R=0;g.forEach(D=>{R+=D+(E||0)}),R-=E;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+A<s){const D=(s-R-A)/2;p.forEach((M,F)=>{p[F]=M-D}),m.forEach((M,F)=>{m[F]=M+D})}}if(Object.assign(t,{slides:c,snapGrid:p,slidesGrid:m,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){_p(r,"--swiper-centered-offset-before",`${-p[0]}px`),_p(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const R=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+R),t.slidesGrid=t.slidesGrid.map(D=>D+A)}if(f!==h&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(R);f<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(R):A&&t.el.classList.remove(R)}}function Zce(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function ede(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const QI=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function tde(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const h=r[l];let c=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),m=-(o-c),g=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||g>1&&g<=e.size||m<=0&&g>=e.size;w&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l)),QI(h,w,n.slideVisibleClass),QI(h,y,n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-p:p}}function nde(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,h=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;s=c||i<=0,o=f||i>=1,c&&(i=0),f&&(i=1)}if(n.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[c],m=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?a=(y-p)/g:a=(y+g-m)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!h&&e.emit("reachEnd toEdge"),(l&&!s||h&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Vb=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function rde(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>ws(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,h,c;if(s)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),c=e.find(f=>f.column===i+1),h=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(c=qce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=e[0]),h=Vce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(f=>{Vb(f,f===l,n.slideActiveClass),Vb(f,f===c,n.slideNextClass),Vb(f,f===h,n.slidePrevClass)}),t.emitSlidesClasses()}const zp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},qb=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},d_=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,h)=>o+r+h)),t.slides.forEach((l,h)=>{a.includes(l.column)&&qb(t,h)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&qb(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&qb(t,o)};function ide(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function sde(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,h;const c=m=>{let g=m-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=ide(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);h=m+Math.floor((l-m)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===s&&!e.params.loop){h!==a&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=c(l);else if(f){const m=e.slides.find(y=>y.column===l);let g=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(m),0)),p=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:h,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&d_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function ode(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var ade={updateSize:Xce,updateSlides:Jce,updateAutoHeight:Zce,updateSlidesOffset:ede,updateSlidesProgress:tde,updateProgress:nde,updateSlidesClasses:rde,updateActiveIndex:sde,updateClickedSlide:ode};function lde(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=jce(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function ude(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const h=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${h}px)`);let c;const f=n.maxTranslate()-n.minTranslate();f===0?c=0:c=(t-n.minTranslate())/f,c!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function cde(){return-this.snapGrid[0]}function dde(){return-this.snapGrid[this.snapGrid.length-1]}function fde(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),h=s.maxTranslate();let c;if(r&&t>l?c=l:r&&t<h?c=h:c=t,s.updateProgress(c),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return cF({swiper:s,targetPosition:-c,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var hde={getTranslate:lde,setTranslate:ude,minTranslate:cde,maxTranslate:dde,translateTo:fde};function pde(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function pF(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function mde(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),pF({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function gde(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),pF({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var vde={setTransition:pde,transitionStart:mde,transitionEnd:gde};function yde(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:g}=s;if(!g&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let w=y+Math.floor((o-y)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let k=0;k<h.length;k+=1){const N=-Math.floor(b*100),O=Math.floor(h[k]*100),C=Math.floor(h[k+1]*100);typeof h[k+1]<"u"?N>=O&&N<C-(C-O)/2?o=k:N>=O&&N<C&&(o=k+1):N>=O&&(o=k)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(p?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(f||0)!==o))return!1;o!==(c||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let _;o>f?_="next":o<f?_="prev":_="reset";const E=s.virtual&&s.params.virtual.enabled;if(!(E&&i)&&(p&&-b===s.translate||!p&&b===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(b),_!=="reset"&&(s.transitionStart(n,_),s.transitionEnd(n,_)),!1;if(a.cssMode){const k=s.isHorizontal(),N=p?b:-b;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[k?"scrollLeft":"scrollTop"]=N})):m[k?"scrollLeft":"scrollTop"]=N,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return cF({swiper:s,targetPosition:N,side:k?"left":"top"}),!0;m.scrollTo({[k?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(b),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,_),e===0?s.transitionEnd(n,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function wde(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const p=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&c%2===0&&(c=c+1));let f=l-a<c;if(h&&(f=f||a<Math.ceil(c/2)),r&&h&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const p=h?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(s){const p=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function bde(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,h=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!h&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function xde(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:h}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const c=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(f),g=s.map(b=>p(b));let y=s[g.indexOf(m)-1];if(typeof y>"u"&&i.cssMode){let b;s.forEach((_,E)=>{m>=_&&(b=E)}),typeof b<"u"&&(y=s[b>0?b-1:b])}let w=0;if(typeof y<"u"&&(w=o.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function _de(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Sde(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const h=i.snapGrid[a],c=i.snapGrid[a+1];l-h>(c-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[a-1],c=i.snapGrid[a];l-h<=(c-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Ede(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(ws(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Jm(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(ws(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Jm(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var kde={slideTo:yde,slideToLoop:wde,slideNext:bde,slidePrev:xde,slideReset:_de,slideToClosest:Sde,slideToClickedSlide:Ede};function Tde(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{ws(r,`.${n.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,h=c=>{for(let f=0;f<c;f+=1){const p=e.isElement?Xd("swiper-slide",[n.slideBlankClass]):Xd("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const c=o-e.slides.length%o;h(c),e.recalcSlides(),e.updateSlides()}else eg("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const c=n.grid.rows-e.slides.length%n.grid.rows;h(c),e.recalcSlides(),e.updateSlides()}else eg("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Cde(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:h,allowSlidePrev:c,allowSlideNext:f,slidesEl:p,params:m}=l,{centeredSlides:g}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=m.loopAdditionalSlides,l.loopedSlides=b;const _=l.grid&&m.grid&&m.grid.rows>1;h.length<y+b?eg("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&m.grid.fill==="row"&&eg("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],S=[];let k=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(h.find(M=>M.classList.contains(m.slideActiveClass))):k=s;const N=r==="next"||!r,O=r==="prev"||!r;let C=0,I=0;const R=_?Math.ceil(h.length/m.grid.rows):h.length,D=(_?h[s].column:s)+(g&&typeof i>"u"?-y/2+.5:0);if(D<b){C=Math.max(b-D,w);for(let M=0;M<b-D;M+=1){const F=M-Math.floor(M/R)*R;if(_){const q=R-F-1;for(let L=h.length-1;L>=0;L-=1)h[L].column===q&&E.push(L)}else E.push(R-F-1)}}else if(D+y>R-b){I=Math.max(D-(R-b*2),w);for(let M=0;M<I;M+=1){const F=M-Math.floor(M/R)*R;_?h.forEach((q,L)=>{q.column===F&&S.push(L)}):S.push(F)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),O&&E.forEach(M=>{h[M].swiperLoopMoveDOM=!0,p.prepend(h[M]),h[M].swiperLoopMoveDOM=!1}),N&&S.forEach(M=>{h[M].swiperLoopMoveDOM=!0,p.append(h[M]),h[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():_&&(E.length>0&&O||S.length>0&&N)&&l.slides.forEach((M,F)=>{l.grid.updateSlide(F,M,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(E.length>0&&O){if(typeof e>"u"){const M=l.slidesGrid[k],q=l.slidesGrid[k+C]-M;a?l.setTranslate(l.translate-q):(l.slideTo(k+Math.ceil(C),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else if(i){const M=_?E.length/m.grid.rows:E.length;l.slideTo(l.activeIndex+M,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&N)if(typeof e>"u"){const M=l.slidesGrid[k],q=l.slidesGrid[k-I]-M;a?l.setTranslate(l.translate-q):(l.slideTo(k-I,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else{const M=_?S.length/m.grid.rows:S.length;l.slideTo(l.activeIndex-M,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const M={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(F=>{!F.destroyed&&F.params.loop&&F.loopFix({...M,slideTo:F.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...M,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Nde(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Ode={loopCreate:Tde,loopFix:Cde,loopDestroy:Nde};function Ade(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Dde(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Ide={setGrabCursor:Ade,unsetGrabCursor:Dde};function Rde(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Ci()||r===Ir())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function XI(t,e,n){const r=Ir(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Pde(t){const e=this,n=Ci();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){XI(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!Bce(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",c=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&c&&(l=c[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(p?Rde(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,g=o.currentY;if(!XI(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,i.touchStartTime=Zm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let y=!0;l.matches(i.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Mde(t){const e=Ci(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].find(k=>k.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=h.pageX,f=h.pageY;if(l.preventedByNestedSwiper){s.startX=c,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=Zm());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=c,s.currentY=f;const p=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let k;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+m*m>=25&&(k=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?k>i.touchAngle:90-k>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?p:m,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=g,g*=i.touchRatio,o&&(g=-g,y=-y);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!i.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&_&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&b&&_&&Math.abs(g)>=1){Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let E=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),g>0?(b&&_&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(b&&_&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),E&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Lde(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(k=>k.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:h,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Zm(),p=f-n.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Zm(),Jm(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const g=m>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let k=0;k<h.length;k+=k<o.slidesPerGroupSkip?1:o.slidesPerGroup){const N=k<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof h[k+N]<"u"?(g||m>=h[k]&&m<h[k+N])&&(y=k,w=h[k+N]-h[k]):(g||m>=h[k])&&(y=k,w=h[h.length-1]-h[h.length-2])}let b=null,_=null;o.rewind&&(e.isBeginning?_=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const E=(m-h[y])/w,S=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?b:y+S):e.slideTo(y)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(y+S):_!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(_):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+S):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+S),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:y))}}function JI(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function jde(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Fde(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function $de(t){const e=this;zp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Bde(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const mF=(t,e)=>{const n=Ci(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[h](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",JI,!0):t[h]("observerUpdate",JI,!0),i[l]("load",t.onLoad,{capture:!0}))};function Ude(){const t=this,{params:e}=t;t.onTouchStart=Pde.bind(t),t.onTouchMove=Mde.bind(t),t.onTouchEnd=Lde.bind(t),t.onDocumentTouchStart=Bde.bind(t),e.cssMode&&(t.onScroll=Fde.bind(t)),t.onClick=jde.bind(t),t.onLoad=$de.bind(t),mF(t,"on")}function Vde(){mF(this,"off")}var qde={attachEvents:Ude,detachEvents:Vde};const ZI=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Hde(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Ci(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),h=t.getBreakpoint(s,a,l);if(!h||t.currentBreakpoint===h)return;const f=(h in s?s[h]:void 0)||t.originalParams,p=ZI(t,r),m=ZI(t,f),g=t.params.grabCursor,y=f.grabCursor,w=r.enabled;p&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof f[N]>"u")return;const O=r[N]&&r[N].enabled,C=f[N]&&f[N].enabled;O&&!C&&t[N].disable(),!O&&C&&t[N].enable()});const b=f.direction&&f.direction!==r.direction,_=r.loop&&(f.slidesPerView!==r.slidesPerView||b),E=r.loop;b&&n&&t.changeDirection(),li(t.params,f);const S=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!S?t.disable():!w&&S&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",f),n&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&k?(t.loopCreate(e),t.updateSlides()):E&&!k&&t.loopDestroy()),t.emit("breakpoint",f)}function zde(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Ir(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:h}=o[a];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=n.clientWidth&&(r=l)}return r||"max"}var Wde={setBreakpoint:Hde,getBreakpoint:zde};function Yde(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Gde(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=Yde(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function Kde(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Qde={addClasses:Gde,removeClasses:Kde};function Xde(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Jde={checkOverflow:Xde},f_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Zde(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){li(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){li(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),li(e,r)}}const Hb={eventsEmitter:Qce,update:ade,translate:hde,transition:vde,slide:kde,loop:Ode,grabCursor:Ide,events:qde,breakpoints:Wde,checkOverflow:Jde,classes:Qde},zb={};let ck=class Us{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=li({},n),e&&!n.el&&(n.el=e);const o=Ci();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const c=[];return o.querySelectorAll(n.el).forEach(f=>{const p=li({},n,{el:f});c.push(new Us(p))}),c}const a=this;a.__swiper__=!0,a.support=fF(),a.device=hF({userAgent:n.userAgent}),a.browser=Yce(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(c=>{c({params:n,swiper:a,extendParams:Zde(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const h=li({},f_,l);return a.params=li({},h,zb,n),a.originalParams=li({},a.params),a.passedParams=li({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=ws(n,`.${r.slideClass}, swiper-slide`),s=tg(i[0]);return tg(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ws(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:h}=r;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[h]?Math.ceil(s[h].swiperSlideSize):0,p;for(let m=h+1;m<s.length;m+=1)s[m]&&!p&&(f+=Math.ceil(s[m].swiperSlideSize),c+=1,f>l&&(p=!0));for(let m=h-1;m>=0;m-=1)s[m]&&!p&&(f+=s[m].swiperSlideSize,c+=1,f>l&&(p=!0))}else if(e==="current")for(let f=h+1;f<s.length;f+=1)(n?o[f]+a[f]-o[h]<l:o[f]-o[h]<l)&&(c+=1);else for(let f=h-1;f>=0;f-=1)o[h]-o[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&zp(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):ws(r,i())[0];return!o&&n.params.createElements&&(o=Xd("div",n.params.wrapperClass),r.append(o),ws(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Yo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Yo(r,"direction")==="rtl"),wrongRTL:Yo(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?zp(n,s):s.addEventListener("load",o=>{zp(n,o.target)})}),d_(n),n.initialized=!0,d_(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Mce(r)),r.destroyed=!0),null}static extendDefaults(e){li(zb,e)}static get extendedDefaults(){return zb}static get defaults(){return f_}static installModule(e){Us.prototype.__modules__||(Us.prototype.__modules__=[]);const n=Us.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Us.installModule(n)),Us):(Us.installModule(e),Us)}};Object.keys(Hb).forEach(t=>{Object.keys(Hb[t]).forEach(e=>{ck.prototype[e]=Hb[t][e]})});ck.use([Gce,Kce]);const gF=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function hl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function wu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:hl(e[r])&&hl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:wu(t[r],e[r]):t[r]=e[r]})}function vF(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function yF(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function wF(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function bF(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function efe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function tfe(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const h=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:c,pagination:f,navigation:p,scrollbar:m,virtual:g,thumbs:y}=e;let w,b,_,E,S,k,N,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(b=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(_=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(c.scrollbar||c.scrollbar===!1)&&m&&!m.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(S=!0);const C=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),c[I].prevEl=void 0,c[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),c[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!r.loop?k=!0:!c.loop&&r.loop?N=!0:O=!0),h.forEach(I=>{if(hl(c[I])&&hl(r[I]))Object.assign(c[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&C(I);else{const R=r[I];(R===!0||R===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?R===!1&&C(I):c[I]=r[I]}}),h.includes("controller")&&!b&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&n&&g&&c.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&c.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&c.loop&&(O=!0),w&&y.init()&&y.update(!0),b&&(e.controller.control=c.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),S&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(k||O)&&e.loopDestroy(),(N||O)&&e.loopCreate(),e.update()}function nfe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};wu(n,f_),n._emitClasses=!0,n.init=!1;const s={},o=gF.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?hl(t[l])?(n[l]={},i[l]={},wu(n[l],t[l]),wu(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function rfe(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;vF(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),yF(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),wF(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function ife(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),h=n.map(i);l.join("")!==h.join("")&&o("children"),r.length!==n.length&&o("children")}return gF.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(hl(t[l])&&hl(e[l])){const h=Object.keys(t[l]),c=Object.keys(e[l]);h.length!==c.length?o(l):(h.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const sfe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function xF(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function _F(t){const e=[];return se.Children.toArray(t).forEach(n=>{xF(n)?e.push(n):n.props&&n.props.children&&_F(n.props.children).forEach(r=>e.push(r))}),e}function ofe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return se.Children.toArray(t).forEach(r=>{if(xF(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=_F(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function afe(t,e,n){if(!n)return null;const r=c=>{let f=c;return c<0?f=e.length+c:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,h=[];for(let c=a;c<l;c+=1)c>=s&&c<=o&&h.push(e[r(c)]);return h.map((c,f)=>se.cloneElement(c,{swiper:t,style:i,key:c.props.virtualIndex||c.key||`slide-${f}`}))}function kd(t,e){return typeof window>"u"?K.useEffect(t,e):K.useLayoutEffect(t,e)}const eR=K.createContext(null),lfe=K.createContext(null),SF=K.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[h,c]=K.useState("swiper"),[f,p]=K.useState(null),[m,g]=K.useState(!1),y=K.useRef(!1),w=K.useRef(null),b=K.useRef(null),_=K.useRef(null),E=K.useRef(null),S=K.useRef(null),k=K.useRef(null),N=K.useRef(null),O=K.useRef(null),{params:C,passedParams:I,rest:R,events:A}=nfe(a),{slides:D,slots:M}=ofe(s),F=()=>{g(!m)};Object.assign(C.on,{_containerClasses(H,j){c(j)}});const q=()=>{Object.assign(C.on,A),l=!0;const H={...C};if(delete H.wrapperClass,b.current=new ck(H),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=D;const j={cache:!1,slides:D,renderExternal:p,renderExternalUpdate:!1};wu(b.current.params.virtual,j),wu(b.current.originalParams.virtual,j)}};w.current||q(),b.current&&b.current.on("_beforeBreakpoint",F);const L=()=>{l||!A||!b.current||Object.keys(A).forEach(H=>{b.current.on(H,A[H])})},B=()=>{!A||!b.current||Object.keys(A).forEach(H=>{b.current.off(H,A[H])})};K.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",F)}),K.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),kd(()=>{if(e&&(e.current=w.current),!!w.current)return b.current.destroyed&&q(),rfe({el:w.current,nextEl:S.current,prevEl:k.current,paginationEl:N.current,scrollbarEl:O.current,swiper:b.current},C),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),kd(()=>{L();const H=ife(I,_.current,D,E.current,j=>j.key);return _.current=I,E.current=D,H.length&&b.current&&!b.current.destroyed&&tfe({swiper:b.current,slides:D,passedParams:I,changedParams:H,nextEl:S.current,prevEl:k.current,scrollbarEl:O.current,paginationEl:N.current}),()=>{B()}}),kd(()=>{sfe(b.current)},[f]);function Y(){return C.virtual?afe(b.current,D,f):D.map((H,j)=>se.cloneElement(H,{swiper:b.current,swiperSlideIndex:j}))}return se.createElement(r,ng({ref:w,className:bF(`${h}${n?` ${n}`:""}`)},R),se.createElement(lfe.Provider,{value:b.current},M["container-start"],se.createElement(i,{className:efe(C.wrapperClass)},M["wrapper-start"],Y(),M["wrapper-end"]),vF(C)&&se.createElement(se.Fragment,null,se.createElement("div",{ref:k,className:"swiper-button-prev"}),se.createElement("div",{ref:S,className:"swiper-button-next"})),wF(C)&&se.createElement("div",{ref:O,className:"swiper-scrollbar"}),yF(C)&&se.createElement("div",{ref:N,className:"swiper-pagination"}),M["container-end"]))});SF.displayName="Swiper";const sc=K.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:h,...c}=t===void 0?{}:t;const f=K.useRef(null),[p,m]=K.useState("swiper-slide"),[g,y]=K.useState(!1);function w(S,k,N){k===f.current&&m(N)}kd(()=>{if(typeof h<"u"&&(f.current.swiperSlideIndex=h),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),kd(()=>{s&&f.current&&!s.destroyed&&m(s.getSlideClasses(f.current))},[s]);const b={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},_=()=>typeof r=="function"?r(b):r,E=()=>{y(!0)};return se.createElement(n,ng({ref:f,className:bF(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:E},c),o&&se.createElement(eR.Provider,{value:b},se.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},_(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&se.createElement(eR.Provider,{value:b},_(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"})))});sc.displayName="SwiperSlide";function rg({title:t,to:e,state:n,className:r="",onClick:i}){return x.jsxs(br,{to:e,state:n,className:`mt-3 flex items-center justify-end gap-1 text-sm text-gray1 ${r}`,onClick:i,children:[t&&x.jsx("span",{className:"font-medium",children:t}),x.jsx(PE,{className:""})]})}function ufe({to:t,name:e,state:n}){return x.jsxs(br,{to:t,state:n,className:"mb-2 flex items-center gap-1 rounded-xl px-4 py-3",children:[x.jsx(j3,{className:"text-lg text-blue3"}),x.jsx("span",{className:"font-medium text-blue3",children:e})]})}function dk(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=ws(t.el,`.${r[i]}`)[0];s||(s=Xd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function cfe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function o(g,y){const w=e.params.navigation;g=qn(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const g=e.params.navigation;if(e.params.navigation=dk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=s(g.nextEl),w=s(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=qn(y),w=qn(w);const b=(_,E)=>{_&&_.addEventListener("click",E==="next"?h:l),!e.enabled&&_&&_.classList.add(...g.lockClass.split(" "))};y.forEach(_=>b(_,"next")),w.forEach(_=>b(_,"prev"))}function f(){let{nextEl:g,prevEl:y}=e.navigation;g=qn(g),y=qn(y);const w=(b,_)=>{b.removeEventListener("click",_==="next"?h:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>w(b,"next")),y.forEach(b=>w(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(c(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=qn(g),y=qn(y),e.enabled){a();return}[...g,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:w,prevEl:b}=e.navigation;w=qn(w),b=qn(b);const _=y.target;let E=b.includes(_)||w.includes(_);if(e.isElement&&!E){const S=y.path||y.composedPath&&y.composedPath();S&&(E=S.find(k=>w.includes(k)||b.includes(k)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let S;w.length?S=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(S=b[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...w,...b].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:c,destroy:f})}function ru(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function dfe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(_,E){const{bulletActiveClass:S}=e.params.pagination;_&&(_=_[`${E==="prev"?"previous":"next"}ElementSibling`],_&&(_.classList.add(`${S}-${E}`),_=_[`${E==="prev"?"previous":"next"}ElementSibling`],_&&_.classList.add(`${S}-${E}-${E}`)))}function c(_,E,S){if(_=_%S,E=E%S,E===_+1)return"next";if(E===_-1)return"previous"}function f(_){const E=_.target.closest(ru(e.params.pagination.bulletClass));if(!E)return;_.preventDefault();const S=tg(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const k=c(e.realIndex,S,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function p(){const _=e.rtl,E=e.params.pagination;if(l())return;let S=e.pagination.el;S=qn(S);let k,N;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,k=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let R,A,D;if(E.dynamicBullets&&(o=c_(I[0],e.isHorizontal()?"width":"height"),S.forEach(M=>{M.style[e.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&N!==void 0&&(a+=k-(N||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(k-a,0),A=R+(Math.min(I.length,E.dynamicMainBullets)-1),D=(A+R)/2),I.forEach(M=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${E.bulletActiveClass}${q}`)].map(q=>typeof q=="string"&&q.includes(" ")?q.split(" "):q).flat();M.classList.remove(...F)}),S.length>1)I.forEach(M=>{const F=tg(M);F===k?M.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&M.setAttribute("part","bullet"),E.dynamicBullets&&(F>=R&&F<=A&&M.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),F===R&&h(M,"prev"),F===A&&h(M,"next"))});else{const M=I[k];if(M&&M.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&I.forEach((F,q)=>{F.setAttribute("part",q===k?"bullet-active":"bullet")}),E.dynamicBullets){const F=I[R],q=I[A];for(let L=R;L<=A;L+=1)I[L]&&I[L].classList.add(...`${E.bulletActiveClass}-main`.split(" "));h(F,"prev"),h(q,"next")}}if(E.dynamicBullets){const M=Math.min(I.length,E.dynamicMainBullets+4),F=(o*M-o)/2-D*o,q=_?"right":"left";I.forEach(L=>{L.style[e.isHorizontal()?q:"top"]=`${F}px`})}}S.forEach((I,R)=>{if(E.type==="fraction"&&(I.querySelectorAll(ru(E.currentClass)).forEach(A=>{A.textContent=E.formatFractionCurrent(k+1)}),I.querySelectorAll(ru(E.totalClass)).forEach(A=>{A.textContent=E.formatFractionTotal(C)})),E.type==="progressbar"){let A;E.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const D=(k+1)/C;let M=1,F=1;A==="horizontal"?M=D:F=D,I.querySelectorAll(ru(E.progressbarFillClass)).forEach(q=>{q.style.transform=`translate3d(0,0,0) scaleX(${M}) scaleY(${F})`,q.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(I.innerHTML=E.renderCustom(e,k+1,C),R===0&&i("paginationRender",I)):(R===0&&i("paginationRender",I),i("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](E.lockClass)})}function m(){const _=e.params.pagination;if(l())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=qn(S);let k="";if(_.type==="bullets"){let N=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>E&&(N=E);for(let O=0;O<N;O+=1)_.renderBullet?k+=_.renderBullet.call(e,O,_.bulletClass):k+=`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}_.type==="fraction"&&(_.renderFraction?k=_.renderFraction.call(e,_.currentClass,_.totalClass):k=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),_.type==="progressbar"&&(_.renderProgressbar?k=_.renderProgressbar.call(e,_.progressbarFillClass):k=`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(N=>{_.type!=="custom"&&(N.innerHTML=k||""),_.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(ru(_.bulletClass)))}),_.type!=="custom"&&i("paginationRender",S[0])}function g(){e.params.pagination=dk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let E;typeof _.el=="string"&&e.isElement&&(E=e.el.querySelector(_.el)),!E&&typeof _.el=="string"&&(E=[...document.querySelectorAll(_.el)]),E||(E=_.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof _.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(_.el)],E.length>1&&(E=E.find(S=>dF(S,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=qn(E),E.forEach(S=>{_.type==="bullets"&&_.clickable&&S.classList.add(...(_.clickableClass||"").split(" ")),S.classList.add(_.modifierClass+_.type),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(S.classList.add(`${_.modifierClass}${_.type}-dynamic`),a=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&S.classList.add(_.progressbarOppositeClass),_.clickable&&S.addEventListener("click",f),e.enabled||S.classList.add(_.lockClass)}))}function y(){const _=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=qn(E),E.forEach(S=>{S.classList.remove(_.hiddenClass),S.classList.remove(_.modifierClass+_.type),S.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&(S.classList.remove(...(_.clickableClass||"").split(" ")),S.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(..._.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:E}=e.pagination;E=qn(E),E.forEach(S=>{S.classList.remove(_.horizontalClass,_.verticalClass),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:_}=e.pagination;_&&(_=qn(_),_.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(_,E)=>{const S=E.target,k=qn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const N=k[0].classList.contains(e.params.pagination.hiddenClass);i(N===!0?"paginationShow":"paginationHide"),k.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=qn(_),_.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),g(),m(),p()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=qn(_),_.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:b,render:m,update:p,init:g,destroy:y})}function ffe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=Ci();let o=!1,a=null,l=null,h,c,f,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D,rtlTranslate:M}=e,{dragEl:F,el:q}=D,L=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress;let Y=c,H=(f-c)*B;M?(H=-H,H>0?(Y=c-H,H=0):-H+c>f&&(Y=f+H)):H<0?(Y=c+H,H=0):H+c>f&&(Y=f-H),e.isHorizontal()?(F.style.transform=`translate3d(${H}px, 0, 0)`,F.style.width=`${Y}px`):(F.style.transform=`translate3d(0px, ${H}px, 0)`,F.style.height=`${Y}px`),L.hide&&(clearTimeout(a),q.style.opacity=1,a=setTimeout(()=>{q.style.opacity=0,q.style.transitionDuration="400ms"},1e3))}function g(D){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${D}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D}=e,{dragEl:M,el:F}=D;M.style.width="",M.style.height="",f=e.isHorizontal()?F.offsetWidth:F.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=f*p:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?M.style.width=`${c}px`:M.style.height=`${c}px`,p>=1?F.style.display="none":F.style.display="",e.params.scrollbar.hide&&(F.style.opacity=0),e.params.watchOverflow&&e.enabled&&D.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(D){return e.isHorizontal()?D.clientX:D.clientY}function b(D){const{scrollbar:M,rtlTranslate:F}=e,{el:q}=M;let L;L=(w(D)-Uce(q)[e.isHorizontal()?"left":"top"]-(h!==null?h:c/2))/(f-c),L=Math.max(Math.min(L,1),0),F&&(L=1-L);const B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*L;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function _(D){const M=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:L,dragEl:B}=F;o=!0,h=D.target===B?w(D)-D.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,D.preventDefault(),D.stopPropagation(),q.style.transitionDuration="100ms",B.style.transitionDuration="100ms",b(D),clearTimeout(l),L.style.transitionDuration="0ms",M.hide&&(L.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",D)}function E(D){const{scrollbar:M,wrapperEl:F}=e,{el:q,dragEl:L}=M;o&&(D.preventDefault&&D.cancelable?D.preventDefault():D.returnValue=!1,b(D),F.style.transitionDuration="0ms",q.style.transitionDuration="0ms",L.style.transitionDuration="0ms",i("scrollbarDragMove",D))}function S(D){const M=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:L}=F;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",q.style.transitionDuration=""),M.hide&&(clearTimeout(l),l=Jm(()=>{L.style.opacity=0,L.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",D),M.snapOnRelease&&e.slideToClosest())}function k(D){const{scrollbar:M,params:F}=e,q=M.el;if(!q)return;const L=q,B=F.passiveListeners?{passive:!1,capture:!1}:!1,Y=F.passiveListeners?{passive:!0,capture:!1}:!1;if(!L)return;const H=D==="on"?"addEventListener":"removeEventListener";L[H]("pointerdown",_,B),s[H]("pointermove",E,B),s[H]("pointerup",S,Y)}function N(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function O(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function C(){const{scrollbar:D,el:M}=e;e.params.scrollbar=dk(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const F=e.params.scrollbar;if(!F.el)return;let q;if(typeof F.el=="string"&&e.isElement&&(q=e.el.querySelector(F.el)),!q&&typeof F.el=="string"){if(q=s.querySelectorAll(F.el),!q.length)return}else q||(q=F.el);e.params.uniqueNavElements&&typeof F.el=="string"&&q.length>1&&M.querySelectorAll(F.el).length===1&&(q=M.querySelector(F.el)),q.length>0&&(q=q[0]),q.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass);let L;q&&(L=q.querySelector(ru(e.params.scrollbar.dragClass)),L||(L=Xd("div",e.params.scrollbar.dragClass),q.append(L))),Object.assign(D,{el:q,dragEl:L}),F.draggable&&N(),q&&q.classList[e.enabled?"remove":"add"](...Lo(e.params.scrollbar.lockClass))}function I(){const D=e.params.scrollbar,M=e.scrollbar.el;M&&M.classList.remove(...Lo(e.isHorizontal()?D.horizontalClass:D.verticalClass)),O()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const D=e.params.scrollbar;let{el:M}=e.scrollbar;M=qn(M),M.forEach(F=>{F.classList.remove(D.horizontalClass,D.verticalClass),F.classList.add(e.isHorizontal()?D.horizontalClass:D.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?A():(C(),y(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{y()}),r("setTranslate",()=>{m()}),r("setTransition",(D,M)=>{g(M)}),r("enable disable",()=>{const{el:D}=e.scrollbar;D&&D.classList[e.enabled?"remove":"add"](...Lo(e.params.scrollbar.lockClass))}),r("destroy",()=>{I()});const R=()=>{e.el.classList.remove(...Lo(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Lo(e.params.scrollbar.scrollbarDisabledClass)),C(),y(),m()},A=()=>{e.el.classList.add(...Lo(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Lo(e.params.scrollbar.scrollbarDisabledClass)),I()};Object.assign(e.scrollbar,{enable:R,disable:A,updateSize:y,setTranslate:m,init:C,destroy:I})}function hfe(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,h=s&&s.autoplay?s.autoplay.delay:3e3,c,f=new Date().getTime(),p,m,g,y,w,b,_;function E(Y){!e||e.destroyed||!e.wrapperEl||Y.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(_||Y.detail&&Y.detail.bySwiperTouchMove)&&R())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(h=c,p=!1);const Y=e.autoplay.paused?c:f+h-new Date().getTime();e.autoplay.timeLeft=Y,i("autoplayTimeLeft",Y,Y/l),a=requestAnimationFrame(()=>{S()})},k=()=>{let Y;return e.virtual&&e.params.virtual.enabled?Y=e.slides.find(j=>j.classList.contains("swiper-slide-active")):Y=e.slides[e.activeIndex],Y?parseInt(Y.getAttribute("data-swiper-autoplay"),10):void 0},N=Y=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),S();let H=typeof Y>"u"?e.params.autoplay.delay:Y;l=e.params.autoplay.delay,h=e.params.autoplay.delay;const j=k();!Number.isNaN(j)&&j>0&&typeof Y>"u"&&(H=j,l=j,h=j),c=H;const U=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,U,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,U,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return H>0?(clearTimeout(o),o=setTimeout(()=>{V()},H)):requestAnimationFrame(()=>{V()}),H},O=()=>{f=new Date().getTime(),e.autoplay.running=!0,N(),i("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},I=(Y,H)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),Y||(b=!0);const j=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):R()};if(e.autoplay.paused=!0,H){w&&(c=e.params.autoplay.delay),w=!1,j();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),j())},R=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,N(c)):N(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const Y=Ci();Y.visibilityState==="hidden"&&(b=!0,I(!0)),Y.visibilityState==="visible"&&R()},D=Y=>{Y.pointerType==="mouse"&&(b=!0,_=!0,!(e.animating||e.autoplay.paused)&&I(!0))},M=Y=>{Y.pointerType==="mouse"&&(_=!1,e.autoplay.paused&&R())},F=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",M))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",M))},L=()=>{Ci().addEventListener("visibilitychange",A)},B=()=>{Ci().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(F(),L(),O())}),r("destroy",()=>{q(),B(),e.autoplay.running&&C()}),r("_freeModeStaticRelease",()=>{(g||b)&&R()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():I(!0,!0)}),r("beforeTransitionStart",(Y,H,j)=>{e.destroyed||!e.autoplay.running||(j||!e.params.autoplay.disableOnInteraction?I(!0,!0):C())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}m=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,I(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,m=!1;return}g&&e.params.cssMode&&R(),g=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:O,stop:C,pause:I,resume:R})}const Ff=K.forwardRef(({children:t,options:e},n)=>{const r={modules:[hfe,dfe,cfe,ffe],spaceBetween:15,slidesPerView:"auto",speed:800,autoplay:{disableOnInteraction:!0},navigation:!0,pagination:{type:"bullets"},scrollbar:{draggable:!0},...e};return x.jsx(SF,{ref:n,className:"sample-slider h-full",...r,children:t})}),pfe={spaceBetween:8,pagination:!1,scrollbar:!1,navigation:!1,autoplay:!1};function mfe({yearMonthId:t}){const[e,n]=K.useState(""),[r,i]=an(oF),[s,o]=an(sF);K.useEffect(()=>{jn(xr(t,Gd),i),jn(xr(t,Mu),o)},[t,s==null?void 0:s.length]);const{pathname:a}=Nr(),l={:{postList:s,linkTo:"subjects",access:""}," ":{postList:r,linkTo:"host-review",access:""}},{postList:h,linkTo:c,access:f}=l[e],{blockLinkAndAlertJoinMember:p}=ni("see");return x.jsxs("div",{className:"w-full",children:[x.jsx("ul",{className:"flex gap-1",children:Object.keys(l).map(m=>x.jsx("li",{children:x.jsx("button",{onClick:()=>n(m),className:`rounded-t-xl px-3 py-2 ${m===e?"bg-blue4 font-medium text-blue3":"bg-white text-text"}`,children:m})},m))}),x.jsx("div",{className:`flex min-h-48 w-full flex-col items-center justify-center rounded-b-2xl rounded-tr-2xl p-4 shadow-card ${e?"bg-blue4":""}`,children:(h==null?void 0:h.length)!==0?x.jsxs(x.Fragment,{children:[x.jsx(Ff,{options:pfe,children:h==null?void 0:h.map((m,g)=>x.jsx(sc,{className:`!mt-0 min-h-fit !py-0 ${h.length===1?"w-full":"max-w-[70vw]"}`,children:x.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-xl bg-white p-3",children:[x.jsx(lk,{type:e,post:m,className:"relative [&>p]:line-clamp-[6]"}),x.jsxs("span",{className:"absolute right-4 top-3 text-sm text-gray1",children:[g+1," / ",h.length]}),x.jsx(rg,{title:"",state:{postId:m.id},to:c,onClick:p,className:"bg-purple4 w-fit self-end rounded-xl px-4 py-3 !text-[15px] text-purple2 shadow-card"})]})},m.id))}),x.jsx(rg,{title:` ${e} `,to:c,onClick:p,className:"w-fit self-end px-2 !text-[15px] text-blue-500"})]}):x.jsx(x.Fragment,{children:a.includes("previous-club")?x.jsxs("span",{className:"text-sm text-blue3",children:[" ",e," "]}):x.jsxs(x.Fragment,{children:[x.jsx(ufe,{to:c,name:`${e}  `}),x.jsxs("span",{className:"text-sm text-gray1",children:[f,"   "]})]})})})]})}function gfe({collName:t,recommendedBookDetail:e}){const{creatorId:n,createdAt:r,text:i,clubBook:s,recommendedBook:{url:o,authors:a,publisher:l,title:h,thumbnail:c}}=e;return x.jsxs(ur,{title:" ",className:"w-[40%]",children:[x.jsx(lF,{collName:t,post:e,postType:""}),x.jsxs("div",{className:"mt-4 gap-2 overflow-scroll scrollbar-hide",children:[x.jsx(un,{title:h,thumbnail:c,url:o,className:"float-left mb-2 mr-4 w-20"}),x.jsx("h4",{className:"text-lg",children:x.jsx("span",{className:"pr-1",children:h})}),x.jsx(Is,{authors:a,publisher:l}),x.jsxs("h3",{className:"mt-1 flex items-center border-t-2 border-dotted border-gray3 pt-2",children:[x.jsx(cr,{userId:n,isLink:!1}),"  "]}),x.jsx("p",{dangerouslySetInnerHTML:{__html:i},className:"mt-2 whitespace-pre-wrap break-all"}),(s||e.title)&&x.jsxs(x.Fragment,{children:[x.jsx("h3",{className:"mt-6 text-sm text-gray1",children:"  "}),e.recommendedBook&&x.jsx(ic,{book:s||{title:e.title,thumbnail:e.thumbnail},className:"h-14"})]}),x.jsx(yv,{collName:t,createdAt:r,post:e,footerType:"likes"})]})]})}function vfe({docIds:{docId:t,monthId:e}}){const[n,r]=K.useState(),{showModal:i}=bt(),o=`BookClub-${e.slice(0,4)}/${e}/RecommendedBooks`;K.useEffect(()=>{Ar(o,t,r)},[]);const{recommendedBook:a,creatorId:l}=n||{},h=()=>i({element:x.jsx(gfe,{recommendedBookDetail:n,collName:o})});return x.jsx(x.Fragment,{children:(n==null?void 0:n.recommendedBook)&&x.jsxs("button",{type:"button",onClick:h,className:"relative mx-2 mt-7 min-h-[102px] w-full rounded-xl bg-white px-6 py-3 shadow-card",children:[x.jsx(un,{title:a.title,thumbnail:a.thumbnail,className:"!absolute bottom-4 w-[80px]"}),x.jsxs("div",{className:"ml-[90px] flex h-full flex-col items-start",children:[x.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[x.jsx(Dm,{fontSize:14,className:"text-gray2"}),x.jsx("span",{className:"mr-2 text-sm text-gray2",children:""}),x.jsx(cr,{userId:l,isLink:!1})]}),x.jsxs("div",{className:"mb-1 mt-1.5 flex flex-1 flex-col items-start",children:[x.jsx("span",{className:"mb-1 line-clamp-2 text-start text-base font-medium leading-[20px]",children:a.title}),x.jsx(Is,{authors:a==null?void 0:a.authors,publisher:a==null?void 0:a.publisher})]})]})]})})}const yfe={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},500:{slidesPerView:1},320:{slidesPerView:1}},scrollbar:!1};function EF({yearMonthId:t,maxLength:e}){const n=Pe(Ds),r=K.useMemo(()=>{const i=n.map(o=>{var a;return(a=o==null?void 0:o.userRecords)==null?void 0:a.recommendedBooks}).filter(o=>!!(o!=null&&o.length)).flat().sort(HO).slice(0,e),s=i.filter(o=>t?o.monthId===t:o).sort(HO);return t?s:i},[n,t]);return r.length!==0?x.jsx(Ff,{options:yfe,children:r.map(i=>x.jsx(sc,{children:x.jsx(vfe,{docIds:i})},i.docId))}):x.jsx(Zi,{text:"  ."})}const wfe=()=>{var c,f;const t=T_(),e=(t==null?void 0:t.id)||gn,n=e.slice(0,4),r=e===gn,{absenteeList:i,participantList:s}=Pe(N3(e)),o=Os(kl(Tt)),a=Pe(Dr(e)),l=Os(tc),h=(c=a==null?void 0:a.meeting)==null?void 0:c.eventMonth;return K.useEffect(()=>{r&&jn(lo,l)},[r]),K.useEffect(()=>{Ar(`BookClub-${n}`,ul,o)},[n]),x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${r?"":ht(e,"yyyy M")} `,backBtn:!r,backTo:"/previous-bookclub"}),Af(e)?x.jsx("main",{children:a?x.jsxs(x.Fragment,{children:[x.jsx(Ot,{title:" ",children:h?x.jsx(ak,{yearMonthId:a.id,event:a.meeting}):x.jsx(x.Fragment,{children:r?x.jsx(nF,{}):x.jsx(h5,{bookClub:a,className:"w-full"})})}),x.jsxs("div",{className:"grid grid-cols-5 gap-x-6 max-sm:flex max-sm:flex-col [&>section:first-child]:col-span-2 [&>section:last-child]:col-span-3",children:[i&&x.jsx(Ot,{title:" ",children:x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx(dI,{title:`  ${s.length}`,memberList:s}),x.jsx(dI,{title:`  ${i.length}`,memberList:i})]})}),!h&&x.jsxs(Ot,{title:"  ",children:[r&&x.jsx(Ss,{text:"  ,           .    ,            ."}),x.jsx(mfe,{yearMonthId:e})]})]}),x.jsxs(Ot,{title:r?" ":"",children:[r&&x.jsx(Nce,{}),x.jsx(EF,{yearMonthId:e})]}),h&&x.jsx(Ece,{eventDetail:(f=a.meeting)==null?void 0:f.eventMonth}),x.jsx(Ot,{title:" ",children:x.jsx(Rce,{yearMonthId:e})})]}):x.jsx(Zi,{text:"   ."})}):x.jsx(rc,{size:150,className:"h-[80vh]"})]})};function bfe(){return x.jsx("footer",{className:"border-t border-gray3 bg-blue1 px-4 pb-40 pt-10",children:x.jsx("span",{className:"mb-10 text-white",children:"   All rights reserved"})})}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function xfe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kF(t){var e=xfe(t,"string");return pl(e)=="symbol"?e:String(e)}function md(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){md(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t){if(Array.isArray(t))return t}function Sfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){h=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TF(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function Efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zs(t,e){return _fe(t)||Sfe(t,e)||TF(t,e)||Efe()}function kfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fo(t,e){if(t==null)return{};var n=kfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Tfe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Cfe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,h=t.onChange,c=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,g=fo(t,Tfe),y=K.useState(a!==void 0?a:n),w=Zs(y,2),b=w[0],_=w[1],E=K.useState(l!==void 0?l:i),S=Zs(E,2),k=S[0],N=S[1],O=K.useState(m!==void 0?m:o),C=Zs(O,2),I=C[0],R=C[1],A=K.useCallback(function(Y,H){typeof h=="function"&&h(Y,H),R(Y)},[h]),D=K.useCallback(function(Y,H){var j;typeof c=="function"&&(j=c(Y,H)),_(j!==void 0?j:Y)},[c]),M=K.useCallback(function(){typeof p=="function"&&p(),N(!0)},[p]),F=K.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),q=a!==void 0?a:b,L=l!==void 0?l:k,B=m!==void 0?m:I;return et(et({},g),{},{inputValue:q,menuIsOpen:L,onChange:A,onInputChange:D,onMenuClose:F,onMenuOpen:M,value:B})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function Nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kF(r.key),r)}}function Ofe(t,e,n){return e&&nR(t.prototype,e),n&&nR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!t})()}function Dfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ife(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dfe(t)}function Rfe(t){var e=CF();return function(){var r=ig(t),i;if(e){var s=ig(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Ife(this,i)}}function Pfe(t){if(Array.isArray(t))return h_(t)}function Mfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fk(t){return Pfe(t)||Mfe(t)||TF(t)||Lfe()}function jfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Ffe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $fe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ffe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=jfe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),gr="-ms-",sg="-moz-",At="-webkit-",NF="comm",hk="rule",pk="decl",Bfe="@import",OF="@keyframes",Ufe="@layer",Vfe=Math.abs,Mv=String.fromCharCode,qfe=Object.assign;function Hfe(t,e){return ir(t,0)^45?(((e<<2^ir(t,0))<<2^ir(t,1))<<2^ir(t,2))<<2^ir(t,3):0}function AF(t){return t.trim()}function zfe(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function m_(t,e){return t.indexOf(e)}function ir(t,e){return t.charCodeAt(e)|0}function Jd(t,e,n){return t.slice(e,n)}function ls(t){return t.length}function mk(t){return t.length}function Sp(t,e){return e.push(t),t}function Wfe(t,e){return t.map(e).join("")}var Lv=1,Vu=1,DF=0,ti=0,Pn=0,oc="";function jv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Lv,column:Vu,length:o,return:""}}function ed(t,e){return qfe(jv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Yfe(){return Pn}function Gfe(){return Pn=ti>0?ir(oc,--ti):0,Vu--,Pn===10&&(Vu=1,Lv--),Pn}function fi(){return Pn=ti<DF?ir(oc,ti++):0,Vu++,Pn===10&&(Vu=1,Lv++),Pn}function Ts(){return ir(oc,ti)}function Wp(){return ti}function $f(t,e){return Jd(oc,t,e)}function Zd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IF(t){return Lv=Vu=1,DF=ls(oc=t),ti=0,[]}function RF(t){return oc="",t}function Yp(t){return AF($f(ti-1,g_(t===91?t+2:t===40?t+1:t)))}function Kfe(t){for(;(Pn=Ts())&&Pn<33;)fi();return Zd(t)>2||Zd(Pn)>3?"":" "}function Qfe(t,e){for(;--e&&fi()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return $f(t,Wp()+(e<6&&Ts()==32&&fi()==32))}function g_(t){for(;fi();)switch(Pn){case t:return ti;case 34:case 39:t!==34&&t!==39&&g_(Pn);break;case 40:t===41&&g_(t);break;case 92:fi();break}return ti}function Xfe(t,e){for(;fi()&&t+Pn!==57;)if(t+Pn===84&&Ts()===47)break;return"/*"+$f(e,ti-1)+"*"+Mv(t===47?t:fi())}function Jfe(t){for(;!Zd(Ts());)fi();return $f(t,ti)}function Zfe(t){return RF(Gp("",null,null,null,[""],t=IF(t),0,[0],t))}function Gp(t,e,n,r,i,s,o,a,l){for(var h=0,c=0,f=o,p=0,m=0,g=0,y=1,w=1,b=1,_=0,E="",S=i,k=s,N=r,O=E;w;)switch(g=_,_=fi()){case 40:if(g!=108&&ir(O,f-1)==58){m_(O+=Dt(Yp(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:O+=Yp(_);break;case 9:case 10:case 13:case 32:O+=Kfe(g);break;case 92:O+=Qfe(Wp()-1,7);continue;case 47:switch(Ts()){case 42:case 47:Sp(ehe(Xfe(fi(),Wp()),e,n),l);break;default:O+="/"}break;case 123*y:a[h++]=ls(O)*b;case 125*y:case 59:case 0:switch(_){case 0:case 125:w=0;case 59+c:b==-1&&(O=Dt(O,/\f/g,"")),m>0&&ls(O)-f&&Sp(m>32?iR(O+";",r,n,f-1):iR(Dt(O," ","")+";",r,n,f-2),l);break;case 59:O+=";";default:if(Sp(N=rR(O,e,n,h,c,i,a,E,S=[],k=[],f),s),_===123)if(c===0)Gp(O,e,N,N,S,s,f,a,k);else switch(p===99&&ir(O,3)===110?100:p){case 100:case 108:case 109:case 115:Gp(t,N,N,r&&Sp(rR(t,N,N,0,0,i,a,E,i,S=[],f),k),i,k,f,a,r?S:k);break;default:Gp(O,N,N,N,[""],k,0,a,k)}}h=c=m=0,y=b=1,E=O="",f=o;break;case 58:f=1+ls(O),m=g;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&Gfe()==125)continue}switch(O+=Mv(_),_*y){case 38:b=c>0?1:(O+="\f",-1);break;case 44:a[h++]=(ls(O)-1)*b,b=1;break;case 64:Ts()===45&&(O+=Yp(fi())),p=Ts(),c=f=ls(E=O+=Jfe(Wp())),_++;break;case 45:g===45&&ls(O)==2&&(y=0)}}return s}function rR(t,e,n,r,i,s,o,a,l,h,c){for(var f=i-1,p=i===0?s:[""],m=mk(p),g=0,y=0,w=0;g<r;++g)for(var b=0,_=Jd(t,f+1,f=Vfe(y=o[g])),E=t;b<m;++b)(E=AF(y>0?p[b]+" "+_:Dt(_,/&\f/g,p[b])))&&(l[w++]=E);return jv(t,e,n,i===0?hk:a,l,h,c)}function ehe(t,e,n){return jv(t,e,n,NF,Mv(Yfe()),Jd(t,2,-2),0)}function iR(t,e,n,r){return jv(t,e,n,pk,Jd(t,0,r),Jd(t,r+1,-1),r)}function bu(t,e){for(var n="",r=mk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function the(t,e,n,r){switch(t.type){case Ufe:if(t.children.length)break;case Bfe:case pk:return t.return=t.return||t.value;case NF:return"";case OF:return t.return=t.value+"{"+bu(t.children,r)+"}";case hk:t.value=t.props.join(",")}return ls(n=bu(t.children,r))?t.return=t.value+"{"+n+"}":""}function nhe(t){var e=mk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function rhe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ihe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var she=function(e,n,r){for(var i=0,s=0;i=s,s=Ts(),i===38&&s===12&&(n[r]=1),!Zd(s);)fi();return $f(e,ti)},ohe=function(e,n){var r=-1,i=44;do switch(Zd(i)){case 0:i===38&&Ts()===12&&(n[r]=1),e[r]+=she(ti-1,n,r);break;case 2:e[r]+=Yp(i);break;case 4:if(i===44){e[++r]=Ts()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Mv(i)}while(i=fi());return e},ahe=function(e,n){return RF(ohe(IF(e),n))},sR=new WeakMap,lhe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!sR.get(r))&&!i){sR.set(e,!0);for(var s=[],o=ahe(n,s),a=r.props,l=0,h=0;l<o.length;l++)for(var c=0;c<a.length;c++,h++)e.props[h]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},uhe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function PF(t,e){switch(Hfe(t,e)){case 5103:return At+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return At+t+sg+t+gr+t+t;case 6828:case 4268:return At+t+gr+t+t;case 6165:return At+t+gr+"flex-"+t+t;case 5187:return At+t+Dt(t,/(\w+).+(:[^]+)/,At+"box-$1$2"+gr+"flex-$1$2")+t;case 5443:return At+t+gr+"flex-item-"+Dt(t,/flex-|-self/,"")+t;case 4675:return At+t+gr+"flex-line-pack"+Dt(t,/align-content|flex-|-self/,"")+t;case 5548:return At+t+gr+Dt(t,"shrink","negative")+t;case 5292:return At+t+gr+Dt(t,"basis","preferred-size")+t;case 6060:return At+"box-"+Dt(t,"-grow","")+At+t+gr+Dt(t,"grow","positive")+t;case 4554:return At+Dt(t,/([^-])(transform)/g,"$1"+At+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+t+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,At+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ls(t)-1-e>6)switch(ir(t,e+1)){case 109:if(ir(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+sg+(ir(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~m_(t,"stretch")?PF(Dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ir(t,e+1)!==115)break;case 6444:switch(ir(t,ls(t)-3-(~m_(t,"!important")&&10))){case 107:return Dt(t,":",":"+At)+t;case 101:return Dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(ir(t,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+gr+"$2box$3")+t}break;case 5936:switch(ir(t,e+11)){case 114:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return At+t+gr+t+t}return t}var che=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case pk:e.return=PF(e.value,e.length);break;case OF:return bu([ed(e,{value:Dt(e.value,"@","@"+At)})],i);case hk:if(e.length)return Wfe(e.props,function(s){switch(zfe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bu([ed(e,{props:[Dt(s,/:(read-\w+)/,":"+sg+"$1")]})],i);case"::placeholder":return bu([ed(e,{props:[Dt(s,/:(plac\w+)/,":"+At+"input-$1")]}),ed(e,{props:[Dt(s,/:(plac\w+)/,":"+sg+"$1")]}),ed(e,{props:[Dt(s,/:(plac\w+)/,gr+"input-$1")]})],i)}return""})}},dhe=[che],fhe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||dhe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)s[w[b]]=!0;a.push(y)});var l,h=[lhe,uhe];{var c,f=[the,rhe(function(y){c.insert(y)})],p=nhe(h.concat(i,f)),m=function(w){return bu(Zfe(w),p)};l=function(w,b,_,E){c=_,m(w?w+"{"+b.styles+"}":b.styles),E&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new $fe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},Wb={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function hhe(){if(oR)return Lt;oR=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function E(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case l:case h:case r:case s:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case g:case m:case o:return k;default:return N}}case n:return N}}}function S(k){return E(k)===h}return Lt.AsyncMode=l,Lt.ConcurrentMode=h,Lt.ContextConsumer=a,Lt.ContextProvider=o,Lt.Element=e,Lt.ForwardRef=c,Lt.Fragment=r,Lt.Lazy=g,Lt.Memo=m,Lt.Portal=n,Lt.Profiler=s,Lt.StrictMode=i,Lt.Suspense=f,Lt.isAsyncMode=function(k){return S(k)||E(k)===l},Lt.isConcurrentMode=S,Lt.isContextConsumer=function(k){return E(k)===a},Lt.isContextProvider=function(k){return E(k)===o},Lt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Lt.isForwardRef=function(k){return E(k)===c},Lt.isFragment=function(k){return E(k)===r},Lt.isLazy=function(k){return E(k)===g},Lt.isMemo=function(k){return E(k)===m},Lt.isPortal=function(k){return E(k)===n},Lt.isProfiler=function(k){return E(k)===s},Lt.isStrictMode=function(k){return E(k)===i},Lt.isSuspense=function(k){return E(k)===f},Lt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===h||k===s||k===i||k===f||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===o||k.$$typeof===a||k.$$typeof===c||k.$$typeof===w||k.$$typeof===b||k.$$typeof===_||k.$$typeof===y)},Lt.typeOf=E,Lt}var aR;function phe(){return aR||(aR=1,Wb.exports=hhe()),Wb.exports}var Yb,lR;function mhe(){if(lR)return Yb;lR=1;var t=phe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(g){return t.isMemo(g)?i:s[g.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(g,y,w){if(typeof y!="string"){if(p){var b=f(y);b&&b!==p&&m(g,b,w)}var _=l(y);h&&(_=_.concat(h(y)));for(var E=o(g),S=o(y),k=0;k<_.length;++k){var N=_[k];if(!n[N]&&!(w&&w[N])&&!(S&&S[N])&&!(E&&E[N])){var O=c(y,N);try{a(g,N,O)}catch{}}}}return g}return Yb=m,Yb}mhe();var ghe=!0;function vhe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var MF=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||ghe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yhe=function(e,n,r){MF(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function whe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var bhe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xhe=/[A-Z]|^ms/g,_he=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LF=function(e){return e.charCodeAt(1)===45},uR=function(e){return e!=null&&typeof e!="boolean"},Gb=ihe(function(t){return LF(t)?t:t.replace(xhe,"-$&").toLowerCase()}),cR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_he,function(r,i,s){return us={name:i,styles:s,next:us},i})}return bhe[e]!==1&&!LF(e)&&typeof n=="number"&&n!==0?n+"px":n};function ef(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return us={name:n.name,styles:n.styles,next:us},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)us={name:r.name,styles:r.styles,next:us},r=r.next;var i=n.styles+";";return i}return She(t,e,n)}case"function":{if(t!==void 0){var s=us,o=n(t);return us=s,ef(t,e,o)}break}}return n}function She(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ef(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")uR(o)&&(r+=Gb(s)+":"+cR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var a=0;a<o.length;a++)uR(o[a])&&(r+=Gb(s)+":"+cR(s,o[a])+";");else{var l=ef(t,e,o);switch(s){case"animation":case"animationName":{r+=Gb(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var dR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,us,jF=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";us=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=ef(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=ef(r,n,e[a]),i&&(s+=o[a]);dR.lastIndex=0;for(var l="",h;(h=dR.exec(s))!==null;)l+="-"+h[1];var c=whe(s)+l;return{name:c,styles:s,next:us}},Ehe=function(e){return e()},khe=Qp.useInsertionEffect?Qp.useInsertionEffect:!1,The=khe||Ehe,gk={}.hasOwnProperty,FF=K.createContext(typeof HTMLElement<"u"?fhe({key:"css"}):null);FF.Provider;var Che=function(e){return K.forwardRef(function(n,r){var i=K.useContext(FF);return e(n,i,r)})},Nhe=K.createContext({}),v_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ohe=function(e,n){var r={};for(var i in n)gk.call(n,i)&&(r[i]=n[i]);return r[v_]=e,r},Ahe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return MF(n,r,i),The(function(){return yhe(n,r,i)}),null},Dhe=Che(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[v_],s=[r],o="";typeof t.className=="string"?o=vhe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=jF(s,void 0,K.useContext(Nhe));o+=e.key+"-"+a.name;var l={};for(var h in t)gk.call(t,h)&&h!=="css"&&h!==v_&&(l[h]=t[h]);return l.ref=n,l.className=o,K.createElement(K.Fragment,null,K.createElement(Ahe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),K.createElement(i,l))}),Ihe=Dhe,Xe=function(e,n){var r=arguments;if(n==null||!gk.call(n,"css"))return K.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Ihe,s[1]=Ohe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return K.createElement.apply(null,s)};function vk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return jF(e)}var Rhe=function(){var e=vk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Phe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var y_=K.useLayoutEffect,Mhe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],og=function(){};function Lhe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function jhe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Lhe(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var fR=function(e){return Whe(e)?e.filter(Boolean):pl(e)==="object"&&e!==null?[e]:[]},$F=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=fo(e,Mhe);return et({},n)},bn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Fv(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Fhe(t){return Fv(t)?window.innerHeight:t.clientHeight}function BF(t){return Fv(t)?window.pageYOffset:t.scrollTop}function ag(t,e){if(Fv(t)){window.scrollTo(0,e);return}t.scrollTop=e}function $he(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Bhe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Ep(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:og,i=BF(t),s=e-i,o=10,a=0;function l(){a+=o;var h=Bhe(a,i,s,n);ag(t,h),a<n?window.requestAnimationFrame(l):r(t)}l()}function hR(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?ag(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&ag(t,Math.max(e.offsetTop-i,0))}function Uhe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function pR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Vhe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var UF=!1,qhe={get passive(){return UF=!0}},kp=typeof window<"u"?window:{};kp.addEventListener&&kp.removeEventListener&&(kp.addEventListener("p",og,qhe),kp.removeEventListener("p",og,!1));var Hhe=UF;function zhe(t){return t!=null}function Whe(t){return Array.isArray(t)}function Tp(t,e,n){return t?e:n}var Yhe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Zs(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Zs(a,2),h=l[0],c=l[1];return o[h]=c,o},{})},Ghe=["children","innerProps"],Khe=["children","innerProps"];function Qhe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=$he(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var c=l.getBoundingClientRect(),f=c.height,p=n.getBoundingClientRect(),m=p.bottom,g=p.height,y=p.top,w=n.offsetParent.getBoundingClientRect(),b=w.top,_=o?window.innerHeight:Fhe(l),E=BF(l),S=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),N=b-k,O=_-y,C=N+E,I=f-E-y,R=m-_+E+S,A=E+y-k,D=160;switch(i){case"auto":case"bottom":if(O>=g)return{placement:"bottom",maxHeight:e};if(I>=g&&!o)return s&&Ep(l,R,D),{placement:"bottom",maxHeight:e};if(!o&&I>=r||o&&O>=r){s&&Ep(l,R,D);var M=o?O-S:I-S;return{placement:"bottom",maxHeight:M}}if(i==="auto"||o){var F=e,q=o?N:C;return q>=r&&(F=Math.min(q-S-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return s&&ag(l,R),{placement:"bottom",maxHeight:e};break;case"top":if(N>=g)return{placement:"top",maxHeight:e};if(C>=g&&!o)return s&&Ep(l,A,D),{placement:"top",maxHeight:e};if(!o&&C>=r||o&&N>=r){var L=e;return(!o&&C>=r||o&&N>=r)&&(L=o?N-k:C-k),s&&Ep(l,A,D),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function Xhe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var VF=function(e){return e==="auto"?"bottom":e},Jhe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return et((r={label:"menu"},md(r,Xhe(i),"100%"),md(r,"position","absolute"),md(r,"width","100%"),md(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},qF=K.createContext(null),Zhe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,h=K.useContext(qF)||{},c=h.setPortalPlacement,f=K.useRef(null),p=K.useState(i),m=Zs(p,2),g=m[0],y=m[1],w=K.useState(null),b=Zs(w,2),_=b[0],E=b[1],S=l.spacing.controlHeight;return y_(function(){var k=f.current;if(k){var N=o==="fixed",O=a&&!N,C=Qhe({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:O,isFixedPosition:N,controlHeight:S});y(C.maxHeight),E(C.placement),c==null||c(C.placement)}},[i,s,o,a,r,c,S]),n({ref:f,placerProps:et(et({},e),{},{placement:_||VF(s),maxHeight:g})})},epe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Xe("div",tt({},bn(e,"menu",{menu:!0}),{ref:r},i),n)},tpe=epe,npe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return et({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},rpe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Xe("div",tt({},bn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},HF=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return et({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},ipe=HF,spe=HF,ope=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=fo(e,Ghe);return Xe("div",tt({},bn(et(et({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},ape=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=fo(e,Khe);return Xe("div",tt({},bn(et(et({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},lpe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},upe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=K.useRef(null),h=K.useRef(null),c=K.useState(VF(o)),f=Zs(c,2),p=f[0],m=f[1],g=K.useMemo(function(){return{setPortalPlacement:m}},[]),y=K.useState(null),w=Zs(y,2),b=w[0],_=w[1],E=K.useCallback(function(){if(i){var O=Uhe(i),C=a==="fixed"?0:window.pageYOffset,I=O[p]+C;(I!==(b==null?void 0:b.offset)||O.left!==(b==null?void 0:b.rect.left)||O.width!==(b==null?void 0:b.rect.width))&&_({offset:I,rect:O})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);y_(function(){E()},[E]);var S=K.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&l.current&&(h.current=V5(i,l.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);y_(function(){S()},[S]);var k=K.useCallback(function(O){l.current=O,S()},[S]);if(!n&&a!=="fixed"||!b)return null;var N=Xe("div",tt({ref:k},bn(et(et({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Xe(qF.Provider,{value:g},n?x_.createPortal(N,n):N)},cpe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},dpe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Xe("div",tt({},bn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},fpe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return et({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},hpe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Xe("div",tt({},bn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},ppe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},mpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"indicatorsContainer",{indicators:!0}),r),n)},mR,gpe=["size"],vpe=["innerProps","isRtl","size"],ype={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},zF=function(e){var n=e.size,r=fo(e,gpe);return Xe("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ype},r))},yk=function(e){return Xe(zF,tt({size:20},e),Xe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},WF=function(e){return Xe(zF,tt({size:20},e),Xe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},YF=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return et({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},wpe=YF,bpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Xe(WF,null))},xpe=YF,_pe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Xe(yk,null))},Spe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return et({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Epe=function(e){var n=e.innerProps;return Xe("span",tt({},n,bn(e,"indicatorSeparator",{"indicator-separator":!0})))},kpe=Rhe(mR||(mR=Phe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Tpe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return et({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Kb=function(e){var n=e.delay,r=e.offset;return Xe("span",{css:vk({animation:"".concat(kpe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Cpe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=fo(e,vpe);return Xe("div",tt({},bn(et(et({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Xe(Kb,{delay:0,offset:r}),Xe(Kb,{delay:160,offset:!0}),Xe(Kb,{delay:320,offset:!r}))},Npe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return et({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Ope=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Xe("div",tt({ref:s},bn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},Ape=Ope,Dpe=["data"],Ipe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Rpe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,h=e.label,c=e.theme,f=e.selectProps;return Xe("div",tt({},bn(e,"group",{group:!0}),l),Xe(o,tt({},a,{selectProps:f,theme:c,getStyles:i,getClassNames:s,cx:r}),h),Xe("div",null,n))},Ppe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return et({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Mpe=function(e){var n=$F(e);n.data;var r=fo(n,Dpe);return Xe("div",tt({},bn(e,"groupHeading",{"group-heading":!0}),r))},Lpe=Rpe,jpe=["innerRef","isDisabled","isHidden","inputClassName"],Fpe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return et(et({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},$pe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},GF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$pe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":et({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},GF)},Bpe=function(e){return et({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},GF)},Upe=function(e){var n=e.cx,r=e.value,i=$F(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,h=fo(i,jpe);return Xe("div",tt({},bn(e,"input",{"input-container":!0}),{"data-value":r||""}),Xe("input",tt({className:n({input:!0},l),ref:s,style:Bpe(a),disabled:o},h)))},Vpe=Upe,qpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return et({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Hpe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return et({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},zpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return et({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},KF=function(e){var n=e.children,r=e.innerProps;return Xe("div",r,n)},Wpe=KF,Ype=KF;function Gpe(t){var e=t.children,n=t.innerProps;return Xe("div",tt({role:"button"},n),e||Xe(yk,{size:14}))}var Kpe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,h=r.Container,c=r.Label,f=r.Remove;return Xe(h,{data:i,innerProps:et(et({},bn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Xe(c,{data:i,innerProps:et({},bn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Xe(f,{data:i,innerProps:et(et({},bn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Qpe=Kpe,Xpe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return et({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Jpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Xe("div",tt({},bn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Zpe=Jpe,eme=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return et({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},tme=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},bn(e,"placeholder",{placeholder:!0}),r),n)},nme=tme,rme=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return et({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},ime=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Xe("div",tt({},bn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},sme=ime,ome={ClearIndicator:_pe,Control:Ape,DropdownIndicator:bpe,DownChevron:WF,CrossIcon:yk,Group:Lpe,GroupHeading:Mpe,IndicatorsContainer:mpe,IndicatorSeparator:Epe,Input:Vpe,LoadingIndicator:Cpe,Menu:tpe,MenuList:rpe,MenuPortal:upe,LoadingMessage:ape,NoOptionsMessage:ope,MultiValue:Qpe,MultiValueContainer:Wpe,MultiValueLabel:Ype,MultiValueRemove:Gpe,Option:Zpe,Placeholder:nme,SelectContainer:dpe,SingleValue:sme,ValueContainer:hpe},ame=function(e){return et(et({},ome),e.components)},gR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lme(t,e){return!!(t===e||gR(t)&&gR(e))}function ume(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lme(t[n],e[n]))return!1;return!0}function cme(t,e){e===void 0&&(e=ume);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var dme={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},fme=function(e){return Xe("span",tt({css:dme},e))},vR=fme,hme={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,h=e.isSelected,c=e.isAppleDevice,f=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(f(a,r),".");if(n==="menu"&&c){var p=l?" disabled":"",m="".concat(h?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(f(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},pme=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,h=e.id,c=e.isAppleDevice,f=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,g=l.isMulti,y=l.isOptionDisabled,w=l.isSearchable,b=l.menuIsOpen,_=l.options,E=l.screenReaderStatus,S=l.tabSelectsValue,k=l.isLoading,N=l["aria-label"],O=l["aria-live"],C=K.useMemo(function(){return et(et({},hme),f||{})},[f]),I=K.useMemo(function(){var q="";if(n&&C.onChange){var L=n.option,B=n.options,Y=n.removedValue,H=n.removedValues,j=n.value,U=function(Z){return Array.isArray(Z)?null:Z},V=Y||L||U(j),z=V?p(V):"",Q=B||H||void 0,X=Q?Q.map(p):[],W=et({isDisabled:V&&y(V,a),label:z,labels:X},n);q=C.onChange(W)}return q},[n,C,y,a,p]),R=K.useMemo(function(){var q="",L=r||i,B=!!(r&&a&&a.includes(r));if(L&&C.onFocus){var Y={focused:L,label:p(L),isDisabled:y(L,a),isSelected:B,options:s,context:L===r?"menu":"value",selectValue:a,isAppleDevice:c};q=C.onFocus(Y)}return q},[r,i,p,y,C,s,a,c]),A=K.useMemo(function(){var q="";if(b&&_.length&&!k&&C.onFilter){var L=E({count:s.length});q=C.onFilter({inputValue:m,resultsMessage:L})}return q},[s,m,b,C,_,E,k]),D=(n==null?void 0:n.action)==="initial-input-focus",M=K.useMemo(function(){var q="";if(C.guidance){var L=i?"value":b?"menu":"input";q=C.guidance({"aria-label":N,context:L,isDisabled:r&&y(r,a),isMulti:g,isSearchable:w,tabSelectsValue:S,isInitialFocus:D})}return q},[N,r,i,g,y,w,b,C,a,S,D]),F=Xe(K.Fragment,null,Xe("span",{id:"aria-selection"},I),Xe("span",{id:"aria-focused"},R),Xe("span",{id:"aria-results"},A),Xe("span",{id:"aria-guidance"},M));return Xe(K.Fragment,null,Xe(vR,{id:h},D&&F),Xe(vR,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!D&&F))},mme=pme,w_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],gme=new RegExp("["+w_.map(function(t){return t.letters}).join("")+"]","g"),QF={};for(var Qb=0;Qb<w_.length;Qb++)for(var Xb=w_[Qb],Jb=0;Jb<Xb.letters.length;Jb++)QF[Xb.letters[Jb]]=Xb.base;var XF=function(e){return e.replace(gme,function(n){return QF[n]})},vme=cme(XF),yR=function(e){return e.replace(/^\s+|\s+$/g,"")},yme=function(e){return"".concat(e.label," ").concat(e.value)},wme=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=et({ignoreCase:!0,ignoreAccents:!0,stringify:yme,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,h=i.matchFrom,c=l?yR(r):r,f=l?yR(a(n)):a(n);return s&&(c=c.toLowerCase(),f=f.toLowerCase()),o&&(c=vme(c),f=XF(f)),h==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},bme=["innerRef"];function xme(t){var e=t.innerRef,n=fo(t,bme),r=Yhe(n,"onExited","in","enter","exit","appear");return Xe("input",tt({ref:e},r,{css:vk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _me=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Sme(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=K.useRef(!1),a=K.useRef(!1),l=K.useRef(0),h=K.useRef(null),c=K.useCallback(function(w,b){if(h.current!==null){var _=h.current,E=_.scrollTop,S=_.scrollHeight,k=_.clientHeight,N=h.current,O=b>0,C=S-k-E,I=!1;C>b&&o.current&&(r&&r(w),o.current=!1),O&&a.current&&(s&&s(w),a.current=!1),O&&b>C?(n&&!o.current&&n(w),N.scrollTop=S,I=!0,o.current=!0):!O&&-b>E&&(i&&!a.current&&i(w),N.scrollTop=0,I=!0,a.current=!0),I&&_me(w)}},[n,r,i,s]),f=K.useCallback(function(w){c(w,w.deltaY)},[c]),p=K.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=K.useCallback(function(w){var b=l.current-w.changedTouches[0].clientY;c(w,b)},[c]),g=K.useCallback(function(w){if(w){var b=Hhe?{passive:!1}:!1;w.addEventListener("wheel",f,b),w.addEventListener("touchstart",p,b),w.addEventListener("touchmove",m,b)}},[m,p,f]),y=K.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,f]);return K.useEffect(function(){if(e){var w=h.current;return g(w),function(){y(w)}}},[e,g,y]),function(w){h.current=w}}var wR=["boxSizing","height","overflow","paddingRight","position"],bR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xR(t){t.preventDefault()}function _R(t){t.stopPropagation()}function SR(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ER(){return"ontouchstart"in window||navigator.maxTouchPoints}var kR=!!(typeof window<"u"&&window.document&&window.document.createElement),td=0,Zl={capture:!1,passive:!1};function Eme(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=K.useRef({}),s=K.useRef(null),o=K.useCallback(function(l){if(kR){var h=document.body,c=h&&h.style;if(r&&wR.forEach(function(g){var y=c&&c[g];i.current[g]=y}),r&&td<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(bR).forEach(function(g){var y=bR[g];c&&(c[g]=y)}),c&&(c.paddingRight="".concat(m,"px"))}h&&ER()&&(h.addEventListener("touchmove",xR,Zl),l&&(l.addEventListener("touchstart",SR,Zl),l.addEventListener("touchmove",_R,Zl))),td+=1}},[r]),a=K.useCallback(function(l){if(kR){var h=document.body,c=h&&h.style;td=Math.max(td-1,0),r&&td<1&&wR.forEach(function(f){var p=i.current[f];c&&(c[f]=p)}),h&&ER()&&(h.removeEventListener("touchmove",xR,Zl),l&&(l.removeEventListener("touchstart",SR,Zl),l.removeEventListener("touchmove",_R,Zl)))}},[r]);return K.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var kme=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Tme={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Cme(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,h=Sme({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=Eme({isEnabled:n}),f=function(m){h(m),c(m)};return Xe(K.Fragment,null,n&&Xe("div",{onClick:kme,css:Tme}),e(f))}var Nme={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ome=function(e){var n=e.name,r=e.onFocus;return Xe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Nme,value:"",onChange:function(){}})},Ame=Ome;function wk(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Dme(){return wk(/^iPhone/i)}function JF(){return wk(/^Mac/i)}function Ime(){return wk(/^iPad/i)||JF()&&navigator.maxTouchPoints>1}function Rme(){return Dme()||Ime()}function Pme(){return JF()||Rme()}var Mme=function(e){return e.label},Lme=function(e){return e.label},jme=function(e){return e.value},Fme=function(e){return!!e.isDisabled},$me={clearIndicator:xpe,container:cpe,control:Npe,dropdownIndicator:wpe,group:Ipe,groupHeading:Ppe,indicatorsContainer:ppe,indicatorSeparator:Spe,input:Fpe,loadingIndicator:Tpe,loadingMessage:spe,menu:Jhe,menuList:npe,menuPortal:lpe,multiValue:qpe,multiValueLabel:Hpe,multiValueRemove:zpe,noOptionsMessage:ipe,option:Xpe,placeholder:eme,singleValue:rme,valueContainer:fpe},Bme={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Ume=4,ZF=4,Vme=38,qme=ZF*2,Hme={baseUnit:ZF,controlHeight:Vme,menuGutter:qme},Zb={borderRadius:Ume,colors:Bme,spacing:Hme},zme={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:pR(),captureMenuScroll:!pR(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:wme(),formatGroupLabel:Mme,getOptionLabel:Lme,getOptionValue:jme,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Fme,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Vhe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function TR(t,e,n,r){var i=n6(t,e,n),s=r6(t,e,n),o=t6(t,e),a=lg(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function Kp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return TR(t,o,e,a)}).filter(function(o){return NR(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=TR(t,n,e,r);return NR(t,s)?s:void 0}).filter(zhe)}function e6(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,fk(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function CR(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,fk(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Wme(t,e){return e6(Kp(t,e))}function NR(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!s6(t)||!s)&&i6(t,{label:o,value:a,data:i},r)}function Yme(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Gme(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var ex=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},t6=function(e,n){return e.getOptionLabel(n)},lg=function(e,n){return e.getOptionValue(n)};function n6(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function r6(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=lg(t,e);return n.some(function(i){return lg(t,i)===r})}function i6(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var s6=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Kme=1,o6=function(t){Afe(n,t);var e=Rfe(n);function n(r){var i;if(Nfe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=Pme(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,h){var c=i.props,f=c.onChange,p=c.name;h.name=p,i.ariaOnChange(l,h),f(l,h)},i.setValue=function(l,h,c){var f=i.props,p=f.closeMenuOnSelect,m=f.isMulti,g=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:h,option:c})},i.selectOption=function(l){var h=i.props,c=h.blurInputOnSelect,f=h.isMulti,p=h.name,m=i.state.selectValue,g=f&&i.isOptionSelected(l,m),y=i.isOptionDisabled(l,m);if(g){var w=i.getOptionValue(l);i.setValue(m.filter(function(b){return i.getOptionValue(b)!==w}),"deselect-option",l)}else if(!y)f?i.setValue([].concat(fk(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:p});return}c&&i.blurInput()},i.removeValue=function(l){var h=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),p=c.filter(function(g){return i.getOptionValue(g)!==f}),m=Tp(h,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Tp(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,h=i.state.selectValue,c=h[h.length-1],f=h.slice(0,h.length-1),p=Tp(l,f,f[0]||null);i.onChange(p,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return ex(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return CR(Kp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,h=new Array(l),c=0;c<l;c++)h[c]=arguments[c];return jhe.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(l){return t6(i.props,l)},i.getOptionValue=function(l){return lg(i.props,l)},i.getStyles=function(l,h){var c=i.props.unstyled,f=$me[l](h,c);f.boxSizing="border-box";var p=i.props.styles[l];return p?p(f,h):f},i.getClassNames=function(l,h){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,h)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return ame(i.props)},i.buildCategorizedOptions=function(){return Kp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return e6(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,h){i.setState({ariaSelection:et({value:l},h)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var h=i.props,c=h.isMulti,f=h.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Fv(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var h=l.touches,c=h&&h.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var h=l.touches,c=h&&h.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),p=Math.abs(c.clientY-i.initialTouchY),m=5;i.userIsDragging=f>m||p>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var h=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var h=i.getFocusableOptions(),c=h.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return s6(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var h=i.props,c=h.isMulti,f=h.backspaceRemovesValue,p=h.escapeClearsValue,m=h.inputValue,g=h.isClearable,y=h.isDisabled,w=h.menuIsOpen,b=h.onKeyDown,_=h.tabSelectsValue,E=h.openMenuOnFocus,S=i.state,k=S.focusedOption,N=S.focusedValue,O=S.selectValue;if(!y&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||m)return;i.focusValue("previous");break;case"ArrowRight":if(!c||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(N)i.removeValue(N);else{if(!f)return;c?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!w||!_||!k||E&&i.isOptionSelected(k,O))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(w){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):g&&p&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Kme),i.state.selectValue=fR(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=ex(s,o[a])}return i}return Ofe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&hR(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(hR(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,h=this.buildFocusableOptions(),c=i==="first"?0:h.length-1;if(!this.props.isMulti){var f=h.indexOf(a[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[c],focusedOptionId:this.getFocusedOptionId(h[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var h=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=h:c=l-1;break;case"next":l>-1&&l<h&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,h=a.indexOf(o);o||(h=-1),i==="up"?l=h>0?h-1:a.length-1:i==="down"?l=(h+1)%a.length:i==="pageup"?(l=h-s,l<0&&(l=0)):i==="pagedown"?(l=h+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Zb):et(et({},Zb),this.props.theme):Zb}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,h=this.selectOption,c=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:g,selectOption:h,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return n6(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return r6(this.props,i,s)}},{key:"filterOption",value:function(i,s){return i6(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,h=i.tabIndex,c=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),g=m.Input,y=this.state,w=y.inputIsHidden,b=y.ariaSelection,_=this.commonProps,E=a||this.getElementId("input"),S=et(et(et({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?K.createElement(g,tt({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:c,type:"text",value:l},S)):K.createElement(xme,tt({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:og,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:c,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,h=s.MultiValueRemove,c=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,y=m.isDisabled,w=m.isMulti,b=m.inputValue,_=m.placeholder,E=this.state,S=E.selectValue,k=E.focusedValue,N=E.isFocused;if(!this.hasValue()||!g)return b?null:K.createElement(f,tt({},p,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),_);if(w)return S.map(function(C,I){var R=C===k,A="".concat(i.getOptionLabel(C),"-").concat(i.getOptionValue(C));return K.createElement(o,tt({},p,{components:{Container:a,Label:l,Remove:h},isFocused:R,isDisabled:y,key:A,index:I,removeProps:{onClick:function(){return i.removeValue(C)},onTouchEnd:function(){return i.removeValue(C)},onMouseDown:function(M){M.preventDefault()}},data:C}),i.formatOptionLabel(C,"value"))});if(b)return null;var O=S[0];return K.createElement(c,tt({},p,{data:O,isDisabled:y}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||h)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!s||!h)return null;var f={"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,h=this.state.isFocused;return K.createElement(o,tt({},a,{isDisabled:l,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:h,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,h=s.MenuList,c=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,g=this.commonProps,y=this.state.focusedOption,w=this.props,b=w.captureMenuScroll,_=w.inputValue,E=w.isLoading,S=w.loadingMessage,k=w.minMenuHeight,N=w.maxMenuHeight,O=w.menuIsOpen,C=w.menuPlacement,I=w.menuPosition,R=w.menuPortalTarget,A=w.menuShouldBlockScroll,D=w.menuShouldScrollIntoView,M=w.noOptionsMessage,F=w.onMenuScrollToTop,q=w.onMenuScrollToBottom;if(!O)return null;var L=function(z,Q){var X=z.type,W=z.data,J=z.isDisabled,Z=z.isSelected,te=z.label,le=z.value,pe=y===W,ge=J?void 0:function(){return i.onOptionHover(W)},Ce=J?void 0:function(){return i.selectOption(W)},$e="".concat(i.getElementId("option"),"-").concat(Q),De={id:$e,onClick:Ce,onMouseMove:ge,onMouseOver:ge,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return K.createElement(m,tt({},g,{innerProps:De,data:W,isDisabled:J,isSelected:Z,key:$e,label:te,type:X,value:le,isFocused:pe,innerRef:pe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(z.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var z=V.data,Q=V.options,X=V.index,W="".concat(i.getElementId("group"),"-").concat(X),J="".concat(W,"-heading");return K.createElement(o,tt({},g,{key:W,data:z,options:Q,Heading:a,headingProps:{id:J,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(Z){return L(Z,"".concat(X,"-").concat(Z.index))}))}else if(V.type==="option")return L(V,"".concat(V.index))});else if(E){var Y=S({inputValue:_});if(Y===null)return null;B=K.createElement(f,g,Y)}else{var H=M({inputValue:_});if(H===null)return null;B=K.createElement(p,g,H)}var j={minMenuHeight:k,maxMenuHeight:N,menuPlacement:C,menuPosition:I,menuShouldScrollIntoView:D},U=K.createElement(Zhe,tt({},g,j),function(V){var z=V.ref,Q=V.placerProps,X=Q.placement,W=Q.maxHeight;return K.createElement(l,tt({},g,j,{innerRef:z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:X}),K.createElement(Cme,{captureEnabled:b,onTopArrive:F,onBottomArrive:q,lockEnabled:A},function(J){return K.createElement(h,tt({},g,{innerRef:function(te){i.getMenuListRef(te),J(te)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:W,focusedOption:y}),B)}))});return R||I==="fixed"?K.createElement(c,tt({},g,{appendTo:R,controlElement:this.controlRef,menuPlacement:C,menuPosition:I}),U):U}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,h=s.name,c=s.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!a)return K.createElement(Ame,{name:h,onFocus:this.onValueInputFocus});if(!(!h||a))if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return K.createElement("input",{name:h,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,w){return K.createElement("input",{key:"i-".concat(w),name:h,type:"hidden",value:i.getOptionValue(y)})}):K.createElement("input",{name:h,type:"hidden",value:""});return K.createElement("div",null,m)}else{var g=f[0]?this.getOptionValue(f[0]):"";return K.createElement("input",{name:h,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,h=s.isFocused,c=s.selectValue,f=this.getFocusableOptions();return K.createElement(mme,tt({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:h,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,h=this.props,c=h.className,f=h.id,p=h.isDisabled,m=h.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return K.createElement(a,tt({},y,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),K.createElement(s,tt({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),K.createElement(l,tt({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),K.createElement(o,tt({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,c=s.isFocused,f=s.prevWasFocused,p=s.instancePrefix,m=i.options,g=i.value,y=i.menuIsOpen,w=i.inputValue,b=i.isMulti,_=fR(g),E={};if(o&&(g!==o.value||m!==o.options||y!==o.menuIsOpen||w!==o.inputValue)){var S=y?Wme(i,_):[],k=y?CR(Kp(i,_),"".concat(p,"-option")):[],N=a?Yme(s,_):null,O=Gme(s,S),C=ex(k,O);E={selectValue:_,focusedOption:O,focusedOptionId:C,focusableOptionsWithIds:k,focusedValue:N,clearFocusValueOnUpdate:!1}}var I=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=h,A=c&&f;return c&&!A&&(R={value:Tp(b,_,_[0]||null),options:_,action:"initial-input-focus"},A=!f),(h==null?void 0:h.action)==="initial-input-focus"&&(R=null),et(et(et({},E),I),{},{prevProps:i,ariaSelection:R,prevWasFocused:A})}}]),n}(K.Component);o6.defaultProps=zme;var Qme=K.forwardRef(function(t,e){var n=Cfe(t);return K.createElement(o6,tt({ref:e},n))}),a6=Qme;function l6({msg:t}){return x.jsx("p",{className:"pl-1 pt-1 text-sm text-red-500",children:t})}const Xme={id:"no_host",displayName:" "};function u6({label:t,selectedHosts:e,onChange:n,errorMsg:r}){const s=[...Pe(Ds),Xme].map(a=>({value:a.id,label:a.displayName})),o=s.filter(({value:a})=>e==null?void 0:e.includes(a));return x.jsxs("div",{className:"flex flex-col",children:[x.jsx(zi,{text:t}),x.jsx(a6,{className:"h-12 shadow-none shadow-purple2 focus-within:border-pointCoral [&>div:nth-child(3)]:h-full [&>div:nth-child(3)]:rounded-xl [&>div:nth-child(3)]:border-gray1",menuPosition:"fixed",name:"host",placeholder:`${t} `,defaultValue:o.length?[...o]:[],isMulti:!0,options:s,isClearable:!1,isSearchable:!1,onChange:a=>n(a)}),r&&x.jsx(l6,{msg:r})]})}const tx=2;function Jme({title:t,yearMonthId:e}){var B,Y;const n=Pe(Pt),[r,i]=K.useState(1),[s,o]=K.useState({id:"",isEditing:!1}),a=Pe(Dr(e)),l=+e.slice(0,4),h=+e.slice(-2),c={place:" ",time:ht(p3(l,h,11,0),"yyyy-MM-dd'T'HH:mm:ss"),eventMonth:{title:"",contents:[{id:jt(),title:`${l}   `},{id:jt(),title:`${l}   ?`},{id:jt(),title:`${l}   ?`}],hosts:[]}},f=a?{...a.meeting,...c}:c,{currMeeting:p,onMeetingChange:m,savedPlaceList:g}=A3(f,e),{anonymous:y}=ni("register"),{isPending:w,sendPushNotificationToAllUser:b}=Ji(),{hideModal:_}=bt(),{errorMsg:E,handleErrorMsg:S}=DE(),{eventMonth:k,time:N,place:O}=p,C={place:[{condition:r===1&&O==="",error:" ."}],eventTitle:[{condition:r===1&&k.title==="",error:"  ."}],hosts:[{condition:r===2&&k.hosts.length===0,error:"  ."}],contents:[{condition:r===2&&k.contents.some(({title:H})=>H===""),error:"  ."}]},I=+e.slice(-2),R=`BookClub-${e.slice(0,4)}`,A=async()=>{const H=ln(Jt,R,e);await wn(H,{meeting:p}),alert(`${I}   !`),await b({title:`${p.eventMonth.title}  `,body:`${ht(N,"M d EEEE a h mm")} ${O} `})},D=async()=>{const H={meeting:p,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:n.uid};await EE(R,e,H),alert(`${I}   !`),await b({title:`${p.eventMonth.title}  `,body:`${I}  ! ${ht(N,"M d EEEE a h mm")} ${O} `})},M=async H=>{H.preventDefault();try{if(S(C))return;a?A():D(),_()}catch{window.alert("     .  ."),_()}},F=(H,j)=>{if(H==="next"&&!S(C)){const V=r===tx?r:r+1;i(V)}if(H==="prev"){const U=r===1?r:r-1;i(U)}},q=H=>{const j=document.getElementById(H);j==null||j.focus()},L=H=>s.id===H&&s.isEditing;return x.jsx(ur,{title:t,className:"max-w-96",children:x.jsxs("form",{onSubmit:M,className:"flex flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[r===1&&x.jsxs(x.Fragment,{children:[x.jsx(Wt,{label:" ",placeholder:"  .",value:k.title,onChange:H=>{m({eventMonth:{...k,title:H.target.value}})},errorMsg:E==null?void 0:E.eventTitle}),x.jsx(Pv,{id:"",label:"",selectsEnd:!0,selected:new Date(N),dateFormat:"M d EEEE a hh:mm",onChange:H=>{m({time:ht(H,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0,placeholderText:"  ."}),x.jsx(Wt,{label:"",value:O,onChange:H=>{m({place:H.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:E==null?void 0:E.place,children:x.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(B=g==null?void 0:g.place)==null?void 0:B.map(H=>x.jsx(Fn,{text:H,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>m({place:H})},H))})})]}),r===2&&x.jsxs(x.Fragment,{children:[x.jsx(u6,{label:" ",selectedHosts:c.eventMonth.hosts,onChange:H=>{const j=H.map(({value:U})=>U);m({eventMonth:{...k,hosts:j}})},errorMsg:E.hosts}),x.jsxs("div",{className:"flex h-[40vh] flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[(k==null?void 0:k.contents.length)>0&&x.jsx("ul",{className:"flex flex-col gap-y-3",children:(Y=k==null?void 0:k.contents)==null?void 0:Y.map(({id:H,title:j},U)=>x.jsx("li",{children:x.jsx(Wt,{label:U===0&&"  ",readOnly:!L(H),id:H,iconName:"FiHash",value:j,placeholder:L(H)?"  .":"",className:"bg-blue-50 !pr-16 font-medium read-only:cursor-default read-only:border-gray1 read-only:bg-white",onChange:V=>{const z=k.contents.map(Q=>H===Q.id?{...Q,title:V.target.value}:Q);m({eventMonth:{...k,contents:z}})},errorMsg:j===""&&E.contents,tailIconChildren:x.jsxs("div",{className:"absolute right-3 top-[15px] flex items-center gap-2",children:[L(H)?x.jsx(M3,{onClick:()=>{o({id:"",isEditing:!1})},className:"!size-[17px]"}):x.jsx(L3,{onClick:()=>{o({id:H,isEditing:!0}),q(H)},className:"!size-[18px]"}),U>2&&x.jsx(If,{className:"!size-[18px]",onClick:()=>{if(U===0)return;const V=k.contents.filter(z=>z.id!==H);m({eventMonth:{...k,contents:V}})}})]})})},H))}),x.jsx("button",{type:"button",onClick:()=>{m({eventMonth:{...k,contents:[...k.contents,{id:jt(),title:""}]}})},className:"flex min-h-12 w-full items-center justify-center rounded-xl border border-gray1",children:x.jsx(vv,{className:"size-5 text-blue1"})})]})]}),x.jsxs("div",{className:"ml-auto mt-4 flex gap-x-2",children:[x.jsx(at,{type:"button",name:"",handleClick:()=>F("prev"),disabled:r===1,className:"!shadow-none",color:"gray"}),tx!==r&&x.jsx(at,{type:"button",name:"",handleClick:()=>F("next"),className:"!shadow-none"}),tx===r&&x.jsx(at,{type:"submit",name:a!=null&&a.meeting?"":`${I}  `,className:"ml-auto",disabled:w||y,color:"blue"})]}),y&&x.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function Zme(){const t=Pe(Dr(cd)),e=Pe(O3(cd)),{hosts:n,field:r}=e||{},{book:i,id:s,meeting:o}=t||{},{showModal:a}=bt(),l=Or(),h=()=>l("/search",{state:{registerYearMonth:cd}}),c=async()=>{a({element:x.jsx(Jme,{title:`${+m3}  `,yearMonthId:cd})})},f=t&&[{label:"",value:o==null?void 0:o.time},{label:"",value:o==null?void 0:o.place},{label:"",value:n}];return x.jsx(x.Fragment,{children:t?x.jsx(x.Fragment,{children:i?x.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[x.jsx(tF,{month:ht(s,"M"),book:i,field:r,className:"col-span-1 h-full"}),x.jsx("div",{className:"col-span-1 flex flex-col gap-4",children:f.map(({label:p,value:m})=>x.jsx(ok,{label:p,value:m,editable:!1},p))})]}):x.jsx(ak,{yearMonthId:s,event:t.meeting})}):x.jsx(Zi,{text:"    .",children:x.jsxs("div",{className:"flex gap-x-3",children:[x.jsx(at,{name:" ",color:"lightBlue",handleClick:h,children:x.jsx(Mse,{className:"mr-2"})}),x.jsx(at,{name:" ",color:"purple",handleClick:c,children:x.jsx(Lse,{className:"mr-2"})})]})})})}function c6({hyphenDate:t,isDateMark:e=!0,className:n}){return x.jsxs("div",{className:`flex items-center gap-x-1 ${n}`,children:[x.jsx("span",{className:"text-[15px] text-gray1",children:"D-DAY"}),x.jsxs("span",{className:"text-red-500",children:[": ",Pu(t)]}),e&&x.jsx("span",{className:"ml-2 text-sm text-gray1",children:ht(t,"yyyy M d")})]})}const d6=({voteDetail:t})=>{const{id:e,title:n,voteItems:r,deadline:i}=t;return x.jsxs("div",{className:"flex w-fit flex-col justify-between rounded-card bg-white px-7 py-5 shadow-card max-sm:w-full",children:[x.jsxs("h4",{className:"mb-3 flex items-center gap-1 font-medium",children:[x.jsx(FE,{className:"text-base"}),n]}),x.jsx("ul",{className:"flex gap-6",children:r.map(({id:s,book:o})=>x.jsx("li",{children:x.jsx(un,{thumbnail:o.thumbnail,title:o.title,className:"w-16"})},s))}),x.jsxs("div",{className:"mt-5 flex items-end justify-between gap-2",children:[x.jsx(c6,{hyphenDate:i,isDateMark:!1}),x.jsxs(br,{to:`/vote/${e}`,state:{docId:e},className:"flex items-center justify-end gap-0.5 py-0.5",children:[x.jsx("span",{className:"text-sm text-gray1",children:" "}),x.jsx(PE,{className:"text-sm text-gray1"})]})]})]})},ege=()=>{const[t,e]=an(NE),n=t==null?void 0:t.filter(s=>s.deadline>=Cm);K.useEffect(()=>{t!=null&&t.length||jn(zo,e)},[]);const r=Or(),i={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},320:{slidesPerView:1}}};return x.jsx(x.Fragment,{children:n!=null&&n.length?x.jsx(Ff,{options:i,children:n==null?void 0:n.map(s=>x.jsx(sc,{children:x.jsx(d6,{voteDetail:s})},s.id))}):x.jsx(Zi,{text:"  .",onCreateClick:()=>r("/vote"),createBtnTitle:"  "})})},tge=()=>{const t=Or(),e=Os(tc),n=Os(C3);K.useEffect(()=>{jn(lo,e),jn(Fne,n)},[]);const r=[{name:" ",onClick:()=>t("/monthlyinfo",{state:"fieldAndHost"}),color:"blue"},{name:"",onClick:()=>t("/monthlyinfo",{state:"absence"}),color:"blue"},{name:"",onClick:()=>t("/challenge"),color:"blue"},{name:"",onClick:()=>t("/yearClosingEvent"),color:"blue"}];return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:" "}),x.jsxs("main",{children:[x.jsx(Ot,{title:" ",children:x.jsx(nF,{})}),x.jsxs(Ot,{title:" ",children:[x.jsx(Zme,{}),+m3==12&&x.jsx(rg,{to:"/bookclub/2025-12",title:""})]}),x.jsx(Ot,{className:"!my-28 grid w-full grid-cols-4 gap-4 max-sm:my-20 max-sm:grid-cols-2 max-sm:gap-2.5",children:r.map(({name:i,onClick:s,color:o})=>x.jsx(at,{name:`${Tt} ${i}`,className:"h-fit w-full rounded-xl !px-0 py-4",color:o,handleClick:s},i))}),x.jsx(Ot,{title:"   ",children:x.jsx(EF,{maxLength:5})}),x.jsx(Ot,{title:" ",children:x.jsx(ege,{})})]}),x.jsx(bfe,{})]})},nx=({isLoggedIn:t})=>{var l;const e=(l=Xt.currentUser)==null?void 0:l.isAnonymous,{currEmail:n,currPassword:r,onSubmit:i,onChange:s,onAnonymousLoginClick:o}=Ore(t),a=Or();return x.jsx(x.Fragment,{children:x.jsxs("main",{className:"mx-auto flex h-screen w-[50%] flex-col items-center justify-center max-sm:w-[90%]",children:[x.jsxs("header",{className:"mt-[45%] flex w-full flex-col items-center",children:[x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-40"}),x.jsx("h1",{className:"text-lg font-medium",children:" "})]}),x.jsxs("form",{onSubmit:i,className:"mt-5 flex w-full flex-col gap-3",children:[x.jsx(Wt,{name:"email",type:"email",value:n.email,placeholder:"  .",onChange:s,autoComplete:"email",errorMsg:n.error}),x.jsx(Wt,{name:"password",type:"password",placeholder:" .",value:r.password,onChange:s,autoComplete:"current-password",errorMsg:r.error}),x.jsx(at,{type:"submit",name:"",color:"blue",className:"w-full"}),x.jsx(at,{type:"button",handleClick:()=>a("/create_account"),name:"",className:"w-full"}),!e&&x.jsx(at,{type:"button",color:"blue",name:" ",handleClick:o,className:"w-full"})]}),x.jsx(br,{to:"/find_pw",className:"mt-7 text-[13px] text-gray1",children:" "})]})})};function Da({isMulti:t=!1,data:e,label:n,color:r,detail:i}){const s="px-1.5 py-4 text-center text-sm ",o={bold:{darkBlue:"text-blue2",lightBlue:"text-blue2",yellow:"text-yellow-600"},regular:{darkBlue:"text-blue2",lightBlue:"text-blue3",yellow:"text-yellow-500"}},{showModal:a}=bt(),l=()=>{a({element:x.jsx(ur,{className:"!min-h-60",title:`${e}  `,children:x.jsx("textarea",{value:i,readOnly:!0,className:"min-h-40 resize-none"})})})};return x.jsxs(x.Fragment,{children:[t&&x.jsx("td",{className:`${s}`,children:x.jsx("ul",{className:"flex flex-wrap items-center justify-center gap-3",children:e!=null&&e.length&&e?e.map(h=>h==="no_host"?x.jsx("span",{className:"text-gray2",children:" "},h):x.jsx(cr,{userId:h},h)):x.jsx("span",{className:"text-gray2",children:""})})}),!t&&x.jsxs(x.Fragment,{children:[n===""&&x.jsxs("td",{className:`${s} !text-[15px] ${+Ti===e?`font-semibold ${o.bold[r]}`:`${o.regular[r]}`}`,children:[e,""]}),(n===""||n==="")&&x.jsx("td",{className:`${s}`,children:e?n===""?"":"":""}),n!==""&&n!==""&&n!==""&&x.jsxs("td",{className:`${s} flex items-center justify-center text-text`,children:[e||x.jsx("span",{className:"text-gray2",children:""}),i&&x.jsx("button",{type:"button",className:"ml-1 text-blue2",onClick:l,children:x.jsx(Zre,{})})]})]})]})}function bk({color:t="lightBlue",labels:e,rowDataList:n,isEditable:r,onEditClick:i}){const s={header:{lightBlue:"bg-blue4 text-blue3",yellow:"bg-yellow-50 text-yellow-500"},border:{lightBlue:"border-[#dcebfc]",yellow:"border-[#fff9b9]"}};return x.jsx("div",{className:"relative overflow-hidden rounded-xl bg-white shadow-card",children:x.jsxs("table",{className:"w-full",children:[x.jsxs("colgroup",{children:[e.includes("")&&x.jsx("col",{width:"18%"}),x.jsx("col",{width:"40%"}),x.jsx("col",{width:"40%"}),r&&x.jsx("col",{width:"10%"})]}),x.jsx("thead",{children:x.jsxs("tr",{className:`${s.header[t]} relative rounded-t-xl`,children:[e.map(o=>x.jsx("th",{className:"py-3 text-[15px] font-medium",children:o},o)),r&&x.jsx("th",{"aria-label":""})]})}),x.jsx("tbody",{children:n==null?void 0:n.map(o=>x.jsx(K.Fragment,{children:x.jsxs("tr",{className:`border-b ${s.border[t]} last:border-0`,children:["month"in o&&e.includes("")&&x.jsx(Da,{label:"",data:o.month,color:t}),"field"in o&&x.jsx(Da,{label:"",data:o.field,detail:o.detail}),"hosts"in o&&x.jsx(Da,{isMulti:!0,label:"",data:o.hosts}),"onceAbsenceMembers"in o&&x.jsx(Da,{isMulti:!0,label:"",data:o.onceAbsenceMembers}),"breakMembers"in o&&x.jsx(Da,{isMulti:!0,label:"",data:o.breakMembers}),"onceAbsenceMonth"in o&&x.jsx(Da,{label:"",data:o.onceAbsenceMonth}),"breakMonth"in o&&x.jsx(Da,{label:"",data:o.breakMonth}),r&&"month"in o&&x.jsx("td",{className:"px-4 text-center",children:x.jsx("button",{type:"button",onClick:()=>i(o.month),children:x.jsx(ME,{className:"stroke-gray2"})})})]})},o.month))})]})})}function OR({isMonth:t,isEditable:e,year:n}){const[r,i]=an(kl(n)),s=`BookClub-${n}`;K.useEffect(()=>{Ar(`BookClub-${n}`,ul,i)},[]);const o=["",""],a=t?["",...o]:o,l=async()=>{await Ns(ln(Jt,s,ul),Vne)};return x.jsx(x.Fragment,{children:r!=null&&r.absenceMembers?x.jsx(bk,{labels:a,rowDataList:r==null?void 0:r.absenceMembers,isEditable:e}):x.jsx(Zi,{text:"    .",createBtnTitle:`${n}    `,onCreateClick:l})})}function f6({label:t,containerClassName:e,...n}){return x.jsxs("div",{className:`relative flex flex-col ${e}`,children:[t&&x.jsx(zi,{text:t}),x.jsx("textarea",{...n,className:`h-32 w-full resize-none rounded-xl border border-gray1 p-3 outline-none hover:bg-blue-50 ${n.className}`})]})}function nge({field:t,setSelectedValues:e,errorMsg:n}){const r=Sd.map(o=>({value:`${o.id}`,label:o.name})),i=r.find(({label:o})=>o===t),s=o=>{const a=o.label;e(l=>({...l,field:a}))};return x.jsxs("div",{children:[x.jsx(zi,{text:""}),x.jsx(a6,{className:"h-12 [&>div]:h-full [&>div]:rounded-xl [&>div]:border-gray1",menuPosition:"fixed",options:r,isSearchable:!1,defaultValue:i||r[12],onChange:s,placeholder:" "}),n&&x.jsx(l6,{msg:n})]})}function rge({year:t,month:e}){const{errorMsg:n,onSubmit:r,selectedValues:i,setSelectedValues:s}=Ere({year:t,monthKey:`${e}`}),{hosts:o,field:a,detail:l}=i;return x.jsx(ur,{title:`${e}   `,children:x.jsxs("form",{onSubmit:r,className:"flex flex-col gap-y-4",children:[x.jsx(nge,{field:a,setSelectedValues:s,errorMsg:n==null?void 0:n.field}),x.jsx(u6,{label:"",selectedHosts:o,onChange:h=>{const c=h.map(({value:f})=>f);s(f=>({...f,hosts:c}))},errorMsg:n==null?void 0:n.hosts}),x.jsx(f6,{label:"",placeholder:" ",value:l,onChange:h=>{s(c=>({...c,detail:h.target.value}))}}),x.jsx(at,{type:"submit",name:"",className:"self-end"})]})})}const h6=({isMonth:t=!1,isEditable:e=!1,color:n="lightBlue",year:r})=>{const{id:i,...s}=Pe(AE(r)),{showModal:o}=bt(),a=async()=>{const f=Object.fromEntries(Array.from({length:12},(p,m)=>[`${m+1}`,{detail:"",hosts:[],field:""}]));EE(`BookClub-${r}`,_E,f)},l=t?["","",""]:["",""],h=f=>{o({element:x.jsx(rge,{year:r,month:f})})},c=Object.entries(s).map(([f,p])=>({...p,month:+f.slice(0,-1)})).sort((f,p)=>f.month-p.month);return x.jsx(x.Fragment,{children:c.length!==0?x.jsx(bk,{color:n,labels:l,rowDataList:c,onEditClick:h,isEditable:e}):x.jsx(Zi,{text:"     .",createBtnTitle:`${r}    `,onCreateClick:a})})};function ige(){const{state:t}=Nr(),n={fieldAndHost:" ",absence:""}[t];return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${n} `,backBtn:!0}),x.jsxs("main",{children:[n===""&&x.jsxs(x.Fragment,{children:[x.jsxs(Ot,{title:"2025 ",children:[x.jsx(OR,{year:"2025",isMonth:!0}),x.jsx(rg,{title:"   ",to:"/setting/absence",state:{year:"2025"},className:"pt-3"})]}),x.jsx(Ot,{title:"2026 ",children:x.jsx(OR,{year:"2026",isMonth:!0})})]}),n===" "&&x.jsx(Ot,{title:"  ",children:x.jsx(h6,{year:Tt,isEditable:!0,isMonth:!0})})]})]})}const sge=({document:t})=>{const{id:e,book:n,meeting:{time:r,place:i}}=t,s=ht(e,"M");return x.jsxs("div",{className:"relative flex h-full w-full cursor-pointer flex-col items-center justify-between gap-1 rounded-card bg-white px-4 py-5 shadow-card",children:[x.jsx(Fn,{color:e===gn?"lightBlue":"purple",shape:"rounded",text:`${s} `,className:"font-medium"}),n?x.jsxs(x.Fragment,{children:[x.jsx(un,{thumbnail:n.thumbnail,title:n.title,iconName:n.title.includes("")?"MdEventAvailable":void 0,className:"mt-4 w-1/2 max-sm:w-1/4"}),x.jsx("h3",{className:"my-2 text-center text-lg font-medium leading-6",children:n.title})]}):x.jsx("h3",{className:"my-2 text-center text-lg font-medium",children:t.meeting.eventMonth.title}),x.jsx(f5,{time:r,place:i,className:"flex flex-col items-center"})]})};function oge(){const{clubByYear:t,selectedYear:e,setSelectedYear:n}=Df(),r=K.useMemo(()=>t.filter(i=>new Date(i.id).getTime()<new Date(gn).getTime()),[t]);return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:" "}),x.jsxs("main",{children:[x.jsx(d5,{selectedYear:e,handleChangeYear:n,buttonClassName:"!shadow-sm !px-3 !py-2"}),x.jsx(Ot,{title:`${e} `,className:"!mt-10",children:r.length!==0?x.jsx("ul",{className:"grid grid-cols-4 gap-5 max-md:grid-cols-3 max-sm:mt-2 max-sm:flex max-sm:flex-col [&>div]:col-span-4",children:r.map(i=>x.jsx(br,{to:`/bookclub${gn===i.id?"":`/${i.id}`}`,children:x.jsx(sge,{document:i})},i.id))}):x.jsx(Zi,{text:"    ."})})]})]})}const age=({searchedBook:t,registerYearMonth:e})=>{const n=Pe(Dr(e)),[r,i]=K.useState(!1),s=+e.slice(-2),o=+e.slice(0,4),{showModal:a}=bt(),l={place:" ",time:ht(p3(o,s,11,0),"yyyy-MM-dd'T'HH:mm:ss")},h=async()=>{a({element:x.jsx(eF,{title:`${s}  `,currentValue:l,yearMonthId:e,registerBook:t})})};return K.useEffect(()=>{n&&i(!0)},[r]),x.jsx(x.Fragment,{children:r&&t.title===(n==null?void 0:n.book.title)?x.jsx(at,{name:" ",disabled:!0,className:"ml-auto py-2"}):x.jsx(at,{name:`${s}  ${n!=null&&n.book?"":""}`,type:"button",handleClick:h,color:"blue",className:"ml-auto py-2"})})},lge=({searchedBook:t})=>{const{state:e}=Nr(),{thumbnail:n,title:r,authors:i,publisher:s,url:o,datetime:a,price:l,contents:h}=t;return x.jsx(x.Fragment,{children:x.jsx(Rf,{headerChildren:x.jsx(ic,{book:{thumbnail:n,title:r,authors:i,publisher:s,url:o},className:"py-4"}),children:x.jsxs("div",{className:"px-1 pb-4 pt-1",children:[x.jsx(un,{thumbnail:n,title:r,url:o,className:"float-left mr-3 w-24"}),x.jsxs("div",{className:"mb-4 h-full [&>div]:text-text",children:[x.jsx("h1",{className:"mb-1 text-lg font-medium",children:r!==""?` ${r} `:""}),i&&x.jsx(Is,{authors:i,publisher:s}),a&&x.jsxs("div",{className:"mb-0.5 mt-3",children:[x.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",ht(a,"yyyy M d")]}),l&&x.jsxs("div",{className:"mb-0.5",children:[x.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",t.price.toLocaleString(),""]}),h&&x.jsxs("p",{className:"my-3",children:[h,"..."]})]}),x.jsx(age,{searchedBook:t,registerYearMonth:e==null?void 0:e.registerYearMonth})]})})})},uge=()=>{const{onBookQueryChange:t,searchList:e,setSearchList:n}=IE(),r=K.useRef(null);return K.useEffect(()=>{n([]),r.current.focus()},[]),x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:" ",backBtn:!0}),x.jsx("main",{children:x.jsxs(Ot,{title:" ",children:[x.jsxs("form",{className:"mb-8 flex w-1/2 gap-3 max-sm:mb-4 max-sm:w-full",children:[x.jsx(Wt,{ref:r,placeholder:"  .",onChange:t,className:"flex-1"}),x.jsx(at,{name:"",className:"min-w-fit"})]}),x.jsxs("span",{children:[" ",e.length,""," ",x.jsx("span",{className:"text-gray1",children:"( 10 .)"})]}),x.jsx("ul",{className:"mt-4 columns-2 gap-x-4 max-sm:mt-2 max-sm:columns-1 max-sm:gap-x-0",children:e.map((i,s)=>x.jsx("li",{className:"mb-4 w-full items-center justify-between",children:x.jsx(lge,{searchedBook:i})},`${i.isbn}-${s}`))})]})})]})},cge=()=>{const{anonymous:t}=ni("see"),e=Or(),n=()=>{if(t)return window.alert(" !");window.confirm("  ?")===!0&&(Xt.signOut(),e("/"))};return x.jsx("button",{className:"border-none bg-transparent",onClick:n,children:""})},dge=()=>{var s;const{email:t}=Pe(Pt),{blockLinkAndAlertJoinMember:e}=ni("see"),n=[{to:"edit-profile",name:" "},{to:"edit-password",name:" "},{to:"absence",name:""}],r=[{to:"",name:""},{to:"delete-account",name:""}],i=(s=Xt.currentUser)==null?void 0:s.isAnonymous;return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:"",backBtn:!0,showDesktop:!1,backTo:"/bookshelf"}),x.jsxs("main",{children:[x.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:" "}),x.jsxs("ul",{className:"mb-14 divide-y divide-gray3",children:[n.map(({to:o,name:a})=>x.jsx("li",{className:"py-3",children:x.jsx(br,{to:o,onClick:e,children:a})},o)),!i&&x.jsx("li",{className:"py-3",children:x.jsx(br,{to:"notification",children:""})})]}),x.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:""}),x.jsxs("ul",{className:"divide-y divide-gray3",children:[r.map(({to:o,name:a})=>x.jsx("li",{className:"py-3",children:o===""?x.jsx(cge,{}):x.jsx(br,{to:o,onClick:e,children:a})},o)),t===SE&&x.jsx("li",{className:"py-3",children:x.jsx(br,{to:"developer",children:""})})]})]})]})};function fge({voteId:t,book:e,onCreateClick:n,onDeleteClick:r}){return x.jsxs("div",{className:"relative min-w-fit",children:[e.title===""?x.jsx("button",{type:"button",className:"flex aspect-[0.68/1] w-[70px] items-center justify-center rounded-r-lg border border-gray1 shadow-card",onClick:n,children:x.jsx(jE,{className:"size-[28px] text-gray2"})}):x.jsx(un,{thumbnail:e.thumbnail,title:e.title,className:"w-[70px]"}),t>2&&x.jsx("button",{type:"button",onClick:()=>r(t),className:"absolute -right-1.5 -top-1.5 p-0.5",children:x.jsx(If,{className:"size-[25px] rounded bg-white p-0.5 text-2xl shadow-card"})})]})}const hge={isOpenSearchBook:!1,itemId:1},pge=()=>{const[t,e]=K.useState(hge),[n,r]=K.useState(!1),{newVote:i,setNewVote:s,onNewVoteSubmit:o,onVoteTitleChange:a,onDateChange:l,onAddVoteItemBtn:h,onDeleteVoteItemClick:c,isPending:f}=bre(),{searchInputRef:p,onBookQueryChange:m,searchList:g,resetSearchList:y}=IE(),w=N=>{y(),e(({isOpenSearchBook:O,itemId:C})=>({itemId:N||C,isOpenSearchBook:!O}))},b=()=>r(N=>!N),_=N=>{const{title:O,url:C,thumbnail:I}=N,R={title:O,url:C,thumbnail:I},A=i.voteItems.map(D=>D.id===t.itemId?{...D,book:R}:D);s({...i,voteItems:A}),b()},E=N=>{const{value:O}=N.currentTarget,C={...i,voteItems:i.voteItems.map(I=>I.id===t.itemId?{...I,selectReason:O}:I)};s(C)},{title:S,voteItems:k}=i;return x.jsxs(ur,{title:"  ",className:"max-w-[500px]",children:[!t.isOpenSearchBook&&x.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4 overflow-y-scroll scrollbar-hide",children:[x.jsx(Wt,{label:"",type:"text",placeholder:": 1  ",value:S,onChange:a,required:!0}),x.jsxs("div",{children:[x.jsx("span",{className:"py-1 pl-1 text-sm font-medium text-blue1",children:"  "}),x.jsxs("ul",{className:"flex gap-x-3 overflow-x-scroll py-1 scrollbar-hide",children:[k.map(({id:N,book:O})=>x.jsx(fge,{voteId:N,book:O,onCreateClick:()=>w(N),onDeleteClick:()=>c(N)},N)),x.jsx("button",{type:"button",onClick:h,disabled:k.length>=4,className:"flex h-[inherit] items-center justify-center px-2 text-blue1 disabled:text-gray2",children:x.jsx(vv,{className:"text-xl"})})]})]}),x.jsx(Pv,{id:" ",label:" ",selected:new Date(i.deadline),onChange:l,selectsEnd:!0,endDate:new Date(i.deadline),dateFormat:"yyyy MM dd"}),x.jsx(at,{type:"submit",name:"  ",className:"mt-3 self-end",disabled:f,color:"blue"})]}),t.isOpenSearchBook&&(n?x.jsxs(x.Fragment,{children:[x.jsx(f6,{label:" 2",id:"select-reason",placeholder:"      .",value:k[t.itemId-1].selectReason,onChange:E}),x.jsx(at,{type:"button",name:" ",handleClick:()=>{b(),w()},className:"mt-3 self-end"})]}):x.jsxs(x.Fragment,{children:[x.jsx(Wt,{id:"search-book",label:" ",ref:p,placeholder:"  .",onChange:m,iconName:"FiSearch"}),x.jsx(iF,{searchList:g,onSelectBtnClick:_})]}))]})};function mge({vote:t}){const[e,n]=K.useState([]),{voteItems:r,title:i,id:s,createdAt:o,creatorId:a}=t;return K.useEffect(()=>{e!=null&&e.length||jn(`${zo}/VoteId-${s}/${r_}`,n)},[]),x.jsxs("div",{className:"group relative flex w-full flex-col justify-between rounded-card bg-white bg-opacity-65 p-4 opacity-80 shadow-card",children:[x.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[x.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium text-gray1",children:[x.jsx(FE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),tte(i,40)]}),x.jsx(cr,{userId:a})]}),x.jsx("ul",{className:"my-3 flex items-center justify-center gap-x-5",children:r.map(({book:{title:l,thumbnail:h},id:c})=>x.jsx("li",{className:"relative",children:x.jsx(un,{title:l,thumbnail:h,className:"w-16"})},c))}),x.jsx(br,{to:`/vote/${s}`,state:{docId:s},"aria-label":"",className:"absolute right-4 top-[40%] flex size-12 items-center justify-center rounded-full border bg-blue1 opacity-20 group-hover:opacity-100",children:x.jsx(PE,{className:"text-xl text-white"})}),x.jsx("span",{className:"text-end text-sm text-gray1",children:new Date(o).toLocaleDateString()})]})}const gge=()=>{const[t,e]=an(NE),{showModal:n}=bt();K.useEffect(()=>{t!=null&&t.length||jn(zo,e)},[]);const r=t==null?void 0:t.filter(s=>s.deadline>=Cm),i=t==null?void 0:t.filter(s=>s.deadline<Cm);return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:" "}),x.jsxs("main",{children:[x.jsx(Ot,{title:" ",titleBtn:x.jsx("button",{type:"button",onClick:()=>n({element:x.jsx(pge,{})}),children:x.jsx(vv,{className:"text-lg text-blue1"})}),children:r&&(r==null?void 0:r.length)!==0?x.jsx("ul",{className:"flex gap-6 max-sm:flex-col",children:r==null?void 0:r.map(s=>x.jsx(d6,{voteDetail:s},s.id))}):x.jsx(Zi,{text:"   ."})}),x.jsx(Ot,{title:"  ",children:(i==null?void 0:i.length)!==0&&x.jsx("ul",{className:"grid grid-cols-3 gap-7 max-md:grid-cols-2 max-sm:flex max-sm:flex-col max-sm:gap-5",children:i==null?void 0:i.map(s=>x.jsx(mge,{vote:s},s.id))})})]})]})},$v=$n({key:`currUserFcm/${jt()}`,default:null});$n({key:`notification/${jt()}`,default:"default"});function AR({voteItem:t,children:e,selected:n}){const{book:{title:r,thumbnail:i}}=t;return x.jsxs("div",{className:`flex h-full w-40 flex-col items-center gap-3 overflow-hidden rounded-card bg-white shadow-card max-sm:w-[45%] max-sm:gap-2 ${e?"pt-4":"py-5"}`,children:[x.jsxs("div",{className:"relative flex w-full justify-center max-sm:px-3",children:[n&&x.jsx(Dce,{className:"absolute -top-2 right-0 z-10 size-12 rounded-full bg-white text-pointCoral"}),x.jsx(un,{thumbnail:i,title:r,className:"w-24 max-sm:w-20"})]}),x.jsxs("span",{className:"mt-2 line-clamp-2 h-fit w-4/5 text-center leading-5",children:["",r,""]}),e]})}const vge=({vote:t,onVoteDeleteClick:e})=>{const{creatorId:n,createdAt:r,title:i}=t,{uid:s}=Pe(Pt);return x.jsxs("header",{className:"flex flex-col items-center justify-between pb-3 max-sm:pb-0 max-sm:pt-3",children:[x.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[i&&x.jsx("h3",{className:"text-xl font-medium max-sm:text-lg",children:i}),s===n&&x.jsx("button",{type:"button",onClick:e,children:x.jsx(If,{})})]}),x.jsxs("div",{className:"flex w-full justify-between gap-2",children:[x.jsx(aF,{creatorId:n}),x.jsx("span",{className:"text-gray1 max-sm:text-sm",children:ht(r,"yyyy.M.d. HH:mm")})]})]})};function yge({voteItems:t}){return x.jsx(Rf,{title:"    ",className:"my-4",children:x.jsx("div",{className:"mb-4",children:t.map(({selectReason:e,id:n,book:r})=>x.jsxs("li",{className:"flex w-full flex-col p-2 max-sm:px-0",children:[x.jsxs("span",{className:"mb-2 bg-green3 py-0.5 font-medium",children:[" ",r.title]}),e?x.jsx("p",{children:e}):x.jsx("span",{children:" ."}),x.jsx($3,{url:r.url,title:"  ",className:"text-purple2"})]},n))})})}function wge({selected:t,onVoteItemClick:e}){return x.jsx("button",{type:"button",onClick:e,className:"flex w-full flex-col items-center justify-center bg-green1 py-5 text-white",children:t?x.jsx(Zse,{className:"size-5"}):x.jsx(noe,{className:"size-5"})})}const bge=()=>{const{state:t}=Nr(),{email:e}=Pe(Pt),n=Pe($v),r=Or();K.useEffect(()=>{t!=null&&t.docId||r("/vote")},[]);const{currentVote:i,votedItemsByMember:s,voteCountsById:o,totalVoteCount:a,selectedItem:l,onVotingSubmit:h,onVoteItemClick:c,myVotedItems:f,onVoteDeleteClick:p,isRevote:m,onToggleRevoteClick:g}=Nre({docId:t==null?void 0:t.docId}),{sendPushNotificationToUser:y,sendPushNotificationToAllUser:w,isPending:b}=Ji(),_=(i==null?void 0:i.deadline)<Cm,E=o==null?void 0:o.filter((N,O,C)=>N.voteCount===Math.max(...C.map(I=>I.voteCount))),S=N=>!!E.find(O=>O.title===N),k=Pu(i.deadline);return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${_?" ":""} `,backBtn:!0}),(i==null?void 0:i.voteItems)&&x.jsxs("main",{children:[x.jsx(vge,{vote:i,onVoteDeleteClick:p}),x.jsx(yge,{voteItems:i.voteItems}),_||f&&!m?x.jsxs(x.Fragment,{children:[x.jsx("ul",{className:"mb-6 mt-2 flex h-full flex-wrap items-center justify-center gap-5 max-sm:mb-10",children:i.voteItems.map(N=>x.jsx(AR,{voteItem:N,selected:S(N.book.title)},N.id))}),o.map(({id:N,title:O,voteCount:C})=>x.jsxs("div",{className:"relative mx-auto mt-2 flex w-2/3 overflow-hidden rounded-xl bg-white px-3 py-1 shadow-sm max-sm:w-full",children:[x.jsx("div",{style:{width:`${Nm(C,a)}%`},className:`absolute inset-y-0 left-0 z-0 rounded-r-lg ${S(O)?"bg-pointCoral":"bg-gray3"}`}),x.jsx("span",{className:`z-10 inline-block w-full pt-[1px] text-[15px] ${S(O)?"font-medium text-white":"text-gray2"}`,children:O}),x.jsxs("span",{className:`z-10 pt-[1px] text-sm ${S(O)?"font-medium text-pointCoral":"text-gray2"}`,children:[Nm(C,a),"%"]})]},N)),x.jsxs("div",{className:"mt-14 flex items-center justify-center gap-4 max-sm:mb-12",children:[x.jsx(at,{name:" ",disabled:!0,color:"gray",className:"px-8"}),!_&&x.jsx(at,{disabled:_,type:"button",name:" ",handleClick:g})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(Ss,{text:"  "}),x.jsxs("form",{onSubmit:h,className:"mb-10 flex flex-col items-center",children:[x.jsx("ul",{className:"mb-8 flex flex-wrap items-center gap-4 max-sm:justify-center",children:i.voteItems.map(N=>x.jsx(AR,{voteItem:N,children:x.jsx(wge,{selected:!!l(N.id),onVoteItemClick:()=>c(N.id)})},N.id))}),x.jsx(at,{type:"submit",name:"",className:"px-10 py-2 max-sm:px-6"})]})]}),!_&&x.jsx(c6,{hyphenDate:i.deadline}),x.jsxs("div",{className:"mt-10",children:[x.jsxs("h4",{className:"flex items-center gap-2",children:[x.jsx(nie,{}),`: ${s==null?void 0:s.length}`]}),x.jsx("ul",{className:"mt-2 flex flex-wrap gap-x-3 gap-y-2",children:s.map(N=>x.jsx("li",{children:x.jsx(cr,{userId:N.id})},N.id))})]}),e===SE&&+k>=0&&x.jsx(at,{className:"mt-10",color:"blue",name:`  : ${+k>0?`${k}`:" "}`,handleClick:async()=>{const N={title:"   !",body:`${+k>0?`${k} `:" "}  .     `,notification:n.notification};await y(N),await w(N),window.alert("     !")},disabled:b})]})]})};function Bv({userIdList:t,className:e,children:n,title:r,marqueeText:i}){return x.jsxs("div",{className:`relative flex w-full flex-col py-6 ${e}`,children:[x.jsx("img",{src:"/han-bookclub-app/confetti.png",alt:"",className:"absolute left-0 right-0 top-0 mx-auto opacity-80"}),x.jsxs("div",{className:"z-10",children:[x.jsx("h3",{className:"text-center font-RomanticGumi text-2xl text-white",children:r}),(t==null?void 0:t.length)!==0&&x.jsx("div",{className:"mx-auto my-4 flex justify-center gap-x-2",children:t==null?void 0:t.map(s=>x.jsx(cr,{className:"flex aspect-square size-20 flex-col items-center justify-center rounded-2xl border-[3px] border-yellow-400 bg-white p-2 text-base shadow-card [&>img]:size-10",userId:s},s))}),i&&x.jsx("h3",{className:"animate-marquee -mx-5 mt-4 whitespace-nowrap font-RomanticGumi font-bold italic text-purple4",children:i}),n||n]})]})}function xge(){const t=Pe(Ds),[e,n]=an(kl(Tt)),r=K.useCallback((s,o)=>{var m;if((e==null?void 0:e.absenceMembers)===void 0)return[];const a=(m=e==null?void 0:e.absenceMembers)==null?void 0:m.flatMap(({breakMembers:g,onceAbsenceMembers:y})=>[...g,...y]),l=new Set(a),h=t.filter(({id:g})=>!l.has(g)).map(({id:g})=>({[g]:0})),c=Object.entries(a.reduce((g,y)=>(g[y]=(g[y]||0)+1,g),{})).map(([g,y])=>({[g]:y}));return[...h,...c].sort((g,y)=>+Object.values(g)-+Object.values(y)).reduce((g,y,w,b)=>{var k;const[_,E]=Object.entries(y)[0];let S;if(w===0)S=1;else{const[N,O]=Object.entries(b[w-1])[0],C=(k=Object.values(g[w-1])[0])==null?void 0:k.rank;S=E===O?C:C+1}return g.push({[_]:{rank:S,absenceCount:E}}),g},[]).filter(g=>{const y=Object.keys(g)[0],w=g[y].rank;return Array.from({length:o-s+1},(_,E)=>s+E).includes(w)})},[e,t]);K.useEffect(()=>{Ar(lo,ul,n)},[]);const i=r(1,1).map(s=>Object.keys(s)[0]);return x.jsxs("div",{children:[x.jsx(Bv,{title:" ",userIdList:i,marqueeText:"    !"}),x.jsx("ul",{className:"mt-3 flex flex-col gap-y-2",children:r(1,10).map(s=>x.jsxs("li",{className:"flex !h-[54px] w-full items-center rounded-xl bg-white px-5 py-3 shadow-card",children:[s[Object.keys(s)[0]].rank===1&&x.jsx(zE,{className:"mr-2 size-5 text-yellow-600"}),x.jsx("span",{className:"w-12 font-RomanticGumi text-base font-medium text-blue2",children:`${s[Object.keys(s)[0]].rank}`}),x.jsx(cr,{userId:Object.keys(s)[0]}),x.jsxs("div",{className:"ml-auto flex font-medium",children:[x.jsx("span",{className:"block w-8",children:" "}),x.jsxs("span",{className:"w-[25px]",children:[s[Object.keys(s)[0]].absenceCount,""]})]})]},Object.keys(s)[0]))})]})}function _ge({firstRank:t,secondRank:e,thirdRank:n,children:r}){return x.jsxs("div",{className:"relative mx-auto min-h-60 w-[290px]",children:[x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/stage.png",alt:"stage",className:"mt-24 w-full"}),x.jsxs("div",{className:"absolute bottom-[88px] flex h-32 w-full items-end justify-around",children:[x.jsx("div",{className:"mb-1.5 flex h-fit items-end justify-center",children:e.length!==0?e.map(r):[{rank:2}].map(r)}),x.jsx("div",{className:"mb-[52px] flex h-fit max-w-20 items-end justify-center",children:t.length!==0?t.map(r):[{rank:1}].map(r)}),x.jsx("div",{className:"flex h-fit max-w-20 items-end justify-center",children:e.length+t.length<3&&(n.length!==0?n.map(r):[{rank:3}].map(r))})]})]})}function Sge({rank:t,isEditing:e}){const{meeting:n}=Pe(Dr(`${Tt}-12`)),{hideModal:r}=bt(),{clubBookListByYear:i}=Df(),{onEditSubmitClick:s}=ec({collName:`${lo}`,docId:`${Tt}-12`,dataToUpdate:{"meeting.eventMonth.contents":[]}}),o=({clubBook:a})=>{var l;try{const h=((l=n==null?void 0:n.eventMonth)==null?void 0:l.contents)||[],c={clubBook:a,rank:t},f=h==null?void 0:h.map(p=>{var g,y,w;if(!p.title.includes(" "))return p;const m=e?(g=p==null?void 0:p.result.books)==null?void 0:g.map(b=>b.rank===t?c:b):(y=p==null?void 0:p.result)!=null&&y.books?[...(w=p==null?void 0:p.result)==null?void 0:w.books,c]:[c];return{...p,result:{...p==null?void 0:p.result,books:m}}});s({"meeting.eventMonth.contents":f}),alert(`2025   ${t} ${a.title}  ${e?"":""}.`)}catch(h){console.log(h)}finally{r()}};return x.jsx(ur,{title:`2025   ${t} ${e?"":""}`,children:x.jsx("ul",{className:"grid grid-cols-4 gap-4",children:i.map(({yearMonthId:a,...l})=>x.jsx("li",{children:x.jsx("button",{type:"button",onClick:()=>o({clubBook:l}),children:x.jsx(un,{thumbnail:l.thumbnail,title:l.title})})},a))})})}function Ege({books:t}){const{showModal:e}=bt(),n=({rank:i,isEditing:s})=>{e({element:x.jsx(Sge,{rank:i,isEditing:s})})},r=i=>t==null?void 0:t.filter(({rank:s})=>s===i);return x.jsxs("div",{className:"flex flex-col items-center justify-center",children:[x.jsx(Bv,{title:" "}),x.jsx(_ge,{firstRank:r(1),secondRank:r(2),thirdRank:r(3),children:({clubBook:i,rank:s})=>x.jsx("button",{type:"button",onClick:()=>n({rank:s,isEditing:!!i}),style:{transform:"rotateX(20deg)"},children:x.jsx(un,{iconName:"FiPlus",title:i?i.title:void 0,thumbnail:i?i.thumbnail:void 0,className:"rotate-x-12 w-[74px] min-w-16 origin-bottom transform bg-white"})},s)})]})}function kge({rank:t,isEditing:e}){var w;const[n,r]=K.useState(1),[i,s]=K.useState([]),o=K.useRef(null),{meeting:a}=Pe(Dr(`${Tt}-12`)),{hideModal:l}=bt(),{clubBookListByYear:h}=Df(),{editedData:c,setEditedData:f,onEditSubmitClick:p}=ec({collName:`${lo}`,docId:`${Tt}-12`,dataToUpdate:{"meeting.eventMonth.contents":[]}}),m=(w=c["meeting.eventMonth.contents"].find(b=>b.title.includes(" ")))==null?void 0:w.result.subjects.find(b=>b.rank===t);console.log(m);const g=({step:b,clubBook:_,yearMonthId:E})=>{var N;r(b);const S={yearMonthId:E,clubBook:_,rank:t,bestSubject:""},k=(N=a==null?void 0:a.eventMonth)==null?void 0:N.contents.map(O=>O.title.includes("  ")?{...O,result:{...O.result,subjects:e?O.result.subjects.map(C=>C.rank!==t?C:S):[...O.result.subjects,S]}}:O);f({"meeting.eventMonth.contents":k})},y=()=>{const b=i[0].text.split("").find(E=>{var S;return E.includes((S=o==null?void 0:o.current)==null?void 0:S.value)})||"",_=c["meeting.eventMonth.contents"].map(E=>E.title.includes("  ")?{...E,result:{...E.result,subjects:E.result.subjects.map(S=>S.rank!==t?S:(console.log("subject",S),{...S,bestSubject:b}))}}:E);console.log(_.find(E=>E.title.includes("")).result.subjects),p({"meeting.eventMonth.contents":_}),l()};return K.useEffect(()=>{m&&jn(xr(m.yearMonthId,Mu),s)},[m]),x.jsxs(ur,{title:`2025   ${t} ${e?"":""}`,children:[n===1&&x.jsxs(x.Fragment,{children:[x.jsx(Ss,{text:"  ."}),x.jsx("ul",{className:"grid grid-cols-4 gap-4",children:h.map(({yearMonthId:b,..._})=>x.jsx("li",{children:x.jsx("button",{type:"button",onClick:()=>g({step:2,clubBook:_,yearMonthId:b}),children:x.jsx(un,{thumbnail:_.thumbnail,title:_.title})})},b))})]}),n===2&&x.jsxs(x.Fragment,{children:[x.jsx(Wt,{ref:o,iconName:"FiHash",placeholder:"    ?",className:"mb-3"}),x.jsx("div",{className:"mb-4 overflow-scroll rounded-xl border border-gray3 bg-[#f5f5f5] p-3 scrollbar-hide",children:i.map(b=>x.jsx($E,{text:b.text},b.id))}),x.jsxs("div",{className:"flex items-center",children:[(m==null?void 0:m.clubBook)&&x.jsx(ic,{book:m==null?void 0:m.clubBook}),x.jsx(at,{name:"",color:"purple",handleClick:()=>y(),type:"submit"})]})]})]})}function Tge({subjects:t}){const{showModal:e}=bt(),n=({rank:r,isEditing:i})=>{e({element:x.jsx(kge,{rank:r,isEditing:i})})};return x.jsxs("div",{className:"flex flex-col items-center justify-center",children:[x.jsx(Bv,{title:" "}),x.jsx("ul",{className:"z-10 flex flex-col gap-y-4",children:t.length>0&&(t==null?void 0:t.map(({bestSubject:r,clubBook:i,yearMonthId:s,rank:o},a)=>x.jsxs("li",{className:`flex flex-col items-center shadow-card ${t.length===a+1?"":"border-b-2 border-dotted pb-4"}`,children:[x.jsxs("div",{className:"mb-3 flex w-full items-center justify-between gap-x-3",children:[x.jsx(ic,{book:i,className:"text-white [&>div>span]:text-white"}),x.jsxs("div",{className:"flex aspect-square size-14 flex-col items-center justify-center rounded-full bg-purple4",children:[x.jsx("span",{className:"font-GiantsInline text-xs leading-4 text-purple2",children:"Rank"}),x.jsx("span",{className:"font-GiantsInline text-lg leading-5 text-purple1",children:o})]})]}),x.jsxs("p",{children:[x.jsx(roe,{className:"float-left mr-3 size-12 text-purple3"}),x.jsx("span",{className:"text-white",dangerouslySetInnerHTML:{__html:r}})]}),x.jsxs("div",{className:"flex w-full items-center",children:[x.jsx(Xm,{className:"text-white",onClick:()=>n({rank:o,isEditing:!0})}),x.jsx(br,{to:`/bookclub/${s}/subjects`,className:"ml-auto w-fit px-2 py-1 text-sm font-medium text-purple3 underline",children:"  "})]})]},i.title)))}),x.jsx("div",{className:"z-10 mt-4 grid grid-cols-2 gap-4",children:3-t.length>0&&Array.from({length:3-t.length}).map((r,i)=>x.jsxs("div",{className:`flex flex-col items-center gap-y-4 p-5 ${i===0&&(t.length===0||t.length===3)?"col-span-2":""}`,children:[x.jsx("button",{type:"button",onClick:()=>n({rank:t.length+i+1}),children:x.jsx(un,{iconName:"FiPlus",className:"w-16 bg-white"})}),x.jsxs("h3",{className:"font-RomanticGumi tracking-tighter text-blue3",children:[" ",t.length+i+1,""]})]},i))})]})}function Cge(){const t=Pe(Ds),{meeting:e}=Pe(Dr(`${Tt}-12`)),{onEditSubmit:n,setEditedData:r,editedData:i}=ec({collName:lo,docId:`${Tt}-12`,dataToUpdate:{"meeting.eventMonth.contents":e.eventMonth.contents}}),s=i["meeting.eventMonth.contents"],o=s.find(({title:c})=>c.includes("")),a=async c=>{const f=o==null?void 0:o.result.readingLifeQuestions,m=f.find(({id:w})=>w===c.id)?f.map(w=>w.id===c.id?{...w,...c}:w):[...f,{id:jt(),answerList:[],question:"",...c}],g={...o,result:{readingLifeQuestions:m}},y=s.map(w=>w.id===o.id?{...w,...g}:w);r({"meeting.eventMonth.contents":y})},l=K.useCallback(c=>{const f=t.filter(p=>!c.find(({userId:m})=>m===p.id)).map(p=>({userId:p.id,answer:""}));return[...c,...f].sort((p,m)=>m.userId>p.userId?-1:0)},[]),h=K.useRef(null);return x.jsx(ur,{title:"  ",children:x.jsxs("form",{className:"overflow-scroll scrollbar-hide",onSubmit:n,children:[x.jsx(Ff,{ref:h,options:{slidesPerView:1,spaceBetween:16,autoplay:!1,scrollbar:!1,navigation:!1,pagination:{clickable:!0,type:"custom",renderCustom:(c,f,p)=>`<span class="font-medium text-gray1">${f} / ${p}</span>`}},children:o.result.readingLifeQuestions.map(({question:c,answerList:f,id:p},m)=>x.jsxs(sc,{className:"relative mb-0 flex flex-col items-start !p-0",children:[x.jsx(Wt,{value:c,onChange:g=>a({question:g.target.value,id:p,answerList:f}),label:` ${m+1}`,placeholder:"    "}),x.jsx("h2",{className:"mb-1 ml-1 mt-4 self-start text-sm",children:""}),x.jsx("ul",{className:"flex w-full flex-col gap-y-2",children:l(f).map(({userId:g,answer:y})=>x.jsxs("li",{className:"relative flex w-full items-center",children:[x.jsx(cr,{userId:g,className:"absolute left-2 top-[9px] z-10 flex !h-fit items-center rounded-lg bg-blue4 px-2 py-1 text-[15px]"}),x.jsx(Wt,{value:y||"",className:"pl-[80px] font-medium text-blue2",onChange:w=>{const _=f.find(E=>E.userId===g)?f.map(E=>E.userId===g?{...E,answer:w.target.value}:E):[...f,{userId:g,answer:w.target.value}];a({question:c,id:p,answerList:_})},placeholder:" "})]},g))}),o.result.readingLifeQuestions[o.result.readingLifeQuestions.length-1].id===p&&x.jsx("button",{type:"button",className:"absolute -bottom-[42px] right-0 text-purple1 underline",onClick:async()=>{await a({id:jt(),answerList:[],question:""}),h.current.swiper.slideNext()},children:" +"})]},p))}),x.jsx(at,{type:"submit",name:"",className:"ml-auto mt-4",size:"md"})]})})}function Nge({questionList:t}){const e=Pe(Ds),{showModal:n}=bt(),r=()=>{n({element:x.jsx(Cge,{})})},i=K.useCallback(s=>{const o=e.filter(a=>!s.find(({userId:l})=>l===a.id)).map(a=>({userId:a.id,answer:""}));return[...s,...o].sort((a,l)=>l.userId>a.userId?-1:0)},[]);return x.jsxs("div",{className:"flex flex-col gap-y-3",children:[t.map(({question:s,answerList:o})=>x.jsx(Rf,{title:s,className:"!bg-transparent !text-white [&>div]:pl-0",children:x.jsx("ul",{className:"mb-4 mt-2 grid grid-cols-1 gap-y-3",children:i(o).map(({answer:a,userId:l})=>x.jsxs("li",{className:"flex items-start",children:[x.jsx(cr,{userId:l,className:"rounded-lg bg-[#eeedff] px-2 py-1 text-[15px] font-medium text-blue1"}),x.jsx("span",{className:`ml-3 w-fit break-words font-medium tracking-tight ${a?"text-white":"text-gray3"}`,children:a||" "})]},l))},s)},s)),x.jsx("button",{type:"button",className:"self-end text-[15px] text-purple4 underline",onClick:r,children:" "})]})}const Oge={breakpoints:{1024:{slidesPerView:11},800:{slidesPerView:8},500:{slidesPerView:7},320:{slidesPerView:4}},loop:!0,centeredSlides:!0,spaceBetween:5,navigation:!1,pagination:!1,scrollbar:!1,speed:4e3,autoplay:{delay:0,disableOnInteraction:!1,pauseOnMouseEnter:!0}};function Age(){var a;const[t,e]=K.useState(""),{meeting:n}=Pe(Dr(`${Tt}-12`)),{clubBookListByYear:r}=Df(),{userRankList:i}=I3(),s=K.useMemo(()=>n.eventMonth.contents.filter(h=>h.result).find(h=>h.title.includes(t)),[t,n]),o={:{name:" ",result:x.jsx(xge,{})},:{name:" ",result:x.jsxs("div",{children:[x.jsx(Bv,{title:" ",marqueeText:"    !",userIdList:i.filter(({rank:l})=>l===1).map(l=>l.creatorId)||[]}),x.jsx("ul",{className:"mt-3 flex flex-col gap-y-2",children:i.map(l=>x.jsx(c5,{userRank:l},l.creatorId))})]})},:{name:" ",result:x.jsx(Ege,{books:s.result.books})},:{name:" ",result:x.jsx(Tge,{subjects:s.result.subjects})},:{name:"  ",result:x.jsx(Nge,{questionList:s.result.readingLifeQuestions})}};return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${Tt}  `,backBtn:!0,className:"!bg-black !text-white"}),x.jsxs("main",{className:"bg-black pb-40 pt-4",children:[x.jsxs("div",{className:"relative mb-3 rounded-2xl bg-white px-4 py-6 shadow-card",children:[x.jsxs("h2",{className:"font-RomanticGumi leading-5",children:[x.jsx("span",{className:"mr-0.5 text-3xl tracking-[-0.1em] text-purple1",children:Tt})," ",x.jsx("br",{}),x.jsx("span",{className:"text-3xl tracking-[-0.1em] text-pointCoral",children:r.length}),"  ."]}),x.jsx("ul",{className:"mt-6 flex flex-col gap-y-1",children:[{title:"  ",anwser:`${r.length}`,icon:x.jsx(Jse,{className:"mb-0.5 min-w-fit text-blue2"})},{title:"  ",anwser:"12",icon:x.jsx(ioe,{className:"mb-0.5 min-w-fit text-blue2"})},{title:" ",anwser:`${i.filter(l=>l.totalRereadingCounts).length}`,icon:x.jsx(Xse,{className:"mb-0.5 min-w-fit text-blue2"})}].map(({anwser:l,title:h,icon:c})=>x.jsxs("li",{className:"flex items-center",children:[c,x.jsxs("h4",{className:"ml-1 mr-2 min-w-40 font-RomanticGumi text-[15px] font-medium tracking-tighter text-blue2",children:[h,x.jsx("div",{className:"border border-dotted"})]}),x.jsx("span",{className:"font-RomanticGumi text-[15px] font-semibold tracking-tighter text-blue1",children:l})]},h))}),x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/books.png",alt:" 3D ",className:"absolute right-0 top-2 w-[35%] opacity-50"})]}),x.jsx("div",{className:"max-sm:-mx-5",children:x.jsx(Ff,{options:Oge,children:r.map(l=>x.jsx(sc,{children:x.jsx(un,{title:l.title,thumbnail:l.thumbnail,className:"w-[78px] shadow-md shadow-white"})},l.title))})}),x.jsx("ul",{className:"mb-5 mt-24 flex flex-wrap gap-1.5",children:Object.entries(o).map(l=>x.jsx("li",{children:x.jsx(at,{name:l[1].name,handleClick:()=>e(l[0]),className:`rounded-t-xl !px-3 !text-sm tracking-tighter ${t.includes(l[0])?"bg-blue1 font-medium text-blue4":"!bg-blue4 !text-blue2"}`})},l[0]))}),x.jsx(Ot,{className:"min-h-72 overflow-hidden",children:(a=o[t])==null?void 0:a.result}),x.jsx(Ot,{className:"!mt-24 [&>h3]:text-white",title:`${Tm}   `,children:x.jsx(h6,{year:Tm,color:"lightBlue",isEditable:!0,isMonth:!0})})]})]})}function Dge({className:t=""}){return x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:`${t}`})}function DR({type:t}){const{pathname:e}=Nr(),{blockLinkAndAlertJoinMember:n}=ni("see"),r="text-[15px]",i=location.pathname.match(/\/bookclub\/(\d{4}-\d{2})(?:\/|$)/),s=i?i[1]:null,o=new Date(s).getTime()<new Date().getTime(),a=[{name:"",to:"/",icon:x.jsx(Qre,{className:`${r}`}),active:e==="/"},{name:" ",to:"/previous-bookclub",icon:x.jsx($re,{className:`${r}`}),active:!!(e.includes("previous-bookclub")||e.includes("/bookclub")&&s&&o)},{name:" ",to:"/bookclub",icon:x.jsx(Wre,{className:`${r}`}),active:e.includes("/bookclub")&&!s},{name:"",to:"/vote",icon:x.jsx(FE,{className:`${r}`}),active:e.includes("vote")},{name:" ",to:"/bookshelf",icon:x.jsx(Dm,{className:`${r}`}),onClick:n,active:e==="/bookshelf"}];return x.jsxs(x.Fragment,{children:[t==="top"&&!e.includes("create_account")&&e!=="/login"&&x.jsxs("nav",{className:`header flex items-center justify-between px-4 pb-12 pt-8 max-sm:hidden ${e==="/yearClosingEvent"?"!bg-black !text-white":""}`,children:[x.jsxs(br,{to:"/",className:"flex items-center gap-1",children:[x.jsx(Dge,{className:"size-6"}),x.jsx("span",{className:"text-[17px] font-medium",children:" "})]}),x.jsx("ul",{className:"flex gap-x-8",children:a.map(({name:l,to:h,state:c,onClick:f,active:p})=>x.jsx("li",{children:x.jsx(br,{to:h,state:c,onClick:f,children:x.jsx("span",{className:`${p?`${e==="/yearClosingEvent"?"font-semibold !text-white":"font-semibold text-text"}`:`${e==="/yearClosingEvent"?"text-gray3":"text-gray1"}`}`,children:l})})},h))})]}),t==="bottom"&&e!=="/login"&&!e.includes("setting")&&x.jsx("nav",{className:`fixed bottom-0 left-0 z-10 hidden w-full rounded-t-2xl py-3.5 shadow-card max-sm:block ${e==="/yearClosingEvent"?"!bg-black !text-white":"bg-white"}`,children:x.jsx("ul",{className:"flex justify-evenly",children:a.map(({to:l,name:h,icon:c,state:f,onClick:p,active:m})=>x.jsx("li",{className:`flex w-[20%] cursor-pointer flex-col items-center justify-center text-[10px] ${m?"text-text":"text-gray2"}`,children:x.jsxs(br,{to:l,state:f,onClick:p,className:"flex w-full flex-col items-center justify-center gap-1",children:[c,x.jsx("span",{children:h})]})},l))})})]})}const Ige=({bookFieldName:t,checkedBoxHandler:e,bookFields:n})=>{const[r,i]=K.useState(!1),s=async o=>{const{currentTarget:{checked:a}}=o;i(l=>!l),e(n,a)};return x.jsxs("div",{children:[x.jsx(zi,{text:t}),x.jsx("input",{id:t,type:"checkbox",name:"bookFields",checked:r,onChange:s})]})},IR=()=>{const{currentStep:t,keyword:e,onFirstStepChange:n,onFirstStepSubmit:r,email:i,password:s,checkPassword:o,showErrorMsg:a,onSecondStepChange:l,onSecondStepSubmit:h,username:c,onThirdStepChange:f,onThirdStepSubmit:p,checkedBoxHandler:m}=vre();return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{showDesktop:!0,title:" ",backBtn:!0}),x.jsxs("main",{children:[x.jsxs("header",{children:[x.jsx(Fn,{color:"lightBlue",shape:"rounded",text:`${t.step} / ${v3.length}`,className:"mb-2"}),x.jsx(Im,{title:t.stepName,className:"mb-2"})]}),t.step===1&&x.jsxs("form",{onSubmit:r,children:[x.jsx(Ss,{text:"     ."}),x.jsx(Wt,{label:" ",type:"text",placeholder:" ",value:e,onChange:n,required:!0}),x.jsx(at,{type:"submit",name:"",className:"mx-auto mt-10 !px-6"})]}),t.step===2&&x.jsxs("form",{onSubmit:h,className:"flex flex-col gap-3",children:[x.jsxs("div",{children:[x.jsx(Ss,{text:"    ."}),i&&x.jsx(Ss,{text:"           .     ."})]}),x.jsx(Wt,{name:"email",type:"email",placeholder:"    .",value:i,autoComplete:"email",onChange:l}),x.jsx(Wt,{name:"password",type:"password",autoComplete:"current-password",placeholder:" 8  .",value:s,onChange:l}),x.jsx(Wt,{name:"checkPassword",type:"password",autoComplete:"current-password",placeholder:"   .",value:o,onChange:l}),a&&x.jsx("span",{className:"text-sm text-pointCoral",children:a}),x.jsx(at,{type:"submit",name:" ",className:"mx-auto mt-4"})]}),t.step===3&&x.jsxs("form",{onSubmit:p,children:[x.jsx(Wt,{label:"",name:"username",value:c,placeholder:" .",onChange:f}),x.jsx(zi,{htmlFor:"gender",text:""}),x.jsx("fieldset",{children:Une.map(g=>x.jsxs("div",{children:[x.jsx(zi,{text:g}),x.jsx("input",{id:g,type:"radio",name:"gender",value:g,onChange:f,required:!0})]},g))}),x.jsx(zi,{htmlFor:"bookFields",text:" "}),x.jsx("fieldset",{className:"bookfield",children:Sd.map(g=>x.jsx(Ige,{bookFieldName:g.name,bookFields:g,checkedBoxHandler:m},g.id))}),a&&x.jsx("span",{children:a}),x.jsx(at,{type:"submit",name:""})]})]})]})},Rge=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(!1),i=o=>{o.preventDefault(),MV(Xt,t).catch(a=>{console.log(a)}),r(!0),e("")},s=o=>{r(!1),e(o.currentTarget.value)};return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{showDesktop:!0,title:" ",backBtn:!0}),x.jsxs("main",{children:[x.jsx(Im,{title:"  ?",className:"mb-2"}),x.jsx("p",{children:"     ."}),x.jsxs("form",{onSubmit:i,className:"mb-3 mt-1 flex w-full gap-x-3",children:[x.jsx(Wt,{name:"email",type:"email",value:t,placeholder:"  .",onChange:s,autoComplete:"email",className:"min-w-10 flex-grow whitespace-nowrap"}),x.jsx(at,{type:"submit",name:""})]}),n?x.jsxs("span",{children:["     .",x.jsx("br",{}),"      ."]}):x.jsx(x.Fragment,{})]})]})};function Pge(){const{pathname:t}=Nr();return K.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const Mge=({postType:t})=>{const e=Pe(Dr(gn)),{uid:n}=Pe(Pt),{sendPostPushNotification:r,isPending:i}=Ji(),{id:s,book:{thumbnail:o,title:a,url:l,publisher:h,authors:c}}=e,f=t===""?xr(s,Mu):xr(s,Gd),p={text:"",createdAt:"",creatorId:n,clubBook:{title:a,thumbnail:o,url:l,publisher:h,authors:c}},{onAddDocSubmit:m,newDocData:g,onDataChange:y}=CE({collName:f,initialDocData:p}),{hideModal:w}=bt(),b=async _=>{if(g.text!=="")try{await m(_),y({text:""}),await r(t),w()}catch{window.alert("   .")}};return x.jsx(ur,{title:`${t} `,children:x.jsxs("form",{onSubmit:b,className:"flex h-[90vh] flex-col overflow-scroll scrollbar-hide",children:[x.jsx(Q3,{placeholder:`${t} `,text:g.text,setText:_=>y({text:_})}),x.jsx(at,{name:" ",type:"submit",className:"ml-auto px-7 !shadow-none max-sm:px-4",disabled:i,color:"blue"})]})})};function RR(){var N;const[t,e]=an(tc),[n,r]=an(oF),[i,s]=an(sF),{showModal:o}=bt(),{pathname:a,state:l}=Nr(),h=T_(),c=(h==null?void 0:h.id)??gn,f=a.includes("host-review")?" ":"",p=(l==null?void 0:l.postId)??"",m=c.slice(0,4);K.useEffect(()=>{jn(`BookClub-${m}`,e),jn(xr(c,Gd),r),jn(xr(c,Mu),s)},[]);const g=t==null?void 0:t.find(O=>O.id===c),{alertAskJoinMember:y,anonymous:w}=ni("write"),b=()=>{if(w)return y();o({element:x.jsx(Mge,{postType:f})})},_={:{postList:i,collName:xr(c,Mu)}," ":{postList:n,collName:xr(c,Gd)}},{postList:E,collName:S}=_[f],k=p?E.filter(O=>O.id===p):E;return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:`${c===gn?"":ht(c,"yyyy M")}  ${f}`,backBtn:!0}),x.jsxs("main",{children:[g&&x.jsx(h5,{bookClub:g}),!(h!=null&&h.id)&&x.jsx(at,{type:"button",color:"blue",name:`${f} `,handleClick:b,className:"mt-5 w-full !py-3"}),(N=_[f])!=null&&N.postList?(k==null?void 0:k.length)!==0&&k.map((O,C)=>x.jsxs(K.Fragment,{children:[x.jsx(lk,{type:f,post:O,collName:S,className:"relative mt-4 max-sm:pb-4",children:x.jsx(yv,{createdAt:O.createdAt,footerType:"likes",post:O,collName:S})}),k.length-1!==C&&x.jsx(rF,{})]},O.id)):x.jsx(rc,{size:150,className:"h-[55vh]"})]})]})}function Lge({label:t,checked:e,checkedBoxHandler:n,detail:r}){const i=async s=>{const{currentTarget:{checked:o}}=s;n(t,o)};return x.jsxs("div",{className:"flex items-start gap-1",children:[x.jsx("input",{type:"checkbox",id:t,checked:e,onChange:i,className:"mt-1 size-[15px]"}),x.jsxs("div",{className:"flex-1",children:[x.jsx(zi,{text:t,className:"py-0 !text-base"}),r&&x.jsx(Ss,{color:"gray",text:r})]})]})}function jge({year:t,month:e}){const n=Pe(kl(Tt)),{uid:r}=Pe(Pt),{onSubmit:i,selectedValues:s,setSelectedValues:o}=Sre(t);K.useEffect(()=>{const{absenceMembers:l}=n,h=l==null?void 0:l.find(g=>g.month===e);if(!h)return;const{breakMembers:c,onceAbsenceMembers:f}=h,p=c==null?void 0:c.find(g=>g===r),m=f==null?void 0:f.find(g=>g===r);o({month:e,breakMonth:!!p,onceAbsenceMonth:!!m})},[e]);const a=(l,h)=>{const c=l==="  "&&h&&s.breakMonth||l===" "&&h&&s.onceAbsenceMonth;o(c?{...l===" "?{month:e,onceAbsenceMonth:!h,breakMonth:h}:{month:e,breakMonth:!h,onceAbsenceMonth:h}}:{...s,...l===" "?{breakMonth:h}:{onceAbsenceMonth:h}})};return x.jsxs("form",{onSubmit:l=>i(l,e),className:"mt-4 flex flex-col gap-2.5",children:[["  "," "].map(l=>x.jsx(Lge,{label:l,checked:l===" "?s.breakMonth:s.onceAbsenceMonth,checkedBoxHandler:a,detail:l===" "?"      .(  X)":"     .(  O)"},l)),x.jsx(at,{type:"submit",name:"",className:"!ml-auto !py-0"})]})}function Fge({year:t,userId:e,isEditable:n=!1}){var l;const[r,i]=an(kl(t));K.useEffect(()=>{Af(r)||Ar(lo,ul,i)},[r]);const s=(l=r==null?void 0:r.absenceMembers)==null?void 0:l.map(({month:h,onceAbsenceMembers:c,breakMembers:f})=>({month:h,onceAbsenceMonth:c.includes(e),breakMonth:f.includes(e)})),{showModal:o}=bt(),a=async h=>{o({element:x.jsx(ur,{title:`${h}   `,children:x.jsx(jge,{year:t,month:h})})})};return x.jsx(x.Fragment,{children:r?x.jsx(bk,{labels:["","",""],rowDataList:s,onEditClick:a,isEditable:n}):x.jsx(rc,{size:150,className:"h-[60vh]"})})}function $ge(){const{uid:t}=Pe(Pt),{state:e}=Nr();return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:` ${Tt}   `,backBtn:!0}),x.jsxs("main",{children:[x.jsx(Ss,{text:"     "}),x.jsx(Fge,{userId:t,isEditable:!0,year:e==null?void 0:e.year})]})]})}const Bge=()=>{const t=Xt==null?void 0:Xt.currentUser,{onSubmit:e,originPassword:n,onOriginChange:r,newPassword:i,onNewChange:s,checkNewPassword:o,onCheckNewChange:a}=gre();return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:" ",backBtn:!0}),x.jsx("main",{children:x.jsxs("form",{onSubmit:e,className:"flex flex-col gap-y-3",children:[x.jsx("input",{hidden:!0,type:"text",autoComplete:"username",defaultValue:t==null?void 0:t.email}),x.jsx(Wt,{name:"password",type:"password",value:n,placeholder:"  .",onChange:r,autoComplete:"current-password"}),x.jsx(Wt,{name:"password",type:"password",value:i,placeholder:"  .",onChange:s,autoComplete:"new-password"}),x.jsx(Wt,{name:"password",type:"password",value:o,placeholder:"    .",onChange:a,autoComplete:"new-password"}),x.jsx(at,{type:"submit",name:"",className:"mx-auto mt-5"})]})})]})},Uge=()=>{const{onDeleteSubmit:t,showMessage:e,password:n,onChange:r}=xre();return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:"",backBtn:!0}),x.jsxs("main",{children:[x.jsx(Ss,{text:"       ,   ."}),x.jsxs("form",{className:"gap-1",onSubmit:t,children:[e&&x.jsx("span",{className:"text-sm",children:"  ."}),x.jsx(Wt,{label:" ",name:"password",type:"password",placeholder:"  .",value:n,onChange:r,autoComplete:"current-password"}),x.jsx(at,{type:"submit",name:"",className:"my-2 ml-auto !h-8 py-1"})]})]})]})};function Vge(){const{email:t}=Pe(Pt),e=Pe($v),n=Pe(Dr(gn)),[r,i]=K.useState([]),{sendPushNotificationToUser:s,sendPushNotificationToAllUser:o,isPending:a}=Ji(),l=Or();K.useEffect(()=>{t!==SE&&l(-1),jn(Yd,i)},[]);const h=Pu(n.meeting.time),c=Pu("2025-12-21");return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:"",backBtn:!0}),x.jsxs("main",{children:[x.jsx(Ot,{title:" ",children:x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx(at,{name:" ",handleClick:async()=>{const f={title:"",body:"  ",notification:e.notification};(await s(f)).result==="success"&&window.alert(" !")},disabled:a}),x.jsx(at,{color:"purple",name:"  ",handleClick:async()=>{const f={title:"",body:"  ?"};await s({...f,notification:e.notification}),await o(f),window.alert(" !")},disabled:a})]})}),x.jsx(Ot,{title:"   ",children:x.jsx("ul",{className:"flex flex-wrap gap-3",children:r.map(f=>x.jsx("li",{children:x.jsx(at,{color:"blue",name:" ",handleClick:async()=>{const p={title:" ",body:"  ?",notification:e.notification},m=await s(p,f);(m==null?void 0:m.result)==="success"&&window.alert(" !")},disabled:a,children:x.jsx(cr,{userId:f.id,isLink:!1})})},f.id))})}),x.jsx(Ot,{title:"  ",children:x.jsx(at,{name:`${+Ti}   `,handleClick:async()=>{const f={title:`${+Ti}  `,body:" .       ",notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),x.jsx(Ot,{title:"  ",children:x.jsx(at,{name:`${+Ti}    DDAY: ${h}`,handleClick:async()=>{const f={title:`${+Ti}  !`,body:`${h}   .  `,notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),x.jsx(Ot,{title:"  ",children:x.jsx(at,{name:`${+Tt}  DDAY: ${c}`,handleClick:async()=>{const f={title:`${+Tt}   DDAY `,body:`  ${c} .   !`,notification:e.notification};await s(f),await o(f),window.alert("    !")},disabled:a})})]})]})}const qge=()=>{var m,g,y;const{displayName:t,email:e}=Pe(Pt),{isEditing:n,onToggleEditClick:r,userDoc:i,setNewUserImgUrl:s,newDisplayName:o,setNewDisplayName:a,onHandleFieldClick:l,onProfileSubmit:h,onDisplayNameChange:c,isSelected:f}=Cre();K.useEffect(()=>{o||a(t)},[]);const p=[{name:"",data:x.jsx("span",{className:"w-full",children:e}),form:x.jsx("span",{className:"w-full text-gray1",children:e})},{name:"",data:x.jsx("span",{children:t}),form:x.jsx(Wt,{onChange:c,placeholder:" ",value:o||""})},{name:" ",data:x.jsx("ul",{className:"flex flex-wrap gap-2",children:(m=i==null?void 0:i.favoriteBookField)==null?void 0:m.map(w=>x.jsx(Fn,{text:w.name,color:"lightBlue",shape:"rounded"},w.id))}),form:x.jsxs("ul",{className:"flex flex-wrap gap-2",children:[Sd==null?void 0:Sd.map(({id:w,name:b})=>x.jsx("button",{type:"button",name:b,onClick:_=>l(w,_),children:x.jsx(Fn,{text:b,color:f(w)?"lightBlue":"lightGray",shape:"rounded"})},w)),((g=i==null?void 0:i.favoriteBookField)==null?void 0:g.length)===0&&x.jsx("span",{className:"block w-full text-end text-sm text-pointCoral",children:"    "})]})}];return x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:" ",backBtn:!0,backTo:"/setting",children:x.jsx(Xm,{onClick:r,disabled:n})}),i!=null&&i.displayName?x.jsxs("main",{className:"flex items-start gap-x-4 max-sm:flex-col",children:[x.jsx(u5,{imgUrl:(y=i.photoURL)==null?void 0:y.original,isEditing:n,setNewUserImgUrl:s}),x.jsxs("div",{className:"flex-1",children:[x.jsx(Xm,{onClick:r,disabled:n,className:"ml-auto max-sm:hidden"}),n?x.jsxs("form",{onSubmit:h,className:"mt-8",children:[x.jsx("ul",{className:"flex flex-col gap-4",children:p.map(({name:w,form:b})=>x.jsxs("li",{className:"flex justify-between gap-6",children:[x.jsx("h3",{className:"min-w-24",children:w}),b]},w))}),x.jsx(at,{name:"",type:"submit",className:"mx-auto mt-12"})]}):x.jsx("ul",{className:"mt-10 flex w-full flex-col gap-y-5",children:p.map(({name:w,data:b})=>x.jsxs("li",{className:"flex gap-6",children:[x.jsx("h3",{className:"min-w-24",children:w}),b]},w))})]})]}):x.jsx(rc,{size:150,className:"h-[80vh]"})]})};function Hge(){var g;const[t,e]=K.useState(!1),[n,r]=K.useState(!1),[i,s]=an($v),{uid:o}=Pe(Pt),a=(g=Xt.currentUser)==null?void 0:g.isAnonymous,{sendPushNotificationToUser:l,isPending:h}=Ji(),c=async()=>{var _,E;const y=await _m();if((_=i==null?void 0:i.tokens)!=null&&_.includes(y))return;const w=ln(Jt,Yd,o),b={createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),notification:!0,tokens:i.tokens&&((E=i.tokens)==null?void 0:E.length)>0?[...i==null?void 0:i.tokens,y]:[y]};i.notification||await Ns(w,b),i.notification&&await wn(w,b),s(b)},f=async()=>{if(!("Notification"in window)){alert("    .");return}if(a){alert("     .");return}if(Notification.permission==="denied")return alert("   .        .        .   .");const y={title:"  ",body:"     ",notification:!0};Notification.permission==="granted"?(await c(),await l(y)):await Notification.requestPermission()==="granted"&&(await c(),await l(y)),e(!0),r(!1)},p=async()=>{const y=ln(Jt,Yd,o),w={notification:!1,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss")};await Ns(y,w),e(b=>!b),r(!1)},m=()=>{r(!0),t?p():f()};return K.useEffect(()=>{i!=null&&i.notification&&Notification.permission==="granted"&&e(!0)},[i==null?void 0:i.notification]),x.jsxs(x.Fragment,{children:[x.jsx(Bn,{title:"",backBtn:!0}),x.jsxs("main",{className:"flex justify-between",children:[x.jsx("h3",{className:"font-medium text-gray1",children:""}),x.jsx("button",{type:"button",className:`flex h-7 w-12 items-center rounded-full p-1 disabled:opacity-20 ${t?"bg-green-500":"bg-gray3"}`,"aria-label":"  ",onClick:m,disabled:h||n,children:x.jsx("div",{className:`size-5 rounded-full shadow-md transition-transform ${t?"translate-x-5 bg-white":"translate-x-0 bg-gray4"}`})})]})]})}function zge({isLoggedIn:t}){var i;const e=(i=Xt.currentUser)==null?void 0:i.isAnonymous,n=Pe(i3),{hideModal:r}=bt();return x.jsxs(p9,{basename:"/han-bookclub-app",children:[x.jsx(Pge,{}),t?x.jsxs(x.Fragment,{children:[x.jsx(DR,{type:"top"}),x.jsxs(hC,{children:[x.jsx(Kt,{path:"/",element:x.jsx(tge,{})}),x.jsx(Kt,{path:"/monthlyinfo",element:x.jsx(ige,{})}),x.jsx(Kt,{path:"/challenge",element:x.jsx(soe,{})}),x.jsx(Kt,{path:"/yearClosingEvent",element:x.jsx(Age,{})}),x.jsx(Kt,{path:"/search",element:x.jsx(uge,{})}),x.jsx(Kt,{path:"/previous-bookclub",element:x.jsx(oge,{})}),x.jsx(Kt,{path:"/bookclub/:id?",element:x.jsx(wfe,{})}),x.jsx(Kt,{path:"/bookclub/:id?/subjects",element:x.jsx(RR,{})}),x.jsx(Kt,{path:"/bookclub/:id?/host-review",element:x.jsx(RR,{})}),x.jsx(Kt,{path:"/vote",element:x.jsx(gge,{})}),x.jsx(Kt,{path:"/vote/:id",element:x.jsx(bge,{})}),x.jsx(Kt,{path:"/bookshelf/:username?",element:x.jsx(Wse,{})}),x.jsx(Kt,{path:"/setting",element:x.jsx(dge,{})}),x.jsx(Kt,{path:"/setting/absence",element:x.jsx($ge,{})}),x.jsx(Kt,{path:"/setting/edit-profile",element:x.jsx(qge,{})}),x.jsx(Kt,{path:"/setting/edit-password",element:x.jsx(Bge,{})}),x.jsx(Kt,{path:"/setting/delete-account",element:x.jsx(Uge,{})}),x.jsx(Kt,{path:"/setting/developer",element:x.jsx(Vge,{})}),x.jsx(Kt,{path:"/setting/notification",element:x.jsx(Hge,{})}),e&&x.jsxs(x.Fragment,{children:[x.jsx(Kt,{path:"/login",element:x.jsx(nx,{isLoggedIn:t})}),x.jsx(Kt,{path:"/create_account",element:x.jsx(IR,{})})]})]}),x.jsx(DR,{type:"bottom"})]}):x.jsxs(hC,{children:[x.jsx(Kt,{path:"/",element:x.jsx(nx,{isLoggedIn:t})}),x.jsx(Kt,{path:"/find_pw",element:x.jsx(Rge,{})}),x.jsx(Kt,{path:"/*",element:x.jsx(nx,{isLoggedIn:t})}),x.jsx(Kt,{path:"/create_account",element:x.jsx(IR,{})})]}),n.length>0&&n.map(({key:s,element:o,hideDim:a,dimUnclickable:l})=>x.jsxs(K.Fragment,{children:[!a&&x.jsx("div",{role:"presentation",className:`fixed inset-0 z-10 size-full ${l?"cursor-default":"cursor-pointer"} bg-black opacity-60`,onClick:s?()=>r(s):()=>r()}),o]},s||"modal"))]})}function Wge(){const[t,e]=K.useState(!1),[n,r]=an(Pt),[i,s]=an($v),o=Os(OE),a=async()=>{const l=Gx(Kx,"avatars/.jpeg");Yx(l).then(h=>{o(h)})};return K.useEffect(()=>{const l=gg(),h=hg(l,c=>{if(c){const{uid:f,displayName:p,email:m,photoURL:g}=c;r({uid:f,displayName:p,email:m,photoURL:g}),a()}else r(null);e(!0)});return()=>h()},[]),K.useEffect(()=>{n!=null&&n.uid&&Ar(Yd,n.uid,s)},[n==null?void 0:n.uid]),K.useEffect(()=>{t&&(i==null?void 0:i.notification)===!0&&(async()=>{var h,c;if(Notification.permission==="granted"){const f=await _m(),p=(h=i==null?void 0:i.tokens)==null?void 0:h.find(m=>m===f);if(p)return;if(!p&&(n!=null&&n.uid)){const m=ln(Jt,Yd,n.uid),g={createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),tokens:((c=i==null?void 0:i.tokens)==null?void 0:c.length)!==0?[...i==null?void 0:i.tokens,f]:[f]};await wn(m,g)}}})()},[i]),t?x.jsx(zge,{isLoggedIn:!!n}):x.jsx(rc,{size:120,className:"h-screen"})}const Yge=yB.createRoot(document.getElementById("root"));Yge.render(x.jsx(Gee,{children:x.jsx(Wge,{})}));
