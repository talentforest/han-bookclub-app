var vB=Object.defineProperty;var yB=(t,e,n)=>e in t?vB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pe=(t,e,n)=>yB(t,typeof e!="symbol"?e+"":e,n);function wB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0={exports:{}},Cc={},n0={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function bB(){if(_C)return pt;_C=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(M){return M===null||typeof M!="object"?null:(M=h&&M[h]||M["@@iterator"],typeof M=="function"?M:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function w(M,F,$){this.props=M,this.context=F,this.refs=y,this.updater=$||m}w.prototype.isReactComponent={},w.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _(){}_.prototype=w.prototype;function b(M,F,$){this.props=M,this.context=F,this.refs=y,this.updater=$||m}var k=b.prototype=new _;k.constructor=b,v(k,w.prototype),k.isPureReactComponent=!0;var S=Array.isArray,T=Object.prototype.hasOwnProperty,N={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function D(M,F,$){var W,Q={},J=null,H=null;if(F!=null)for(W in F.ref!==void 0&&(H=F.ref),F.key!==void 0&&(J=""+F.key),F)T.call(F,W)&&!O.hasOwnProperty(W)&&(Q[W]=F[W]);var X=arguments.length-2;if(X===1)Q.children=$;else if(1<X){for(var ee=Array(X),re=0;re<X;re++)ee[re]=arguments[re+2];Q.children=ee}if(M&&M.defaultProps)for(W in X=M.defaultProps,X)Q[W]===void 0&&(Q[W]=X[W]);return{$$typeof:t,type:M,key:J,ref:H,props:Q,_owner:N.current}}function j(M,F){return{$$typeof:t,type:M.type,key:F,ref:M.ref,props:M.props,_owner:M._owner}}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function I(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return F[$]})}var P=/\/+/g;function L(M,F){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):F.toString(36)}function B(M,F,$,W,Q){var J=typeof M;(J==="undefined"||J==="boolean")&&(M=null);var H=!1;if(M===null)H=!0;else switch(J){case"string":case"number":H=!0;break;case"object":switch(M.$$typeof){case t:case e:H=!0}}if(H)return H=M,Q=Q(H),M=W===""?"."+L(H,0):W,S(Q)?($="",M!=null&&($=M.replace(P,"$&/")+"/"),B(Q,F,$,"",function(re){return re})):Q!=null&&(R(Q)&&(Q=j(Q,$+(!Q.key||H&&H.key===Q.key?"":(""+Q.key).replace(P,"$&/")+"/")+M)),F.push(Q)),1;if(H=0,W=W===""?".":W+":",S(M))for(var X=0;X<M.length;X++){J=M[X];var ee=W+L(J,X);H+=B(J,F,$,ee,Q)}else if(ee=p(M),typeof ee=="function")for(M=ee.call(M),X=0;!(J=M.next()).done;)J=J.value,ee=W+L(J,X++),H+=B(J,F,$,ee,Q);else if(J==="object")throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return H}function U(M,F,$){if(M==null)return M;var W=[],Q=0;return B(M,W,"","",function(J){return F.call($,J,Q++)}),W}function V(M){if(M._status===-1){var F=M._result;F=F(),F.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var Y={current:null},K={transition:null},G={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:K,ReactCurrentOwner:N};return pt.Children={map:U,forEach:function(M,F,$){U(M,function(){F.apply(this,arguments)},$)},count:function(M){var F=0;return U(M,function(){F++}),F},toArray:function(M){return U(M,function(F){return F})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},pt.Component=w,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=b,pt.StrictMode=r,pt.Suspense=u,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,pt.cloneElement=function(M,F,$){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var W=v({},M.props),Q=M.key,J=M.ref,H=M._owner;if(F!=null){if(F.ref!==void 0&&(J=F.ref,H=N.current),F.key!==void 0&&(Q=""+F.key),M.type&&M.type.defaultProps)var X=M.type.defaultProps;for(ee in F)T.call(F,ee)&&!O.hasOwnProperty(ee)&&(W[ee]=F[ee]===void 0&&X!==void 0?X[ee]:F[ee])}var ee=arguments.length-2;if(ee===1)W.children=$;else if(1<ee){X=Array(ee);for(var re=0;re<ee;re++)X[re]=arguments[re+2];W.children=X}return{$$typeof:t,type:M.type,key:Q,ref:J,props:W,_owner:H}},pt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},pt.createElement=D,pt.createFactory=function(M){var F=D.bind(null,M);return F.type=M,F},pt.createRef=function(){return{current:null}},pt.forwardRef=function(M){return{$$typeof:l,render:M}},pt.isValidElement=R,pt.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:V}},pt.memo=function(M,F){return{$$typeof:d,type:M,compare:F===void 0?null:F}},pt.startTransition=function(M){var F=K.transition;K.transition={};try{M()}finally{K.transition=F}},pt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},pt.useCallback=function(M,F){return Y.current.useCallback(M,F)},pt.useContext=function(M){return Y.current.useContext(M)},pt.useDebugValue=function(){},pt.useDeferredValue=function(M){return Y.current.useDeferredValue(M)},pt.useEffect=function(M,F){return Y.current.useEffect(M,F)},pt.useId=function(){return Y.current.useId()},pt.useImperativeHandle=function(M,F,$){return Y.current.useImperativeHandle(M,F,$)},pt.useInsertionEffect=function(M,F){return Y.current.useInsertionEffect(M,F)},pt.useLayoutEffect=function(M,F){return Y.current.useLayoutEffect(M,F)},pt.useMemo=function(M,F){return Y.current.useMemo(M,F)},pt.useReducer=function(M,F,$){return Y.current.useReducer(M,F,$)},pt.useRef=function(M){return Y.current.useRef(M)},pt.useState=function(M){return Y.current.useState(M)},pt.useSyncExternalStore=function(M,F,$){return Y.current.useSyncExternalStore(M,F,$)},pt.useTransition=function(){return Y.current.useTransition()},pt.version="18.2.0",pt}var xC;function qm(){return xC||(xC=1,n0.exports=bB()),n0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function _B(){if(SC)return Cc;SC=1;var t=qm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,h={},p=null,m=null;d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(m=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(h[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:e,type:l,key:p,ref:m,props:h,_owner:i.current}}return Cc.Fragment=n,Cc.jsx=o,Cc.jsxs=o,Cc}var EC;function xB(){return EC||(EC=1,t0.exports=_B()),t0.exports}var x=xB(),Lh={},r0={exports:{}},qr={},i0={exports:{}},s0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function SB(){return kC||(kC=1,function(t){function e(K,G){var M=K.length;K.push(G);e:for(;0<M;){var F=M-1>>>1,$=K[F];if(0<i($,G))K[F]=G,K[M]=$,M=F;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var G=K[0],M=K.pop();if(M!==G){K[0]=M;e:for(var F=0,$=K.length,W=$>>>1;F<W;){var Q=2*(F+1)-1,J=K[Q],H=Q+1,X=K[H];if(0>i(J,M))H<$&&0>i(X,J)?(K[F]=X,K[H]=M,F=H):(K[F]=J,K[Q]=M,F=Q);else if(H<$&&0>i(X,M))K[F]=X,K[H]=M,F=H;else break e}}return G}function i(K,G){var M=K.sortIndex-G.sortIndex;return M!==0?M:K.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=K)r(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(d)}}function S(K){if(y=!1,k(K),!v)if(n(u)!==null)v=!0,V(T);else{var G=n(d);G!==null&&Y(S,G.startTime-K)}}function T(K,G){v=!1,y&&(y=!1,_(D),D=-1),m=!0;var M=p;try{for(k(G),h=n(u);h!==null&&(!(h.expirationTime>G)||K&&!I());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var $=F(h.expirationTime<=G);G=t.unstable_now(),typeof $=="function"?h.callback=$:h===n(u)&&r(u),k(G)}else r(u);h=n(u)}if(h!==null)var W=!0;else{var Q=n(d);Q!==null&&Y(S,Q.startTime-G),W=!1}return W}finally{h=null,p=M,m=!1}}var N=!1,O=null,D=-1,j=5,R=-1;function I(){return!(t.unstable_now()-R<j)}function P(){if(O!==null){var K=t.unstable_now();R=K;var G=!0;try{G=O(!0,K)}finally{G?L():(N=!1,O=null)}}else N=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=P,L=function(){U.postMessage(null)}}else L=function(){w(P,0)};function V(K){O=K,N||(N=!0,L())}function Y(K,G){D=w(function(){K(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,V(T))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var M=p;p=G;try{return K()}finally{p=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,G){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var M=p;p=K;try{return G()}finally{p=M}},t.unstable_scheduleCallback=function(K,G,M){var F=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?F+M:F):M=F,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=M+$,K={id:f++,callback:G,priorityLevel:K,startTime:M,expirationTime:$,sortIndex:-1},M>F?(K.sortIndex=M,e(d,K),n(u)===null&&K===n(d)&&(y?(_(D),D=-1):y=!0,Y(S,M-F))):(K.sortIndex=$,e(u,K),v||m||(v=!0,V(T))),K},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(K){var G=p;return function(){var M=p;p=G;try{return K.apply(this,arguments)}finally{p=M}}}}(s0)),s0}var TC;function EB(){return TC||(TC=1,i0.exports=SB()),i0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function kB(){if(CC)return qr;CC=1;var t=qm(),e=EB();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(a){return u.call(h,a)?!0:u.call(f,a)?!1:d.test(a)?h[a]=!0:(f[a]=!0,!1)}function m(a,c,g,E){if(g!==null&&g.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return E?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,c,g,E){if(c===null||typeof c>"u"||m(a,c,g,E))return!0;if(E)return!1;if(g!==null)switch(g.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(a,c,g,E,C,A,q){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=E,this.attributeNamespace=C,this.mustUseProperty=g,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=q}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){w[a]=new y(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];w[c]=new y(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){w[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){w[a]=new y(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){w[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){w[a]=new y(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){w[a]=new y(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){w[a]=new y(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){w[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function b(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(_,b);w[c]=new y(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(_,b);w[c]=new y(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(_,b);w[c]=new y(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){w[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){w[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,c,g,E){var C=w.hasOwnProperty(c)?w[c]:null;(C!==null?C.type!==0:E||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,g,C,E)&&(g=null),E||C===null?p(c)&&(g===null?a.removeAttribute(c):a.setAttribute(c,""+g)):C.mustUseProperty?a[C.propertyName]=g===null?C.type===3?!1:"":g:(c=C.attributeName,E=C.attributeNamespace,g===null?a.removeAttribute(c):(C=C.type,g=C===3||C===4&&g===!0?"":""+g,E?a.setAttributeNS(E,c,g):a.setAttribute(c,g))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),K=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var M=Object.assign,F;function $(a){if(F===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);F=c&&c[1]||""}return`
`+F+a}var W=!1;function Q(a,c){if(!a||W)return"";W=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ue){var E=ue}Reflect.construct(a,[],c)}else{try{c.call()}catch(ue){E=ue}a.call(c.prototype)}else{try{throw Error()}catch(ue){E=ue}a()}}catch(ue){if(ue&&E&&typeof ue.stack=="string"){for(var C=ue.stack.split(`
`),A=E.stack.split(`
`),q=C.length-1,Z=A.length-1;1<=q&&0<=Z&&C[q]!==A[Z];)Z--;for(;1<=q&&0<=Z;q--,Z--)if(C[q]!==A[Z]){if(q!==1||Z!==1)do if(q--,Z--,0>Z||C[q]!==A[Z]){var te=`
`+C[q].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=q&&0<=Z);break}}}finally{W=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?$(a):""}function J(a){switch(a.tag){case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return a=Q(a.type,!1),a;case 11:return a=Q(a.type.render,!1),a;case 1:return a=Q(a.type,!0),a;default:return""}}function H(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case O:return"Fragment";case N:return"Portal";case j:return"Profiler";case D:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case R:return(a._context.displayName||"Context")+".Provider";case P:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return c=a.displayName||null,c!==null?c:H(a.type)||"Memo";case V:c=a._payload,a=a._init;try{return H(a(c))}catch{}}return null}function X(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ee(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function re(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ce(a){var c=re(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),E=""+a[c];if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,A=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return C.call(this)},set:function(q){E=""+q,A.call(this,q)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(q){E=""+q},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function we(a){a._valueTracker||(a._valueTracker=ce(a))}function Se(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var g=c.getValue(),E="";return a&&(E=re(a)?a.checked?"true":"false":a.value),a=E,a!==g?(c.setValue(a),!0):!1}function Ie(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function He(a,c){var g=c.checked;return M({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function Xe(a,c){var g=c.defaultValue==null?"":c.defaultValue,E=c.checked!=null?c.checked:c.defaultChecked;g=ee(c.value!=null?c.value:g),a._wrapperState={initialChecked:E,initialValue:g,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function _t(a,c){c=c.checked,c!=null&&k(a,"checked",c,!1)}function $t(a,c){_t(a,c);var g=ee(c.value),E=c.type;if(g!=null)E==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(E==="submit"||E==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?fe(a,c.type,g):c.hasOwnProperty("defaultValue")&&fe(a,c.type,ee(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function de(a,c,g){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var E=c.type;if(!(E!=="submit"&&E!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,g||c===a.value||(a.value=c),a.defaultValue=c}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function fe(a,c,g){(c!=="number"||Ie(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var xe=Array.isArray;function Ee(a,c,g,E){if(a=a.options,c){c={};for(var C=0;C<g.length;C++)c["$"+g[C]]=!0;for(g=0;g<a.length;g++)C=c.hasOwnProperty("$"+a[g].value),a[g].selected!==C&&(a[g].selected=C),C&&E&&(a[g].defaultSelected=!0)}else{for(g=""+ee(g),c=null,C=0;C<a.length;C++){if(a[C].value===g){a[C].selected=!0,E&&(a[C].defaultSelected=!0);return}c!==null||a[C].disabled||(c=a[C])}c!==null&&(c.selected=!0)}}function pe(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ot(a,c){var g=c.value;if(g==null){if(g=c.children,c=c.defaultValue,g!=null){if(c!=null)throw Error(n(92));if(xe(g)){if(1<g.length)throw Error(n(93));g=g[0]}c=g}c==null&&(c=""),g=c}a._wrapperState={initialValue:ee(g)}}function tt(a,c){var g=ee(c.value),E=ee(c.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),c.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),E!=null&&(a.defaultValue=""+E)}function it(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Gn(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cr(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Gn(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Nt,gl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,g,E,C){MSApp.execUnsafeLocalFunction(function(){return a(c,g,E,C)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Nt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Bt(a,c){if(c){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=c;return}}a.textContent=c}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kf=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(a){kf.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),or[c]=or[a]})});function Tf(a,c,g){return c==null||typeof c=="boolean"||c===""?"":g||typeof c!="number"||c===0||or.hasOwnProperty(a)&&or[a]?(""+c).trim():c+"px"}function Cf(a,c){a=a.style;for(var g in c)if(c.hasOwnProperty(g)){var E=g.indexOf("--")===0,C=Tf(g,c[g],E);g==="float"&&(g="cssFloat"),E?a.setProperty(g,C):a[g]=C}}var ae=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(a,c){if(c){if(ae[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function ve(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Te(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ae=null,Ue=null,Ve=null;function Ke(a){if(a=fc(a)){if(typeof Ae!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Qf(c),Ae(a.stateNode,a.type,c))}}function dt(a){Ue?Ve?Ve.push(a):Ve=[a]:Ue=a}function Ut(){if(Ue){var a=Ue,c=Ve;if(Ve=Ue=null,Ke(a),c)for(a=0;a<c.length;a++)Ke(c[a])}}function Kn(a,c){return a(c)}function wn(){}var ar=!1;function jr(a,c,g){if(ar)return a(c,g);ar=!0;try{return Kn(a,c,g)}finally{ar=!1,(Ue!==null||Ve!==null)&&(wn(),Ut())}}function ui(a,c){var g=a.stateNode;if(g===null)return null;var E=Qf(g);if(E===null)return null;g=E[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(a=a.type,E=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!E;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(n(231,c,typeof g));return g}var no=!1;if(l)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){no=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{no=!1}function oa(a,c,g,E,C,A,q,Z,te){var ue=Array.prototype.slice.call(arguments,3);try{c.apply(g,ue)}catch(ge){this.onError(ge)}}var Yu=!1,Of=null,Nf=!1,bv=null,E5={onError:function(a){Yu=!0,Of=a}};function k5(a,c,g,E,C,A,q,Z,te){Yu=!1,Of=null,oa.apply(E5,arguments)}function T5(a,c,g,E,C,A,q,Z,te){if(k5.apply(this,arguments),Yu){if(Yu){var ue=Of;Yu=!1,Of=null}else throw Error(n(198));Nf||(Nf=!0,bv=ue)}}function aa(a){var c=a,g=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(g=c.return),a=c.return;while(a)}return c.tag===3?g:null}function qE(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function HE(a){if(aa(a)!==a)throw Error(n(188))}function C5(a){var c=a.alternate;if(!c){if(c=aa(a),c===null)throw Error(n(188));return c!==a?null:a}for(var g=a,E=c;;){var C=g.return;if(C===null)break;var A=C.alternate;if(A===null){if(E=C.return,E!==null){g=E;continue}break}if(C.child===A.child){for(A=C.child;A;){if(A===g)return HE(C),a;if(A===E)return HE(C),c;A=A.sibling}throw Error(n(188))}if(g.return!==E.return)g=C,E=A;else{for(var q=!1,Z=C.child;Z;){if(Z===g){q=!0,g=C,E=A;break}if(Z===E){q=!0,E=C,g=A;break}Z=Z.sibling}if(!q){for(Z=A.child;Z;){if(Z===g){q=!0,g=A,E=C;break}if(Z===E){q=!0,E=A,g=C;break}Z=Z.sibling}if(!q)throw Error(n(189))}}if(g.alternate!==E)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?a:c}function zE(a){return a=C5(a),a!==null?WE(a):null}function WE(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=WE(a);if(c!==null)return c;a=a.sibling}return null}var YE=e.unstable_scheduleCallback,GE=e.unstable_cancelCallback,O5=e.unstable_shouldYield,N5=e.unstable_requestPaint,bn=e.unstable_now,D5=e.unstable_getCurrentPriorityLevel,_v=e.unstable_ImmediatePriority,KE=e.unstable_UserBlockingPriority,Df=e.unstable_NormalPriority,I5=e.unstable_LowPriority,QE=e.unstable_IdlePriority,If=null,Yi=null;function A5(a){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(If,a,void 0,(a.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:M5,P5=Math.log,R5=Math.LN2;function M5(a){return a>>>=0,a===0?32:31-(P5(a)/R5|0)|0}var Af=64,Pf=4194304;function Gu(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Rf(a,c){var g=a.pendingLanes;if(g===0)return 0;var E=0,C=a.suspendedLanes,A=a.pingedLanes,q=g&268435455;if(q!==0){var Z=q&~C;Z!==0?E=Gu(Z):(A&=q,A!==0&&(E=Gu(A)))}else q=g&~C,q!==0?E=Gu(q):A!==0&&(E=Gu(A));if(E===0)return 0;if(c!==0&&c!==E&&(c&C)===0&&(C=E&-E,A=c&-c,C>=A||C===16&&(A&4194240)!==0))return c;if((E&4)!==0&&(E|=g&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=E;0<c;)g=31-Ci(c),C=1<<g,E|=a[g],c&=~C;return E}function L5(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j5(a,c){for(var g=a.suspendedLanes,E=a.pingedLanes,C=a.expirationTimes,A=a.pendingLanes;0<A;){var q=31-Ci(A),Z=1<<q,te=C[q];te===-1?((Z&g)===0||(Z&E)!==0)&&(C[q]=L5(Z,c)):te<=c&&(a.expiredLanes|=Z),A&=~Z}}function xv(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function XE(){var a=Af;return Af<<=1,(Af&4194240)===0&&(Af=64),a}function Sv(a){for(var c=[],g=0;31>g;g++)c.push(a);return c}function Ku(a,c,g){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Ci(c),a[c]=g}function F5(a,c){var g=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var E=a.eventTimes;for(a=a.expirationTimes;0<g;){var C=31-Ci(g),A=1<<C;c[C]=0,E[C]=-1,a[C]=-1,g&=~A}}function Ev(a,c){var g=a.entangledLanes|=c;for(a=a.entanglements;g;){var E=31-Ci(g),C=1<<E;C&c|a[E]&c&&(a[E]|=c),g&=~C}}var It=0;function JE(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ZE,kv,ek,tk,nk,Tv=!1,Mf=[],ro=null,io=null,so=null,Qu=new Map,Xu=new Map,oo=[],$5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rk(a,c){switch(a){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Qu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(c.pointerId)}}function Ju(a,c,g,E,C,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:g,eventSystemFlags:E,nativeEvent:A,targetContainers:[C]},c!==null&&(c=fc(c),c!==null&&kv(c)),a):(a.eventSystemFlags|=E,c=a.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),a)}function B5(a,c,g,E,C){switch(c){case"focusin":return ro=Ju(ro,a,c,g,E,C),!0;case"dragenter":return io=Ju(io,a,c,g,E,C),!0;case"mouseover":return so=Ju(so,a,c,g,E,C),!0;case"pointerover":var A=C.pointerId;return Qu.set(A,Ju(Qu.get(A)||null,a,c,g,E,C)),!0;case"gotpointercapture":return A=C.pointerId,Xu.set(A,Ju(Xu.get(A)||null,a,c,g,E,C)),!0}return!1}function ik(a){var c=la(a.target);if(c!==null){var g=aa(c);if(g!==null){if(c=g.tag,c===13){if(c=qE(g),c!==null){a.blockedOn=c,nk(a.priority,function(){ek(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lf(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var g=Ov(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var E=new g.constructor(g.type,g);ke=E,g.target.dispatchEvent(E),ke=null}else return c=fc(g),c!==null&&kv(c),a.blockedOn=g,!1;c.shift()}return!0}function sk(a,c,g){Lf(a)&&g.delete(c)}function V5(){Tv=!1,ro!==null&&Lf(ro)&&(ro=null),io!==null&&Lf(io)&&(io=null),so!==null&&Lf(so)&&(so=null),Qu.forEach(sk),Xu.forEach(sk)}function Zu(a,c){a.blockedOn===c&&(a.blockedOn=null,Tv||(Tv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,V5)))}function ec(a){function c(C){return Zu(C,a)}if(0<Mf.length){Zu(Mf[0],a);for(var g=1;g<Mf.length;g++){var E=Mf[g];E.blockedOn===a&&(E.blockedOn=null)}}for(ro!==null&&Zu(ro,a),io!==null&&Zu(io,a),so!==null&&Zu(so,a),Qu.forEach(c),Xu.forEach(c),g=0;g<oo.length;g++)E=oo[g],E.blockedOn===a&&(E.blockedOn=null);for(;0<oo.length&&(g=oo[0],g.blockedOn===null);)ik(g),g.blockedOn===null&&oo.shift()}var vl=S.ReactCurrentBatchConfig,jf=!0;function U5(a,c,g,E){var C=It,A=vl.transition;vl.transition=null;try{It=1,Cv(a,c,g,E)}finally{It=C,vl.transition=A}}function q5(a,c,g,E){var C=It,A=vl.transition;vl.transition=null;try{It=4,Cv(a,c,g,E)}finally{It=C,vl.transition=A}}function Cv(a,c,g,E){if(jf){var C=Ov(a,c,g,E);if(C===null)zv(a,c,E,Ff,g),rk(a,E);else if(B5(C,a,c,g,E))E.stopPropagation();else if(rk(a,E),c&4&&-1<$5.indexOf(a)){for(;C!==null;){var A=fc(C);if(A!==null&&ZE(A),A=Ov(a,c,g,E),A===null&&zv(a,c,E,Ff,g),A===C)break;C=A}C!==null&&E.stopPropagation()}else zv(a,c,E,null,g)}}var Ff=null;function Ov(a,c,g,E){if(Ff=null,a=Te(E),a=la(a),a!==null)if(c=aa(a),c===null)a=null;else if(g=c.tag,g===13){if(a=qE(c),a!==null)return a;a=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Ff=a,null}function ok(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D5()){case _v:return 1;case KE:return 4;case Df:case I5:return 16;case QE:return 536870912;default:return 16}default:return 16}}var ao=null,Nv=null,$f=null;function ak(){if($f)return $f;var a,c=Nv,g=c.length,E,C="value"in ao?ao.value:ao.textContent,A=C.length;for(a=0;a<g&&c[a]===C[a];a++);var q=g-a;for(E=1;E<=q&&c[g-E]===C[A-E];E++);return $f=C.slice(a,1<E?1-E:void 0)}function Bf(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Vf(){return!0}function lk(){return!1}function Kr(a){function c(g,E,C,A,q){this._reactName=g,this._targetInst=C,this.type=E,this.nativeEvent=A,this.target=q,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(g=a[Z],this[Z]=g?g(A):A[Z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Vf:lk,this.isPropagationStopped=lk,this}return M(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),c}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=Kr(yl),tc=M({},yl,{view:0,detail:0}),H5=Kr(tc),Iv,Av,nc,Uf=M({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rv,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==nc&&(nc&&a.type==="mousemove"?(Iv=a.screenX-nc.screenX,Av=a.screenY-nc.screenY):Av=Iv=0,nc=a),Iv)},movementY:function(a){return"movementY"in a?a.movementY:Av}}),uk=Kr(Uf),z5=M({},Uf,{dataTransfer:0}),W5=Kr(z5),Y5=M({},tc,{relatedTarget:0}),Pv=Kr(Y5),G5=M({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=Kr(G5),Q5=M({},yl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),X5=Kr(Q5),J5=M({},yl,{data:0}),ck=Kr(J5),Z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n$(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=t$[a])?!!c[a]:!1}function Rv(){return n$}var r$=M({},tc,{key:function(a){if(a.key){var c=Z5[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Bf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?e$[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rv,charCode:function(a){return a.type==="keypress"?Bf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),i$=Kr(r$),s$=M({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dk=Kr(s$),o$=M({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rv}),a$=Kr(o$),l$=M({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),u$=Kr(l$),c$=M({},Uf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),d$=Kr(c$),f$=[9,13,27,32],Mv=l&&"CompositionEvent"in window,rc=null;l&&"documentMode"in document&&(rc=document.documentMode);var h$=l&&"TextEvent"in window&&!rc,fk=l&&(!Mv||rc&&8<rc&&11>=rc),hk=" ",pk=!1;function mk(a,c){switch(a){case"keyup":return f$.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gk(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var wl=!1;function p$(a,c){switch(a){case"compositionend":return gk(c);case"keypress":return c.which!==32?null:(pk=!0,hk);case"textInput":return a=c.data,a===hk&&pk?null:a;default:return null}}function m$(a,c){if(wl)return a==="compositionend"||!Mv&&mk(a,c)?(a=ak(),$f=Nv=ao=null,wl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return fk&&c.locale!=="ko"?null:c.data;default:return null}}var g$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vk(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!g$[a.type]:c==="textarea"}function yk(a,c,g,E){dt(E),c=Yf(c,"onChange"),0<c.length&&(g=new Dv("onChange","change",null,g,E),a.push({event:g,listeners:c}))}var ic=null,sc=null;function v$(a){Lk(a,0)}function qf(a){var c=El(a);if(Se(c))return a}function y$(a,c){if(a==="change")return c}var wk=!1;if(l){var Lv;if(l){var jv="oninput"in document;if(!jv){var bk=document.createElement("div");bk.setAttribute("oninput","return;"),jv=typeof bk.oninput=="function"}Lv=jv}else Lv=!1;wk=Lv&&(!document.documentMode||9<document.documentMode)}function _k(){ic&&(ic.detachEvent("onpropertychange",xk),sc=ic=null)}function xk(a){if(a.propertyName==="value"&&qf(sc)){var c=[];yk(c,sc,a,Te(a)),jr(v$,c)}}function w$(a,c,g){a==="focusin"?(_k(),ic=c,sc=g,ic.attachEvent("onpropertychange",xk)):a==="focusout"&&_k()}function b$(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qf(sc)}function _$(a,c){if(a==="click")return qf(c)}function x$(a,c){if(a==="input"||a==="change")return qf(c)}function S$(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Oi=typeof Object.is=="function"?Object.is:S$;function oc(a,c){if(Oi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var g=Object.keys(a),E=Object.keys(c);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var C=g[E];if(!u.call(c,C)||!Oi(a[C],c[C]))return!1}return!0}function Sk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ek(a,c){var g=Sk(a);a=0;for(var E;g;){if(g.nodeType===3){if(E=a+g.textContent.length,a<=c&&E>=c)return{node:g,offset:c-a};a=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Sk(g)}}function kk(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?kk(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Tk(){for(var a=window,c=Ie();c instanceof a.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)a=c.contentWindow;else break;c=Ie(a.document)}return c}function Fv(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function E$(a){var c=Tk(),g=a.focusedElem,E=a.selectionRange;if(c!==g&&g&&g.ownerDocument&&kk(g.ownerDocument.documentElement,g)){if(E!==null&&Fv(g)){if(c=E.start,a=E.end,a===void 0&&(a=c),"selectionStart"in g)g.selectionStart=c,g.selectionEnd=Math.min(a,g.value.length);else if(a=(c=g.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var C=g.textContent.length,A=Math.min(E.start,C);E=E.end===void 0?A:Math.min(E.end,C),!a.extend&&A>E&&(C=E,E=A,A=C),C=Ek(g,A);var q=Ek(g,E);C&&q&&(a.rangeCount!==1||a.anchorNode!==C.node||a.anchorOffset!==C.offset||a.focusNode!==q.node||a.focusOffset!==q.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),a.removeAllRanges(),A>E?(a.addRange(c),a.extend(q.node,q.offset)):(c.setEnd(q.node,q.offset),a.addRange(c)))}}for(c=[],a=g;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<c.length;g++)a=c[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var k$=l&&"documentMode"in document&&11>=document.documentMode,bl=null,$v=null,ac=null,Bv=!1;function Ck(a,c,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Bv||bl==null||bl!==Ie(E)||(E=bl,"selectionStart"in E&&Fv(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),ac&&oc(ac,E)||(ac=E,E=Yf($v,"onSelect"),0<E.length&&(c=new Dv("onSelect","select",null,c,g),a.push({event:c,listeners:E}),c.target=bl)))}function Hf(a,c){var g={};return g[a.toLowerCase()]=c.toLowerCase(),g["Webkit"+a]="webkit"+c,g["Moz"+a]="moz"+c,g}var _l={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},Vv={},Ok={};l&&(Ok=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function zf(a){if(Vv[a])return Vv[a];if(!_l[a])return a;var c=_l[a],g;for(g in c)if(c.hasOwnProperty(g)&&g in Ok)return Vv[a]=c[g];return a}var Nk=zf("animationend"),Dk=zf("animationiteration"),Ik=zf("animationstart"),Ak=zf("transitionend"),Pk=new Map,Rk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(a,c){Pk.set(a,c),s(c,[a])}for(var Uv=0;Uv<Rk.length;Uv++){var qv=Rk[Uv],T$=qv.toLowerCase(),C$=qv[0].toUpperCase()+qv.slice(1);lo(T$,"on"+C$)}lo(Nk,"onAnimationEnd"),lo(Dk,"onAnimationIteration"),lo(Ik,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(Ak,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O$=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Mk(a,c,g){var E=a.type||"unknown-event";a.currentTarget=g,T5(E,c,void 0,a),a.currentTarget=null}function Lk(a,c){c=(c&4)!==0;for(var g=0;g<a.length;g++){var E=a[g],C=E.event;E=E.listeners;e:{var A=void 0;if(c)for(var q=E.length-1;0<=q;q--){var Z=E[q],te=Z.instance,ue=Z.currentTarget;if(Z=Z.listener,te!==A&&C.isPropagationStopped())break e;Mk(C,Z,ue),A=te}else for(q=0;q<E.length;q++){if(Z=E[q],te=Z.instance,ue=Z.currentTarget,Z=Z.listener,te!==A&&C.isPropagationStopped())break e;Mk(C,Z,ue),A=te}}}if(Nf)throw a=bv,Nf=!1,bv=null,a}function Kt(a,c){var g=c[Xv];g===void 0&&(g=c[Xv]=new Set);var E=a+"__bubble";g.has(E)||(jk(c,a,2,!1),g.add(E))}function Hv(a,c,g){var E=0;c&&(E|=4),jk(g,a,E,c)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function uc(a){if(!a[Wf]){a[Wf]=!0,r.forEach(function(g){g!=="selectionchange"&&(O$.has(g)||Hv(g,!1,a),Hv(g,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Wf]||(c[Wf]=!0,Hv("selectionchange",!1,c))}}function jk(a,c,g,E){switch(ok(c)){case 1:var C=U5;break;case 4:C=q5;break;default:C=Cv}g=C.bind(null,c,g,a),C=void 0,!no||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),E?C!==void 0?a.addEventListener(c,g,{capture:!0,passive:C}):a.addEventListener(c,g,!0):C!==void 0?a.addEventListener(c,g,{passive:C}):a.addEventListener(c,g,!1)}function zv(a,c,g,E,C){var A=E;if((c&1)===0&&(c&2)===0&&E!==null)e:for(;;){if(E===null)return;var q=E.tag;if(q===3||q===4){var Z=E.stateNode.containerInfo;if(Z===C||Z.nodeType===8&&Z.parentNode===C)break;if(q===4)for(q=E.return;q!==null;){var te=q.tag;if((te===3||te===4)&&(te=q.stateNode.containerInfo,te===C||te.nodeType===8&&te.parentNode===C))return;q=q.return}for(;Z!==null;){if(q=la(Z),q===null)return;if(te=q.tag,te===5||te===6){E=A=q;continue e}Z=Z.parentNode}}E=E.return}jr(function(){var ue=A,ge=Te(g),ye=[];e:{var me=Pk.get(a);if(me!==void 0){var Ne=Dv,Le=a;switch(a){case"keypress":if(Bf(g)===0)break e;case"keydown":case"keyup":Ne=i$;break;case"focusin":Le="focus",Ne=Pv;break;case"focusout":Le="blur",Ne=Pv;break;case"beforeblur":case"afterblur":Ne=Pv;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=uk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=W5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=a$;break;case Nk:case Dk:case Ik:Ne=K5;break;case Ak:Ne=u$;break;case"scroll":Ne=H5;break;case"wheel":Ne=d$;break;case"copy":case"cut":case"paste":Ne=X5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=dk}var je=(c&4)!==0,_n=!je&&a==="scroll",oe=je?me!==null?me+"Capture":null:me;je=[];for(var ne=ue,le;ne!==null;){le=ne;var _e=le.stateNode;if(le.tag===5&&_e!==null&&(le=_e,oe!==null&&(_e=ui(ne,oe),_e!=null&&je.push(cc(ne,_e,le)))),_n)break;ne=ne.return}0<je.length&&(me=new Ne(me,Le,null,g,ge),ye.push({event:me,listeners:je}))}}if((c&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",Ne=a==="mouseout"||a==="pointerout",me&&g!==ke&&(Le=g.relatedTarget||g.fromElement)&&(la(Le)||Le[_s]))break e;if((Ne||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Ne?(Le=g.relatedTarget||g.toElement,Ne=ue,Le=Le?la(Le):null,Le!==null&&(_n=aa(Le),Le!==_n||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ne=null,Le=ue),Ne!==Le)){if(je=uk,_e="onMouseLeave",oe="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(je=dk,_e="onPointerLeave",oe="onPointerEnter",ne="pointer"),_n=Ne==null?me:El(Ne),le=Le==null?me:El(Le),me=new je(_e,ne+"leave",Ne,g,ge),me.target=_n,me.relatedTarget=le,_e=null,la(ge)===ue&&(je=new je(oe,ne+"enter",Le,g,ge),je.target=le,je.relatedTarget=_n,_e=je),_n=_e,Ne&&Le)t:{for(je=Ne,oe=Le,ne=0,le=je;le;le=xl(le))ne++;for(le=0,_e=oe;_e;_e=xl(_e))le++;for(;0<ne-le;)je=xl(je),ne--;for(;0<le-ne;)oe=xl(oe),le--;for(;ne--;){if(je===oe||oe!==null&&je===oe.alternate)break t;je=xl(je),oe=xl(oe)}je=null}else je=null;Ne!==null&&Fk(ye,me,Ne,je,!1),Le!==null&&_n!==null&&Fk(ye,_n,Le,je,!0)}}e:{if(me=ue?El(ue):window,Ne=me.nodeName&&me.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&me.type==="file")var $e=y$;else if(vk(me))if(wk)$e=x$;else{$e=b$;var We=w$}else(Ne=me.nodeName)&&Ne.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&($e=_$);if($e&&($e=$e(a,ue))){yk(ye,$e,g,ge);break e}We&&We(a,me,ue),a==="focusout"&&(We=me._wrapperState)&&We.controlled&&me.type==="number"&&fe(me,"number",me.value)}switch(We=ue?El(ue):window,a){case"focusin":(vk(We)||We.contentEditable==="true")&&(bl=We,$v=ue,ac=null);break;case"focusout":ac=$v=bl=null;break;case"mousedown":Bv=!0;break;case"contextmenu":case"mouseup":case"dragend":Bv=!1,Ck(ye,g,ge);break;case"selectionchange":if(k$)break;case"keydown":case"keyup":Ck(ye,g,ge)}var Ye;if(Mv)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else wl?mk(a,g)&&(Je="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Je="onCompositionStart");Je&&(fk&&g.locale!=="ko"&&(wl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&wl&&(Ye=ak()):(ao=ge,Nv="value"in ao?ao.value:ao.textContent,wl=!0)),We=Yf(ue,Je),0<We.length&&(Je=new ck(Je,a,null,g,ge),ye.push({event:Je,listeners:We}),Ye?Je.data=Ye:(Ye=gk(g),Ye!==null&&(Je.data=Ye)))),(Ye=h$?p$(a,g):m$(a,g))&&(ue=Yf(ue,"onBeforeInput"),0<ue.length&&(ge=new ck("onBeforeInput","beforeinput",null,g,ge),ye.push({event:ge,listeners:ue}),ge.data=Ye))}Lk(ye,c)})}function cc(a,c,g){return{instance:a,listener:c,currentTarget:g}}function Yf(a,c){for(var g=c+"Capture",E=[];a!==null;){var C=a,A=C.stateNode;C.tag===5&&A!==null&&(C=A,A=ui(a,g),A!=null&&E.unshift(cc(a,A,C)),A=ui(a,c),A!=null&&E.push(cc(a,A,C))),a=a.return}return E}function xl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Fk(a,c,g,E,C){for(var A=c._reactName,q=[];g!==null&&g!==E;){var Z=g,te=Z.alternate,ue=Z.stateNode;if(te!==null&&te===E)break;Z.tag===5&&ue!==null&&(Z=ue,C?(te=ui(g,A),te!=null&&q.unshift(cc(g,te,Z))):C||(te=ui(g,A),te!=null&&q.push(cc(g,te,Z)))),g=g.return}q.length!==0&&a.push({event:c,listeners:q})}var N$=/\r\n?/g,D$=/\u0000|\uFFFD/g;function $k(a){return(typeof a=="string"?a:""+a).replace(N$,`
`).replace(D$,"")}function Gf(a,c,g){if(c=$k(c),$k(a)!==c&&g)throw Error(n(425))}function Kf(){}var Wv=null,Yv=null;function Gv(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Kv=typeof setTimeout=="function"?setTimeout:void 0,I$=typeof clearTimeout=="function"?clearTimeout:void 0,Bk=typeof Promise=="function"?Promise:void 0,A$=typeof queueMicrotask=="function"?queueMicrotask:typeof Bk<"u"?function(a){return Bk.resolve(null).then(a).catch(P$)}:Kv;function P$(a){setTimeout(function(){throw a})}function Qv(a,c){var g=c,E=0;do{var C=g.nextSibling;if(a.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(E===0){a.removeChild(C),ec(c);return}E--}else g!=="$"&&g!=="$?"&&g!=="$!"||E++;g=C}while(g);ec(c)}function uo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Vk(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return a;c--}else g==="/$"&&c++}a=a.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),Gi="__reactFiber$"+Sl,dc="__reactProps$"+Sl,_s="__reactContainer$"+Sl,Xv="__reactEvents$"+Sl,R$="__reactListeners$"+Sl,M$="__reactHandles$"+Sl;function la(a){var c=a[Gi];if(c)return c;for(var g=a.parentNode;g;){if(c=g[_s]||g[Gi]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(a=Vk(a);a!==null;){if(g=a[Gi])return g;a=Vk(a)}return c}a=g,g=a.parentNode}return null}function fc(a){return a=a[Gi]||a[_s],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function El(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Qf(a){return a[dc]||null}var Jv=[],kl=-1;function co(a){return{current:a}}function Qt(a){0>kl||(a.current=Jv[kl],Jv[kl]=null,kl--)}function zt(a,c){kl++,Jv[kl]=a.current,a.current=c}var fo={},lr=co(fo),Fr=co(!1),ua=fo;function Tl(a,c){var g=a.type.contextTypes;if(!g)return fo;var E=a.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===c)return E.__reactInternalMemoizedMaskedChildContext;var C={},A;for(A in g)C[A]=c[A];return E&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=C),C}function $r(a){return a=a.childContextTypes,a!=null}function Xf(){Qt(Fr),Qt(lr)}function Uk(a,c,g){if(lr.current!==fo)throw Error(n(168));zt(lr,c),zt(Fr,g)}function qk(a,c,g){var E=a.stateNode;if(c=c.childContextTypes,typeof E.getChildContext!="function")return g;E=E.getChildContext();for(var C in E)if(!(C in c))throw Error(n(108,X(a)||"Unknown",C));return M({},g,E)}function Jf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||fo,ua=lr.current,zt(lr,a),zt(Fr,Fr.current),!0}function Hk(a,c,g){var E=a.stateNode;if(!E)throw Error(n(169));g?(a=qk(a,c,ua),E.__reactInternalMemoizedMergedChildContext=a,Qt(Fr),Qt(lr),zt(lr,a)):Qt(Fr),zt(Fr,g)}var xs=null,Zf=!1,Zv=!1;function zk(a){xs===null?xs=[a]:xs.push(a)}function L$(a){Zf=!0,zk(a)}function ho(){if(!Zv&&xs!==null){Zv=!0;var a=0,c=It;try{var g=xs;for(It=1;a<g.length;a++){var E=g[a];do E=E(!0);while(E!==null)}xs=null,Zf=!1}catch(C){throw xs!==null&&(xs=xs.slice(a+1)),YE(_v,ho),C}finally{It=c,Zv=!1}}return null}var Cl=[],Ol=0,eh=null,th=0,ci=[],di=0,ca=null,Ss=1,Es="";function da(a,c){Cl[Ol++]=th,Cl[Ol++]=eh,eh=a,th=c}function Wk(a,c,g){ci[di++]=Ss,ci[di++]=Es,ci[di++]=ca,ca=a;var E=Ss;a=Es;var C=32-Ci(E)-1;E&=~(1<<C),g+=1;var A=32-Ci(c)+C;if(30<A){var q=C-C%5;A=(E&(1<<q)-1).toString(32),E>>=q,C-=q,Ss=1<<32-Ci(c)+C|g<<C|E,Es=A+a}else Ss=1<<A|g<<C|E,Es=a}function ey(a){a.return!==null&&(da(a,1),Wk(a,1,0))}function ty(a){for(;a===eh;)eh=Cl[--Ol],Cl[Ol]=null,th=Cl[--Ol],Cl[Ol]=null;for(;a===ca;)ca=ci[--di],ci[di]=null,Es=ci[--di],ci[di]=null,Ss=ci[--di],ci[di]=null}var Qr=null,Xr=null,sn=!1,Ni=null;function Yk(a,c){var g=mi(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=a,c=a.deletions,c===null?(a.deletions=[g],a.flags|=16):c.push(g)}function Gk(a,c){switch(a.tag){case 5:var g=a.type;return c=c.nodeType!==1||g.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Qr=a,Xr=uo(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Qr=a,Xr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(g=ca!==null?{id:Ss,overflow:Es}:null,a.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=mi(18,null,null,0),g.stateNode=c,g.return=a,a.child=g,Qr=a,Xr=null,!0):!1;default:return!1}}function ny(a){return(a.mode&1)!==0&&(a.flags&128)===0}function ry(a){if(sn){var c=Xr;if(c){var g=c;if(!Gk(a,c)){if(ny(a))throw Error(n(418));c=uo(g.nextSibling);var E=Qr;c&&Gk(a,c)?Yk(E,g):(a.flags=a.flags&-4097|2,sn=!1,Qr=a)}}else{if(ny(a))throw Error(n(418));a.flags=a.flags&-4097|2,sn=!1,Qr=a}}}function Kk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qr=a}function nh(a){if(a!==Qr)return!1;if(!sn)return Kk(a),sn=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Gv(a.type,a.memoizedProps)),c&&(c=Xr)){if(ny(a))throw Qk(),Error(n(418));for(;c;)Yk(a,c),c=uo(c.nextSibling)}if(Kk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(c===0){Xr=uo(a.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++}a=a.nextSibling}Xr=null}}else Xr=Qr?uo(a.stateNode.nextSibling):null;return!0}function Qk(){for(var a=Xr;a;)a=uo(a.nextSibling)}function Nl(){Xr=Qr=null,sn=!1}function iy(a){Ni===null?Ni=[a]:Ni.push(a)}var j$=S.ReactCurrentBatchConfig;function Di(a,c){if(a&&a.defaultProps){c=M({},c),a=a.defaultProps;for(var g in a)c[g]===void 0&&(c[g]=a[g]);return c}return c}var rh=co(null),ih=null,Dl=null,sy=null;function oy(){sy=Dl=ih=null}function ay(a){var c=rh.current;Qt(rh),a._currentValue=c}function ly(a,c,g){for(;a!==null;){var E=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,E!==null&&(E.childLanes|=c)):E!==null&&(E.childLanes&c)!==c&&(E.childLanes|=c),a===g)break;a=a.return}}function Il(a,c){ih=a,sy=Dl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Br=!0),a.firstContext=null)}function fi(a){var c=a._currentValue;if(sy!==a)if(a={context:a,memoizedValue:c,next:null},Dl===null){if(ih===null)throw Error(n(308));Dl=a,ih.dependencies={lanes:0,firstContext:a}}else Dl=Dl.next=a;return c}var fa=null;function uy(a){fa===null?fa=[a]:fa.push(a)}function Xk(a,c,g,E){var C=c.interleaved;return C===null?(g.next=g,uy(c)):(g.next=C.next,C.next=g),c.interleaved=g,ks(a,E)}function ks(a,c){a.lanes|=c;var g=a.alternate;for(g!==null&&(g.lanes|=c),g=a,a=a.return;a!==null;)a.childLanes|=c,g=a.alternate,g!==null&&(g.childLanes|=c),g=a,a=a.return;return g.tag===3?g.stateNode:null}var po=!1;function cy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jk(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ts(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function mo(a,c,g){var E=a.updateQueue;if(E===null)return null;if(E=E.shared,(wt&2)!==0){var C=E.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),E.pending=c,ks(a,g)}return C=E.interleaved,C===null?(c.next=c,uy(E)):(c.next=C.next,C.next=c),E.interleaved=c,ks(a,g)}function sh(a,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var E=c.lanes;E&=a.pendingLanes,g|=E,c.lanes=g,Ev(a,g)}}function Zk(a,c){var g=a.updateQueue,E=a.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var C=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var q={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};A===null?C=A=q:A=A.next=q,g=g.next}while(g!==null);A===null?C=A=c:A=A.next=c}else C=A=c;g={baseState:E.baseState,firstBaseUpdate:C,lastBaseUpdate:A,shared:E.shared,effects:E.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=c:a.next=c,g.lastBaseUpdate=c}function oh(a,c,g,E){var C=a.updateQueue;po=!1;var A=C.firstBaseUpdate,q=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var te=Z,ue=te.next;te.next=null,q===null?A=ue:q.next=ue,q=te;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,Z=ge.lastBaseUpdate,Z!==q&&(Z===null?ge.firstBaseUpdate=ue:Z.next=ue,ge.lastBaseUpdate=te))}if(A!==null){var ye=C.baseState;q=0,ge=ue=te=null,Z=A;do{var me=Z.lane,Ne=Z.eventTime;if((E&me)===me){ge!==null&&(ge=ge.next={eventTime:Ne,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Le=a,je=Z;switch(me=c,Ne=g,je.tag){case 1:if(Le=je.payload,typeof Le=="function"){ye=Le.call(Ne,ye,me);break e}ye=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=je.payload,me=typeof Le=="function"?Le.call(Ne,ye,me):Le,me==null)break e;ye=M({},ye,me);break e;case 2:po=!0}}Z.callback!==null&&Z.lane!==0&&(a.flags|=64,me=C.effects,me===null?C.effects=[Z]:me.push(Z))}else Ne={eventTime:Ne,lane:me,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ge===null?(ue=ge=Ne,te=ye):ge=ge.next=Ne,q|=me;if(Z=Z.next,Z===null){if(Z=C.shared.pending,Z===null)break;me=Z,Z=me.next,me.next=null,C.lastBaseUpdate=me,C.shared.pending=null}}while(!0);if(ge===null&&(te=ye),C.baseState=te,C.firstBaseUpdate=ue,C.lastBaseUpdate=ge,c=C.shared.interleaved,c!==null){C=c;do q|=C.lane,C=C.next;while(C!==c)}else A===null&&(C.shared.lanes=0);ma|=q,a.lanes=q,a.memoizedState=ye}}function eT(a,c,g){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var E=a[c],C=E.callback;if(C!==null){if(E.callback=null,E=g,typeof C!="function")throw Error(n(191,C));C.call(E)}}}var tT=new t.Component().refs;function dy(a,c,g,E){c=a.memoizedState,g=g(E,c),g=g==null?c:M({},c,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var ah={isMounted:function(a){return(a=a._reactInternals)?aa(a)===a:!1},enqueueSetState:function(a,c,g){a=a._reactInternals;var E=Nr(),C=wo(a),A=Ts(E,C);A.payload=c,g!=null&&(A.callback=g),c=mo(a,A,C),c!==null&&(Pi(c,a,C,E),sh(c,a,C))},enqueueReplaceState:function(a,c,g){a=a._reactInternals;var E=Nr(),C=wo(a),A=Ts(E,C);A.tag=1,A.payload=c,g!=null&&(A.callback=g),c=mo(a,A,C),c!==null&&(Pi(c,a,C,E),sh(c,a,C))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var g=Nr(),E=wo(a),C=Ts(g,E);C.tag=2,c!=null&&(C.callback=c),c=mo(a,C,E),c!==null&&(Pi(c,a,E,g),sh(c,a,E))}};function nT(a,c,g,E,C,A,q){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(E,A,q):c.prototype&&c.prototype.isPureReactComponent?!oc(g,E)||!oc(C,A):!0}function rT(a,c,g){var E=!1,C=fo,A=c.contextType;return typeof A=="object"&&A!==null?A=fi(A):(C=$r(c)?ua:lr.current,E=c.contextTypes,A=(E=E!=null)?Tl(a,C):fo),c=new c(g,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ah,a.stateNode=c,c._reactInternals=a,E&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=C,a.__reactInternalMemoizedMaskedChildContext=A),c}function iT(a,c,g,E){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,E),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,E),c.state!==a&&ah.enqueueReplaceState(c,c.state,null)}function fy(a,c,g,E){var C=a.stateNode;C.props=g,C.state=a.memoizedState,C.refs=tT,cy(a);var A=c.contextType;typeof A=="object"&&A!==null?C.context=fi(A):(A=$r(c)?ua:lr.current,C.context=Tl(a,A)),C.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(dy(a,c,A,g),C.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&ah.enqueueReplaceState(C,C.state,null),oh(a,g,C,E),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308)}function hc(a,c,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var E=g.stateNode}if(!E)throw Error(n(147,a));var C=E,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(q){var Z=C.refs;Z===tT&&(Z=C.refs={}),q===null?delete Z[A]:Z[A]=q},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,a))}return a}function lh(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function sT(a){var c=a._init;return c(a._payload)}function oT(a){function c(oe,ne){if(a){var le=oe.deletions;le===null?(oe.deletions=[ne],oe.flags|=16):le.push(ne)}}function g(oe,ne){if(!a)return null;for(;ne!==null;)c(oe,ne),ne=ne.sibling;return null}function E(oe,ne){for(oe=new Map;ne!==null;)ne.key!==null?oe.set(ne.key,ne):oe.set(ne.index,ne),ne=ne.sibling;return oe}function C(oe,ne){return oe=_o(oe,ne),oe.index=0,oe.sibling=null,oe}function A(oe,ne,le){return oe.index=le,a?(le=oe.alternate,le!==null?(le=le.index,le<ne?(oe.flags|=2,ne):le):(oe.flags|=2,ne)):(oe.flags|=1048576,ne)}function q(oe){return a&&oe.alternate===null&&(oe.flags|=2),oe}function Z(oe,ne,le,_e){return ne===null||ne.tag!==6?(ne=Ky(le,oe.mode,_e),ne.return=oe,ne):(ne=C(ne,le),ne.return=oe,ne)}function te(oe,ne,le,_e){var $e=le.type;return $e===O?ge(oe,ne,le.props.children,_e,le.key):ne!==null&&(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&sT($e)===ne.type)?(_e=C(ne,le.props),_e.ref=hc(oe,ne,le),_e.return=oe,_e):(_e=Ch(le.type,le.key,le.props,null,oe.mode,_e),_e.ref=hc(oe,ne,le),_e.return=oe,_e)}function ue(oe,ne,le,_e){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=Qy(le,oe.mode,_e),ne.return=oe,ne):(ne=C(ne,le.children||[]),ne.return=oe,ne)}function ge(oe,ne,le,_e,$e){return ne===null||ne.tag!==7?(ne=wa(le,oe.mode,_e,$e),ne.return=oe,ne):(ne=C(ne,le),ne.return=oe,ne)}function ye(oe,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Ky(""+ne,oe.mode,le),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return le=Ch(ne.type,ne.key,ne.props,null,oe.mode,le),le.ref=hc(oe,null,ne),le.return=oe,le;case N:return ne=Qy(ne,oe.mode,le),ne.return=oe,ne;case V:var _e=ne._init;return ye(oe,_e(ne._payload),le)}if(xe(ne)||G(ne))return ne=wa(ne,oe.mode,le,null),ne.return=oe,ne;lh(oe,ne)}return null}function me(oe,ne,le,_e){var $e=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return $e!==null?null:Z(oe,ne,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case T:return le.key===$e?te(oe,ne,le,_e):null;case N:return le.key===$e?ue(oe,ne,le,_e):null;case V:return $e=le._init,me(oe,ne,$e(le._payload),_e)}if(xe(le)||G(le))return $e!==null?null:ge(oe,ne,le,_e,null);lh(oe,le)}return null}function Ne(oe,ne,le,_e,$e){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return oe=oe.get(le)||null,Z(ne,oe,""+_e,$e);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case T:return oe=oe.get(_e.key===null?le:_e.key)||null,te(ne,oe,_e,$e);case N:return oe=oe.get(_e.key===null?le:_e.key)||null,ue(ne,oe,_e,$e);case V:var We=_e._init;return Ne(oe,ne,le,We(_e._payload),$e)}if(xe(_e)||G(_e))return oe=oe.get(le)||null,ge(ne,oe,_e,$e,null);lh(ne,_e)}return null}function Le(oe,ne,le,_e){for(var $e=null,We=null,Ye=ne,Je=ne=0,Vn=null;Ye!==null&&Je<le.length;Je++){Ye.index>Je?(Vn=Ye,Ye=null):Vn=Ye.sibling;var xt=me(oe,Ye,le[Je],_e);if(xt===null){Ye===null&&(Ye=Vn);break}a&&Ye&&xt.alternate===null&&c(oe,Ye),ne=A(xt,ne,Je),We===null?$e=xt:We.sibling=xt,We=xt,Ye=Vn}if(Je===le.length)return g(oe,Ye),sn&&da(oe,Je),$e;if(Ye===null){for(;Je<le.length;Je++)Ye=ye(oe,le[Je],_e),Ye!==null&&(ne=A(Ye,ne,Je),We===null?$e=Ye:We.sibling=Ye,We=Ye);return sn&&da(oe,Je),$e}for(Ye=E(oe,Ye);Je<le.length;Je++)Vn=Ne(Ye,oe,Je,le[Je],_e),Vn!==null&&(a&&Vn.alternate!==null&&Ye.delete(Vn.key===null?Je:Vn.key),ne=A(Vn,ne,Je),We===null?$e=Vn:We.sibling=Vn,We=Vn);return a&&Ye.forEach(function(xo){return c(oe,xo)}),sn&&da(oe,Je),$e}function je(oe,ne,le,_e){var $e=G(le);if(typeof $e!="function")throw Error(n(150));if(le=$e.call(le),le==null)throw Error(n(151));for(var We=$e=null,Ye=ne,Je=ne=0,Vn=null,xt=le.next();Ye!==null&&!xt.done;Je++,xt=le.next()){Ye.index>Je?(Vn=Ye,Ye=null):Vn=Ye.sibling;var xo=me(oe,Ye,xt.value,_e);if(xo===null){Ye===null&&(Ye=Vn);break}a&&Ye&&xo.alternate===null&&c(oe,Ye),ne=A(xo,ne,Je),We===null?$e=xo:We.sibling=xo,We=xo,Ye=Vn}if(xt.done)return g(oe,Ye),sn&&da(oe,Je),$e;if(Ye===null){for(;!xt.done;Je++,xt=le.next())xt=ye(oe,xt.value,_e),xt!==null&&(ne=A(xt,ne,Je),We===null?$e=xt:We.sibling=xt,We=xt);return sn&&da(oe,Je),$e}for(Ye=E(oe,Ye);!xt.done;Je++,xt=le.next())xt=Ne(Ye,oe,Je,xt.value,_e),xt!==null&&(a&&xt.alternate!==null&&Ye.delete(xt.key===null?Je:xt.key),ne=A(xt,ne,Je),We===null?$e=xt:We.sibling=xt,We=xt);return a&&Ye.forEach(function(gB){return c(oe,gB)}),sn&&da(oe,Je),$e}function _n(oe,ne,le,_e){if(typeof le=="object"&&le!==null&&le.type===O&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case T:e:{for(var $e=le.key,We=ne;We!==null;){if(We.key===$e){if($e=le.type,$e===O){if(We.tag===7){g(oe,We.sibling),ne=C(We,le.props.children),ne.return=oe,oe=ne;break e}}else if(We.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&sT($e)===We.type){g(oe,We.sibling),ne=C(We,le.props),ne.ref=hc(oe,We,le),ne.return=oe,oe=ne;break e}g(oe,We);break}else c(oe,We);We=We.sibling}le.type===O?(ne=wa(le.props.children,oe.mode,_e,le.key),ne.return=oe,oe=ne):(_e=Ch(le.type,le.key,le.props,null,oe.mode,_e),_e.ref=hc(oe,ne,le),_e.return=oe,oe=_e)}return q(oe);case N:e:{for(We=le.key;ne!==null;){if(ne.key===We)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){g(oe,ne.sibling),ne=C(ne,le.children||[]),ne.return=oe,oe=ne;break e}else{g(oe,ne);break}else c(oe,ne);ne=ne.sibling}ne=Qy(le,oe.mode,_e),ne.return=oe,oe=ne}return q(oe);case V:return We=le._init,_n(oe,ne,We(le._payload),_e)}if(xe(le))return Le(oe,ne,le,_e);if(G(le))return je(oe,ne,le,_e);lh(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ne!==null&&ne.tag===6?(g(oe,ne.sibling),ne=C(ne,le),ne.return=oe,oe=ne):(g(oe,ne),ne=Ky(le,oe.mode,_e),ne.return=oe,oe=ne),q(oe)):g(oe,ne)}return _n}var Al=oT(!0),aT=oT(!1),pc={},Ki=co(pc),mc=co(pc),gc=co(pc);function ha(a){if(a===pc)throw Error(n(174));return a}function hy(a,c){switch(zt(gc,c),zt(mc,a),zt(Ki,pc),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Cr(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Cr(c,a)}Qt(Ki),zt(Ki,c)}function Pl(){Qt(Ki),Qt(mc),Qt(gc)}function lT(a){ha(gc.current);var c=ha(Ki.current),g=Cr(c,a.type);c!==g&&(zt(mc,a),zt(Ki,g))}function py(a){mc.current===a&&(Qt(Ki),Qt(mc))}var an=co(0);function uh(a){for(var c=a;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var my=[];function gy(){for(var a=0;a<my.length;a++)my[a]._workInProgressVersionPrimary=null;my.length=0}var ch=S.ReactCurrentDispatcher,vy=S.ReactCurrentBatchConfig,pa=0,ln=null,An=null,$n=null,dh=!1,vc=!1,yc=0,F$=0;function ur(){throw Error(n(321))}function yy(a,c){if(c===null)return!1;for(var g=0;g<c.length&&g<a.length;g++)if(!Oi(a[g],c[g]))return!1;return!0}function wy(a,c,g,E,C,A){if(pa=A,ln=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ch.current=a===null||a.memoizedState===null?U$:q$,a=g(E,C),vc){A=0;do{if(vc=!1,yc=0,25<=A)throw Error(n(301));A+=1,$n=An=null,c.updateQueue=null,ch.current=H$,a=g(E,C)}while(vc)}if(ch.current=ph,c=An!==null&&An.next!==null,pa=0,$n=An=ln=null,dh=!1,c)throw Error(n(300));return a}function by(){var a=yc!==0;return yc=0,a}function Qi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?ln.memoizedState=$n=a:$n=$n.next=a,$n}function hi(){if(An===null){var a=ln.alternate;a=a!==null?a.memoizedState:null}else a=An.next;var c=$n===null?ln.memoizedState:$n.next;if(c!==null)$n=c,An=a;else{if(a===null)throw Error(n(310));An=a,a={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},$n===null?ln.memoizedState=$n=a:$n=$n.next=a}return $n}function wc(a,c){return typeof c=="function"?c(a):c}function _y(a){var c=hi(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var E=An,C=E.baseQueue,A=g.pending;if(A!==null){if(C!==null){var q=C.next;C.next=A.next,A.next=q}E.baseQueue=C=A,g.pending=null}if(C!==null){A=C.next,E=E.baseState;var Z=q=null,te=null,ue=A;do{var ge=ue.lane;if((pa&ge)===ge)te!==null&&(te=te.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),E=ue.hasEagerState?ue.eagerState:a(E,ue.action);else{var ye={lane:ge,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};te===null?(Z=te=ye,q=E):te=te.next=ye,ln.lanes|=ge,ma|=ge}ue=ue.next}while(ue!==null&&ue!==A);te===null?q=E:te.next=Z,Oi(E,c.memoizedState)||(Br=!0),c.memoizedState=E,c.baseState=q,c.baseQueue=te,g.lastRenderedState=E}if(a=g.interleaved,a!==null){C=a;do A=C.lane,ln.lanes|=A,ma|=A,C=C.next;while(C!==a)}else C===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function xy(a){var c=hi(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var E=g.dispatch,C=g.pending,A=c.memoizedState;if(C!==null){g.pending=null;var q=C=C.next;do A=a(A,q.action),q=q.next;while(q!==C);Oi(A,c.memoizedState)||(Br=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),g.lastRenderedState=A}return[A,E]}function uT(){}function cT(a,c){var g=ln,E=hi(),C=c(),A=!Oi(E.memoizedState,C);if(A&&(E.memoizedState=C,Br=!0),E=E.queue,Sy(hT.bind(null,g,E,a),[a]),E.getSnapshot!==c||A||$n!==null&&$n.memoizedState.tag&1){if(g.flags|=2048,bc(9,fT.bind(null,g,E,C,c),void 0,null),Bn===null)throw Error(n(349));(pa&30)!==0||dT(g,c,C)}return C}function dT(a,c,g){a.flags|=16384,a={getSnapshot:c,value:g},c=ln.updateQueue,c===null?(c={lastEffect:null,stores:null},ln.updateQueue=c,c.stores=[a]):(g=c.stores,g===null?c.stores=[a]:g.push(a))}function fT(a,c,g,E){c.value=g,c.getSnapshot=E,pT(c)&&mT(a)}function hT(a,c,g){return g(function(){pT(c)&&mT(a)})}function pT(a){var c=a.getSnapshot;a=a.value;try{var g=c();return!Oi(a,g)}catch{return!0}}function mT(a){var c=ks(a,1);c!==null&&Pi(c,a,1,-1)}function gT(a){var c=Qi();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:a},c.queue=a,a=a.dispatch=V$.bind(null,ln,a),[c.memoizedState,a]}function bc(a,c,g,E){return a={tag:a,create:c,destroy:g,deps:E,next:null},c=ln.updateQueue,c===null?(c={lastEffect:null,stores:null},ln.updateQueue=c,c.lastEffect=a.next=a):(g=c.lastEffect,g===null?c.lastEffect=a.next=a:(E=g.next,g.next=a,a.next=E,c.lastEffect=a)),a}function vT(){return hi().memoizedState}function fh(a,c,g,E){var C=Qi();ln.flags|=a,C.memoizedState=bc(1|c,g,void 0,E===void 0?null:E)}function hh(a,c,g,E){var C=hi();E=E===void 0?null:E;var A=void 0;if(An!==null){var q=An.memoizedState;if(A=q.destroy,E!==null&&yy(E,q.deps)){C.memoizedState=bc(c,g,A,E);return}}ln.flags|=a,C.memoizedState=bc(1|c,g,A,E)}function yT(a,c){return fh(8390656,8,a,c)}function Sy(a,c){return hh(2048,8,a,c)}function wT(a,c){return hh(4,2,a,c)}function bT(a,c){return hh(4,4,a,c)}function _T(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function xT(a,c,g){return g=g!=null?g.concat([a]):null,hh(4,4,_T.bind(null,c,a),g)}function Ey(){}function ST(a,c){var g=hi();c=c===void 0?null:c;var E=g.memoizedState;return E!==null&&c!==null&&yy(c,E[1])?E[0]:(g.memoizedState=[a,c],a)}function ET(a,c){var g=hi();c=c===void 0?null:c;var E=g.memoizedState;return E!==null&&c!==null&&yy(c,E[1])?E[0]:(a=a(),g.memoizedState=[a,c],a)}function kT(a,c,g){return(pa&21)===0?(a.baseState&&(a.baseState=!1,Br=!0),a.memoizedState=g):(Oi(g,c)||(g=XE(),ln.lanes|=g,ma|=g,a.baseState=!0),c)}function $$(a,c){var g=It;It=g!==0&&4>g?g:4,a(!0);var E=vy.transition;vy.transition={};try{a(!1),c()}finally{It=g,vy.transition=E}}function TT(){return hi().memoizedState}function B$(a,c,g){var E=wo(a);if(g={lane:E,action:g,hasEagerState:!1,eagerState:null,next:null},CT(a))OT(c,g);else if(g=Xk(a,c,g,E),g!==null){var C=Nr();Pi(g,a,E,C),NT(g,c,E)}}function V$(a,c,g){var E=wo(a),C={lane:E,action:g,hasEagerState:!1,eagerState:null,next:null};if(CT(a))OT(c,C);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var q=c.lastRenderedState,Z=A(q,g);if(C.hasEagerState=!0,C.eagerState=Z,Oi(Z,q)){var te=c.interleaved;te===null?(C.next=C,uy(c)):(C.next=te.next,te.next=C),c.interleaved=C;return}}catch{}finally{}g=Xk(a,c,C,E),g!==null&&(C=Nr(),Pi(g,a,E,C),NT(g,c,E))}}function CT(a){var c=a.alternate;return a===ln||c!==null&&c===ln}function OT(a,c){vc=dh=!0;var g=a.pending;g===null?c.next=c:(c.next=g.next,g.next=c),a.pending=c}function NT(a,c,g){if((g&4194240)!==0){var E=c.lanes;E&=a.pendingLanes,g|=E,c.lanes=g,Ev(a,g)}}var ph={readContext:fi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},U$={readContext:fi,useCallback:function(a,c){return Qi().memoizedState=[a,c===void 0?null:c],a},useContext:fi,useEffect:yT,useImperativeHandle:function(a,c,g){return g=g!=null?g.concat([a]):null,fh(4194308,4,_T.bind(null,c,a),g)},useLayoutEffect:function(a,c){return fh(4194308,4,a,c)},useInsertionEffect:function(a,c){return fh(4,2,a,c)},useMemo:function(a,c){var g=Qi();return c=c===void 0?null:c,a=a(),g.memoizedState=[a,c],a},useReducer:function(a,c,g){var E=Qi();return c=g!==void 0?g(c):c,E.memoizedState=E.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},E.queue=a,a=a.dispatch=B$.bind(null,ln,a),[E.memoizedState,a]},useRef:function(a){var c=Qi();return a={current:a},c.memoizedState=a},useState:gT,useDebugValue:Ey,useDeferredValue:function(a){return Qi().memoizedState=a},useTransition:function(){var a=gT(!1),c=a[0];return a=$$.bind(null,a[1]),Qi().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,g){var E=ln,C=Qi();if(sn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=c(),Bn===null)throw Error(n(349));(pa&30)!==0||dT(E,c,g)}C.memoizedState=g;var A={value:g,getSnapshot:c};return C.queue=A,yT(hT.bind(null,E,A,a),[a]),E.flags|=2048,bc(9,fT.bind(null,E,A,g,c),void 0,null),g},useId:function(){var a=Qi(),c=Bn.identifierPrefix;if(sn){var g=Es,E=Ss;g=(E&~(1<<32-Ci(E)-1)).toString(32)+g,c=":"+c+"R"+g,g=yc++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=F$++,c=":"+c+"r"+g.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},q$={readContext:fi,useCallback:ST,useContext:fi,useEffect:Sy,useImperativeHandle:xT,useInsertionEffect:wT,useLayoutEffect:bT,useMemo:ET,useReducer:_y,useRef:vT,useState:function(){return _y(wc)},useDebugValue:Ey,useDeferredValue:function(a){var c=hi();return kT(c,An.memoizedState,a)},useTransition:function(){var a=_y(wc)[0],c=hi().memoizedState;return[a,c]},useMutableSource:uT,useSyncExternalStore:cT,useId:TT,unstable_isNewReconciler:!1},H$={readContext:fi,useCallback:ST,useContext:fi,useEffect:Sy,useImperativeHandle:xT,useInsertionEffect:wT,useLayoutEffect:bT,useMemo:ET,useReducer:xy,useRef:vT,useState:function(){return xy(wc)},useDebugValue:Ey,useDeferredValue:function(a){var c=hi();return An===null?c.memoizedState=a:kT(c,An.memoizedState,a)},useTransition:function(){var a=xy(wc)[0],c=hi().memoizedState;return[a,c]},useMutableSource:uT,useSyncExternalStore:cT,useId:TT,unstable_isNewReconciler:!1};function Rl(a,c){try{var g="",E=c;do g+=J(E),E=E.return;while(E);var C=g}catch(A){C=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:C,digest:null}}function ky(a,c,g){return{value:a,source:null,stack:g??null,digest:c??null}}function Ty(a,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var z$=typeof WeakMap=="function"?WeakMap:Map;function DT(a,c,g){g=Ts(-1,g),g.tag=3,g.payload={element:null};var E=c.value;return g.callback=function(){_h||(_h=!0,Vy=E),Ty(a,c)},g}function IT(a,c,g){g=Ts(-1,g),g.tag=3;var E=a.type.getDerivedStateFromError;if(typeof E=="function"){var C=c.value;g.payload=function(){return E(C)},g.callback=function(){Ty(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(g.callback=function(){Ty(a,c),typeof E!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var q=c.stack;this.componentDidCatch(c.value,{componentStack:q!==null?q:""})}),g}function AT(a,c,g){var E=a.pingCache;if(E===null){E=a.pingCache=new z$;var C=new Set;E.set(c,C)}else C=E.get(c),C===void 0&&(C=new Set,E.set(c,C));C.has(g)||(C.add(g),a=sB.bind(null,a,c,g),c.then(a,a))}function PT(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function RT(a,c,g,E,C){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=Ts(-1,1),c.tag=2,mo(g,c,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=C,a)}var W$=S.ReactCurrentOwner,Br=!1;function Or(a,c,g,E){c.child=a===null?aT(c,null,g,E):Al(c,a.child,g,E)}function MT(a,c,g,E,C){g=g.render;var A=c.ref;return Il(c,C),E=wy(a,c,g,E,A,C),g=by(),a!==null&&!Br?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~C,Cs(a,c,C)):(sn&&g&&ey(c),c.flags|=1,Or(a,c,E,C),c.child)}function LT(a,c,g,E,C){if(a===null){var A=g.type;return typeof A=="function"&&!Gy(A)&&A.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=A,jT(a,c,A,E,C)):(a=Ch(g.type,null,E,c,c.mode,C),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,(a.lanes&C)===0){var q=A.memoizedProps;if(g=g.compare,g=g!==null?g:oc,g(q,E)&&a.ref===c.ref)return Cs(a,c,C)}return c.flags|=1,a=_o(A,E),a.ref=c.ref,a.return=c,c.child=a}function jT(a,c,g,E,C){if(a!==null){var A=a.memoizedProps;if(oc(A,E)&&a.ref===c.ref)if(Br=!1,c.pendingProps=E=A,(a.lanes&C)!==0)(a.flags&131072)!==0&&(Br=!0);else return c.lanes=a.lanes,Cs(a,c,C)}return Cy(a,c,g,E,C)}function FT(a,c,g){var E=c.pendingProps,C=E.children,A=a!==null?a.memoizedState:null;if(E.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ll,Jr),Jr|=g;else{if((g&1073741824)===0)return a=A!==null?A.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,zt(Ll,Jr),Jr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=A!==null?A.baseLanes:g,zt(Ll,Jr),Jr|=E}else A!==null?(E=A.baseLanes|g,c.memoizedState=null):E=g,zt(Ll,Jr),Jr|=E;return Or(a,c,C,g),c.child}function $T(a,c){var g=c.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function Cy(a,c,g,E,C){var A=$r(g)?ua:lr.current;return A=Tl(c,A),Il(c,C),g=wy(a,c,g,E,A,C),E=by(),a!==null&&!Br?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~C,Cs(a,c,C)):(sn&&E&&ey(c),c.flags|=1,Or(a,c,g,C),c.child)}function BT(a,c,g,E,C){if($r(g)){var A=!0;Jf(c)}else A=!1;if(Il(c,C),c.stateNode===null)gh(a,c),rT(c,g,E),fy(c,g,E,C),E=!0;else if(a===null){var q=c.stateNode,Z=c.memoizedProps;q.props=Z;var te=q.context,ue=g.contextType;typeof ue=="object"&&ue!==null?ue=fi(ue):(ue=$r(g)?ua:lr.current,ue=Tl(c,ue));var ge=g.getDerivedStateFromProps,ye=typeof ge=="function"||typeof q.getSnapshotBeforeUpdate=="function";ye||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Z!==E||te!==ue)&&iT(c,q,E,ue),po=!1;var me=c.memoizedState;q.state=me,oh(c,E,q,C),te=c.memoizedState,Z!==E||me!==te||Fr.current||po?(typeof ge=="function"&&(dy(c,g,ge,E),te=c.memoizedState),(Z=po||nT(c,g,Z,E,me,te,ue))?(ye||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(c.flags|=4194308)):(typeof q.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=E,c.memoizedState=te),q.props=E,q.state=te,q.context=ue,E=Z):(typeof q.componentDidMount=="function"&&(c.flags|=4194308),E=!1)}else{q=c.stateNode,Jk(a,c),Z=c.memoizedProps,ue=c.type===c.elementType?Z:Di(c.type,Z),q.props=ue,ye=c.pendingProps,me=q.context,te=g.contextType,typeof te=="object"&&te!==null?te=fi(te):(te=$r(g)?ua:lr.current,te=Tl(c,te));var Ne=g.getDerivedStateFromProps;(ge=typeof Ne=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Z!==ye||me!==te)&&iT(c,q,E,te),po=!1,me=c.memoizedState,q.state=me,oh(c,E,q,C);var Le=c.memoizedState;Z!==ye||me!==Le||Fr.current||po?(typeof Ne=="function"&&(dy(c,g,Ne,E),Le=c.memoizedState),(ue=po||nT(c,g,ue,E,me,Le,te)||!1)?(ge||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(E,Le,te),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(E,Le,te)),typeof q.componentDidUpdate=="function"&&(c.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof q.componentDidUpdate!="function"||Z===a.memoizedProps&&me===a.memoizedState||(c.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&me===a.memoizedState||(c.flags|=1024),c.memoizedProps=E,c.memoizedState=Le),q.props=E,q.state=Le,q.context=te,E=ue):(typeof q.componentDidUpdate!="function"||Z===a.memoizedProps&&me===a.memoizedState||(c.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&me===a.memoizedState||(c.flags|=1024),E=!1)}return Oy(a,c,g,E,A,C)}function Oy(a,c,g,E,C,A){$T(a,c);var q=(c.flags&128)!==0;if(!E&&!q)return C&&Hk(c,g,!1),Cs(a,c,A);E=c.stateNode,W$.current=c;var Z=q&&typeof g.getDerivedStateFromError!="function"?null:E.render();return c.flags|=1,a!==null&&q?(c.child=Al(c,a.child,null,A),c.child=Al(c,null,Z,A)):Or(a,c,Z,A),c.memoizedState=E.state,C&&Hk(c,g,!0),c.child}function VT(a){var c=a.stateNode;c.pendingContext?Uk(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Uk(a,c.context,!1),hy(a,c.containerInfo)}function UT(a,c,g,E,C){return Nl(),iy(C),c.flags|=256,Or(a,c,g,E),c.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Dy(a){return{baseLanes:a,cachePool:null,transitions:null}}function qT(a,c,g){var E=c.pendingProps,C=an.current,A=!1,q=(c.flags&128)!==0,Z;if((Z=q)||(Z=a!==null&&a.memoizedState===null?!1:(C&2)!==0),Z?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(C|=1),zt(an,C&1),a===null)return ry(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(q=E.children,a=E.fallback,A?(E=c.mode,A=c.child,q={mode:"hidden",children:q},(E&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=q):A=Oh(q,E,0,null),a=wa(a,E,g,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=Dy(g),c.memoizedState=Ny,a):Iy(c,q));if(C=a.memoizedState,C!==null&&(Z=C.dehydrated,Z!==null))return Y$(a,c,q,E,Z,C,g);if(A){A=E.fallback,q=c.mode,C=a.child,Z=C.sibling;var te={mode:"hidden",children:E.children};return(q&1)===0&&c.child!==C?(E=c.child,E.childLanes=0,E.pendingProps=te,c.deletions=null):(E=_o(C,te),E.subtreeFlags=C.subtreeFlags&14680064),Z!==null?A=_o(Z,A):(A=wa(A,q,g,null),A.flags|=2),A.return=c,E.return=c,E.sibling=A,c.child=E,E=A,A=c.child,q=a.child.memoizedState,q=q===null?Dy(g):{baseLanes:q.baseLanes|g,cachePool:null,transitions:q.transitions},A.memoizedState=q,A.childLanes=a.childLanes&~g,c.memoizedState=Ny,E}return A=a.child,a=A.sibling,E=_o(A,{mode:"visible",children:E.children}),(c.mode&1)===0&&(E.lanes=g),E.return=c,E.sibling=null,a!==null&&(g=c.deletions,g===null?(c.deletions=[a],c.flags|=16):g.push(a)),c.child=E,c.memoizedState=null,E}function Iy(a,c){return c=Oh({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function mh(a,c,g,E){return E!==null&&iy(E),Al(c,a.child,null,g),a=Iy(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Y$(a,c,g,E,C,A,q){if(g)return c.flags&256?(c.flags&=-257,E=ky(Error(n(422))),mh(a,c,q,E)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=E.fallback,C=c.mode,E=Oh({mode:"visible",children:E.children},C,0,null),A=wa(A,C,q,null),A.flags|=2,E.return=c,A.return=c,E.sibling=A,c.child=E,(c.mode&1)!==0&&Al(c,a.child,null,q),c.child.memoizedState=Dy(q),c.memoizedState=Ny,A);if((c.mode&1)===0)return mh(a,c,q,null);if(C.data==="$!"){if(E=C.nextSibling&&C.nextSibling.dataset,E)var Z=E.dgst;return E=Z,A=Error(n(419)),E=ky(A,E,void 0),mh(a,c,q,E)}if(Z=(q&a.childLanes)!==0,Br||Z){if(E=Bn,E!==null){switch(q&-q){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(E.suspendedLanes|q))!==0?0:C,C!==0&&C!==A.retryLane&&(A.retryLane=C,ks(a,C),Pi(E,a,C,-1))}return Yy(),E=ky(Error(n(421))),mh(a,c,q,E)}return C.data==="$?"?(c.flags|=128,c.child=a.child,c=oB.bind(null,a),C._reactRetry=c,null):(a=A.treeContext,Xr=uo(C.nextSibling),Qr=c,sn=!0,Ni=null,a!==null&&(ci[di++]=Ss,ci[di++]=Es,ci[di++]=ca,Ss=a.id,Es=a.overflow,ca=c),c=Iy(c,E.children),c.flags|=4096,c)}function HT(a,c,g){a.lanes|=c;var E=a.alternate;E!==null&&(E.lanes|=c),ly(a.return,c,g)}function Ay(a,c,g,E,C){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:C}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=E,A.tail=g,A.tailMode=C)}function zT(a,c,g){var E=c.pendingProps,C=E.revealOrder,A=E.tail;if(Or(a,c,E.children,g),E=an.current,(E&2)!==0)E=E&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&HT(a,g,c);else if(a.tag===19)HT(a,g,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}E&=1}if(zt(an,E),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(g=c.child,C=null;g!==null;)a=g.alternate,a!==null&&uh(a)===null&&(C=g),g=g.sibling;g=C,g===null?(C=c.child,c.child=null):(C=g.sibling,g.sibling=null),Ay(c,!1,C,g,A);break;case"backwards":for(g=null,C=c.child,c.child=null;C!==null;){if(a=C.alternate,a!==null&&uh(a)===null){c.child=C;break}a=C.sibling,C.sibling=g,g=C,C=a}Ay(c,!0,g,null,A);break;case"together":Ay(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function gh(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Cs(a,c,g){if(a!==null&&(c.dependencies=a.dependencies),ma|=c.lanes,(g&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,g=_o(a,a.pendingProps),c.child=g,g.return=c;a.sibling!==null;)a=a.sibling,g=g.sibling=_o(a,a.pendingProps),g.return=c;g.sibling=null}return c.child}function G$(a,c,g){switch(c.tag){case 3:VT(c),Nl();break;case 5:lT(c);break;case 1:$r(c.type)&&Jf(c);break;case 4:hy(c,c.stateNode.containerInfo);break;case 10:var E=c.type._context,C=c.memoizedProps.value;zt(rh,E._currentValue),E._currentValue=C;break;case 13:if(E=c.memoizedState,E!==null)return E.dehydrated!==null?(zt(an,an.current&1),c.flags|=128,null):(g&c.child.childLanes)!==0?qT(a,c,g):(zt(an,an.current&1),a=Cs(a,c,g),a!==null?a.sibling:null);zt(an,an.current&1);break;case 19:if(E=(g&c.childLanes)!==0,(a.flags&128)!==0){if(E)return zT(a,c,g);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),zt(an,an.current),E)break;return null;case 22:case 23:return c.lanes=0,FT(a,c,g)}return Cs(a,c,g)}var WT,Py,YT,GT;WT=function(a,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Py=function(){},YT=function(a,c,g,E){var C=a.memoizedProps;if(C!==E){a=c.stateNode,ha(Ki.current);var A=null;switch(g){case"input":C=He(a,C),E=He(a,E),A=[];break;case"select":C=M({},C,{value:void 0}),E=M({},E,{value:void 0}),A=[];break;case"textarea":C=pe(a,C),E=pe(a,E),A=[];break;default:typeof C.onClick!="function"&&typeof E.onClick=="function"&&(a.onclick=Kf)}ie(g,E);var q;g=null;for(ue in C)if(!E.hasOwnProperty(ue)&&C.hasOwnProperty(ue)&&C[ue]!=null)if(ue==="style"){var Z=C[ue];for(q in Z)Z.hasOwnProperty(q)&&(g||(g={}),g[q]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?A||(A=[]):(A=A||[]).push(ue,null));for(ue in E){var te=E[ue];if(Z=C!=null?C[ue]:void 0,E.hasOwnProperty(ue)&&te!==Z&&(te!=null||Z!=null))if(ue==="style")if(Z){for(q in Z)!Z.hasOwnProperty(q)||te&&te.hasOwnProperty(q)||(g||(g={}),g[q]="");for(q in te)te.hasOwnProperty(q)&&Z[q]!==te[q]&&(g||(g={}),g[q]=te[q])}else g||(A||(A=[]),A.push(ue,g)),g=te;else ue==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Z=Z?Z.__html:void 0,te!=null&&Z!==te&&(A=A||[]).push(ue,te)):ue==="children"?typeof te!="string"&&typeof te!="number"||(A=A||[]).push(ue,""+te):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(te!=null&&ue==="onScroll"&&Kt("scroll",a),A||Z===te||(A=[])):(A=A||[]).push(ue,te))}g&&(A=A||[]).push("style",g);var ue=A;(c.updateQueue=ue)&&(c.flags|=4)}},GT=function(a,c,g,E){g!==E&&(c.flags|=4)};function _c(a,c){if(!sn)switch(a.tailMode){case"hidden":c=a.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:E.sibling=null}}function cr(a){var c=a.alternate!==null&&a.alternate.child===a.child,g=0,E=0;if(c)for(var C=a.child;C!==null;)g|=C.lanes|C.childLanes,E|=C.subtreeFlags&14680064,E|=C.flags&14680064,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)g|=C.lanes|C.childLanes,E|=C.subtreeFlags,E|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=E,a.childLanes=g,c}function K$(a,c,g){var E=c.pendingProps;switch(ty(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(c),null;case 1:return $r(c.type)&&Xf(),cr(c),null;case 3:return E=c.stateNode,Pl(),Qt(Fr),Qt(lr),gy(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(a===null||a.child===null)&&(nh(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ni!==null&&(Hy(Ni),Ni=null))),Py(a,c),cr(c),null;case 5:py(c);var C=ha(gc.current);if(g=c.type,a!==null&&c.stateNode!=null)YT(a,c,g,E,C),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!E){if(c.stateNode===null)throw Error(n(166));return cr(c),null}if(a=ha(Ki.current),nh(c)){E=c.stateNode,g=c.type;var A=c.memoizedProps;switch(E[Gi]=c,E[dc]=A,a=(c.mode&1)!==0,g){case"dialog":Kt("cancel",E),Kt("close",E);break;case"iframe":case"object":case"embed":Kt("load",E);break;case"video":case"audio":for(C=0;C<lc.length;C++)Kt(lc[C],E);break;case"source":Kt("error",E);break;case"img":case"image":case"link":Kt("error",E),Kt("load",E);break;case"details":Kt("toggle",E);break;case"input":Xe(E,A),Kt("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!A.multiple},Kt("invalid",E);break;case"textarea":ot(E,A),Kt("invalid",E)}ie(g,A),C=null;for(var q in A)if(A.hasOwnProperty(q)){var Z=A[q];q==="children"?typeof Z=="string"?E.textContent!==Z&&(A.suppressHydrationWarning!==!0&&Gf(E.textContent,Z,a),C=["children",Z]):typeof Z=="number"&&E.textContent!==""+Z&&(A.suppressHydrationWarning!==!0&&Gf(E.textContent,Z,a),C=["children",""+Z]):i.hasOwnProperty(q)&&Z!=null&&q==="onScroll"&&Kt("scroll",E)}switch(g){case"input":we(E),de(E,A,!0);break;case"textarea":we(E),it(E);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(E.onclick=Kf)}E=C,c.updateQueue=E,E!==null&&(c.flags|=4)}else{q=C.nodeType===9?C:C.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Gn(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=q.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof E.is=="string"?a=q.createElement(g,{is:E.is}):(a=q.createElement(g),g==="select"&&(q=a,E.multiple?q.multiple=!0:E.size&&(q.size=E.size))):a=q.createElementNS(a,g),a[Gi]=c,a[dc]=E,WT(a,c,!1,!1),c.stateNode=a;e:{switch(q=ve(g,E),g){case"dialog":Kt("cancel",a),Kt("close",a),C=E;break;case"iframe":case"object":case"embed":Kt("load",a),C=E;break;case"video":case"audio":for(C=0;C<lc.length;C++)Kt(lc[C],a);C=E;break;case"source":Kt("error",a),C=E;break;case"img":case"image":case"link":Kt("error",a),Kt("load",a),C=E;break;case"details":Kt("toggle",a),C=E;break;case"input":Xe(a,E),C=He(a,E),Kt("invalid",a);break;case"option":C=E;break;case"select":a._wrapperState={wasMultiple:!!E.multiple},C=M({},E,{value:void 0}),Kt("invalid",a);break;case"textarea":ot(a,E),C=pe(a,E),Kt("invalid",a);break;default:C=E}ie(g,C),Z=C;for(A in Z)if(Z.hasOwnProperty(A)){var te=Z[A];A==="style"?Cf(a,te):A==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&gl(a,te)):A==="children"?typeof te=="string"?(g!=="textarea"||te!=="")&&Bt(a,te):typeof te=="number"&&Bt(a,""+te):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?te!=null&&A==="onScroll"&&Kt("scroll",a):te!=null&&k(a,A,te,q))}switch(g){case"input":we(a),de(a,E,!1);break;case"textarea":we(a),it(a);break;case"option":E.value!=null&&a.setAttribute("value",""+ee(E.value));break;case"select":a.multiple=!!E.multiple,A=E.value,A!=null?Ee(a,!!E.multiple,A,!1):E.defaultValue!=null&&Ee(a,!!E.multiple,E.defaultValue,!0);break;default:typeof C.onClick=="function"&&(a.onclick=Kf)}switch(g){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return cr(c),null;case 6:if(a&&c.stateNode!=null)GT(a,c,a.memoizedProps,E);else{if(typeof E!="string"&&c.stateNode===null)throw Error(n(166));if(g=ha(gc.current),ha(Ki.current),nh(c)){if(E=c.stateNode,g=c.memoizedProps,E[Gi]=c,(A=E.nodeValue!==g)&&(a=Qr,a!==null))switch(a.tag){case 3:Gf(E.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Gf(E.nodeValue,g,(a.mode&1)!==0)}A&&(c.flags|=4)}else E=(g.nodeType===9?g:g.ownerDocument).createTextNode(E),E[Gi]=c,c.stateNode=E}return cr(c),null;case 13:if(Qt(an),E=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(sn&&Xr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Qk(),Nl(),c.flags|=98560,A=!1;else if(A=nh(c),E!==null&&E.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Gi]=c}else Nl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cr(c),A=!1}else Ni!==null&&(Hy(Ni),Ni=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=g,c):(E=E!==null,E!==(a!==null&&a.memoizedState!==null)&&E&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(an.current&1)!==0?Pn===0&&(Pn=3):Yy())),c.updateQueue!==null&&(c.flags|=4),cr(c),null);case 4:return Pl(),Py(a,c),a===null&&uc(c.stateNode.containerInfo),cr(c),null;case 10:return ay(c.type._context),cr(c),null;case 17:return $r(c.type)&&Xf(),cr(c),null;case 19:if(Qt(an),A=c.memoizedState,A===null)return cr(c),null;if(E=(c.flags&128)!==0,q=A.rendering,q===null)if(E)_c(A,!1);else{if(Pn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(q=uh(a),q!==null){for(c.flags|=128,_c(A,!1),E=q.updateQueue,E!==null&&(c.updateQueue=E,c.flags|=4),c.subtreeFlags=0,E=g,g=c.child;g!==null;)A=g,a=E,A.flags&=14680066,q=A.alternate,q===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=q.childLanes,A.lanes=q.lanes,A.child=q.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=q.memoizedProps,A.memoizedState=q.memoizedState,A.updateQueue=q.updateQueue,A.type=q.type,a=q.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return zt(an,an.current&1|2),c.child}a=a.sibling}A.tail!==null&&bn()>jl&&(c.flags|=128,E=!0,_c(A,!1),c.lanes=4194304)}else{if(!E)if(a=uh(q),a!==null){if(c.flags|=128,E=!0,g=a.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),_c(A,!0),A.tail===null&&A.tailMode==="hidden"&&!q.alternate&&!sn)return cr(c),null}else 2*bn()-A.renderingStartTime>jl&&g!==1073741824&&(c.flags|=128,E=!0,_c(A,!1),c.lanes=4194304);A.isBackwards?(q.sibling=c.child,c.child=q):(g=A.last,g!==null?g.sibling=q:c.child=q,A.last=q)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=bn(),c.sibling=null,g=an.current,zt(an,E?g&1|2:g&1),c):(cr(c),null);case 22:case 23:return Wy(),E=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==E&&(c.flags|=8192),E&&(c.mode&1)!==0?(Jr&1073741824)!==0&&(cr(c),c.subtreeFlags&6&&(c.flags|=8192)):cr(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function Q$(a,c){switch(ty(c),c.tag){case 1:return $r(c.type)&&Xf(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Pl(),Qt(Fr),Qt(lr),gy(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return py(c),null;case 13:if(Qt(an),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Nl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Qt(an),null;case 4:return Pl(),null;case 10:return ay(c.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var vh=!1,dr=!1,X$=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Ml(a,c){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(E){hn(a,c,E)}else g.current=null}function Ry(a,c,g){try{g()}catch(E){hn(a,c,E)}}var KT=!1;function J$(a,c){if(Wv=jf,a=Tk(),Fv(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var C=E.anchorOffset,A=E.focusNode;E=E.focusOffset;try{g.nodeType,A.nodeType}catch{g=null;break e}var q=0,Z=-1,te=-1,ue=0,ge=0,ye=a,me=null;t:for(;;){for(var Ne;ye!==g||C!==0&&ye.nodeType!==3||(Z=q+C),ye!==A||E!==0&&ye.nodeType!==3||(te=q+E),ye.nodeType===3&&(q+=ye.nodeValue.length),(Ne=ye.firstChild)!==null;)me=ye,ye=Ne;for(;;){if(ye===a)break t;if(me===g&&++ue===C&&(Z=q),me===A&&++ge===E&&(te=q),(Ne=ye.nextSibling)!==null)break;ye=me,me=ye.parentNode}ye=Ne}g=Z===-1||te===-1?null:{start:Z,end:te}}else g=null}g=g||{start:0,end:0}}else g=null;for(Yv={focusedElem:a,selectionRange:g},jf=!1,Re=c;Re!==null;)if(c=Re,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Re=a;else for(;Re!==null;){c=Re;try{var Le=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var je=Le.memoizedProps,_n=Le.memoizedState,oe=c.stateNode,ne=oe.getSnapshotBeforeUpdate(c.elementType===c.type?je:Di(c.type,je),_n);oe.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var le=c.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){hn(c,c.return,_e)}if(a=c.sibling,a!==null){a.return=c.return,Re=a;break}Re=c.return}return Le=KT,KT=!1,Le}function xc(a,c,g){var E=c.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var C=E=E.next;do{if((C.tag&a)===a){var A=C.destroy;C.destroy=void 0,A!==void 0&&Ry(c,g,A)}C=C.next}while(C!==E)}}function yh(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&a)===a){var E=g.create;g.destroy=E()}g=g.next}while(g!==c)}}function My(a){var c=a.ref;if(c!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof c=="function"?c(a):c.current=a}}function QT(a){var c=a.alternate;c!==null&&(a.alternate=null,QT(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Gi],delete c[dc],delete c[Xv],delete c[R$],delete c[M$])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function XT(a){return a.tag===5||a.tag===3||a.tag===4}function JT(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||XT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ly(a,c,g){var E=a.tag;if(E===5||E===6)a=a.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(a,c):g.insertBefore(a,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(a,g)):(c=g,c.appendChild(a)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=Kf));else if(E!==4&&(a=a.child,a!==null))for(Ly(a,c,g),a=a.sibling;a!==null;)Ly(a,c,g),a=a.sibling}function jy(a,c,g){var E=a.tag;if(E===5||E===6)a=a.stateNode,c?g.insertBefore(a,c):g.appendChild(a);else if(E!==4&&(a=a.child,a!==null))for(jy(a,c,g),a=a.sibling;a!==null;)jy(a,c,g),a=a.sibling}var Qn=null,Ii=!1;function go(a,c,g){for(g=g.child;g!==null;)ZT(a,c,g),g=g.sibling}function ZT(a,c,g){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(If,g)}catch{}switch(g.tag){case 5:dr||Ml(g,c);case 6:var E=Qn,C=Ii;Qn=null,go(a,c,g),Qn=E,Ii=C,Qn!==null&&(Ii?(a=Qn,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Qn.removeChild(g.stateNode));break;case 18:Qn!==null&&(Ii?(a=Qn,g=g.stateNode,a.nodeType===8?Qv(a.parentNode,g):a.nodeType===1&&Qv(a,g),ec(a)):Qv(Qn,g.stateNode));break;case 4:E=Qn,C=Ii,Qn=g.stateNode.containerInfo,Ii=!0,go(a,c,g),Qn=E,Ii=C;break;case 0:case 11:case 14:case 15:if(!dr&&(E=g.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){C=E=E.next;do{var A=C,q=A.destroy;A=A.tag,q!==void 0&&((A&2)!==0||(A&4)!==0)&&Ry(g,c,q),C=C.next}while(C!==E)}go(a,c,g);break;case 1:if(!dr&&(Ml(g,c),E=g.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=g.memoizedProps,E.state=g.memoizedState,E.componentWillUnmount()}catch(Z){hn(g,c,Z)}go(a,c,g);break;case 21:go(a,c,g);break;case 22:g.mode&1?(dr=(E=dr)||g.memoizedState!==null,go(a,c,g),dr=E):go(a,c,g);break;default:go(a,c,g)}}function eC(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new X$),c.forEach(function(E){var C=aB.bind(null,a,E);g.has(E)||(g.add(E),E.then(C,C))})}}function Ai(a,c){var g=c.deletions;if(g!==null)for(var E=0;E<g.length;E++){var C=g[E];try{var A=a,q=c,Z=q;e:for(;Z!==null;){switch(Z.tag){case 5:Qn=Z.stateNode,Ii=!1;break e;case 3:Qn=Z.stateNode.containerInfo,Ii=!0;break e;case 4:Qn=Z.stateNode.containerInfo,Ii=!0;break e}Z=Z.return}if(Qn===null)throw Error(n(160));ZT(A,q,C),Qn=null,Ii=!1;var te=C.alternate;te!==null&&(te.return=null),C.return=null}catch(ue){hn(C,c,ue)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)tC(c,a),c=c.sibling}function tC(a,c){var g=a.alternate,E=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ai(c,a),Xi(a),E&4){try{xc(3,a,a.return),yh(3,a)}catch(je){hn(a,a.return,je)}try{xc(5,a,a.return)}catch(je){hn(a,a.return,je)}}break;case 1:Ai(c,a),Xi(a),E&512&&g!==null&&Ml(g,g.return);break;case 5:if(Ai(c,a),Xi(a),E&512&&g!==null&&Ml(g,g.return),a.flags&32){var C=a.stateNode;try{Bt(C,"")}catch(je){hn(a,a.return,je)}}if(E&4&&(C=a.stateNode,C!=null)){var A=a.memoizedProps,q=g!==null?g.memoizedProps:A,Z=a.type,te=a.updateQueue;if(a.updateQueue=null,te!==null)try{Z==="input"&&A.type==="radio"&&A.name!=null&&_t(C,A),ve(Z,q);var ue=ve(Z,A);for(q=0;q<te.length;q+=2){var ge=te[q],ye=te[q+1];ge==="style"?Cf(C,ye):ge==="dangerouslySetInnerHTML"?gl(C,ye):ge==="children"?Bt(C,ye):k(C,ge,ye,ue)}switch(Z){case"input":$t(C,A);break;case"textarea":tt(C,A);break;case"select":var me=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!A.multiple;var Ne=A.value;Ne!=null?Ee(C,!!A.multiple,Ne,!1):me!==!!A.multiple&&(A.defaultValue!=null?Ee(C,!!A.multiple,A.defaultValue,!0):Ee(C,!!A.multiple,A.multiple?[]:"",!1))}C[dc]=A}catch(je){hn(a,a.return,je)}}break;case 6:if(Ai(c,a),Xi(a),E&4){if(a.stateNode===null)throw Error(n(162));C=a.stateNode,A=a.memoizedProps;try{C.nodeValue=A}catch(je){hn(a,a.return,je)}}break;case 3:if(Ai(c,a),Xi(a),E&4&&g!==null&&g.memoizedState.isDehydrated)try{ec(c.containerInfo)}catch(je){hn(a,a.return,je)}break;case 4:Ai(c,a),Xi(a);break;case 13:Ai(c,a),Xi(a),C=a.child,C.flags&8192&&(A=C.memoizedState!==null,C.stateNode.isHidden=A,!A||C.alternate!==null&&C.alternate.memoizedState!==null||(By=bn())),E&4&&eC(a);break;case 22:if(ge=g!==null&&g.memoizedState!==null,a.mode&1?(dr=(ue=dr)||ge,Ai(c,a),dr=ue):Ai(c,a),Xi(a),E&8192){if(ue=a.memoizedState!==null,(a.stateNode.isHidden=ue)&&!ge&&(a.mode&1)!==0)for(Re=a,ge=a.child;ge!==null;){for(ye=Re=ge;Re!==null;){switch(me=Re,Ne=me.child,me.tag){case 0:case 11:case 14:case 15:xc(4,me,me.return);break;case 1:Ml(me,me.return);var Le=me.stateNode;if(typeof Le.componentWillUnmount=="function"){E=me,g=me.return;try{c=E,Le.props=c.memoizedProps,Le.state=c.memoizedState,Le.componentWillUnmount()}catch(je){hn(E,g,je)}}break;case 5:Ml(me,me.return);break;case 22:if(me.memoizedState!==null){iC(ye);continue}}Ne!==null?(Ne.return=me,Re=Ne):iC(ye)}ge=ge.sibling}e:for(ge=null,ye=a;;){if(ye.tag===5){if(ge===null){ge=ye;try{C=ye.stateNode,ue?(A=C.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(Z=ye.stateNode,te=ye.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null,Z.style.display=Tf("display",q))}catch(je){hn(a,a.return,je)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ue?"":ye.memoizedProps}catch(je){hn(a,a.return,je)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ai(c,a),Xi(a),E&4&&eC(a);break;case 21:break;default:Ai(c,a),Xi(a)}}function Xi(a){var c=a.flags;if(c&2){try{e:{for(var g=a.return;g!==null;){if(XT(g)){var E=g;break e}g=g.return}throw Error(n(160))}switch(E.tag){case 5:var C=E.stateNode;E.flags&32&&(Bt(C,""),E.flags&=-33);var A=JT(a);jy(a,A,C);break;case 3:case 4:var q=E.stateNode.containerInfo,Z=JT(a);Ly(a,Z,q);break;default:throw Error(n(161))}}catch(te){hn(a,a.return,te)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function Z$(a,c,g){Re=a,nC(a)}function nC(a,c,g){for(var E=(a.mode&1)!==0;Re!==null;){var C=Re,A=C.child;if(C.tag===22&&E){var q=C.memoizedState!==null||vh;if(!q){var Z=C.alternate,te=Z!==null&&Z.memoizedState!==null||dr;Z=vh;var ue=dr;if(vh=q,(dr=te)&&!ue)for(Re=C;Re!==null;)q=Re,te=q.child,q.tag===22&&q.memoizedState!==null?sC(C):te!==null?(te.return=q,Re=te):sC(C);for(;A!==null;)Re=A,nC(A),A=A.sibling;Re=C,vh=Z,dr=ue}rC(a)}else(C.subtreeFlags&8772)!==0&&A!==null?(A.return=C,Re=A):rC(a)}}function rC(a){for(;Re!==null;){var c=Re;if((c.flags&8772)!==0){var g=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:dr||yh(5,c);break;case 1:var E=c.stateNode;if(c.flags&4&&!dr)if(g===null)E.componentDidMount();else{var C=c.elementType===c.type?g.memoizedProps:Di(c.type,g.memoizedProps);E.componentDidUpdate(C,g.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&eT(c,A,E);break;case 3:var q=c.updateQueue;if(q!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=c.child.stateNode;break;case 1:g=c.child.stateNode}eT(c,q,g)}break;case 5:var Z=c.stateNode;if(g===null&&c.flags&4){g=Z;var te=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&g.focus();break;case"img":te.src&&(g.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ue=c.alternate;if(ue!==null){var ge=ue.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&ec(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dr||c.flags&512&&My(c)}catch(me){hn(c,c.return,me)}}if(c===a){Re=null;break}if(g=c.sibling,g!==null){g.return=c.return,Re=g;break}Re=c.return}}function iC(a){for(;Re!==null;){var c=Re;if(c===a){Re=null;break}var g=c.sibling;if(g!==null){g.return=c.return,Re=g;break}Re=c.return}}function sC(a){for(;Re!==null;){var c=Re;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{yh(4,c)}catch(te){hn(c,g,te)}break;case 1:var E=c.stateNode;if(typeof E.componentDidMount=="function"){var C=c.return;try{E.componentDidMount()}catch(te){hn(c,C,te)}}var A=c.return;try{My(c)}catch(te){hn(c,A,te)}break;case 5:var q=c.return;try{My(c)}catch(te){hn(c,q,te)}}}catch(te){hn(c,c.return,te)}if(c===a){Re=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,Re=Z;break}Re=c.return}}var eB=Math.ceil,wh=S.ReactCurrentDispatcher,Fy=S.ReactCurrentOwner,pi=S.ReactCurrentBatchConfig,wt=0,Bn=null,kn=null,Xn=0,Jr=0,Ll=co(0),Pn=0,Sc=null,ma=0,bh=0,$y=0,Ec=null,Vr=null,By=0,jl=1/0,Os=null,_h=!1,Vy=null,vo=null,xh=!1,yo=null,Sh=0,kc=0,Uy=null,Eh=-1,kh=0;function Nr(){return(wt&6)!==0?bn():Eh!==-1?Eh:Eh=bn()}function wo(a){return(a.mode&1)===0?1:(wt&2)!==0&&Xn!==0?Xn&-Xn:j$.transition!==null?(kh===0&&(kh=XE()),kh):(a=It,a!==0||(a=window.event,a=a===void 0?16:ok(a.type)),a)}function Pi(a,c,g,E){if(50<kc)throw kc=0,Uy=null,Error(n(185));Ku(a,g,E),((wt&2)===0||a!==Bn)&&(a===Bn&&((wt&2)===0&&(bh|=g),Pn===4&&bo(a,Xn)),Ur(a,E),g===1&&wt===0&&(c.mode&1)===0&&(jl=bn()+500,Zf&&ho()))}function Ur(a,c){var g=a.callbackNode;j5(a,c);var E=Rf(a,a===Bn?Xn:0);if(E===0)g!==null&&GE(g),a.callbackNode=null,a.callbackPriority=0;else if(c=E&-E,a.callbackPriority!==c){if(g!=null&&GE(g),c===1)a.tag===0?L$(aC.bind(null,a)):zk(aC.bind(null,a)),A$(function(){(wt&6)===0&&ho()}),g=null;else{switch(JE(E)){case 1:g=_v;break;case 4:g=KE;break;case 16:g=Df;break;case 536870912:g=QE;break;default:g=Df}g=mC(g,oC.bind(null,a))}a.callbackPriority=c,a.callbackNode=g}}function oC(a,c){if(Eh=-1,kh=0,(wt&6)!==0)throw Error(n(327));var g=a.callbackNode;if(Fl()&&a.callbackNode!==g)return null;var E=Rf(a,a===Bn?Xn:0);if(E===0)return null;if((E&30)!==0||(E&a.expiredLanes)!==0||c)c=Th(a,E);else{c=E;var C=wt;wt|=2;var A=uC();(Bn!==a||Xn!==c)&&(Os=null,jl=bn()+500,va(a,c));do try{rB();break}catch(Z){lC(a,Z)}while(!0);oy(),wh.current=A,wt=C,kn!==null?c=0:(Bn=null,Xn=0,c=Pn)}if(c!==0){if(c===2&&(C=xv(a),C!==0&&(E=C,c=qy(a,C))),c===1)throw g=Sc,va(a,0),bo(a,E),Ur(a,bn()),g;if(c===6)bo(a,E);else{if(C=a.current.alternate,(E&30)===0&&!tB(C)&&(c=Th(a,E),c===2&&(A=xv(a),A!==0&&(E=A,c=qy(a,A))),c===1))throw g=Sc,va(a,0),bo(a,E),Ur(a,bn()),g;switch(a.finishedWork=C,a.finishedLanes=E,c){case 0:case 1:throw Error(n(345));case 2:ya(a,Vr,Os);break;case 3:if(bo(a,E),(E&130023424)===E&&(c=By+500-bn(),10<c)){if(Rf(a,0)!==0)break;if(C=a.suspendedLanes,(C&E)!==E){Nr(),a.pingedLanes|=a.suspendedLanes&C;break}a.timeoutHandle=Kv(ya.bind(null,a,Vr,Os),c);break}ya(a,Vr,Os);break;case 4:if(bo(a,E),(E&4194240)===E)break;for(c=a.eventTimes,C=-1;0<E;){var q=31-Ci(E);A=1<<q,q=c[q],q>C&&(C=q),E&=~A}if(E=C,E=bn()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*eB(E/1960))-E,10<E){a.timeoutHandle=Kv(ya.bind(null,a,Vr,Os),E);break}ya(a,Vr,Os);break;case 5:ya(a,Vr,Os);break;default:throw Error(n(329))}}}return Ur(a,bn()),a.callbackNode===g?oC.bind(null,a):null}function qy(a,c){var g=Ec;return a.current.memoizedState.isDehydrated&&(va(a,c).flags|=256),a=Th(a,c),a!==2&&(c=Vr,Vr=g,c!==null&&Hy(c)),a}function Hy(a){Vr===null?Vr=a:Vr.push.apply(Vr,a)}function tB(a){for(var c=a;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var E=0;E<g.length;E++){var C=g[E],A=C.getSnapshot;C=C.value;try{if(!Oi(A(),C))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function bo(a,c){for(c&=~$y,c&=~bh,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var g=31-Ci(c),E=1<<g;a[g]=-1,c&=~E}}function aC(a){if((wt&6)!==0)throw Error(n(327));Fl();var c=Rf(a,0);if((c&1)===0)return Ur(a,bn()),null;var g=Th(a,c);if(a.tag!==0&&g===2){var E=xv(a);E!==0&&(c=E,g=qy(a,E))}if(g===1)throw g=Sc,va(a,0),bo(a,c),Ur(a,bn()),g;if(g===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ya(a,Vr,Os),Ur(a,bn()),null}function zy(a,c){var g=wt;wt|=1;try{return a(c)}finally{wt=g,wt===0&&(jl=bn()+500,Zf&&ho())}}function ga(a){yo!==null&&yo.tag===0&&(wt&6)===0&&Fl();var c=wt;wt|=1;var g=pi.transition,E=It;try{if(pi.transition=null,It=1,a)return a()}finally{It=E,pi.transition=g,wt=c,(wt&6)===0&&ho()}}function Wy(){Jr=Ll.current,Qt(Ll)}function va(a,c){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,I$(g)),kn!==null)for(g=kn.return;g!==null;){var E=g;switch(ty(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Xf();break;case 3:Pl(),Qt(Fr),Qt(lr),gy();break;case 5:py(E);break;case 4:Pl();break;case 13:Qt(an);break;case 19:Qt(an);break;case 10:ay(E.type._context);break;case 22:case 23:Wy()}g=g.return}if(Bn=a,kn=a=_o(a.current,null),Xn=Jr=c,Pn=0,Sc=null,$y=bh=ma=0,Vr=Ec=null,fa!==null){for(c=0;c<fa.length;c++)if(g=fa[c],E=g.interleaved,E!==null){g.interleaved=null;var C=E.next,A=g.pending;if(A!==null){var q=A.next;A.next=C,E.next=q}g.pending=E}fa=null}return a}function lC(a,c){do{var g=kn;try{if(oy(),ch.current=ph,dh){for(var E=ln.memoizedState;E!==null;){var C=E.queue;C!==null&&(C.pending=null),E=E.next}dh=!1}if(pa=0,$n=An=ln=null,vc=!1,yc=0,Fy.current=null,g===null||g.return===null){Pn=1,Sc=c,kn=null;break}e:{var A=a,q=g.return,Z=g,te=c;if(c=Xn,Z.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ue=te,ge=Z,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ne=PT(q);if(Ne!==null){Ne.flags&=-257,RT(Ne,q,Z,A,c),Ne.mode&1&&AT(A,ue,c),c=Ne,te=ue;var Le=c.updateQueue;if(Le===null){var je=new Set;je.add(te),c.updateQueue=je}else Le.add(te);break e}else{if((c&1)===0){AT(A,ue,c),Yy();break e}te=Error(n(426))}}else if(sn&&Z.mode&1){var _n=PT(q);if(_n!==null){(_n.flags&65536)===0&&(_n.flags|=256),RT(_n,q,Z,A,c),iy(Rl(te,Z));break e}}A=te=Rl(te,Z),Pn!==4&&(Pn=2),Ec===null?Ec=[A]:Ec.push(A),A=q;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var oe=DT(A,te,c);Zk(A,oe);break e;case 1:Z=te;var ne=A.type,le=A.stateNode;if((A.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(vo===null||!vo.has(le)))){A.flags|=65536,c&=-c,A.lanes|=c;var _e=IT(A,Z,c);Zk(A,_e);break e}}A=A.return}while(A!==null)}dC(g)}catch($e){c=$e,kn===g&&g!==null&&(kn=g=g.return);continue}break}while(!0)}function uC(){var a=wh.current;return wh.current=ph,a===null?ph:a}function Yy(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Bn===null||(ma&268435455)===0&&(bh&268435455)===0||bo(Bn,Xn)}function Th(a,c){var g=wt;wt|=2;var E=uC();(Bn!==a||Xn!==c)&&(Os=null,va(a,c));do try{nB();break}catch(C){lC(a,C)}while(!0);if(oy(),wt=g,wh.current=E,kn!==null)throw Error(n(261));return Bn=null,Xn=0,Pn}function nB(){for(;kn!==null;)cC(kn)}function rB(){for(;kn!==null&&!O5();)cC(kn)}function cC(a){var c=pC(a.alternate,a,Jr);a.memoizedProps=a.pendingProps,c===null?dC(a):kn=c,Fy.current=null}function dC(a){var c=a;do{var g=c.alternate;if(a=c.return,(c.flags&32768)===0){if(g=K$(g,c,Jr),g!==null){kn=g;return}}else{if(g=Q$(g,c),g!==null){g.flags&=32767,kn=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Pn=6,kn=null;return}}if(c=c.sibling,c!==null){kn=c;return}kn=c=a}while(c!==null);Pn===0&&(Pn=5)}function ya(a,c,g){var E=It,C=pi.transition;try{pi.transition=null,It=1,iB(a,c,g,E)}finally{pi.transition=C,It=E}return null}function iB(a,c,g,E){do Fl();while(yo!==null);if((wt&6)!==0)throw Error(n(327));g=a.finishedWork;var C=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=g.lanes|g.childLanes;if(F5(a,A),a===Bn&&(kn=Bn=null,Xn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||xh||(xh=!0,mC(Df,function(){return Fl(),null})),A=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||A){A=pi.transition,pi.transition=null;var q=It;It=1;var Z=wt;wt|=4,Fy.current=null,J$(a,g),tC(g,a),E$(Yv),jf=!!Wv,Yv=Wv=null,a.current=g,Z$(g),N5(),wt=Z,It=q,pi.transition=A}else a.current=g;if(xh&&(xh=!1,yo=a,Sh=C),A=a.pendingLanes,A===0&&(vo=null),A5(g.stateNode),Ur(a,bn()),c!==null)for(E=a.onRecoverableError,g=0;g<c.length;g++)C=c[g],E(C.value,{componentStack:C.stack,digest:C.digest});if(_h)throw _h=!1,a=Vy,Vy=null,a;return(Sh&1)!==0&&a.tag!==0&&Fl(),A=a.pendingLanes,(A&1)!==0?a===Uy?kc++:(kc=0,Uy=a):kc=0,ho(),null}function Fl(){if(yo!==null){var a=JE(Sh),c=pi.transition,g=It;try{if(pi.transition=null,It=16>a?16:a,yo===null)var E=!1;else{if(a=yo,yo=null,Sh=0,(wt&6)!==0)throw Error(n(331));var C=wt;for(wt|=4,Re=a.current;Re!==null;){var A=Re,q=A.child;if((Re.flags&16)!==0){var Z=A.deletions;if(Z!==null){for(var te=0;te<Z.length;te++){var ue=Z[te];for(Re=ue;Re!==null;){var ge=Re;switch(ge.tag){case 0:case 11:case 15:xc(8,ge,A)}var ye=ge.child;if(ye!==null)ye.return=ge,Re=ye;else for(;Re!==null;){ge=Re;var me=ge.sibling,Ne=ge.return;if(QT(ge),ge===ue){Re=null;break}if(me!==null){me.return=Ne,Re=me;break}Re=Ne}}}var Le=A.alternate;if(Le!==null){var je=Le.child;if(je!==null){Le.child=null;do{var _n=je.sibling;je.sibling=null,je=_n}while(je!==null)}}Re=A}}if((A.subtreeFlags&2064)!==0&&q!==null)q.return=A,Re=q;else e:for(;Re!==null;){if(A=Re,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:xc(9,A,A.return)}var oe=A.sibling;if(oe!==null){oe.return=A.return,Re=oe;break e}Re=A.return}}var ne=a.current;for(Re=ne;Re!==null;){q=Re;var le=q.child;if((q.subtreeFlags&2064)!==0&&le!==null)le.return=q,Re=le;else e:for(q=ne;Re!==null;){if(Z=Re,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:yh(9,Z)}}catch($e){hn(Z,Z.return,$e)}if(Z===q){Re=null;break e}var _e=Z.sibling;if(_e!==null){_e.return=Z.return,Re=_e;break e}Re=Z.return}}if(wt=C,ho(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(If,a)}catch{}E=!0}return E}finally{It=g,pi.transition=c}}return!1}function fC(a,c,g){c=Rl(g,c),c=DT(a,c,1),a=mo(a,c,1),c=Nr(),a!==null&&(Ku(a,1,c),Ur(a,c))}function hn(a,c,g){if(a.tag===3)fC(a,a,g);else for(;c!==null;){if(c.tag===3){fC(c,a,g);break}else if(c.tag===1){var E=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(vo===null||!vo.has(E))){a=Rl(g,a),a=IT(c,a,1),c=mo(c,a,1),a=Nr(),c!==null&&(Ku(c,1,a),Ur(c,a));break}}c=c.return}}function sB(a,c,g){var E=a.pingCache;E!==null&&E.delete(c),c=Nr(),a.pingedLanes|=a.suspendedLanes&g,Bn===a&&(Xn&g)===g&&(Pn===4||Pn===3&&(Xn&130023424)===Xn&&500>bn()-By?va(a,0):$y|=g),Ur(a,c)}function hC(a,c){c===0&&((a.mode&1)===0?c=1:(c=Pf,Pf<<=1,(Pf&130023424)===0&&(Pf=4194304)));var g=Nr();a=ks(a,c),a!==null&&(Ku(a,c,g),Ur(a,g))}function oB(a){var c=a.memoizedState,g=0;c!==null&&(g=c.retryLane),hC(a,g)}function aB(a,c){var g=0;switch(a.tag){case 13:var E=a.stateNode,C=a.memoizedState;C!==null&&(g=C.retryLane);break;case 19:E=a.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(c),hC(a,g)}var pC;pC=function(a,c,g){if(a!==null)if(a.memoizedProps!==c.pendingProps||Fr.current)Br=!0;else{if((a.lanes&g)===0&&(c.flags&128)===0)return Br=!1,G$(a,c,g);Br=(a.flags&131072)!==0}else Br=!1,sn&&(c.flags&1048576)!==0&&Wk(c,th,c.index);switch(c.lanes=0,c.tag){case 2:var E=c.type;gh(a,c),a=c.pendingProps;var C=Tl(c,lr.current);Il(c,g),C=wy(null,c,E,a,C,g);var A=by();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,$r(E)?(A=!0,Jf(c)):A=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,cy(c),C.updater=ah,c.stateNode=C,C._reactInternals=c,fy(c,E,a,g),c=Oy(null,c,E,!0,A,g)):(c.tag=0,sn&&A&&ey(c),Or(null,c,C,g),c=c.child),c;case 16:E=c.elementType;e:{switch(gh(a,c),a=c.pendingProps,C=E._init,E=C(E._payload),c.type=E,C=c.tag=uB(E),a=Di(E,a),C){case 0:c=Cy(null,c,E,a,g);break e;case 1:c=BT(null,c,E,a,g);break e;case 11:c=MT(null,c,E,a,g);break e;case 14:c=LT(null,c,E,Di(E.type,a),g);break e}throw Error(n(306,E,""))}return c;case 0:return E=c.type,C=c.pendingProps,C=c.elementType===E?C:Di(E,C),Cy(a,c,E,C,g);case 1:return E=c.type,C=c.pendingProps,C=c.elementType===E?C:Di(E,C),BT(a,c,E,C,g);case 3:e:{if(VT(c),a===null)throw Error(n(387));E=c.pendingProps,A=c.memoizedState,C=A.element,Jk(a,c),oh(c,E,null,g);var q=c.memoizedState;if(E=q.element,A.isDehydrated)if(A={element:E,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){C=Rl(Error(n(423)),c),c=UT(a,c,E,g,C);break e}else if(E!==C){C=Rl(Error(n(424)),c),c=UT(a,c,E,g,C);break e}else for(Xr=uo(c.stateNode.containerInfo.firstChild),Qr=c,sn=!0,Ni=null,g=aT(c,null,E,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Nl(),E===C){c=Cs(a,c,g);break e}Or(a,c,E,g)}c=c.child}return c;case 5:return lT(c),a===null&&ry(c),E=c.type,C=c.pendingProps,A=a!==null?a.memoizedProps:null,q=C.children,Gv(E,C)?q=null:A!==null&&Gv(E,A)&&(c.flags|=32),$T(a,c),Or(a,c,q,g),c.child;case 6:return a===null&&ry(c),null;case 13:return qT(a,c,g);case 4:return hy(c,c.stateNode.containerInfo),E=c.pendingProps,a===null?c.child=Al(c,null,E,g):Or(a,c,E,g),c.child;case 11:return E=c.type,C=c.pendingProps,C=c.elementType===E?C:Di(E,C),MT(a,c,E,C,g);case 7:return Or(a,c,c.pendingProps,g),c.child;case 8:return Or(a,c,c.pendingProps.children,g),c.child;case 12:return Or(a,c,c.pendingProps.children,g),c.child;case 10:e:{if(E=c.type._context,C=c.pendingProps,A=c.memoizedProps,q=C.value,zt(rh,E._currentValue),E._currentValue=q,A!==null)if(Oi(A.value,q)){if(A.children===C.children&&!Fr.current){c=Cs(a,c,g);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var Z=A.dependencies;if(Z!==null){q=A.child;for(var te=Z.firstContext;te!==null;){if(te.context===E){if(A.tag===1){te=Ts(-1,g&-g),te.tag=2;var ue=A.updateQueue;if(ue!==null){ue=ue.shared;var ge=ue.pending;ge===null?te.next=te:(te.next=ge.next,ge.next=te),ue.pending=te}}A.lanes|=g,te=A.alternate,te!==null&&(te.lanes|=g),ly(A.return,g,c),Z.lanes|=g;break}te=te.next}}else if(A.tag===10)q=A.type===c.type?null:A.child;else if(A.tag===18){if(q=A.return,q===null)throw Error(n(341));q.lanes|=g,Z=q.alternate,Z!==null&&(Z.lanes|=g),ly(q,g,c),q=A.sibling}else q=A.child;if(q!==null)q.return=A;else for(q=A;q!==null;){if(q===c){q=null;break}if(A=q.sibling,A!==null){A.return=q.return,q=A;break}q=q.return}A=q}Or(a,c,C.children,g),c=c.child}return c;case 9:return C=c.type,E=c.pendingProps.children,Il(c,g),C=fi(C),E=E(C),c.flags|=1,Or(a,c,E,g),c.child;case 14:return E=c.type,C=Di(E,c.pendingProps),C=Di(E.type,C),LT(a,c,E,C,g);case 15:return jT(a,c,c.type,c.pendingProps,g);case 17:return E=c.type,C=c.pendingProps,C=c.elementType===E?C:Di(E,C),gh(a,c),c.tag=1,$r(E)?(a=!0,Jf(c)):a=!1,Il(c,g),rT(c,E,C),fy(c,E,C,g),Oy(null,c,E,!0,a,g);case 19:return zT(a,c,g);case 22:return FT(a,c,g)}throw Error(n(156,c.tag))};function mC(a,c){return YE(a,c)}function lB(a,c,g,E){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(a,c,g,E){return new lB(a,c,g,E)}function Gy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function uB(a){if(typeof a=="function")return Gy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===P)return 11;if(a===U)return 14}return 2}function _o(a,c){var g=a.alternate;return g===null?(g=mi(a.tag,c,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=c,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,c=a.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function Ch(a,c,g,E,C,A){var q=2;if(E=a,typeof a=="function")Gy(a)&&(q=1);else if(typeof a=="string")q=5;else e:switch(a){case O:return wa(g.children,C,A,c);case D:q=8,C|=8;break;case j:return a=mi(12,g,c,C|2),a.elementType=j,a.lanes=A,a;case L:return a=mi(13,g,c,C),a.elementType=L,a.lanes=A,a;case B:return a=mi(19,g,c,C),a.elementType=B,a.lanes=A,a;case Y:return Oh(g,C,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:q=10;break e;case I:q=9;break e;case P:q=11;break e;case U:q=14;break e;case V:q=16,E=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=mi(q,g,c,C),c.elementType=a,c.type=E,c.lanes=A,c}function wa(a,c,g,E){return a=mi(7,a,E,c),a.lanes=g,a}function Oh(a,c,g,E){return a=mi(22,a,E,c),a.elementType=Y,a.lanes=g,a.stateNode={isHidden:!1},a}function Ky(a,c,g){return a=mi(6,a,null,c),a.lanes=g,a}function Qy(a,c,g){return c=mi(4,a.children!==null?a.children:[],a.key,c),c.lanes=g,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function cB(a,c,g,E,C){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sv(0),this.expirationTimes=Sv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sv(0),this.identifierPrefix=E,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Xy(a,c,g,E,C,A,q,Z,te){return a=new cB(a,c,g,Z,te),c===1?(c=1,A===!0&&(c|=8)):c=0,A=mi(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:E,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(A),a}function dB(a,c,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:E==null?null:""+E,children:a,containerInfo:c,implementation:g}}function gC(a){if(!a)return fo;a=a._reactInternals;e:{if(aa(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if($r(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var g=a.type;if($r(g))return qk(a,g,c)}return c}function vC(a,c,g,E,C,A,q,Z,te){return a=Xy(g,E,!0,a,C,A,q,Z,te),a.context=gC(null),g=a.current,E=Nr(),C=wo(g),A=Ts(E,C),A.callback=c??null,mo(g,A,C),a.current.lanes=C,Ku(a,C,E),Ur(a,E),a}function Nh(a,c,g,E){var C=c.current,A=Nr(),q=wo(C);return g=gC(g),c.context===null?c.context=g:c.pendingContext=g,c=Ts(A,q),c.payload={element:a},E=E===void 0?null:E,E!==null&&(c.callback=E),a=mo(C,c,q),a!==null&&(Pi(a,C,q,A),sh(a,C,q)),q}function Dh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function yC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<c?g:c}}function Jy(a,c){yC(a,c),(a=a.alternate)&&yC(a,c)}function fB(){return null}var wC=typeof reportError=="function"?reportError:function(a){console.error(a)};function Zy(a){this._internalRoot=a}Ih.prototype.render=Zy.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Nh(a,c,null,null)},Ih.prototype.unmount=Zy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;ga(function(){Nh(null,a,null,null)}),c[_s]=null}};function Ih(a){this._internalRoot=a}Ih.prototype.unstable_scheduleHydration=function(a){if(a){var c=tk();a={blockedOn:null,target:a,priority:c};for(var g=0;g<oo.length&&c!==0&&c<oo[g].priority;g++);oo.splice(g,0,a),g===0&&ik(a)}};function e0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ah(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function bC(){}function hB(a,c,g,E,C){if(C){if(typeof E=="function"){var A=E;E=function(){var ue=Dh(q);A.call(ue)}}var q=vC(c,E,a,0,null,!1,!1,"",bC);return a._reactRootContainer=q,a[_s]=q.current,uc(a.nodeType===8?a.parentNode:a),ga(),q}for(;C=a.lastChild;)a.removeChild(C);if(typeof E=="function"){var Z=E;E=function(){var ue=Dh(te);Z.call(ue)}}var te=Xy(a,0,!1,null,null,!1,!1,"",bC);return a._reactRootContainer=te,a[_s]=te.current,uc(a.nodeType===8?a.parentNode:a),ga(function(){Nh(c,te,g,E)}),te}function Ph(a,c,g,E,C){var A=g._reactRootContainer;if(A){var q=A;if(typeof C=="function"){var Z=C;C=function(){var te=Dh(q);Z.call(te)}}Nh(c,q,a,C)}else q=hB(g,c,a,C,E);return Dh(q)}ZE=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var g=Gu(c.pendingLanes);g!==0&&(Ev(c,g|1),Ur(c,bn()),(wt&6)===0&&(jl=bn()+500,ho()))}break;case 13:ga(function(){var E=ks(a,1);if(E!==null){var C=Nr();Pi(E,a,1,C)}}),Jy(a,1)}},kv=function(a){if(a.tag===13){var c=ks(a,134217728);if(c!==null){var g=Nr();Pi(c,a,134217728,g)}Jy(a,134217728)}},ek=function(a){if(a.tag===13){var c=wo(a),g=ks(a,c);if(g!==null){var E=Nr();Pi(g,a,c,E)}Jy(a,c)}},tk=function(){return It},nk=function(a,c){var g=It;try{return It=a,c()}finally{It=g}},Ae=function(a,c,g){switch(c){case"input":if($t(a,g),c=g.name,g.type==="radio"&&c!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<g.length;c++){var E=g[c];if(E!==a&&E.form===a.form){var C=Qf(E);if(!C)throw Error(n(90));Se(E),$t(E,C)}}}break;case"textarea":tt(a,g);break;case"select":c=g.value,c!=null&&Ee(a,!!g.multiple,c,!1)}},Kn=zy,wn=ga;var pB={usingClientEntryPoint:!1,Events:[fc,El,Qf,dt,Ut,zy]},Tc={findFiberByHostInstance:la,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mB={bundleType:Tc.bundleType,version:Tc.version,rendererPackageName:Tc.rendererPackageName,rendererConfig:Tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=zE(a),a===null?null:a.stateNode},findFiberByHostInstance:Tc.findFiberByHostInstance||fB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{If=Rh.inject(mB),Yi=Rh}catch{}}return qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pB,qr.createPortal=function(a,c){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e0(c))throw Error(n(200));return dB(a,c,null,g)},qr.createRoot=function(a,c){if(!e0(a))throw Error(n(299));var g=!1,E="",C=wC;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=Xy(a,1,!1,null,null,g,!1,E,C),a[_s]=c.current,uc(a.nodeType===8?a.parentNode:a),new Zy(c)},qr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=zE(c),a=a===null?null:a.stateNode,a},qr.flushSync=function(a){return ga(a)},qr.hydrate=function(a,c,g){if(!Ah(c))throw Error(n(200));return Ph(null,a,c,!0,g)},qr.hydrateRoot=function(a,c,g){if(!e0(a))throw Error(n(405));var E=g!=null&&g.hydratedSources||null,C=!1,A="",q=wC;if(g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onRecoverableError!==void 0&&(q=g.onRecoverableError)),c=vC(c,null,a,1,g??null,C,!1,A,q),a[_s]=c.current,uc(a),E)for(a=0;a<E.length;a++)g=E[a],C=g._getVersion,C=C(g._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[g,C]:c.mutableSourceEagerHydrationData.push(g,C);return new Ih(c)},qr.render=function(a,c,g){if(!Ah(c))throw Error(n(200));return Ph(null,a,c,!1,g)},qr.unmountComponentAtNode=function(a){if(!Ah(a))throw Error(n(40));return a._reactRootContainer?(ga(function(){Ph(null,null,a,!1,function(){a._reactRootContainer=null,a[_s]=null})}),!0):!1},qr.unstable_batchedUpdates=zy,qr.unstable_renderSubtreeIntoContainer=function(a,c,g,E){if(!Ah(g))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Ph(a,c,g,!1,E)},qr.version="18.2.0-next-9e3b772b8-20220608",qr}var OC;function Q_(){if(OC)return r0.exports;OC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r0.exports=kB(),r0.exports}var NC;function TB(){if(NC)return Lh;NC=1;var t=Q_();return Lh.createRoot=t.createRoot,Lh.hydrateRoot=t.hydrateRoot,Lh}var CB=TB();const OB=Ud(CB);var z=qm();const se=Ud(z),Fp=wB({__proto__:null,default:se},[z]);var X_=Q_();const J_=Ud(X_);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}var Po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Po||(Po={}));const DC="popstate";function NB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return M1("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$p(i)}return IB(e,n,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DB(){return Math.random().toString(36).substr(2,8)}function IC(t,e){return{usr:t.state,key:t.key,idx:e}}function M1(t,e,n,r){return n===void 0&&(n=null),dd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Au(e):e,{state:n,key:e&&e.key||r||DB()})}function $p(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Au(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function IB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Po.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(dd({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=Po.Pop;let w=f(),_=w==null?null:w-d;d=w,u&&u({action:l,location:y.location,delta:_})}function p(w,_){l=Po.Push;let b=M1(y.location,w,_);d=f()+1;let k=IC(b,d),S=y.createHref(b);try{o.pushState(k,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&u&&u({action:l,location:y.location,delta:1})}function m(w,_){l=Po.Replace;let b=M1(y.location,w,_);d=f();let k=IC(b,d),S=y.createHref(b);o.replaceState(k,"",S),s&&u&&u({action:l,location:y.location,delta:0})}function v(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:$p(w);return En(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let y={get action(){return l},get location(){return t(i,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(DC,h),u=w,()=>{i.removeEventListener(DC,h),u=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let _=v(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(w){return o.go(w)}};return y}var AC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(AC||(AC={}));function AB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Au(e):e,i=ex(r.pathname||"/",n);if(i==null)return null;let s=eP(t);PB(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=UB(s[l],HB(i));return o}function eP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(En(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=jo([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(En(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),eP(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:BB(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of tP(s.path))i(s,o,u)}),e}function tP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tP(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function PB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RB=/^:[\w-]+$/,MB=3,LB=2,jB=1,FB=10,$B=-2,PC=t=>t==="*";function BB(t,e){let n=t.split("/"),r=n.length;return n.some(PC)&&(r+=$B),e&&(r+=LB),n.filter(i=>!PC(i)).reduce((i,s)=>i+(RB.test(s)?MB:s===""?jB:FB),r)}function VB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=nP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d);if(!f)return null;Object.assign(r,f.params);let h=l.route;s.push({params:r,pathname:jo([i,f.pathname]),pathnameBase:KB(jo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=jo([i,f.pathnameBase]))}return s}function nP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,h)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let y=l[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?d[p]=void 0:d[p]=zB(v||"",p),d},{}),pathname:s,pathnameBase:o,pattern:t}}function qB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Z_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HB(t){try{return decodeURI(t)}catch(e){return Z_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zB(t,e){try{return decodeURIComponent(t)}catch(n){return Z_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ex(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Au(t):t;return{pathname:n?n.startsWith("/")?n:YB(n,e):e,search:QB(r),hash:XB(i)}}function YB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rP(t,e){let n=GB(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Au(t):(i=dd({},t),En(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let u=WB(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const jo=t=>t.join("/").replace(/\/\/+/g,"/"),KB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sP=["post","put","patch","delete"];new Set(sP);const ZB=["get",...sP];new Set(ZB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}const tx=z.createContext(null),e6=z.createContext(null),nl=z.createContext(null),Hm=z.createContext(null),rl=z.createContext({outlet:null,matches:[],isDataRoute:!1}),oP=z.createContext(null);function t6(t,e){let{relative:n}=e===void 0?{}:e;Pu()||En(!1);let{basename:r,navigator:i}=z.useContext(nl),{hash:s,pathname:o,search:l}=lP(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:jo([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Pu(){return z.useContext(Hm)!=null}function jn(){return Pu()||En(!1),z.useContext(Hm).location}function n6(t){Pu()||En(!1);let{pathname:e}=jn();return z.useMemo(()=>nP(t,e),[e,t])}function aP(t){z.useContext(nl).static||z.useLayoutEffect(t)}function Er(){let{isDataRoute:t}=z.useContext(rl);return t?m6():r6()}function r6(){Pu()||En(!1);let t=z.useContext(tx),{basename:e,future:n,navigator:r}=z.useContext(nl),{matches:i}=z.useContext(rl),{pathname:s}=jn(),o=JSON.stringify(rP(i,n.v7_relativeSplatPath)),l=z.useRef(!1);return aP(()=>{l.current=!0}),z.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=iP(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:jo([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function lP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(nl),{matches:i}=z.useContext(rl),{pathname:s}=jn(),o=JSON.stringify(rP(i,r.v7_relativeSplatPath));return z.useMemo(()=>iP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function i6(t,e){return s6(t,e)}function s6(t,e,n,r){Pu()||En(!1);let{navigator:i}=z.useContext(nl),{matches:s}=z.useContext(rl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=jn(),f;if(e){var h;let w=typeof e=="string"?Au(e):e;u==="/"||(h=w.pathname)!=null&&h.startsWith(u)||En(!1),f=w}else f=d;let p=f.pathname||"/",m=u==="/"?p:p.slice(u.length)||"/",v=AB(t,{pathname:m}),y=c6(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:jo([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:jo([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&y?z.createElement(Hm.Provider,{value:{location:fd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Po.Pop}},y):y}function o6(){let t=p6(),e=JB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const a6=z.createElement(o6,null);class l6 extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(rl.Provider,{value:this.props.routeContext},z.createElement(oP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u6(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(tx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(rl.Provider,{value:e},r)}function c6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));f>=0||En(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:m}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let m,v=!1,y=null,w=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||a6,u&&(d<0&&p===0?(g6("route-fallback"),v=!0,w=null):d===p&&(v=!0,w=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),b=()=>{let k;return m?k=y:v?k=w:h.route.Component?k=z.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,z.createElement(u6,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:k})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?z.createElement(l6,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var uP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uP||{}),cP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cP||{});function d6(t){let e=z.useContext(tx);return e||En(!1),e}function f6(t){let e=z.useContext(e6);return e||En(!1),e}function h6(t){let e=z.useContext(rl);return e||En(!1),e}function dP(t){let e=h6(),n=e.matches[e.matches.length-1];return n.route.id||En(!1),n.route.id}function p6(){var t;let e=z.useContext(oP),n=f6(),r=dP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m6(){let{router:t}=d6(uP.UseNavigateStable),e=dP(cP.UseNavigateStable),n=z.useRef(!1);return aP(()=>{n.current=!0}),z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fd({fromRouteId:e},s)))},[t,e])}const RC={};function g6(t,e,n){RC[t]||(RC[t]=!0)}function At(t){En(!1)}function v6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Po.Pop,navigator:s,static:o=!1,future:l}=t;Pu()&&En(!1);let u=e.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:s,static:o,future:fd({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Au(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,y=z.useMemo(()=>{let w=ex(f,u);return w==null?null:{location:{pathname:w,search:h,hash:p,state:m,key:v},navigationType:i}},[u,f,h,p,m,v,i]);return y==null?null:z.createElement(nl.Provider,{value:d},z.createElement(Hm.Provider,{children:n,value:y}))}function MC(t){let{children:e,location:n}=t;return i6(L1(e),n)}new Promise(()=>{});function L1(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){n.push.apply(n,L1(r.props.children,s));return}r.type!==At&&En(!1),!r.props.index||!r.props.children||En(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=L1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j1.apply(this,arguments)}function y6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b6(t,e){return t.button===0&&(!e||e==="_self")&&!w6(t)}const _6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],x6="6";try{window.__reactRouterVersion=x6}catch{}const S6="startTransition",LC=Fp[S6];function E6(t){let{basename:e,children:n,future:r,window:i}=t,s=z.useRef();s.current==null&&(s.current=NB({window:i,v5Compat:!0}));let o=s.current,[l,u]=z.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=z.useCallback(h=>{d&&LC?LC(()=>u(h)):u(h)},[u,d]);return z.useLayoutEffect(()=>o.listen(f),[o,f]),z.createElement(v6,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const k6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vr=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:f,unstable_viewTransition:h}=e,p=y6(e,_6),{basename:m}=z.useContext(nl),v,y=!1;if(typeof d=="string"&&T6.test(d)&&(v=d,k6))try{let k=new URL(window.location.href),S=d.startsWith("//")?new URL(k.protocol+d):new URL(d),T=ex(S.pathname,m);S.origin===k.origin&&T!=null?d=T+S.search+S.hash:y=!0}catch{}let w=t6(d,{relative:i}),_=C6(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:h});function b(k){r&&r(k),k.defaultPrevented||_(k)}return z.createElement("a",j1({},p,{href:v||w,onClick:y||s?r:b,ref:n,target:u}))});var jC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jC||(jC={}));var FC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FC||(FC={}));function C6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=Er(),d=jn(),f=lP(t,{relative:o});return z.useCallback(h=>{if(b6(h,n)){h.preventDefault();let p=r!==void 0?r:$p(d)===$p(f);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[d,u,f,r,i,n,t,s,o,l])}var $C={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},O6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,m=d&63;u||(m=64,o||(p=64)),r.push(n[f],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||h==null)throw new N6;const p=s<<2|l>>4;if(r.push(p),d!==64){const m=l<<4&240|d>>2;if(r.push(m),h!==64){const v=d<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D6=function(t){const e=fP(t);return hP.encodeByteArray(e,!0)},Bp=function(t){return D6(t).replace(/\./g,"")},pP=function(t){try{return hP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=()=>I6().__FIREBASE_DEFAULTS__,P6=()=>{if(typeof process>"u"||typeof $C>"u")return;const t=$C.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pP(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return A6()||P6()||R6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mP=t=>{var e,n;return(n=(e=zm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nx=t=>{const e=mP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gP=()=>{var t;return(t=zm())===null||t===void 0?void 0:t.config},vP=t=>{var e;return(e=zm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bp(JSON.stringify(n)),Bp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function j6(){var t;const e=(t=zm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B6(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wP(){try{return typeof indexedDB=="object"}catch{return!1}}function bP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function V6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U6,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,il.prototype.create)}}class il{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?q6(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new xi(i,l,r)}}function q6(t,e){return t.replace(H6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H6=/\{\$([^}]+)}/g;function z6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(BC(s)&&BC(o)){if(!Vp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function BC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function W6(t,e){const n=new Y6(t,e);return n.subscribe.bind(n)}class Y6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=a0),i.error===void 0&&(i.error=a0),i.complete===void 0&&(i.complete=a0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X6(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q6(t){return t===_a?void 0:t}function X6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(St||(St={}));const Z6={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},eV=St.INFO,tV={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},nV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rx{constructor(e){this.name=e,this._logLevel=eV,this._logHandler=nV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const rV=(t,e)=>e.some(n=>t instanceof n);let VC,UC;function iV(){return VC||(VC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sV(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _P=new WeakMap,F1=new WeakMap,xP=new WeakMap,l0=new WeakMap,ix=new WeakMap;function oV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_P.set(n,t)}).catch(()=>{}),ix.set(e,t),e}function aV(t){if(F1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});F1.set(t,e)}let $1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return F1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lV(t){$1=t($1)}function uV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(u0(this),e,...n);return xP.set(r,e.sort?e.sort():[e]),Fo(r)}:sV().includes(t)?function(...e){return t.apply(u0(this),e),Fo(_P.get(this))}:function(...e){return Fo(t.apply(u0(this),e))}}function cV(t){return typeof t=="function"?uV(t):(t instanceof IDBTransaction&&aV(t),rV(t,iV())?new Proxy(t,$1):t)}function Fo(t){if(t instanceof IDBRequest)return oV(t);if(l0.has(t))return l0.get(t);const e=cV(t);return e!==t&&(l0.set(t,e),ix.set(e,t)),e}const u0=t=>ix.get(t);function dV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Fo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fo(o.result),u.oldVersion,u.newVersion,Fo(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const fV=["get","getKey","getAll","getAllKeys","count"],hV=["put","add","delete","clear"],c0=new Map;function qC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c0.get(e))return c0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fV.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return c0.set(e,s),s}lV(t=>({...t,get:(e,n,r)=>qC(e,n)||t.get(e,n,r),has:(e,n)=>!!qC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const B1="@firebase/app",HC="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new rx("@firebase/app"),gV="@firebase/app-compat",vV="@firebase/analytics-compat",yV="@firebase/analytics",wV="@firebase/app-check-compat",bV="@firebase/app-check",_V="@firebase/auth",xV="@firebase/auth-compat",SV="@firebase/database",EV="@firebase/database-compat",kV="@firebase/functions",TV="@firebase/functions-compat",CV="@firebase/installations",OV="@firebase/installations-compat",NV="@firebase/messaging",DV="@firebase/messaging-compat",IV="@firebase/performance",AV="@firebase/performance-compat",PV="@firebase/remote-config",RV="@firebase/remote-config-compat",MV="@firebase/storage",LV="@firebase/storage-compat",jV="@firebase/firestore",FV="@firebase/firestore-compat",$V="firebase",BV="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="[DEFAULT]",VV={[B1]:"fire-core",[gV]:"fire-core-compat",[yV]:"fire-analytics",[vV]:"fire-analytics-compat",[bV]:"fire-app-check",[wV]:"fire-app-check-compat",[_V]:"fire-auth",[xV]:"fire-auth-compat",[SV]:"fire-rtdb",[EV]:"fire-rtdb-compat",[kV]:"fire-fn",[TV]:"fire-fn-compat",[CV]:"fire-iid",[OV]:"fire-iid-compat",[NV]:"fire-fcm",[DV]:"fire-fcm-compat",[IV]:"fire-perf",[AV]:"fire-perf-compat",[PV]:"fire-rc",[RV]:"fire-rc-compat",[MV]:"fire-gcs",[LV]:"fire-gcs-compat",[jV]:"fire-fst",[FV]:"fire-fst-compat","fire-js":"fire-js",[$V]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map,U1=new Map;function UV(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bi(t){const e=t.name;if(U1.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;U1.set(e,t);for(const n of Up.values())UV(n,t);return!0}function Xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$o=new il("app","Firebase",qV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=BV;function SP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=gP()),!n)throw $o.create("no-options");const s=Up.get(i);if(s){if(Vp(n,s.options)&&Vp(r,s.config))return s;throw $o.create("duplicate-app",{appName:i})}const o=new J6(i);for(const u of U1.values())o.addComponent(u);const l=new HV(n,r,o);return Up.set(i,l),l}function Hd(t=V1){const e=Up.get(t);if(!e&&t===V1&&gP())return SP();if(!e)throw $o.create("no-app",{appName:t});return e}function yr(t,e,n){var r;let i=(r=VV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(l.join(" "));return}bi(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="firebase-heartbeat-database",WV=1,hd="firebase-heartbeat-store";let d0=null;function EP(){return d0||(d0=dV(zV,WV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hd)}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),d0}async function YV(t){try{return await(await EP()).transaction(hd).objectStore(hd).get(kP(t))}catch(e){if(e instanceof xi)Fa.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fa.warn(n.message)}}}async function zC(t,e){try{const r=(await EP()).transaction(hd,"readwrite");await r.objectStore(hd).put(e,kP(t)),await r.done}catch(n){if(n instanceof xi)Fa.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fa.warn(r.message)}}}function kP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,KV=30*24*60*60*1e3;class QV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=WC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=KV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=WC(),{heartbeatsToSend:n,unsentEntries:r}=XV(this._heartbeatsCache.heartbeats),i=Bp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function WC(){return new Date().toISOString().substring(0,10)}function XV(t,e=GV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wP()?bP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YC(t){return Bp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){bi(new si("platform-logger",e=>new pV(e),"PRIVATE")),bi(new si("heartbeat",e=>new QV(e),"PRIVATE")),yr(B1,HC,t),yr(B1,HC,"esm2017"),yr("fire-js","")}ZV("");var eU="firebase",tU="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(eU,tU,"app");function sx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nU=TP,CP=new il("auth","Firebase",TP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new rx("@firebase/auth");function rU(t,...e){qp.logLevel<=St.WARN&&qp.warn(`Auth (${sl}): ${t}`,...e)}function gp(t,...e){qp.logLevel<=St.ERROR&&qp.error(`Auth (${sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw ox(t,...e)}function ds(t,...e){return ox(t,...e)}function iU(t,e,n){const r=Object.assign(Object.assign({},nU()),{[e]:n});return new il("auth","Firebase",r).create(e,{appName:t.name})}function ox(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CP.create(t,...e)}function Ze(t,e,...n){if(!t)throw ox(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gp(e),new Error(e)}function qs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sU(){return GC()==="http:"||GC()==="https:"}function GC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sU()||F6()||"connection"in navigator)?navigator.onLine:!0}function aU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,qs(n>e,"Short delay should be less than long delay!"),this.isMobile=L6()||$6()}get(){return oU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new zd(3e4,6e4);function ol(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jo(t,e,n,r,i={}){return NP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=qd(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),OP.fetch()(DP(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function NP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lU),e);try{const i=new cU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw jh(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw iU(t,f,d);Bi(t,f)}}catch(i){if(i instanceof xi)throw i;Bi(t,"network-request-failed",{message:String(i)})}}async function Wd(t,e,n,r,i={}){const s=await Jo(t,e,n,r,i);return"mfaPendingCredential"in s&&Bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function DP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ax(t.config,i):`${t.config.apiScheme}://${i}`}class cU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ds(this.auth,"network-request-failed")),uU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ds(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function fU(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hU(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=lx(r);Ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:td(f0(i.auth_time)),issuedAtTime:td(f0(i.iat)),expirationTime:td(f0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function f0(t){return Number(t)*1e3}function lx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gp("JWT malformed, contained fewer than 3 sections"),null;try{const i=pP(n);return i?JSON.parse(i):(gp("Failed to decode base64 JWT payload"),null)}catch(i){return gp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pU(t){const e=lx(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&mU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $a(t,fU(n,{idToken:r}));Ze(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wU(s.providerUserInfo):[],l=yU(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?d:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new IP(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function vU(t){const e=Ct(t);await Hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wU(t){return t.map(e=>{var{providerId:n}=e,r=sx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e){const n=await NP(t,{},async()=>{const r=qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=DP(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",OP.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ze(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pd;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Da{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new IP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $a(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hU(this,e)}reload(){return vU(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $a(this,dU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,d,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,b=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:S,isAnonymous:T,providerData:N,stsTokenManager:O}=n;Ze(k&&O,e,"internal-error");const D=pd.fromJSON(this.name,O);Ze(typeof k=="string",e,"internal-error"),So(h,e.name),So(p,e.name),Ze(typeof S=="boolean",e,"internal-error"),Ze(typeof T=="boolean",e,"internal-error"),So(m,e.name),So(v,e.name),So(y,e.name),So(w,e.name),So(_,e.name),So(b,e.name);const j=new Da({uid:k,auth:e,email:p,emailVerified:S,displayName:h,isAnonymous:T,photoURL:v,phoneNumber:m,tenantId:y,stsTokenManager:D,createdAt:_,lastLoginAt:b});return N&&Array.isArray(N)&&(j.providerData=N.map(R=>Object.assign({},R))),w&&(j._redirectEventId=w),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new pd;i.updateFromServerResponse(n);const s=new Da({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new Map;function Ps(t){qs(t instanceof Function,"Expected a class definition");let e=KC.get(t);return e?(qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AP.type="NONE";const QC=AP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=vp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ql(Ps(QC),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Ps(QC);const o=vp(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){const h=Da._fromJSON(e,f);d!==s&&(l=h),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ql(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Ql(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jP(e))return"Blackberry";if(FP(e))return"Webos";if(ux(e))return"Safari";if((e.includes("chrome/")||RP(e))&&!e.includes("edge/"))return"Chrome";if(LP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PP(t=xr()){return/firefox\//i.test(t)}function ux(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RP(t=xr()){return/crios\//i.test(t)}function MP(t=xr()){return/iemobile/i.test(t)}function LP(t=xr()){return/android/i.test(t)}function jP(t=xr()){return/blackberry/i.test(t)}function FP(t=xr()){return/webos/i.test(t)}function Wm(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _U(t=xr()){var e;return Wm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xU(){return B6()&&document.documentMode===10}function $P(t=xr()){return Wm(t)||LP(t)||FP(t)||jP(t)||/windows phone/i.test(t)||MP(t)}function SU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e=[]){let n;switch(t){case"Browser":n=XC(xr());break;case"Worker":n=`${XC(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${r}`}async function VP(t,e){return Jo(t,"GET","/v2/recaptchaConfig",ol(t,e))}function JC(t){return t!==void 0&&t.enterprise!==void 0}class UP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function qP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ds("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EU().appendChild(r)})}function kU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TU="https://www.google.com/recaptcha/enterprise.js?render=",CU="recaptcha-enterprise",OU="NO_RECAPTCHA";class HP{constructor(e){this.type=CU,this.auth=Zo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{VP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new UP(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;JC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(OU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&JC(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}qP(TU+l).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function cu(t,e,n,r=!1){const i=new HP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZC(this),this.idTokenSubscription=new ZC(this),this.beforeStateQueue=new NU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}async initializeRecaptchaConfig(){const e=await VP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new UP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new HP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new il("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zo(t){return Ct(t)}class ZC{constructor(e){this.auth=e,this.observer=null,this.addObserver=W6(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){const n=Xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vp(s,e??{}))return i;Bi(i,"already-initialized")}return n.initialize({options:e})}function AU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PU(t,e,n){const r=Zo(t);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=zP(e),{host:o,port:l}=RU(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),MU()}function zP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RU(t){const e=zP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eO(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eO(o)}}}function eO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function WP(t,e){return Jo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(t,e){return Wd(t,"POST","/v1/accounts:signInWithPassword",ol(t,e))}async function LU(t,e){return Jo(t,"POST","/v1/accounts:sendOobCode",ol(t,e))}async function p0(t,e){return LU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){return Wd(t,"POST","/v1/accounts:signInWithEmailLink",ol(t,e))}async function FU(t,e){return Wd(t,"POST","/v1/accounts:signInWithEmailLink",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends cx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new md(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new md(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await cu(e,r,"signInWithPassword");return h0(e,i)}else return h0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await cu(e,r,"signInWithPassword");return h0(e,s)}else return Promise.reject(i)});case"emailLink":return jU(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return WP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return FU(e,{idToken:n,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return Wd(t,"POST","/v1/accounts:signInWithIdp",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="http://localhost";class Ba extends cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sx(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ba(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:$U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VU(t){const e=Uc(qc(t)).link,n=e?Uc(qc(e)).deep_link_id:null,r=Uc(qc(t)).deep_link_id;return(r?Uc(qc(r)).link:null)||r||n||e||t}class dx{constructor(e){var n,r,i,s,o,l;const u=Uc(qc(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=BU((i=u.mode)!==null&&i!==void 0?i:null);Ze(d&&f&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=VU(e);try{return new dx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return md._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dx.parseLink(n);return Ze(r,"argument-error"),md._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends YP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Yd{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return No.credential(n,r)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com";No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Yd{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Yd{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(t,e){return Wd(t,"POST","/v1/accounts:signUp",ol(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Da._fromIdTokenResponse(e,r,i),o=tO(r);return new Hs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tO(r);return new Hs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t){var e;const n=Zo(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Hs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await yp(n,{returnSecureToken:!0}),i=await Hs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends xi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zp(e,n,r,i)}}function GP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zp._fromErrorAndOperation(t,s,e,r):s})}async function qU(t,e,n=!1){const r=await $a(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await $a(t,GP(r,i,e,t),n);Ze(s.idToken,r,"internal-error");const o=lx(s.idToken);Ze(o,r,"internal-error");const{sub:l}=o;return Ze(t.uid===l,r,"user-mismatch"),Hs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Bi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e,n=!1){const r="signIn",i=await GP(t,r,e),s=await Hs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function HU(t,e){return QP(Zo(t),e)}async function XP(t,e){return KP(Ct(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e,n){var r;const i=Zo(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await cu(i,s,"getOobCode",!0);await p0(i,o)}else await p0(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const l=await cu(i,s,"getOobCode",!0);await p0(i,l)}else return Promise.reject(o)})}async function WU(t,e,n){var r;const i=Zo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const d=await cu(i,s,"signUpPassword");o=yp(i,d)}else o=yp(i,s).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const f=await cu(i,s,"signUpPassword");return yp(i,f)}else return Promise.reject(d)});const l=await o.catch(d=>Promise.reject(d)),u=await Hs._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function YU(t,e,n){return HU(Ct(t),ea.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e){return Jo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await $a(r,GU(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function KU(t,e){return QU(Ct(t),null,e)}async function QU(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await $a(t,WP(r,s));await t._updateTokensIfNecessary(o,!0)}function XU(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function JU(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function fx(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}async function ZU(t){return Ct(t).delete()}const Wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wp,"1"),this.storage.removeItem(Wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){const t=xr();return ux(t)||Wm(t)}const t9=1e3,n9=10;class ZP extends JP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=e9()&&SU(),this.fallbackToPolling=$P(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZP.type="LOCAL";const r9=ZP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends JP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eR.type="SESSION";const tR=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ym(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await i9(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=hx("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(){return window}function o9(t){fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function a9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u9(){return nR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebaseLocalStorageDb",c9=1,Yp="firebaseLocalStorage",iR="fbase_key";class Gd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gm(t,e){return t.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function d9(){const t=indexedDB.deleteDatabase(rR);return new Gd(t).toPromise()}function H1(){const t=indexedDB.open(rR,c9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yp,{keyPath:iR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await d9(),e(await H1()))})})}async function rO(t,e,n){const r=Gm(t,!0).put({[iR]:e,value:n});return new Gd(r).toPromise()}async function f9(t,e){const n=Gm(t,!1).get(e),r=await new Gd(n).toPromise();return r===void 0?null:r.value}function iO(t,e){const n=Gm(t,!0).delete(e);return new Gd(n).toPromise()}const h9=800,p9=3;class sR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>p9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(u9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await a9(),!this.activeServiceWorker)return;this.sender=new s9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H1();return await rO(e,Wp,"1"),await iO(e,Wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gm(i,!1).getAll();return new Gd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sR.type="LOCAL";const m9=sR;new zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){return e?Ps(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends cx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v9(t){return QP(t.auth,new px(t),t.bypassAuthState)}function y9(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),KP(n,new px(t),t.bypassAuthState)}async function w9(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),qU(n,new px(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v9;case"linkViaPopup":case"linkViaRedirect":return w9;case"reauthViaPopup":case"reauthViaRedirect":return y9;default:Bi(this.auth,"internal-error")}}resolve(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=new zd(2e3,1e4);class Gl extends oR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gl.currentPopupAction&&Gl.currentPopupAction.cancel(),Gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const e=hx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b9.get())};e()}}Gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="pendingRedirect",wp=new Map;class x9 extends oR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const r=await S9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S9(t,e){const n=T9(e),r=k9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function E9(t,e){wp.set(t._key(),e)}function k9(t){return Ps(t._redirectPersistence)}function T9(t){return vp(_9,t.config.apiKey,t.name)}async function C9(t,e,n=!1){const r=Zo(t),i=g9(r,e),o=await new x9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=10*60*1e3;class N9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O9&&this.cachedEventUids.clear(),this.cachedEventUids.has(sO(e))}saveEventToCache(e){this.cachedEventUids.add(sO(e)),this.lastProcessedEventTime=Date.now()}}function sO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P9=/^https?/;async function R9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I9(t);for(const n of e)try{if(M9(n))return}catch{}Bi(t,"unauthorized-domain")}function M9(t){const e=q1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P9.test(n))return!1;if(A9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new zd(3e4,6e4);function oO(){const t=fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j9(t){return new Promise((e,n)=>{var r,i,s;function o(){oO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oO(),n(ds(t,"network-request-failed"))},timeout:L9.get()})}if(!((i=(r=fs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fs().gapi)===null||s===void 0)&&s.load)o();else{const l=kU("iframefcb");return fs()[l]=()=>{gapi.load?o():n(ds(t,"network-request-failed"))},qP(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw bp=null,e})}let bp=null;function F9(t){return bp=bp||j9(t),bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new zd(5e3,15e3),B9="__/auth/iframe",V9="emulator/auth/iframe",U9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H9(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ax(e,V9):`https://${t.config.authDomain}/${B9}`,r={apiKey:e.apiKey,appName:t.name,v:sl},i=q9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qd(r).slice(1)}`}async function z9(t){const e=await F9(t),n=fs().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:H9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ds(t,"network-request-failed"),l=fs().setTimeout(()=>{s(o)},$9.get());function u(){fs().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y9=500,G9=600,K9="_blank",Q9="http://localhost";class aO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X9(t,e,n,r=Y9,i=G9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},W9),{width:r.toString(),height:i.toString(),top:s,left:o}),d=xr().toLowerCase();n&&(l=RP(d)?K9:n),PP(d)&&(e=e||Q9,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(_U(d)&&l!=="_self")return J9(e||"",l),new aO(null);const h=window.open(e||"",l,f);Ze(h,t,"popup-blocked");try{h.focus()}catch{}return new aO(h)}function J9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="__/auth/handler",eq="emulator/auth/handler",tq=encodeURIComponent("fac");async function lO(t,e,n,r,i,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sl,eventId:i};if(e instanceof YP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",z6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Yd){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${tq}=${encodeURIComponent(u)}`:"";return`${nq(t)}?${qd(l).slice(1)}${d}`}function nq({config:t}){return t.emulator?ax(t,eq):`https://${t.authDomain}/${Z9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="webStorageSupport";class rq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tR,this._completeRedirectFn=C9,this._overrideRedirectResult=E9}async _openPopup(e,n,r,i){var s;qs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lO(e,n,r,q1(),i);return X9(e,o,hx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lO(e,n,r,q1(),i);return o9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z9(e),r=new N9(e);return n.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(m0,{type:m0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[m0];o!==void 0&&n(!!o),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $P()||ux()||Wm()}}const iq=rq;var uO="@firebase/auth",cO="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function aq(t){bi(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BP(t)},d=new DU(r,i,s,u);return AU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bi(new si("auth-internal",e=>{const n=Zo(e.getProvider("auth").getImmediate());return(r=>new sq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(uO,cO,oq(t)),yr(uO,cO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=5*60,uq=vP("authIdTokenMaxAge")||lq;let dO=null;const cq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uq)return;const i=n==null?void 0:n.token;dO!==i&&(dO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Km(t=Hd()){const e=Xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IU(t,{popupRedirectResolver:iq,persistence:[m9,r9,tR]}),r=vP("authTokenSyncURL");if(r){const s=cq(r);JU(n,s,()=>s(n.currentUser)),XU(n,o=>s(o))}const i=mP("auth");return i&&PU(n,`http://${i}`),n}aq("Browser");var dq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce,mx=mx||{},nt=dq||self;function Qm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xm(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fq(t,e,n){return t.call.apply(t.bind,arguments)}function hq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wr=fq:wr=hq,wr.apply(null,arguments)}function Fh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Wn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function ta(){this.s=this.s,this.o=this.o}var pq=0;ta.prototype.s=!1;ta.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pq!=0)};ta.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gx(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function fO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function br(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}br.prototype.h=function(){this.defaultPrevented=!0};var mq=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nt.addEventListener("test",()=>{},e),nt.removeEventListener("test",()=>{},e)}catch{}return t}();function gd(t){return/^[\s\xa0]*$/.test(t)}function Jm(){var t=nt.navigator;return t&&(t=t.userAgent)?t:""}function ns(t){return Jm().indexOf(t)!=-1}function vx(t){return vx[" "](t),t}vx[" "]=function(){};function gq(t,e){var n=u8;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var vq=ns("Opera"),du=ns("Trident")||ns("MSIE"),uR=ns("Edge"),z1=uR||du,cR=ns("Gecko")&&!(Jm().toLowerCase().indexOf("webkit")!=-1&&!ns("Edge"))&&!(ns("Trident")||ns("MSIE"))&&!ns("Edge"),yq=Jm().toLowerCase().indexOf("webkit")!=-1&&!ns("Edge");function dR(){var t=nt.document;return t?t.documentMode:void 0}var W1;e:{var g0="",v0=function(){var t=Jm();if(cR)return/rv:([^\);]+)(\)|;)/.exec(t);if(uR)return/Edge\/([\d\.]+)/.exec(t);if(du)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yq)return/WebKit\/(\S+)/.exec(t);if(vq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(v0&&(g0=v0?v0[1]:""),du){var y0=dR();if(y0!=null&&y0>parseFloat(g0)){W1=String(y0);break e}}W1=g0}var Y1;if(nt.document&&du){var hO=dR();Y1=hO||parseInt(W1,10)||void 0}else Y1=void 0;var wq=Y1;function vd(t,e){if(br.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cR){e:{try{vx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:bq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vd.$.h.call(this)}}Wn(vd,br);var bq={2:"touch",3:"pen",4:"mouse"};vd.prototype.h=function(){vd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zm="closure_listenable_"+(1e6*Math.random()|0),_q=0;function xq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_q,this.fa=this.ia=!1}function eg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yx(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Sq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fR(t){const e={};for(const n in t)e[n]=t[n];return e}const pO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<pO.length;s++)n=pO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tg(t){this.src=t,this.g={},this.h=0}tg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=K1(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new xq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function G1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(eg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function K1(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var wx="closure_lm_"+(1e6*Math.random()|0),w0={};function pR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)pR(t,e[s],n,r,i);return null}return n=vR(n),t&&t[Zm]?t.O(e,n,Xm(r)?!!r.capture:!1,i):Eq(t,e,n,!1,r,i)}function Eq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xm(i)?!!i.capture:!!i,l=_x(t);if(l||(t[wx]=l=new tg(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=kq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kq(){function t(n){return e.call(t.src,t.listener,n)}const e=Tq;return t}function mR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mR(t,e[s],n,r,i);else r=Xm(r)?!!r.capture:!!r,n=vR(n),t&&t[Zm]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=K1(s,n,r,i),-1<n&&(eg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_x(t))&&(e=t.g[e.toString()],t=-1,e&&(t=K1(e,n,r,i)),(n=-1<t?e[t]:null)&&bx(n))}function bx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zm])G1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_x(e))?(G1(n,t),n.h==0&&(n.src=null,e[wx]=null)):eg(t)}}}function gR(t){return t in w0?w0[t]:w0[t]="on"+t}function Tq(t,e){if(t.fa)t=!0;else{e=new vd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&bx(t),t=n.call(r,e)}return t}function _x(t){return t=t[wx],t instanceof tg?t:null}var b0="__closure_events_fn_"+(1e9*Math.random()>>>0);function vR(t){return typeof t=="function"?t:(t[b0]||(t[b0]=function(e){return t.handleEvent(e)}),t[b0])}function zn(){ta.call(this),this.i=new tg(this),this.S=this,this.J=null}Wn(zn,ta);zn.prototype[Zm]=!0;zn.prototype.removeEventListener=function(t,e,n,r){mR(this,t,e,n,r)};function rr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new br(e,t);else if(e instanceof br)e.target=e.target||t;else{var i=e;e=new br(r,t),hR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=$h(o,r,!0,e)&&i}if(o=e.g=t,i=$h(o,r,!0,e)&&i,i=$h(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=$h(o,r,!1,e)&&i}zn.prototype.N=function(){if(zn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eg(n[r]);delete t.g[e],t.h--}}this.J=null};zn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};zn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $h(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,u=o.la||o.src;o.ia&&G1(t.i,o),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var xx=nt.JSON.stringify;class Cq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Oq(){var t=Sx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Nq{constructor(){this.h=this.g=null}add(e,n){const r=yR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yR=new Cq(()=>new Dq,t=>t.reset());class Dq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Iq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Aq(t){nt.setTimeout(()=>{throw t},0)}let yd,wd=!1,Sx=new Nq,wR=()=>{const t=nt.Promise.resolve(void 0);yd=()=>{t.then(Pq)}};var Pq=()=>{for(var t;t=Oq();){try{t.h.call(t.g)}catch(n){Aq(n)}var e=yR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wd=!1};function ng(t,e){zn.call(this),this.h=t||1,this.g=e||nt,this.j=wr(this.qb,this),this.l=Date.now()}Wn(ng,zn);Ce=ng.prototype;Ce.ga=!1;Ce.T=null;Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rr(this,"tick"),this.ga&&(Ex(this),this.start()))}};Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ex(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ce.N=function(){ng.$.N.call(this),Ex(this),delete this.g};function kx(t,e,n){if(typeof t=="function")n&&(t=wr(t,n));else if(t&&typeof t.handleEvent=="function")t=wr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:nt.setTimeout(t,e||0)}function bR(t){t.g=kx(()=>{t.g=null,t.i&&(t.i=!1,bR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Rq extends ta{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bR(this)}N(){super.N(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bd(t){ta.call(this),this.h=t,this.g={}}Wn(bd,ta);var mO=[];function _R(t,e,n,r){Array.isArray(n)||(n&&(mO[0]=n.toString()),n=mO);for(var i=0;i<n.length;i++){var s=pR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function xR(t){yx(t.g,function(e,n){this.g.hasOwnProperty(n)&&bx(e)},t),t.g={}}bd.prototype.N=function(){bd.$.N.call(this),xR(this)};bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rg(){this.g=!0}rg.prototype.Ea=function(){this.g=!1};function Mq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var d=l[u].split("=");if(1<d.length){var f=d[0];d=d[1];var h=f.split("_");o=2<=h.length&&h[1]=="type"?o+(f+"="+d+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Lq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Kl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Fq(t,n)+(r?" "+r:"")})}function jq(t,e){t.info(function(){return"TIMEOUT: "+e})}rg.prototype.info=function(){};function Fq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return xx(n)}catch{return e}}var al={},gO=null;function ig(){return gO=gO||new zn}al.Ta="serverreachability";function SR(t){br.call(this,al.Ta,t)}Wn(SR,br);function _d(t){const e=ig();rr(e,new SR(e))}al.STAT_EVENT="statevent";function ER(t,e){br.call(this,al.STAT_EVENT,t),this.stat=e}Wn(ER,br);function Ar(t){const e=ig();rr(e,new ER(e,t))}al.Ua="timingevent";function kR(t,e){br.call(this,al.Ua,t),this.size=e}Wn(kR,br);function Kd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){t()},e)}var sg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tx(){}Tx.prototype.h=null;function vO(t){return t.h||(t.h=t.i())}function CR(){}var Qd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cx(){br.call(this,"d")}Wn(Cx,br);function Ox(){br.call(this,"c")}Wn(Ox,br);var Q1;function og(){}Wn(og,Tx);og.prototype.g=function(){return new XMLHttpRequest};og.prototype.i=function(){return{}};Q1=new og;function Xd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bd(this),this.P=$q,t=z1?125:void 0,this.V=new ng(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OR}function OR(){this.i=null,this.g="",this.h=!1}var $q=45e3,X1={},Gp={};Ce=Xd.prototype;Ce.setTimeout=function(t){this.P=t};function J1(t,e,n){t.L=1,t.v=lg(zs(e)),t.s=n,t.S=!0,NR(t,null)}function NR(t,e){t.G=Date.now(),Jd(t),t.A=zs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),jR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new OR,t.g=iM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Rq(wr(t.Pa,t,t.g),t.O)),_R(t.U,t.g,"readystatechange",t.nb),e=t.I?fR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_d(),Mq(t.j,t.u,t.A,t.m,t.W,t.s)}Ce.nb=function(t){t=t.target;const e=this.M;e&&as(t)==3?e.l():this.Pa(t)};Ce.Pa=function(t){try{if(t==this.g)e:{const f=as(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>f)&&(f!=3||z1||this.g&&(this.h.h||this.g.ja()||_O(this.g)))){this.J||f!=4||e==7||(e==8||0>=h?_d(3):_d(2)),ag(this);var n=this.g.da();this.ca=n;t:if(DR(this)){var r=_O(this.g);t="";var i=r.length,s=as(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ka(this),nd(this);var o="";break t}this.h.i=new nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Lq(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gd(l)){var d=l;break t}}d=null}if(n=d)Kl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Z1(this,n);else{this.i=!1,this.o=3,Ar(12),ka(this),nd(this);break e}}this.S?(IR(this,f,o),z1&&this.i&&f==3&&(_R(this.U,this.V,"tick",this.mb),this.V.start())):(Kl(this.j,this.m,o,null),Z1(this,o)),f==4&&ka(this),this.i&&!this.J&&(f==4?eM(this.l,this):(this.i=!1,Jd(this)))}else o8(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),ka(this),nd(this)}}}catch{}finally{}};function DR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function IR(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Bq(t,n),i==Gp){e==4&&(t.o=4,Ar(14),r=!1),Kl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==X1){t.o=4,Ar(15),Kl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Kl(t.j,t.m,i,null),Z1(t,i);DR(t)&&i!=Gp&&i!=X1&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ar(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rx(e),e.M=!0,Ar(11))):(Kl(t.j,t.m,n,"[Invalid Chunked Response]"),ka(t),nd(t))}Ce.mb=function(){if(this.g){var t=as(this.g),e=this.g.ja();this.C<e.length&&(ag(this),IR(this,t,e),this.i&&t!=4&&Jd(this))}};function Bq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Gp:(n=Number(e.substring(n,r)),isNaN(n)?X1:(r+=1,r+n>e.length?Gp:(e=e.slice(r,r+n),t.C=r+n,e)))}Ce.cancel=function(){this.J=!0,ka(this)};function Jd(t){t.Y=Date.now()+t.P,AR(t,t.P)}function AR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Kd(wr(t.lb,t),e)}function ag(t){t.B&&(nt.clearTimeout(t.B),t.B=null)}Ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(jq(this.j,this.A),this.L!=2&&(_d(),Ar(17)),ka(this),this.o=2,nd(this)):AR(this,this.Y-t)};function nd(t){t.l.H==0||t.J||eM(t.l,t)}function ka(t){ag(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ex(t.V),xR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Z1(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||e_(n.i,t))){if(!t.K&&e_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Xp(n),dg(n);else break e;Px(n),Ar(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kd(wr(n.ib,n),6e3));if(1>=BR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ta(n,11)}else if((t.K||n.g==t)&&Xp(n),!gd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const h=d[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const p=d[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Nx(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Xt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=rM(r,r.J?r.pa:null,r.Y),o.K){VR(r.i,o);var l=o,u=r.L;u&&l.setTimeout(u),l.B&&(ag(l),Jd(l)),r.g=o}else JR(r);0<n.j.length&&fg(n)}else d[0]!="stop"&&d[0]!="close"||Ta(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ta(n,7):Ax(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}_d(4)}catch{}}function Vq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Uq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function PR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Uq(t),r=Vq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var RR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ia(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ia){this.h=t.h,Kp(this,t.j),this.s=t.s,this.g=t.g,Qp(this,t.m),this.l=t.l;var e=t.i,n=new xd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yO(this,n),this.o=t.o}else t&&(e=String(t).match(RR))?(this.h=!1,Kp(this,e[1]||"",!0),this.s=Hc(e[2]||""),this.g=Hc(e[3]||"",!0),Qp(this,e[4]),this.l=Hc(e[5]||"",!0),yO(this,e[6]||"",!0),this.o=Hc(e[7]||"")):(this.h=!1,this.i=new xd(null,this.h))}Ia.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zc(e,wO,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zc(e,wO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zc(n,n.charAt(0)=="/"?Wq:zq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zc(n,Gq)),t.join("")};function zs(t){return new Ia(t)}function Kp(t,e,n){t.j=n?Hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yO(t,e,n){e instanceof xd?(t.i=e,Kq(t.i,t.h)):(n||(e=zc(e,Yq)),t.i=new xd(e,t.h))}function Xt(t,e,n){t.i.set(e,n)}function lg(t){return Xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Hq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wO=/[#\/\?@]/g,zq=/[#\?:]/g,Wq=/[#\?]/g,Yq=/[#\?@]/g,Gq=/#/g;function xd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function na(t){t.g||(t.g=new Map,t.h=0,t.i&&qq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ce=xd.prototype;Ce.add=function(t,e){na(this),this.i=null,t=Ru(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function MR(t,e){na(t),e=Ru(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LR(t,e){return na(t),e=Ru(t,e),t.g.has(e)}Ce.forEach=function(t,e){na(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ce.ta=function(){na(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ce.Z=function(t){na(this);let e=[];if(typeof t=="string")LR(this,t)&&(e=e.concat(this.g.get(Ru(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ce.set=function(t,e){return na(this),this.i=null,t=Ru(this,t),LR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jR(t,e,n){MR(t,e),0<n.length&&(t.i=null,t.g.set(Ru(t,e),gx(n)),t.h+=n.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ru(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Kq(t,e){e&&!t.j&&(na(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MR(this,r),jR(this,i,n))},t)),t.j=e}var Qq=class{constructor(t,e){this.g=t,this.map=e}};function FR(t){this.l=t||Xq,nt.PerformanceNavigationTiming?(t=nt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(nt.g&&nt.g.Ka&&nt.g.Ka()&&nt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xq=10;function $R(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BR(t){return t.h?1:t.g?t.g.size:0}function e_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Nx(t,e){t.g?t.g.add(e):t.h=e}function VR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FR.prototype.cancel=function(){if(this.i=UR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function UR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gx(t.i)}var Jq=class{stringify(t){return nt.JSON.stringify(t,void 0)}parse(t){return nt.JSON.parse(t,void 0)}};function Zq(){this.g=new Jq}function e8(t,e,n){const r=n||"";try{PR(t,function(i,s){let o=i;Xm(i)&&(o=xx(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function t8(t,e){const n=new rg;if(nt.Image){const r=new Image;r.onload=Fh(Bh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fh(Bh,n,r,"TestLoadImage: error",!1,e),r.onabort=Fh(Bh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fh(Bh,n,r,"TestLoadImage: timeout",!1,e),nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zd(t){this.l=t.fc||null,this.j=t.ob||!1}Wn(Zd,Tx);Zd.prototype.g=function(){return new ug(this.l,this.j)};Zd.prototype.i=function(t){return function(){return t}}({});function ug(t,e){zn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Dx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wn(ug,zn);var Dx=0;Ce=ug.prototype;Ce.open=function(t,e){if(this.readyState!=Dx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sd(this)};Ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ef(this)),this.readyState=Dx};Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sd(this)),this.g&&(this.readyState=3,Sd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function qR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ef(this):Sd(this),this.readyState==3&&qR(this)}};Ce.Za=function(t){this.g&&(this.response=this.responseText=t,ef(this))};Ce.Ya=function(t){this.g&&(this.response=t,ef(this))};Ce.ka=function(){this.g&&ef(this)};function ef(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sd(t)}Ce.setRequestHeader=function(t,e){this.v.append(t,e)};Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var n8=nt.JSON.parse;function mn(t){zn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HR,this.L=this.M=!1}Wn(mn,zn);var HR="",r8=/^https?$/i,i8=["POST","PUT"];Ce=mn.prototype;Ce.Oa=function(t){this.M=t};Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Q1.g(),this.C=this.u?vO(this.u):vO(Q1),this.g.onreadystatechange=wr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){bO(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=nt.FormData&&t instanceof nt.FormData,!(0<=lR(i8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YR(this),0<this.B&&((this.L=s8(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.ua,this)):this.A=kx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bO(this,s)}};function s8(t){return du&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ce.ua=function(){typeof mx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))};function bO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zR(t),cg(t)}function zR(t){t.F||(t.F=!0,rr(t,"complete"),rr(t,"error"))}Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rr(this,"complete"),rr(this,"abort"),cg(this))};Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cg(this,!0)),mn.$.N.call(this)};Ce.La=function(){this.s||(this.G||this.v||this.l?WR(this):this.kb())};Ce.kb=function(){WR(this)};function WR(t){if(t.h&&typeof mx<"u"&&(!t.C[1]||as(t)!=4||t.da()!=2)){if(t.v&&as(t)==4)kx(t.La,0,t);else if(rr(t,"readystatechange"),as(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(RR)[1]||null;!i&&nt.self&&nt.self.location&&(i=nt.self.location.protocol.slice(0,-1)),r=!r8.test(i?i.toLowerCase():"")}n=r}if(n)rr(t,"complete"),rr(t,"success");else{t.m=6;try{var s=2<as(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",zR(t)}}finally{cg(t)}}}}function cg(t,e){if(t.g){YR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rr(t,"ready");try{n.onreadystatechange=r}catch{}}}function YR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(nt.clearTimeout(t.A),t.A=null)}Ce.isActive=function(){return!!this.g};function as(t){return t.g?t.g.readyState:0}Ce.da=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}};Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),n8(e)}};function _O(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function o8(t){const e={};t=(t.g&&2<=as(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(gd(t[r]))continue;var n=Iq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Sq(e,function(r){return r.join(", ")})}Ce.Ia=function(){return this.m};Ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GR(t){let e="";return yx(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ix(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xt(t,e,n))}function Oc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KR(t){this.Ga=0,this.j=[],this.l=new rg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oc("baseRetryDelayMs",5e3,t),this.hb=Oc("retryDelaySeedMs",1e4,t),this.eb=Oc("forwardChannelMaxRetries",2,t),this.xa=Oc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FR(t&&t.concurrentRequestLimit),this.Ja=new Zq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ce=KR.prototype;Ce.ra=8;Ce.H=1;function Ax(t){if(QR(t),t.H==3){var e=t.W++,n=zs(t.I);if(Xt(n,"SID",t.K),Xt(n,"RID",e),Xt(n,"TYPE","terminate"),tf(t,n),e=new Xd(t,t.l,e),e.L=2,e.v=lg(zs(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon)try{n=nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&nt.Image&&(new Image().src=e.v,n=!0),n||(e.g=iM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jd(e)}nM(t)}function dg(t){t.g&&(Rx(t),t.g.cancel(),t.g=null)}function QR(t){dg(t),t.u&&(nt.clearTimeout(t.u),t.u=null),Xp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&nt.clearTimeout(t.m),t.m=null)}function fg(t){if(!$R(t.i)&&!t.m){t.m=!0;var e=t.Na;yd||wR(),wd||(yd(),wd=!0),Sx.add(e,t),t.C=0}}function a8(t,e){return BR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kd(wr(t.Na,t,e),tM(t,t.C)),t.C++,!0)}Ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Xd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fR(s),hR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XR(this,i,e),n=zs(this.I),Xt(n,"RID",t),Xt(n,"CVER",22),this.F&&Xt(n,"X-HTTP-Session-Id",this.F),tf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GR(s)))+"&"+e:this.o&&Ix(n,this.o,s)),Nx(this.i,i),this.bb&&Xt(n,"TYPE","init"),this.P?(Xt(n,"$req",e),Xt(n,"SID","null"),i.aa=!0,J1(i,n,null)):J1(i,n,e),this.H=2}}else this.H==3&&(t?xO(this,t):this.j.length==0||$R(this.i)||xO(this))};function xO(t,e){var n;e?n=e.m:n=t.W++;const r=zs(t.I);Xt(r,"SID",t.K),Xt(r,"RID",n),Xt(r,"AID",t.V),tf(t,r),t.o&&t.s&&Ix(r,t.o,t.s),n=new Xd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Nx(t.i,n),J1(n,r,e)}function tf(t,e){t.na&&yx(t.na,function(n,r){Xt(e,r,n)}),t.h&&PR({},function(n,r){Xt(e,r,n)})}function XR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let d=i[u].g;const f=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),l=!1;else try{e8(f,o,"req"+d+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yd||wR(),wd||(yd(),wd=!0),Sx.add(e,t),t.A=0}}function Px(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kd(wr(t.Ma,t),tM(t,t.A)),t.A++,!0)}Ce.Ma=function(){if(this.u=null,ZR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kd(wr(this.jb,this),t)}};Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),dg(this),ZR(this))};function Rx(t){t.B!=null&&(nt.clearTimeout(t.B),t.B=null)}function ZR(t){t.g=new Xd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=zs(t.wa);Xt(e,"RID","rpc"),Xt(e,"SID",t.K),Xt(e,"AID",t.V),Xt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Xt(e,"TO",t.qa),Xt(e,"TYPE","xmlhttp"),tf(t,e),t.o&&t.s&&Ix(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=lg(zs(e)),n.s=null,n.S=!0,NR(n,t)}Ce.ib=function(){this.v!=null&&(this.v=null,dg(this),Px(this),Ar(19))};function Xp(t){t.v!=null&&(nt.clearTimeout(t.v),t.v=null)}function eM(t,e){var n=null;if(t.g==e){Xp(t),Rx(t),t.g=null;var r=2}else if(e_(t.i,e))n=e.F,VR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ig(),rr(r,new kR(r,n)),fg(t)}else JR(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&a8(t,e)||r==2&&Px(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ta(t,5);break;case 4:Ta(t,10);break;case 3:Ta(t,6);break;default:Ta(t,2)}}}function tM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ta(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wr(t.pb,t);n||(n=new Ia("//www.google.com/images/cleardot.gif"),nt.location&&nt.location.protocol=="http"||Kp(n,"https"),lg(n)),t8(n.toString(),r)}else Ar(2);t.H=0,t.h&&t.h.za(e),nM(t),QR(t)}Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))};function nM(t){if(t.H=0,t.ma=[],t.h){const e=UR(t.i);(e.length!=0||t.j.length!=0)&&(fO(t.ma,e),fO(t.ma,t.j),t.i.i.length=0,gx(t.j),t.j.length=0),t.h.ya()}}function rM(t,e,n){var r=n instanceof Ia?zs(n):new Ia(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qp(r,r.m);else{var i=nt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ia(null);r&&Kp(s,r),e&&(s.g=e),i&&Qp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Xt(r,n,e),Xt(r,"VER",t.ra),tf(t,r),r}function iM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new mn(new Zd({ob:!0})):new mn(t.va),e.Oa(t.J),e}Ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function sM(){}Ce=sM.prototype;Ce.Ba=function(){};Ce.Aa=function(){};Ce.za=function(){};Ce.ya=function(){};Ce.isActive=function(){return!0};Ce.Va=function(){};function Jp(){if(du&&!(10<=Number(wq)))throw Error("Environmental error: no available transport.")}Jp.prototype.g=function(t,e){return new oi(t,e)};function oi(t,e){zn.call(this),this.g=new KR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mu(this)}Wn(oi,zn);oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ar(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rM(t,null,t.Y),fg(t)};oi.prototype.close=function(){Ax(this.g)};oi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xx(t),t=n);e.j.push(new Qq(e.fb++,t)),e.H==3&&fg(e)};oi.prototype.N=function(){this.g.h=null,delete this.j,Ax(this.g),delete this.g,oi.$.N.call(this)};function oM(t){Cx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Wn(oM,Cx);function aM(){Ox.call(this),this.status=1}Wn(aM,Ox);function Mu(t){this.g=t}Wn(Mu,sM);Mu.prototype.Ba=function(){rr(this.g,"a")};Mu.prototype.Aa=function(t){rr(this.g,new oM(t))};Mu.prototype.za=function(t){rr(this.g,new aM)};Mu.prototype.ya=function(){rr(this.g,"b")};function l8(){this.blockSize=-1}function Vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Wn(Vi,l8);Vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function _0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Vi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)_0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){_0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){_0(this,r),i=0;break}}this.h=i,this.i+=e};Vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ft(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var u8={};function Mx(t){return-128<=t&&128>t?gq(t,function(e){return new Ft([e|0],0>e?-1:0)}):new Ft([t|0],0>t?-1:0)}function ls(t){if(isNaN(t)||!isFinite(t))return Jl;if(0>t)return tr(ls(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=t_;return new Ft(e,0)}function lM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tr(lM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ls(Math.pow(e,8)),r=Jl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ls(Math.pow(e,s)),r=r.R(s).add(ls(o))):(r=r.R(n),r=r.add(ls(o)))}return r}var t_=4294967296,Jl=Mx(0),n_=Mx(1),SO=Mx(16777216);Ce=Ft.prototype;Ce.ea=function(){if(yi(this))return-tr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:t_+r)*e,e*=t_}return t};Ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Rs(this))return"0";if(yi(this))return"-"+tr(this).toString(t);for(var e=ls(Math.pow(t,6)),n=this,r="";;){var i=em(n,e).g;n=Zp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Rs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Rs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yi(t){return t.h==-1}Ce.X=function(t){return t=Zp(this,t),yi(t)?-1:Rs(t)?0:1};function tr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ft(n,~t.h).add(n_)}Ce.abs=function(){return yi(this)?tr(this):this};Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ft(n,n[n.length-1]&-2147483648?-1:0)};function Zp(t,e){return t.add(tr(e))}Ce.R=function(t){if(Rs(this)||Rs(t))return Jl;if(yi(this))return yi(t)?tr(this).R(tr(t)):tr(tr(this).R(t));if(yi(t))return tr(this.R(tr(t)));if(0>this.X(SO)&&0>t.X(SO))return ls(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Vh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Vh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Vh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Vh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ft(n,0)};function Vh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nc(t,e){this.g=t,this.h=e}function em(t,e){if(Rs(e))throw Error("division by zero");if(Rs(t))return new Nc(Jl,Jl);if(yi(t))return e=em(tr(t),e),new Nc(tr(e.g),tr(e.h));if(yi(e))return e=em(t,tr(e)),new Nc(tr(e.g),e.h);if(30<t.g.length){if(yi(t)||yi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=n_,r=e;0>=r.X(t);)n=EO(n),r=EO(r);var i=$l(n,1),s=$l(r,1);for(r=$l(r,2),n=$l(n,2);!Rs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$l(r,1),n=$l(n,1)}return e=Zp(t,i.R(e)),new Nc(i,e)}for(i=Jl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ls(n),o=s.R(e);yi(o)||0<o.X(t);)n-=r,s=ls(n),o=s.R(e);Rs(s)&&(s=n_),i=i.add(s),t=Zp(t,o)}return new Nc(i,t)}Ce.gb=function(t){return em(this,t).h};Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ft(n,this.h&t.h)};Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ft(n,this.h|t.h)};Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ft(n,this.h^t.h)};function EO(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ft(n,t.h)}function $l(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ft(i,t.h)}Jp.prototype.createWebChannel=Jp.prototype.g;oi.prototype.send=oi.prototype.u;oi.prototype.open=oi.prototype.m;oi.prototype.close=oi.prototype.close;sg.NO_ERROR=0;sg.TIMEOUT=8;sg.HTTP_ERROR=6;TR.COMPLETE="complete";CR.EventType=Qd;Qd.OPEN="a";Qd.CLOSE="b";Qd.ERROR="c";Qd.MESSAGE="d";zn.prototype.listen=zn.prototype.O;mn.prototype.listenOnce=mn.prototype.P;mn.prototype.getLastError=mn.prototype.Sa;mn.prototype.getLastErrorCode=mn.prototype.Ia;mn.prototype.getStatus=mn.prototype.da;mn.prototype.getResponseJson=mn.prototype.Wa;mn.prototype.getResponseText=mn.prototype.ja;mn.prototype.send=mn.prototype.ha;mn.prototype.setWithCredentials=mn.prototype.Oa;Vi.prototype.digest=Vi.prototype.l;Vi.prototype.reset=Vi.prototype.reset;Vi.prototype.update=Vi.prototype.j;Ft.prototype.add=Ft.prototype.add;Ft.prototype.multiply=Ft.prototype.R;Ft.prototype.modulo=Ft.prototype.gb;Ft.prototype.compare=Ft.prototype.X;Ft.prototype.toNumber=Ft.prototype.ea;Ft.prototype.toString=Ft.prototype.toString;Ft.prototype.getBits=Ft.prototype.D;Ft.fromNumber=ls;Ft.fromString=lM;var c8=function(){return new Jp},d8=function(){return ig()},x0=sg,f8=TR,h8=al,kO={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},p8=Zd,Uh=CR,m8=mn,g8=Vi,Zl=Ft;const TO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new rx("@firebase/firestore");function CO(){return Va.logLevel}function Be(t,...e){if(Va.logLevel<=St.DEBUG){const n=e.map(Lx);Va.debug(`Firestore (${Lu}): ${t}`,...n)}}function Ws(t,...e){if(Va.logLevel<=St.ERROR){const n=e.map(Lx);Va.error(`Firestore (${Lu}): ${t}`,...n)}}function fu(t,...e){if(Va.logLevel<=St.WARN){const n=e.map(Lx);Va.warn(`Firestore (${Lu}): ${t}`,...n)}}function Lx(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+t;throw Ws(e),new Error(e)}function tn(t,e){t||et()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}let y8=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class w8{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Aa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Aa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn(typeof r.accessToken=="string"),new uM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string"),new pr(e)}}class b8{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _8{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new b8(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S8{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn(typeof n.token=="string"),this.T=n.token,new x8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=E8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function hu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Mn(0,0))}static max(){return new st(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(),r===void 0?r=e.length-n:r>e.length-n&&et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ed.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ed?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Jt extends Ed{construct(e,n,r){return new Jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const k8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Ed{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return k8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Me(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Me(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Me(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Me(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Jt.fromString(e))}static fromName(e){return new qe(Jt.fromString(e).popFirst(5))}static empty(){return new qe(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Jt(e.slice()))}}function T8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Mn(n+1,0):new Mn(n,r));return new qo(i,qe.empty(),e)}function C8(t){return new qo(t.readTime,t.key,-1)}class qo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qo(st.min(),qe.empty(),-1)}static max(){return new qo(st.max(),qe.empty(),-1)}}function O8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==N8)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,r)=>{n(e)})}static reject(e){return new be((n,r)=>{r(e)})}static waitFor(e){return new be((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next(i=>i?be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new be((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new be((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}jx.ct=-1;function hg(t){return t==null}function tm(t){return t===0&&1/t==-1/0}function I8(t){return typeof t=="number"&&Number.isInteger(t)&&!tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qh(this.root,e,this.comparator,!0)}}class qh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Zn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NO(this.data.getIterator())}getIteratorFrom(e){return new NO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _r(this.comparator);return n.data=e,n}}class NO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new ti([])}unionWith(e){let n=new _r(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fM("Invalid base64 string: "+i):i}}(e);return new Sr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const A8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(t){if(tn(!!t),typeof t=="string"){let e=0;const n=A8.exec(t);if(tn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $x(t){const e=t.mapValue.fields.__previous_value__;return Fx(e)?$x(e):e}function kd(t){const e=Ho(t.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n,r,i,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Td{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Td("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Td&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={mapValue:{}};function qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fx(t)?4:R8(t)?9007199254740991:10:et()}function ys(t,e){if(t===e)return!0;const n=qa(t);if(n!==qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kd(t).isEqual(kd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ho(r.timestampValue),o=Ho(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ua(r.bytesValue).isEqual(Ua(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Cn(r.geoPointValue.latitude)===Cn(i.geoPointValue.latitude)&&Cn(r.geoPointValue.longitude)===Cn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Cn(r.integerValue)===Cn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Cn(r.doubleValue),o=Cn(i.doubleValue);return s===o?tm(s)===tm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(OO(s)!==OO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ys(s[l],o[l])))return!1;return!0}(t,e);default:return et()}}function Cd(t,e){return(t.values||[]).find(n=>ys(n,e))!==void 0}function pu(t,e){if(t===e)return 0;const n=qa(t),r=qa(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Cn(i.integerValue||i.doubleValue),l=Cn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return DO(t.timestampValue,e.timestampValue);case 4:return DO(kd(t),kd(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ua(i),l=Ua(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Tt(o[u],l[u]);if(d!==0)return d}return Tt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Tt(Cn(i.latitude),Cn(s.latitude));return o!==0?o:Tt(Cn(i.longitude),Cn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let u=0;u<o.length&&u<l.length;++u){const d=pu(o[u],l[u]);if(d)return d}return Tt(o.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Hh.mapValue&&s===Hh.mapValue)return 0;if(i===Hh.mapValue)return 1;if(s===Hh.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Tt(l[f],d[f]);if(h!==0)return h;const p=pu(o[l[f]],u[d[f]]);if(p!==0)return p}return Tt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw et()}}function DO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=Ho(t),r=Ho(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function mu(t){return r_(t)}function r_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ho(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ua(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,qe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=r_(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${r_(r.fields[l])}`;return s+"}"}(t.mapValue):et();var e,n}function IO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i_(t){return!!t&&"integerValue"in t}function Bx(t){return!!t&&"arrayValue"in t}function AO(t){return!!t&&"nullValue"in t}function PO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _p(t){return!!t&&"mapValue"in t}function rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ll(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function R8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=rd(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ll(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hr(rd(this.value))}}function hM(t){const e=[];return ll(t.fields,(n,r)=>{const i=new gr([n]);if(_p(r)){const s=hM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new mr(e,0,st.min(),st.min(),st.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,st.min(),st.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,st.min(),st.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.position=e,this.inclusive=n}}function RO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(o.referenceValue),n.key):r=pu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function M8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{}class Nn extends pM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j8(e,n,r):n==="array-contains"?new B8(e,r):n==="in"?new V8(e,r):n==="not-in"?new U8(e,r):n==="array-contains-any"?new q8(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F8(e,r):new $8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pu(n,this.value)):n!==null&&qa(this.value)===qa(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ui extends pM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ui(e,n)}matches(e){return mM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function mM(t){return t.op==="and"}function gM(t){return L8(t)&&mM(t)}function L8(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function s_(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(gM(t))return t.filters.map(e=>s_(e)).join(",");{const e=t.filters.map(n=>s_(n)).join(",");return`${t.op}(${e})`}}function vM(t,e){return t instanceof Nn?function(n,r){return r instanceof Nn&&n.op===r.op&&n.field.isEqual(r.field)&&ys(n.value,r.value)}(t,e):t instanceof Ui?function(n,r){return r instanceof Ui&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&vM(s,r.filters[o]),!0):!1}(t,e):void et()}function yM(t){return t instanceof Nn?function(e){return`${e.field.canonicalString()} ${e.op} ${mu(e.value)}`}(t):t instanceof Ui?function(e){return e.op.toString()+" {"+e.getFilters().map(yM).join(" ,")+"}"}(t):"Filter"}class j8 extends Nn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class F8 extends Nn{constructor(e,n){super(e,"in",n),this.keys=wM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $8 extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=wM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class B8 extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bx(n)&&Cd(n.arrayValue,this.value)}}class V8 extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cd(this.value.arrayValue,n)}}class U8 extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cd(this.value.arrayValue,n)}}class q8 extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.dt=null}}function LO(t,e=null,n=[],r=[],i=null,s=null,o=null){return new H8(t,e,n,r,i,s,o)}function Vx(t){const e=ct(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.dt=n}return e.dt}function Ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MO(t.startAt,e.startAt)&&MO(t.endAt,e.endAt)}function o_(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function z8(t,e,n,r,i,s,o,l){return new ju(t,e,n,r,i,s,o,l)}function qx(t){return new ju(t)}function jO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bM(t){return t.collectionGroup!==null}function tu(t){const e=ct(t);if(e.wt===null){e.wt=[];const n=pg(e),r=Hx(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new eu(n)),e.wt.push(new eu(gr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new eu(gr.keyField(),s))}}}return e.wt}function Ys(t){const e=ct(t);if(!e._t)if(e.limitType==="F")e._t=LO(e.path,e.collectionGroup,tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of tu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new eu(s.field,o))}const r=e.endAt?new nm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nm(e.startAt.position,e.startAt.inclusive):null;e._t=LO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function a_(t,e){e.getFirstInequalityField(),pg(t);const n=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function l_(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mg(t,e){return Ux(Ys(t),Ys(e))&&t.limitType===e.limitType}function _M(t){return`${Vx(Ys(t))}|lt:${t.limitType}`}function u_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>yM(r)).join(", ")}]`),hg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),`Target(${n})`}(Ys(t))}; limitType=${t.limitType})`}function gg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of tu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=RO(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,tu(n),r)||n.endAt&&!function(i,s,o){const l=RO(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,tu(n),r))}(t,e)}function W8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xM(t){return(e,n)=>{let r=!1;for(const i of tu(t)){const s=Y8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Y8(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(i,s,o){const l=s.data.field(i),u=o.data.field(i);return l!==null&&u!==null?pu(l,u):et()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=new fn(qe.comparator);function Gs(){return G8}const SM=new fn(qe.comparator);function Wc(...t){let e=SM;for(const n of t)e=e.insert(n.key,n);return e}function EM(t){let e=SM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ca(){return id()}function kM(){return id()}function id(){return new Fu(t=>t.toString(),(t,e)=>t.isEqual(e))}const K8=new fn(qe.comparator),Q8=new _r(qe.comparator);function mt(...t){let e=Q8;for(const n of t)e=e.add(n);return e}const X8=new _r(Tt);function J8(){return X8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function CM(t){return{integerValue:""+t}}function Z8(t,e){return I8(e)?CM(e):TM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function eH(t,e,n){return t instanceof rm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Fx(i)&&(i=$x(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Od?NM(t,e):t instanceof Nd?DM(t,e):function(r,i){const s=OM(r,i),o=FO(s)+FO(r.gt);return i_(s)&&i_(r.gt)?CM(o):TM(r.serializer,o)}(t,e)}function tH(t,e,n){return t instanceof Od?NM(t,e):t instanceof Nd?DM(t,e):n}function OM(t,e){return t instanceof im?i_(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class rm extends vg{}class Od extends vg{constructor(e){super(),this.elements=e}}function NM(t,e){const n=IM(e);for(const r of t.elements)n.some(i=>ys(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nd extends vg{constructor(e){super(),this.elements=e}}function DM(t,e){let n=IM(e);for(const r of t.elements)n=n.filter(i=>!ys(i,r));return{arrayValue:{values:n}}}class im extends vg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function FO(t){return Cn(t.integerValue||t.doubleValue)}function IM(t){return Bx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nH(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Od&&r instanceof Od||n instanceof Nd&&r instanceof Nd?hu(n.elements,r.elements,ys):n instanceof im&&r instanceof im?ys(n.gt,r.gt):n instanceof rm&&r instanceof rm}(t.transform,e.transform)}class rH{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function AM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zx(t.key,ji.none()):new sf(t.key,t.data,ji.none());{const n=t.data,r=Hr.empty();let i=new _r(gr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ra(t.key,r,new ti(i.toArray()),ji.none())}}function iH(t,e,n){t instanceof sf?function(r,i,s){const o=r.value.clone(),l=BO(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(r,i,s){if(!xp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=BO(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(PM(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sd(t,e,n,r){return t instanceof sf?function(i,s,o,l){if(!xp(i.precondition,s))return o;const u=i.value.clone(),d=VO(i.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ra?function(i,s,o,l){if(!xp(i.precondition,s))return o;const u=VO(i.fieldTransforms,l,s),d=s.data;return d.setAll(PM(i)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return xp(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function sH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OM(r.transform,i||null);s!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,s))}return n||null}function $O(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&hu(n,r,(i,s)=>nH(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sf extends yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ra extends yg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BO(t,e,n){const r=new Map;tn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,tH(o,l,n[i]))}return r}function VO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eH(s,o,e))}return r}class zx extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oH extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=AM(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,r)=>$O(n,r))&&hu(this.baseMutations,e.baseMutations,(n,r)=>$O(n,r))}}class Wx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){tn(e.mutations.length===r.length);let i=K8;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,vt;function cH(t){switch(t){default:return et();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function RM(t){if(t===void 0)return Ws("GRPC error has no .code"),he.UNKNOWN;switch(t){case Tn.OK:return he.OK;case Tn.CANCELLED:return he.CANCELLED;case Tn.UNKNOWN:return he.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return he.INTERNAL;case Tn.UNAVAILABLE:return he.UNAVAILABLE;case Tn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Tn.NOT_FOUND:return he.NOT_FOUND;case Tn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Tn.ABORTED:return he.ABORTED;case Tn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Tn.DATA_LOSS:return he.DATA_LOSS;default:return et()}}(vt=Tn||(Tn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zh}static getOrCreateInstance(){return zh===null&&(zh=new Yx),zh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let zh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new Zl([4294967295,4294967295],0);function UO(t){const e=dH().encode(t),n=new g8;return n.update(e),new Uint8Array(n.digest())}function qO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zl([n,r],0),new Zl([i,s],0)]}class Gx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yc(`Invalid padding: ${n}`);if(r<0)throw new Yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zl.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Zl.fromNumber(r)));return i.compare(fH)===1&&(i=new Zl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=UO(e),[r,i]=qO(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Gx(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.It===0)return;const n=UO(e),[r,i]=qO(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wg(st.min(),i,new fn(Tt),Gs(),mt())}}class of{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new of(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class MM{constructor(e,n){this.targetId=e,this.Vt=n}}class LM{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class HO{constructor(){this.St=0,this.Dt=WO(),this.Ct=Sr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mt(),n=mt(),r=mt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}}),new of(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=WO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hH{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Gs(),this.zt=zO(),this.Wt=new fn(Tt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(o_(o))if(i===0){const l=new qe(o.path);this.Yt(r,l,mr.newNoDocument(l,st.min()))}else tn(i===1);else{const l=this.ie(r);if(l!==i){const u=this.re(e,l);if(u!==0){this.ee(r);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,d)}(n=Yx.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,f,h){var p,m,v,y,w,_;const b={localCacheCount:f,existenceFilterCount:h.count},k=h.unchangedNames;return k&&(b.bloomFilter={applied:d===0,hashCount:(p=k==null?void 0:k.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(v=(m=k==null?void 0:k.bits)===null||m===void 0?void 0:m.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(_=(w=k==null?void 0:k.bits)===null||w===void 0?void 0:w.padding)!==null&&_!==void 0?_:0}),b}(u,l,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=r;let u,d;try{u=Ua(s).toUint8Array()}catch(f){if(f instanceof fM)return fu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw f}try{d=new Gx(u,o,l)}catch(f){return fu(f instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",f),1}return d.It===0?1:i!==n-this.oe(e.targetId,d)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(l)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const l=this.se(o);if(l){if(s.current&&o_(l.target)){const u=new qe(l.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,mr.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=mt();this.zt.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.se(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new wg(e,n,this.Wt,this.jt,r);return this.jt=Gs(),this.zt=zO(),this.Wt=new fn(Tt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new HO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _r(Tt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new HO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function zO(){return new fn(qe.comparator)}function WO(){return new fn(qe.comparator)}const pH={asc:"ASCENDING",desc:"DESCENDING"},mH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gH={and:"AND",or:"OR"};class vH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c_(t,e){return t.useProto3Json||hg(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yH(t,e){return sm(t,e.toTimestamp())}function hs(t){return tn(!!t),st.fromTimestamp(function(e){const n=Ho(e);return new Mn(n.seconds,n.nanos)}(t))}function Kx(t,e){return function(n){return new Jt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function FM(t){const e=Jt.fromString(t);return tn(UM(e)),e}function d_(t,e){return Kx(t.databaseId,e.path)}function S0(t,e){const n=FM(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe($M(n))}function f_(t,e){return Kx(t.databaseId,e)}function wH(t){const e=FM(t);return e.length===4?Jt.emptyPath():$M(e)}function h_(t){return new Jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $M(t){return tn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YO(t,e,n){return{name:d_(t,e),fields:n.value.mapValue.fields}}function bH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(tn(d===void 0||typeof d=="string"),Sr.fromBase64String(d||"")):(tn(d===void 0||d instanceof Uint8Array),Sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?he.UNKNOWN:RM(u.code);return new Me(d,u.message||"")}(o);n=new LM(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=S0(t,r.document.name),s=hs(r.document.updateTime),o=r.document.createTime?hs(r.document.createTime):st.min(),l=new Hr({mapValue:{fields:r.document.fields}}),u=mr.newFoundDocument(i,s,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Sp(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=S0(t,r.document),s=r.readTime?hs(r.readTime):st.min(),o=mr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Sp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=S0(t,r.document),s=r.removedTargetIds||[];n=new Sp([],s,i,null)}else{if(!("filter"in e))return et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uH(i,s),l=r.targetId;n=new MM(l,o)}}return n}function _H(t,e){let n;if(e instanceof sf)n={update:YO(t,e.key,e.value)};else if(e instanceof zx)n={delete:d_(t,e.key)};else if(e instanceof ra)n={update:YO(t,e.key,e.data),updateMask:DH(e.fieldMask)};else{if(!(e instanceof oH))return et();n={verify:d_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof rm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Od)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Nd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof im)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw et()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:yH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:et()}(t,e.precondition)),n}function xH(t,e){return t&&t.length>0?(tn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?hs(r.updateTime):hs(i);return s.isEqual(st.min())&&(s=hs(i)),new rH(s,r.transformResults||[])}(n,e))):[]}function SH(t,e){return{documents:[f_(t,e.path)]}}function EH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=f_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=f_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return VM(Ui.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Hl(f.field),direction:CH(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=c_(t,e.limit);var l;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function kH(t){let e=wH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tn(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(f){const h=BM(f);return h instanceof Ui&&gM(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(h){return new eu(zl(h.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,hg(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(f){const h=!!f.before,p=f.values||[];return new nm(p,h)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const h=!f.before,p=f.values||[];return new nm(p,h)}(n.endAt)),z8(e,i,o,s,l,"F",u,d)}function TH(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BM(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=zl(e.unaryFilter.field);return Nn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=zl(e.unaryFilter.field);return Nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zl(e.unaryFilter.field);return Nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zl(e.unaryFilter.field);return Nn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(t):t.fieldFilter!==void 0?function(e){return Nn.create(zl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ui.create(e.compositeFilter.filters.map(n=>BM(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return et()}}(e.compositeFilter.op))}(t):et()}function CH(t){return pH[t]}function OH(t){return mH[t]}function NH(t){return gH[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function zl(t){return gr.fromServerFormat(t.fieldPath)}function VM(t){return t instanceof Nn?function(e){if(e.op==="=="){if(PO(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NAN"}};if(AO(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(PO(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NOT_NAN"}};if(AO(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(e.field),op:OH(e.op),value:e.value}}}(t):t instanceof Ui?function(e){const n=e.getFilters().map(r=>VM(r));return n.length===1?n[0]:{compositeFilter:{op:NH(e.op),filters:n}}}(t):et()}function DH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r,i,s=st.min(),o=st.min(),l=Sr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.fe=e}}function AH(t){const e=kH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?l_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this.rn=new RH}addToCollectionParentIndex(e,n){return this.rn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(qo.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(qo.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class RH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _r(Jt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gu(0)}static Mn(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.changes=new Fu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jH=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sd(r.mutation,i,ti.empty(),Mn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){const i=Ca();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wc();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ca();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Gs();const o=id(),l=id();return n.forEach((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof ra)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),sd(f.mutation,d,f.mutation.getFieldMask(),Mn.now())):o.set(d.key,ti.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var h;return l.set(d,new LH(f,(h=o.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=id();let i=new fn((o,l)=>o-l),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||ti.empty();f=l.applyToLocalView(d,f),r.set(u,f);const h=(i.get(l.batchId)||mt()).add(u);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,h=kM();f.forEach(p=>{if(!s.has(p)){const m=AM(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return be.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return qe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):be.resolve(Ca());let l=-1,u=s;return o.next(d=>be.forEach(d,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(f)?be.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,mt())).next(f=>({batchId:l,changes:EM(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=Wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Wc();return this.indexManager.getCollectionParents(e,i).next(o=>be.forEach(o,l=>{const u=function(d,f){return new ju(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,mr.newInvalidDocument(d)))});let o=Wc();return s.forEach((l,u)=>{const d=i.get(l);d!==void 0&&sd(d.mutation,u,ti.empty(),Mn.now()),gg(n,u)&&(o=o.insert(l,u))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return be.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:hs(r.createTime)}),be.resolve()}getNamedQuery(e,n){return be.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:AH(r.bundledQuery),readTime:hs(r.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.overlays=new fn(qe.comparator),this.ls=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ca();return be.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=Ca(),s=n.length+1,o=new qe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new fn((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Ca(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Ca(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=i)););return be.resolve(l)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lH(n,r));let s=this.ls.get(n);s===void 0&&(s=mt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.fs=new _r(Un.ds),this.ws=new _r(Un._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Un(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Un(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new qe(new Jt([])),r=new Un(n,e),i=new Un(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new qe(new Jt([])),r=new Un(n,e),i=new Un(n,e+1);let s=mt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Un(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return qe.comparator(e.key,n.key)||Tt(e.As,n.As)}static _s(e,n){return Tt(e.As,n.As)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _r(Un.ds)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aH(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Rs=this.Rs.add(new Un(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,n){return be.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),i=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const l=this.Ps(o.As);s.push(l)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(Tt);return n.forEach(i=>{const s=new Un(i,0),o=new Un(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],l=>{r=r.add(l.As)})}),be.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const o=new Un(new qe(s),0);let l=new _r(Tt);return this.Rs.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.As)),!0)},o),be.resolve(this.Vs(l))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){tn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return be.forEach(n.mutations,i=>{const s=new Un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Un(n,0),i=this.Rs.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.Ds=e,this.docs=new fn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Gs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))}),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gs();const o=n.path,l=new qe(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||O8(C8(f),r)<=0||(i.has(f.key)||gg(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,i){et()}Cs(e,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UH(this)}getSize(e){return be.resolve(this.size)}}class UH extends MH{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),be.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.persistence=e,this.xs=new Fu(n=>Vx(n),Ux),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Qx,this.targetCount=0,this.Ms=gu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),be.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new gu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Fn(n),be.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),be.waitFor(s).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),be.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n){this.$s={},this.overlays={},this.Os=new jx(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new qH(this),this.indexManager=new PH,this.remoteDocumentCache=function(r){return new VH(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new IH(n),this.qs=new FH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $H,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new BH(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new zH(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return be.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class zH extends D8{constructor(e){super(),this.currentSequenceNumber=e}}class Xx{constructor(e){this.persistence=e,this.Qs=new Qx,this.js=null}static zs(e){return new Xx(e)}get Ws(){if(this.js)return this.js;throw et()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),be.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ws,r=>{const i=qe.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return be.or([()=>be.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=mt(),i=mt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(jO(n))return be.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=l_(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=mt(...s);return this.Ui.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ji(n,l);return this.zi(n,d,o,u.readTime)?this.Ki(e,l_(n,null,"F")):this.Wi(e,d,n,u)}))})))}Gi(e,n,r,i){return jO(n)||i.isEqual(st.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(CO()<=St.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),u_(n)),this.Wi(e,o,n,T8(i,-1)))})}ji(e,n){let r=new _r(xM(e));return n.forEach((i,s)=>{gg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return CO()<=St.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",u_(n)),this.Ui.getDocumentsMatchingQuery(e,n,qo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new fn(Tt),this.Yi=new Fu(s=>Vx(s),Ux),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function GH(t,e,n,r){return new YH(t,e,n,r)}async function qM(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=mt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({er:d,removedBatchIds:o,addedBatchIds:l}))})})}function KH(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const f=u.batch,h=f.keys();let p=be.resolve();return h.forEach(m=>{p=p.next(()=>d.getEntry(l,m)).next(v=>{const y=u.docVersions.get(m);tn(y!==null),v.version.compareTo(y)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=mt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HM(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function QH(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const l=[];e.targetChanges.forEach((f,h)=>{const p=i.get(h);if(!p)return;l.push(n.Bs.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,f.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Sr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(h,m),function(v,y,w){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,f)&&l.push(n.Bs.updateTargetData(s,m))});let u=Gs(),d=mt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(XH(s,o,e.documentUpdates).next(f=>{u=f.nr,d=f.sr})),!r.isEqual(st.min())){const f=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return be.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.Ji=i,s))}function XH(t,e,n){let r=mt(),i=mt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gs();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(st.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Be("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{nr:o,sr:i}})}function JH(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZH(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,be.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ro(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function p_(t,e,n){const r=ct(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!rf(o))throw o;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function GO(t,e,n){const r=ct(t);let i=st.min(),s=mt();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,d){const f=ct(l),h=f.Yi.get(d);return h!==void 0?be.resolve(f.Ji.get(h)):f.Bs.getTargetData(u,d)}(r,o,Ys(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:mt())).next(l=>(ez(r,W8(e),l),{documents:l,ir:s})))}function ez(t,e,n){let r=t.Xi.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class KO{constructor(){this.activeTargetIds=J8()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tz{constructor(){this.Hr=new KO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new KO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function E0(){return Wh===null?Wh=268435456+Math.round(2147483648*Math.random()):Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class sz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=E0(),l=this.To(e,n);Be("RestConnection",`Sending RPC '${e}' ${o}:`,l,r);const u={};return this.Eo(u,i,s),this.Ao(e,l,u,r).then(d=>(Be("RestConnection",`Received RPC '${e}' ${o}: `,d),d),d=>{throw fu("RestConnection",`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",r),d})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=rz[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=E0();return new Promise((o,l)=>{const u=new m8;u.setWithCredentials(!0),u.listenOnce(f8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case x0.NO_ERROR:const f=u.getResponseJson();Be(fr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case x0.TIMEOUT:Be(fr,`RPC '${e}' ${s} timed out`),l(new Me(he.DEADLINE_EXCEEDED,"Request time out"));break;case x0.HTTP_ERROR:const h=u.getStatus();if(Be(fr,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(w)>=0?w:he.UNKNOWN}(m.status);l(new Me(v,m.message))}else l(new Me(he.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Me(he.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Be(fr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Be(fr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Ro(e,n,r){const i=E0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=c8(),l=d8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new p8({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Be(fr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let p=!1,m=!1;const v=new iz({ro:w=>{m?Be(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(Be(fr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Be(fr,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),y=(w,_,b)=>{w.listen(_,k=>{try{b(k)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,Uh.EventType.OPEN,()=>{m||Be(fr,`RPC '${e}' stream ${i} transport opened.`)}),y(h,Uh.EventType.CLOSE,()=>{m||(m=!0,Be(fr,`RPC '${e}' stream ${i} transport closed`),v.wo())}),y(h,Uh.EventType.ERROR,w=>{m||(m=!0,fu(fr,`RPC '${e}' stream ${i} transport errored:`,w),v.wo(new Me(he.UNAVAILABLE,"The operation could not be completed")))}),y(h,Uh.EventType.MESSAGE,w=>{var _;if(!m){const b=w.data[0];tn(!!b);const k=b,S=k.error||((_=k[0])===null||_===void 0?void 0:_.error);if(S){Be(fr,`RPC '${e}' stream ${i} received error:`,S);const T=S.status;let N=function(D){const j=Tn[D];if(j!==void 0)return RM(j)}(T),O=S.message;N===void 0&&(N=he.INTERNAL,O="Unknown error status: "+T+" with message "+S.message),m=!0,v.wo(new Me(N,O)),h.close()}else Be(fr,`RPC '${e}' stream ${i} received:`,b),v._o(b)}}),y(l,h8.STAT_EVENT,w=>{w.stat===kO.PROXY?Be(fr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===kO.NOPROXY&&Be(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function k0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){return new vH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i,s,o,l,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zM(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Me(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oz extends WM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=bH(this.serializer,e),r=function(i){if(!("targetChange"in i))return st.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?st.min():s.readTime?hs(s.readTime):st.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=h_(this.serializer),n.addTarget=function(i,s){let o;const l=s.target;if(o=o_(l)?{documents:SH(i,l)}:{query:EH(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=jM(i,s.resumeToken);const u=c_(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(st.min())>0){o.readTime=sm(i,s.snapshotVersion.toTimestamp());const u=c_(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=TH(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=h_(this.serializer),n.removeTarget=e,this.Wo(n)}}class az extends WM{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=xH(e.writeResults,e.commitTime),r=hs(e.commitTime);return this.listener.cu(r,n)}return tn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=h_(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_H(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(he.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(he.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class uz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ws(n),this.mu=!1):Be("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{ul(this)&&(Be("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ct(l);u.vu.add(4),await af(u),u.bu.set("Unknown"),u.vu.delete(4),await _g(u)}(this))})}),this.bu=new uz(r,i)}}async function _g(t){if(ul(t))for(const e of t.Ru)await e(!0)}async function af(t){for(const e of t.Ru)await e(!1)}function YM(t,e){const n=ct(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),tS(n)?eS(n):$u(n).Ko()&&Zx(n,e))}function GM(t,e){const n=ct(t),r=$u(n);n.Au.delete(e),r.Ko()&&KM(n,e),n.Au.size===0&&(r.Ko()?r.jo():ul(n)&&n.bu.set("Unknown"))}function Zx(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$u(t).su(e)}function KM(t,e){t.Vu.qt(e),$u(t).iu(e)}function eS(t){t.Vu=new hH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.bu.gu()}function tS(t){return ul(t)&&!$u(t).Uo()&&t.Au.size>0}function ul(t){return ct(t).vu.size===0}function QM(t){t.Vu=void 0}async function dz(t){t.Au.forEach((e,n)=>{Zx(t,e)})}async function fz(t,e){QM(t),tS(t)?(t.bu.Iu(e),eS(t)):t.bu.set("Unknown")}async function hz(t,e,n){if(t.bu.set("Online"),e instanceof LM&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await om(t,r)}else if(e instanceof Sp?t.Vu.Ht(e):e instanceof MM?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(st.min()))try{const r=await HM(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Au.get(u);d&&i.Au.set(u,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const d=i.Au.get(l);if(!d)return;i.Au.set(l,d.withResumeToken(Sr.EMPTY_BYTE_STRING,d.snapshotVersion)),KM(i,l);const f=new Ro(d.target,l,u,d.sequenceNumber);Zx(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),await om(t,r)}}async function om(t,e,n){if(!rf(e))throw e;t.vu.add(1),await af(t),t.bu.set("Offline"),n||(n=()=>HM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Be("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await _g(t)})}function XM(t,e){return e().catch(n=>om(t,n,e))}async function xg(t){const e=ct(t),n=zo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;pz(e);)try{const i=await JH(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,mz(e,i)}catch(i){await om(e,i)}JM(e)&&ZM(e)}function pz(t){return ul(t)&&t.Eu.length<10}function mz(t,e){t.Eu.push(e);const n=zo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function JM(t){return ul(t)&&!zo(t).Uo()&&t.Eu.length>0}function ZM(t){zo(t).start()}async function gz(t){zo(t).hu()}async function vz(t){const e=zo(t);for(const n of t.Eu)e.uu(n.mutations)}async function yz(t,e,n){const r=t.Eu.shift(),i=Wx.from(r,e,n);await XM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xg(t)}async function wz(t,e){e&&zo(t).ou&&await async function(n,r){if(i=r.code,cH(i)&&i!==he.ABORTED){const s=n.Eu.shift();zo(n).Qo(),await XM(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await xg(n)}var i}(t,e),JM(t)&&ZM(t)}async function XO(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=ul(n);n.vu.add(3),await af(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await _g(n)}async function bz(t,e){const n=ct(t);e?(n.vu.delete(2),await _g(n)):e||(n.vu.add(2),await af(n),n.bu.set("Unknown"))}function $u(t){return t.Su||(t.Su=function(e,n,r){const i=ct(e);return i.fu(),new oz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:dz.bind(null,t),ao:fz.bind(null,t),nu:hz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),tS(t)?eS(t):t.bu.set("Unknown")):(await t.Su.stop(),QM(t))})),t.Su}function zo(t){return t.Du||(t.Du=function(e,n,r){const i=ct(e);return i.fu(),new az(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:gz.bind(null,t),ao:wz.bind(null,t),au:vz.bind(null,t),cu:yz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await xg(t)):(await t.Du.stop(),t.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new nS(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rS(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),rf(t))return new Me(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new fn(this.comparator)}static emptySet(e){return new nu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Cu=new fn(qe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):et():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class vu{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new vu(e,n,nu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.Nu=void 0,this.listeners=[]}}class xz{constructor(){this.queries=new Fu(e=>_M(e),mg),this.onlineState="Unknown",this.ku=new Set}}async function Sz(t,e){const n=ct(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _z),i)try{s.Nu=await n.onListen(r)}catch(o){const l=rS(o,`Initialization of query '${u_(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&iS(n)}async function Ez(t,e){const n=ct(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function kz(t,e){const n=ct(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.$u(i)&&(r=!0);o.Nu=i}}r&&iS(n)}function Tz(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function iS(t){t.ku.forEach(e=>{e.next()})}class Cz{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.key=e}}class tL{constructor(e){this.key=e}}class Oz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mt(),this.mutatedKeys=mt(),this.tc=xM(e),this.ec=new nu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new JO,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const p=i.get(f),m=gg(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?v!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(p,m)||(r.track({type:2,doc:m}),w=!0,(u&&this.tc(m,u)>0||d&&this.tc(m,d)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(u||d)&&(l=!0)),w&&(m?(o=o.add(m),s=y?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ec:o,ic:r,zi:l,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((d,f)=>function(h,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return m(h)-m(p)}(d.type,f.type)||this.tc(d.doc,f.doc)),this.oc(r);const o=n?this.uc():[],l=this.Zu.size===0&&this.current?1:0,u=l!==this.Xu;return this.Xu=l,s.length!==0||u?{snapshot:new vu(this.query,e.ec,i,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new JO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new tL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new eL(r))}),n}hc(e){this.Yu=e.ir,this.Zu=mt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return vu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Nz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dz{constructor(e){this.key=e,this.fc=!1}}class Iz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Fu(l=>_M(l),mg),this._c=new Map,this.mc=new Set,this.gc=new fn(qe.comparator),this.yc=new Map,this.Ic=new Qx,this.Tc={},this.Ec=new Map,this.Ac=gu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Az(t,e){const n=Uz(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await ZH(n.localStore,Ys(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Pz(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&YM(n.remoteStore,o)}return i}async function Pz(t,e,n,r,i){t.Rc=(h,p,m)=>async function(v,y,w,_){let b=y.view.sc(w);b.zi&&(b=await GO(v.localStore,y.query,!1).then(({documents:T})=>y.view.sc(T,b)));const k=_&&_.targetChanges.get(y.targetId),S=y.view.applyChanges(b,v.isPrimaryClient,k);return eN(v,y.targetId,S.cc),S.snapshot}(t,h,p,m);const s=await GO(t.localStore,e,!0),o=new Oz(e,s.ir),l=o.sc(s.documents),u=of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);eN(t,n,d.cc);const f=new Nz(e,n,o);return t.wc.set(e,f),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),d.snapshot}async function Rz(t,e){const n=ct(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!mg(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await p_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),GM(n.remoteStore,r.targetId),m_(n,r.targetId)}).catch(nf)):(m_(n,r.targetId),await p_(n.localStore,r.targetId,!0))}async function Mz(t,e,n){const r=qz(t);try{const i=await function(s,o){const l=ct(s),u=Mn.now(),d=o.reduce((p,m)=>p.add(m.key),mt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Gs(),v=mt();return l.Zi.getEntries(p,d).next(y=>{m=y,m.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{f=y;const w=[];for(const _ of o){const b=sH(_,f.get(_.key).overlayedDocument);b!=null&&w.push(new ra(_.key,b,hM(b.value.mapValue),ji.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,o)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:EM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Tc[s.currentUser.toKey()];u||(u=new fn(Tt)),u=u.insert(o,l),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),await lf(r,i.changes),await xg(r.remoteStore)}catch(i){const s=rS(i,"Failed to persist write");n.reject(s)}}async function nL(t,e){const n=ct(t);try{const r=await QH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?tn(o.fc):i.removedDocuments.size>0&&(tn(o.fc),o.fc=!1))}),await lf(n,r,e)}catch(r){await nf(r)}}function ZO(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const l=o.view.Mu(e);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=ct(s);l.onlineState=o;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.listeners)h.Mu(o)&&(u=!0)}),u&&iS(l)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lz(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new fn(qe.comparator);o=o.insert(s,mr.newNoDocument(s,st.min()));const l=mt().add(s),u=new wg(st.min(),new Map,new fn(Tt),o,l);await nL(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),sS(r)}else await p_(r.localStore,e,!1).then(()=>m_(r,e,n)).catch(nf)}async function jz(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await KH(n.localStore,e);iL(n,r,null),rL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,i)}catch(i){await nf(i)}}async function Fz(t,e,n){const r=ct(t);try{const i=await function(s,o){const l=ct(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(tn(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);iL(r,e,n),rL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lf(r,i)}catch(i){await nf(i)}}function rL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function iL(t,e,n){const r=ct(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function m_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||sL(t,r)})}function sL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(GM(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),sS(t))}function eN(t,e,n){for(const r of n)r instanceof eL?(t.Ic.addReference(r.key,e),$z(t,r)):r instanceof tL?(Be("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||sL(t,r.key)):et()}function $z(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Be("SyncEngine","New document in limbo: "+n),t.mc.add(r),sS(t))}function sS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new qe(Jt.fromString(e)),r=t.Ac.next();t.yc.set(r,new Dz(n)),t.gc=t.gc.insert(n,r),YM(t.remoteStore,new Ro(Ys(qx(n.path)),r,"TargetPurposeLimboResolution",jx.ct))}}async function lf(t,e,n){const r=ct(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((l,u)=>{o.push(r.Rc(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const f=Jx.Li(u.targetId,d);s.push(f)}}))}),await Promise.all(o),r.dc.nu(i),await async function(l,u){const d=ct(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>be.forEach(u,h=>be.forEach(h.Fi,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>be.forEach(h.Bi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!rf(f))throw f;Be("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ji.get(h),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);d.Ji=d.Ji.insert(h,v)}}}(r.localStore,s))}async function Bz(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=await qM(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(l=>{l.reject(new Me(he.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lf(n,r.er)}}function Vz(t,e){const n=ct(t),r=n.yc.get(e);if(r&&r.fc)return mt().add(r.key);{let i=mt();const s=n._c.get(e);if(!s)return i;for(const o of s){const l=n.wc.get(o);i=i.unionWith(l.view.nc)}return i}}function Uz(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lz.bind(null,e),e.dc.nu=kz.bind(null,e.eventManager),e.dc.Pc=Tz.bind(null,e.eventManager),e}function qz(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fz.bind(null,e),e}class tN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GH(this.persistence,new WH,e.initialUser,this.serializer)}createPersistence(e){return new HH(Xx.zs,this.serializer)}createSharedClientState(e){return new tz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Hz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bz.bind(null,this.syncEngine),await bz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xz}createDatastore(e){const n=bg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new sz(i));var i;return function(s,o,l,u){return new lz(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=l=>ZO(this.syncEngine,l,0),o=QO.D()?new QO:new nz,new cz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,l,u,d){const f=new Iz(r,i,s,o,l,u);return d&&(f.vc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ct(e);Be("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await af(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=cM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Be("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function T0(t,e){t.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Gz(t);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>XO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>XO(e.remoteStore,s)),t._onlineComponents=e}function Yz(t){return t.name==="FirebaseError"?t.code===he.FAILED_PRECONDITION||t.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Gz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{await T0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Yz(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await T0(t,new tN)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),await T0(t,new tN);return t._offlineComponents}async function oL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),await nN(t,t._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),await nN(t,new Hz))),t._onlineComponents}function Kz(t){return oL(t).then(e=>e.syncEngine)}async function rN(t){const e=await oL(t),n=e.eventManager;return n.onListen=Az.bind(null,e.syncEngine),n.onUnlisten=Rz.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e,n){if(!n)throw new Me(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qz(t,e,n,r){if(e===!0&&r===!0)throw new Me(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sN(t){if(!qe.isDocumentKey(t))throw new Me(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oN(t){if(qe.isDocumentKey(t))throw new Me(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function Ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sg(t);throw new Me(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Eg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aN(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new v8;switch(n.type){case"firstParty":return new _8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=iN.get(e);n&&(Be("ComponentProvider","Removing Datastore"),iN.delete(e),n.terminate())}(this),Promise.resolve()}}function Xz(t,e,n,r={}){var i;const s=(t=Ms(t,Eg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=pr.MOCK_USER;else{l=yP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Me(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pr(d)}t._authCredentials=new y8(new uM(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class cl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class Bo extends cl{constructor(e,n,r){super(e,n,qx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new qe(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function uL(t,e,...n){if(t=Ct(t),lL("collection","path",e),t instanceof Eg){const r=Jt.fromString(e,...n);return oN(r),new Bo(t,null,r)}{if(!(t instanceof Mr||t instanceof Bo))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return oN(r),new Bo(t.firestore,null,r)}}function rn(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=cM.A()),lL("doc","path",e),t instanceof Eg){const r=Jt.fromString(e,...n);return sN(r),new Mr(t,null,new qe(r))}{if(!(t instanceof Mr||t instanceof Bo))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return sN(r),new Mr(t.firestore,t instanceof Bo?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zM(this,"async_queue_retry"),this.Xc=()=>{const n=k0();n&&Be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=k0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=k0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Aa;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!rf(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Ws("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=nS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&et()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function lN(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class yu extends Eg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dL(this),this._firestoreClient.terminate()}}function Zz(t,e){const n=Hd(),r="(default)",i=Xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nx("firestore");s&&Xz(i,...s)}return i}function cL(t){return t._firestoreClient||dL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dL(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,d){return new P8(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Wz(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wu(Sr.fromBase64String(e))}catch(n){throw new Me(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wu(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=/^__.*__$/;class t7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new sf(e,this.data,n,this.fieldTransforms)}}class fL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class lS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return am(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(hL(this.ca)&&e7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class n7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bg(e)}ya(e,n,r,i=!1){return new lS({ca:e,methodName:n,ga:r,path:gr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uS(t){const e=t._freezeSettings(),n=bg(t._databaseId);return new n7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r7(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);cS("Data must be an object, but it was:",o,r);const l=pL(r,o);let u,d;if(s.merge)u=new ti(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const p=g_(e,h,n);if(!o.contains(p))throw new Me(he.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gL(f,p)||f.push(p)}u=new ti(f),d=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,d=o.fieldTransforms;return new t7(new Hr(l),u,d)}class Tg extends oS{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tg}}function i7(t,e,n,r){const i=t.ya(1,e,n);cS("Data must be an object, but it was:",i,r);const s=[],o=Hr.empty();ll(r,(u,d)=>{const f=dS(e,u,n);d=Ct(d);const h=i.da(f);if(d instanceof Tg)s.push(f);else{const p=uf(d,h);p!=null&&(s.push(f),o.set(f,p))}});const l=new ti(s);return new fL(o,l,i.fieldTransforms)}function s7(t,e,n,r,i,s){const o=t.ya(1,e,n),l=[g_(e,r,n)],u=[i];if(s.length%2!=0)throw new Me(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(g_(e,s[p])),u.push(s[p+1]);const d=[],f=Hr.empty();for(let p=l.length-1;p>=0;--p)if(!gL(d,l[p])){const m=l[p];let v=u[p];v=Ct(v);const y=o.da(m);if(v instanceof Tg)d.push(m);else{const w=uf(v,y);w!=null&&(d.push(m),f.set(m,w))}}const h=new ti(d);return new fL(f,h,o.fieldTransforms)}function o7(t,e,n,r=!1){return uf(n,t.ya(r?4:3,e))}function uf(t,e){if(mL(t=Ct(t)))return cS("Unsupported field value:",e,t),pL(t,e);if(t instanceof oS)return function(n,r){if(!hL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let l=uf(o,r.wa(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Z8(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Mn.fromDate(n);return{timestampValue:sm(r.serializer,i)}}if(n instanceof Mn){const i=new Mn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sm(r.serializer,i)}}if(n instanceof aS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wu)return{bytesValue:jM(r.serializer,n._byteString)};if(n instanceof Mr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Sg(n)}`)}(t,e)}function pL(t,e){const n={};return dM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(t,(r,i)=>{const s=uf(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mn||t instanceof aS||t instanceof wu||t instanceof Mr||t instanceof oS)}function cS(t,e,n){if(!mL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Sg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function g_(t,e,n){if((e=Ct(e))instanceof kg)return e._internalPath;if(typeof e=="string")return dS(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const a7=new RegExp("[~\\*/\\[\\]]");function dS(t,e,n){if(e.search(a7)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kg(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Me(he.INVALID_ARGUMENT,l+t+u)}function gL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l7 extends vL{data(){return super.data()}}function Cg(t,e){return typeof e=="string"?dS(t,e):e instanceof kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fS{}class yL extends fS{}function C0(t,e,...n){let r=[];e instanceof fS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(l=>l instanceof hS).length,o=i.filter(l=>l instanceof Og).length;if(s>1||s>0&&o>0)throw new Me(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Og extends yL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Og(e,n,r)}_apply(e){const n=this._parse(e);return wL(e._query,n),new cl(e.firestore,e.converter,a_(e._query,n))}_parse(e){const n=uS(e.firestore);return function(i,s,o,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Me(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){dN(f,d);const p=[];for(const m of f)p.push(cN(l,i,m));h={arrayValue:{values:p}}}else h=cN(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||dN(f,d),h=o7(o,s,f,d==="in"||d==="not-in");return Nn.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uN(t,e,n){const r=e,i=Cg("where",t);return Og._create(i,r,n)}class hS extends fS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const l of o)wL(s,l),s=a_(s,l)}(e._query,n),new cl(e.firestore,e.converter,a_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pS extends yL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pS(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new eu(i,s);return function(l,u){if(Hx(l)===null){const d=pg(l);d!==null&&bL(l,d,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new cl(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ju(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function c7(t,e="asc"){const n=e,r=Cg("orderBy",t);return pS._create(r,n)}function cN(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new Me(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bM(e)&&n.indexOf("/")!==-1)throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jt.fromString(n));if(!qe.isDocumentKey(r))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IO(t,new qe(r))}if(n instanceof Mr)return IO(t,n._key);throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(n)}.`)}function dN(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wL(t,e){if(e.isInequality()){const r=pg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Me(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Hx(t);s!==null&&bL(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Me(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function bL(t,e,n){if(!n.isEqual(e))throw new Me(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class d7{convertValue(e,n="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ll(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new aS(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$x(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kd(e));default:return null}}convertTimestamp(e){const n=Ho(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jt.fromString(e);tn(UM(r));const i=new Td(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Ws(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _L extends vL{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ep extends _L{data(e={}){return super.data(e)}}class h7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ep(this._firestore,this._userDataWriter,r.key,r,new Gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const l=new Ep(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Gc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Ep(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Gc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:p7(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}class xL extends d7{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,n)}}function ws(t,e,n){t=Ms(t,Mr);const r=Ms(t.firestore,yu),i=f7(t.converter,e);return mS(r,[r7(uS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ji.none())])}function un(t,e,n,...r){t=Ms(t,Mr);const i=Ms(t.firestore,yu),s=uS(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof kg?s7(s,"updateDoc",t._key,e,n,r):i7(s,"updateDoc",t._key,e),mS(i,[o.toMutation(t._key,ji.exists(!0))])}function Ng(t){return mS(Ms(t.firestore,yu),[new zx(t._key,ji.none())])}function SL(t,...e){var n,r,i;t=Ct(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||lN(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(lN(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,d,f;if(t instanceof Mr)d=Ms(t.firestore,yu),f=qx(t._key.path),u={next:h=>{e[o]&&e[o](m7(d,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ms(t,cl);d=Ms(h.firestore,yu),f=h._query;const p=new xL(d);u={next:m=>{e[o]&&e[o](new h7(d,p,h,m))},error:e[o+1],complete:e[o+2]},u7(t._query)}return function(h,p,m,v){const y=new zz(v),w=new Cz(p,y,m);return h.asyncQueue.enqueueAndForget(async()=>Sz(await rN(h),w)),()=>{y.Dc(),h.asyncQueue.enqueueAndForget(async()=>Ez(await rN(h),w))}}(cL(d),f,l,u)}function mS(t,e){return function(n,r){const i=new Aa;return n.asyncQueue.enqueueAndForget(async()=>Mz(await Kz(n),r,i)),i.promise}(cL(t),e)}function m7(t,e,n){const r=n.docs.get(e._key),i=new xL(t);return new _L(t,i,e._key,r,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Lu=n})(sl),bi(new si("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new yu(new w8(n.getProvider("auth-internal")),new S8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Me(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Td(l.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),yr(TO,"3.13.0",t),yr(TO,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="type.googleapis.com/google.protobuf.Int64Value",v7="type.googleapis.com/google.protobuf.UInt64Value";function EL(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function v_(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>v_(e));if(typeof t=="function"||typeof t=="object")return EL(t,e=>v_(e));throw new Error("Data cannot be encoded in JSON: "+t)}function lm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case g7:case v7:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>lm(e)):typeof t=="function"||typeof t=="object"?EL(t,e=>lm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ru extends xi{constructor(e,n,r){super(`${gS}/${e}`,n||""),this.details=r}}function y7(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function w7(t,e){let n=y7(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!fN[o])return new ru("internal","internal");n=fN[o],r=o}const l=s.message;typeof l=="string"&&(r=l),i=s.details,i!==void 0&&(i=lm(i))}}catch{}return n==="ok"?null:new ru(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="us-central1";function _7(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new ru("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class x7{constructor(e,n,r,i,s=y_,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new b7(n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin,this.region=y_}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function S7(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function E7(t,e,n){return r=>T7(t,e,r,{})}async function k7(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function T7(t,e,n,r){const i=t._url(e);return C7(t,i,n,r)}async function C7(t,e,n,r){n=v_(n);const i={data:n},s={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const l=r.timeout||7e4,u=_7(l),d=await Promise.race([k7(e,i,s,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!d)throw new ru("cancelled","Firebase Functions instance was deleted.");const f=w7(d.status,d.json);if(f)throw f;if(!d.json)throw new ru("internal","Response is not valid JSON object.");let h=d.json.data;if(typeof h>"u"&&(h=d.json.result),typeof h>"u")throw new ru("internal","Response is missing data field.");return{data:lm(h)}}const hN="@firebase/functions",pN="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="auth-internal",N7="app-check-internal",D7="messaging-internal";function I7(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(O7),l=r.getProvider(D7),u=r.getProvider(N7);return new x7(s,o,l,u,i,t)};bi(new si(gS,n,"PUBLIC").setMultipleInstances(!0)),yr(hN,pN,e),yr(hN,pN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t=Hd(),e=y_){const r=Xo(Ct(t),gS).getImmediate({identifier:e}),i=nx("functions");return i&&P7(r,...i),r}function P7(t,e,n){S7(Ct(t),e,n)}function kL(t,e,n){return E7(Ct(t),e)}I7(fetch.bind(self));const R7=(t,e)=>e.some(n=>t instanceof n);let mN,gN;function M7(){return mN||(mN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L7(){return gN||(gN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TL=new WeakMap,w_=new WeakMap,CL=new WeakMap,O0=new WeakMap,vS=new WeakMap;function j7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TL.set(n,t)}).catch(()=>{}),vS.set(e,t),e}function F7(t){if(w_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});w_.set(t,e)}let b_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $7(t){b_=t(b_)}function B7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N0(this),e,...n);return CL.set(r,e.sort?e.sort():[e]),Vo(r)}:L7().includes(t)?function(...e){return t.apply(N0(this),e),Vo(TL.get(this))}:function(...e){return Vo(t.apply(N0(this),e))}}function V7(t){return typeof t=="function"?B7(t):(t instanceof IDBTransaction&&F7(t),R7(t,M7())?new Proxy(t,b_):t)}function Vo(t){if(t instanceof IDBRequest)return j7(t);if(O0.has(t))return O0.get(t);const e=V7(t);return e!==t&&(O0.set(t,e),vS.set(e,t)),e}const N0=t=>vS.get(t);function U7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Vo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vo(o.result),u.oldVersion,u.newVersion,Vo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const q7=["get","getKey","getAll","getAllKeys","count"],H7=["put","add","delete","clear"],D0=new Map;function vN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q7.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return D0.set(e,s),s}$7(t=>({...t,get:(e,n,r)=>vN(e,n)||t.get(e,n,r),has:(e,n)=>!!vN(e,n)||t.has(e,n)}));const OL="@firebase/installations",yS="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1e4,DL=`w:${yS}`,IL="FIS_v2",z7="https://firebaseinstallations.googleapis.com/v1",W7=60*60*1e3,Y7="installations",G7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ha=new il(Y7,G7,K7);function AL(t){return t instanceof xi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL({projectId:t}){return`${z7}/projects/${t}/installations`}function RL(t){return{token:t.token,requestStatus:2,expiresIn:X7(t.expiresIn),creationTime:Date.now()}}async function ML(t,e){const r=(await e.json()).error;return Ha.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function LL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q7(t,{refreshToken:e}){const n=LL(t);return n.append("Authorization",J7(e)),n}async function jL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function X7(t){return Number(t.replace("s","000"))}function J7(t){return`${IL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PL(t),i=LL(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:n,authVersion:IL,appId:t.appId,sdkVersion:DL},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await jL(()=>fetch(r,l));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:RL(d.authToken)}}else throw await ML("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=/^[cdef][\w-]{21}$/,__="";function nW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=rW(t);return tW.test(n)?n:__}catch{return __}}function rW(t){return eW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Map;function BL(t,e){const n=Dg(t);VL(n,e),iW(n,e)}function VL(t,e){const n=$L.get(t);if(n)for(const r of n)r(e)}function iW(t,e){const n=sW();n&&n.postMessage({key:t,fid:e}),oW()}let Oa=null;function sW(){return!Oa&&"BroadcastChannel"in self&&(Oa=new BroadcastChannel("[Firebase] FID Change"),Oa.onmessage=t=>{VL(t.data.key,t.data.fid)}),Oa}function oW(){$L.size===0&&Oa&&(Oa.close(),Oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW="firebase-installations-database",lW=1,za="firebase-installations-store";let I0=null;function wS(){return I0||(I0=U7(aW,lW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(za)}}})),I0}async function um(t,e){const n=Dg(t),i=(await wS()).transaction(za,"readwrite"),s=i.objectStore(za),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&BL(t,e.fid),e}async function UL(t){const e=Dg(t),r=(await wS()).transaction(za,"readwrite");await r.objectStore(za).delete(e),await r.done}async function Ig(t,e){const n=Dg(t),i=(await wS()).transaction(za,"readwrite"),s=i.objectStore(za),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&BL(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t){let e;const n=await Ig(t.appConfig,r=>{const i=uW(r),s=cW(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===__?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function uW(t){const e=t||{fid:nW(),registrationStatus:0};return qL(e)}function cW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ha.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=dW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fW(t)}:{installationEntry:e}}async function dW(t,e){try{const n=await Z7(t,e);return um(t.appConfig,n)}catch(n){throw AL(n)&&n.customData.serverCode===409?await UL(t.appConfig):await um(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function fW(t){let e=await yN(t.appConfig);for(;e.registrationStatus===1;)await FL(100),e=await yN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bS(t);return r||n}return e}function yN(t){return Ig(t,e=>{if(!e)throw Ha.create("installation-not-found");return qL(e)})}function qL(t){return hW(t)?{fid:t.fid,registrationStatus:0}:t}function hW(t){return t.registrationStatus===1&&t.registrationTime+NL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW({appConfig:t,heartbeatServiceProvider:e},n){const r=mW(t,n),i=Q7(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:DL,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await jL(()=>fetch(r,l));if(u.ok){const d=await u.json();return RL(d)}else throw await ML("Generate Auth Token",u)}function mW(t,{fid:e}){return`${PL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(t,e=!1){let n;const r=await Ig(t.appConfig,s=>{if(!HL(s))throw Ha.create("not-registered");const o=s.authToken;if(!e&&yW(o))return s;if(o.requestStatus===1)return n=gW(t,e),s;{if(!navigator.onLine)throw Ha.create("app-offline");const l=bW(s);return n=vW(t,l),l}});return n?await n:r.authToken}async function gW(t,e){let n=await wN(t.appConfig);for(;n.authToken.requestStatus===1;)await FL(100),n=await wN(t.appConfig);const r=n.authToken;return r.requestStatus===0?_S(t,e):r}function wN(t){return Ig(t,e=>{if(!HL(e))throw Ha.create("not-registered");const n=e.authToken;return _W(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vW(t,e){try{const n=await pW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await um(t.appConfig,r),n}catch(n){if(AL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await UL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await um(t.appConfig,r)}throw n}}function HL(t){return t!==void 0&&t.registrationStatus===2}function yW(t){return t.requestStatus===2&&!wW(t)}function wW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W7}function bW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _W(t){return t.requestStatus===1&&t.requestTime+NL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t){const e=t,{installationEntry:n,registrationPromise:r}=await bS(e);return r?r.catch(console.error):_S(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(t,e=!1){const n=t;return await EW(n),(await _S(n,e)).token}async function EW(t){const{registrationPromise:e}=await bS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t){if(!t||!t.options)throw A0("App Configuration");if(!t.name)throw A0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw A0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function A0(t){return Ha.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="installations",TW="installations-internal",CW=t=>{const e=t.getProvider("app").getImmediate(),n=kW(e),r=Xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},OW=t=>{const e=t.getProvider("app").getImmediate(),n=Xo(e,zL).getImmediate();return{getId:()=>xW(n),getToken:i=>SW(n,i)}};function NW(){bi(new si(zL,CW,"PUBLIC")),bi(new si(TW,OW,"PRIVATE"))}NW();yr(OL,yS);yr(OL,yS,"esm2017");const DW=(t,e)=>e.some(n=>t instanceof n);let bN,_N;function IW(){return bN||(bN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AW(){return _N||(_N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WL=new WeakMap,x_=new WeakMap,YL=new WeakMap,P0=new WeakMap,xS=new WeakMap;function PW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WL.set(n,t)}).catch(()=>{}),xS.set(e,t),e}function RW(t){if(x_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});x_.set(t,e)}let S_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return x_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MW(t){S_=t(S_)}function LW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R0(this),e,...n);return YL.set(r,e.sort?e.sort():[e]),Ls(r)}:AW().includes(t)?function(...e){return t.apply(R0(this),e),Ls(WL.get(this))}:function(...e){return Ls(t.apply(R0(this),e))}}function jW(t){return typeof t=="function"?LW(t):(t instanceof IDBTransaction&&RW(t),DW(t,IW())?new Proxy(t,S_):t)}function Ls(t){if(t instanceof IDBRequest)return PW(t);if(P0.has(t))return P0.get(t);const e=jW(t);return e!==t&&(P0.set(t,e),xS.set(e,t)),e}const R0=t=>xS.get(t);function GL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ls(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ls(o.result),u.oldVersion,u.newVersion,Ls(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}function M0(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ls(n).then(()=>{})}const FW=["get","getKey","getAll","getAllKeys","count"],$W=["put","add","delete","clear"],L0=new Map;function xN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L0.get(e))return L0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$W.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FW.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return L0.set(e,s),s}MW(t=>({...t,get:(e,n,r)=>xN(e,n)||t.get(e,n,r),has:(e,n)=>!!xN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW="/firebase-messaging-sw.js",VW="/firebase-cloud-messaging-push-scope",KL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UW="https://fcmregistrations.googleapis.com/v1",QL="google.c.a.c_id",qW="google.c.a.c_l",HW="google.c.a.ts",zW="google.c.a.e";var SN;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(SN||(SN={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Dd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Dd||(Dd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WW(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="fcm_token_details_db",YW=5,EN="fcm_token_object_Store";async function GW(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(j0))return null;let e=null;return(await GL(j0,YW,{upgrade:async(r,i,s,o)=>{var l;if(i<2||!r.objectStoreNames.contains(EN))return;const u=o.objectStore(EN),d=await u.index("fcmSenderId").get(t);if(await u.clear(),!!d){if(i===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(l=f.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Ds(f.vapidKey)}}}else if(i===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ds(f.auth),p256dh:Ds(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ds(f.vapidKey)}}}else if(i===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ds(f.auth),p256dh:Ds(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ds(f.vapidKey)}}}}}})).close(),await M0(j0),await M0("fcm_vapid_details_db"),await M0("undefined"),KW(e)?e:null}function KW(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="firebase-messaging-database",XW=1,Wa="firebase-messaging-store";let F0=null;function SS(){return F0||(F0=GL(QW,XW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wa)}}})),F0}async function XL(t){const e=kS(t),r=await(await SS()).transaction(Wa).objectStore(Wa).get(e);if(r)return r;{const i=await GW(t.appConfig.senderId);if(i)return await ES(t,i),i}}async function ES(t,e){const n=kS(t),i=(await SS()).transaction(Wa,"readwrite");return await i.objectStore(Wa).put(e,n),await i.done,e}async function JW(t){const e=kS(t),r=(await SS()).transaction(Wa,"readwrite");await r.objectStore(Wa).delete(e),await r.done}function kS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Lr=new il("messaging","Messaging",ZW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eY(t,e){const n=await CS(t),r=ZL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(TS(t.appConfig),i)).json()}catch(o){throw Lr.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Lr.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Lr.create("token-subscribe-no-token");return s.token}async function tY(t,e){const n=await CS(t),r=ZL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${TS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Lr.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Lr.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Lr.create("token-update-no-token");return s.token}async function JL(t,e){const r={method:"DELETE",headers:await CS(t)};try{const s=await(await fetch(`${TS(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw Lr.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Lr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function TS({projectId:t}){return`${UW}/projects/${t}/registrations`}async function CS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ZL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==KL&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=7*24*60*60*1e3;async function rY(t){const e=await oY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ds(e.getKey("auth")),p256dh:Ds(e.getKey("p256dh"))},r=await XL(t.firebaseDependencies);if(r){if(aY(r.subscriptionOptions,n))return Date.now()>=r.createTime+nY?sY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await JL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kN(t.firebaseDependencies,n)}else return kN(t.firebaseDependencies,n)}async function iY(t){const e=await XL(t.firebaseDependencies);e&&(await JL(t.firebaseDependencies,e.token),await JW(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function sY(t,e){try{const n=await tY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await ES(t.firebaseDependencies,r),n}catch(n){throw await iY(t),n}}async function kN(t,e){const r={token:await eY(t,e),createTime:Date.now(),subscriptionOptions:e};return await ES(t,r),r.token}async function oY(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WW(e)})}function aY(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return lY(e,t),uY(e,t),cY(e,t),e}function lY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function uY(t,e){e.data&&(t.data=e.data)}function cY(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const l=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;l&&(t.fcmOptions.link=l);const u=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dY(t){return typeof t=="object"&&!!t&&QL in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ej("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");ej("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function ej(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){if(!t||!t.options)throw $0("App Configuration Object");if(!t.name)throw $0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw $0(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function $0(t){return Lr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=fY(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pY(t){try{t.swRegistration=await navigator.serviceWorker.register(BW,{scope:VW}),t.swRegistration.update().catch(()=>{})}catch(e){throw Lr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mY(t,e){if(!e&&!t.swRegistration&&await pY(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Lr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=KL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e){if(!navigator)throw Lr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Lr.create("permission-blocked");return await gY(t,e==null?void 0:e.vapidKey),await mY(t,e==null?void 0:e.serviceWorkerRegistration),rY(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vY(t,e,n){const r=yY(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[QL],message_name:n[qW],message_time:n[HW],message_device_time:Math.floor(Date.now()/1e3)})}function yY(t){switch(t){case Dd.NOTIFICATION_CLICKED:return"notification_open";case Dd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wY(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Dd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(TN(n)):t.onMessageHandler.next(TN(n)));const r=n.data;dY(r)&&r[zW]==="1"&&await vY(t,n.messageType,r)}const CN="@firebase/messaging",ON="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=t=>{const e=new hY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>wY(e,n)),e},_Y=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>tj(e,r)}};function xY(){bi(new si("messaging",bY,"PUBLIC")),bi(new si("messaging-internal",_Y,"PRIVATE")),yr(CN,ON),yr(CN,ON,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(){try{await bP()}catch{return!1}return typeof window<"u"&&wP()&&V6()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t=Hd()){return SY().then(e=>{if(!e)throw Lr.create("unsupported-browser")},e=>{throw Lr.create("indexed-db-unsupported")}),Xo(Ct(t),"messaging").getImmediate()}async function kY(t,e){return t=Ct(t),tj(t,e)}xY();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebasestorage.googleapis.com",rj="storageBucket",TY=2*60*1e3,CY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends xi{constructor(e,n,r=0){super(B0(e),`Firebase Storage: ${n} (${B0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return B0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function B0(t){return"storage/"+t}function OS(){const t="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,t)}function OY(t){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function NY(t){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DY(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,t)}function IY(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AY(t){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function PY(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RY(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function MY(t){return new yn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function LY(t){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jY(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rj+"' property when initializing the app?")}function FY(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $Y(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BY(t){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function E_(t){return new yn(gn.INVALID_ARGUMENT,t)}function ij(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function VY(t){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function od(t,e){return new yn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Dc(t){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(r.path==="")return r;throw LY(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${f}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},y=n===nj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${w}`,"i"),k=[{regex:l,indices:u,postModify:s},{regex:m,indices:v,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<k.length;S++){const T=k[S],N=T.regex.exec(e);if(N){const O=N[T.indices.bucket];let D=N[T.indices.path];D||(D=""),r=new ni(O,D),T.postModify(r);break}}if(r==null)throw MY(e);return r}}class UY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...w){d||(d=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(m,u())},w)}function p(){s&&clearTimeout(s)}function m(w,..._){if(d){p();return}if(w){p(),f.call(null,w,..._);return}if(u()||o){p(),f.call(null,w,..._);return}r<64&&(r*=2);let k;l===1?(l=2,k=0):k=(r+Math.random())*1e3,h(k)}let v=!1;function y(w){v||(v=!0,p(),!d&&(i!==null?(w||(l=2),clearTimeout(i),h(0)):w||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function HY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){return t!==void 0}function WY(t){return typeof t=="object"&&!Array.isArray(t)}function NS(t){return typeof t=="string"||t instanceof String}function NN(t){return DS()&&t instanceof Blob}function DS(){return typeof Blob<"u"&&!j6()}function DN(t,e,n,r){if(r<e)throw E_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw E_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pa||(Pa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,n,r,i,s,o,l,u,d,f,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Pa.NO_ERROR,u=s.getStatus();if(!l||YY(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Pa.ABORT;r(!1,new Yh(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Yh(d,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());zY(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=OS();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?ij():RY();o(u)}else{const u=PY();o(u)}};this.canceled_?n(!1,new Yh(!1,null,!0)):this.backoffId_=qY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZY(t,e,n,r,i,s,o=!0){const l=sj(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return XY(d,e),KY(d,n),QY(d,s),JY(d,r),new GY(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tG(...t){const e=eG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(DS())return new Blob(t);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(t){if(typeof atob>"u")throw BY("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V0{constructor(e,n){this.data=e,this.contentType=n||null}}function oj(t,e){switch(t){case Li.RAW:return new V0(aj(e));case Li.BASE64:case Li.BASE64URL:return new V0(lj(t,e));case Li.DATA_URL:return new V0(sG(e),oG(e))}throw OS()}function aj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iG(t){let e;try{e=decodeURIComponent(t)}catch{throw od(Li.DATA_URL,"Malformed data URL.")}return aj(e)}function lj(t,e){switch(t){case Li.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw od(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw od(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rG(e)}catch(i){throw i.message.includes("polyfill")?i:od(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class uj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw od(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sG(t){const e=new uj(t);return e.base64?lj(Li.BASE64,e.rest):iG(e.rest)}function oG(t){return new uj(t).contentType}function aG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){let r=0,i="";NN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(NN(this.data_)){const r=this.data_,i=nG(r,e,n);return i===null?null:new Ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ao(r,!0)}}static getBlob(...e){if(DS()){const n=e.map(r=>r instanceof Ao?r.data_:r);return new Ao(tG.apply(null,n))}else{const n=e.map(o=>NS(o)?oj(Li.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){let e;try{e=JSON.parse(t)}catch{return null}return WY(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t,e){return e}class Dr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cG}}let Gh=null;function dG(t){return!NS(t)||t.length<2?t:dj(t)}function fj(){if(Gh)return Gh;const t=[];t.push(new Dr("bucket")),t.push(new Dr("generation")),t.push(new Dr("metageneration")),t.push(new Dr("name","fullPath",!0));function e(s,o){return dG(o)}const n=new Dr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Dr("size");return i.xform=r,t.push(i),t.push(new Dr("timeCreated")),t.push(new Dr("updated")),t.push(new Dr("md5Hash",null,!0)),t.push(new Dr("cacheControl",null,!0)),t.push(new Dr("contentDisposition",null,!0)),t.push(new Dr("contentEncoding",null,!0)),t.push(new Dr("contentLanguage",null,!0)),t.push(new Dr("contentType",null,!0)),t.push(new Dr("metadata","customMetadata",!0)),Gh=t,Gh}function fG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ni(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function hG(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return fG(r,t),r}function hj(t,e,n){const r=cj(e);return r===null?null:hG(t,r,n)}function pG(t,e,n,r){const i=cj(e);if(i===null||!NS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const f=t.bucket,h=t.fullPath,p="/b/"+o(f)+"/o/"+o(h),m=IS(p,n,r),v=sj({alt:"media",token:d});return m+v})[0]}function mG(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class pj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){if(!t)throw OS()}function gG(t,e){function n(r,i){const s=hj(t,i,e);return mj(s!==null),s}return n}function vG(t,e){function n(r,i){const s=hj(t,i,e);return mj(s!==null),pG(s,i,t.host,t._protocol)}return n}function gj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IY():i=DY():n.getStatus()===402?i=NY(t.bucket):n.getStatus()===403?i=AY(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function yG(t){const e=gj(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=OY(t.path)),s.serverResponse=i.serverResponse,s}return n}function wG(t,e,n){const r=e.fullServerUrl(),i=IS(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new pj(i,s,vG(t,n),o);return l.errorHandler=yG(e),l}function bG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _G(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bG(null,e)),r}function xG(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let k="";for(let S=0;S<2;S++)k=k+Math.random().toString().slice(2);return k}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=_G(e,r,i),f=mG(d,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+u+"--",m=Ao.getBlob(h,r,p);if(m===null)throw FY();const v={name:d.fullPath},y=IS(s,t.host,t._protocol),w="POST",_=t.maxUploadRetryTime,b=new pj(y,w,gG(t,n),_);return b.urlParams=v,b.headers=o,b.body=m.uploadData(),b.errorHandler=gj(e),b}class SG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Dc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EG extends SG{initXhr(){this.xhr_.responseType="text"}}function vj(){return new EG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ya(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dj(this._location.path)}get storage(){return this._service}get parent(){const e=lG(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Ya(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VY(e)}}function kG(t,e,n){t._throwIfRoot("uploadBytes");const r=xG(t.storage,t._location,fj(),new Ao(e,!0),n);return t.storage.makeRequestWithTokens(r,vj).then(i=>({metadata:i,ref:t}))}function TG(t,e,n=Li.RAW,r){t._throwIfRoot("uploadString");const i=oj(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),kG(t,i.data,s)}function CG(t){t._throwIfRoot("getDownloadURL");const e=wG(t.storage,t._location,fj());return t.storage.makeRequestWithTokens(e,vj).then(n=>{if(n===null)throw $Y();return n})}function OG(t,e){const n=uG(t._location.path,e),r=new ni(t._location.bucket,n);return new Ya(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){return/^[A-Za-z]+:\/\//.test(t)}function DG(t,e){return new Ya(t,e)}function yj(t,e){if(t instanceof AS){const n=t;if(n._bucket==null)throw jY();const r=new Ya(n,n._bucket);return e!=null?yj(r,e):r}else return e!==void 0?OG(t,e):t}function IG(t,e){if(e&&NG(e)){if(t instanceof AS)return DG(t,e);throw E_("To use ref(service, url), the first argument must be a Storage instance.")}else return yj(t,e)}function IN(t,e){const n=e==null?void 0:e[rj];return n==null?null:ni.makeFromBucketSpec(n,t)}function AG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:yP(i,t.app.options.projectId))}class AS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=nj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TY,this._maxUploadRetryTime=CY,this._requests=new Set,i!=null?this._bucket=ni.makeFromBucketSpec(i,this._host):this._bucket=IN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=IN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ya(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new UY(ij());{const o=ZY(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const AN="@firebase/storage",PN="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="storage";function PG(t,e,n,r){return t=Ct(t),TG(t,e,n,r)}function RG(t){return t=Ct(t),CG(t)}function MG(t,e){return t=Ct(t),IG(t,e)}function LG(t=Hd(),e){t=Ct(t);const r=Xo(t,wj).getImmediate({identifier:e}),i=nx("storage");return i&&jG(r,...i),r}function jG(t,e,n,r={}){AG(t,e,n,r)}function FG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new AS(n,r,i,e,sl)}function $G(){bi(new si(wj,FG,"PUBLIC").setMultipleInstances(!0)),yr(AN,PN,""),yr(AN,PN,"esm2017")}$G();const BG={apiKey:"AIzaSyA6HW3pwkb-agsEpSYWGmlYSuvFiJDxp5c",authDomain:"han-bookclub.firebaseapp.com",projectId:"han-bookclub",storageBucket:"han-bookclub.appspot.com",messagingSenderId:"1033530409448",appId:"1:1033530409448:web:aff6942a34c0a48c81645d",measurementId:"G-925LMFR6FK"},VG=SP(BG),qt=Km(),Gt=Zz(),UG=LG(),qG=EY(VG),bj=A7(),PS=async()=>kY(qG,{vapidKey:"BDj5rPznBXENjg3_ufDJ6BLBU1igiHvQTiBDYOUMRbVQTcQpQRh6erEWWBQyg1SVuC3yAvzgM4xarrhpqwM26ag",serviceWorkerRegistration:await navigator.serviceWorker.register("/han-bookclub-app/firebase-messaging-sw.js")}),RN=kL(bj,"sendUnicast"),MN=kL(bj,"sendMulticast");var _j={};function HG(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var zG=HG,ft=zG;function WG(t){return!!t&&typeof t.then=="function"}var Zt=WG;function YG(t,e){if(t!=null)return t;throw ft(e??"Got unexpected null or undefined")}var on=YG;function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ag{getValue(){throw ft("BaseLoadable")}toPromise(){throw ft("BaseLoadable")}valueMaybe(){throw ft("BaseLoadable")}valueOrThrow(){throw ft(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw ft("BaseLoadable")}promiseOrThrow(){throw ft(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw ft("BaseLoadable")}errorOrThrow(){throw ft(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw ft("BaseLoadable")}}class GG extends Ag{constructor(e){super(),lt(this,"state","hasValue"),lt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Zt(n)?Ga(n):bu(n)?n:cf(n)}catch(n){return Zt(n)?Ga(n.next(()=>this.map(e))):Pg(n)}}}class KG extends Ag{constructor(e){super(),lt(this,"state","hasError"),lt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class xj extends Ag{constructor(e){super(),lt(this,"state","loading"),lt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ga(this.contents.then(n=>{const r=e(n);if(bu(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Zt(n))return n.then(()=>this.map(e).contents);throw n}))}}function cf(t){return Object.freeze(new GG(t))}function Pg(t){return Object.freeze(new KG(t))}function Ga(t){return Object.freeze(new xj(t))}function Sj(){return Object.freeze(new xj(new Promise(()=>{})))}function QG(t){return t.every(e=>e.state==="hasValue")?cf(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Pg(on(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ga(Promise.all(t.map(e=>e.contents)))}function Ej(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>bu(i)?i:Zt(i)?Ga(i):cf(i)),r=QG(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,l)=>({...s,[o]:i[l]}),{}))}function bu(t){return t instanceof Ag}const XG={of:t=>Zt(t)?Ga(t):bu(t)?t:cf(t),error:t=>Pg(t),loading:()=>Sj(),all:Ej,isLoadable:bu};var dl={loadableWithValue:cf,loadableWithError:Pg,loadableWithPromise:Ga,loadableLoading:Sj,loadableAll:Ej,isLoadable:bu,RecoilLoadable:XG},JG=dl.loadableWithValue,ZG=dl.loadableWithError,eK=dl.loadableWithPromise,tK=dl.loadableLoading,nK=dl.loadableAll,rK=dl.isLoadable,iK=dl.RecoilLoadable,df=Object.freeze({__proto__:null,loadableWithValue:JG,loadableWithError:ZG,loadableWithPromise:eK,loadableLoading:tK,loadableAll:nK,isLoadable:rK,RecoilLoadable:iK});const k_={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function sK(t,e){var n,r;const i=(n=_j[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw ft(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function oK(t,e){var n;const r=(n=_j[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function aK(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(sK("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{k_.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),oK("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{k_.RECOIL_GKS_ENABLED.add(n)})}))}aK();var ff=k_;function Rg(t){return ff.RECOIL_GKS_ENABLED.has(t)}Rg.setPass=t=>{ff.RECOIL_GKS_ENABLED.add(t)};Rg.setFail=t=>{ff.RECOIL_GKS_ENABLED.delete(t)};Rg.clear=()=>{ff.RECOIL_GKS_ENABLED.clear()};var Wt=Rg;function lK(t,e,{error:n}={}){return null}var uK=lK,Yr=uK,U0,q0,H0;const cK=(U0=se.createMutableSource)!==null&&U0!==void 0?U0:se.unstable_createMutableSource,kj=(q0=se.useMutableSource)!==null&&q0!==void 0?q0:se.unstable_useMutableSource,RS=(H0=se.useSyncExternalStore)!==null&&H0!==void 0?H0:se.unstable_useSyncExternalStore;let LN=!1;function dK(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null;return RS&&!i&&!LN&&(LN=!0,Yr()),i}function fK(){return Wt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Wt("recoil_sync_external_store")&&RS!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Wt("recoil_mutable_source")&&kj!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Wt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Wt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var MS={createMutableSource:cK,useMutableSource:kj,useSyncExternalStore:RS,currentRendererSupportsUseSyncExternalStore:dK,reactMode:fK};class LS{constructor(e){lt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Tj extends LS{}class Cj extends LS{}function hK(t){return t instanceof Tj||t instanceof Cj}var Mg={AbstractRecoilValue:LS,RecoilState:Tj,RecoilValueReadOnly:Cj,isRecoilValue:hK},pK=Mg.AbstractRecoilValue,mK=Mg.RecoilState,gK=Mg.RecoilValueReadOnly,vK=Mg.isRecoilValue,Ka=Object.freeze({__proto__:null,AbstractRecoilValue:pK,RecoilState:mK,RecoilValueReadOnly:gK,isRecoilValue:vK});function yK(t,...e){}var wK=yK,Oj=wK;function bK(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Lg=bK;class Nj{}const _K=new Nj,_u=new Map,jS=new Map;function xK(t){return Lg(t,e=>on(jS.get(e)))}function SK(t){if(_u.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function EK(t){ff.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&SK(t.key),_u.set(t.key,t);const e=t.set==null?new Ka.RecoilValueReadOnly(t.key):new Ka.RecoilState(t.key);return jS.set(t.key,e),e}class kK extends Error{}function TK(t){const e=_u.get(t);if(e==null)throw new kK(`Missing definition for RecoilValue: "${t}""`);return e}function CK(t){return _u.get(t)}const cm=new Map;function OK(t){var e;if(!Wt("recoil_memory_managament_2020"))return;const n=_u.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;_u.delete(t),(r=Dj(t))===null||r===void 0||r(),cm.delete(t)}}function NK(t,e){Wt("recoil_memory_managament_2020")&&(e===void 0?cm.delete(t):cm.set(t,e))}function Dj(t){return cm.get(t)}var Si={recoilValues:jS,registerNode:EK,getNode:TK,getNodeMaybe:CK,deleteNodeConfigIfPossible:OK,setConfigDeletionHandler:NK,getConfigDeletionHandler:Dj,recoilValuesForKeys:xK,DefaultValue:Nj,DEFAULT_VALUE:_K};function DK(t,e){e()}var IK={enqueueExecution:DK};function AK(t,e){return e={exports:{}},t(e,e.exports),e.exports}var PK=AK(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,l=i/4,u={},d=function(ie){return function(){return ie}},f=n.hash=function(ae){var ie=typeof ae>"u"?"undefined":e(ae);if(ie==="number")return ae;ie!=="string"&&(ae+="");for(var ve=0,ke=0,Te=ae.length;ke<Te;++ke){var Ae=ae.charCodeAt(ke);ve=(ve<<5)-ve+Ae|0}return ve},h=function(ie){return ie-=ie>>1&1431655765,ie=(ie&858993459)+(ie>>2&858993459),ie=ie+(ie>>4)&252645135,ie+=ie>>8,ie+=ie>>16,ie&127},p=function(ie,ve){return ve>>>ie&s},m=function(ie){return 1<<ie},v=function(ie,ve){return h(ie&ve-1)},y=function(ie,ve,ke,Te){var Ae=Te;if(!ie){var Ue=Te.length;Ae=new Array(Ue);for(var Ve=0;Ve<Ue;++Ve)Ae[Ve]=Te[Ve]}return Ae[ve]=ke,Ae},w=function(ie,ve,ke){var Te=ke.length-1,Ae=0,Ue=0,Ve=ke;if(ie)Ae=Ue=ve;else for(Ve=new Array(Te);Ae<ve;)Ve[Ue++]=ke[Ae++];for(++Ae;Ae<=Te;)Ve[Ue++]=ke[Ae++];return ie&&(Ve.length=Te),Ve},_=function(ie,ve,ke,Te){var Ae=Te.length;if(ie){for(var Ue=Ae;Ue>=ve;)Te[Ue--]=Te[Ue];return Te[ve]=ke,Te}for(var Ve=0,Ke=0,dt=new Array(Ae+1);Ve<ve;)dt[Ke++]=Te[Ve++];for(dt[ve]=ke;Ve<Ae;)dt[++Ke]=Te[Ve++];return dt},b=1,k=2,S=3,T=4,N={__hamt_isEmpty:!0},O=function(ie){return ie===N||ie&&ie.__hamt_isEmpty},D=function(ie,ve,ke,Te){return{type:b,edit:ie,hash:ve,key:ke,value:Te,_modify:K}},j=function(ie,ve,ke){return{type:k,edit:ie,hash:ve,children:ke,_modify:G}},R=function(ie,ve,ke){return{type:S,edit:ie,mask:ve,children:ke,_modify:M}},I=function(ie,ve,ke){return{type:T,edit:ie,size:ve,children:ke,_modify:F}},P=function(ie){return ie===N||ie.type===b||ie.type===k},L=function(ie,ve,ke,Te,Ae){for(var Ue=[],Ve=Te,Ke=0,dt=0;Ve;++dt)Ve&1&&(Ue[dt]=Ae[Ke++]),Ve>>>=1;return Ue[ve]=ke,I(ie,Ke+1,Ue)},B=function(ie,ve,ke,Te){for(var Ae=new Array(ve-1),Ue=0,Ve=0,Ke=0,dt=Te.length;Ke<dt;++Ke)if(Ke!==ke){var Ut=Te[Ke];Ut&&!O(Ut)&&(Ae[Ue++]=Ut,Ve|=1<<Ke)}return R(ie,Ve,Ae)},U=function ae(ie,ve,ke,Te,Ae,Ue){if(ke===Ae)return j(ie,ke,[Ue,Te]);var Ve=p(ve,ke),Ke=p(ve,Ae);return R(ie,m(Ve)|m(Ke),Ve===Ke?[ae(ie,ve+r,ke,Te,Ae,Ue)]:Ve<Ke?[Te,Ue]:[Ue,Te])},V=function(ie,ve,ke,Te,Ae,Ue,Ve,Ke){for(var dt=Ae.length,Ut=0;Ut<dt;++Ut){var Kn=Ae[Ut];if(ke(Ve,Kn.key)){var wn=Kn.value,ar=Ue(wn);return ar===wn?Ae:ar===u?(--Ke.value,w(ie,Ut,Ae)):y(ie,Ut,D(ve,Te,Ve,ar),Ae)}}var jr=Ue();return jr===u?Ae:(++Ke.value,y(ie,dt,D(ve,Te,Ve,jr),Ae))},Y=function(ie,ve){return ie===ve.edit},K=function(ie,ve,ke,Te,Ae,Ue,Ve){if(ve(Ue,this.key)){var Ke=Te(this.value);return Ke===this.value?this:Ke===u?(--Ve.value,N):Y(ie,this)?(this.value=Ke,this):D(ie,Ae,Ue,Ke)}var dt=Te();return dt===u?this:(++Ve.value,U(ie,ke,this.hash,this,Ae,D(ie,Ae,Ue,dt)))},G=function(ie,ve,ke,Te,Ae,Ue,Ve){if(Ae===this.hash){var Ke=Y(ie,this),dt=V(Ke,ie,ve,this.hash,this.children,Te,Ue,Ve);return dt===this.children?this:dt.length>1?j(ie,this.hash,dt):dt[0]}var Ut=Te();return Ut===u?this:(++Ve.value,U(ie,ke,this.hash,this,Ae,D(ie,Ae,Ue,Ut)))},M=function(ie,ve,ke,Te,Ae,Ue,Ve){var Ke=this.mask,dt=this.children,Ut=p(ke,Ae),Kn=m(Ut),wn=v(Ke,Kn),ar=Ke&Kn,jr=ar?dt[wn]:N,ui=jr._modify(ie,ve,ke+r,Te,Ae,Ue,Ve);if(jr===ui)return this;var no=Y(ie,this),Ti=Ke,oa=void 0;if(ar&&O(ui)){if(Ti&=~Kn,!Ti)return N;if(dt.length<=2&&P(dt[wn^1]))return dt[wn^1];oa=w(no,wn,dt)}else if(!ar&&!O(ui)){if(dt.length>=o)return L(ie,Ut,ui,Ke,dt);Ti|=Kn,oa=_(no,wn,ui,dt)}else oa=y(no,wn,ui,dt);return no?(this.mask=Ti,this.children=oa,this):R(ie,Ti,oa)},F=function(ie,ve,ke,Te,Ae,Ue,Ve){var Ke=this.size,dt=this.children,Ut=p(ke,Ae),Kn=dt[Ut],wn=(Kn||N)._modify(ie,ve,ke+r,Te,Ae,Ue,Ve);if(Kn===wn)return this;var ar=Y(ie,this),jr=void 0;if(O(Kn)&&!O(wn))++Ke,jr=y(ar,Ut,wn,dt);else if(!O(Kn)&&O(wn)){if(--Ke,Ke<=l)return B(ie,Ke,Ut,dt);jr=y(ar,Ut,N,dt)}else jr=y(ar,Ut,wn,dt);return ar?(this.size=Ke,this.children=jr,this):I(ie,Ke,jr)};N._modify=function(ae,ie,ve,ke,Te,Ae,Ue){var Ve=ke();return Ve===u?N:(++Ue.value,D(ae,Te,Ae,Ve))};function $(ae,ie,ve,ke,Te){this._editable=ae,this._edit=ie,this._config=ve,this._root=ke,this._size=Te}$.prototype.setTree=function(ae,ie){return this._editable?(this._root=ae,this._size=ie,this):ae===this._root?this:new $(this._editable,this._edit,this._config,ae,ie)};var W=n.tryGetHash=function(ae,ie,ve,ke){for(var Te=ke._root,Ae=0,Ue=ke._config.keyEq;;)switch(Te.type){case b:return Ue(ve,Te.key)?Te.value:ae;case k:{if(ie===Te.hash)for(var Ve=Te.children,Ke=0,dt=Ve.length;Ke<dt;++Ke){var Ut=Ve[Ke];if(Ue(ve,Ut.key))return Ut.value}return ae}case S:{var Kn=p(Ae,ie),wn=m(Kn);if(Te.mask&wn){Te=Te.children[v(Te.mask,wn)],Ae+=r;break}return ae}case T:{if(Te=Te.children[p(Ae,ie)],Te){Ae+=r;break}return ae}default:return ae}};$.prototype.tryGetHash=function(ae,ie,ve){return W(ae,ie,ve,this)};var Q=n.tryGet=function(ae,ie,ve){return W(ae,ve._config.hash(ie),ie,ve)};$.prototype.tryGet=function(ae,ie){return Q(ae,ie,this)};var J=n.getHash=function(ae,ie,ve){return W(void 0,ae,ie,ve)};$.prototype.getHash=function(ae,ie){return J(ae,ie,this)},n.get=function(ae,ie){return W(void 0,ie._config.hash(ae),ae,ie)},$.prototype.get=function(ae,ie){return Q(ie,ae,this)};var H=n.has=function(ae,ie,ve){return W(u,ae,ie,ve)!==u};$.prototype.hasHash=function(ae,ie){return H(ae,ie,this)};var X=n.has=function(ae,ie){return H(ie._config.hash(ae),ae,ie)};$.prototype.has=function(ae){return X(ae,this)};var ee=function(ie,ve){return ie===ve};n.make=function(ae){return new $(0,0,{keyEq:ae&&ae.keyEq||ee,hash:ae&&ae.hash||f},N,0)},n.empty=n.make();var re=n.isEmpty=function(ae){return ae&&!!O(ae._root)};$.prototype.isEmpty=function(){return re(this)};var ce=n.modifyHash=function(ae,ie,ve,ke){var Te={value:ke._size},Ae=ke._root._modify(ke._editable?ke._edit:NaN,ke._config.keyEq,0,ae,ie,ve,Te);return ke.setTree(Ae,Te.value)};$.prototype.modifyHash=function(ae,ie,ve){return ce(ve,ae,ie,this)};var we=n.modify=function(ae,ie,ve){return ce(ae,ve._config.hash(ie),ie,ve)};$.prototype.modify=function(ae,ie){return we(ie,ae,this)};var Se=n.setHash=function(ae,ie,ve,ke){return ce(d(ve),ae,ie,ke)};$.prototype.setHash=function(ae,ie,ve){return Se(ae,ie,ve,this)};var Ie=n.set=function(ae,ie,ve){return Se(ve._config.hash(ae),ae,ie,ve)};$.prototype.set=function(ae,ie){return Ie(ae,ie,this)};var He=d(u),Xe=n.removeHash=function(ae,ie,ve){return ce(He,ae,ie,ve)};$.prototype.removeHash=$.prototype.deleteHash=function(ae,ie){return Xe(ae,ie,this)};var _t=n.remove=function(ae,ie){return Xe(ie._config.hash(ae),ae,ie)};$.prototype.remove=$.prototype.delete=function(ae){return _t(ae,this)};var $t=n.beginMutation=function(ae){return new $(ae._editable+1,ae._edit+1,ae._config,ae._root,ae._size)};$.prototype.beginMutation=function(){return $t(this)};var de=n.endMutation=function(ae){return ae._editable=ae._editable&&ae._editable-1,ae};$.prototype.endMutation=function(){return de(this)};var fe=n.mutate=function(ae,ie){var ve=$t(ie);return ae(ve),de(ve)};$.prototype.mutate=function(ae){return fe(ae,this)};var xe=function(ie){return ie&&Ee(ie[0],ie[1],ie[2],ie[3],ie[4])},Ee=function(ie,ve,ke,Te,Ae){for(;ke<ie;){var Ue=ve[ke++];if(Ue&&!O(Ue))return pe(Ue,Te,[ie,ve,ke,Te,Ae])}return xe(Ae)},pe=function(ie,ve,ke){switch(ie.type){case b:return{value:ve(ie),rest:ke};case k:case T:case S:var Te=ie.children;return Ee(Te.length,Te,0,ve,ke);default:return xe(ke)}},ot={done:!0};function tt(ae){this.v=ae}tt.prototype.next=function(){if(!this.v)return ot;var ae=this.v;return this.v=xe(ae.rest),ae},tt.prototype[Symbol.iterator]=function(){return this};var it=function(ie,ve){return new tt(pe(ie._root,ve))},Gn=function(ie){return[ie.key,ie.value]},Cr=n.entries=function(ae){return it(ae,Gn)};$.prototype.entries=$.prototype[Symbol.iterator]=function(){return Cr(this)};var Nt=function(ie){return ie.key},gl=n.keys=function(ae){return it(ae,Nt)};$.prototype.keys=function(){return gl(this)};var Bt=function(ie){return ie.value},or=n.values=$.prototype.values=function(ae){return it(ae,Bt)};$.prototype.values=function(){return or(this)};var kf=n.fold=function(ae,ie,ve){var ke=ve._root;if(ke.type===b)return ae(ie,ke.value,ke.key);for(var Te=[ke.children],Ae=void 0;Ae=Te.pop();)for(var Ue=0,Ve=Ae.length;Ue<Ve;){var Ke=Ae[Ue++];Ke&&Ke.type&&(Ke.type===b?ie=ae(ie,Ke.value,Ke.key):Te.push(Ke.children))}return ie};$.prototype.fold=function(ae,ie){return kf(ae,ie,this)};var Tf=n.forEach=function(ae,ie){return kf(function(ve,ke,Te){return ae(ke,Te,ie)},null,ie)};$.prototype.forEach=function(ae){return Tf(ae,this)};var Cf=n.count=function(ae){return ae._size};$.prototype.count=function(){return Cf(this)},Object.defineProperty($.prototype,"size",{get:$.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class RK{constructor(e){lt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return $S(this)}toMap(){return new Map(this._map)}}class FS{constructor(e){if(lt(this,"_hamt",PK.empty.beginMutation()),e instanceof FS){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return $S(this)}toMap(){return new Map(this._hamt)}}function $S(t){return Wt("recoil_hamt_2020")?new FS(t):new RK(t)}var MK={persistentMap:$S},LK=MK.persistentMap,jK=Object.freeze({__proto__:null,persistentMap:LK});function FK(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var jN=FK;function $K(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var FN=$K;function BK(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function VK(t){return{nodeDeps:FN(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:FN(t.nodeToNodeSubscriptions,e=>new Set(e))}}function z0(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const l=o==null?e:jN(e,o);for(const u of l)s.has(u)||s.set(u,new Set),on(s.get(u)).add(t);if(o){const u=jN(o,e);for(const d of u){if(!s.has(d))return;const f=on(s.get(d));f.delete(t),f.size===0&&s.delete(d)}}}function UK(t,e,n,r){var i,s,o,l;const u=n.getState();r===u.currentTree.version||r===((i=u.nextTree)===null||i===void 0?void 0:i.version)||r===((s=u.previousTree)===null||s===void 0?void 0:s.version)||Yr();const d=n.getGraph(r);if(z0(t,e,d),r===((o=u.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(u.currentTree.version);z0(t,e,h,d)}if(r===((l=u.previousTree)===null||l===void 0?void 0:l.version)||r===u.currentTree.version){var f;const h=(f=u.nextTree)===null||f===void 0?void 0:f.version;if(h!==void 0){const p=n.getGraph(h);z0(t,e,p,d)}}}var hf={cloneGraph:VK,graph:BK,saveDepsToStore:UK};let qK=0;const HK=()=>qK++;let zK=0;const WK=()=>zK++;let YK=0;const GK=()=>YK++;var jg={getNextTreeStateVersion:HK,getNextStoreID:WK,getNextComponentID:GK};const{persistentMap:$N}=jK,{graph:KK}=hf,{getNextTreeStateVersion:Ij}=jg;function QK(){const t=Ij();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:$N(),nonvalidatedAtoms:$N()}}function XK(){const t=QK();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,KK()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Aj={makeEmptyStoreState:XK,getNextTreeStateVersion:Ij};class JK{}var BS={RetentionZone:JK};function ZK(t,e){const n=new Set(t);return n.add(e),n}var eQ={setByAddingToSet:ZK};function*tQ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var VS=tQ;function nQ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var Pj=nQ;const{getNode:pf,getNodeMaybe:rQ,recoilValuesForKeys:BN}=Si,{RetentionZone:VN}=BS,{setByAddingToSet:iQ}=eQ,sQ=Object.freeze(new Set);class oQ extends Error{}function aQ(t,e,n){if(!Wt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof VN)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Wt("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(l){const u=s.nodesRetainedByZone.get(l);u==null||u.delete(e),u&&u.size===0&&s.nodesRetainedByZone.delete(l)}if(n instanceof VN)o(n);else if(Array.isArray(n))for(const l of n)o(l)}}function US(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=pf(n),o=aQ(t,n,s.retainedBy),l=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{l(),o()})}function lQ(t,e,n){US(t,t.getState().currentTree,e,n)}function uQ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function cQ(t,e,n){return US(t,e,n,"get"),pf(n).get(t,e)}function Rj(t,e,n){return pf(n).peek(t,e)}function dQ(t,e,n){var r;const i=rQ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:iQ(t.dirtyAtoms,e)}}function fQ(t,e,n,r){const i=pf(n);if(i.set==null)throw new oQ(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return US(t,e,n,"set"),s(t,e,r)}function hQ(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=pf(n).nodeType;return Pj({type:s},{loadable:()=>Rj(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return BN((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,l;return{nodes:BN(VS(Mj(t,e,new Set([n])),u=>u!==n)),components:Lg((o=(l=r.nodeToComponentSubscriptions.get(n))===null||l===void 0?void 0:l.values())!==null&&o!==void 0?o:[],([u])=>({name:u}))}}})}function Mj(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let l=i.pop();l;l=i.pop()){var o;r.add(l);const u=(o=s.nodeToNodeSubscriptions.get(l))!==null&&o!==void 0?o:sQ;for(const d of u)r.has(d)||i.push(d)}return r}var fl={getNodeLoadable:cQ,peekNodeLoadable:Rj,setNodeValue:fQ,initializeNode:lQ,cleanUpNode:uQ,setUnvalidatedAtomValue_DEPRECATED:dQ,peekNodeInfo:hQ,getDownstreamNodes:Mj};let Lj=null;function pQ(t){Lj=t}function mQ(){var t;(t=Lj)===null||t===void 0||t()}var jj={setInvalidateMemoizedSnapshot:pQ,invalidateMemoizedSnapshot:mQ};const{getDownstreamNodes:gQ,getNodeLoadable:Fj,setNodeValue:vQ}=fl,{getNextComponentID:yQ}=jg,{getNode:wQ,getNodeMaybe:$j}=Si,{DefaultValue:qS}=Si,{reactMode:bQ}=MS,{AbstractRecoilValue:_Q,RecoilState:tge,RecoilValueReadOnly:nge,isRecoilValue:rge}=Ka,{invalidateMemoizedSnapshot:xQ}=jj;function SQ(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||n.version===((i=s.previousTree)===null||i===void 0?void 0:i.version)||Yr();const o=Fj(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function EQ(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof qS?n.delete(i):n.set(i,r)}),n}function kQ(t,e,{key:n},r){if(typeof r=="function"){const i=Fj(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Yr(),ft(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function TQ(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=kQ(t,e,i,s),l=vQ(t,e,i.key,o);for(const[u,d]of l.entries())T_(e,u,d)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;T_(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=$j(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else Yr(`Unknown action ${n.type}`)}function T_(t,e,n){n.state==="hasValue"&&n.contents instanceof qS?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Bj(t,e){t.replaceState(n=>{const r=Vj(n);for(const i of e)TQ(t,r,i);return Uj(t,r),xQ(),r})}function Fg(t,e){if(ad.length){const n=ad[ad.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Bj(t,[e])}const ad=[];function CQ(){const t=new Map;return ad.push(t),()=>{for(const[n,r]of t)Bj(n,r);ad.pop()!==t&&Yr()}}function Vj(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function Uj(t,e){const n=gQ(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=$j(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function qj(t,e,n){Fg(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function OQ(t,e,n){if(n instanceof qS)return qj(t,e,n);Fg(t,{type:"setLoadable",recoilValue:e,loadable:n})}function NQ(t,e){Fg(t,{type:"markModified",recoilValue:e})}function DQ(t,e,n){Fg(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function IQ(t,{key:e},n,r=null){const i=yQ(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),on(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=bQ();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const l=t.getState().nextTree;l&&l.dirtyAtoms.has(e)&&n(l)}return{release:()=>{const l=t.getState(),u=l.nodeToComponentSubscriptions.get(e);if(u===void 0||!u.has(i)){Yr();return}u.delete(i),u.size===0&&l.nodeToComponentSubscriptions.delete(e)}}}function AQ(t,e){var n;const{currentTree:r}=t.getState(),i=wQ(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Qs={AbstractRecoilValue:_Q,getRecoilValueAsLoadable:SQ,setRecoilValue:qj,setRecoilValueLoadable:OQ,markRecoilValueModified:NQ,setUnvalidatedRecoilValue:DQ,subscribeToRecoilValue:IQ,applyAtomValueWrites:EQ,batchStart:CQ,writeLoadableToTreeState:T_,invalidateDownstreams:Uj,copyTreeState:Vj,refreshRecoilValue:AQ};function PQ(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var RQ=PQ;const{cleanUpNode:MQ}=fl,{deleteNodeConfigIfPossible:LQ,getNode:Hj}=Si,{RetentionZone:zj}=BS,jQ=12e4,Wj=new Set;function Yj(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree){Yr();return}const i=new Set;for(const o of e)if(o instanceof zj)for(const l of VQ(n,o))i.add(l);else i.add(o);const s=FQ(t,i);for(const o of s)BQ(t,r,o)}function FQ(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return l(e),s;function l(u){const d=new Set,f=$Q(t,r,u,s,o);for(const v of f){var h;if(Hj(v).retainedBy==="recoilRoot"){o.add(v);continue}if(((h=n.retention.referenceCounts.get(v))!==null&&h!==void 0?h:0)>0){o.add(v);continue}if(Gj(v).some(w=>n.retention.referenceCounts.get(w))){o.add(v);continue}const y=i.nodeToNodeSubscriptions.get(v);if(y&&RQ(y,w=>o.has(w))){o.add(v);continue}s.add(v),d.add(v)}const p=new Set;for(const v of d)for(const y of(m=i.nodeDeps.get(v))!==null&&m!==void 0?m:Wj){var m;s.has(y)||p.add(y)}p.size&&l(p)}}function $Q(t,e,n,r,i){const s=t.getGraph(e.version),o=[],l=new Set;for(;n.size>0;)u(on(n.values().next().value));return o;function u(d){if(r.has(d)||i.has(d)){n.delete(d);return}if(l.has(d))return;const f=s.nodeToNodeSubscriptions.get(d);if(f)for(const h of f)u(h);l.add(d),n.delete(d),o.push(d)}}function BQ(t,e,n){if(!Wt("recoil_memory_managament_2020"))return;MQ(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=Gj(n);for(const u of i){var s;(s=r.retention.nodesRetainedByZone.get(u))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const u=o.nodeDeps.get(n);if(u!==void 0){o.nodeDeps.delete(n);for(const d of u){var l;(l=o.nodeToNodeSubscriptions.get(d))===null||l===void 0||l.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}LQ(n)}function VQ(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:Wj}function Gj(t){const e=Hj(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof zj?[e]:e}function UQ(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):Yj(t,new Set([e]))}function qQ(t,e,n){var r;if(!Wt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?HQ(t,e):i.set(e,s)}function HQ(t,e){if(!Wt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),UQ(t,e)}function zQ(t){if(!Wt("recoil_memory_managament_2020"))return;const e=t.getState();Yj(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function WQ(t){return t===void 0?"recoilRoot":t}var Bu={SUSPENSE_TIMEOUT_MS:jQ,updateRetainCount:qQ,releaseScheduledRetainablesNow:zQ,retainedByOptionWithDefault:WQ};const{unstable_batchedUpdates:YQ}=J_;var GQ={unstable_batchedUpdates:YQ};const{unstable_batchedUpdates:KQ}=GQ;var QQ={unstable_batchedUpdates:KQ};const{batchStart:XQ}=Qs,{unstable_batchedUpdates:JQ}=QQ;let ZQ=JQ||(t=>t());const eX=t=>{ZQ(()=>{let e=()=>{};try{e=XQ(),t()}finally{e()}})};var HS={batchUpdates:eX};function*tX(t){for(const e of t)for(const n of e)yield n}var Kj=tX;const nX=typeof Window>"u"||typeof window>"u";var zS={isSSR:nX};function rX(t,e){let n,r;return[(...o)=>{const l=e(...o);return n===l||(n=l,r=t(...o)),r},()=>{n=null}]}var iX={memoizeOneWithArgsHashAndInvalidation:rX};const{batchUpdates:C_}=HS,{initializeNode:sX,peekNodeInfo:oX}=fl,{graph:aX}=hf,{getNextStoreID:lX}=jg,{DEFAULT_VALUE:uX,recoilValues:UN,recoilValuesForKeys:qN}=Si,{AbstractRecoilValue:cX,getRecoilValueAsLoadable:dX,setRecoilValue:HN,setUnvalidatedRecoilValue:fX}=Qs,{updateRetainCount:kp}=Bu,{setInvalidateMemoizedSnapshot:hX}=jj,{getNextTreeStateVersion:pX,makeEmptyStoreState:mX}=Aj,{isSSR:gX}=zS,{memoizeOneWithArgsHashAndInvalidation:vX}=iX;class $g{constructor(e,n){lt(this,"_store",void 0),lt(this,"_refCount",1),lt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),dX(this._store,r))),lt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),lt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return qN(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?UN.values():r.isInitialized===!0?qN(Kj([i,s])):VS(UN.values(),({key:o})=>!i.has(o)&&!s.has(o))}),lt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),oX(this._store,this._store.getState().currentTree,r))),lt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new O_(this,C_);return r(i),i}),lt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new O_(this,C_);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:lX(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return on(i.get(r));const s=aX();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw ft("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)sX(this._store,r,"get"),kp(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&Yr(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){gX||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Wt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Wt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Qj(t,e,n=!1){const r=t.getState(),i=n?pX():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Lg(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function yX(t){const e=new $g(mX());return t!=null?e.map(t):e}const[zN,Xj]=vX((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:on(r.previousTree);return new $g(Qj(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});hX(Xj);function wX(t,e="latest"){const n=zN(t,e);return n.isRetained()?n:(Xj(),zN(t,e))}class O_ extends $g{constructor(e,n){super(Qj(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),lt(this,"_batch",void 0),lt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{kp(s,r.key,1),HN(this.getStore_INTERNAL(),r,i)})}),lt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{kp(i,r.key,1),HN(this.getStore_INTERNAL(),r,uX)})}),lt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();C_(()=>{for(const[s,o]of r.entries())kp(i,s,1),fX(i,new cX(s),o)})}),this._batch=n}}var Bg={Snapshot:$g,MutableSnapshot:O_,freshSnapshot:yX,cloneSnapshot:wX},bX=Bg.Snapshot,_X=Bg.MutableSnapshot,xX=Bg.freshSnapshot,SX=Bg.cloneSnapshot,Vg=Object.freeze({__proto__:null,Snapshot:bX,MutableSnapshot:_X,freshSnapshot:xX,cloneSnapshot:SX});function EX(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var kX=EX;const{useRef:TX}=se;function CX(t){const e=TX(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var WN=CX;const{getNextTreeStateVersion:OX,makeEmptyStoreState:Jj}=Aj,{cleanUpNode:NX,getDownstreamNodes:DX,initializeNode:IX,setNodeValue:AX,setUnvalidatedAtomValue_DEPRECATED:PX}=fl,{graph:RX}=hf,{cloneGraph:MX}=hf,{getNextStoreID:Zj}=jg,{createMutableSource:W0,reactMode:e4}=MS,{applyAtomValueWrites:LX}=Qs,{releaseScheduledRetainablesNow:t4}=Bu,{freshSnapshot:jX}=Vg,{useCallback:FX,useContext:n4,useEffect:N_,useMemo:$X,useRef:BX,useState:VX}=se;function Ic(){throw ft("This component must be used inside a <RecoilRoot> component.")}const r4=Object.freeze({storeID:Zj(),getState:Ic,replaceState:Ic,getGraph:Ic,subscribeToTransactions:Ic,addTransactionMetadata:Ic});let D_=!1;function YN(t){if(D_)throw ft("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Wt("recoil_memory_managament_2020")&&Wt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&t4(t);const n=e.currentTree.version,r=OX();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,MX(on(e.graphsByVersion.get(n))))}}const i4=se.createContext({current:r4}),WS=()=>n4(i4),s4=se.createContext(null);function UX(){const t=n4(s4);return t==null&&Oj(),t}function o4(t,e,n){const r=DX(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[l,u]]of s)u(n)}}function qX(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,l]of s)l(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!e4().early||e.suspendedComponentResolvers.size>0)&&(o4(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function HX(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,qX(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Yr("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Wt("recoil_memory_managament_2020")&&n==null&&t4(t)}finally{e.commitDepth--}}function zX({setNotifyBatcherOfChange:t}){const e=WS(),[,n]=VX([]);return t(()=>n({})),N_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),N_(()=>{IK.enqueueExecution("Batcher",()=>{HX(e.current)})}),null}function WX(t,e){const n=Jj();return e({set:(r,i)=>{const s=n.currentTree,o=AX(t,s,r.key,i),l=new Set(o.keys()),u=s.nonvalidatedAtoms.clone();for(const d of l)u.delete(d);n.currentTree={...s,dirtyAtoms:kX(s.dirtyAtoms,l),atomValues:LX(s.atomValues,o),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=PX(n.currentTree,s,i)})}}),n}function YX(t){const e=jX(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let GN=0;function GX({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=m=>{const v=i.current.graphsByVersion;if(v.has(m))return on(v.get(m));const y=RX();return v.set(m,y),y},o=(m,v)=>{if(v==null){const{transactionSubscriptions:y}=h.current.getState(),w=GN++;return y.set(w,m),{release:()=>{y.delete(w)}}}else{const{nodeTransactionSubscriptions:y}=h.current.getState();y.has(v)||y.set(v,new Map);const w=GN++;return on(y.get(v)).set(w,m),{release:()=>{const _=y.get(v);_&&(_.delete(w),_.size===0&&y.delete(v))}}}},l=m=>{YN(h.current);for(const v of Object.keys(m))on(h.current.getState().nextTree).transactionMetadata[v]=m[v]},u=m=>{YN(h.current);const v=on(i.current.nextTree);let y;try{D_=!0,y=m(v)}finally{D_=!1}y!==v&&(i.current.nextTree=y,e4().early&&o4(h.current,i.current,y),on(d.current)())},d=BX(null),f=FX(m=>{d.current=m},[d]),h=WN(()=>n??{storeID:Zj(),getState:()=>i.current,replaceState:u,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:l});n!=null&&(h.current=n),i=WN(()=>t!=null?WX(h.current,t):e!=null?YX(e):Jj());const p=$X(()=>W0==null?void 0:W0(i,()=>i.current.currentTree.version),[i]);return N_(()=>{const m=h.current;for(const v of new Set(m.getState().knownAtoms))IX(m,v,"get");return()=>{for(const v of m.getState().knownAtoms)NX(m,v)}},[h]),se.createElement(i4.Provider,{value:h},se.createElement(s4.Provider,{value:p},se.createElement(zX,{setNotifyBatcherOfChange:f}),r))}function KX(t){const{override:e,...n}=t,r=WS();return e===!1&&r.current!==r4?t.children:se.createElement(GX,n)}var YS={RecoilRoot:KX,useStoreRef:WS,useRecoilMutableSource:UX};function QX(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var XX=QX;const{useEffect:JX,useRef:ZX}=se;function eJ(t){const e=ZX();return JX(()=>{e.current=t}),e.current}var tJ=eJ;const{useStoreRef:nJ}=YS,{SUSPENSE_TIMEOUT_MS:rJ}=Bu,{updateRetainCount:Ac}=Bu,{RetentionZone:iJ}=BS,{useEffect:sJ,useRef:oJ}=se,{isSSR:KN}=zS;function aJ(t){if(Wt("recoil_memory_managament_2020"))return lJ(t)}function lJ(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof iJ?o:o.key),r=nJ();sJ(()=>{if(!Wt("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!KN)window.clearTimeout(i.current),i.current=null;else for(const l of n)Ac(o,l,1);return()=>{for(const l of n)Ac(o,l,-1)}},[r,...n]);const i=oJ(),s=tJ(n);if(!KN&&(s===void 0||!XX(s,n))){const o=r.current;for(const l of n)Ac(o,l,1);if(s)for(const l of s)Ac(o,l,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const l of n)Ac(o,l,-1)},rJ)}}var uJ=aJ;function cJ(){return"<component name not available>"}var Ug=cJ;const{currentRendererSupportsUseSyncExternalStore:dJ,reactMode:mf,useMutableSource:fJ,useSyncExternalStore:hJ}=MS,{useRecoilMutableSource:pJ,useStoreRef:Vu}=YS,{isRecoilValue:ige}=Ka,{getRecoilValueAsLoadable:qg,setRecoilValue:mJ,subscribeToRecoilValue:Hg}=Qs,{useCallback:Fi,useEffect:dm,useMemo:gJ,useRef:a4,useState:l4}=se,{isSSR:vJ}=zS;function yJ(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),vJ&&Zt(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:ft(`Invalid value of loadable atom "${e.key}"`)}function wJ(t){const e=Vu(),n=Ug(),r=Fi(()=>{var l;const u=e.current,d=u.getState(),f=mf().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return{loadable:qg(u,t,f),key:t.key}},[e,t]),i=Fi(l=>{let u;return()=>{var d,f;const h=l();return(d=u)!==null&&d!==void 0&&d.loadable.is(h.loadable)&&((f=u)===null||f===void 0?void 0:f.key)===h.key?u:(u=h,h)}},[]),s=gJ(()=>i(r),[r,i]),o=Fi(l=>{const u=e.current;return Hg(u,t,l,n).release},[e,t,n]);return hJ(o,s,s).loadable}function bJ(t){const e=Vu(),n=Fi(()=>{var d;const f=e.current,h=f.getState(),p=mf().early&&(d=h.nextTree)!==null&&d!==void 0?d:h.currentTree;return qg(f,t,p)},[e,t]),r=Fi(()=>n(),[n]),i=Ug(),s=Fi((d,f)=>{const h=e.current;return Hg(h,t,()=>{if(!Wt("recoil_suppress_rerender_in_callback"))return f();const m=n();u.current.is(m)||f(),u.current=m},i).release},[e,t,i,n]),o=pJ();if(o==null)throw ft("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const l=fJ(o,r,s),u=a4(l);return dm(()=>{u.current=l}),l}function QN(t){const e=Vu(),n=Ug(),r=Fi(()=>{var u;const d=e.current,f=d.getState(),h=mf().early&&(u=f.nextTree)!==null&&u!==void 0?u:f.currentTree;return qg(d,t,h)},[e,t]),i=Fi(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Fi(u=>{const d=i();return u.loadable.is(d.loadable)&&u.key===d.key?u:d},[i]);dm(()=>{const u=Hg(e.current,t,d=>{l(s)},n);return l(s),u.release},[n,t,e,s]);const[o,l]=l4(i);return o.key!==t.key?i().loadable:o.loadable}function _J(t){const e=Vu(),[,n]=l4([]),r=Ug(),i=Fi(()=>{var l;const u=e.current,d=u.getState(),f=mf().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return qg(u,t,f)},[e,t]),s=i(),o=a4(s);return dm(()=>{o.current=s}),dm(()=>{const l=e.current,u=l.getState(),d=Hg(l,t,h=>{var p;if(!Wt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=o.current)!==null&&p!==void 0&&p.is(m)||n(m),o.current=m},r);if(u.nextTree)l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var f;if(!Wt("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(f=o.current)!==null&&f!==void 0&&f.is(h)||n(h),o.current=h}return d.release},[r,i,t,e]),s}function xJ(t){return Wt("recoil_memory_managament_2020")&&uJ(t),{TRANSITION_SUPPORT:QN,SYNC_EXTERNAL_STORE:dJ()?wJ:QN,MUTABLE_SOURCE:bJ,LEGACY:_J}[mf().mode](t)}function u4(t){const e=Vu(),n=xJ(t);return yJ(n,t,e)}function c4(t){const e=Vu();return Fi(n=>{mJ(e.current,t,n)},[e,t])}function SJ(t){return[u4(t),c4(t)]}var EJ={useRecoilState:SJ,useRecoilValue:u4,useSetRecoilState:c4};const{batchUpdates:kJ}=HS,{DEFAULT_VALUE:TJ,getNode:CJ}=Si,{AbstractRecoilValue:OJ,setRecoilValueLoadable:NJ}=Qs,{cloneSnapshot:sge}=Vg,{useCallback:oge,useEffect:age,useRef:lge,useState:uge}=se;function DJ(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;kJ(()=>{const o=new Set;for(const d of[i.atomValues.keys(),s.atomValues.keys()])for(const f of d){var l,u;((l=i.atomValues.get(f))===null||l===void 0?void 0:l.contents)!==((u=s.atomValues.get(f))===null||u===void 0?void 0:u.contents)&&CJ(f).shouldRestoreFromSnapshots&&o.add(f)}o.forEach(d=>{NJ(t,new OJ(d),s.atomValues.has(d)?on(s.atomValues.get(d)):TJ)}),t.replaceState(d=>({...d,stateID:e.getID()}))})}var IJ={gotoSnapshot:DJ};const{useMemo:cge}=se,{loadableWithValue:AJ}=df,{initializeNode:PJ}=fl,{DEFAULT_VALUE:RJ,getNode:MJ}=Si,{copyTreeState:LJ,getRecoilValueAsLoadable:jJ,invalidateDownstreams:FJ,writeLoadableToTreeState:$J}=Qs;function XN(t){return MJ(t.key).nodeType==="atom"}class BJ{constructor(e,n){lt(this,"_store",void 0),lt(this,"_treeState",void 0),lt(this,"_changes",void 0),lt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!XN(r))throw ft("Reading selectors within atomicUpdate is not supported");const i=jJ(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:ft(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),lt(this,"set",(r,i)=>{if(!XN(r))throw ft("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else PJ(this._store,r.key,"set"),this._changes.set(r.key,i)}),lt(this,"reset",r=>{this.set(r,RJ)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=LJ(this._treeState);for(const[n,r]of this._changes)$J(e,n,AJ(r));return FJ(this._store,e),e}}function VJ(t){return e=>{t.replaceState(n=>{const r=new BJ(t,n);return e(r),r.newTreeState_INTERNAL()})}}var UJ={atomicUpdater:VJ},qJ=UJ.atomicUpdater,d4=Object.freeze({__proto__:null,atomicUpdater:qJ});function HJ(t,e){if(!t)throw new Error(e)}var zJ=HJ,Kc=zJ;const{atomicUpdater:WJ}=d4,{batchUpdates:YJ}=HS,{DEFAULT_VALUE:GJ}=Si,{refreshRecoilValue:KJ,setRecoilValue:JN}=Qs,{cloneSnapshot:QJ}=Vg,{gotoSnapshot:XJ}=IJ,{useCallback:dge}=se;class f4{}const JJ=new f4;function ZJ(t,e,n,r){let i=JJ,s;if(YJ(()=>{const l="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw ft(l);const u=Pj({...r??{},set:(f,h)=>JN(t,f,h),reset:f=>JN(t,f,GJ),refresh:f=>KJ(t,f),gotoSnapshot:f=>XJ(t,f),transact_UNSTABLE:f=>WJ(t)(f)},{snapshot:()=>{const f=QJ(t);return s=f.retain(),f}}),d=e(u);if(typeof d!="function")throw ft(l);i=d(...n)}),i instanceof f4&&Kc(!1),Zt(i))i=i.finally(()=>{var l;(l=s)===null||l===void 0||l()});else{var o;(o=s)===null||o===void 0||o()}return i}var eZ={recoilCallback:ZJ};const{useCallback:fge}=se,{atomicUpdater:hge}=d4,{useMemo:pge}=se;class tZ{constructor(e){lt(this,"value",void 0),this.value=e}}var nZ={WrappedValue:tZ},rZ=nZ.WrappedValue,h4=Object.freeze({__proto__:null,WrappedValue:rZ});class ZN extends Error{}class iZ{constructor(e){var n,r,i;lt(this,"_name",void 0),lt(this,"_numLeafs",void 0),lt(this,"_root",void 0),lt(this,"_onHit",void 0),lt(this,"_onSet",void 0),lt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,l,u;let d,f;for(const[w,_]of e){var h,p,m;const b=this._root;if((b==null?void 0:b.type)==="leaf")throw this.invalidCacheError();const k=d;if(d=k?k.branches.get(f):b,d=(h=d)!==null&&h!==void 0?h:{type:"branch",nodeKey:w,parent:k,branches:new Map,branchKey:f},d.type!=="branch"||d.nodeKey!==w)throw this.invalidCacheError();k==null||k.branches.set(f,d),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,d),f=this._mapNodeValue(_),this._root=(m=this._root)!==null&&m!==void 0?m:d}const v=d?(s=d)===null||s===void 0?void 0:s.branches.get(f):this._root;if(v!=null&&(v.type!=="leaf"||v.branchKey!==f))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:d,branchKey:f};(o=d)===null||o===void 0||o.branches.set(f,y),this._root=(l=this._root)!==null&&l!==void 0?l:y,this._numLeafs++,this._onSet(y),r==null||(u=r.onNodeVisit)===null||u===void 0||u.call(r,y)};try{i()}catch(s){if(s instanceof ZN)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw Yr("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new ZN}}var sZ={TreeCache:iZ},oZ=sZ.TreeCache,p4=Object.freeze({__proto__:null,TreeCache:oZ});class aZ{constructor(e){var n;lt(this,"_maxSize",void 0),lt(this,"_size",void 0),lt(this,"_head",void 0),lt(this,"_tail",void 0),lt(this,"_map",void 0),lt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=on(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var lZ={LRUCache:aZ},uZ=lZ.LRUCache,m4=Object.freeze({__proto__:null,LRUCache:uZ});const{LRUCache:cZ}=m4,{TreeCache:dZ}=p4;function fZ({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new cZ({maxSize:e}),i=new dZ({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var eD=fZ;function Mi(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw ft("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Zt(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Mi(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Mi(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Mi(s,e)]=o;return Mi(i,e,n)}return t instanceof Set?Mi(Array.from(t).sort((i,s)=>Mi(i,e).localeCompare(Mi(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Mi(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Mi(i,e)}:${Mi(t[i],e,i)}`).join(",")}}`}function hZ(t,e={allowFunctions:!1}){return Mi(t,e)}var zg=hZ;const{TreeCache:pZ}=p4,Kh={equality:"reference",eviction:"keep-all",maxSize:1/0};function mZ({equality:t=Kh.equality,eviction:e=Kh.eviction,maxSize:n=Kh.maxSize}=Kh,r){const i=gZ(t);return vZ(e,n,i,r)}function gZ(t){switch(t){case"reference":return e=>e;case"value":return e=>zg(e)}throw ft(`Unrecognized equality policy ${t}`)}function vZ(t,e,n,r){switch(t){case"keep-all":return new pZ({name:r,mapNodeValue:n});case"lru":return eD({name:r,maxSize:on(e),mapNodeValue:n});case"most-recent":return eD({name:r,maxSize:1,mapNodeValue:n})}throw ft(`Unrecognized eviction policy ${t}`)}var yZ=mZ;const{isLoadable:wZ,loadableWithError:Qh,loadableWithPromise:bZ,loadableWithValue:Y0}=df,{WrappedValue:g4}=h4,{getNodeLoadable:Xh,peekNodeLoadable:_Z,setNodeValue:xZ}=fl,{saveDepsToStore:SZ}=hf,{DEFAULT_VALUE:EZ,getConfigDeletionHandler:kZ,getNode:TZ,registerNode:tD}=Si,{isRecoilValue:CZ}=Ka,{markRecoilValueModified:nD}=Qs,{retainedByOptionWithDefault:OZ}=Bu,{recoilCallback:NZ}=eZ;class v4{}const Pc=new v4,Rc=[],Jh=new Map,DZ=(()=>{let t=0;return()=>t++})();function y4(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,l=yZ(i??{equality:"reference",eviction:"keep-all"},n),u=OZ(t.retainedBy_UNSTABLE),d=new Map;let f=0;function h(){return!Wt("recoil_memory_managament_2020")||f>0}function p($){return $.getState().knownSelectors.add(n),f++,()=>{f--}}function m(){return kZ(n)!==void 0&&!h()}function v($,W,Q,J,H){V(W,J,H),y($,Q)}function y($,W){B($,W)&&L($),_(W,!0)}function w($,W){B($,W)&&(on(R($)).stateVersions.clear(),_(W,!1))}function _($,W){const Q=Jh.get($);if(Q!=null){for(const J of Q)nD(J,on(e));W&&Jh.delete($)}}function b($,W){let Q=Jh.get(W);Q==null&&Jh.set(W,Q=new Set),Q.add($)}function k($,W,Q,J,H,X){return W.then(ee=>{if(!h())throw L($),Pc;const re=Y0(ee);return v($,Q,H,re,J),ee}).catch(ee=>{if(!h())throw L($),Pc;if(Zt(ee))return S($,ee,Q,J,H,X);const re=Qh(ee);throw v($,Q,H,re,J),ee})}function S($,W,Q,J,H,X){return W.then(ee=>{if(!h())throw L($),Pc;X.loadingDepKey!=null&&X.loadingDepPromise===W?Q.atomValues.set(X.loadingDepKey,Y0(ee)):$.getState().knownSelectors.forEach(Se=>{Q.atomValues.delete(Se)});const re=O($,Q);if(re&&re.state!=="loading"){if((B($,H)||R($)==null)&&y($,H),re.state==="hasValue")return re.contents;throw re.contents}if(!B($,H)){const Se=j($,Q);if(Se!=null)return Se.loadingLoadable.contents}const[ce,we]=N($,Q,H);if(ce.state!=="loading"&&v($,Q,H,ce,we),ce.state==="hasError")throw ce.contents;return ce.contents}).catch(ee=>{if(ee instanceof v4)throw Pc;if(!h())throw L($),Pc;const re=Qh(ee);throw v($,Q,H,re,J),ee})}function T($,W,Q,J){var H,X,ee,re;if(B($,J)||W.version===((H=$.getState())===null||H===void 0||(X=H.currentTree)===null||X===void 0?void 0:X.version)||W.version===((ee=$.getState())===null||ee===void 0||(re=ee.nextTree)===null||re===void 0?void 0:re.version)){var ce,we,Se;SZ(n,Q,$,(ce=(we=$.getState())===null||we===void 0||(Se=we.nextTree)===null||Se===void 0?void 0:Se.version)!==null&&ce!==void 0?ce:$.getState().currentTree.version)}for(const Ie of Q)o.add(Ie)}function N($,W,Q){let J=!0,H=!0;const X=()=>{H=!1};let ee,re=!1,ce;const we={loadingDepKey:null,loadingDepPromise:null},Se=new Map;function Ie({key:Xe}){const _t=Xh($,W,Xe);switch(Se.set(Xe,_t),J||(T($,W,new Set(Se.keys()),Q),w($,Q)),_t.state){case"hasValue":return _t.contents;case"hasError":throw _t.contents;case"loading":throw we.loadingDepKey=Xe,we.loadingDepPromise=_t.contents,_t.contents}throw ft("Invalid Loadable state")}const He=Xe=>(..._t)=>{if(H)throw ft("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Kc(!1),NZ($,Xe,_t,{node:e})};try{ee=r({get:Ie,getCallback:He}),ee=CZ(ee)?Ie(ee):ee,wZ(ee)&&(ee.state==="hasError"&&(re=!0),ee=ee.contents),Zt(ee)?ee=k($,ee,W,Se,Q,we).finally(X):X(),ee=ee instanceof g4?ee.value:ee}catch(Xe){ee=Xe,Zt(ee)?ee=S($,ee,W,Se,Q,we).finally(X):(re=!0,X())}return re?ce=Qh(ee):Zt(ee)?ce=bZ(ee):ce=Y0(ee),J=!1,P($,Q,Se),T($,W,new Set(Se.keys()),Q),[ce,Se]}function O($,W){let Q=W.atomValues.get(n);if(Q!=null)return Q;const J=new Set;try{Q=l.get(X=>(typeof X!="string"&&Kc(!1),Xh($,W,X).contents),{onNodeVisit:X=>{X.type==="branch"&&X.nodeKey!==n&&J.add(X.nodeKey)}})}catch(X){throw ft(`Problem with cache lookup for selector "${n}": ${X.message}`)}if(Q){var H;W.atomValues.set(n,Q),T($,W,J,(H=R($))===null||H===void 0?void 0:H.executionID)}return Q}function D($,W){const Q=O($,W);if(Q!=null)return L($),Q;const J=j($,W);if(J!=null){var H;return((H=J.loadingLoadable)===null||H===void 0?void 0:H.state)==="loading"&&b($,J.executionID),J.loadingLoadable}const X=DZ(),[ee,re]=N($,W,X);return ee.state==="loading"?(I($,X,ee,re,W),b($,X)):(L($),V(W,ee,re)),ee}function j($,W){const Q=Kj([d.has($)?[on(d.get($))]:[],Lg(VS(d,([H])=>H!==$),([,H])=>H)]);function J(H){for(const[X,ee]of H)if(!Xh($,W,X).is(ee))return!0;return!1}for(const H of Q){if(H.stateVersions.get(W.version)||!J(H.depValuesDiscoveredSoFarDuringAsyncWork))return H.stateVersions.set(W.version,!0),H;H.stateVersions.set(W.version,!1)}}function R($){return d.get($)}function I($,W,Q,J,H){d.set($,{depValuesDiscoveredSoFarDuringAsyncWork:J,executionID:W,loadingLoadable:Q,stateVersions:new Map([[H.version,!0]])})}function P($,W,Q){if(B($,W)){const J=R($);J!=null&&(J.depValuesDiscoveredSoFarDuringAsyncWork=Q)}}function L($){d.delete($)}function B($,W){var Q;return W===((Q=R($))===null||Q===void 0?void 0:Q.executionID)}function U($){return Array.from($.entries()).map(([W,Q])=>[W,Q.contents])}function V($,W,Q){$.atomValues.set(n,W);try{l.set(U(Q),W)}catch(J){throw ft(`Problem with setting cache for selector "${n}": ${J.message}`)}}function Y($){if(Rc.includes(n)){const W=`Recoil selector has circular dependencies: ${Rc.slice(Rc.indexOf(n)).join(" → ")}`;return Qh(ft(W))}Rc.push(n);try{return $()}finally{Rc.pop()}}function K($,W){const Q=W.atomValues.get(n);return Q??l.get(J=>{var H;return typeof J!="string"&&Kc(!1),(H=_Z($,W,J))===null||H===void 0?void 0:H.contents})}function G($,W){return Y(()=>D($,W))}function M($){$.atomValues.delete(n)}function F($,W){e==null&&Kc(!1);for(const J of o){var Q;const H=TZ(J);(Q=H.clearCache)===null||Q===void 0||Q.call(H,$,W)}o.clear(),M(W),l.clear(),nD($,e)}return s!=null?e=tD({key:n,nodeType:"selector",peek:K,get:G,set:(W,Q,J)=>{let H=!1;const X=new Map;function ee({key:Se}){if(H)throw ft("Recoil: Async selector sets are not currently supported.");const Ie=Xh(W,Q,Se);if(Ie.state==="hasValue")return Ie.contents;if(Ie.state==="loading"){const He=`Getting value of asynchronous atom or selector "${Se}" in a pending state while setting selector "${n}" is not yet supported.`;throw Yr(),ft(He)}else throw Ie.contents}function re(Se,Ie){if(H){const _t="Recoil: Async selector sets are not currently supported.";throw Yr(),ft(_t)}const He=typeof Ie=="function"?Ie(ee(Se)):Ie;xZ(W,Q,Se.key,He).forEach((_t,$t)=>X.set($t,_t))}function ce(Se){re(Se,EZ)}const we=s({set:re,get:ee,reset:ce},J);if(we!==void 0)throw Zt(we)?ft("Recoil: Async selector sets are not currently supported."):ft("Recoil: selector set should be a void function.");return H=!0,X},init:p,invalidate:M,clearCache:F,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):e=tD({key:n,nodeType:"selector",peek:K,get:G,init:p,invalidate:M,clearCache:F,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}y4.value=t=>new g4(t);var xu=y4;const{isLoadable:IZ,loadableWithError:G0,loadableWithPromise:K0,loadableWithValue:Bl}=df,{WrappedValue:w4}=h4,{peekNodeInfo:AZ}=fl,{DEFAULT_VALUE:Ea,DefaultValue:Co,getConfigDeletionHandler:b4,registerNode:PZ,setConfigDeletionHandler:RZ}=Si,{isRecoilValue:MZ}=Ka,{getRecoilValueAsLoadable:LZ,markRecoilValueModified:jZ,setRecoilValue:rD,setRecoilValueLoadable:FZ}=Qs,{retainedByOptionWithDefault:$Z}=Bu,Mc=t=>t instanceof w4?t.value:t;function BZ(t){const{key:e,persistence_UNSTABLE:n}=t,r=$Z(t.retainedBy_UNSTABLE);let i=0;function s(b){return K0(b.then(k=>(o=Bl(k),k)).catch(k=>{throw o=G0(k),k}))}let o=Zt(t.default)?s(t.default):IZ(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Bl(Mc(t.default));o.contents;let l;const u=new Map;function d(b){return b}function f(b,k){const S=k.then(T=>{var N,O;return((O=((N=b.getState().nextTree)!==null&&N!==void 0?N:b.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&rD(b,_,T),T}).catch(T=>{var N,O;throw((O=((N=b.getState().nextTree)!==null&&N!==void 0?N:b.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&FZ(b,_,G0(T)),T});return S}function h(b,k,S){var T;i++;const N=()=>{var R;i--,(R=u.get(b))===null||R===void 0||R.forEach(I=>I()),u.delete(b)};if(b.getState().knownAtoms.add(e),o.state==="loading"){const R=()=>{var I;((I=b.getState().nextTree)!==null&&I!==void 0?I:b.getState().currentTree).atomValues.has(e)||jZ(b,_)};o.contents.finally(R)}const O=(T=t.effects)!==null&&T!==void 0?T:t.effects_UNSTABLE;if(O!=null){let R=function(M){if(B&&M.key===e){const F=L;return F instanceof Co?p(b,k):Zt(F)?K0(F.then($=>$ instanceof Co?o.toPromise():$)):Bl(F)}return LZ(b,M)},I=function(M){return R(M).toPromise()},P=function(M){var F;const $=AZ(b,(F=b.getState().nextTree)!==null&&F!==void 0?F:b.getState().currentTree,M.key);return B&&M.key===e&&!(L instanceof Co)?{...$,isSet:!0,loadable:R(M)}:$},L=Ea,B=!0,U=!1,V=null;const Y=M=>F=>{if(B){const $=R(_),W=$.state==="hasValue"?$.contents:Ea;L=typeof F=="function"?F(W):F,Zt(L)&&(L=L.then(Q=>(V={effect:M,value:Q},Q)))}else{if(Zt(F))throw ft("Setting atoms to async values is not implemented.");typeof F!="function"&&(V={effect:M,value:Mc(F)}),rD(b,_,typeof F=="function"?$=>{const W=Mc(F($));return V={effect:M,value:W},W}:Mc(F))}},K=M=>()=>Y(M)(Ea),G=M=>F=>{var $;const{release:W}=b.subscribeToTransactions(Q=>{var J;let{currentTree:H,previousTree:X}=Q.getState();X||(Yr(),X=H);const ee=(J=H.atomValues.get(e))!==null&&J!==void 0?J:o;if(ee.state==="hasValue"){var re,ce,we,Se;const Ie=ee.contents,He=(re=X.atomValues.get(e))!==null&&re!==void 0?re:o,Xe=He.state==="hasValue"?He.contents:Ea;((ce=V)===null||ce===void 0?void 0:ce.effect)!==M||((we=V)===null||we===void 0?void 0:we.value)!==Ie?F(Ie,Xe,!H.atomValues.has(e)):((Se=V)===null||Se===void 0?void 0:Se.effect)===M&&(V=null)}},e);u.set(b,[...($=u.get(b))!==null&&$!==void 0?$:[],W])};for(const M of O)try{const F=M({node:_,storeID:b.storeID,parentStoreID_UNSTABLE:b.parentStoreID,trigger:S,setSelf:Y(M),resetSelf:K(M),onSet:G(M),getPromise:I,getLoadable:R,getInfo_UNSTABLE:P});if(F!=null){var D;u.set(b,[...(D=u.get(b))!==null&&D!==void 0?D:[],F])}}catch(F){L=F,U=!0}if(B=!1,!(L instanceof Co)){var j;const M=U?G0(L):Zt(L)?K0(f(b,L)):Bl(Mc(L));M.contents,k.atomValues.set(e,M),(j=b.getState().nextTree)===null||j===void 0||j.atomValues.set(e,M)}}return N}function p(b,k){var S,T;return(S=(T=k.atomValues.get(e))!==null&&T!==void 0?T:l)!==null&&S!==void 0?S:o}function m(b,k){if(k.atomValues.has(e))return on(k.atomValues.get(e));if(k.nonvalidatedAtoms.has(e)){if(l!=null)return l;if(n==null)return Oj(),o;const S=k.nonvalidatedAtoms.get(e),T=n.validator(S,Ea);return l=T instanceof Co?o:Bl(T),l}else return o}function v(){l=void 0}function y(b,k,S){if(k.atomValues.has(e)){const T=on(k.atomValues.get(e));if(T.state==="hasValue"&&S===T.contents)return new Map}else if(!k.nonvalidatedAtoms.has(e)&&S instanceof Co)return new Map;return l=void 0,new Map().set(e,Bl(S))}function w(){return b4(e)!==void 0&&i<=0}const _=PZ({key:e,nodeType:"atom",peek:p,get:m,set:y,init:h,invalidate:v,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return _}function GS(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return MZ(n)?VZ({...e,default:n}):BZ({...e,default:n})}function VZ(t){const e=GS({...t,default:Ea,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Co?r:on(t.persistence_UNSTABLE).validator(r,Ea)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=xu({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Co?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return RZ(n.key,b4(t.key)),n}GS.value=t=>new w4(t);var _4=GS;class UZ{constructor(e){var n;lt(this,"_map",void 0),lt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var qZ={MapCache:UZ},HZ=qZ.MapCache,zZ=Object.freeze({__proto__:null,MapCache:HZ});const{LRUCache:iD}=m4,{MapCache:WZ}=zZ,Zh={equality:"reference",eviction:"none",maxSize:1/0};function YZ({equality:t=Zh.equality,eviction:e=Zh.eviction,maxSize:n=Zh.maxSize}=Zh){const r=GZ(t);return KZ(e,n,r)}function GZ(t){switch(t){case"reference":return e=>e;case"value":return e=>zg(e)}throw ft(`Unrecognized equality policy ${t}`)}function KZ(t,e,n){switch(t){case"keep-all":return new WZ({mapKey:n});case"lru":return new iD({mapKey:n,maxSize:on(e)});case"most-recent":return new iD({mapKey:n,maxSize:1})}throw ft(`Unrecognized eviction policy ${t}`)}var x4=YZ;const{setConfigDeletionHandler:QZ}=Si;function XZ(t){var e,n;const r=x4({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const l=r.get(i);if(l!=null)return l;const{cachePolicyForParams_UNSTABLE:u,...d}=t,f="default"in t?t.default:new Promise(()=>{}),h=_4({...d,key:`${t.key}__${(s=zg(i))!==null&&s!==void 0?s:"void"}`,default:typeof f=="function"?f(i):f,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,h),QZ(h.key,()=>{r.delete(i)}),h}}var JZ=XZ;const{setConfigDeletionHandler:ZZ}=Si;let eee=0;function tee(t){var e,n;const r=x4({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(p){throw ft(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(o!=null)return o;const l=`${t.key}__selectorFamily/${(s=zg(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${eee++}`,u=p=>t.get(i)(p),d=t.cachePolicy_UNSTABLE,f=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const p=t.set;h=xu({key:l,get:u,set:(v,y)=>p(i)(v,y),cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:f})}else h=xu({key:l,get:u,cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:f});return r.set(i,h),ZZ(h.key,()=>{r.delete(i)}),h}}var ia=tee;ia({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});ia({key:"__error",get:t=>()=>{throw ft(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:S4,loadableWithPromise:E4,loadableWithValue:k4}=df;function Wg(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function nee(t){return t!=null&&!Zt(t)}function Yg(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function I_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function iu(t,e,n){const r=n.map((i,s)=>i==null?k4(e[s]):Zt(i)?E4(i):S4(i));return I_(t,r)}function ree(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}ia({key:"__waitForNone",get:t=>({get:e})=>{const n=Yg(t),[r,i]=Wg(e,n);return iu(t,r,i)},dangerouslyAllowMutability:!0});ia({key:"__waitForAny",get:t=>({get:e})=>{const n=Yg(t),[r,i]=Wg(e,n);return i.some(s=>!Zt(s))?iu(t,r,i):new Promise(s=>{for(const[o,l]of i.entries())Zt(l)&&l.then(u=>{r[o]=u,i[o]=void 0,s(iu(t,r,i))}).catch(u=>{i[o]=u,s(iu(t,r,i))})})},dangerouslyAllowMutability:!0});ia({key:"__waitForAll",get:t=>({get:e})=>{const n=Yg(t),[r,i]=Wg(e,n);if(i.every(o=>o==null))return I_(t,r);const s=i.find(nee);if(s!=null)throw s;return Promise.all(i).then(o=>I_(t,ree(r,o)))},dangerouslyAllowMutability:!0});ia({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Yg(t),[r,i]=Wg(e,n);return i.every(s=>!Zt(s))?iu(t,r,i):Promise.all(i.map((s,o)=>Zt(s)?s.then(l=>{r[o]=l,i[o]=void 0}).catch(l=>{r[o]=void 0,i[o]=l}):null)).then(()=>iu(t,r,i))},dangerouslyAllowMutability:!0});ia({key:"__noWait",get:t=>({get:e})=>{try{return xu.value(k4(e(t)))}catch(n){return xu.value(Zt(n)?E4(n):S4(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:mge}=df,{RecoilRoot:iee}=YS,{isRecoilValue:gge}=Ka,{freshSnapshot:vge}=Vg,{useRecoilState:see,useRecoilValue:oee,useSetRecoilState:aee}=EJ;var sa={RecoilRoot:iee,atom:_4,selector:xu,atomFamily:JZ,selectorFamily:ia,useRecoilValue:oee,useRecoilState:see,useSetRecoilState:aee},lee=sa.RecoilRoot,Dn=sa.atom,T4=sa.selector,uee=sa.atomFamily,C4=sa.selectorFamily,Fe=sa.useRecoilValue,Yt=sa.useRecoilState,Wo=sa.useSetRecoilState;const O4=Dn({key:"modalList",default:[]});var ep,cee=new Uint8Array(16);function dee(){if(!ep&&(ep=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ep))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ep(cee)}const fee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hee(t){return typeof t=="string"&&fee.test(t)}var Jn=[];for(var Q0=0;Q0<256;++Q0)Jn.push((Q0+256).toString(16).substr(1));function pee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Jn[t[e+0]]+Jn[t[e+1]]+Jn[t[e+2]]+Jn[t[e+3]]+"-"+Jn[t[e+4]]+Jn[t[e+5]]+"-"+Jn[t[e+6]]+Jn[t[e+7]]+"-"+Jn[t[e+8]]+Jn[t[e+9]]+"-"+Jn[t[e+10]]+Jn[t[e+11]]+Jn[t[e+12]]+Jn[t[e+13]]+Jn[t[e+14]]+Jn[t[e+15]]).toLowerCase();if(!hee(n))throw TypeError("Stringified UUID is invalid");return n}function nn(t,e,n){t=t||{};var r=t.random||(t.rng||dee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return pee(r)}const KS=Dn({key:`recommendedBook/${nn()}`,default:{thumbnail:"",title:"",authors:[],url:"",publisher:""}}),N4=Dn({key:`bookDesc${nn()}`,default:null}),D4=Dn({key:`searchList${nn()}`,default:[]}),ld=[{id:1,name:"과학"},{id:2,name:"국내문학"},{id:3,name:"시/에세이"},{id:4,name:"철학"},{id:5,name:"역사문화"},{id:6,name:"인문"},{id:7,name:"사회"},{id:8,name:"정치"},{id:9,name:"해외문학"},{id:10,name:"경제경영"},{id:11,name:"예술/대중문화"},{id:12,name:"이벤트"}];function mee(t,e){return t.length<e?t:`${t.slice(0,e)}...`}const I4=6048e5,gee=864e5,sD=Symbol.for("constructDateFrom");function Yo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&sD in t?t[sD](e):t instanceof Date?new t.constructor(e):new Date(e)}function zi(t,e){return Yo(e||t,t)}let vee={};function Gg(){return vee}function Id(t,e){var l,u,d,f;const n=Gg(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=zi(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function fm(t,e){return Id(t,{...e,weekStartsOn:1})}function A4(t,e){const n=zi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Yo(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=fm(i),o=Yo(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=fm(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function oD(t){const e=zi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yee(t,...e){const n=Yo.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function aD(t,e){const n=zi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function wee(t,e,n){const[r,i]=yee(n==null?void 0:n.in,t,e),s=aD(r),o=aD(i),l=+s-oD(s),u=+o-oD(o);return Math.round((l-u)/gee)}function bee(t,e){const n=A4(t,e),r=Yo(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),fm(r)}function _ee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xee(t){return!(!_ee(t)&&typeof t!="number"||isNaN(+zi(t)))}function See(t,e){const n=zi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Eee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kee=(t,e,n)=>{let r;const i=Eee[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function su(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Tee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nee={date:su({formats:Tee,defaultWidth:"full"}),time:su({formats:Cee,defaultWidth:"full"}),dateTime:su({formats:Oee,defaultWidth:"full"})},Dee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Iee=(t,e,n,r)=>Dee[t];function rs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Aee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ree={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fee=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$ee={ordinalNumber:Fee,era:rs({values:Aee,defaultWidth:"wide"}),quarter:rs({values:Pee,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rs({values:Ree,defaultWidth:"wide"}),day:rs({values:Mee,defaultWidth:"wide"}),dayPeriod:rs({values:Lee,defaultWidth:"wide",formattingValues:jee,defaultFormattingWidth:"wide"})};function is(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?Vee(l,h=>h.test(o)):Bee(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function Bee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Vee(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function P4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Uee=/^(\d+)(th|st|nd|rd)?/i,qee=/\d+/i,Hee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zee={any:[/^b/i,/^(a|c)/i]},Wee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yee={any:[/1/i,/2/i,/3/i,/4/i]},Gee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ete={ordinalNumber:P4({matchPattern:Uee,parsePattern:qee,valueCallback:t=>parseInt(t,10)}),era:is({matchPatterns:Hee,defaultMatchWidth:"wide",parsePatterns:zee,defaultParseWidth:"any"}),quarter:is({matchPatterns:Wee,defaultMatchWidth:"wide",parsePatterns:Yee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:is({matchPatterns:Gee,defaultMatchWidth:"wide",parsePatterns:Kee,defaultParseWidth:"any"}),day:is({matchPatterns:Qee,defaultMatchWidth:"wide",parsePatterns:Xee,defaultParseWidth:"any"}),dayPeriod:is({matchPatterns:Jee,defaultMatchWidth:"any",parsePatterns:Zee,defaultParseWidth:"any"})},tte={code:"en-US",formatDistance:kee,formatLong:Nee,formatRelative:Iee,localize:$ee,match:ete,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nte(t,e){const n=zi(t,e==null?void 0:e.in);return wee(n,See(n))+1}function rte(t,e){const n=zi(t,e==null?void 0:e.in),r=+fm(n)-+bee(n);return Math.round(r/I4)+1}function R4(t,e){var f,h,p,m;const n=zi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Gg(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Yo((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=Id(o,e),u=Yo((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=Id(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function ite(t,e){var l,u,d,f;const n=Gg(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=R4(t,e),s=Yo((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Id(s,e)}function ste(t,e){const n=zi(t,e==null?void 0:e.in),r=+Id(n,e)-+ite(n,e);return Math.round(r/I4)+1}function Pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pt(n+1,2)},d(t,e){return Pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pt(t.getHours()%12||12,e.length)},H(t,e){return Pt(t.getHours(),e.length)},m(t,e){return Pt(t.getMinutes(),e.length)},s(t,e){return Pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pt(i,e.length)}},Vl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Eo.y(t,e)},Y:function(t,e,n,r){const i=R4(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Pt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Pt(s,e.length)},R:function(t,e){const n=A4(t);return Pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ste(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pt(i,e.length)},I:function(t,e,n){const r=rte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Eo.d(t,e)},D:function(t,e,n){const r=nte(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Pt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Pt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Vl.noon:r===0?i=Vl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Vl.evening:r>=12?i=Vl.afternoon:r>=4?i=Vl.morning:i=Vl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Eo.s(t,e)},S:function(t,e){return Eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cD(r);case"XXXX":case"XX":return xa(r);case"XXXXX":case"XXX":default:return xa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return cD(r);case"xxxx":case"xx":return xa(r);case"xxxxx":case"xxx":default:return xa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+uD(r,":");case"OOOO":default:return"GMT"+xa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+uD(r,":");case"zzzz":default:return"GMT"+xa(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Pt(r,e.length)},T:function(t,e,n){return Pt(+t,e.length)}};function uD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Pt(s,2)}function cD(t,e){return t%60===0?(t>0?"-":"+")+Pt(Math.abs(t)/60,2):xa(t,e)}function xa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pt(Math.trunc(r/60),2),s=Pt(r%60,2);return n+i+e+s}const dD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},M4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ote=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return dD(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",dD(r,e)).replace("{{time}}",M4(i,e))},ate={p:M4,P:ote},lte=/^D+$/,ute=/^Y+$/,cte=["D","DD","YY","YYYY"];function dte(t){return lte.test(t)}function fte(t){return ute.test(t)}function hte(t,e,n){const r=pte(t,e,n);if(console.warn(r),cte.includes(t))throw new RangeError(r)}function pte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vte=/^'([^]*?)'?$/,yte=/''/g,wte=/[a-zA-Z]/;function bte(t,e,n){var f,h,p,m,v,y,w,_;const r=Gg(),i=(n==null?void 0:n.locale)??r.locale??tte,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,l=zi(t,n==null?void 0:n.in);if(!xee(l))throw new RangeError("Invalid time value");let u=e.match(gte).map(b=>{const k=b[0];if(k==="p"||k==="P"){const S=ate[k];return S(b,i.formatLong)}return b}).join("").match(mte).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const k=b[0];if(k==="'")return{isToken:!1,value:_te(b)};if(lD[k])return{isToken:!0,value:b};if(k.match(wte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(b=>{if(!b.isToken)return b.value;const k=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&fte(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dte(k))&&hte(k,e,String(t));const S=lD[k[0]];return S(l,k,i.localize,d)}).join("")}function _te(t){const e=t.match(vte);return e?e[1].replace(yte,"'"):t}const xte={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},Ste=(t,e,n)=>{let r;const i=xte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" 후":r+" 전":r},Ete={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},kte={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Tte={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Cte={date:su({formats:Ete,defaultWidth:"full"}),time:su({formats:kte,defaultWidth:"full"}),dateTime:su({formats:Tte,defaultWidth:"full"})},Ote={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},Nte=(t,e,n,r)=>Ote[t],Dte={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Ite={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Ate={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Pte={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},Rte={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Mte={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Lte=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},jte={ordinalNumber:Lte,era:rs({values:Dte,defaultWidth:"wide"}),quarter:rs({values:Ite,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rs({values:Ate,defaultWidth:"wide"}),day:rs({values:Pte,defaultWidth:"wide"}),dayPeriod:rs({values:Rte,defaultWidth:"wide",formattingValues:Mte,defaultFormattingWidth:"wide"})},Fte=/^(\d+)(일|번째)?/i,$te=/\d+/i,Bte={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},Vte={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},Ute={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},qte={any:[/1/i,/2/i,/3/i,/4/i]},Hte={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},zte={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Wte={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},Yte={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},Gte={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},Kte={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Qte={ordinalNumber:P4({matchPattern:Fte,parsePattern:$te,valueCallback:t=>parseInt(t,10)}),era:is({matchPatterns:Bte,defaultMatchWidth:"wide",parsePatterns:Vte,defaultParseWidth:"any"}),quarter:is({matchPatterns:Ute,defaultMatchWidth:"wide",parsePatterns:qte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:is({matchPatterns:Hte,defaultMatchWidth:"wide",parsePatterns:zte,defaultParseWidth:"any"}),day:is({matchPatterns:Wte,defaultMatchWidth:"wide",parsePatterns:Yte,defaultParseWidth:"any"}),dayPeriod:is({matchPatterns:Gte,defaultMatchWidth:"any",parsePatterns:Kte,defaultParseWidth:"any"})},L4={code:"ko",formatDistance:Ste,formatLong:Cte,formatRelative:Nte,localize:jte,match:Qte,options:{weekStartsOn:0,firstWeekContainsDate:1}},Uu=new Date,ut=(t,e="yyyy.MM.dd")=>{try{const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("유효하지 않은 시간");return bte(n,e,{locale:L4})}catch(n){console.error("날짜 포맷팅 중 에러 발생:",n)}};function hm(t){const e=new Date,r=+new Date(t)-+e;return`${Math.floor(r/(1e3*60*60*24))+1}`}const j4=()=>{const t=new Date(ut(Uu,"yyyy-MM"));return t.setMonth(t.getMonth()+1),ut(t,"yyyy-MM")};function F4(t=+jt,e=+zr,n=0,r=0){const i=new Date(t,e-1,1);for(;i.getDay()!==0;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+14),i.setHours(n,r,0,0),i}const Ln=ut(Uu,"yyyy-MM"),jt=ut(Uu,"yyyy"),zr=ut(Uu,"MM");ut(Uu,"dd");const X0=ut(j4(),"yyyy-MM"),Xte=`${+jt+1}`,fD=ut(j4(),"MM"),pm=ut(Uu,"yyyy-MM-dd"),mm=(t,e)=>t===0&&e===0?0:Math.round(t/e*1e4/10)/10;function hl(t){return t?!!Object.keys(t).length:{}}const Pr=(t,e)=>`${`BookClub-${t.slice(0,4)}`}/${t}/${e}`;function hD(t,e,n){return n==="latest"?t.monthId.localeCompare(e.monthId):e.monthId.localeCompare(t.monthId)}const Jte=(t,e)=>t==null?void 0:t.map(({id:r,book:{title:i}})=>{const s=e.map(({votedItem:l})=>l).flat(),o=s==null?void 0:s.filter(l=>(l==null?void 0:l.id)===r).length;return{id:r,voteCount:o,title:i}}),_i=`BookClub-${jt}`,Su="BookVote",Qa="Challenge",Zte="TagList",Ad="FCMNotification",qi="User",A_="VotedItems",$4="RecommendedBooks",Pd="HostReview",QS="Reviews",Rd="Subjects",Md="BookFieldAndHost",Eu="AbsenceMembers",ene="MeetingPlace",B4=[{step:1,stepName:"키워드 확인"},{step:2,stepName:"계정 정보"},{step:3,stepName:"멤버 정보"}],tne=["여성","남성"],nne={absenceMembers:Array.from({length:12},(t,e)=>({month:e+1,breakMembers:[],onceAbsenceMembers:[]}))},rne={id:jt,info:Array.from({length:12},(t,e)=>({month:e+1,hosts:[],field:"",detail:""}))},pD=["01","02","03","04","05","06","07","08","09","10","11","12"],ine=Array.from({length:+jt-2020},(t,e)=>`${+jt-e}`),XS="wowo6806@naver.com";function ir(t,e,n){const r=SL(rn(Gt,t,e),i=>{n({id:i.id,...i.data()})});V4(r)}function qn(t,e){const n=uL(Gt,t),r=C0(n,uN("name","!=","테스트계정")),i=C0(n,uN("__name__",">=",`${jt}-`)),s=C0(n,c7("createdAt","desc")),l=SL(t===qi?r:t===Qa?i:s,u=>{const d=u.docs.map(f=>({id:f.id,...f.data()}));e(d)});V4(l)}function V4(t){fx(qt,e=>{e==null&&t()})}async function JS(t,e,n){const r=rn(Gt,t,e);await ws(r,n)}var tp={exports:{}},J0,mD;function U4(){return mD||(mD=1,J0=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}}),J0}var Z0,gD;function sr(){if(gD)return Z0;gD=1;var t=U4(),e=Object.prototype.toString,n=function(V){return function(Y){var K=e.call(Y);return V[K]||(V[K]=K.slice(8,-1).toLowerCase())}}(Object.create(null));function r(V){return V=V.toLowerCase(),function(K){return n(K)===V}}function i(V){return Array.isArray(V)}function s(V){return typeof V>"u"}function o(V){return V!==null&&!s(V)&&V.constructor!==null&&!s(V.constructor)&&typeof V.constructor.isBuffer=="function"&&V.constructor.isBuffer(V)}var l=r("ArrayBuffer");function u(V){var Y;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Y=ArrayBuffer.isView(V):Y=V&&V.buffer&&l(V.buffer),Y}function d(V){return typeof V=="string"}function f(V){return typeof V=="number"}function h(V){return V!==null&&typeof V=="object"}function p(V){if(n(V)!=="object")return!1;var Y=Object.getPrototypeOf(V);return Y===null||Y===Object.prototype}var m=r("Date"),v=r("File"),y=r("Blob"),w=r("FileList");function _(V){return e.call(V)==="[object Function]"}function b(V){return h(V)&&_(V.pipe)}function k(V){var Y="[object FormData]";return V&&(typeof FormData=="function"&&V instanceof FormData||e.call(V)===Y||_(V.toString)&&V.toString()===Y)}var S=r("URLSearchParams");function T(V){return V.trim?V.trim():V.replace(/^\s+|\s+$/g,"")}function N(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function O(V,Y){if(!(V===null||typeof V>"u"))if(typeof V!="object"&&(V=[V]),i(V))for(var K=0,G=V.length;K<G;K++)Y.call(null,V[K],K,V);else for(var M in V)Object.prototype.hasOwnProperty.call(V,M)&&Y.call(null,V[M],M,V)}function D(){var V={};function Y(M,F){p(V[F])&&p(M)?V[F]=D(V[F],M):p(M)?V[F]=D({},M):i(M)?V[F]=M.slice():V[F]=M}for(var K=0,G=arguments.length;K<G;K++)O(arguments[K],Y);return V}function j(V,Y,K){return O(Y,function(M,F){K&&typeof M=="function"?V[F]=t(M,K):V[F]=M}),V}function R(V){return V.charCodeAt(0)===65279&&(V=V.slice(1)),V}function I(V,Y,K,G){V.prototype=Object.create(Y.prototype,G),V.prototype.constructor=V,K&&Object.assign(V.prototype,K)}function P(V,Y,K){var G,M,F,$={};Y=Y||{};do{for(G=Object.getOwnPropertyNames(V),M=G.length;M-- >0;)F=G[M],$[F]||(Y[F]=V[F],$[F]=!0);V=Object.getPrototypeOf(V)}while(V&&(!K||K(V,Y))&&V!==Object.prototype);return Y}function L(V,Y,K){V=String(V),(K===void 0||K>V.length)&&(K=V.length),K-=Y.length;var G=V.indexOf(Y,K);return G!==-1&&G===K}function B(V){if(!V)return null;var Y=V.length;if(s(Y))return null;for(var K=new Array(Y);Y-- >0;)K[Y]=V[Y];return K}var U=function(V){return function(Y){return V&&Y instanceof V}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return Z0={isArray:i,isArrayBuffer:l,isBuffer:o,isFormData:k,isArrayBufferView:u,isString:d,isNumber:f,isObject:h,isPlainObject:p,isUndefined:s,isDate:m,isFile:v,isBlob:y,isFunction:_,isStream:b,isURLSearchParams:S,isStandardBrowserEnv:N,forEach:O,merge:D,extend:j,trim:T,stripBOM:R,inherits:I,toFlatObject:P,kindOf:n,kindOfTest:r,endsWith:L,toArray:B,isTypedArray:U,isFileList:w},Z0}var ew,vD;function q4(){if(vD)return ew;vD=1;var t=sr();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return ew=function(r,i,s){if(!i)return r;var o;if(s)o=s(i);else if(t.isURLSearchParams(i))o=i.toString();else{var l=[];t.forEach(i,function(f,h){f===null||typeof f>"u"||(t.isArray(f)?h=h+"[]":f=[f],t.forEach(f,function(m){t.isDate(m)?m=m.toISOString():t.isObject(m)&&(m=JSON.stringify(m)),l.push(e(h)+"="+e(m))}))}),o=l.join("&")}if(o){var u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},ew}var tw,yD;function sne(){if(yD)return tw;yD=1;var t=sr();function e(){this.handlers=[]}return e.prototype.use=function(r,i,s){return this.handlers.push({fulfilled:r,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(s){s!==null&&r(s)})},tw=e,tw}var nw,wD;function one(){if(wD)return nw;wD=1;var t=sr();return nw=function(n,r){t.forEach(n,function(s,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=s,delete n[o])})},nw}var rw,bD;function qu(){if(bD)return rw;bD=1;var t=sr();function e(i,s,o,l,u){Error.call(this),this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),l&&(this.request=l),u&&(this.response=u)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,s,o,l,u,d){var f=Object.create(n);return t.toFlatObject(i,f,function(p){return p!==Error.prototype}),e.call(f,i.message,s,o,l,u),f.name=i.name,d&&Object.assign(f,d),f},rw=e,rw}var iw,_D;function H4(){return _D||(_D=1,iw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),iw}var sw,xD;function z4(){if(xD)return sw;xD=1;var t=sr();function e(n,r){r=r||new FormData;var i=[];function s(l){return l===null?"":t.isDate(l)?l.toISOString():t.isArrayBuffer(l)||t.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function o(l,u){if(t.isPlainObject(l)||t.isArray(l)){if(i.indexOf(l)!==-1)throw Error("Circular reference detected in "+u);i.push(l),t.forEach(l,function(f,h){if(!t.isUndefined(f)){var p=u?u+"."+h:h,m;if(f&&!u&&typeof f=="object"){if(t.endsWith(h,"{}"))f=JSON.stringify(f);else if(t.endsWith(h,"[]")&&(m=t.toArray(f))){m.forEach(function(v){!t.isUndefined(v)&&r.append(p,s(v))});return}}o(f,p)}}),i.pop()}else r.append(u,s(l))}return o(n),r}return sw=e,sw}var ow,SD;function ane(){if(SD)return ow;SD=1;var t=qu();return ow=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},ow}var aw,ED;function lne(){if(ED)return aw;ED=1;var t=sr();return aw=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,l,u){var d=[];d.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),t.isString(o)&&d.push("path="+o),t.isString(l)&&d.push("domain="+l),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),aw}var lw,kD;function une(){return kD||(kD=1,lw=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),lw}var uw,TD;function cne(){return TD||(TD=1,uw=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),uw}var cw,CD;function W4(){if(CD)return cw;CD=1;var t=une(),e=cne();return cw=function(r,i){return r&&!t(i)?e(r,i):i},cw}var dw,OD;function dne(){if(OD)return dw;OD=1;var t=sr(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return dw=function(r){var i={},s,o,l;return r&&t.forEach(r.split(`
`),function(d){if(l=d.indexOf(":"),s=t.trim(d.substr(0,l)).toLowerCase(),o=t.trim(d.substr(l+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},dw}var fw,ND;function fne(){if(ND)return fw;ND=1;var t=sr();return fw=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var l=o;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(l){var u=t.isString(l)?s(l):l;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),fw}var hw,DD;function Kg(){if(DD)return hw;DD=1;var t=qu(),e=sr();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),hw=n,hw}var pw,ID;function hne(){return ID||(ID=1,pw=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),pw}var mw,AD;function PD(){if(AD)return mw;AD=1;var t=sr(),e=ane(),n=lne(),r=q4(),i=W4(),s=dne(),o=fne(),l=H4(),u=qu(),d=Kg(),f=hne();return mw=function(p){return new Promise(function(v,y){var w=p.data,_=p.headers,b=p.responseType,k;function S(){p.cancelToken&&p.cancelToken.unsubscribe(k),p.signal&&p.signal.removeEventListener("abort",k)}t.isFormData(w)&&t.isStandardBrowserEnv()&&delete _["Content-Type"];var T=new XMLHttpRequest;if(p.auth){var N=p.auth.username||"",O=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";_.Authorization="Basic "+btoa(N+":"+O)}var D=i(p.baseURL,p.url);T.open(p.method.toUpperCase(),r(D,p.params,p.paramsSerializer),!0),T.timeout=p.timeout;function j(){if(T){var P="getAllResponseHeaders"in T?s(T.getAllResponseHeaders()):null,L=!b||b==="text"||b==="json"?T.responseText:T.response,B={data:L,status:T.status,statusText:T.statusText,headers:P,config:p,request:T};e(function(V){v(V),S()},function(V){y(V),S()},B),T=null}}if("onloadend"in T?T.onloadend=j:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(j)},T.onabort=function(){T&&(y(new u("Request aborted",u.ECONNABORTED,p,T)),T=null)},T.onerror=function(){y(new u("Network Error",u.ERR_NETWORK,p,T,T)),T=null},T.ontimeout=function(){var L=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",B=p.transitional||l;p.timeoutErrorMessage&&(L=p.timeoutErrorMessage),y(new u(L,B.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,p,T)),T=null},t.isStandardBrowserEnv()){var R=(p.withCredentials||o(D))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;R&&(_[p.xsrfHeaderName]=R)}"setRequestHeader"in T&&t.forEach(_,function(L,B){typeof w>"u"&&B.toLowerCase()==="content-type"?delete _[B]:T.setRequestHeader(B,L)}),t.isUndefined(p.withCredentials)||(T.withCredentials=!!p.withCredentials),b&&b!=="json"&&(T.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&T.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(k=function(P){T&&(y(!P||P&&P.type?new d:P),T.abort(),T=null)},p.cancelToken&&p.cancelToken.subscribe(k),p.signal&&(p.signal.aborted?k():p.signal.addEventListener("abort",k))),w||(w=null);var I=f(D);if(I&&["http","https","file"].indexOf(I)===-1){y(new u("Unsupported protocol "+I+":",u.ERR_BAD_REQUEST,p));return}T.send(w)})},mw}var gw,RD;function pne(){return RD||(RD=1,gw=null),gw}var vw,MD;function ZS(){if(MD)return vw;MD=1;var t=sr(),e=one(),n=qu(),r=H4(),i=z4(),s={"Content-Type":"application/x-www-form-urlencoded"};function o(f,h){!t.isUndefined(f)&&t.isUndefined(f["Content-Type"])&&(f["Content-Type"]=h)}function l(){var f;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(f=PD()),f}function u(f,h,p){if(t.isString(f))try{return(h||JSON.parse)(f),t.trim(f)}catch(m){if(m.name!=="SyntaxError")throw m}return(p||JSON.stringify)(f)}var d={transitional:r,adapter:l(),transformRequest:[function(h,p){if(e(p,"Accept"),e(p,"Content-Type"),t.isFormData(h)||t.isArrayBuffer(h)||t.isBuffer(h)||t.isStream(h)||t.isFile(h)||t.isBlob(h))return h;if(t.isArrayBufferView(h))return h.buffer;if(t.isURLSearchParams(h))return o(p,"application/x-www-form-urlencoded;charset=utf-8"),h.toString();var m=t.isObject(h),v=p&&p["Content-Type"],y;if((y=t.isFileList(h))||m&&v==="multipart/form-data"){var w=this.env&&this.env.FormData;return i(y?{"files[]":h}:h,w&&new w)}else if(m||v==="application/json")return o(p,"application/json"),u(h);return h}],transformResponse:[function(h){var p=this.transitional||d.transitional,m=p&&p.silentJSONParsing,v=p&&p.forcedJSONParsing,y=!m&&this.responseType==="json";if(y||v&&t.isString(h)&&h.length)try{return JSON.parse(h)}catch(w){if(y)throw w.name==="SyntaxError"?n.from(w,n.ERR_BAD_RESPONSE,this,null,this.response):w}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pne()},validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(h){d.headers[h]={}}),t.forEach(["post","put","patch"],function(h){d.headers[h]=t.merge(s)}),vw=d,vw}var yw,LD;function mne(){if(LD)return yw;LD=1;var t=sr(),e=ZS();return yw=function(r,i,s){var o=this||e;return t.forEach(s,function(u){r=u.call(o,r,i)}),r},yw}var ww,jD;function Y4(){return jD||(jD=1,ww=function(e){return!!(e&&e.__CANCEL__)}),ww}var bw,FD;function gne(){if(FD)return bw;FD=1;var t=sr(),e=mne(),n=Y4(),r=ZS(),i=Kg();function s(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new i}return bw=function(l){s(l),l.headers=l.headers||{},l.data=e.call(l,l.data,l.headers,l.transformRequest),l.headers=t.merge(l.headers.common||{},l.headers[l.method]||{},l.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(f){delete l.headers[f]});var u=l.adapter||r.adapter;return u(l).then(function(f){return s(l),f.data=e.call(l,f.data,f.headers,l.transformResponse),f},function(f){return n(f)||(s(l),f&&f.response&&(f.response.data=e.call(l,f.response.data,f.response.headers,l.transformResponse))),Promise.reject(f)})},bw}var _w,$D;function G4(){if($D)return _w;$D=1;var t=sr();return _w=function(n,r){r=r||{};var i={};function s(h,p){return t.isPlainObject(h)&&t.isPlainObject(p)?t.merge(h,p):t.isPlainObject(p)?t.merge({},p):t.isArray(p)?p.slice():p}function o(h){if(t.isUndefined(r[h])){if(!t.isUndefined(n[h]))return s(void 0,n[h])}else return s(n[h],r[h])}function l(h){if(!t.isUndefined(r[h]))return s(void 0,r[h])}function u(h){if(t.isUndefined(r[h])){if(!t.isUndefined(n[h]))return s(void 0,n[h])}else return s(void 0,r[h])}function d(h){if(h in r)return s(n[h],r[h]);if(h in n)return s(void 0,n[h])}var f={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(p){var m=f[p]||o,v=m(p);t.isUndefined(v)&&m!==d||(i[p]=v)}),i},_w}var xw,BD;function K4(){return BD||(BD=1,xw={version:"0.27.2"}),xw}var Sw,VD;function vne(){if(VD)return Sw;VD=1;var t=K4().version,e=qu(),n={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){n[s]=function(u){return typeof u===s||"a"+(o<1?"n ":" ")+s}});var r={};n.transitional=function(o,l,u){function d(f,h){return"[Axios v"+t+"] Transitional option '"+f+"'"+h+(u?". "+u:"")}return function(f,h,p){if(o===!1)throw new e(d(h," has been removed"+(l?" in "+l:"")),e.ERR_DEPRECATED);return l&&!r[h]&&(r[h]=!0,console.warn(d(h," has been deprecated since v"+l+" and will be removed in the near future"))),o?o(f,h,p):!0}};function i(s,o,l){if(typeof s!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var u=Object.keys(s),d=u.length;d-- >0;){var f=u[d],h=o[f];if(h){var p=s[f],m=p===void 0||h(p,f,s);if(m!==!0)throw new e("option "+f+" must be "+m,e.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new e("Unknown option "+f,e.ERR_BAD_OPTION)}}return Sw={assertOptions:i,validators:n},Sw}var Ew,UD;function yne(){if(UD)return Ew;UD=1;var t=sr(),e=q4(),n=sne(),r=gne(),i=G4(),s=W4(),o=vne(),l=o.validators;function u(d){this.defaults=d,this.interceptors={request:new n,response:new n}}return u.prototype.request=function(f,h){typeof f=="string"?(h=h||{},h.url=f):h=f||{},h=i(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var p=h.transitional;p!==void 0&&o.assertOptions(p,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var m=[],v=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(h)===!1||(v=v&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});var y=[];this.interceptors.response.forEach(function(N){y.push(N.fulfilled,N.rejected)});var w;if(!v){var _=[r,void 0];for(Array.prototype.unshift.apply(_,m),_=_.concat(y),w=Promise.resolve(h);_.length;)w=w.then(_.shift(),_.shift());return w}for(var b=h;m.length;){var k=m.shift(),S=m.shift();try{b=k(b)}catch(T){S(T);break}}try{w=r(b)}catch(T){return Promise.reject(T)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},u.prototype.getUri=function(f){f=i(this.defaults,f);var h=s(f.baseURL,f.url);return e(h,f.params,f.paramsSerializer)},t.forEach(["delete","get","head","options"],function(f){u.prototype[f]=function(h,p){return this.request(i(p||{},{method:f,url:h,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(f){function h(p){return function(v,y,w){return this.request(i(w||{},{method:f,headers:p?{"Content-Type":"multipart/form-data"}:{},url:v,data:y}))}}u.prototype[f]=h(),u.prototype[f+"Form"]=h(!0)}),Ew=u,Ew}var kw,qD;function wne(){if(qD)return kw;qD=1;var t=Kg();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,l=i._listeners.length;for(o=0;o<l;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,l=new Promise(function(u){i.subscribe(u),o=u}).then(s);return l.cancel=function(){i.unsubscribe(o)},l},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},kw=e,kw}var Tw,HD;function bne(){return HD||(HD=1,Tw=function(e){return function(r){return e.apply(null,r)}}),Tw}var Cw,zD;function _ne(){if(zD)return Cw;zD=1;var t=sr();return Cw=function(n){return t.isObject(n)&&n.isAxiosError===!0},Cw}var WD;function xne(){if(WD)return tp.exports;WD=1;var t=sr(),e=U4(),n=yne(),r=G4(),i=ZS();function s(l){var u=new n(l),d=e(n.prototype.request,u);return t.extend(d,n.prototype,u),t.extend(d,u),d.create=function(h){return s(r(l,h))},d}var o=s(i);return o.Axios=n,o.CanceledError=Kg(),o.CancelToken=wne(),o.isCancel=Y4(),o.VERSION=K4().version,o.toFormData=z4(),o.AxiosError=qu(),o.Cancel=o.CanceledError,o.all=function(u){return Promise.all(u)},o.spread=bne(),o.isAxiosError=_ne(),tp.exports=o,tp.exports.default=o,tp.exports}var Ow,YD;function Sne(){return YD||(YD=1,Ow=xne()),Ow}var Ene=Sne();const kne=Ud(Ene),Tne=kne.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK e8625f56dd420c3a1e0b08fa4e2550d4"}}),Cne=t=>Tne.get("/v3/search/book",{params:t}),One=async(t,e)=>{const n={query:t},{data:r}=await Cne(n);e(r.documents)},Nne=Km(),pl=Dn({key:`allUsers/${nn}`,default:[],effects:[({setSelf:t})=>{qn(qi,t)}]}),gt=Dn({key:`currUser/${nn}`,default:null,effects:[({setSelf:t})=>{const e=fx(Nne,n=>{if(n){const{uid:r,email:i,displayName:s,photoURL:o}=n;t({uid:r??"",email:i??"",displayName:s??"익명의 방문자",photoURL:o??""})}else t(null)});return()=>{e()}}]}),eE=uee({key:`user/${nn}`,default:{},effects:t=>[({setSelf:e})=>{t&&ir(qi,t,e)}]}),tE=({setText:t,collName:e,docData:n})=>{const{uid:r}=Fe(gt),[i,s]=Yt(eE(r)),o=Wo(KS),l=rn(uL(Gt,e)),u=rn(Gt,qi,`${r}`),{alertAskJoinMember:d}=kr("write");z.useEffect(()=>{r&&!hl(i)&&ir(qi,r,s)},[r]);const f=async m=>{var v;m.preventDefault();try{if(n.text.length===0)return;await ws(l,n);const y={monthId:Ln,docId:l.id};h(y),(v=n==null?void 0:n.recommendedBook)!=null&&v.title&&o({thumbnail:"",title:"",authors:[],url:"",publisher:""})}catch(y){console.error("Error adding document:",y)}t("")},h=async m=>{var v,y,w,_,b;e.includes("Sentence")&&await un(u,{"userRecords.sentences":[...((v=i==null?void 0:i.userRecords)==null?void 0:v.sentences)??[],m]}),e.includes("Reviews")&&await un(u,{"userRecords.reviews":[...((y=i==null?void 0:i.userRecords)==null?void 0:y.reviews)??[],m]}),e.includes("Subjects")&&await un(u,{"userRecords.subjects":[...((w=i==null?void 0:i.userRecords)==null?void 0:w.subjects)??[],m]}),e.includes("RecommendedBooks")&&await un(u,{"userRecords.recommendedBooks":[...((_=i==null?void 0:i.userRecords)==null?void 0:_.recommendedBooks)??[],{monthId:Ln,docId:l.id}]}),e.includes("HostReview")&&await un(u,{"userRecords.hostReviews":[...((b=i==null?void 0:i.userRecords)==null?void 0:b.hostReviews)??[],m]})};function p(m){if(qt.currentUser.isAnonymous)return d();t(m.currentTarget.value)}return{onAddDocSubmit:f,onChange:p}},Dne=({docId:t,collName:e})=>{const{uid:n}=Fe(gt),[r,i]=Yt(eE(n)),s=rn(Gt,e,t),o=rn(Gt,qi,n);z.useEffect(()=>{n&&!hl(r)&&ir(qi,n,i)},[n]);const l=async()=>{window.confirm("정말로 삭제하시겠어요?")&&(await Ng(s),u())},u=async()=>{const{reviews:d,subjects:f,recommendedBooks:h,hostReviews:p,sentences:m}=r.userRecords;if(e.includes("Reviews")){const v=d.filter(y=>y.docId!==s.id);await un(o,{"userRecords.reviews":v})}if(e.includes("Subjects")){const v=f.filter(y=>y.docId!==s.id);await un(o,{"userRecords.subjects":v})}if(e.includes("Recommended")){const v=h.filter(y=>y.docId!==s.id);await un(o,{"userRecords.recommendedBooks":v})}if(e.includes("HostReview")){const v=p.filter(y=>y.docId!==s.id);await un(o,{"userRecords.hostReviews":v})}if(e.includes("Sentence-2024")){const v=m.filter(y=>y.docId!==s.id);await un(o,{"userRecords.sentences":v})}};return{onDeleteClick:l}},Ine=({post:t,collName:e})=>{const[n,r]=z.useState(t.text),i=rn(Gt,e,t.id),{alertAskJoinMember:s,anonymous:o}=kr("see"),l=()=>e.includes("Reviews")?{text:n}:{text:n},{hideModal:u}=Ht();return{editedText:n,setEditedText:r,onEditedSubmit:async h=>{if(h.preventDefault(),o)return s();if(n==="<p><br></p>")return alert("한글자 이상 작성해주세요.");await un(i,l()),u()},onEditedChange:h=>{r(h.currentTarget.value)}}},Ht=()=>{const[t,e]=Yt(O4);return{modalList:t,showModal:i=>new Promise(s=>{const o={...i,isOpen:!0};e(l=>[...l,o]),s()}),hideModal:async i=>{if(typeof i=="string"&&i){const s=t.map(o=>o.key===i?{...o,isOpen:!1}:o);e(s)}else e([])}}},kr=t=>{var l;const e=Er(),n=(l=qt.currentUser)==null?void 0:l.isAnonymous,{hideModal:r}=Ht(),i=()=>{switch(t){case"see":return"볼 수 있습니다";case"edit":return"수정할 수 있습니다";case"register":return"등록할 수 있습니다";case"write":return"작성할 수 있습니다"}};function s(){if(qt.currentUser.isAnonymous){const u=window.confirm(`한페이지 멤버만 ${i()}. 로그인을 해주세요.`);if(r(),u)return e("/login")}}return{alertAskJoinMember:s,blockLinkAndAlertJoinMember:u=>{n&&(u.preventDefault(),s())},anonymous:n}},Ane=()=>{var y;const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,s]=z.useState(""),o=(y=qt.currentUser)==null?void 0:y.isAnonymous,l=qt==null?void 0:qt.currentUser,u=Er(),d=w=>{if(w.preventDefault(),!t||!n||!i)return;const _=ea.credential(l==null?void 0:l.email,t);XP(l,_).then(()=>{if(n!==i){m();return}v()}).catch(b=>{if(console.error(b),b.message.includes("auth/missing-email"))return window.alert("익명의 방문자입니다.")})},f=w=>{if(o)return alert("익명의 방문자입니다!");r(w.currentTarget.value)},h=w=>{if(o)return alert("익명의 방문자입니다!");e(w.currentTarget.value)},p=w=>{if(o)return alert("익명의 방문자입니다!");s(w.currentTarget.value)};function m(){window.alert("새로운 비밀번호가 똑같지 않습니다. 다시 한번 확인해주세요.")}function v(){KU(l,n).then(()=>{window.alert("비밀번호가 성공적으로 변경되었습니다."),e(""),r(""),s(""),u(-1)}).catch(w=>{console.error(w)})}return{onSubmit:d,originPassword:t,onOriginChange:h,newPassword:n,onNewChange:f,checkNewPassword:i,onCheckNewChange:p}},Pne=()=>{const[t,e]=z.useState(B4[0]),[n,r]=z.useState(""),[i,s]=z.useState(""),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,h]=z.useState(""),[p,m]=z.useState(""),[v,y]=z.useState(""),[w,_]=z.useState(new Set),b=Er();return{currentStep:t,keyword:n,onFirstStepChange:R=>{const{currentTarget:{value:I}}=R;r(I)},onFirstStepSubmit:R=>{R.preventDefault(),n==="카페꼼마"?e({step:2,stepName:"계정 정보"}):alert("키워드가 일치하지 않습니다!")},email:i,password:o,checkPassword:u,showErrorMsg:f,onSecondStepChange:R=>{const{currentTarget:{name:I,value:P}}=R;switch(I){case"email":s(P);break;case"password":l(P),h("");break;case"checkPassword":d(P);break}},onSecondStepSubmit:async R=>{R.preventDefault();try{if(i.length===0)return h("이메일이 작성되지 않았습니다!");if(o.length<8)return h("비밀번호가 8자리 이하입니다.");if(o!==u)return h("비밀번호가 일치하지 않습니다.");window.alert("다음 단계에서 간단한 정보를 작성하시면 회원가입이 완료됩니다!"),e({step:3,stepName:"멤버 정보"})}catch(I){if(I.message.includes("email-already-in-use"))return h("이미 사용되고 있는 이메일 계정입니다. 다른 이메일을 사용해주세요.")}},username:p,userGender:v,checkedBookField:w,onThirdStepChange:async R=>{const{currentTarget:{name:I,value:P}}=R;switch(I){case"username":m(P);break;case"gender":y(P);break}},onThirdStepSubmit:async R=>{var I;R.preventDefault();try{await WU(qt,i,o),p&&v&&w.size!==0?(await ws(rn(Gt,qi,`${(I=qt.currentUser)==null?void 0:I.uid}`),{favoriteBookField:Array.from(w),gender:v,name:p,displayName:"한 페이지 멤버",photoURL:""}),window.alert("회원가입이 성공적으로 완료되었습니다. 독서모임 한페이지의 멤버가 되신 것을 환영해요!"),b("/")):alert("입력하신 정보를 다시 한번 확인해주세요.")}catch(P){if(P.message.includes("auth/invalid-email"))return h("유효하지 않은 이메일 계정입니다.");console.error(P.message)}},checkedBoxHandler:(R,I)=>{I?(w.add(R),_(w)):!I&&w.has(R)&&(w.delete(R),_(w))}}},Rne={id:"",title:"",creatorId:"",createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),deadline:"",voteItems:[]},Mne={id:0,selectReason:"",book:{title:"",thumbnail:"",url:""}},nE=Dn({key:`bookVoteDocs/${nn()}`,default:null}),Lne=()=>{const{uid:t}=Fe(gt),n=Fe(nE).length,r={id:1,book:{title:"",thumbnail:"",url:""},selectReason:""},i={id:`${(n+1).toString().padStart(3,"0")}`,title:"",createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:t,deadline:ut(new Date,"yyyy-MM-dd"),voteItems:[r,{...r,id:2}]},[s,o]=z.useState(i),{alertAskJoinMember:l,anonymous:u}=kr("register"),{sendPushNotificationToAllUser:d,isPending:f}=Wi(),h=async()=>{const b=rn(Gt,Su,`VoteId-${s.id}`);await ws(b,s)},{hideModal:p}=Ht();return{newVote:s,setNewVote:o,onNewVoteSubmit:async b=>{if(b.preventDefault(),u)return l();if(s.title==="")return;if(s.voteItems.find(S=>S.book.title===""))return alert("투표 항목이 모두 작성되지 않았습니다!");try{h(),window.alert("투표가 성공적으로 등록되었습니다!"),p(),d({title:"🗳️새로운 투표함 등록",body:`${s.title} 투표함이 등록되었습니다. 종료일 전에 투표를 완료해주세요!⚡️`,subPath:`/vote/${s.id}`})}catch(S){console.error("Error adding document:",S)}},onVoteTitleChange:b=>{const k={...s,title:b.currentTarget.value};o(k)},onDateChange:b=>{const k={...s,deadline:ut(b,"yyyy-MM-dd")};o(k)},onAddVoteItemBtn:()=>{const b={voteItems:[...s.voteItems,{...Mne,id:s.voteItems.length+1}]};o(k=>({...k,...b}))},onDeleteVoteItemClick:b=>{const k=s.voteItems.filter(({id:S})=>S!==b);o(S=>({...S,voteItems:k}))},isPending:f}},jne=()=>{var d;const[t,e]=z.useState(""),[n,r]=z.useState(!1),{uid:i}=Fe(gt),s=Er(),o=(d=qt.currentUser)==null?void 0:d.isAnonymous;return{onDeleteSubmit:f=>{if(f.preventDefault(),t==="")return;const h=qt.currentUser,p=ea.credential(h==null?void 0:h.email,t);try{window.confirm("정말 탈퇴하시겠어요?")===!0?XP(h,p).then(()=>{const v=rn(Gt,qi,`${i}`);Ng(v),ZU(h),s("/")}).catch(v=>{v.message.includes("wrong-password")&&r(!0)}):window.alert("취소되었습니다.")}catch(m){console.log(m)}},showMessage:n,password:t,onChange:f=>{if(o)return alert("익명의 방문자입니다!");e(f.currentTarget.value)}}};Dn({key:`selectedYearAtom/${nn()}`,default:jt});const Hu=Dn({key:`clubByYearAtom/${nn()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),Ei=C4({key:"clubByMonthSelector",get:t=>({get:e})=>e(Hu).find(({id:r})=>r===t)||null}),Q4=()=>{const[t,e]=z.useState(jt),[n,r]=Yt(Hu);z.useEffect(()=>{qn(`BookClub-${t}`,r)},[t]);const i=z.useMemo(()=>n.filter(({book:s})=>s).map(({book:s})=>s),[n]);return{clubByYear:n,selectedYear:t,setSelectedYear:e,clubBookListByYear:i}},gf=Dn({key:`absence/${nn()}`,default:null,effects:[({setSelf:t})=>{(async()=>{ir(_i,Eu,t)})()}]}),X4=C4({key:"attendanceSelector",get:t=>({get:e})=>{const n=e(pl),r=e(gf),s=((r==null?void 0:r.absenceMembers)||[]).find(({month:u})=>t===u),o=[...(s==null?void 0:s.breakMembers)||[],...(s==null?void 0:s.onceAbsenceMembers)||[]],l=n.filter(u=>!o.includes(u.id)).map(u=>u.id);return{absenteeList:o,participantList:l}}}),Fne={month:1,breakMonth:!1,onceAbsenceMonth:!1},$ne=()=>{const{uid:t}=Fe(gt),[e,n]=Yt(gf),[r,i]=z.useState(Fne),s=rn(Gt,_i,Eu),o=(d,f)=>f?d.includes(t)?d:[...d,t]:d.filter(h=>h!==t),{hideModal:l}=Ht();return{onSubmit:async(d,f)=>{d.preventDefault();const{onceAbsenceMonth:h,breakMonth:p}=r,m=e.absenceMembers.map(y=>{const{breakMembers:w,onceAbsenceMembers:_}=y,b={...y,breakMembers:o(w,p),onceAbsenceMembers:o(_,h)};return y.month===f?b:y}),v={...e,absenceMembers:m};n(v),await un(s,{absenceMembers:m}),l()},selectedValues:r,setSelectedValues:i}},Qg=Dn({key:`fieldAndHostAtom/${nn()}`,default:{id:"",bookFieldAndHostList:[]},effects:[({setSelf:t})=>{(async()=>{ir(`BookClub-${jt}`,Md,t)})()}]}),Bne=T4({key:"clubByMonthSelector",get:({get:t})=>{var n;const e=t(Qg);return(n=e==null?void 0:e.bookFieldAndHostList)==null?void 0:n.find(({month:r})=>r===+zr+1)}}),Vne=()=>{const[t,e]=z.useState(null),[n,r]=Yt(Qg),{alertAskJoinMember:i,anonymous:s}=kr("edit"),{bookFieldAndHostList:o}=n,l=rn(Gt,`BookClub-${jt}`,Md),{errorMsg:u,handleErrorMsg:d}=rE(),{hideModal:f}=Ht(),h={field:[{condition:(t==null?void 0:t.field)==="",error:"독서분야가 선택되지 않았습니다."}],hosts:[{condition:(t==null?void 0:t.hosts.length)===0,error:"발제자를 한명 이상 선택해주세요."}]},p=async(m,v)=>{if(m.preventDefault(),s)return i();if(d(h))return;const w=o.map(b=>{const k={...b,...t};return b.month===v?k:b}),_={...n,bookFieldAndHostList:w};r(_),await un(l,_),f()};return z.useEffect(()=>{hl(o)||ir(`BookClub-${jt}`,Md,r)},[n]),{fieldAndHostList:o,onSubmit:p,selectedValues:t,setSelectedValues:e,errorMsg:u}},rE=()=>{const[t,e]=z.useState({});return{errorMsg:t,handleErrorMsg:r=>{const i=l=>{var d;return((d=l==null?void 0:l.find(f=>f.condition))==null?void 0:d.error)||""},s=Object.fromEntries(Object.keys(r).map(l=>[l,i(r[l])]));return e(s),Object.values(s).some(l=>l!=="")}}},Une=({likes:t,likeUsers:e,docId:n,collName:r})=>{var p;const[i,s]=z.useState(!1),[o,l]=z.useState(!1),{uid:u}=Fe(gt),d=(p=qt.currentUser)==null?void 0:p.isAnonymous;return{like:i,setLike:s,onLikeClick:async()=>{if(!r||d)return;const m=rn(Gt,r,`${n}`);i?(l(!1),await un(m,{likes:t-1,likeUsers:e.filter(v=>v!==u)})):await un(m,{likes:t+1,likeUsers:[...e,u]}),s(v=>!v)},showLikeUsers:o,toggleShowLikeUsers:()=>l(m=>!m)}},qne=Dn({key:`penaltyDoc/${nn()}`,default:{}});T4({key:`userPenaltyList/${nn()}`,get:({get:t})=>{const e=t(qne),{createdAt:n,id:r,...i}=e;return Object.entries(i).map(([s,o])=>({[s]:o}))}});const Hne=()=>{const[t,e]=z.useState(!1),[{uid:n,displayName:r,photoURL:i},s]=Yt(gt),[o,l]=Yt(eE(n)),[u,d]=z.useState(""),[f,h]=z.useState(r),p=rn(Gt,qi,n),m=()=>{const N=Km().currentUser;s({uid:N.uid,email:N.email,displayName:N.displayName,photoURL:N.photoURL})},v=async()=>{let N=i;const O=MG(UG,`${n}`),D=await PG(O,u,"data_url");N=await RG(D.ref);const j={photoURL:N};await nO(qt.currentUser,j),await un(p,j),m()},y=async()=>{const N={displayName:f};await nO(qt.currentUser,N),await un(p,N),m()},w=async()=>{await un(p,{favoriteBookField:Array.from(o.favoriteBookField)})};return{isEditing:t,onToggleEditClick:()=>e(!0),onHandleFieldClick:(N,O)=>{const{name:D}=O.currentTarget,j={id:N,name:D};if(!o.favoriteBookField.some(I=>I.id===N)){const P=[...o.favoriteBookField,j].filter((L,B,U)=>B===U.findIndex(V=>V.id===L.id));return l(L=>({...L,favoriteBookField:P}))}l(I=>({...I,favoriteBookField:I.favoriteBookField.filter(P=>P.id!==N)}))},onProfileSubmit:async N=>{N.preventDefault();try{u!==""&&v(),r!==f&&y(),w(),e(!1)}catch(O){console.error("Error adding document:",O)}},newUserImgUrl:u,setNewUserImgUrl:d,newDisplayName:f,setNewDisplayName:h,userDoc:o,onDisplayNameChange:N=>{h(N.currentTarget.value)},isSelected:N=>{var O;return(O=o==null?void 0:o.favoriteBookField)==null?void 0:O.some(D=>D.id===N)}}},J4=(t,e)=>{const[n,r]=z.useState(t),[i,s]=z.useState(null),o=Fe(Ei(e)),l=Wo(Hu),{hideModal:u}=Ht(),{sendPushNotificationToAllUser:d}=Wi(),f=e.slice(0,4),h=+e.slice(-2),p=async y=>{const w=rn(Gt,_i,e),{meeting:{time:_,place:b}}=y;if(t.time===_.toLocaleString()&&t.place===b)return u();await un(w,y),l(k=>k.map(S=>o.id===e?{...S,...y}:S)),alert(`${h}월 독서모임 정보가 변경되었습니다!`),await d({title:"☕️ 모임 정보가 변경 안내",body:`${h}월의 모임 정보가 바뀌었어요! 🕓${ut(_,"M월 d일 EEEE a h시 mm분")}에 📍${b}에서 만나요 👋`})},m=async y=>{await JS(_i,e,y),alert(`${h}월 독서모임 정보가 등록되었습니다!`),await d({title:`☕️${h}의 모임도서: 《${y.book.title}》`,body:`${f}년 ${h}월의 모임정보가 등록되었어요! 🕓${ut(y.meeting.time,"M월 d일 EEEE a h시 mm분")}에 📍${y.meeting.place}에서 만나요 👋`})},v=y=>{r(w=>({...w,...y}))};return z.useEffect(()=>{var y;((y=i==null?void 0:i.place)==null?void 0:y.length)!==null&&ir(Zte,ene,s)},[]),{savedPlaceList:i,currMeeting:n,onMeetingChange:v,onMeetingEdit:p,onNewBookClubSubmit:m}},zne=({collName:t,docId:e})=>{var N;const{uid:n}=Fe(gt),[r,i]=z.useState(Rne),[s,o]=z.useState([]),[l,u]=z.useState([]),[d,f]=z.useState(!1),h=()=>f(O=>!O),p=Er(),{anonymous:m,alertAskJoinMember:v}=kr("see");z.useEffect(()=>{e&&r.id===""&&ir(t,`VoteId-${e}`,i),r.id&&qn(`${Su}/VoteId-${r.id}/${A_}`,u)},[t,e,r.id,u]);const y=async()=>{if(window.confirm("정말로 삭제하시겠어요?")){const D=rn(Gt,t,`VoteId-${e}`);await Ng(D),p(-1)}},w=async O=>{if(O.preventDefault(),m)return v();if(s.length===0)return window.alert("투표할 항목이 선택되지 않았습니다.");try{const D=rn(Gt,`${t}/VoteId-${r.id}/${A_}`,n);await ws(D,{createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),votedItem:s}),window.alert("투표가 완료되었습니다!"),k&&h()}catch(D){console.error(D)}},_=O=>s.find(({id:D})=>D===O),b=O=>{const D=_(O);o(D?s.filter(({id:j})=>j!==O):[...s,{id:O}])},k=l==null?void 0:l.find(({id:O})=>O===n),S=Jte(r.voteItems,l),T=(N=S==null?void 0:S.map(O=>O.voteCount))==null?void 0:N.reduce((O,D)=>O+D,0);return{currentVote:r,votedItemsByMember:l,voteCountsById:S,totalVoteCount:T,selectedItem:_,onVotingSubmit:w,onVoteItemClick:b,myVotedItems:k,onVoteDeleteClick:y,isRevote:d,onToggleRevoteClick:h}},Wne=t=>{const[e,n]=z.useState({email:"",error:""}),[r,i]=z.useState({password:"",error:""}),s=Er(),o={email:{HAS_NOT_EMAIL:"이메일이 입력되지 않았습니다."},password:{HAS_NOT_PASSWORD:"비밀번호가 입력되지 않았습니다.",NOT_CORRECT:"아이디나 비밀번호를 다시 한번 확인해주세요."}},l=(h,p)=>{h==="email"&&n(m=>({...m,error:p})),h==="password"&&i(m=>({...m,error:p}))};return{currEmail:e,currPassword:r,onSubmit:async h=>{h.preventDefault();const{email:p}=e,{password:m}=r,{email:{HAS_NOT_EMAIL:v},password:{HAS_NOT_PASSWORD:y,NOT_CORRECT:w}}=o;try{if(!p&&!m){l("email",v),l("password",y);return}if(!p){l("email",v);return}if(!m){l("password",y);return}await YU(qt,p,m),s("/")}catch(_){_.message.includes("invalid-login-credentials")&&l("password",w)}},onChange:h=>{const{currentTarget:{name:p,value:m}}=h;p==="email"&&n({email:m,error:""}),p==="password"&&i({password:m,error:""})},onAnonymousLoginClick:()=>{if(!t)try{UU(qt),fx(qt,h=>{h&&s("/")})}catch(h){console.log(h)}}}},iE=()=>{var o;const[t,e]=Yt(D4),n=z.useRef(null),r=(o=n==null?void 0:n.current)==null?void 0:o.value;return z.useEffect(()=>{if(r==="")return e([])},[]),{searchInputRef:n,onBookQueryChange:l=>{const{value:u}=l.currentTarget;u!==""?One(u,e):e([])},searchList:t,setSearchList:e,resetSearchList:()=>e([])}},Wi=()=>{const[t,e]=z.useState(!1),{uid:n,displayName:r}=Fe(gt);return{sendPostPushNotification:async l=>{e(!0);const u=l==="모임 후기"||l==="공유하고 싶은 문구"?"를":"을",d=`🔥새로운 ${l} 등록`,f=`${r}님이 ${l}${u} 작성하셨어요. 바로 확인해보세요!👀`,p=`https://talentforest.github.io/han-bookclub-app${{발제문:"/bookclub/subjects","정리 기록":"/bookclub/host-review","모임 후기":"/bookclub",추천책:"/bookclub","공유하고 싶은 문구":"/challenge"}[l]}`;await MN({title:d,body:f,link:p,uid:n}),e(!1)},sendPushNotificationToUser:async(l,u)=>{e(!0);const{title:d,body:f,subPath:h,notification:p}=l,m=`https://talentforest.github.io/han-bookclub-app${h||""}`;try{if(!u){if(Notification.permission==="denied")return alert("현재 앱알림이 거부된 상태입니다. 모바일이라면 휴대폰 앱 설정에 들어가서 알림 설정을 켜주세요."),{result:"fail"};if(!p)return{result:"fail"};const v=await PS();return await RN({title:d,body:f,token:v,link:m}),{result:"success"}}if(u)return u!=null&&u.notification?(u.tokens.map(async v=>RN({title:d,body:f,token:v,link:m})),{result:"success"}):{result:"fail"}}catch(v){console.log(v)}finally{e(!1)}},sendPushNotificationToAllUser:async({title:l,body:u,subPath:d})=>{e(!0);const f=`https://talentforest.github.io/han-bookclub-app${d||""}`;await MN({title:l,body:u,link:f,uid:n}),e(!1)},isPending:t}};var Z4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GD=se.createContext&&se.createContext(Z4),Yne=["attr","size","title"];function Gne(t,e){if(t==null)return{};var n=Kne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eF(t){return t&&t.map((e,n)=>se.createElement(e.tag,vm({key:n},e.attr),eF(e.child)))}function rt(t){return e=>se.createElement(Zne,gm({attr:vm({},t.attr)},e),eF(t.child))}function Zne(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Gne(t,Yne),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),se.createElement("svg",gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:vm(vm({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&se.createElement("title",null,s),t.children)};return GD!==void 0?se.createElement(GD.Consumer,null,n=>e(n)):e(Z4)}function ere(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function tre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(t)}function nre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function rre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(t)}function tF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function nF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function rF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function ire(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function sE(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function iF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function sF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(t)}function sre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"},child:[]},{tag:"polyline",attr:{points:"17 18 12 13 7 18"},child:[]}]})(t)}function ore(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function oF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function oE(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function are(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function lre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function ure(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function cre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function dre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function fre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function aF(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function aE(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function hre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function lE(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function pre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function vf(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function mre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function uE(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function gre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function vre(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const yre=Dn({key:`rereadingChallenge/${nn()}`,default:null}),lF=Dn({key:`completeReadingChallenge/${nn()}`,default:null});Dn({key:`sentences/${nn()}`,default:null});function Fn({title:t,backBtn:e,showDesktop:n,children:r}){const i=Er(),s=()=>i(-1);return x.jsxs("header",{className:`items-center gap-2 py-4 max-sm:flex ${n?"flex":"hidden"} header`,children:[t==="독서모임 한페이지"&&x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"독서모임 한페이지 로고",className:"size-[20px]"}),e&&x.jsx("button",{onClick:s,children:x.jsx(ire,{fontSize:22})}),x.jsx("span",{className:"mr-auto text-lg font-medium",children:t}),r]})}function ki({title:t,children:e,className:n,headerType:r="normal"}){const{hideModal:i}=Ht();z.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const s=document.getElementById("modal");return J_.createPortal(x.jsxs("section",{className:`fixed inset-0 z-10 m-auto flex h-fit max-h-[80vh] w-[55vw] flex-col rounded-2xl bg-white px-5 py-6 max-sm:w-[90%] ${n}`,children:[r!=="noHeader"&&x.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-medium",children:t}),r!=="onlyTitle"&&x.jsx("button",{type:"button",onClick:()=>i(),className:"px-1",children:x.jsx(vre,{size:20})})]}),e]}),s)}function wre(t){return rt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(t)}function cE(t){return rt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3zm1 7H5v-1h14v1zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54 4.95-4.95z"},child:[]}]})(t)}function In({title:t,thumbnail:e,className:n=""}){const r="flex aspect-[0.68/1] h-full items-center justify-center rounded-l-none rounded-r-lg border border-gray4 bg-gray1 shadow-book";return x.jsxs(x.Fragment,{children:[e!==""&&x.jsx("img",{className:`${r} ${n}`,src:e,alt:`${t} 북커버`}),e===""&&x.jsx("div",{className:`${r} ${n}`,children:t.includes("이벤트")?x.jsx(wre,{className:"size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"}):x.jsx(nre,{className:"size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-2/3"})})]})}function uF({text:t,lineClamp:e}){const n=`line-clamp-[${e}]`;return x.jsx("p",{className:`ql-editor min-h-12 w-full truncate whitespace-pre-line !p-0 leading-7 ${e?n:""}`,dangerouslySetInnerHTML:{__html:t}})}function bre({collName:t,like:e,onLikeClick:n}){return x.jsx("button",{type:"button",disabled:!t,onClick:n,className:"p-1",children:x.jsx(ure,{stroke:t?"red":"#aaa",fill:t?e?"red":"transparent":"#aaa",fontSize:13})})}const li=({userId:t,tag:e,className:n="",isLink:r=!1})=>{const{uid:i}=Fe(gt),[s,o]=Yt(pl),l=s.find(({id:v})=>v===t),{blockLinkAndAlertJoinMember:u,anonymous:d}=kr("see");z.useEffect(()=>{s.length===0&&qn(qi,o)},[t,s,o]);const h=`/bookshelf${i===(l==null?void 0:l.id)?"":`/${l==null?void 0:l.displayName}`}`,p=`${e?"rounded-md py-0.5 pl-1.5 pr-2 text-sm text-text":""} ${n}`,m={backgroundColor:e?l==null?void 0:l.tagColor:void 0};return x.jsxs("div",{className:"inline-block h-fit w-fit min-w-fit rounded-sm",children:[d&&x.jsx(vr,{to:h,onClick:u,className:p,style:m,children:(l==null?void 0:l.displayName)&&x.jsx("span",{className:"pt-1 leading-4 text-gray1",children:l.displayName})}),!d&&l&&(r?x.jsx(vr,{to:h,state:{userId:l.id},className:`cursor-pointer ${p}`,style:m,children:(l==null?void 0:l.displayName)&&x.jsx("span",{className:"pt-1 leading-4",children:l.displayName})}):x.jsx("div",{className:p,style:m,children:(l==null?void 0:l.displayName)&&x.jsx("span",{className:"pt-1 leading-4 text-text",children:l.displayName})}))]})},_re=({post:t,collName:e})=>{var f,h,p;const{uid:n}=Fe(gt),r=n===t.creatorId,{like:i,setLike:s,onLikeClick:o,showLikeUsers:l,toggleShowLikeUsers:u}=Une({likes:t.likes||0,likeUsers:t.likeUsers||[],docId:t.id,collName:e}),d=(f=t.likeUsers)==null?void 0:f.some(m=>m===n);return z.useEffect(()=>{d&&s(!0)},[]),x.jsxs("div",{className:"relative flex",children:[x.jsx("button",{type:"button",onClick:u,className:"px-1",children:l?x.jsx(iF,{className:"text-gray1"}):x.jsx(rF,{className:"text-gray1"})}),x.jsxs("span",{className:"text-sm",children:[((h=t==null?void 0:t.likeUsers)==null?void 0:h.length)||0,"명이 좋아합니다"]}),!r&&x.jsx(bre,{collName:e,like:i,onLikeClick:o}),l&&x.jsxs("div",{className:"absolute bottom-7 rounded-xl border bg-white p-3",children:[x.jsx("h4",{className:"mb-2 text-sm text-gray1",children:"좋아한 사람"}),x.jsx("ul",{className:"w-full",children:(p=t==null?void 0:t.likeUsers)==null?void 0:p.map(m=>x.jsx(li,{userId:m,className:"py-0.5"},m))})]})]})};function Xg({post:t,createdAt:e,footerType:n,collName:r}){return x.jsxs("footer",{className:"mt-4 flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray1",children:ut(e)}),n==="likes"&&x.jsx(_re,{collName:r,post:t})]})}function xre({docId:t,collName:e}){const{onDeleteClick:n}=Dne({docId:t,collName:e});return x.jsx("button",{onClick:n,children:x.jsx(vf,{fontSize:15,stroke:"#aaa"})})}function at({name:t,type:e="button",children:n,disabled:r,handleClick:i,color:s="blue",className:o="",tailChildren:l}){const u={gray:"text-gray1 bg-gray4",blue:"text-blue1 bg-blue2",darkBlue:"text-white bg-darkBlue2",purple:"text-purple1 bg-purple3"};return x.jsxs("button",{type:e,onClick:i,disabled:r,className:`flex h-12 min-h-12 w-fit min-w-max items-center justify-center rounded-lg px-4 text-[15px] shadow-lg disabled:bg-gray4 disabled:text-gray2 max-sm:px-4 ${u[s]} ${o}`,children:[n,x.jsx("span",{className:"font-medium tracking-tight",children:t}),l]})}var Nw,QD;function Sre(){if(QD)return Nw;QD=1;function t(){this.__data__=[],this.size=0}return Nw=t,Nw}var Dw,XD;function cF(){if(XD)return Dw;XD=1;function t(e,n){return e===n||e!==e&&n!==n}return Dw=t,Dw}var Iw,JD;function Jg(){if(JD)return Iw;JD=1;var t=cF();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Iw=e,Iw}var Aw,ZD;function Ere(){if(ZD)return Aw;ZD=1;var t=Jg(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():n.call(s,o,1),--this.size,!0}return Aw=r,Aw}var Pw,eI;function kre(){if(eI)return Pw;eI=1;var t=Jg();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Pw=e,Pw}var Rw,tI;function Tre(){if(tI)return Rw;tI=1;var t=Jg();function e(n){return t(this.__data__,n)>-1}return Rw=e,Rw}var Mw,nI;function Cre(){if(nI)return Mw;nI=1;var t=Jg();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Mw=e,Mw}var Lw,rI;function Zg(){if(rI)return Lw;rI=1;var t=Sre(),e=Ere(),n=kre(),r=Tre(),i=Cre();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Lw=s,Lw}var jw,iI;function Ore(){if(iI)return jw;iI=1;var t=Zg();function e(){this.__data__=new t,this.size=0}return jw=e,jw}var Fw,sI;function Nre(){if(sI)return Fw;sI=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Fw=t,Fw}var $w,oI;function Dre(){if(oI)return $w;oI=1;function t(e){return this.__data__.get(e)}return $w=t,$w}var Bw,aI;function Ire(){if(aI)return Bw;aI=1;function t(e){return this.__data__.has(e)}return Bw=t,Bw}var Vw,lI;function dF(){if(lI)return Vw;lI=1;var t=typeof Mh=="object"&&Mh&&Mh.Object===Object&&Mh;return Vw=t,Vw}var Uw,uI;function Xs(){if(uI)return Uw;uI=1;var t=dF(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Uw=n,Uw}var qw,cI;function dE(){if(cI)return qw;cI=1;var t=Xs(),e=t.Symbol;return qw=e,qw}var Hw,dI;function Are(){if(dI)return Hw;dI=1;var t=dE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=n.call(o,i),u=o[i];try{o[i]=void 0;var d=!0}catch{}var f=r.call(o);return d&&(l?o[i]=u:delete o[i]),f}return Hw=s,Hw}var zw,fI;function Pre(){if(fI)return zw;fI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return zw=n,zw}var Ww,hI;function ev(){if(hI)return Ww;hI=1;var t=dE(),e=Are(),n=Pre(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return Ww=o,Ww}var Yw,pI;function fF(){if(pI)return Yw;pI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Yw=t,Yw}var Gw,mI;function hF(){if(mI)return Gw;mI=1;var t=ev(),e=fF(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==r||u==i||u==n||u==s}return Gw=o,Gw}var Kw,gI;function Rre(){if(gI)return Kw;gI=1;var t=Xs(),e=t["__core-js_shared__"];return Kw=e,Kw}var Qw,vI;function Mre(){if(vI)return Qw;vI=1;var t=Rre(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Qw=n,Qw}var Xw,yI;function pF(){if(yI)return Xw;yI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Xw=n,Xw}var Jw,wI;function Lre(){if(wI)return Jw;wI=1;var t=hF(),e=Mre(),n=fF(),r=pF(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!n(p)||e(p))return!1;var m=t(p)?f:s;return m.test(r(p))}return Jw=h,Jw}var Zw,bI;function jre(){if(bI)return Zw;bI=1;function t(e,n){return e==null?void 0:e[n]}return Zw=t,Zw}var eb,_I;function zu(){if(_I)return eb;_I=1;var t=Lre(),e=jre();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return eb=n,eb}var tb,xI;function fE(){if(xI)return tb;xI=1;var t=zu(),e=Xs(),n=t(e,"Map");return tb=n,tb}var nb,SI;function tv(){if(SI)return nb;SI=1;var t=zu(),e=t(Object,"create");return nb=e,nb}var rb,EI;function Fre(){if(EI)return rb;EI=1;var t=tv();function e(){this.__data__=t?t(null):{},this.size=0}return rb=e,rb}var ib,kI;function $re(){if(kI)return ib;kI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return ib=t,ib}var sb,TI;function Bre(){if(TI)return sb;TI=1;var t=tv(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return r.call(o,s)?o[s]:void 0}return sb=i,sb}var ob,CI;function Vre(){if(CI)return ob;CI=1;var t=tv(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return ob=r,ob}var ab,OI;function Ure(){if(OI)return ab;OI=1;var t=tv(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return ab=n,ab}var lb,NI;function qre(){if(NI)return lb;NI=1;var t=Fre(),e=$re(),n=Bre(),r=Vre(),i=Ure();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,lb=s,lb}var ub,DI;function Hre(){if(DI)return ub;DI=1;var t=qre(),e=Zg(),n=fE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ub=r,ub}var cb,II;function zre(){if(II)return cb;II=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return cb=t,cb}var db,AI;function nv(){if(AI)return db;AI=1;var t=zre();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return db=e,db}var fb,PI;function Wre(){if(PI)return fb;PI=1;var t=nv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return fb=e,fb}var hb,RI;function Yre(){if(RI)return hb;RI=1;var t=nv();function e(n){return t(this,n).get(n)}return hb=e,hb}var pb,MI;function Gre(){if(MI)return pb;MI=1;var t=nv();function e(n){return t(this,n).has(n)}return pb=e,pb}var mb,LI;function Kre(){if(LI)return mb;LI=1;var t=nv();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return mb=e,mb}var gb,jI;function mF(){if(jI)return gb;jI=1;var t=Hre(),e=Wre(),n=Yre(),r=Gre(),i=Kre();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,gb=s,gb}var vb,FI;function Qre(){if(FI)return vb;FI=1;var t=Zg(),e=fE(),n=mF(),r=200;function i(s,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<r-1)return u.push([s,o]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(s,o),this.size=l.size,this}return vb=i,vb}var yb,$I;function Xre(){if($I)return yb;$I=1;var t=Zg(),e=Ore(),n=Nre(),r=Dre(),i=Ire(),s=Qre();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,yb=o,yb}var wb,BI;function Jre(){if(BI)return wb;BI=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return wb=e,wb}var bb,VI;function Zre(){if(VI)return bb;VI=1;function t(e){return this.__data__.has(e)}return bb=t,bb}var _b,UI;function eie(){if(UI)return _b;UI=1;var t=mF(),e=Jre(),n=Zre();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,_b=r,_b}var xb,qI;function tie(){if(qI)return xb;qI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return xb=t,xb}var Sb,HI;function nie(){if(HI)return Sb;HI=1;function t(e,n){return e.has(n)}return Sb=t,Sb}var Eb,zI;function gF(){if(zI)return Eb;zI=1;var t=eie(),e=tie(),n=nie(),r=1,i=2;function s(o,l,u,d,f,h){var p=u&r,m=o.length,v=l.length;if(m!=v&&!(p&&v>m))return!1;var y=h.get(o),w=h.get(l);if(y&&w)return y==l&&w==o;var _=-1,b=!0,k=u&i?new t:void 0;for(h.set(o,l),h.set(l,o);++_<m;){var S=o[_],T=l[_];if(d)var N=p?d(T,S,_,l,o,h):d(S,T,_,o,l,h);if(N!==void 0){if(N)continue;b=!1;break}if(k){if(!e(l,function(O,D){if(!n(k,D)&&(S===O||f(S,O,u,d,h)))return k.push(D)})){b=!1;break}}else if(!(S===T||f(S,T,u,d,h))){b=!1;break}}return h.delete(o),h.delete(l),b}return Eb=s,Eb}var kb,WI;function rie(){if(WI)return kb;WI=1;var t=Xs(),e=t.Uint8Array;return kb=e,kb}var Tb,YI;function iie(){if(YI)return Tb;YI=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return Tb=t,Tb}var Cb,GI;function sie(){if(GI)return Cb;GI=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Cb=t,Cb}var Ob,KI;function oie(){if(KI)return Ob;KI=1;var t=dE(),e=rie(),n=cF(),r=gF(),i=iie(),s=sie(),o=1,l=2,u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",w="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",k=t?t.prototype:void 0,S=k?k.valueOf:void 0;function T(N,O,D,j,R,I,P){switch(D){case b:if(N.byteLength!=O.byteLength||N.byteOffset!=O.byteOffset)return!1;N=N.buffer,O=O.buffer;case _:return!(N.byteLength!=O.byteLength||!I(new e(N),new e(O)));case u:case d:case p:return n(+N,+O);case f:return N.name==O.name&&N.message==O.message;case m:case y:return N==O+"";case h:var L=i;case v:var B=j&o;if(L||(L=s),N.size!=O.size&&!B)return!1;var U=P.get(N);if(U)return U==O;j|=l,P.set(N,O);var V=r(L(N),L(O),j,R,I,P);return P.delete(N),V;case w:if(S)return S.call(N)==S.call(O)}return!1}return Ob=T,Ob}var Nb,QI;function aie(){if(QI)return Nb;QI=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return Nb=t,Nb}var Db,XI;function hE(){if(XI)return Db;XI=1;var t=Array.isArray;return Db=t,Db}var Ib,JI;function lie(){if(JI)return Ib;JI=1;var t=aie(),e=hE();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return Ib=n,Ib}var Ab,ZI;function uie(){if(ZI)return Ab;ZI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[s++]=l)}return o}return Ab=t,Ab}var Pb,e2;function cie(){if(e2)return Pb;e2=1;function t(){return[]}return Pb=t,Pb}var Rb,t2;function die(){if(t2)return Rb;t2=1;var t=uie(),e=cie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return Rb=s,Rb}var Mb,n2;function fie(){if(n2)return Mb;n2=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Mb=t,Mb}var Lb,r2;function rv(){if(r2)return Lb;r2=1;function t(e){return e!=null&&typeof e=="object"}return Lb=t,Lb}var jb,i2;function hie(){if(i2)return jb;i2=1;var t=ev(),e=rv(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return jb=r,jb}var Fb,s2;function pie(){if(s2)return Fb;s2=1;var t=hie(),e=rv(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Fb=s,Fb}var Qc={exports:{}},$b,o2;function mie(){if(o2)return $b;o2=1;function t(){return!1}return $b=t,$b}Qc.exports;var a2;function vF(){return a2||(a2=1,function(t,e){var n=Xs(),r=mie(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||r;t.exports=d}(Qc,Qc.exports)),Qc.exports}var Bb,l2;function gie(){if(l2)return Bb;l2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Bb=n,Bb}var Vb,u2;function yF(){if(u2)return Vb;u2=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Vb=e,Vb}var Ub,c2;function vie(){if(c2)return Ub;c2=1;var t=ev(),e=yF(),n=rv(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",k="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",j="[object Uint16Array]",R="[object Uint32Array]",I={};I[b]=I[k]=I[S]=I[T]=I[N]=I[O]=I[D]=I[j]=I[R]=!0,I[r]=I[i]=I[w]=I[s]=I[_]=I[o]=I[l]=I[u]=I[d]=I[f]=I[h]=I[p]=I[m]=I[v]=I[y]=!1;function P(L){return n(L)&&e(L.length)&&!!I[t(L)]}return Ub=P,Ub}var qb,d2;function yie(){if(d2)return qb;d2=1;function t(e){return function(n){return e(n)}}return qb=t,qb}var Xc={exports:{}};Xc.exports;var f2;function wie(){return f2||(f2=1,function(t,e){var n=dF(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Xc,Xc.exports)),Xc.exports}var Hb,h2;function wF(){if(h2)return Hb;h2=1;var t=vie(),e=yie(),n=wie(),r=n&&n.isTypedArray,i=r?e(r):t;return Hb=i,Hb}var zb,p2;function bie(){if(p2)return zb;p2=1;var t=fie(),e=pie(),n=hE(),r=vF(),i=gie(),s=wF(),o=Object.prototype,l=o.hasOwnProperty;function u(d,f){var h=n(d),p=!h&&e(d),m=!h&&!p&&r(d),v=!h&&!p&&!m&&s(d),y=h||p||m||v,w=y?t(d.length,String):[],_=w.length;for(var b in d)(f||l.call(d,b))&&!(y&&(b=="length"||m&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,_)))&&w.push(b);return w}return zb=u,zb}var Wb,m2;function _ie(){if(m2)return Wb;m2=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Wb=e,Wb}var Yb,g2;function xie(){if(g2)return Yb;g2=1;function t(e,n){return function(r){return e(n(r))}}return Yb=t,Yb}var Gb,v2;function Sie(){if(v2)return Gb;v2=1;var t=xie(),e=t(Object.keys,Object);return Gb=e,Gb}var Kb,y2;function Eie(){if(y2)return Kb;y2=1;var t=_ie(),e=Sie(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&o.push(l);return o}return Kb=i,Kb}var Qb,w2;function kie(){if(w2)return Qb;w2=1;var t=hF(),e=yF();function n(r){return r!=null&&e(r.length)&&!t(r)}return Qb=n,Qb}var Xb,b2;function Tie(){if(b2)return Xb;b2=1;var t=bie(),e=Eie(),n=kie();function r(i){return n(i)?t(i):e(i)}return Xb=r,Xb}var Jb,_2;function Cie(){if(_2)return Jb;_2=1;var t=lie(),e=die(),n=Tie();function r(i){return t(i,n,e)}return Jb=r,Jb}var Zb,x2;function Oie(){if(x2)return Zb;x2=1;var t=Cie(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,l,u,d,f){var h=l&e,p=t(s),m=p.length,v=t(o),y=v.length;if(m!=y&&!h)return!1;for(var w=m;w--;){var _=p[w];if(!(h?_ in o:r.call(o,_)))return!1}var b=f.get(s),k=f.get(o);if(b&&k)return b==o&&k==s;var S=!0;f.set(s,o),f.set(o,s);for(var T=h;++w<m;){_=p[w];var N=s[_],O=o[_];if(u)var D=h?u(O,N,_,o,s,f):u(N,O,_,s,o,f);if(!(D===void 0?N===O||d(N,O,l,u,f):D)){S=!1;break}T||(T=_=="constructor")}if(S&&!T){var j=s.constructor,R=o.constructor;j!=R&&"constructor"in s&&"constructor"in o&&!(typeof j=="function"&&j instanceof j&&typeof R=="function"&&R instanceof R)&&(S=!1)}return f.delete(s),f.delete(o),S}return Zb=i,Zb}var e1,S2;function Nie(){if(S2)return e1;S2=1;var t=zu(),e=Xs(),n=t(e,"DataView");return e1=n,e1}var t1,E2;function Die(){if(E2)return t1;E2=1;var t=zu(),e=Xs(),n=t(e,"Promise");return t1=n,t1}var n1,k2;function Iie(){if(k2)return n1;k2=1;var t=zu(),e=Xs(),n=t(e,"Set");return n1=n,n1}var r1,T2;function Aie(){if(T2)return r1;T2=1;var t=zu(),e=Xs(),n=t(e,"WeakMap");return r1=n,r1}var i1,C2;function Pie(){if(C2)return i1;C2=1;var t=Nie(),e=fE(),n=Die(),r=Iie(),i=Aie(),s=ev(),o=pF(),l="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=o(t),v=o(e),y=o(n),w=o(r),_=o(i),b=s;return(t&&b(new t(new ArrayBuffer(1)))!=p||e&&b(new e)!=l||n&&b(n.resolve())!=d||r&&b(new r)!=f||i&&b(new i)!=h)&&(b=function(k){var S=s(k),T=S==u?k.constructor:void 0,N=T?o(T):"";if(N)switch(N){case m:return p;case v:return l;case y:return d;case w:return f;case _:return h}return S}),i1=b,i1}var s1,O2;function Rie(){if(O2)return s1;O2=1;var t=Xre(),e=gF(),n=oie(),r=Oie(),i=Pie(),s=hE(),o=vF(),l=wF(),u=1,d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function v(y,w,_,b,k,S){var T=s(y),N=s(w),O=T?f:i(y),D=N?f:i(w);O=O==d?h:O,D=D==d?h:D;var j=O==h,R=D==h,I=O==D;if(I&&o(y)){if(!o(w))return!1;T=!0,j=!1}if(I&&!j)return S||(S=new t),T||l(y)?e(y,w,_,b,k,S):n(y,w,O,_,b,k,S);if(!(_&u)){var P=j&&m.call(y,"__wrapped__"),L=R&&m.call(w,"__wrapped__");if(P||L){var B=P?y.value():y,U=L?w.value():w;return S||(S=new t),k(B,U,_,b,S)}}return I?(S||(S=new t),r(y,w,_,b,k,S)):!1}return s1=v,s1}var o1,N2;function Mie(){if(N2)return o1;N2=1;var t=Rie(),e=rv();function n(r,i,s,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,l)}return o1=n,o1}var a1,D2;function Lie(){if(D2)return a1;D2=1;var t=Mie();function e(n,r){return t(n,r)}return a1=e,a1}var Tp={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var jie=Tp.exports,I2;function Fie(){return I2||(I2=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:jie,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),l=i(19),u=i(45),d=i(46),f=i(47),h=i(48),p=i(49),m=i(12),v=i(32),y=i(33),w=i(31),_=i(1),b={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:h.default,Scroll:u.default,Block:f.default,Inline:d.default,Text:p.default,Attributor:{Attribute:m.default,Class:v.default,Style:y.default,Store:w.default}};r.default=b},function(n,r,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var k in b)b.hasOwnProperty(k)&&(_[k]=b[k])};return function(_,b){w(_,b);function k(){this.constructor=_}_.prototype=b===null?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){s(_,w);function _(b){var k=this;return b="[Parchment] "+b,k=w.call(this,b)||this,k.message=b,k.name=k.constructor.name,k}return _}(Error);r.ParchmentError=o;var l={},u={},d={},f={};r.DATA_KEY="__blot";var h;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function p(w,_){var b=v(w);if(b==null)throw new o("Unable to create "+w+" blot");var k=b,S=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:k.create(_);return new k(S,_)}r.create=p;function m(w,_){return _===void 0&&(_=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:_?m(w.parentNode,_):null}r.find=m;function v(w,_){_===void 0&&(_=h.ANY);var b;if(typeof w=="string")b=f[w]||l[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)b=f.text;else if(typeof w=="number")w&h.LEVEL&h.BLOCK?b=f.block:w&h.LEVEL&h.INLINE&&(b=f.inline);else if(w instanceof HTMLElement){var k=(w.getAttribute("class")||"").split(/\s+/);for(var S in k)if(b=u[k[S]],b)break;b=b||d[w.tagName]}return b==null?null:_&h.LEVEL&b.scope&&_&h.TYPE&b.scope?b:null}r.query=v;function y(){for(var w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];if(w.length>1)return w.map(function(S){return y(S)});var b=w[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new o("Invalid definition");if(b.blotName==="abstract")throw new o("Cannot register abstract class");if(f[b.blotName||b.attrName]=b,typeof b.keyName=="string")l[b.keyName]=b;else if(b.className!=null&&(u[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(S){return S.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var k=Array.isArray(b.tagName)?b.tagName:[b.tagName];k.forEach(function(S){(d[S]==null||b.className==null)&&(d[S]=b)})}return b}r.register=y},function(n,r,i){var s=i(51),o=i(11),l=i(3),u=i(20),d="\0",f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,p){var m={};return h.length===0?this:(m.insert=h,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,p){if(h<=0)return this;var m={retain:h};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},f.prototype.push=function(h){var p=this.ops.length,m=this.ops[p-1];if(h=l(!0,{},h),typeof m=="object"){if(typeof h.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+h.delete},this;if(typeof m.delete=="number"&&h.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(h),this;if(o(h.attributes,m.attributes)){if(typeof h.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+h.insert},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+h.retain},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this}}return p===this.ops.length?this.ops.push(h):this.ops.splice(p,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var p=[],m=[];return this.forEach(function(v){var y=h(v)?p:m;y.push(v)}),[p,m]},f.prototype.reduce=function(h,p){return this.ops.reduce(h,p)},f.prototype.changeLength=function(){return this.reduce(function(h,p){return p.insert?h+u.length(p):p.delete?h-p.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,p){return h+u.length(p)},0)},f.prototype.slice=function(h,p){h=h||0,typeof p!="number"&&(p=1/0);for(var m=[],v=u.iterator(this.ops),y=0;y<p&&v.hasNext();){var w;y<h?w=v.next(h-y):(w=v.next(p-y),m.push(w)),y+=u.length(w)}return new f(m)},f.prototype.compose=function(h){var p=u.iterator(this.ops),m=u.iterator(h.ops),v=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),v.push(p.next());y.retain-w>0&&m.next(y.retain-w)}for(var _=new f(v);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")_.push(m.next());else if(p.peekType()==="delete")_.push(p.next());else{var b=Math.min(p.peekLength(),m.peekLength()),k=p.next(b),S=m.next(b);if(typeof S.retain=="number"){var T={};typeof k.retain=="number"?T.retain=b:T.insert=k.insert;var N=u.attributes.compose(k.attributes,S.attributes,typeof k.retain=="number");if(N&&(T.attributes=N),_.push(T),!m.hasNext()&&o(_.ops[_.ops.length-1],T)){var O=new f(p.rest());return _.concat(O).chop()}}else typeof S.delete=="number"&&typeof k.retain=="number"&&_.push(S)}return _.chop()},f.prototype.concat=function(h){var p=new f(this.ops.slice());return h.ops.length>0&&(p.push(h.ops[0]),p.ops=p.ops.concat(h.ops.slice(1))),p},f.prototype.diff=function(h,p){if(this.ops===h.ops)return new f;var m=[this,h].map(function(b){return b.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:d;var S=b===h?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),v=new f,y=s(m[0],m[1],p),w=u.iterator(this.ops),_=u.iterator(h.ops);return y.forEach(function(b){for(var k=b[1].length;k>0;){var S=0;switch(b[0]){case s.INSERT:S=Math.min(_.peekLength(),k),v.push(_.next(S));break;case s.DELETE:S=Math.min(k,w.peekLength()),w.next(S),v.delete(S);break;case s.EQUAL:S=Math.min(w.peekLength(),_.peekLength(),k);var T=w.next(S),N=_.next(S);o(T.insert,N.insert)?v.retain(S,u.attributes.diff(T.attributes,N.attributes)):v.push(N).delete(S);break}k-=S}}),v.chop()},f.prototype.eachLine=function(h,p){p=p||`
`;for(var m=u.iterator(this.ops),v=new f,y=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),_=u.length(w)-m.peekLength(),b=typeof w.insert=="string"?w.insert.indexOf(p,_)-_:-1;if(b<0)v.push(m.next());else if(b>0)v.push(m.next(b));else{if(h(v,m.next(1).attributes||{},y)===!1)return;y+=1,v=new f}}v.length()>0&&h(v,{},y)},f.prototype.transform=function(h,p){if(p=!!p,typeof h=="number")return this.transformPosition(h,p);for(var m=u.iterator(this.ops),v=u.iterator(h.ops),y=new f;m.hasNext()||v.hasNext();)if(m.peekType()==="insert"&&(p||v.peekType()!=="insert"))y.retain(u.length(m.next()));else if(v.peekType()==="insert")y.push(v.next());else{var w=Math.min(m.peekLength(),v.peekLength()),_=m.next(w),b=v.next(w);if(_.delete)continue;b.delete?y.push(b):y.retain(w,u.attributes.transform(_.attributes,b.attributes,p))}return y.chop()},f.prototype.transformPosition=function(h,p){p=!!p;for(var m=u.iterator(this.ops),v=0;m.hasNext()&&v<=h;){var y=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){h-=Math.min(y,h-v);continue}else w==="insert"&&(v<h||!p)&&(h+=y);v+=y}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},d=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var v=i.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!v&&!y)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},f=function(m,v){o&&v.name==="__proto__"?o(m,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):m[v.name]=v.newValue},h=function(m,v){if(v==="__proto__")if(i.call(m,v)){if(l)return l(m,v).value}else return;return m[v]};n.exports=function p(){var m,v,y,w,_,b,k=arguments[0],S=1,T=arguments.length,N=!1;for(typeof k=="boolean"&&(N=k,k=arguments[1]||{},S=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});S<T;++S)if(m=arguments[S],m!=null)for(v in m)y=h(k,v),w=h(m,v),k!==w&&(N&&w&&(d(w)||(_=u(w)))?(_?(_=!1,b=y&&u(y)?y:[]):b=y&&d(y)?y:{},f(k,{name:v,newValue:p(N,b,w)})):typeof w<"u"&&f(k,{name:v,newValue:w}));return k}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function I(P,L){for(var B=0;B<L.length;B++){var U=L[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,L,B){return L&&I(P.prototype,L),B&&I(P,B),P}}(),o=function I(P,L,B){P===null&&(P=Function.prototype);var U=Object.getOwnPropertyDescriptor(P,L);if(U===void 0){var V=Object.getPrototypeOf(P);return V===null?void 0:I(V,L,B)}else{if("value"in U)return U.value;var Y=U.get;return Y===void 0?void 0:Y.call(B)}},l=i(3),u=k(l),d=i(2),f=k(d),h=i(0),p=k(h),m=i(16),v=k(m),y=i(6),w=k(y),_=i(7),b=k(_);function k(I){return I&&I.__esModule?I:{default:I}}function S(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function T(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function N(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var O=1,D=function(I){N(P,I);function P(){return S(this,P),T(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,U){var V=p.default.query(B,p.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,U)}},{key:"formatAt",value:function(B,U,V,Y){this.format(V,Y)}},{key:"insertAt",value:function(B,U,V){if(typeof U=="string"&&U.endsWith(`
`)){var Y=p.default.create(j.blotName);this.parent.insertBefore(Y,B===0?this:this.next),Y.insertAt(0,U.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,B,U,V)}}]),P}(p.default.Embed);D.scope=p.default.Scope.BLOCK_BLOT;var j=function(I){N(P,I);function P(L){S(this,P);var B=T(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,L));return B.cache={},B}return s(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(B,U){return U.length()===0?B:B.insert(U.value(),R(U))},new f.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(B,U){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,B,U),this.cache={}}},{key:"formatAt",value:function(B,U,V,Y){U<=0||(p.default.query(V,p.default.Scope.BLOCK)?B+U===this.length()&&this.format(V,Y):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,B,Math.min(U,this.length()-B-1),V,Y),this.cache={})}},{key:"insertAt",value:function(B,U,V){if(V!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,B,U,V);if(U.length!==0){var Y=U.split(`
`),K=Y.shift();K.length>0&&(B<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),K):this.children.tail.insertAt(this.children.tail.length(),K),this.cache={});var G=this;Y.reduce(function(M,F){return G=G.split(M,!0),G.insertAt(0,F),F.length},B+K.length)}}},{key:"insertBefore",value:function(B,U){var V=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,B,U),V instanceof v.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(B,U){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,B,U),this.cache={}}},{key:"optimize",value:function(B){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(B===0||B>=this.length()-O)){var V=this.clone();return B===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var Y=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,B,U);return this.cache={},Y}}}]),P}(p.default.Block);j.blotName="block",j.tagName="P",j.defaultChild="break",j.allowedChildren=[w.default,p.default.Embed,b.default];function R(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(P=(0,u.default)(P,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?P:R(I.parent,P)}r.bubbleFormats=R,r.BlockEmbed=D,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(M,F){var $=[],W=!0,Q=!1,J=void 0;try{for(var H=M[Symbol.iterator](),X;!(W=(X=H.next()).done)&&($.push(X.value),!(F&&$.length===F));W=!0);}catch(ee){Q=!0,J=ee}finally{try{!W&&H.return&&H.return()}finally{if(Q)throw J}}return $}return function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return G(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(M,F){for(var $=0;$<F.length;$++){var W=F[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,F,$){return F&&G(M.prototype,F),$&&G(M,$),M}}();i(50);var u=i(2),d=R(u),f=i(14),h=R(f),p=i(8),m=R(p),v=i(9),y=R(v),w=i(0),_=R(w),b=i(15),k=R(b),S=i(3),T=R(S),N=i(10),O=R(N),D=i(34),j=R(D);function R(G){return G&&G.__esModule?G:{default:G}}function I(G,M,F){return M in G?Object.defineProperty(G,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):G[M]=F,G}function P(G,M){if(!(G instanceof M))throw new TypeError("Cannot call a class as a function")}var L=(0,O.default)("quill"),B=function(){l(G,null,[{key:"debug",value:function(F){F===!0&&(F="log"),O.default.level(F)}},{key:"find",value:function(F){return F.__quill||_.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&L.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,$){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var J=F.attrName||F.blotName;typeof J=="string"?this.register("formats/"+J,F,$):Object.keys(F).forEach(function(H){W.register(H,F[H],$)})}else this.imports[F]!=null&&!Q&&L.warn("Overwriting "+F+" with",$),this.imports[F]=$,(F.startsWith("blots/")||F.startsWith("formats/"))&&$.blotName!=="abstract"?_.default.register($):F.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function G(M){var F=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,G),this.options=U(M,$),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",M);this.options.debug&&G.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(J){J===m.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(J,H){var X=F.selection.lastRange,ee=X&&X.length===0?X.index:void 0;V.call(F,function(){return F.editor.update(null,H,ee)},J)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(G,[{key:"addContainer",value:function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var W=F;F=document.createElement("div"),F.classList.add(W)}return this.container.insertBefore(F,$),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,$,W){var Q=this,J=Y(F,$,W),H=o(J,4);return F=H[0],$=H[1],W=H[3],V.call(this,function(){return Q.editor.deleteText(F,$)},W,F,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,$){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return V.call(this,function(){var J=W.getSelection(!0),H=new d.default;if(J==null)return H;if(_.default.query(F,_.default.Scope.BLOCK))H=W.editor.formatLine(J.index,J.length,I({},F,$));else{if(J.length===0)return W.selection.format(F,$),H;H=W.editor.formatText(J.index,J.length,I({},F,$))}return W.setSelection(J,m.default.sources.SILENT),H},Q)}},{key:"formatLine",value:function(F,$,W,Q,J){var H=this,X=void 0,ee=Y(F,$,W,Q,J),re=o(ee,4);return F=re[0],$=re[1],X=re[2],J=re[3],V.call(this,function(){return H.editor.formatLine(F,$,X)},J,F,0)}},{key:"formatText",value:function(F,$,W,Q,J){var H=this,X=void 0,ee=Y(F,$,W,Q,J),re=o(ee,4);return F=re[0],$=re[1],X=re[2],J=re[3],V.call(this,function(){return H.editor.formatText(F,$,X)},J,F,0)}},{key:"getBounds",value:function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof F=="number"?W=this.selection.getBounds(F,$):W=this.selection.getBounds(F.index,F.length);var Q=this.container.getBoundingClientRect();return{bottom:W.bottom-Q.top,height:W.height,left:W.left-Q.left,right:W.right-Q.left,top:W.top-Q.top,width:W.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,W=Y(F,$),Q=o(W,2);return F=Q[0],$=Q[1],this.editor.getContents(F,$)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,$):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,$)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,W=Y(F,$),Q=o(W,2);return F=Q[0],$=Q[1],this.editor.getText(F,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,$,W){var Q=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return V.call(this,function(){return Q.editor.insertEmbed(F,$,W)},J,F)}},{key:"insertText",value:function(F,$,W,Q,J){var H=this,X=void 0,ee=Y(F,0,W,Q,J),re=o(ee,4);return F=re[0],X=re[2],J=re[3],V.call(this,function(){return H.editor.insertText(F,$,X)},J,F,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,$,W){this.clipboard.dangerouslyPasteHTML(F,$,W)}},{key:"removeFormat",value:function(F,$,W){var Q=this,J=Y(F,$,W),H=o(J,4);return F=H[0],$=H[1],W=H[3],V.call(this,function(){return Q.editor.removeFormat(F,$)},W,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var $=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return V.call(this,function(){F=new d.default(F);var Q=$.getLength(),J=$.editor.deleteText(0,Q),H=$.editor.applyDelta(F),X=H.ops[H.ops.length-1];X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),H.delete(1));var ee=J.compose(H);return ee},W)}},{key:"setSelection",value:function(F,$,W){if(F==null)this.selection.setRange(null,$||G.sources.API);else{var Q=Y(F,$,W),J=o(Q,4);F=J[0],$=J[1],W=J[3],this.selection.setRange(new b.Range(F,$),W),W!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,W=new d.default().insert(F);return this.setContents(W,$)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,$=this.scroll.update(F);return this.selection.update(F),$}},{key:"updateContents",value:function(F){var $=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return V.call(this,function(){return F=new d.default(F),$.editor.applyDelta(F,W)},W,!0)}}]),G}();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=m.default.events,B.sources=m.default.sources,B.version="1.3.7",B.imports={delta:d.default,parchment:_.default,"core/module":y.default,"core/theme":j.default};function U(G,M){if(M=(0,T.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===B.DEFAULTS.theme)M.theme=j.default;else if(M.theme=B.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var F=(0,T.default)(!0,{},M.theme.DEFAULTS);[F,M].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(J){Q.modules[J]===!0&&(Q.modules[J]={})})});var $=Object.keys(F.modules).concat(Object.keys(M.modules)),W=$.reduce(function(Q,J){var H=B.import("modules/"+J);return H==null?L.error("Cannot load "+J+" module. Are you sure you registered it?"):Q[J]=H.DEFAULTS||{},Q},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,T.default)(!0,{},B.DEFAULTS,{modules:W},F,M),["bounds","container","scrollingContainer"].forEach(function(Q){typeof M[Q]=="string"&&(M[Q]=document.querySelector(M[Q]))}),M.modules=Object.keys(M.modules).reduce(function(Q,J){return M.modules[J]&&(Q[J]=M.modules[J]),Q},{}),M}function V(G,M,F,$){if(this.options.strict&&!this.isEnabled()&&M===m.default.sources.USER)return new d.default;var W=F==null?null:this.getSelection(),Q=this.editor.delta,J=G();if(W!=null&&(F===!0&&(F=W.index),$==null?W=K(W,J,M):$!==0&&(W=K(W,F,$,M)),this.setSelection(W,m.default.sources.SILENT)),J.length()>0){var H,X=[m.default.events.TEXT_CHANGE,J,Q,M];if((H=this.emitter).emit.apply(H,[m.default.events.EDITOR_CHANGE].concat(X)),M!==m.default.sources.SILENT){var ee;(ee=this.emitter).emit.apply(ee,X)}}return J}function Y(G,M,F,$,W){var Q={};return typeof G.index=="number"&&typeof G.length=="number"?typeof M!="number"?(W=$,$=F,F=M,M=G.length,G=G.index):(M=G.length,G=G.index):typeof M!="number"&&(W=$,$=F,F=M,M=0),(typeof F>"u"?"undefined":s(F))==="object"?(Q=F,W=$):typeof F=="string"&&($!=null?Q[F]=$:W=F),W=W||m.default.sources.API,[G,M,Q,W]}function K(G,M,F,$){if(G==null)return null;var W=void 0,Q=void 0;if(M instanceof d.default){var J=[G.index,G.index+G.length].map(function(re){return M.transformPosition(re,$!==m.default.sources.USER)}),H=o(J,2);W=H[0],Q=H[1]}else{var X=[G.index,G.index+G.length].map(function(re){return re<M||re===M&&$===m.default.sources.USER?re:F>=0?re+F:Math.max(M,re+F)}),ee=o(X,2);W=ee[0],Q=ee[1]}return new b.Range(W,Q-W)}r.expandConfig=U,r.overload=Y,r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var k=0;k<b.length;k++){var S=b[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,b,k){return b&&w(_.prototype,b),k&&w(_,k),_}}(),o=function w(_,b,k){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,b);if(S===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:w(T,b,k)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(k)}},l=i(7),u=h(l),d=i(0),f=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function m(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function v(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var y=function(w){v(_,w);function _(){return p(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"formatAt",value:function(k,S,T,N){if(_.compare(this.statics.blotName,T)<0&&f.default.query(T,f.default.Scope.BLOT)){var O=this.isolate(k,S);N&&O.wrap(T,N)}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,k,S,T,N)}},{key:"optimize",value:function(k){if(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,k),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(k,S){var T=_.order.indexOf(k),N=_.order.indexOf(S);return T>=0||N>=0?T-N:k===S?0:k<S?-1:1}}]),_}(f.default.Inline);y.allowedChildren=[y,f.default.Embed,u.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(k,S){for(var T=0;T<S.length;T++){var N=S[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,S,T){return S&&b(k.prototype,S),T&&b(k,T),k}}(),o=function b(k,S,T){k===null&&(k=Function.prototype);var N=Object.getOwnPropertyDescriptor(k,S);if(N===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:b(O,S,T)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(T)}},l=i(54),u=h(l),d=i(10),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")}function m(b,k){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:b}function v(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);b.prototype=Object.create(k&&k.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(b,k):b.__proto__=k)}var y=(0,f.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(b){document.addEventListener(b,function(){for(var k=arguments.length,S=Array(k),T=0;T<k;T++)S[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var O;(O=N.__quill.emitter).handleDOM.apply(O,S)}})})});var _=function(b){v(k,b);function k(){p(this,k);var S=m(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return S.listeners={},S.on("error",y.error),S}return s(k,[{key:"emit",value:function(){y.log.apply(y,arguments),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var N=arguments.length,O=Array(N>1?N-1:0),D=1;D<N;D++)O[D-1]=arguments[D];(this.listeners[T.type]||[]).forEach(function(j){var R=j.node,I=j.handler;(T.target===R||R.contains(T.target))&&I.apply(void 0,[T].concat(O))})}},{key:"listenDOM",value:function(T,N,O){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:N,handler:O})}}]),k}(u.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=u,this.options=d};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function l(d){if(s.indexOf(d)<=s.indexOf(o)){for(var f,h=arguments.length,p=Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];(f=console)[d].apply(f,p)}}function u(d){return s.reduce(function(f,h){return f[h]=l.bind(console,h,d),f},{})}l.level=u.level=function(d){o=d},r.default=u},function(n,r,i){var s=Array.prototype.slice,o=i(52),l=i(53),u=n.exports=function(p,m,v){return v||(v={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?v.strict?p===m:p==m:h(p,m,v)};function d(p){return p==null}function f(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function h(p,m,v){var y,w;if(d(p)||d(m)||p.prototype!==m.prototype)return!1;if(l(p))return l(m)?(p=s.call(p),m=s.call(m),u(p,m,v)):!1;if(f(p)){if(!f(m)||p.length!==m.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==m[y])return!1;return!0}try{var _=o(p),b=o(m)}catch{return!1}if(_.length!=b.length)return!1;for(_.sort(),b.sort(),y=_.length-1;y>=0;y--)if(_[y]!=b[y])return!1;for(y=_.length-1;y>=0;y--)if(w=_[y],!u(p[w],m[w],v))return!1;return typeof p==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function l(u,d,f){f===void 0&&(f={}),this.attrName=u,this.keyName=d;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return l.keys=function(u){return[].map.call(u.attributes,function(d){return d.name})},l.prototype.add=function(u,d){return this.canAdd(u,d)?(u.setAttribute(this.keyName,d),!0):!1},l.prototype.canAdd=function(u,d){var f=s.query(u,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},l.prototype.remove=function(u){u.removeAttribute(this.keyName)},l.prototype.value=function(u){var d=u.getAttribute(this.keyName);return this.canAdd(u,d)&&d?d:""},l}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function D(j,R){var I=[],P=!0,L=!1,B=void 0;try{for(var U=j[Symbol.iterator](),V;!(P=(V=U.next()).done)&&(I.push(V.value),!(R&&I.length===R));P=!0);}catch(Y){L=!0,B=Y}finally{try{!P&&U.return&&U.return()}finally{if(L)throw B}}return I}return function(j,R){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return D(j,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function D(j,R){for(var I=0;I<R.length;I++){var P=R[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,R,I){return R&&D(j.prototype,R),I&&D(j,I),j}}(),l=function D(j,R,I){j===null&&(j=Function.prototype);var P=Object.getOwnPropertyDescriptor(j,R);if(P===void 0){var L=Object.getPrototypeOf(j);return L===null?void 0:D(L,R,I)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(I)}},u=i(2),d=b(u),f=i(0),h=b(f),p=i(4),m=b(p),v=i(6),y=b(v),w=i(7),_=b(w);function b(D){return D&&D.__esModule?D:{default:D}}function k(D,j){if(!(D instanceof j))throw new TypeError("Cannot call a class as a function")}function S(D,j){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:D}function T(D,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);D.prototype=Object.create(j&&j.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(D,j):D.__proto__=j)}var N=function(D){T(j,D);function j(){return k(this,j),S(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return j}(y.default);N.blotName="code",N.tagName="CODE";var O=function(D){T(j,D);function j(){return k(this,j),S(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return o(j,[{key:"delta",value:function(){var I=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(L,B){return L.insert(B).insert(`
`,I.formats())},new d.default)}},{key:"format",value:function(I,P){if(!(I===this.statics.blotName&&P)){var L=this.descendant(_.default,this.length()-1),B=s(L,1),U=B[0];U!=null&&U.deleteAt(U.length()-1,1),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,I,P)}}},{key:"formatAt",value:function(I,P,L,B){if(P!==0&&!(h.default.query(L,h.default.Scope.BLOCK)==null||L===this.statics.blotName&&B===this.statics.formats(this.domNode))){var U=this.newlineIndex(I);if(!(U<0||U>=I+P)){var V=this.newlineIndex(I,!0)+1,Y=U-V+1,K=this.isolate(V,Y),G=K.next;K.format(L,B),G instanceof j&&G.formatAt(0,I-V+P-Y,L,B)}}}},{key:"insertAt",value:function(I,P,L){if(L==null){var B=this.descendant(_.default,I),U=s(B,2),V=U[0],Y=U[1];V.insertAt(Y,P)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var L=this.domNode.textContent.slice(I).indexOf(`
`);return L>-1?I+L:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,I);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(I),P.moveChildren(this),P.remove())}},{key:"replace",value:function(I){l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var L=h.default.find(P);L==null?P.parentNode.removeChild(P):L instanceof h.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(I){var P=l(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,I);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),j}(m.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=N,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(M,F){var $=[],W=!0,Q=!1,J=void 0;try{for(var H=M[Symbol.iterator](),X;!(W=(X=H.next()).done)&&($.push(X.value),!(F&&$.length===F));W=!0);}catch(ee){Q=!0,J=ee}finally{try{!W&&H.return&&H.return()}finally{if(Q)throw J}}return $}return function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return G(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(M,F){for(var $=0;$<F.length;$++){var W=F[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,F,$){return F&&G(M.prototype,F),$&&G(M,$),M}}(),u=i(2),d=P(u),f=i(20),h=P(f),p=i(0),m=P(p),v=i(13),y=P(v),w=i(24),_=P(w),b=i(4),k=P(b),S=i(16),T=P(S),N=i(21),O=P(N),D=i(11),j=P(D),R=i(3),I=P(R);function P(G){return G&&G.__esModule?G:{default:G}}function L(G,M,F){return M in G?Object.defineProperty(G,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):G[M]=F,G}function B(G,M){if(!(G instanceof M))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,V=function(){function G(M){B(this,G),this.scroll=M,this.delta=this.getDelta()}return l(G,[{key:"applyDelta",value:function(F){var $=this,W=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),F=K(F),F.reduce(function(J,H){var X=H.retain||H.delete||H.insert.length||1,ee=H.attributes||{};if(H.insert!=null){if(typeof H.insert=="string"){var re=H.insert;re.endsWith(`
`)&&W&&(W=!1,re=re.slice(0,-1)),J>=Q&&!re.endsWith(`
`)&&(W=!0),$.scroll.insertAt(J,re);var ce=$.scroll.line(J),we=o(ce,2),Se=we[0],Ie=we[1],He=(0,I.default)({},(0,b.bubbleFormats)(Se));if(Se instanceof k.default){var Xe=Se.descendant(m.default.Leaf,Ie),_t=o(Xe,1),$t=_t[0];He=(0,I.default)(He,(0,b.bubbleFormats)($t))}ee=h.default.attributes.diff(He,ee)||{}}else if(s(H.insert)==="object"){var de=Object.keys(H.insert)[0];if(de==null)return J;$.scroll.insertAt(J,de,H.insert[de])}Q+=X}return Object.keys(ee).forEach(function(fe){$.scroll.formatAt(J,X,fe,ee[fe])}),J+X},0),F.reduce(function(J,H){return typeof H.delete=="number"?($.scroll.deleteAt(J,H.delete),J):J+(H.retain||H.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,$){return this.scroll.deleteAt(F,$),this.update(new d.default().retain(F).delete($))}},{key:"formatLine",value:function(F,$){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(J){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[J])){var H=W.scroll.lines(F,Math.max($,1)),X=$;H.forEach(function(ee){var re=ee.length();if(!(ee instanceof y.default))ee.format(J,Q[J]);else{var ce=F-ee.offset(W.scroll),we=ee.newlineIndex(ce+X)-ce+1;ee.formatAt(ce,we,J,Q[J])}X-=re})}}),this.scroll.optimize(),this.update(new d.default().retain(F).retain($,(0,O.default)(Q)))}},{key:"formatText",value:function(F,$){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(J){W.scroll.formatAt(F,$,J,Q[J])}),this.update(new d.default().retain(F).retain($,(0,O.default)(Q)))}},{key:"getContents",value:function(F,$){return this.delta.slice(F,F+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,$){return F.concat($.delta())},new d.default)}},{key:"getFormat",value:function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],Q=[];$===0?this.scroll.path(F).forEach(function(H){var X=o(H,1),ee=X[0];ee instanceof k.default?W.push(ee):ee instanceof m.default.Leaf&&Q.push(ee)}):(W=this.scroll.lines(F,$),Q=this.scroll.descendants(m.default.Leaf,F,$));var J=[W,Q].map(function(H){if(H.length===0)return{};for(var X=(0,b.bubbleFormats)(H.shift());Object.keys(X).length>0;){var ee=H.shift();if(ee==null)return X;X=Y((0,b.bubbleFormats)(ee),X)}return X});return I.default.apply(I.default,J)}},{key:"getText",value:function(F,$){return this.getContents(F,$).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(F,$,W){return this.scroll.insertAt(F,$,W),this.update(new d.default().retain(F).insert(L({},$,W)))}},{key:"insertText",value:function(F,$){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,$),Object.keys(Q).forEach(function(J){W.scroll.formatAt(F,$.length,J,Q[J])}),this.update(new d.default().retain(F).insert($,(0,O.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==k.default.blotName||F.children.length>1?!1:F.children.head instanceof T.default}},{key:"removeFormat",value:function(F,$){var W=this.getText(F,$),Q=this.scroll.line(F+$),J=o(Q,2),H=J[0],X=J[1],ee=0,re=new d.default;H!=null&&(H instanceof y.default?ee=H.newlineIndex(X)-X+1:ee=H.length()-X,re=H.delta().slice(X,X+ee-1).insert(`
`));var ce=this.getContents(F,$+ee),we=ce.diff(new d.default().insert(W).concat(re)),Se=new d.default().retain(F).concat(we);return this.applyDelta(Se)}},{key:"update",value:function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(U)&&m.default.find($[0].target)){var J=m.default.find($[0].target),H=(0,b.bubbleFormats)(J),X=J.offset(this.scroll),ee=$[0].oldValue.replace(_.default.CONTENTS,""),re=new d.default().insert(ee),ce=new d.default().insert(J.value()),we=new d.default().retain(X).concat(re.diff(ce,W));F=we.reduce(function(Se,Ie){return Ie.insert?Se.insert(Ie.insert,H):Se.push(Ie)},new d.default),this.delta=Q.compose(F)}else this.delta=this.getDelta(),(!F||!(0,j.default)(Q.compose(F),this.delta))&&(F=Q.diff(this.delta,W));return F}}]),G}();function Y(G,M){return Object.keys(M).reduce(function(F,$){return G[$]==null||(M[$]===G[$]?F[$]=M[$]:Array.isArray(M[$])?M[$].indexOf(G[$])<0&&(F[$]=M[$].concat([G[$]])):F[$]=[M[$],G[$]]),F},{})}function K(G){return G.reduce(function(M,F){if(F.insert===1){var $=(0,O.default)(F.attributes);return delete $.image,M.insert({image:F.attributes.image},$)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,O.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var W=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(W,F.attributes)}return M.push(F)},new d.default)}r.default=V},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function D(j,R){var I=[],P=!0,L=!1,B=void 0;try{for(var U=j[Symbol.iterator](),V;!(P=(V=U.next()).done)&&(I.push(V.value),!(R&&I.length===R));P=!0);}catch(Y){L=!0,B=Y}finally{try{!P&&U.return&&U.return()}finally{if(L)throw B}}return I}return function(j,R){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return D(j,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function D(j,R){for(var I=0;I<R.length;I++){var P=R[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,R,I){return R&&D(j.prototype,R),I&&D(j,I),j}}(),l=i(0),u=_(l),d=i(21),f=_(d),h=i(11),p=_(h),m=i(8),v=_(m),y=i(10),w=_(y);function _(D){return D&&D.__esModule?D:{default:D}}function b(D){if(Array.isArray(D)){for(var j=0,R=Array(D.length);j<D.length;j++)R[j]=D[j];return R}else return Array.from(D)}function k(D,j){if(!(D instanceof j))throw new TypeError("Cannot call a class as a function")}var S=(0,w.default)("quill:selection"),T=function D(j){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,D),this.index=j,this.length=R},N=function(){function D(j,R){var I=this;k(this,D),this.emitter=R,this.scroll=j,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(P,L){P===v.default.events.TEXT_CHANGE&&L.length()>0&&I.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var P=I.getNativeRange();P!=null&&P.start.node!==I.cursor.textNode&&I.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(P,L){if(L.range){var B=L.range,U=B.startNode,V=B.startOffset,Y=B.endNode,K=B.endOffset;I.setNativeRange(U,V,Y,K)}}),this.update(v.default.sources.SILENT)}return o(D,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var I=R.cursor.restore();if(!I)return;setTimeout(function(){R.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||u.default.query(R,u.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var L=u.default.find(P.start.node,!1);if(L==null)return;if(L instanceof u.default.Leaf){var B=L.split(P.start.offset);L.parent.insertBefore(this.cursor,B)}else L.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(R,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();R=Math.min(R,P-1),I=Math.min(R+I,P-1)-R;var L=void 0,B=this.scroll.leaf(R),U=s(B,2),V=U[0],Y=U[1];if(V==null)return null;var K=V.position(Y,!0),G=s(K,2);L=G[0],Y=G[1];var M=document.createRange();if(I>0){M.setStart(L,Y);var F=this.scroll.leaf(R+I),$=s(F,2);if(V=$[0],Y=$[1],V==null)return null;var W=V.position(Y,!0),Q=s(W,2);return L=Q[0],Y=Q[1],M.setEnd(L,Y),M.getBoundingClientRect()}else{var J="left",H=void 0;return L instanceof Text?(Y<L.data.length?(M.setStart(L,Y),M.setEnd(L,Y+1)):(M.setStart(L,Y-1),M.setEnd(L,Y),J="right"),H=M.getBoundingClientRect()):(H=V.domNode.getBoundingClientRect(),Y>0&&(J="right")),{bottom:H.top+H.height,height:H.height,left:H[J],right:H[J],top:H.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var I=R.getRangeAt(0);if(I==null)return null;var P=this.normalizeNative(I);return S.info("getNativeRange",P),P}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var I=this.normalizedToRange(R);return[I,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var I=this,P=[[R.start.node,R.start.offset]];R.native.collapsed||P.push([R.end.node,R.end.offset]);var L=P.map(function(V){var Y=s(V,2),K=Y[0],G=Y[1],M=u.default.find(K,!0),F=M.offset(I.scroll);return G===0?F:M instanceof u.default.Container?F+M.length():F+M.index(K,G)}),B=Math.min(Math.max.apply(Math,b(L)),this.scroll.length()-1),U=Math.min.apply(Math,[B].concat(b(L)));return new T(U,B-U)}},{key:"normalizeNative",value:function(R){if(!O(this.root,R.startContainer)||!R.collapsed&&!O(this.root,R.endContainer))return null;var I={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[I.start,I.end].forEach(function(P){for(var L=P.node,B=P.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>B)L=L.childNodes[B],B=0;else if(L.childNodes.length===B)L=L.lastChild,B=L instanceof Text?L.data.length:L.childNodes.length+1;else break;P.node=L,P.offset=B}),I}},{key:"rangeToNative",value:function(R){var I=this,P=R.collapsed?[R.index]:[R.index,R.index+R.length],L=[],B=this.scroll.length();return P.forEach(function(U,V){U=Math.min(B-1,U);var Y=void 0,K=I.scroll.leaf(U),G=s(K,2),M=G[0],F=G[1],$=M.position(F,V!==0),W=s($,2);Y=W[0],F=W[1],L.push(Y,F)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(R){var I=this.lastRange;if(I!=null){var P=this.getBounds(I.index,I.length);if(P!=null){var L=this.scroll.length()-1,B=this.scroll.line(Math.min(I.index,L)),U=s(B,1),V=U[0],Y=V;if(I.length>0){var K=this.scroll.line(Math.min(I.index+I.length,L)),G=s(K,1);Y=G[0]}if(!(V==null||Y==null)){var M=R.getBoundingClientRect();P.top<M.top?R.scrollTop-=M.top-P.top:P.bottom>M.bottom&&(R.scrollTop+=P.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(R,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",R,I,P,L),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||P.parentNode==null))){var U=document.getSelection();if(U!=null)if(R!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||B||R!==V.startContainer||I!==V.startOffset||P!==V.endContainer||L!==V.endOffset){R.tagName=="BR"&&(I=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),P.tagName=="BR"&&(L=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var Y=document.createRange();Y.setStart(R,I),Y.setEnd(P,L),U.removeAllRanges(),U.addRange(Y)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof I=="string"&&(P=I,I=!1),S.info("setRange",R),R!=null){var L=this.rangeToNative(R);this.setNativeRange.apply(this,b(L).concat([I]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,I=this.lastRange,P=this.getRange(),L=s(P,2),B=L[0],U=L[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(I,this.lastRange)){var V;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[v.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(I),R];if((V=this.emitter).emit.apply(V,[v.default.events.EDITOR_CHANGE].concat(Y)),R!==v.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,Y)}}}}]),D}();function O(D,j){try{j.parentNode}catch{return!1}return j instanceof Text&&(j=j.parentNode),D.contains(j)}r.Range=T,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var _=0;_<w.length;_++){var b=w[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,w,_){return w&&v(y.prototype,w),_&&v(y,_),y}}(),o=function v(y,w,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,w);if(b===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:v(k,w,_)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(_)}},l=i(0),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){p(y,v);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(_,b){_.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,_,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(u.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)m.hasOwnProperty(v)&&(p[v]=m[v])};return function(p,m){h(p,m);function v(){this.constructor=p}p.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),l=i(30),u=i(1),d=function(h){s(p,h);function p(m){var v=h.call(this,m)||this;return v.build(),v}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=f(v);m.insertBefore(y,m.children.head||void 0)}catch(w){if(w instanceof u.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(m,v){if(m===0&&v===this.length())return this.remove();this.children.forEachAt(m,v,function(y,w,_){y.deleteAt(w,_)})},p.prototype.descendant=function(m,v){var y=this.children.find(v),w=y[0],_=y[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,_]:w instanceof p?w.descendant(m,_):[null,-1]},p.prototype.descendants=function(m,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],_=y;return this.children.forEachAt(v,y,function(b,k,S){(m.blotName==null&&m(b)||m.blotName!=null&&b instanceof m)&&w.push(b),b instanceof p&&(w=w.concat(b.descendants(m,k,_))),_-=S}),w},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),h.prototype.detach.call(this)},p.prototype.formatAt=function(m,v,y,w){this.children.forEachAt(m,v,function(_,b,k){_.formatAt(b,k,y,w)})},p.prototype.insertAt=function(m,v,y){var w=this.children.find(m),_=w[0],b=w[1];if(_)_.insertAt(b,v,y);else{var k=y==null?u.create("text",v):u.create(v,y);this.appendChild(k)}},p.prototype.insertBefore=function(m,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return m instanceof y}))throw new u.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,v)},p.prototype.length=function(){return this.children.reduce(function(m,v){return m+v.length()},0)},p.prototype.moveChildren=function(m,v){this.children.forEach(function(y){m.insertBefore(y,v)})},p.prototype.optimize=function(m){if(h.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var v=u.create(this.statics.defaultChild);this.appendChild(v),v.optimize(m)}else this.remove()},p.prototype.path=function(m,v){v===void 0&&(v=!1);var y=this.children.find(m,v),w=y[0],_=y[1],b=[[this,m]];return w instanceof p?b.concat(w.path(_,v)):(w!=null&&b.push([w,_]),b)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),h.prototype.replace.call(this,m)},p.prototype.split=function(m,v){if(v===void 0&&(v=!1),!v){if(m===0)return this;if(m===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(m,this.length(),function(w,_,b){w=w.split(_,v),y.appendChild(w)}),y},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,v){var y=this,w=[],_=[];m.forEach(function(b){b.target===y.domNode&&b.type==="childList"&&(w.push.apply(w,b.addedNodes),_.push.apply(_,b.removedNodes))}),_.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=u.find(b);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===y.domNode)&&k.detach()}}),w.filter(function(b){return b.parentNode==y.domNode}).sort(function(b,k){return b===k?0:b.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var k=null;b.nextSibling!=null&&(k=u.find(b.nextSibling));var S=f(b);(S.next!=k||S.next==null)&&(S.parent!=null&&S.parent.removeChild(y),y.insertBefore(S,k||void 0))})},p}(l.default);function f(h){var p=u.find(h);if(p==null)try{p=u.create(h)}catch{p=u.create(u.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(v){p.domNode.appendChild(v)}),h.parentNode&&h.parentNode.replaceChild(p.domNode,h),p.attach()}return p}r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)m.hasOwnProperty(v)&&(p[v]=m[v])};return function(p,m){h(p,m);function v(){this.constructor=p}p.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),l=i(31),u=i(17),d=i(1),f=function(h){s(p,h);function p(m){var v=h.call(this,m)||this;return v.attributes=new l.default(v.domNode),v}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,v){var y=d.query(m);y instanceof o.default?this.attributes.attribute(y,v):v&&y!=null&&(m!==this.statics.blotName||this.formats()[m]!==v)&&this.replaceWith(m,v)},p.prototype.formats=function(){var m=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(m[this.statics.blotName]=v),m},p.prototype.replaceWith=function(m,v){var y=h.prototype.replaceWith.call(this,m,v);return this.attributes.copy(y),y},p.prototype.update=function(m,v){var y=this;h.prototype.update.call(this,m,v),m.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,v){var y=h.prototype.wrap.call(this,m,v);return y instanceof p&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},p}(u.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),l=i(1),u=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,p){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},f.prototype.position=function(h,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(m+=1),[this.parent.domNode,m]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=l.Scope.INLINE_BLOT,f}(o.default);r.default=u},function(n,r,i){var s=i(11),o=i(3),l={attributes:{compose:function(d,f,h){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});var p=o(!0,{},f);h||(p=Object.keys(p).reduce(function(v,y){return p[y]!=null&&(v[y]=p[y]),v},{}));for(var m in d)d[m]!==void 0&&f[m]===void 0&&(p[m]=d[m]);return Object.keys(p).length>0?p:void 0},diff:function(d,f){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});var h=Object.keys(d).concat(Object.keys(f)).reduce(function(p,m){return s(d[m],f[m])||(p[m]=f[m]===void 0?null:f[m]),p},{});return Object.keys(h).length>0?h:void 0},transform:function(d,f,h){if(typeof d!="object")return f;if(typeof f=="object"){if(!h)return f;var p=Object.keys(f).reduce(function(m,v){return d[v]===void 0&&(m[v]=f[v]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(d){return new u(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function u(d){this.ops=d,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(d){d||(d=1/0);var f=this.ops[this.index];if(f){var h=this.offset,p=l.length(f);if(d>=p-h?(d=p-h,this.index+=1,this.offset=0):this.offset+=d,typeof f.delete=="number")return{delete:d};var m={};return f.attributes&&(m.attributes=f.attributes),typeof f.retain=="number"?m.retain=d:typeof f.insert=="string"?m.insert=f.insert.substr(h,d):m.insert=f.insert,m}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,f=this.index,h=this.next(),p=this.ops.slice(this.index);return this.offset=d,this.index=f,[h].concat(p)}else return[]},n.exports=l},function(n,r){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var u;try{u=Promise}catch{u=function(){}}function d(y,w,_,b,k){typeof w=="object"&&(_=w.depth,b=w.prototype,k=w.includeNonEnumerable,w=w.circular);var S=[],T=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof _>"u"&&(_=1/0);function O(D,j){if(D===null)return null;if(j===0)return D;var R,I;if(typeof D!="object")return D;if(s(D,o))R=new o;else if(s(D,l))R=new l;else if(s(D,u))R=new u(function(M,F){D.then(function($){M(O($,j-1))},function($){F(O($,j-1))})});else if(d.__isArray(D))R=[];else if(d.__isRegExp(D))R=new RegExp(D.source,v(D)),D.lastIndex&&(R.lastIndex=D.lastIndex);else if(d.__isDate(D))R=new Date(D.getTime());else{if(N&&Buffer.isBuffer(D))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(D.length):R=new Buffer(D.length),D.copy(R),R;s(D,Error)?R=Object.create(D):typeof b>"u"?(I=Object.getPrototypeOf(D),R=Object.create(I)):(R=Object.create(b),I=b)}if(w){var P=S.indexOf(D);if(P!=-1)return T[P];S.push(D),T.push(R)}s(D,o)&&D.forEach(function(M,F){var $=O(F,j-1),W=O(M,j-1);R.set($,W)}),s(D,l)&&D.forEach(function(M){var F=O(M,j-1);R.add(F)});for(var L in D){var B;I&&(B=Object.getOwnPropertyDescriptor(I,L)),!(B&&B.set==null)&&(R[L]=O(D[L],j-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(D),L=0;L<U.length;L++){var V=U[L],Y=Object.getOwnPropertyDescriptor(D,V);Y&&!Y.enumerable&&!k||(R[V]=O(D[V],j-1),Y.enumerable||Object.defineProperty(R,V,{enumerable:!1}))}if(k)for(var K=Object.getOwnPropertyNames(D),L=0;L<K.length;L++){var G=K[L],Y=Object.getOwnPropertyDescriptor(D,G);Y&&Y.enumerable||(R[G]=O(D[G],j-1),Object.defineProperty(R,G,{enumerable:!1}))}return R}return O(y,_)}d.clonePrototype=function(w){if(w===null)return null;var _=function(){};return _.prototype=w,new _};function f(y){return Object.prototype.toString.call(y)}d.__objToStr=f;function h(y){return typeof y=="object"&&f(y)==="[object Date]"}d.__isDate=h;function p(y){return typeof y=="object"&&f(y)==="[object Array]"}d.__isArray=p;function m(y){return typeof y=="object"&&f(y)==="[object RegExp]"}d.__isRegExp=m;function v(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return d.__getRegExpFlags=v,d}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function R(I,P){var L=[],B=!0,U=!1,V=void 0;try{for(var Y=I[Symbol.iterator](),K;!(B=(K=Y.next()).done)&&(L.push(K.value),!(P&&L.length===P));B=!0);}catch(G){U=!0,V=G}finally{try{!B&&Y.return&&Y.return()}finally{if(U)throw V}}return L}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return R(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(I,P){for(var L=0;L<P.length;L++){var B=P[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,P,L){return P&&R(I.prototype,P),L&&R(I,L),I}}(),l=function R(I,P,L){I===null&&(I=Function.prototype);var B=Object.getOwnPropertyDescriptor(I,P);if(B===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:R(U,P,L)}else{if("value"in B)return B.value;var V=B.get;return V===void 0?void 0:V.call(L)}},u=i(0),d=S(u),f=i(8),h=S(f),p=i(4),m=S(p),v=i(16),y=S(v),w=i(13),_=S(w),b=i(25),k=S(b);function S(R){return R&&R.__esModule?R:{default:R}}function T(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function N(R,I){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:R}function O(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(R,I):R.__proto__=I)}function D(R){return R instanceof m.default||R instanceof p.BlockEmbed}var j=function(R){O(I,R);function I(P,L){T(this,I);var B=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P));return B.emitter=L.emitter,Array.isArray(L.whitelist)&&(B.whitelist=L.whitelist.reduce(function(U,V){return U[V]=!0,U},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return o(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,B){var U=this.line(L),V=s(U,2),Y=V[0],K=V[1],G=this.line(L+B),M=s(G,1),F=M[0];if(l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,L,B),F!=null&&Y!==F&&K>0){if(Y instanceof p.BlockEmbed||F instanceof p.BlockEmbed){this.optimize();return}if(Y instanceof _.default){var $=Y.newlineIndex(Y.length(),!0);if($>-1&&(Y=Y.split($+1),Y===F)){this.optimize();return}}else if(F instanceof _.default){var W=F.newlineIndex(0);W>-1&&F.split(W+1)}var Q=F.children.head instanceof y.default?null:F.children.head;Y.moveChildren(F,Q),Y.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,B,U,V){this.whitelist!=null&&!this.whitelist[U]||(l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,L,B,U,V),this.optimize())}},{key:"insertAt",value:function(L,B,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[B])){if(L>=this.length())if(U==null||d.default.query(B,d.default.Scope.BLOCK)==null){var V=d.default.create(this.statics.defaultChild);this.appendChild(V),U==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),V.insertAt(0,B,U)}else{var Y=d.default.create(B,U);this.appendChild(Y)}else l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,L,B,U);this.optimize()}}},{key:"insertBefore",value:function(L,B){if(L.statics.scope===d.default.Scope.INLINE_BLOT){var U=d.default.create(this.statics.defaultChild);U.appendChild(L),L=U}l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,L,B)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(D,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function V(Y,K,G){var M=[],F=G;return Y.children.forEachAt(K,G,function($,W,Q){D($)?M.push($):$ instanceof d.default.Container&&(M=M.concat(V($,W,F))),F-=Q}),M};return U(this,L,B)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,L,B),L.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,L,B))}},{key:"path",value:function(L){return l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var B=h.default.sources.USER;typeof L=="string"&&(B=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,B,L),l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,B,L)}}}]),I}(d.default.Scroll);j.blotName="scroll",j.className="ql-editor",j.tagName="DIV",j.defaultChild="block",j.allowedChildren=[m.default,p.BlockEmbed,k.default],r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(X,ee){var re=[],ce=!0,we=!1,Se=void 0;try{for(var Ie=X[Symbol.iterator](),He;!(ce=(He=Ie.next()).done)&&(re.push(He.value),!(ee&&re.length===ee));ce=!0);}catch(Xe){we=!0,Se=Xe}finally{try{!ce&&Ie.return&&Ie.return()}finally{if(we)throw Se}}return re}return function(X,ee){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return H(X,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function H(X,ee){for(var re=0;re<ee.length;re++){var ce=ee[re];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(X,ce.key,ce)}}return function(X,ee,re){return ee&&H(X.prototype,ee),re&&H(X,re),X}}(),u=i(21),d=R(u),f=i(11),h=R(f),p=i(3),m=R(p),v=i(2),y=R(v),w=i(20),_=R(w),b=i(0),k=R(b),S=i(5),T=R(S),N=i(10),O=R(N),D=i(9),j=R(D);function R(H){return H&&H.__esModule?H:{default:H}}function I(H,X,ee){return X in H?Object.defineProperty(H,X,{value:ee,enumerable:!0,configurable:!0,writable:!0}):H[X]=ee,H}function P(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}function L(H,X){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:H}function B(H,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(H,X):H.__proto__=X)}var U=(0,O.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=function(H){B(X,H),l(X,null,[{key:"match",value:function(re,ce){return ce=J(ce),["altKey","ctrlKey","metaKey","shiftKey"].some(function(we){return!!ce[we]!==re[we]&&ce[we]!==null})?!1:ce.key===(re.which||re.keyCode)}}]);function X(ee,re){P(this,X);var ce=L(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,ee,re));return ce.bindings={},Object.keys(ce.options.bindings).forEach(function(we){we==="list autofill"&&ee.scroll.whitelist!=null&&!ee.scroll.whitelist.list||ce.options.bindings[we]&&ce.addBinding(ce.options.bindings[we])}),ce.addBinding({key:X.keys.ENTER,shiftKey:null},$),ce.addBinding({key:X.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ce.addBinding({key:X.keys.BACKSPACE},{collapsed:!0},G),ce.addBinding({key:X.keys.DELETE},{collapsed:!0},M)):(ce.addBinding({key:X.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},G),ce.addBinding({key:X.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),ce.addBinding({key:X.keys.BACKSPACE},{collapsed:!1},F),ce.addBinding({key:X.keys.DELETE},{collapsed:!1},F),ce.addBinding({key:X.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},G),ce.listen(),ce}return l(X,[{key:"addBinding",value:function(re){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=J(re);if(Se==null||Se.key==null)return U.warn("Attempted to add invalid keyboard binding",Se);typeof ce=="function"&&(ce={handler:ce}),typeof we=="function"&&(we={handler:we}),Se=(0,m.default)(Se,ce,we),this.bindings[Se.key]=this.bindings[Se.key]||[],this.bindings[Se.key].push(Se)}},{key:"listen",value:function(){var re=this;this.quill.root.addEventListener("keydown",function(ce){if(!ce.defaultPrevented){var we=ce.which||ce.keyCode,Se=(re.bindings[we]||[]).filter(function(Bt){return X.match(ce,Bt)});if(Se.length!==0){var Ie=re.quill.getSelection();if(!(Ie==null||!re.quill.hasFocus())){var He=re.quill.getLine(Ie.index),Xe=o(He,2),_t=Xe[0],$t=Xe[1],de=re.quill.getLeaf(Ie.index),fe=o(de,2),xe=fe[0],Ee=fe[1],pe=Ie.length===0?[xe,Ee]:re.quill.getLeaf(Ie.index+Ie.length),ot=o(pe,2),tt=ot[0],it=ot[1],Gn=xe instanceof k.default.Text?xe.value().slice(0,Ee):"",Cr=tt instanceof k.default.Text?tt.value().slice(it):"",Nt={collapsed:Ie.length===0,empty:Ie.length===0&&_t.length()<=1,format:re.quill.getFormat(Ie),offset:$t,prefix:Gn,suffix:Cr},gl=Se.some(function(Bt){if(Bt.collapsed!=null&&Bt.collapsed!==Nt.collapsed||Bt.empty!=null&&Bt.empty!==Nt.empty||Bt.offset!=null&&Bt.offset!==Nt.offset)return!1;if(Array.isArray(Bt.format)){if(Bt.format.every(function(or){return Nt.format[or]==null}))return!1}else if(s(Bt.format)==="object"&&!Object.keys(Bt.format).every(function(or){return Bt.format[or]===!0?Nt.format[or]!=null:Bt.format[or]===!1?Nt.format[or]==null:(0,h.default)(Bt.format[or],Nt.format[or])}))return!1;return Bt.prefix!=null&&!Bt.prefix.test(Nt.prefix)||Bt.suffix!=null&&!Bt.suffix.test(Nt.suffix)?!1:Bt.handler.call(re,Ie,Nt)!==!0});gl&&ce.preventDefault()}}}})}}]),X}(j.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function(X,ee){if(ee.collapsed&&ee.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,ee){if(ee.collapsed&&ee.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,ee){ee.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):ee.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,T.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function(X){this.quill.history.cutoff();var ee=new y.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(ee,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,T.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,ee){this.quill.format("list",!1,T.default.sources.USER),ee.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var ee=this.quill.getLine(X.index),re=o(ee,2),ce=re[0],we=re[1],Se=(0,m.default)({},ce.formats(),{list:"checked"}),Ie=new y.default().retain(X.index).insert(`
`,Se).retain(ce.length()-we-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ie,T.default.sources.USER),this.quill.setSelection(X.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,ee){var re=this.quill.getLine(X.index),ce=o(re,2),we=ce[0],Se=ce[1],Ie=new y.default().retain(X.index).insert(`
`,ee.format).retain(we.length()-Se-1).retain(1,{header:null});this.quill.updateContents(Ie,T.default.sources.USER),this.quill.setSelection(X.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,ee){var re=ee.prefix.length,ce=this.quill.getLine(X.index),we=o(ce,2),Se=we[0],Ie=we[1];if(Ie>re)return!0;var He=void 0;switch(ee.prefix.trim()){case"[]":case"[ ]":He="unchecked";break;case"[x]":He="checked";break;case"-":case"*":He="bullet";break;default:He="ordered"}this.quill.insertText(X.index," ",T.default.sources.USER),this.quill.history.cutoff();var Xe=new y.default().retain(X.index-Ie).delete(re+1).retain(Se.length()-2-Ie).retain(1,{list:He});this.quill.updateContents(Xe,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-re,T.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var ee=this.quill.getLine(X.index),re=o(ee,2),ce=re[0],we=re[1],Se=new y.default().retain(X.index+ce.length()-we-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Se,T.default.sources.USER)}},"embed left":K(Y.keys.LEFT,!1),"embed left shift":K(Y.keys.LEFT,!0),"embed right":K(Y.keys.RIGHT,!1),"embed right shift":K(Y.keys.RIGHT,!0)}};function K(H,X){var ee,re=H===Y.keys.LEFT?"prefix":"suffix";return ee={key:H,shiftKey:X,altKey:null},I(ee,re,/^$/),I(ee,"handler",function(we){var Se=we.index;H===Y.keys.RIGHT&&(Se+=we.length+1);var Ie=this.quill.getLeaf(Se),He=o(Ie,1),Xe=He[0];return Xe instanceof k.default.Embed?(H===Y.keys.LEFT?X?this.quill.setSelection(we.index-1,we.length+1,T.default.sources.USER):this.quill.setSelection(we.index-1,T.default.sources.USER):X?this.quill.setSelection(we.index,we.length+1,T.default.sources.USER):this.quill.setSelection(we.index+we.length+1,T.default.sources.USER),!1):!0}),ee}function G(H,X){if(!(H.index===0||this.quill.getLength()<=1)){var ee=this.quill.getLine(H.index),re=o(ee,1),ce=re[0],we={};if(X.offset===0){var Se=this.quill.getLine(H.index-1),Ie=o(Se,1),He=Ie[0];if(He!=null&&He.length()>1){var Xe=ce.formats(),_t=this.quill.getFormat(H.index-1,1);we=_.default.attributes.diff(Xe,_t)||{}}}var $t=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(X.prefix)?2:1;this.quill.deleteText(H.index-$t,$t,T.default.sources.USER),Object.keys(we).length>0&&this.quill.formatLine(H.index-$t,$t,we,T.default.sources.USER),this.quill.focus()}}function M(H,X){var ee=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(X.suffix)?2:1;if(!(H.index>=this.quill.getLength()-ee)){var re={},ce=0,we=this.quill.getLine(H.index),Se=o(we,1),Ie=Se[0];if(X.offset>=Ie.length()-1){var He=this.quill.getLine(H.index+1),Xe=o(He,1),_t=Xe[0];if(_t){var $t=Ie.formats(),de=this.quill.getFormat(H.index,1);re=_.default.attributes.diff($t,de)||{},ce=_t.length()}}this.quill.deleteText(H.index,ee,T.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(H.index+ce-1,ee,re,T.default.sources.USER)}}function F(H){var X=this.quill.getLines(H),ee={};if(X.length>1){var re=X[0].formats(),ce=X[X.length-1].formats();ee=_.default.attributes.diff(ce,re)||{}}this.quill.deleteText(H,T.default.sources.USER),Object.keys(ee).length>0&&this.quill.formatLine(H.index,1,ee,T.default.sources.USER),this.quill.setSelection(H.index,T.default.sources.SILENT),this.quill.focus()}function $(H,X){var ee=this;H.length>0&&this.quill.scroll.deleteAt(H.index,H.length);var re=Object.keys(X.format).reduce(function(ce,we){return k.default.query(we,k.default.Scope.BLOCK)&&!Array.isArray(X.format[we])&&(ce[we]=X.format[we]),ce},{});this.quill.insertText(H.index,`
`,re,T.default.sources.USER),this.quill.setSelection(H.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(X.format).forEach(function(ce){re[ce]==null&&(Array.isArray(X.format[ce])||ce!=="link"&&ee.quill.format(ce,X.format[ce],T.default.sources.USER))})}function W(H){return{key:Y.keys.TAB,shiftKey:!H,format:{"code-block":!0},handler:function(ee){var re=k.default.query("code-block"),ce=ee.index,we=ee.length,Se=this.quill.scroll.descendant(re,ce),Ie=o(Se,2),He=Ie[0],Xe=Ie[1];if(He!=null){var _t=this.quill.getIndex(He),$t=He.newlineIndex(Xe,!0)+1,de=He.newlineIndex(_t+Xe+we),fe=He.domNode.textContent.slice($t,de).split(`
`);Xe=0,fe.forEach(function(xe,Ee){H?(He.insertAt($t+Xe,re.TAB),Xe+=re.TAB.length,Ee===0?ce+=re.TAB.length:we+=re.TAB.length):xe.startsWith(re.TAB)&&(He.deleteAt($t+Xe,re.TAB.length),Xe-=re.TAB.length,Ee===0?ce-=re.TAB.length:we-=re.TAB.length),Xe+=xe.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(ce,we,T.default.sources.SILENT)}}}}function Q(H){return{key:H[0].toUpperCase(),shortKey:!0,handler:function(ee,re){this.quill.format(H,!re.format[H],T.default.sources.USER)}}}function J(H){if(typeof H=="string"||typeof H=="number")return J({key:H});if((typeof H>"u"?"undefined":s(H))==="object"&&(H=(0,d.default)(H,!1)),typeof H.key=="string")if(Y.keys[H.key.toUpperCase()]!=null)H.key=Y.keys[H.key.toUpperCase()];else if(H.key.length===1)H.key=H.key.toUpperCase().charCodeAt(0);else return null;return H.shortKey&&(H[V]=H.shortKey,delete H.shortKey),H}r.default=Y,r.SHORTKEY=V},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(b,k){var S=[],T=!0,N=!1,O=void 0;try{for(var D=b[Symbol.iterator](),j;!(T=(j=D.next()).done)&&(S.push(j.value),!(k&&S.length===k));T=!0);}catch(R){N=!0,O=R}finally{try{!T&&D.return&&D.return()}finally{if(N)throw O}}return S}return function(b,k){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return _(b,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function _(b,k,S){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,k);if(T===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:_(N,k,S)}else{if("value"in T)return T.value;var O=T.get;return O===void 0?void 0:O.call(S)}},l=function(){function _(b,k){for(var S=0;S<k.length;S++){var T=k[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,k,S){return k&&_(b.prototype,k),S&&_(b,S),b}}(),u=i(0),d=p(u),f=i(7),h=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function m(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function y(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var w=function(_){y(b,_),l(b,null,[{key:"value",value:function(){}}]);function b(k,S){m(this,b);var T=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k));return T.selection=S,T.textNode=document.createTextNode(b.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return l(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,T){if(this._length!==0)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,S,T);for(var N=this,O=0;N!=null&&N.statics.scope!==d.default.Scope.BLOCK_BLOT;)O+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=b.CONTENTS.length,N.optimize(),N.formatAt(O,b.CONTENTS.length,S,T),this._length=0)}},{key:"index",value:function(S,T){return S===this.textNode?0:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,S,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,T=this.selection.getNativeRange(),N=void 0,O=void 0,D=void 0;if(T!=null&&T.start.node===S&&T.end.node===S){var j=[S,T.start.offset,T.end.offset];N=j[0],O=j[1],D=j[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var R=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof h.default?(N=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=b.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var I=[O,D].map(function(L){return Math.max(0,Math.min(N.data.length,L-1))}),P=s(I,2);return O=P[0],D=P[1],{startNode:N,startOffset:O,endNode:N,endOffset:D}}}}},{key:"update",value:function(S,T){var N=this;if(S.some(function(D){return D.type==="characterData"&&D.target===N.textNode})){var O=this.restore();O&&(T.range=O)}}},{key:"value",value:function(){return""}}]),b}(d.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=d(s),l=i(4),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){p(y,v);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);m.allowedChildren=[u.default,l.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function w(_,b){for(var k=0;k<b.length;k++){var S=b[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,b,k){return b&&w(_.prototype,b),k&&w(_,k),_}}(),o=function w(_,b,k){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,b);if(S===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:w(T,b,k)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(k)}},l=i(0),u=d(l);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function p(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var m=function(w){p(_,w);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(k){var S=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,k);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):S}}]),_}(u.default.Attributor.Style),v=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),y=new m("color","color",{scope:u.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=v,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(w,_){for(var b=0;b<_.length;b++){var k=_[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,_,b){return _&&y(w.prototype,_),b&&y(w,b),w}}(),o=function y(w,_,b){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,_);if(k===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,_,b)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(b)}},l=i(6),u=d(l);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function h(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return f(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(b,k){if(b!==this.statics.blotName||!k)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,b,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(b){var k=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,b);return b=this.sanitize(b),k.setAttribute("href",b),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return v(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),w}(u.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,w){var _=document.createElement("a");_.href=y;var b=_.href.slice(0,_.href.indexOf(":"));return w.indexOf(b)>-1}r.default=m,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(_,b){for(var k=0;k<b.length;k++){var S=b[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,b,k){return b&&w(_.prototype,b),k&&w(_,k),_}}(),l=i(23),u=h(l),d=i(107),f=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}var m=0;function v(w,_){w.setAttribute(_,w.getAttribute(_)!=="true")}var y=function(){function w(_){var b=this;p(this,w),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case u.default.keys.ENTER:b.togglePicker();break;case u.default.keys.ESCAPE:b.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var k=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),b.hasAttribute("value")&&S.setAttribute("data-value",b.getAttribute("value")),b.textContent&&S.setAttribute("data-label",b.textContent),S.addEventListener("click",function(){k.selectItem(S,!0)}),S.addEventListener("keydown",function(T){switch(T.keyCode){case u.default.keys.ENTER:k.selectItem(S,!0),T.preventDefault();break;case u.default.keys.ESCAPE:k.escape(),T.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=f.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(S){var T=b.buildItem(S);k.appendChild(T),S.selected===!0&&b.selectItem(T)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(k){b.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(b!==S&&(S!=null&&S.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var S=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=U(s),l=i(5),u=U(l),d=i(4),f=U(d),h=i(16),p=U(h),m=i(25),v=U(m),y=i(24),w=U(y),_=i(35),b=U(_),k=i(6),S=U(k),T=i(22),N=U(T),O=i(7),D=U(O),j=i(55),R=U(j),I=i(42),P=U(I),L=i(23),B=U(L);function U(V){return V&&V.__esModule?V:{default:V}}u.default.register({"blots/block":f.default,"blots/block/embed":d.BlockEmbed,"blots/break":p.default,"blots/container":v.default,"blots/cursor":w.default,"blots/embed":b.default,"blots/inline":S.default,"blots/scroll":N.default,"blots/text":D.default,"modules/clipboard":R.default,"modules/history":P.default,"modules/keyboard":B.default}),o.default.register(f.default,p.default,w.default,S.default,N.default,D.default),r.default=u.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function l(u){this.domNode=u,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(u){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?d=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?d=document.createElement(u):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return s.create(u)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(u,d){var f=this.isolate(u,d);f.remove()},l.prototype.formatAt=function(u,d,f,h){var p=this.isolate(u,d);if(s.query(f,s.Scope.BLOT)!=null&&h)p.wrap(f,h);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);p.wrap(m),m.format(f,h)}},l.prototype.insertAt=function(u,d,f){var h=f==null?s.create("text",d):s.create(d,f),p=this.split(u);this.parent.insertBefore(h,p)},l.prototype.insertInto=function(u,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var f=null;u.children.insertBefore(this,d),d!=null&&(f=d.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=f)&&u.domNode.insertBefore(this.domNode,f),this.parent=u,this.attach()},l.prototype.isolate=function(u,d){var f=this.split(u);return f.split(d),f},l.prototype.length=function(){return 1},l.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},l.prototype.optimize=function(u){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},l.prototype.replaceWith=function(u,d){var f=typeof u=="string"?s.create(u,d):u;return f.replace(this),f},l.prototype.split=function(u,d){return u===0?this:this.next},l.prototype.update=function(u,d){},l.prototype.wrap=function(u,d){var f=typeof u=="string"?s.create(u,d):u;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},l.blotName="abstract",l}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),l=i(33),u=i(1),d=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,p){p?h.add(this.domNode,p)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var p=s.default.keys(this.domNode),m=o.default.keys(this.domNode),v=l.default.keys(this.domNode);p.concat(m).concat(v).forEach(function(y){var w=u.query(y,u.Scope.ATTRIBUTE);w instanceof s.default&&(h.attributes[w.attrName]=w)})},f.prototype.copy=function(h){var p=this;Object.keys(this.attributes).forEach(function(m){var v=p.attributes[m].value(p.domNode);h.format(m,v)})},f.prototype.move=function(h){var p=this;this.copy(h),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=h.attributes[m].value(h.domNode),p},{})},f}();r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function l(d,f){var h=d.getAttribute("class")||"";return h.split(/\s+/).filter(function(p){return p.indexOf(f+"-")===0})}var u=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,p){return this.canAdd(h,p)?(this.remove(h),h.classList.add(this.keyName+"-"+p),!0):!1},f.prototype.remove=function(h){var p=l(h,this.keyName);p.forEach(function(m){h.classList.remove(m)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var p=l(h,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(h,m)?m:""},f}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function l(d){var f=d.split("-"),h=f.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return f[0]+h}var u=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},f.prototype.add=function(h,p){return this.canAdd(h,p)?(h.style[l(this.keyName)]=p,!0):!1},f.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var p=h.style[l(this.keyName)];return this.canAdd(h,p)?p:""},f}(o.default);r.default=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function u(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&u(d.prototype,f),h&&u(d,h),d}}();function o(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(d,f){o(this,u),this.quill=d,this.options=f,this.modules={}}return s(u,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),u}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(b,k){for(var S=0;S<k.length;S++){var T=k[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,k,S){return k&&_(b.prototype,k),S&&_(b,S),b}}(),o=function _(b,k,S){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,k);if(T===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:_(N,k,S)}else{if("value"in T)return T.value;var O=T.get;return O===void 0?void 0:O.call(S)}},l=i(0),u=h(l),d=i(7),f=h(d);function h(_){return _&&_.__esModule?_:{default:_}}function p(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function m(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function v(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y="\uFEFF",w=function(_){v(b,_);function b(k){p(this,b);var S=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(T){S.contentNode.appendChild(T)}),S.leftGuard=document.createTextNode(y),S.rightGuard=document.createTextNode(y),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return s(b,[{key:"index",value:function(S,T){return S===this.leftGuard?0:S===this.rightGuard?1:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,S,T)}},{key:"restore",value:function(S){var T=void 0,N=void 0,O=S.data.split(y).join("");if(S===this.leftGuard)if(this.prev instanceof f.default){var D=this.prev.length();this.prev.insertAt(D,O),T={startNode:this.prev.domNode,startOffset:D+O.length}}else N=document.createTextNode(O),this.parent.insertBefore(u.default.create(N),this),T={startNode:N,startOffset:O.length};else S===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,O),T={startNode:this.next.domNode,startOffset:O.length}):(N=document.createTextNode(O),this.parent.insertBefore(u.default.create(N),this.next),T={startNode:N,startOffset:O.length}));return S.data=y,T}},{key:"update",value:function(S,T){var N=this;S.forEach(function(O){if(O.type==="characterData"&&(O.target===N.leftGuard||O.target===N.rightGuard)){var D=N.restore(O.target);D&&(T.range=D)}})}}]),b}(u.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}var u={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",u),f=new o.default.Attributor.Class("align","ql-align",u),h=new o.default.Attributor.Style("align","text-align",u);r.AlignAttribute=d,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=u(s),l=i(26);function u(h){return h&&h.__esModule?h:{default:h}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=d,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}var u={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",u),f=new o.default.Attributor.Class("direction","ql-direction",u),h=new o.default.Attributor.Style("direction","direction",u);r.DirectionAttribute=d,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function _(b,k){for(var S=0;S<k.length;S++){var T=k[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,k,S){return k&&_(b.prototype,k),S&&_(b,S),b}}(),o=function _(b,k,S){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,k);if(T===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:_(N,k,S)}else{if("value"in T)return T.value;var O=T.get;return O===void 0?void 0:O.call(S)}},l=i(0),u=d(l);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function p(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var m={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new u.default.Attributor.Class("font","ql-font",m),y=function(_){p(b,_);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(S){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),b}(u.default.Attributor.Style),w=new y("font","font-family",m);r.FontStyle=w,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=u,r.SizeStyle=d},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function k(S,T){for(var N=0;N<T.length;N++){var O=T[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,T,N){return T&&k(S.prototype,T),N&&k(S,N),S}}(),o=i(0),l=p(o),u=i(5),d=p(u),f=i(9),h=p(f);function p(k){return k&&k.__esModule?k:{default:k}}function m(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function v(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function y(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var w=function(k){y(S,k);function S(T,N){m(this,S);var O=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T,N));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(d.default.events.EDITOR_CHANGE,function(D,j,R,I){D!==d.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||I===d.default.sources.USER?O.record(j,R):O.transform(j))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return s(S,[{key:"change",value:function(N,O){if(this.stack[N].length!==0){var D=this.stack[N].pop();this.stack[O].push(D),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(D[N],d.default.sources.USER),this.ignoreChange=!1;var j=b(D[N]);this.quill.setSelection(j)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,O){if(N.ops.length!==0){this.stack.redo=[];var D=this.quill.getContents().diff(O),j=Date.now();if(this.lastRecorded+this.options.delay>j&&this.stack.undo.length>0){var R=this.stack.undo.pop();D=D.compose(R.undo),N=R.redo.compose(N)}else this.lastRecorded=j;this.stack.undo.push({redo:N,undo:D}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(h.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(k){var S=k.ops[k.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(T){return l.default.query(T,l.default.Scope.BLOCK)!=null}):!1}function b(k){var S=k.reduce(function(N,O){return N+=O.delete||0,N},0),T=k.length()-S;return _(k)&&(T-=1),T}r.default=w,r.getLastChangeIndex=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function $(W,Q){for(var J=0;J<Q.length;J++){var H=Q[J];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(W,H.key,H)}}return function(W,Q,J){return Q&&$(W.prototype,Q),J&&$(W,J),W}}(),o=function $(W,Q,J){W===null&&(W=Function.prototype);var H=Object.getOwnPropertyDescriptor(W,Q);if(H===void 0){var X=Object.getPrototypeOf(W);return X===null?void 0:$(X,Q,J)}else{if("value"in H)return H.value;var ee=H.get;return ee===void 0?void 0:ee.call(J)}},l=i(3),u=j(l),d=i(2),f=j(d),h=i(8),p=j(h),m=i(23),v=j(m),y=i(34),w=j(y),_=i(59),b=j(_),k=i(60),S=j(k),T=i(28),N=j(T),O=i(61),D=j(O);function j($){return $&&$.__esModule?$:{default:$}}function R($,W){if(!($ instanceof W))throw new TypeError("Cannot call a class as a function")}function I($,W){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:$}function P($,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);$.prototype=Object.create(W&&W.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf($,W):$.__proto__=W)}var L=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],V=["1","2","3",!1],Y=["small",!1,"large","huge"],K=function($){P(W,$);function W(Q,J){R(this,W);var H=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Q,J)),X=function ee(re){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",ee);H.tooltip!=null&&!H.tooltip.root.contains(re.target)&&document.activeElement!==H.tooltip.textbox&&!H.quill.hasFocus()&&H.tooltip.hide(),H.pickers!=null&&H.pickers.forEach(function(ce){ce.container.contains(re.target)||ce.close()})};return Q.emitter.listenDOM("click",document.body,X),H}return s(W,[{key:"addModule",value:function(J){var H=o(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(H),H}},{key:"buildButtons",value:function(J,H){J.forEach(function(X){var ee=X.getAttribute("class")||"";ee.split(/\s+/).forEach(function(re){if(re.startsWith("ql-")&&(re=re.slice(3),H[re]!=null))if(re==="direction")X.innerHTML=H[re][""]+H[re].rtl;else if(typeof H[re]=="string")X.innerHTML=H[re];else{var ce=X.value||"";ce!=null&&H[re][ce]&&(X.innerHTML=H[re][ce])}})})}},{key:"buildPickers",value:function(J,H){var X=this;this.pickers=J.map(function(re){if(re.classList.contains("ql-align"))return re.querySelector("option")==null&&F(re,L),new S.default(re,H.align);if(re.classList.contains("ql-background")||re.classList.contains("ql-color")){var ce=re.classList.contains("ql-background")?"background":"color";return re.querySelector("option")==null&&F(re,B,ce==="background"?"#ffffff":"#000000"),new b.default(re,H[ce])}else return re.querySelector("option")==null&&(re.classList.contains("ql-font")?F(re,U):re.classList.contains("ql-header")?F(re,V):re.classList.contains("ql-size")&&F(re,Y)),new N.default(re)});var ee=function(){X.pickers.forEach(function(ce){ce.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,ee)}}]),W}(w.default);K.DEFAULTS=(0,u.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var J=new FileReader;J.onload=function(H){var X=W.quill.getSelection(!0);W.quill.updateContents(new f.default().retain(X.index).delete(X.length).insert({image:H.target.result}),p.default.sources.USER),W.quill.setSelection(X.index+1,p.default.sources.SILENT),Q.value=""},J.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var G=function($){P(W,$);function W(Q,J){R(this,W);var H=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Q,J));return H.textbox=H.root.querySelector('input[type="text"]'),H.listen(),H}return s(W,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(H){v.default.match(H,"enter")?(J.save(),H.preventDefault()):v.default.match(H,"escape")&&(J.cancel(),H.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),H!=null?this.textbox.value=H:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var H=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,p.default.sources.USER)),this.quill.root.scrollTop=H;break}case"video":J=M(J);case"formula":{if(!J)break;var X=this.quill.getSelection(!0);if(X!=null){var ee=X.index+X.length;this.quill.insertEmbed(ee,this.root.getAttribute("data-mode"),J,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ee+1," ",p.default.sources.USER),this.quill.setSelection(ee+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(D.default);function M($){var W=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":$}function F($,W){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(J){var H=document.createElement("option");J===Q?H.setAttribute("selected","selected"):H.setAttribute("value",J),$.appendChild(H)})}r.BaseTooltip=G,r.default=K},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var u,d=this.iterator();u=d();)if(u===l)return!0;return!1},o.prototype.insertBefore=function(l,u){l&&(l.next=u,u!=null?(l.prev=u.prev,u.prev!=null&&(u.prev.next=l),u.prev=l,u===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var u=0,d=this.head;d!=null;){if(d===l)return u;u+=d.length(),d=d.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var u=l;return l!=null&&(l=l.next),u}},o.prototype.find=function(l,u){u===void 0&&(u=!1);for(var d,f=this.iterator();d=f();){var h=d.length();if(l<h||u&&l===h&&(d.next==null||d.next.length()!==0))return[d,l];l-=h}return[null,0]},o.prototype.forEach=function(l){for(var u,d=this.iterator();u=d();)l(u)},o.prototype.forEachAt=function(l,u,d){if(!(u<=0))for(var f=this.find(l),h=f[0],p=f[1],m,v=l-p,y=this.iterator(h);(m=y())&&v<l+u;){var w=m.length();l>v?d(m,l-v,Math.min(u,v+w-l)):d(m,0,Math.min(w,l+u-v)),v+=w}},o.prototype.map=function(l){return this.reduce(function(u,d){return u.push(l(d)),u},[])},o.prototype.reduce=function(l,u){for(var d,f=this.iterator();d=f();)u=l(u,d);return u},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)m.hasOwnProperty(v)&&(p[v]=m[v])};return function(p,m){h(p,m);function v(){this.constructor=p}p.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),l=i(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,f=function(h){s(p,h);function p(m){var v=h.call(this,m)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,u),v.attach(),v}return p.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,v){this.update(),m===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):h.prototype.deleteAt.call(this,m,v)},p.prototype.formatAt=function(m,v,y,w){this.update(),h.prototype.formatAt.call(this,m,v,y,w)},p.prototype.insertAt=function(m,v,y){this.update(),h.prototype.insertAt.call(this,m,v,y)},p.prototype.optimize=function(m,v){var y=this;m===void 0&&(m=[]),v===void 0&&(v={}),h.prototype.optimize.call(this,v);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var _=function(T,N){N===void 0&&(N=!0),!(T==null||T===y)&&T.domNode.parentNode!=null&&(T.domNode[l.DATA_KEY].mutations==null&&(T.domNode[l.DATA_KEY].mutations=[]),N&&_(T.parent))},b=function(T){T.domNode[l.DATA_KEY]==null||T.domNode[l.DATA_KEY].mutations==null||(T instanceof o.default&&T.children.forEach(b),T.optimize(v))},k=m,S=0;k.length>0;S+=1){if(S>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(T){var N=l.find(T.target,!0);N!=null&&(N.domNode===T.target&&(T.type==="childList"?(_(l.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(O){var D=l.find(O,!1);_(D,!1),D instanceof o.default&&D.children.forEach(function(j){_(j,!1)})})):T.type==="attributes"&&_(N.prev)),_(N))}),this.children.forEach(b),k=[].slice.call(this.observer.takeRecords()),w=k.slice();w.length>0;)m.push(w.pop())}},p.prototype.update=function(m,v){var y=this;v===void 0&&(v={}),m=m||this.observer.takeRecords(),m.map(function(w){var _=l.find(w.target,!0);return _==null?null:_.domNode[l.DATA_KEY].mutations==null?(_.domNode[l.DATA_KEY].mutations=[w],_):(_.domNode[l.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[l.DATA_KEY]==null||w.update(w.domNode[l.DATA_KEY].mutations||[],v)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,v),this.optimize(m,v)},p.blotName="scroll",p.defaultChild="block",p.scope=l.Scope.BLOCK_BLOT,p.tagName="DIV",p}(o.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),l=i(1);function u(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var p in f)if(f[p]!==h[p])return!1;return!0}var d=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(p){if(p.tagName!==h.tagName)return f.formats.call(this,p)},h.prototype.format=function(p,m){var v=this;p===this.statics.blotName&&!m?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(h.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):f.prototype.format.call(this,p,m)},h.prototype.formatAt=function(p,m,v,y){if(this.formats()[v]!=null||l.query(v,l.Scope.ATTRIBUTE)){var w=this.isolate(p,m);w.format(v,y)}else f.prototype.formatAt.call(this,p,m,v,y)},h.prototype.optimize=function(p){f.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var v=this.next;v instanceof h&&v.prev===this&&u(m,v.formats())&&(v.moveChildren(this),v.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),l=i(1),u=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){var p=l.query(f.blotName).tagName;if(h.tagName!==p)return d.formats.call(this,h)},f.prototype.format=function(h,p){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!p?this.replaceWith(f.blotName):d.prototype.format.call(this,h,p))},f.prototype.formatAt=function(h,p,m,v){l.query(m,l.Scope.BLOCK)!=null?this.format(m,v):d.prototype.formatAt.call(this,h,p,m,v)},f.prototype.insertAt=function(h,p,m){if(m==null||l.query(p,l.Scope.INLINE)!=null)d.prototype.insertAt.call(this,h,p,m);else{var v=this.split(h),y=l.create(p,m);v.parent.insertBefore(y,v)}},f.prototype.update=function(h,p){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,h,p)},f.blotName="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),l=function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){},d.prototype.format=function(f,h){u.prototype.formatAt.call(this,0,this.length(),f,h)},d.prototype.formatAt=function(f,h,p,m){f===0&&h===this.length()?this.format(p,m):u.prototype.formatAt.call(this,f,h,p,m)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),l=i(1),u=function(d){s(f,d);function f(h){var p=d.call(this,h)||this;return p.text=p.statics.value(p.domNode),p}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var p=h.data;return p.normalize&&(p=p.normalize()),p},f.prototype.deleteAt=function(h,p){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+p)},f.prototype.index=function(h,p){return this.domNode===h?p:-1},f.prototype.insertAt=function(h,p,m){m==null?(this.text=this.text.slice(0,h)+p+this.text.slice(h),this.domNode.data=this.text):d.prototype.insertAt.call(this,h,p,m)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){d.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,p){return[this.domNode,h]},f.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=l.create(this.domNode.splitText(h));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},f.prototype.update=function(h,p){var m=this;h.some(function(v){return v.type==="characterData"&&v.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=l.Scope.INLINE_BLOT,f}(o.default);r.default=u},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,u){return arguments.length>1&&!this.contains(l)==!u?u:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,u){var d=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>d.length)&&(u=d.length),u-=l.length;var f=d.indexOf(l,u);return f!==-1&&f===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),f=d.length>>>0,h=arguments[1],p,m=0;m<f;m++)if(p=d[m],u.call(h,p,m,d))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function l(S,T,N){if(S==T)return S?[[o,S]]:[];(N<0||S.length<N)&&(N=null);var O=h(S,T),D=S.substring(0,O);S=S.substring(O),T=T.substring(O),O=p(S,T);var j=S.substring(S.length-O);S=S.substring(0,S.length-O),T=T.substring(0,T.length-O);var R=u(S,T);return D&&R.unshift([o,D]),j&&R.push([o,j]),v(R),N!=null&&(R=_(R,N)),R=b(R),R}function u(S,T){var N;if(!S)return[[s,T]];if(!T)return[[i,S]];var O=S.length>T.length?S:T,D=S.length>T.length?T:S,j=O.indexOf(D);if(j!=-1)return N=[[s,O.substring(0,j)],[o,D],[s,O.substring(j+D.length)]],S.length>T.length&&(N[0][0]=N[2][0]=i),N;if(D.length==1)return[[i,S],[s,T]];var R=m(S,T);if(R){var I=R[0],P=R[1],L=R[2],B=R[3],U=R[4],V=l(I,L),Y=l(P,B);return V.concat([[o,U]],Y)}return d(S,T)}function d(S,T){for(var N=S.length,O=T.length,D=Math.ceil((N+O)/2),j=D,R=2*D,I=new Array(R),P=new Array(R),L=0;L<R;L++)I[L]=-1,P[L]=-1;I[j+1]=0,P[j+1]=0;for(var B=N-O,U=B%2!=0,V=0,Y=0,K=0,G=0,M=0;M<D;M++){for(var F=-M+V;F<=M-Y;F+=2){var $=j+F,W;F==-M||F!=M&&I[$-1]<I[$+1]?W=I[$+1]:W=I[$-1]+1;for(var Q=W-F;W<N&&Q<O&&S.charAt(W)==T.charAt(Q);)W++,Q++;if(I[$]=W,W>N)Y+=2;else if(Q>O)V+=2;else if(U){var J=j+B-F;if(J>=0&&J<R&&P[J]!=-1){var H=N-P[J];if(W>=H)return f(S,T,W,Q)}}}for(var X=-M+K;X<=M-G;X+=2){var J=j+X,H;X==-M||X!=M&&P[J-1]<P[J+1]?H=P[J+1]:H=P[J-1]+1;for(var ee=H-X;H<N&&ee<O&&S.charAt(N-H-1)==T.charAt(O-ee-1);)H++,ee++;if(P[J]=H,H>N)G+=2;else if(ee>O)K+=2;else if(!U){var $=j+B-X;if($>=0&&$<R&&I[$]!=-1){var W=I[$],Q=j+W-$;if(H=N-H,W>=H)return f(S,T,W,Q)}}}}return[[i,S],[s,T]]}function f(S,T,N,O){var D=S.substring(0,N),j=T.substring(0,O),R=S.substring(N),I=T.substring(O),P=l(D,j),L=l(R,I);return P.concat(L)}function h(S,T){if(!S||!T||S.charAt(0)!=T.charAt(0))return 0;for(var N=0,O=Math.min(S.length,T.length),D=O,j=0;N<D;)S.substring(j,D)==T.substring(j,D)?(N=D,j=N):O=D,D=Math.floor((O-N)/2+N);return D}function p(S,T){if(!S||!T||S.charAt(S.length-1)!=T.charAt(T.length-1))return 0;for(var N=0,O=Math.min(S.length,T.length),D=O,j=0;N<D;)S.substring(S.length-D,S.length-j)==T.substring(T.length-D,T.length-j)?(N=D,j=N):O=D,D=Math.floor((O-N)/2+N);return D}function m(S,T){var N=S.length>T.length?S:T,O=S.length>T.length?T:S;if(N.length<4||O.length*2<N.length)return null;function D(Y,K,G){for(var M=Y.substring(G,G+Math.floor(Y.length/4)),F=-1,$="",W,Q,J,H;(F=K.indexOf(M,F+1))!=-1;){var X=h(Y.substring(G),K.substring(F)),ee=p(Y.substring(0,G),K.substring(0,F));$.length<ee+X&&($=K.substring(F-ee,F)+K.substring(F,F+X),W=Y.substring(0,G-ee),Q=Y.substring(G+X),J=K.substring(0,F-ee),H=K.substring(F+X))}return $.length*2>=Y.length?[W,Q,J,H,$]:null}var j=D(N,O,Math.ceil(N.length/4)),R=D(N,O,Math.ceil(N.length/2)),I;if(!j&&!R)return null;R?j?I=j[4].length>R[4].length?j:R:I=R:I=j;var P,L,B,U;S.length>T.length?(P=I[0],L=I[1],B=I[2],U=I[3]):(B=I[0],U=I[1],P=I[2],L=I[3]);var V=I[4];return[P,L,B,U,V]}function v(S){S.push([o,""]);for(var T=0,N=0,O=0,D="",j="",R;T<S.length;)switch(S[T][0]){case s:O++,j+=S[T][1],T++;break;case i:N++,D+=S[T][1],T++;break;case o:N+O>1?(N!==0&&O!==0&&(R=h(j,D),R!==0&&(T-N-O>0&&S[T-N-O-1][0]==o?S[T-N-O-1][1]+=j.substring(0,R):(S.splice(0,0,[o,j.substring(0,R)]),T++),j=j.substring(R),D=D.substring(R)),R=p(j,D),R!==0&&(S[T][1]=j.substring(j.length-R)+S[T][1],j=j.substring(0,j.length-R),D=D.substring(0,D.length-R))),N===0?S.splice(T-O,N+O,[s,j]):O===0?S.splice(T-N,N+O,[i,D]):S.splice(T-N-O,N+O,[i,D],[s,j]),T=T-N-O+(N?1:0)+(O?1:0)+1):T!==0&&S[T-1][0]==o?(S[T-1][1]+=S[T][1],S.splice(T,1)):T++,O=0,N=0,D="",j="";break}S[S.length-1][1]===""&&S.pop();var I=!1;for(T=1;T<S.length-1;)S[T-1][0]==o&&S[T+1][0]==o&&(S[T][1].substring(S[T][1].length-S[T-1][1].length)==S[T-1][1]?(S[T][1]=S[T-1][1]+S[T][1].substring(0,S[T][1].length-S[T-1][1].length),S[T+1][1]=S[T-1][1]+S[T+1][1],S.splice(T-1,1),I=!0):S[T][1].substring(0,S[T+1][1].length)==S[T+1][1]&&(S[T-1][1]+=S[T+1][1],S[T][1]=S[T][1].substring(S[T+1][1].length)+S[T+1][1],S.splice(T+1,1),I=!0)),T++;I&&v(S)}var y=l;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function w(S,T){if(T===0)return[o,S];for(var N=0,O=0;O<S.length;O++){var D=S[O];if(D[0]===i||D[0]===o){var j=N+D[1].length;if(T===j)return[O+1,S];if(T<j){S=S.slice();var R=T-N,I=[D[0],D[1].slice(0,R)],P=[D[0],D[1].slice(R)];return S.splice(O,1,I,P),[O+1,S]}else N=j}}throw new Error("cursor_pos is out of bounds!")}function _(S,T){var N=w(S,T),O=N[1],D=N[0],j=O[D],R=O[D+1];if(j==null)return S;if(j[0]!==o)return S;if(R!=null&&j[1]+R[1]===R[1]+j[1])return O.splice(D,2,R,j),k(O,D,2);if(R!=null&&R[1].indexOf(j[1])===0){O.splice(D,2,[R[0],j[1]],[0,j[1]]);var I=R[1].slice(j[1].length);return I.length>0&&O.splice(D+2,0,[R[0],I]),k(O,D,3)}else return S}function b(S){for(var T=!1,N=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},O=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},D=2;D<S.length;D+=1)S[D-2][0]===o&&O(S[D-2][1])&&S[D-1][0]===i&&N(S[D-1][1])&&S[D][0]===s&&N(S[D][1])&&(T=!0,S[D-1][1]=S[D-2][1].slice(-1)+S[D-1][1],S[D][1]=S[D-2][1].slice(-1)+S[D][1],S[D-2][1]=S[D-2][1].slice(0,-1));if(!T)return S;for(var j=[],D=0;D<S.length;D+=1)S[D][1].length>0&&j.push(S[D]);return j}function k(S,T,N){for(var O=T+N-1;O>=0&&O>=T-1;O--)if(O+1<S.length){var D=S[O],j=S[O+1];D[0]===j[1]&&S.splice(O,2,[D[0],D[1]+j[1]])}return S}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var l in s)o.push(l);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function l(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function u(){this._events=new o,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)i.call(h,p)&&f.push(s?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f,h){var p=s?s+f:f,m=this._events[p];if(h)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,w=new Array(y);v<y;v++)w[v]=m[v].fn;return w},u.prototype.emit=function(f,h,p,m,v,y){var w=s?s+f:f;if(!this._events[w])return!1;var _=this._events[w],b=arguments.length,k,S;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,p),!0;case 4:return _.fn.call(_.context,h,p,m),!0;case 5:return _.fn.call(_.context,h,p,m,v),!0;case 6:return _.fn.call(_.context,h,p,m,v,y),!0}for(S=1,k=new Array(b-1);S<b;S++)k[S-1]=arguments[S];_.fn.apply(_.context,k)}else{var T=_.length,N;for(S=0;S<T;S++)switch(_[S].once&&this.removeListener(f,_[S].fn,void 0,!0),b){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,h);break;case 3:_[S].fn.call(_[S].context,h,p);break;case 4:_[S].fn.call(_[S].context,h,p,m);break;default:if(!k)for(N=1,k=new Array(b-1);N<b;N++)k[N-1]=arguments[N];_[S].fn.apply(_[S].context,k)}}return!0},u.prototype.on=function(f,h,p){var m=new l(h,p||this),v=s?s+f:f;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],m]:this._events[v].push(m):(this._events[v]=m,this._eventsCount++),this},u.prototype.once=function(f,h,p){var m=new l(h,p||this,!0),v=s?s+f:f;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],m]:this._events[v].push(m):(this._events[v]=m,this._eventsCount++),this},u.prototype.removeListener=function(f,h,p,m){var v=s?s+f:f;if(!this._events[v])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===h&&(!m||y.once)&&(!p||y.context===p)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var w=0,_=[],b=y.length;w<b;w++)(y[w].fn!==h||m&&!y[w].once||p&&y[w].context!==p)&&_.push(y[w]);_.length?this._events[v]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=s?s+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=s,u.EventEmitter=u,typeof n<"u"&&(n.exports=u)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},o=function(){function de(fe,xe){var Ee=[],pe=!0,ot=!1,tt=void 0;try{for(var it=fe[Symbol.iterator](),Gn;!(pe=(Gn=it.next()).done)&&(Ee.push(Gn.value),!(xe&&Ee.length===xe));pe=!0);}catch(Cr){ot=!0,tt=Cr}finally{try{!pe&&it.return&&it.return()}finally{if(ot)throw tt}}return Ee}return function(fe,xe){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return de(fe,xe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function de(fe,xe){for(var Ee=0;Ee<xe.length;Ee++){var pe=xe[Ee];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(fe,pe.key,pe)}}return function(fe,xe,Ee){return xe&&de(fe.prototype,xe),Ee&&de(fe,Ee),fe}}(),u=i(3),d=P(u),f=i(2),h=P(f),p=i(0),m=P(p),v=i(5),y=P(v),w=i(10),_=P(w),b=i(9),k=P(b),S=i(36),T=i(37),N=i(13),O=P(N),D=i(26),j=i(38),R=i(39),I=i(40);function P(de){return de&&de.__esModule?de:{default:de}}function L(de,fe,xe){return fe in de?Object.defineProperty(de,fe,{value:xe,enumerable:!0,configurable:!0,writable:!0}):de[fe]=xe,de}function B(de,fe){if(!(de instanceof fe))throw new TypeError("Cannot call a class as a function")}function U(de,fe){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:de}function V(de,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);de.prototype=Object.create(fe&&fe.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(de,fe):de.__proto__=fe)}var Y=(0,_.default)("quill:clipboard"),K="__ql-matcher",G=[[Node.TEXT_NODE,$t],[Node.TEXT_NODE,He],["br",we],[Node.ELEMENT_NODE,He],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,Xe],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,_t],["li",Ie],["b",ee.bind(ee,"bold")],["i",ee.bind(ee,"italic")],["style",Se]],M=[S.AlignAttribute,j.DirectionAttribute].reduce(function(de,fe){return de[fe.keyName]=fe,de},{}),F=[S.AlignStyle,T.BackgroundStyle,D.ColorStyle,j.DirectionStyle,R.FontStyle,I.SizeStyle].reduce(function(de,fe){return de[fe.keyName]=fe,de},{}),$=function(de){V(fe,de);function fe(xe,Ee){B(this,fe);var pe=U(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,xe,Ee));return pe.quill.root.addEventListener("paste",pe.onPaste.bind(pe)),pe.container=pe.quill.addContainer("ql-clipboard"),pe.container.setAttribute("contenteditable",!0),pe.container.setAttribute("tabindex",-1),pe.matchers=[],G.concat(pe.options.matchers).forEach(function(ot){var tt=o(ot,2),it=tt[0],Gn=tt[1];!Ee.matchVisual&&Gn===Xe||pe.addMatcher(it,Gn)}),pe}return l(fe,[{key:"addMatcher",value:function(Ee,pe){this.matchers.push([Ee,pe])}},{key:"convert",value:function(Ee){if(typeof Ee=="string")return this.container.innerHTML=Ee.replace(/\>\r?\n +\</g,"><"),this.convert();var pe=this.quill.getFormat(this.quill.selection.savedRange.index);if(pe[O.default.blotName]){var ot=this.container.innerText;return this.container.innerHTML="",new h.default().insert(ot,L({},O.default.blotName,pe[O.default.blotName]))}var tt=this.prepareMatching(),it=o(tt,2),Gn=it[0],Cr=it[1],Nt=X(this.container,Gn,Cr);return J(Nt,`
`)&&Nt.ops[Nt.ops.length-1].attributes==null&&(Nt=Nt.compose(new h.default().retain(Nt.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,Nt),this.container.innerHTML="",Nt}},{key:"dangerouslyPasteHTML",value:function(Ee,pe){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof Ee=="string")this.quill.setContents(this.convert(Ee),pe),this.quill.setSelection(0,y.default.sources.SILENT);else{var tt=this.convert(pe);this.quill.updateContents(new h.default().retain(Ee).concat(tt),ot),this.quill.setSelection(Ee+tt.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(Ee){var pe=this;if(!(Ee.defaultPrevented||!this.quill.isEnabled())){var ot=this.quill.getSelection(),tt=new h.default().retain(ot.index),it=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){tt=tt.concat(pe.convert()).delete(ot.length),pe.quill.updateContents(tt,y.default.sources.USER),pe.quill.setSelection(tt.length()-ot.length,y.default.sources.SILENT),pe.quill.scrollingContainer.scrollTop=it,pe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ee=this,pe=[],ot=[];return this.matchers.forEach(function(tt){var it=o(tt,2),Gn=it[0],Cr=it[1];switch(Gn){case Node.TEXT_NODE:ot.push(Cr);break;case Node.ELEMENT_NODE:pe.push(Cr);break;default:[].forEach.call(Ee.container.querySelectorAll(Gn),function(Nt){Nt[K]=Nt[K]||[],Nt[K].push(Cr)});break}}),[pe,ot]}}]),fe}(k.default);$.DEFAULTS={matchers:[],matchVisual:!0};function W(de,fe,xe){return(typeof fe>"u"?"undefined":s(fe))==="object"?Object.keys(fe).reduce(function(Ee,pe){return W(Ee,pe,fe[pe])},de):de.reduce(function(Ee,pe){return pe.attributes&&pe.attributes[fe]?Ee.push(pe):Ee.insert(pe.insert,(0,d.default)({},L({},fe,xe),pe.attributes))},new h.default)}function Q(de){if(de.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return de[fe]||(de[fe]=window.getComputedStyle(de))}function J(de,fe){for(var xe="",Ee=de.ops.length-1;Ee>=0&&xe.length<fe.length;--Ee){var pe=de.ops[Ee];if(typeof pe.insert!="string")break;xe=pe.insert+xe}return xe.slice(-1*fe.length)===fe}function H(de){if(de.childNodes.length===0)return!1;var fe=Q(de);return["block","list-item"].indexOf(fe.display)>-1}function X(de,fe,xe){return de.nodeType===de.TEXT_NODE?xe.reduce(function(Ee,pe){return pe(de,Ee)},new h.default):de.nodeType===de.ELEMENT_NODE?[].reduce.call(de.childNodes||[],function(Ee,pe){var ot=X(pe,fe,xe);return pe.nodeType===de.ELEMENT_NODE&&(ot=fe.reduce(function(tt,it){return it(pe,tt)},ot),ot=(pe[K]||[]).reduce(function(tt,it){return it(pe,tt)},ot)),Ee.concat(ot)},new h.default):new h.default}function ee(de,fe,xe){return W(xe,de,!0)}function re(de,fe){var xe=m.default.Attributor.Attribute.keys(de),Ee=m.default.Attributor.Class.keys(de),pe=m.default.Attributor.Style.keys(de),ot={};return xe.concat(Ee).concat(pe).forEach(function(tt){var it=m.default.query(tt,m.default.Scope.ATTRIBUTE);it!=null&&(ot[it.attrName]=it.value(de),ot[it.attrName])||(it=M[tt],it!=null&&(it.attrName===tt||it.keyName===tt)&&(ot[it.attrName]=it.value(de)||void 0),it=F[tt],it!=null&&(it.attrName===tt||it.keyName===tt)&&(it=F[tt],ot[it.attrName]=it.value(de)||void 0))}),Object.keys(ot).length>0&&(fe=W(fe,ot)),fe}function ce(de,fe){var xe=m.default.query(de);if(xe==null)return fe;if(xe.prototype instanceof m.default.Embed){var Ee={},pe=xe.value(de);pe!=null&&(Ee[xe.blotName]=pe,fe=new h.default().insert(Ee,xe.formats(de)))}else typeof xe.formats=="function"&&(fe=W(fe,xe.blotName,xe.formats(de)));return fe}function we(de,fe){return J(fe,`
`)||fe.insert(`
`),fe}function Se(){return new h.default}function Ie(de,fe){var xe=m.default.query(de);if(xe==null||xe.blotName!=="list-item"||!J(fe,`
`))return fe;for(var Ee=-1,pe=de.parentNode;!pe.classList.contains("ql-clipboard");)(m.default.query(pe)||{}).blotName==="list"&&(Ee+=1),pe=pe.parentNode;return Ee<=0?fe:fe.compose(new h.default().retain(fe.length()-1).retain(1,{indent:Ee}))}function He(de,fe){return J(fe,`
`)||(H(de)||fe.length()>0&&de.nextSibling&&H(de.nextSibling))&&fe.insert(`
`),fe}function Xe(de,fe){if(H(de)&&de.nextElementSibling!=null&&!J(fe,`

`)){var xe=de.offsetHeight+parseFloat(Q(de).marginTop)+parseFloat(Q(de).marginBottom);de.nextElementSibling.offsetTop>de.offsetTop+xe*1.5&&fe.insert(`
`)}return fe}function _t(de,fe){var xe={},Ee=de.style||{};return Ee.fontStyle&&Q(de).fontStyle==="italic"&&(xe.italic=!0),Ee.fontWeight&&(Q(de).fontWeight.startsWith("bold")||parseInt(Q(de).fontWeight)>=700)&&(xe.bold=!0),Object.keys(xe).length>0&&(fe=W(fe,xe)),parseFloat(Ee.textIndent||0)>0&&(fe=new h.default().insert("	").concat(fe)),fe}function $t(de,fe){var xe=de.data;if(de.parentNode.tagName==="O:P")return fe.insert(xe.trim());if(xe.trim().length===0&&de.parentNode.classList.contains("ql-clipboard"))return fe;if(!Q(de.parentNode).whiteSpace.startsWith("pre")){var Ee=function(ot,tt){return tt=tt.replace(/[^\u00a0]/g,""),tt.length<1&&ot?" ":tt};xe=xe.replace(/\r\n/g," ").replace(/\n/g," "),xe=xe.replace(/\s\s+/g,Ee.bind(Ee,!0)),(de.previousSibling==null&&H(de.parentNode)||de.previousSibling!=null&&H(de.previousSibling))&&(xe=xe.replace(/^\s+/,Ee.bind(Ee,!1))),(de.nextSibling==null&&H(de.parentNode)||de.nextSibling!=null&&H(de.nextSibling))&&(xe=xe.replace(/\s+$/,Ee.bind(Ee,!1)))}return fe.insert(xe)}r.default=$,r.matchAttributor=re,r.matchBlot=ce,r.matchNewline=He,r.matchSpacing=Xe,r.matchText=$t},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var _=0;_<w.length;_++){var b=w[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,w,_){return w&&v(y.prototype,w),_&&v(y,_),y}}(),o=function v(y,w,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,w);if(b===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:v(k,w,_)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(_)}},l=i(6),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){p(y,v);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(_){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(u.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function I(P,L){var B=[],U=!0,V=!1,Y=void 0;try{for(var K=P[Symbol.iterator](),G;!(U=(G=K.next()).done)&&(B.push(G.value),!(L&&B.length===L));U=!0);}catch(M){V=!0,Y=M}finally{try{!U&&K.return&&K.return()}finally{if(V)throw Y}}return B}return function(P,L){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return I(P,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(P,L){for(var B=0;B<L.length;B++){var U=L[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,L,B){return L&&I(P.prototype,L),B&&I(P,B),P}}(),l=i(2),u=_(l),d=i(0),f=_(d),h=i(5),p=_(h),m=i(10),v=_(m),y=i(9),w=_(y);function _(I){return I&&I.__esModule?I:{default:I}}function b(I,P,L){return P in I?Object.defineProperty(I,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[P]=L,I}function k(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function S(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function T(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var N=(0,v.default)("quill:toolbar"),O=function(I){T(P,I);function P(L,B){k(this,P);var U=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,L,B));if(Array.isArray(U.options.container)){var V=document.createElement("div");j(V,U.options.container),L.container.parentNode.insertBefore(V,L.container),U.container=V}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var Y;return Y=N.error("Container required for toolbar",U.options),S(U,Y)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(K){U.addHandler(K,U.options.handlers[K])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(K){U.attach(K)}),U.quill.on(p.default.events.EDITOR_CHANGE,function(K,G){K===p.default.events.SELECTION_CHANGE&&U.update(G)}),U.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var K=U.quill.selection.getRange(),G=s(K,1),M=G[0];U.update(M)}),U}return o(P,[{key:"addHandler",value:function(B,U){this.handlers[B]=U}},{key:"attach",value:function(B){var U=this,V=[].find.call(B.classList,function(K){return K.indexOf("ql-")===0});if(V){if(V=V.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){N.warn("ignoring attaching to disabled format",V,B);return}if(f.default.query(V)==null){N.warn("ignoring attaching to nonexistent format",V,B);return}}var Y=B.tagName==="SELECT"?"change":"click";B.addEventListener(Y,function(K){var G=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var M=B.options[B.selectedIndex];M.hasAttribute("selected")?G=!1:G=M.value||!1}else B.classList.contains("ql-active")?G=!1:G=B.value||!B.hasAttribute("value"),K.preventDefault();U.quill.focus();var F=U.quill.selection.getRange(),$=s(F,1),W=$[0];if(U.handlers[V]!=null)U.handlers[V].call(U,G);else if(f.default.query(V).prototype instanceof f.default.Embed){if(G=prompt("Enter "+V),!G)return;U.quill.updateContents(new u.default().retain(W.index).delete(W.length).insert(b({},V,G)),p.default.sources.USER)}else U.quill.format(V,G,p.default.sources.USER);U.update(W)}),this.controls.push([V,B])}}},{key:"update",value:function(B){var U=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(V){var Y=s(V,2),K=Y[0],G=Y[1];if(G.tagName==="SELECT"){var M=void 0;if(B==null)M=null;else if(U[K]==null)M=G.querySelector("option[selected]");else if(!Array.isArray(U[K])){var F=U[K];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),M=G.querySelector('option[value="'+F+'"]')}M==null?(G.value="",G.selectedIndex=-1):M.selected=!0}else if(B==null)G.classList.remove("ql-active");else if(G.hasAttribute("value")){var $=U[K]===G.getAttribute("value")||U[K]!=null&&U[K].toString()===G.getAttribute("value")||U[K]==null&&!G.getAttribute("value");G.classList.toggle("ql-active",$)}else G.classList.toggle("ql-active",U[K]!=null)})}}]),P}(w.default);O.DEFAULTS={};function D(I,P,L){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+P),L!=null&&(B.value=L),I.appendChild(B)}function j(I,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(L){var B=document.createElement("span");B.classList.add("ql-formats"),L.forEach(function(U){if(typeof U=="string")D(B,U);else{var V=Object.keys(U)[0],Y=U[V];Array.isArray(Y)?R(B,V,Y):D(B,V,Y)}}),I.appendChild(B)})}function R(I,P,L){var B=document.createElement("select");B.classList.add("ql-"+P),L.forEach(function(U){var V=document.createElement("option");U!==!1?V.setAttribute("value",U):V.setAttribute("selected","selected"),B.appendChild(V)}),I.appendChild(B)}O.DEFAULTS={container:null,handlers:{clean:function(){var P=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function(U){f.default.query(U,f.default.Scope.INLINE)!=null&&P.quill.format(U,!1)})}else this.quill.removeFormat(L,p.default.sources.USER)},direction:function(P){var L=this.quill.getFormat().align;P==="rtl"&&L==null?this.quill.format("align","right",p.default.sources.USER):!P&&L==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",P,p.default.sources.USER)},indent:function(P){var L=this.quill.getSelection(),B=this.quill.getFormat(L),U=parseInt(B.indent||0);if(P==="+1"||P==="-1"){var V=P==="+1"?1:-1;B.direction==="rtl"&&(V*=-1),this.quill.format("indent",U+V,p.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,p.default.sources.USER)},list:function(P){var L=this.quill.getSelection(),B=this.quill.getFormat(L);P==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",P,p.default.sources.USER)}}},r.default=O,r.addControls=j},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var _=0;_<w.length;_++){var b=w[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,w,_){return w&&v(y.prototype,w),_&&v(y,_),y}}(),o=function v(y,w,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,w);if(b===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:v(k,w,_)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(_)}},l=i(28),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){p(y,v);function y(w,_){f(this,y);var b=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return b.label.innerHTML=_,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),b}return s(y,[{key:"buildItem",value:function(_){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,_);return b.style.backgroundColor=_.getAttribute("value")||"",b}},{key:"selectItem",value:function(_,b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,_,b);var k=this.label.querySelector(".ql-color-label"),S=_&&_.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=S:k.style.fill=S)}}]),y}(u.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var _=0;_<w.length;_++){var b=w[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,w,_){return w&&v(y.prototype,w),_&&v(y,_),y}}(),o=function v(y,w,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,w);if(b===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:v(k,w,_)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(_)}},l=i(28),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){p(y,v);function y(w,_){f(this,y);var b=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=_[k.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return s(y,[{key:"selectItem",value:function(_,b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,_,b),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),y}(u.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function u(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&u(d.prototype,f),h&&u(d,h),d}}();function o(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(d,f){var h=this;o(this,u),this.quill=d,this.boundsContainer=f||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,p=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>m.right&&(y=m.right-v.right,this.root.style.left=h+y+"px"),v.left<m.left&&(y=m.left-v.left,this.root.style.left=h+y+"px"),v.bottom>m.bottom){var w=v.bottom-v.top,_=f.bottom-f.top+w;this.root.style.top=p-_+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function R(I,P){var L=[],B=!0,U=!1,V=void 0;try{for(var Y=I[Symbol.iterator](),K;!(B=(K=Y.next()).done)&&(L.push(K.value),!(P&&L.length===P));B=!0);}catch(G){U=!0,V=G}finally{try{!B&&Y.return&&Y.return()}finally{if(U)throw V}}return L}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return R(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function R(I,P,L){I===null&&(I=Function.prototype);var B=Object.getOwnPropertyDescriptor(I,P);if(B===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:R(U,P,L)}else{if("value"in B)return B.value;var V=B.get;return V===void 0?void 0:V.call(L)}},l=function(){function R(I,P){for(var L=0;L<P.length;L++){var B=P[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,P,L){return P&&R(I.prototype,P),L&&R(I,L),I}}(),u=i(3),d=k(u),f=i(8),h=k(f),p=i(43),m=k(p),v=i(27),y=k(v),w=i(15),_=i(41),b=k(_);function k(R){return R&&R.__esModule?R:{default:R}}function S(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function T(R,I){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:R}function N(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(R,I):R.__proto__=I)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],D=function(R){N(I,R);function I(P,L){S(this,I),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=O);var B=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P,L));return B.quill.container.classList.add("ql-snow"),B}return l(I,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),b.default),this.tooltip=new j(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,U){L.handlers.link.call(L,!U.format.link)})}}]),I}(m.default);D.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var P=this.quill.getSelection();if(P==null||P.length==0)return;var L=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var B=this.quill.theme.tooltip;B.edit("link",L)}else this.quill.format("link",!1)}}}}});var j=function(R){N(I,R);function I(P,L){S(this,I);var B=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P,L));return B.preview=B.root.querySelector("a.ql-preview"),B}return l(I,[{key:"listen",value:function(){var L=this;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(L.linkRange!=null){var U=L.linkRange;L.restoreFocus(),L.quill.formatText(U,"link",!1,h.default.sources.USER),delete L.linkRange}B.preventDefault(),L.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(B,U,V){if(B!=null){if(B.length===0&&V===h.default.sources.USER){var Y=L.quill.scroll.descendant(y.default,B.index),K=s(Y,2),G=K[0],M=K[1];if(G!=null){L.linkRange=new w.Range(B.index-M,G.length());var F=y.default.formats(G.domNode);L.preview.textContent=F,L.preview.setAttribute("href",F),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(p.BaseTooltip);j.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=pe(s),l=i(36),u=i(38),d=i(64),f=i(65),h=pe(f),p=i(66),m=pe(p),v=i(67),y=pe(v),w=i(37),_=i(26),b=i(39),k=i(40),S=i(56),T=pe(S),N=i(68),O=pe(N),D=i(27),j=pe(D),R=i(69),I=pe(R),P=i(70),L=pe(P),B=i(71),U=pe(B),V=i(72),Y=pe(V),K=i(73),G=pe(K),M=i(13),F=pe(M),$=i(74),W=pe($),Q=i(75),J=pe(Q),H=i(57),X=pe(H),ee=i(41),re=pe(ee),ce=i(28),we=pe(ce),Se=i(59),Ie=pe(Se),He=i(60),Xe=pe(He),_t=i(61),$t=pe(_t),de=i(108),fe=pe(de),xe=i(62),Ee=pe(xe);function pe(ot){return ot&&ot.__esModule?ot:{default:ot}}o.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":k.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":d.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":b.FontClass,"formats/size":k.SizeClass,"formats/blockquote":h.default,"formats/code-block":F.default,"formats/header":m.default,"formats/list":y.default,"formats/bold":T.default,"formats/code":M.Code,"formats/italic":O.default,"formats/link":j.default,"formats/script":I.default,"formats/strike":L.default,"formats/underline":U.default,"formats/image":Y.default,"formats/video":G.default,"formats/list/item":v.ListItem,"modules/formula":W.default,"modules/syntax":J.default,"modules/toolbar":X.default,"themes/bubble":fe.default,"themes/snow":Ee.default,"ui/icons":re.default,"ui/picker":we.default,"ui/icon-picker":Xe.default,"ui/color-picker":Ie.default,"ui/tooltip":$t.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(w,_){for(var b=0;b<_.length;b++){var k=_[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,_,b){return _&&y(w.prototype,_),b&&y(w,b),w}}(),o=function y(w,_,b){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,_);if(k===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,_,b)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(b)}},l=i(0),u=d(l);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function h(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return f(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(b,k){if(k==="+1"||k==="-1"){var S=this.value(b)||0;k=k==="+1"?S+1:S-1}return k===0?(this.remove(b),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,b,k)}},{key:"canAdd",value:function(b,k){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,b,k)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,b,parseInt(k))}},{key:"value",value:function(b){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,b))||void 0}}]),w}(u.default.Attributor.Class),v=new m("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(v,y){for(var w=0;w<y.length;w++){var _=y[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,y,w){return y&&m(v.prototype,y),w&&m(v,w),v}}(),o=i(4),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),v}(l.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function S(T,N){for(var O=0;O<N.length;O++){var D=N[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,N,O){return N&&S(T.prototype,N),O&&S(T,O),T}}(),o=function S(T,N,O){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,N);if(D===void 0){var j=Object.getPrototypeOf(T);return j===null?void 0:S(j,N,O)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(O)}},l=i(0),u=m(l),d=i(4),f=m(d),h=i(25),p=m(h);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T,N){return T in S?Object.defineProperty(S,T,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[T]=N,S}function y(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function w(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function _(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var b=function(S){_(T,S);function T(){return y(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"format",value:function(O,D){O===k.blotName&&!D?this.replaceWith(u.default.create(this.statics.scope)):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,O,D)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,D){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,D),this):(this.parent.unwrap(),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,O,D))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,O)}}]),T}(f.default);b.blotName="list-item",b.tagName="LI";var k=function(S){_(T,S),s(T,null,[{key:"create",value:function(O){var D=O==="ordered"?"OL":"UL",j=o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,D);return(O==="checked"||O==="unchecked")&&j.setAttribute("data-checked",O==="checked"),j}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(N){y(this,T);var O=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,N)),D=function(R){if(R.target.parentNode===N){var I=O.statics.formats(N),P=u.default.find(R.target);I==="checked"?P.format("list","unchecked"):I==="unchecked"&&P.format("list","checked")}};return N.addEventListener("touchstart",D),N.addEventListener("mousedown",D),O}return s(T,[{key:"format",value:function(O,D){this.children.length>0&&this.children.tail.format(O,D)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,D){if(O instanceof b)o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,O,D);else{var j=D==null?this.length():D.offset(this),R=this.split(j);R.parent.insertBefore(O,R)}}},{key:"optimize",value:function(O){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,O);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&D.domNode.tagName===this.domNode.tagName&&D.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(D.moveChildren(this),D.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var D=u.default.create(this.statics.defaultChild);O.moveChildren(D),this.appendChild(D)}o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,O)}}]),T}(p.default);k.blotName="list",k.scope=u.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[b],r.ListItem=b,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var _=0;_<w.length;_++){var b=w[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,w,_){return w&&v(y.prototype,w),_&&v(y,_),y}}(),o=function v(y,w,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,w);if(b===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:v(k,w,_)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(_)}},l=i(6),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){p(y,v);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),y}(u.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var k=0;k<b.length;k++){var S=b[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,b,k){return b&&w(_.prototype,b),k&&w(_,k),_}}(),o=function w(_,b,k){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,b);if(S===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:w(T,b,k)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(k)}},l=i(0),u=f(l),d=i(27);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function p(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function m(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var v=["alt","height","width"],y=function(w){m(_,w);function _(){return h(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(k,S){v.indexOf(k)>-1?S?this.domNode.setAttribute(k,S):this.domNode.removeAttribute(k):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,k,S)}}],[{key:"create",value:function(k){var S=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,k);return typeof k=="string"&&S.setAttribute("src",this.sanitize(k)),S}},{key:"formats",value:function(k){return v.reduce(function(S,T){return k.hasAttribute(T)&&(S[T]=k.getAttribute(T)),S},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,d.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),_}(u.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var k=0;k<b.length;k++){var S=b[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,b,k){return b&&w(_.prototype,b),k&&w(_,k),_}}(),o=function w(_,b,k){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,b);if(S===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:w(T,b,k)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(k)}},l=i(4),u=i(27),d=f(u);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function p(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function m(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var v=["height","width"],y=function(w){m(_,w);function _(){return h(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(k,S){v.indexOf(k)>-1?S?this.domNode.setAttribute(k,S):this.domNode.removeAttribute(k):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,k,S)}}],[{key:"create",value:function(k){var S=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,k);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(k)),S}},{key:"formats",value:function(k){return v.reduce(function(S,T){return k.hasAttribute(T)&&(S[T]=k.getAttribute(T)),S},{})}},{key:"sanitize",value:function(k){return d.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),_}(l.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function k(S,T){for(var N=0;N<T.length;N++){var O=T[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,T,N){return T&&k(S.prototype,T),N&&k(S,N),S}}(),o=function k(S,T,N){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,T);if(O===void 0){var D=Object.getPrototypeOf(S);return D===null?void 0:k(D,T,N)}else{if("value"in O)return O.value;var j=O.get;return j===void 0?void 0:j.call(N)}},l=i(35),u=m(l),d=i(5),f=m(d),h=i(9),p=m(h);function m(k){return k&&k.__esModule?k:{default:k}}function v(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function y(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function w(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var _=function(k){w(S,k);function S(){return v(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,null,[{key:"create",value:function(N){var O=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",N)),O}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),S}(u.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var b=function(k){w(S,k),s(S,null,[{key:"register",value:function(){f.default.register(_,!0)}}]);function S(){v(this,S);var T=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return S}(p.default);r.FormulaBlot=_,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function N(O,D){for(var j=0;j<D.length;j++){var R=D[j];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,D,j){return D&&N(O.prototype,D),j&&N(O,j),O}}(),o=function N(O,D,j){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,D);if(R===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:N(I,D,j)}else{if("value"in R)return R.value;var P=R.get;return P===void 0?void 0:P.call(j)}},l=i(0),u=y(l),d=i(5),f=y(d),h=i(9),p=y(h),m=i(13),v=y(m);function y(N){return N&&N.__esModule?N:{default:N}}function w(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function _(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function b(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var k=function(N){b(O,N);function O(){return w(this,O),_(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"replaceWith",value:function(j){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,j)}},{key:"highlight",value:function(j){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=j(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),O}(v.default);k.className="ql-syntax";var S=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),T=function(N){b(O,N),s(O,null,[{key:"register",value:function(){f.default.register(S,!0),f.default.register(k,!0)}}]);function O(D,j){w(this,O);var R=_(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,D,j));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return R.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){R.highlight(),I=null},R.options.interval)}),R.highlight(),R}return s(O,[{key:"highlight",value:function(){var j=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(I){I.highlight(j.options.highlight)}),this.quill.update(f.default.sources.SILENT),R!=null&&this.quill.setSelection(R,f.default.sources.SILENT)}}}]),O}(p.default);T.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var O=window.hljs.highlightAuto(N);return O.value}}(),interval:1e3},r.CodeBlock=k,r.CodeToken=S,r.default=T},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function O(D,j,R){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,j);if(I===void 0){var P=Object.getPrototypeOf(D);return P===null?void 0:O(P,j,R)}else{if("value"in I)return I.value;var L=I.get;return L===void 0?void 0:L.call(R)}},o=function(){function O(D,j){for(var R=0;R<j.length;R++){var I=j[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,j,R){return j&&O(D.prototype,j),R&&O(D,R),D}}(),l=i(3),u=w(l),d=i(8),f=w(d),h=i(43),p=w(h),m=i(15),v=i(41),y=w(v);function w(O){return O&&O.__esModule?O:{default:O}}function _(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}function b(O,D){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:O}function k(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(O,D):O.__proto__=D)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(O){k(D,O);function D(j,R){_(this,D),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var I=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,j,R));return I.quill.container.classList.add("ql-bubble"),I}return o(D,[{key:"extendToolbar",value:function(R){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),y.default)}}]),D}(p.default);T.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(D){D?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(O){k(D,O);function D(j,R){_(this,D);var I=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,j,R));return I.quill.on(f.default.events.EDITOR_CHANGE,function(P,L,B,U){if(P===f.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&U===f.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var V=I.quill.getLines(L.index,L.length);if(V.length===1)I.position(I.quill.getBounds(L));else{var Y=V[V.length-1],K=I.quill.getIndex(Y),G=Math.min(Y.length()-1,L.index+L.length-K),M=I.quill.getBounds(new m.Range(K,G));I.position(M)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return o(D,[{key:"listen",value:function(){var R=this;s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var I=R.quill.getSelection();I!=null&&R.position(R.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var I=s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"position",this).call(this,R),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",I===0)return I;P.style.marginLeft=-1*I-P.offsetWidth/2+"px"}}]),D}(h.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=T},function(n,r,i){n.exports=i(63)}]).default})}(Tp)),Tp.exports}var Ri,A2;function $ie(){if(A2)return Ri;A2=1;var t=Ri&&Ri.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y])},f(h,p)};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Ri&&Ri.__assign||function(){return e=Object.assign||function(f){for(var h,p=1,m=arguments.length;p<m;p++){h=arguments[p];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])}return f},e.apply(this,arguments)},n=Ri&&Ri.__spreadArrays||function(){for(var f=0,h=0,p=arguments.length;h<p;h++)f+=arguments[h].length;for(var m=Array(f),v=0,h=0;h<p;h++)for(var y=arguments[h],w=0,_=y.length;w<_;w++,v++)m[v]=y[w];return m},r=Ri&&Ri.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},i=r(qm()),s=r(Q_()),o=r(Lie()),l=r(Fie()),u=function(f){t(h,f);function h(p){var m=f.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(y,w,_,b){var k,S,T,N;y==="text-change"?(S=(k=m).onEditorChangeText)===null||S===void 0||S.call(k,m.editor.root.innerHTML,w,b,m.unprivilegedEditor):y==="selection-change"&&((N=(T=m).onEditorChangeSelection)===null||N===void 0||N.call(T,w,b,m.unprivilegedEditor))};var v=m.isControlled()?p.value:p.defaultValue;return m.value=v??"",m}return h.prototype.validateProps=function(p){var m;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var v=i.default.Children.only(p.children);if(((m=v)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},h.prototype.shouldComponentUpdate=function(p,m){var v=this,y;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var w=this.getEditorContents(),_=(y=p.value,y??"");this.isEqualValue(_,w)||this.setEditorContents(this.editor,_)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),n(this.cleanProps,this.dirtyProps).some(function(b){return!o.default(p[b],v.props[b])})},h.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(v){return!o.default(p[v],m.props[v])})},h.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},h.prototype.componentWillUnmount=function(){this.destroyEditor()},h.prototype.componentDidUpdate=function(p,m){var v=this;if(this.editor&&this.shouldComponentRegenerate(p)){var y=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var _=this.regenerationSnapshot,y=_.delta,b=_.selection;delete this.regenerationSnapshot,this.instantiateEditor();var k=this.editor;k.setContents(y),d(function(){return v.setEditorSelection(k,b)})}},h.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},h.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},h.prototype.isControlled=function(){return"value"in this.props},h.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},h.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},h.prototype.createEditor=function(p,m){var v=new l.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(v,m.tabIndex),this.hookEditor(v),v},h.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},h.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},h.prototype.getEditorContents=function(){return this.value},h.prototype.getEditorSelection=function(){return this.selection},h.prototype.isDelta=function(p){return p&&p.ops},h.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?o.default(p.ops,m.ops):o.default(p,m)},h.prototype.setEditorContents=function(p,m){var v=this;this.value=m;var y=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),d(function(){return v.setEditorSelection(p,y)})},h.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var v=p.getLength();m.index=Math.max(0,Math.min(m.index,v-1)),m.length=Math.max(0,Math.min(m.length,v-1-m.index)),p.setSelection(m)}},h.prototype.setEditorTabIndex=function(p,m){var v,y;!((y=(v=p)===null||v===void 0?void 0:v.scroll)===null||y===void 0)&&y.domNode&&(p.scroll.domNode.tabIndex=m)},h.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},h.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},h.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=s.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},h.prototype.renderEditingArea=function(){var p=this,m=this.props,v=m.children,y=m.preserveWhitespace,w=this.state.generation,_={key:w,ref:function(b){p.editingArea=b}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),_):y?i.default.createElement("pre",e({},_)):i.default.createElement("div",e({},_))},h.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},h.prototype.onEditorChangeText=function(p,m,v,y){var w,_;if(this.editor){var b=this.isDelta(this.value)?y.getContents():y.getHTML();b!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=b,(_=(w=this.props).onChange)===null||_===void 0||_.call(w,p,m,v,y))}},h.prototype.onEditorChangeSelection=function(p,m,v){var y,w,_,b,k,S;if(this.editor){var T=this.getEditorSelection(),N=!T&&p,O=T&&!p;o.default(p,T)||(this.selection=p,(w=(y=this.props).onChangeSelection)===null||w===void 0||w.call(y,p,m,v),N?(b=(_=this.props).onFocus)===null||b===void 0||b.call(_,p,m,v):O&&((S=(k=this.props).onBlur)===null||S===void 0||S.call(k,T,m,v)))}},h.prototype.focus=function(){this.editor&&this.editor.focus()},h.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},h.displayName="React Quill",h.Quill=l.default,h.defaultProps={theme:"snow",modules:{},readOnly:!1},h}(i.default.Component);function d(f){Promise.resolve().then(f)}return Ri=u,Ri}var Bie=$ie();const Vie=Ud(Bie),bF=({placeholder:t,text:e,setText:n})=>{const r=z.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large"]}],[{color:[]}],["italic","underline","blockquote","bold"],[{list:"ordered"},{list:"bullet"}],["link"]]}}),[]);return x.jsx(Vie,{value:e,onChange:n,modules:r,placeholder:t,className:"mb-2 w-full rounded-xl border-0 bg-white scrollbar-hide"})};function Uie({postType:t,post:e,collName:n}){const{onEditedSubmit:r,editedText:i,setEditedText:s}=Ine({post:e,collName:n});return x.jsx(ki,{title:`${t} 수정`,children:x.jsxs("form",{onSubmit:r,children:[x.jsx(bF,{placeholder:"수정할 텍스트를 작성해주세요.",text:i,setText:s}),x.jsx(at,{name:"수정하기",type:"submit",className:"ml-auto"})]})})}function qie({collName:t,postType:e,post:n}){const{showModal:r}=Ht(),i=()=>r({element:x.jsx(Uie,{postType:e,post:n,collName:t})});return x.jsx(x.Fragment,{children:x.jsx("button",{onClick:i,children:x.jsx(oE,{fontSize:14,stroke:"#aaa"})})})}const _F=({collName:t,post:e,postType:n})=>x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(qie,{collName:t,post:e,postType:n}),x.jsx(xre,{docId:e.id,collName:t})]}),Hie=({postId:t,postType:e})=>{const{uid:n}=Fe(gt),r=Fe(pl),[i,s]=z.useState({}),{docId:o,monthId:l}=t,{showModal:u}=Ht(),d=()=>{if(e==="발제문")return Pr(l,Rd);if(e==="모임 후기")return Pr(l,QS);if(e==="정리 기록")return Pr(l,Pd)};z.useEffect(()=>{o&&ir(d(),o,s)},[]);const{thumbnail:f,title:h,createdAt:p,creatorId:m,text:v}=i,y=n===m,w=r==null?void 0:r.find(b=>b.id===m),_=y?"나":w==null?void 0:w.displayName;return x.jsx(x.Fragment,{children:hl(i)&&x.jsx("button",{type:"button",onClick:()=>u({element:x.jsx(ki,{title:`${_}의 ${e}`,children:x.jsxs("div",{className:"overflow-scroll",children:[x.jsx(uF,{text:v}),x.jsx("div",{className:"mb-4 mt-10 flex justify-end",children:n===m&&x.jsx(_F,{post:i,collName:d(),postType:e})}),x.jsx(Xg,{createdAt:p,footerType:"likes",post:i})]})})}),className:"w-full overflow-hidden rounded-md shadow-card",children:x.jsx(In,{thumbnail:f,title:h,className:"max-h-60 w-full"})})})};function zie({userRecords:t,postType:e}){const n=(t==null?void 0:t.subjects)||[],r=(t==null?void 0:t.hostReviews)||[],i=(t==null?void 0:t.reviews)||[],s={발제문:n,"모임 후기":i,"정리 기록":r};return x.jsx("ul",{className:"grid grid-cols-7 gap-8 max-md:grid-cols-6 max-sm:grid-cols-4 max-sm:gap-4",children:s[e].length!==0?s[e].map(o=>x.jsx(Hie,{postId:o,postType:e},o.docId)):x.jsxs("span",{children:["아직 작성한 ",e,"가 없어요."]})})}function Wie(t){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Yie(t){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Gie(t){return rt({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"},child:[]}]})(t)}function Hn({text:t,color:e="blue",children:n,shape:r="square",className:i,onClick:s}){const o={blue:"bg-blue1 text-white",lightBlue:"bg-blue-200 text-text",yellow:"bg-yellow-200 text-white",purple:"bg-purple3 text-text",lightGreen:"bg-green3 text-text",green:"bg-pointGreen text-text",red:"bg-pointCoral text-white",lightGray:"bg-white text-gray1"},l={rounded:"rounded-full",square:"rounded-lg"};return s?x.jsx("button",{type:"button",onClick:s,children:x.jsxs("div",{className:`text-sm ${l[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-3.5 py-2 shadow-card ${i}`,children:[x.jsx("span",{children:t&&t}),n&&n]})}):x.jsxs("div",{className:`text-sm ${l[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-3.5 py-2 shadow-card ${i}`,children:[x.jsx("span",{children:t&&t}),n&&n]})}function Kie({currentPage:t,wholePage:e,isEnd:n}){const r=`${mm(t,e).toFixed(0)}%`;return x.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[x.jsx("div",{className:"flex h-[14px] w-full items-center rounded-2xl border border-blue2 p-0.5",children:x.jsx("div",{style:{width:r},className:`relative h-full rounded-3xl ${r==="100%"?"w-full bg-green1":"bg-yellow-300"}`,children:x.jsx(Gie,{className:"absolute -right-1 bottom-0.5 fill-gray1",fontSize:14})})}),r==="100%"&&x.jsx(Hn,{text:"🚀 챌린지 성공",color:"green",className:"ml-auto min-w-fit font-medium"}),r!=="100%"&&n&&x.jsx(Hn,{text:"😭 챌린지 실패",color:"red",className:"ml-auto min-w-fit font-medium"})]})}function Js({authors:t,publisher:e}){return x.jsxs("span",{className:"line-clamp-1 truncate whitespace-pre-wrap text-gray1",children:[t.length!==0?x.jsxs("span",{children:[t[0],t.length!==1&&`(외 ${t.length-1}명)`]}):x.jsx("span",{className:"text-gray1",children:"정보 없음"}),e&&x.jsxs("span",{children:[" ・ ",e]})]})}function Qie({currentPage:t,wholePage:e}){const n=mm(t,e);return x.jsxs("span",{className:"text-[13px] font-medium text-gray1",children:[t,"p / ",e,"p (",n.toFixed(0),"%)"]})}function Xie({docId:t,creatorId:e,challengeBook:n}){const{title:r,thumbnail:i,authors:s,publisher:o,wholePage:l,currentPage:u}=n,[d]=z.useState(u),{uid:f}=Fe(gt),{pathname:h}=jn(),p=rn(Gt,Qa,t),m=async()=>{window.confirm("정말로 삭제하시겠어요?")&&await Ng(p)};return x.jsx("li",{className:"relative flex",children:x.jsxs("div",{className:"relative flex-1 rounded-xl bg-white px-4 pb-3 pt-4 opacity-80 shadow-card",children:[x.jsxs("div",{className:"flex h-32 gap-4",children:[x.jsx(In,{title:r,thumbnail:i}),x.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[x.jsxs("div",{className:"mb-2 flex items-center",children:[x.jsx(li,{userId:e,tag:!0}),x.jsx("span",{className:"text-sm",children:" 의 챌린지!"})]}),x.jsxs("h3",{className:"mb-1 font-medium",children:[r," ",x.jsx("span",{className:"text-sm font-normal text-gray1",children:"완독하기"})]}),x.jsx(Js,{authors:s,publisher:o}),x.jsx("div",{className:"mt-auto",children:x.jsx(Qie,{currentPage:d,wholePage:l})})]}),h==="/challenge"&&f===e&&x.jsx("div",{className:"absolute right-3 top-3 flex gap-3",children:x.jsx("button",{type:"button",onClick:m,children:x.jsx(vf,{fontSize:15})})})]}),x.jsx(Kie,{currentPage:d,wholePage:l,isEnd:!0})]})})}const js=({text:t,color:e="gray",icon:n=!0})=>{const r={red:"text-pointCoral stroke-pointCoral",green:"text-green1 stroke-green1",gray:"text-gray1 stroke-gray1"};return x.jsxs("div",{className:"mb-2 gap-1",children:[n&&(e==="red"?x.jsx(ere,{className:`mb-0.5 inline text-base ${r[e]}`}):x.jsx(fre,{className:`mb-0.5 inline text-base ${r[e]}`})),x.jsx("span",{className:`ml-1 text-base leading-6 ${r[e]}`,children:t})]})},yf=({className:t})=>x.jsx("div",{className:`col-span-full flex w-[70vh] items-center justify-center ${t}`,children:"로딩중..."}),ym=({title:t,className:e})=>x.jsx("h3",{className:`flex w-fit items-center text-[17px] font-medium text-darkBlue2 ${e}`,children:t});function Vt({children:t,title:e,titleBtn:n,className:r=""}){return x.jsxs("section",{className:`relative mb-20 mt-2.5 flex flex-col max-md:mb-16 ${r}`,children:[e&&(n?x.jsxs("div",{className:"mb-2 flex items-center justify-between px-1",children:[x.jsx(ym,{title:e}),n]}):x.jsx(ym,{title:e,className:"mb-2 pl-1"})),t]})}function Jie({photoURL:t,displayName:e}){const n=i=>(i.preventDefault(),i.stopPropagation(),!1),r="size-40 rounded-full bg-white shadow-card";return x.jsxs("div",{className:"flex flex-col items-center justify-between",children:[t?x.jsx("img",{onContextMenu:n,src:t,alt:`${e}의 프로필 이미지`,className:`object-cover ${r}`}):x.jsx("div",{className:`flex items-center justify-center ${r}`,children:x.jsx(uE,{className:"size-1/2",stroke:"#aaa"})}),x.jsx("span",{className:"mt-4",children:e})]})}const P2=()=>{var y;const[t,e]=Yt(lF),{state:n}=jn(),{absenteeList:r}=Fe(X4(+zr)),{uid:i}=Fe(gt),o=Fe(pl).find(w=>w.id===n.userId),{id:l,photoURL:u,favoriteBookField:d,userRecords:f,displayName:h}=o||{},p=i===l,m=p?"나":h,v=r.includes(n.userId);return z.useEffect(()=>{(t==null?void 0:t.creatorId)!==l&&l&&ir(Qa,`2024-${l}`,e)},[l]),x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`${m}의 책장`,backBtn:!p,children:p&&x.jsx(vr,{to:"/setting",children:x.jsx(pre,{fontSize:18})})}),o&&x.jsxs("main",{children:[x.jsxs(Vt,{children:[x.jsx(Jie,{photoURL:u,displayName:h}),x.jsx("div",{className:"mt-2.5 flex flex-col items-center gap-1",children:v?x.jsx(Hn,{text:"🔴 이번달 불참",color:"red",shape:"square"}):x.jsx(Hn,{text:"✅ 이번달 출석",color:"green",shape:"square"})})]}),x.jsx(Vt,{title:`${m}의 독서 분야 취향`,children:x.jsx("ul",{className:"flex min-h-14 flex-wrap gap-2",children:d&&(d==null?void 0:d.length)!==0?d.map(({id:w,name:_})=>x.jsx(Hn,{text:_,color:"lightBlue",shape:"rounded"},w)):x.jsx(yf,{className:"h-[12vh]"})})}),(t==null?void 0:t.books)&&x.jsx(Vt,{title:`${m}의 2024 챌린지 히스토리`,children:x.jsx("ul",{className:"grid grid-cols-2 gap-4 max-sm:flex max-sm:flex-col",children:(y=t==null?void 0:t.books)==null?void 0:y.map(w=>x.jsx(Xie,{challengeBook:w,creatorId:t.creatorId,docId:`2024-${t.creatorId}`},w.title))})}),["발제문","정리 기록","모임 후기"].map(w=>x.jsxs(Vt,{title:`${m}의 ${w}`,children:[x.jsx(js,{text:"2022년 6월 이후의 기록이 제공됩니다."}),x.jsx(zie,{userRecords:f,postType:w})]},w))]})]})};function R2(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function pE(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:R2(e[n])&&R2(t[n])&&Object.keys(e[n]).length>0&&pE(t[n],e[n])})}const xF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function wi(){const t=typeof document<"u"?document:{};return pE(t,xF),t}const Zie={document:xF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Tr(){const t=typeof window<"u"?window:{};return pE(t,Zie),t}function To(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function ese(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function wm(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function bm(){return Date.now()}function tse(t){const e=Tr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function nse(t,e){e===void 0&&(e="x");const n=Tr();let r,i,s;const o=tse(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function np(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function rse(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Zr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!rse(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const l=i[s],u=Object.getOwnPropertyDescriptor(r,l);u!==void 0&&u.enumerable&&(np(t[l])&&np(r[l])?r[l].__swiper__?t[l]=r[l]:Zr(t[l],r[l]):!np(t[l])&&np(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Zr(t[l],r[l])):t[l]=r[l])}}}return t}function rp(t,e,n){t.style.setProperty(e,n)}function SF(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Tr(),s=-e.translate;let o=null,l;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=n>s?"next":"prev",f=(p,m)=>d==="next"&&p>=m||d==="prev"&&p<=m,h=()=>{l=new Date().getTime(),o===null&&(o=l);const p=Math.max(Math.min((l-o)/u,1),0),m=.5-Math.cos(p*Math.PI)/2;let v=s+m*(n-s);if(f(v,n)&&(v=n),e.wrapperEl.scrollTo({[r]:v}),f(v,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:v})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function us(t,e){e===void 0&&(e="");const n=Tr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function ise(t,e){var r,i;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((r=s.shadowRoot)==null?void 0:r.children)||[],...((i=s.assignedElements)==null?void 0:i.call(s))||[])}}function sse(t,e){const n=Tr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=ise(t,e))),r}function _m(t){try{console.warn(t);return}catch{}}function Ld(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:To(e)),n}function ose(t){const e=Tr(),n=wi(),r=t.getBoundingClientRect(),i=n.body,s=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,l=t===e?e.scrollY:t.scrollTop,u=t===e?e.scrollX:t.scrollLeft;return{top:r.top+l-s,left:r.left+u-o}}function ase(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function lse(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Mo(t,e){return Tr().getComputedStyle(t,null).getPropertyValue(e)}function xm(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function EF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function P_(t,e,n){const r=Tr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Rn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let l1;function use(){const t=Tr(),e=wi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function kF(){return l1||(l1=use()),l1}let u1;function cse(t){let{userAgent:e}=t===void 0?{}:t;const n=kF(),r=Tr(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,u=r.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let f=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!f&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let v=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&v&&n.touch&&y.indexOf(`${l}x${u}`)>=0&&(f=s.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),v=!1),d&&!m&&(o.os="android",o.android=!0),(f||p||h)&&(o.os="ios",o.ios=!0),o}function TF(t){return t===void 0&&(t={}),u1||(u1=cse(t)),u1}let c1;function dse(){const t=Tr(),e=TF();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[u,d]=l.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));n=u<16||u===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function fse(){return c1||(c1=dse()),c1}function hse(t){let{swiper:e,on:n,emit:r}=t;const i=Tr();let s=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:p,height:m}=e;let v=p,y=m;h.forEach(w=>{let{contentBoxSize:_,contentRect:b,target:k}=w;k&&k!==e.el||(v=b?b.width:(_[0]||_).inlineSize,y=b?b.height:(_[0]||_).blockSize)}),(v!==p||y!==m)&&l()})}),s.observe(e.el))},d=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},f=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",f)}),n("destroy",()=>{d(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",f)})}function pse(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Tr(),l=function(f,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(v=>{if(e.__preventObserver__)return;if(v.length===1){i("observerUpdate",v[0]);return}const y=function(){i("observerUpdate",v[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(f,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(m)},u=()=>{if(e.params.observer){if(e.params.observeParents){const f=EF(e.hostEl);for(let h=0;h<f.length;h+=1)l(f[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{s.forEach(f=>{f.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",u),r("destroy",d)}var mse={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[u,...n])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(d=>{d.apply(r,n)})}),t}};function gse(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Mo(r,"padding-left")||0,10)-parseInt(Mo(r,"padding-right")||0,10),n=n-parseInt(Mo(r,"padding-top")||0,10)-parseInt(Mo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function vse(){const t=this;function e(R,I){return parseFloat(R.getPropertyValue(t.getDirectionLabel(I))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:l}=t,u=t.virtual&&n.virtual.enabled,d=u?t.virtual.slides.length:t.slides.length,f=us(i,`.${t.params.slideClass}, swiper-slide`),h=u?t.virtual.slides.length:f.length;let p=[];const m=[],v=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const _=t.snapGrid.length,b=t.slidesGrid.length;let k=n.spaceBetween,S=-y,T=0,N=0;if(typeof s>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*s:typeof k=="string"&&(k=parseFloat(k)),t.virtualSize=-k,f.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(rp(r,"--swiper-centered-offset-before",""),rp(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(f):t.grid&&t.grid.unsetSlides();let D;const j=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<h;R+=1){D=0;let I;if(f[R]&&(I=f[R]),O&&t.grid.updateSlide(R,I,f),!(f[R]&&Mo(I,"display")==="none")){if(n.slidesPerView==="auto"){j&&(f[R].style[t.getDirectionLabel("width")]="");const P=getComputedStyle(I),L=I.style.transform,B=I.style.webkitTransform;if(L&&(I.style.transform="none"),B&&(I.style.webkitTransform="none"),n.roundLengths)D=t.isHorizontal()?P_(I,"width"):P_(I,"height");else{const U=e(P,"width"),V=e(P,"padding-left"),Y=e(P,"padding-right"),K=e(P,"margin-left"),G=e(P,"margin-right"),M=P.getPropertyValue("box-sizing");if(M&&M==="border-box")D=U+K+G;else{const{clientWidth:F,offsetWidth:$}=I;D=U+V+Y+K+G+($-F)}}L&&(I.style.transform=L),B&&(I.style.webkitTransform=B),n.roundLengths&&(D=Math.floor(D))}else D=(s-(n.slidesPerView-1)*k)/n.slidesPerView,n.roundLengths&&(D=Math.floor(D)),f[R]&&(f[R].style[t.getDirectionLabel("width")]=`${D}px`);f[R]&&(f[R].swiperSlideSize=D),v.push(D),n.centeredSlides?(S=S+D/2+T/2+k,T===0&&R!==0&&(S=S-s/2-k),R===0&&(S=S-s/2-k),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),N%n.slidesPerGroup===0&&p.push(S),m.push(S)):(n.roundLengths&&(S=Math.floor(S)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&p.push(S),m.push(S),S=S+D+k),t.virtualSize+=D+k,T=D,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+k}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+k}px`),O&&t.grid.updateWrapperSize(D,p),!n.centeredSlides){const R=[];for(let I=0;I<p.length;I+=1){let P=p[I];n.roundLengths&&(P=Math.floor(P)),p[I]<=t.virtualSize-s&&R.push(P)}p=R,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(u&&n.loop){const R=v[0]+k;if(n.slidesPerGroup>1){const I=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),P=R*n.slidesPerGroup;for(let L=0;L<I;L+=1)p.push(p[p.length-1]+P)}for(let I=0;I<t.virtual.slidesBefore+t.virtual.slidesAfter;I+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+R),m.push(m[m.length-1]+R),t.virtualSize+=R}if(p.length===0&&(p=[0]),k!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");f.filter((I,P)=>!n.cssMode||n.loop?!0:P!==f.length-1).forEach(I=>{I.style[R]=`${k}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;v.forEach(P=>{R+=P+(k||0)}),R-=k;const I=R>s?R-s:0;p=p.map(P=>P<=0?-y:P>I?I+w:P)}if(n.centerInsufficientSlides){let R=0;v.forEach(P=>{R+=P+(k||0)}),R-=k;const I=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+I<s){const P=(s-R-I)/2;p.forEach((L,B)=>{p[B]=L-P}),m.forEach((L,B)=>{m[B]=L+P})}}if(Object.assign(t,{slides:f,snapGrid:p,slidesGrid:m,slidesSizesGrid:v}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){rp(r,"--swiper-centered-offset-before",`${-p[0]}px`),rp(r,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);const R=-t.snapGrid[0],I=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(P=>P+R),t.slidesGrid=t.slidesGrid.map(P=>P+I)}if(h!==d&&t.emit("slidesLengthChange"),p.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==b&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,I=t.el.classList.contains(R);h<=n.maxBackfaceHiddenSlides?I||t.el.classList.add(R):I&&t.el.classList.remove(R)}}function yse(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function wse(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const M2=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function bse(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let u=0;u<r.length;u+=1){const d=r[u];let f=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(f-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+l),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+l),m=-(o-f),v=m+e.slidesSizesGrid[u],y=m>=0&&m<=e.size-e.slidesSizesGrid[u],w=m>=0&&m<e.size-1||v>1&&v<=e.size||m<=0&&v>=e.size;w&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(u)),M2(d,w,n.slideVisibleClass),M2(d,y,n.slideFullyVisibleClass),d.progress=i?-h:h,d.originalProgress=i?-p:p}}function _se(t){const e=this;if(typeof t>"u"){const f=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*f||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:l}=e;const u=s,d=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const f=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=f||i<=0,o=h||i>=1,f&&(i=0),h&&(i=1)}if(n.loop){const f=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[f],m=e.slidesGrid[h],v=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?l=(y-p)/v:l=(y+v-m)/v,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(u&&!s||d&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const d1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function xse(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>us(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let u,d,f;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),u=l(`[data-swiper-slide-index="${h}"]`)}else u=l(`[data-swiper-slide-index="${i}"]`);else o?(u=e.find(h=>h.column===i),f=e.find(h=>h.column===i+1),d=e.find(h=>h.column===i-1)):u=e[i];u&&(o||(f=lse(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f&&(f=e[0]),d=ase(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(h=>{d1(h,h===u,n.slideActiveClass),d1(h,h===f,n.slideNextClass),d1(h,h===d,n.slidePrevClass)}),t.emitSlidesClasses()}const Cp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},f1=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},R_=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,l=[o-e];l.push(...Array.from({length:e}).map((u,d)=>o+r+d)),t.slides.forEach((u,d)=>{l.includes(u.column)&&f1(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const l=(o%n+n)%n;(l<i||l>s)&&f1(t,l)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&f1(t,o)};function Sse(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Ese(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:l}=e;let u=t,d;const f=m=>{let v=m-e.virtual.slidesBefore;return v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),v};if(typeof u>"u"&&(u=Sse(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,u);d=m+Math.floor((u-m)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),u===s&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(u===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(u);return}const h=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=f(u);else if(h){const m=e.slides.find(y=>y.column===u);let v=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(v)&&(v=Math.max(e.slides.indexOf(m),0)),p=Math.floor(v/i.grid.rows)}else if(e.slides[u]){const m=e.slides[u].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=u}else p=u;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:u}),e.initialized&&R_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function kse(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,o;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,o=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Tse={updateSize:gse,updateSlides:vse,updateAutoHeight:yse,updateSlidesOffset:wse,updateSlidesProgress:bse,updateProgress:_se,updateSlidesClasses:xse,updateActiveIndex:Ese,updateClickedSlide:kse};function Cse(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=nse(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function Ose(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let l=0,u=0;const d=0;n.isHorizontal()?l=r?-t:t:u=t,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${u}px, ${d}px)`);let f;const h=n.maxTranslate()-n.minTranslate();h===0?f=0:f=(t-n.minTranslate())/h,f!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Nse(){return-this.snapGrid[0]}function Dse(){return-this.snapGrid[this.snapGrid.length-1]}function Ise(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:l}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const u=s.minTranslate(),d=s.maxTranslate();let f;if(r&&t>u?f=u:r&&t<d?f=d:f=t,s.updateProgress(f),o.cssMode){const h=s.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return SF({swiper:s,targetPosition:-f,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var Ase={getTranslate:Cse,setTranslate:Ose,minTranslate:Nse,maxTranslate:Dse,translateTo:Ise};function Pse(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function CF(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let l=r;if(l||(s>o?l="next":s<o?l="prev":l="reset"),e.emit(`transition${i}`),n&&s!==o){if(l==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function Rse(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),CF({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Mse(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),CF({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Lse={setTransition:Pse,transitionStart:Rse,transitionEnd:Mse};function jse(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:u,slidesGrid:d,previousIndex:f,activeIndex:h,rtlTranslate:p,wrapperEl:m,enabled:v}=s;if(!v&&!r&&!i||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let w=y+Math.floor((o-y)/s.params.slidesPerGroup);w>=u.length&&(w=u.length-1);const _=-u[w];if(l.normalizeSlideIndex)for(let T=0;T<d.length;T+=1){const N=-Math.floor(_*100),O=Math.floor(d[T]*100),D=Math.floor(d[T+1]*100);typeof d[T+1]<"u"?N>=O&&N<D-(D-O)/2?o=T:N>=O&&N<D&&(o=T+1):N>=O&&(o=T)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(p?_>s.translate&&_>s.minTranslate():_<s.translate&&_<s.minTranslate())||!s.allowSlidePrev&&_>s.translate&&_>s.maxTranslate()&&(h||0)!==o))return!1;o!==(f||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(_);let b;o>h?b="next":o<h?b="prev":b="reset";const k=s.virtual&&s.params.virtual.enabled;if(!(k&&i)&&(p&&-_===s.translate||!p&&_===s.translate))return s.updateActiveIndex(o),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(_),b!=="reset"&&(s.transitionStart(n,b),s.transitionEnd(n,b)),!1;if(l.cssMode){const T=s.isHorizontal(),N=p?_:-_;if(e===0)k&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),k&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[T?"scrollLeft":"scrollTop"]=N})):m[T?"scrollLeft":"scrollTop"]=N,k&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return SF({swiper:s,targetPosition:N,side:T?"left":"top"}),!0;m.scrollTo({[T?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(_),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,b),e===0?s.transitionEnd(n,b):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,b))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Fse(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let l;if(s){const p=o*i.params.grid.rows;l=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else l=i.getSlideIndexByData(o);const u=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let f=i.params.slidesPerView;f==="auto"?f=i.slidesPerViewDynamic():(f=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&f%2===0&&(f=f+1));let h=u-l<f;if(d&&(h=h||l<Math.ceil(f/2)),r&&d&&i.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const p=d?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?l+1:l-u+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(s){const p=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function $se(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:l,d=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function Bse(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:l,enabled:u,animating:d}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const f=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!f&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function p(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const m=p(h),v=s.map(_=>p(_));let y=s[v.indexOf(m)-1];if(typeof y>"u"&&i.cssMode){let _;s.forEach((b,k)=>{m>=b&&(_=k)}),typeof _<"u"&&(y=s[_>0?_-1:_])}let w=0;if(typeof y<"u"&&(w=o.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const _=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(_,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function Vse(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Use(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),l=o+Math.floor((s-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[l]){const d=i.snapGrid[l],f=i.snapGrid[l+1];u-d>(f-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],f=i.snapGrid[l];u-d<=(f-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function qse(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(us(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),wm(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(us(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),wm(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var Hse={slideTo:jse,slideToLoop:Fse,slideNext:$se,slidePrev:Bse,slideReset:Vse,slideToClosest:Use,slideToClickedSlide:qse};function zse(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{us(r,`.${n.slideClass}, swiper-slide`).forEach((h,p)=>{h.setAttribute("data-swiper-slide-index",p)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),l=e.slides.length%o!==0,u=s&&e.slides.length%n.grid.rows!==0,d=f=>{for(let h=0;h<f;h+=1){const p=e.isElement?Ld("swiper-slide",[n.slideBlankClass]):Ld("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(l){if(n.loopAddBlankSlides){const f=o-e.slides.length%o;d(f),e.recalcSlides(),e.updateSlides()}else _m("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(u){if(n.loopAddBlankSlides){const f=n.grid.rows-e.slides.length%n.grid.rows;d(f),e.recalcSlides(),e.updateSlides()}else _m("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Wse(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:h,slidesEl:p,params:m}=u,{centeredSlides:v}=m;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):m.centeredSlides&&u.snapIndex<m.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=h,u.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=u.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),v&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let _=w;_%w!==0&&(_+=w-_%w),_+=m.loopAdditionalSlides,u.loopedSlides=_;const b=u.grid&&m.grid&&m.grid.rows>1;d.length<y+_?_m("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&m.grid.fill==="row"&&_m("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],S=[];let T=u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(L=>L.classList.contains(m.slideActiveClass))):T=s;const N=r==="next"||!r,O=r==="prev"||!r;let D=0,j=0;const R=b?Math.ceil(d.length/m.grid.rows):d.length,P=(b?d[s].column:s)+(v&&typeof i>"u"?-y/2+.5:0);if(P<_){D=Math.max(_-P,w);for(let L=0;L<_-P;L+=1){const B=L-Math.floor(L/R)*R;if(b){const U=R-B-1;for(let V=d.length-1;V>=0;V-=1)d[V].column===U&&k.push(V)}else k.push(R-B-1)}}else if(P+y>R-_){j=Math.max(P-(R-_*2),w);for(let L=0;L<j;L+=1){const B=L-Math.floor(L/R)*R;b?d.forEach((U,V)=>{U.column===B&&S.push(V)}):S.push(B)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),O&&k.forEach(L=>{d[L].swiperLoopMoveDOM=!0,p.prepend(d[L]),d[L].swiperLoopMoveDOM=!1}),N&&S.forEach(L=>{d[L].swiperLoopMoveDOM=!0,p.append(d[L]),d[L].swiperLoopMoveDOM=!1}),u.recalcSlides(),m.slidesPerView==="auto"?u.updateSlides():b&&(k.length>0&&O||S.length>0&&N)&&u.slides.forEach((L,B)=>{u.grid.updateSlide(B,L,u.slides)}),m.watchSlidesProgress&&u.updateSlidesOffset(),n){if(k.length>0&&O){if(typeof e>"u"){const L=u.slidesGrid[T],U=u.slidesGrid[T+D]-L;l?u.setTranslate(u.translate-U):(u.slideTo(T+Math.ceil(D),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-U,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-U))}else if(i){const L=b?k.length/m.grid.rows:k.length;u.slideTo(u.activeIndex+L,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(S.length>0&&N)if(typeof e>"u"){const L=u.slidesGrid[T],U=u.slidesGrid[T-j]-L;l?u.setTranslate(u.translate-U):(u.slideTo(T-j,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-U,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-U))}else{const L=b?S.length/m.grid.rows:S.length;u.slideTo(u.activeIndex-L,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=h,u.controller&&u.controller.control&&!o){const L={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix({...L,slideTo:B.params.slidesPerView===m.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...L,slideTo:u.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}u.emit("loopFix")}function Yse(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Gse={loopCreate:zse,loopFix:Wse,loopDestroy:Yse};function Kse(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Qse(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Xse={setGrabCursor:Kse,unsetGrabCursor:Qse};function Jse(t,e){e===void 0&&(e=this);function n(r){if(!r||r===wi()||r===Tr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function L2(t,e,n){const r=Tr(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Zse(t){const e=this,n=wi();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){L2(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:l}=e;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=r.target;if(s.touchEventsTarget==="wrapper"&&!sse(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",f=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&f&&(u=f[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(p?Jse(h,u):u.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,v=o.currentY;if(!L2(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=v,i.touchStartTime=bm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let y=!0;u.matches(i.focusableElements)&&(y=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!u.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function eoe(t){const e=wi(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let d;if(u.type==="touchmove"){if(d=[...u.changedTouches].find(T=>T.identifier===r.touchId),!d||d.identifier!==r.touchId)return}else d=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const f=d.pageX,h=d.pageY;if(u.preventedByNestedSwiper){s.startX=f,s.startY=h;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h}),r.touchStartTime=bm());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(f<s.startX&&n.translate<=n.maxTranslate()||f>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=f,s.currentY=h;const p=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let T;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+m*m>=25&&(T=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let v=n.isHorizontal()?p:m,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(v=Math.abs(v)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=v,v*=i.touchRatio,o&&(v=-v,y=-y);const w=n.touchesDirection;n.swipeDirection=v>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const _=n.params.loop&&!i.cssMode,b=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(_&&b&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&_&&b&&Math.abs(v)>=1){Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=v+r.startTranslate;let k=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),v>0?(_&&b&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(k=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+v)**S))):v<0&&(_&&b&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(k=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-v)**S))),k&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(v)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function toe(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(T=>T.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:u,slidesGrid:d,enabled:f}=e;if(!f||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=bm(),p=h-n.touchStartTime;if(e.allowClick){const T=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(T&&T[0]||r.target,T),e.emit("tap click",r),p<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=bm(),wm(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=u?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const v=m>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let T=0;T<d.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const N=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[T+N]<"u"?(v||m>=d[T]&&m<d[T+N])&&(y=T,w=d[T+N]-d[T]):(v||m>=d[T])&&(y=T,w=d[d.length-1]-d[d.length-2])}let _=null,b=null;o.rewind&&(e.isBeginning?b=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const k=(m-d[y])/w,S=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(k>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?_:y+S):e.slideTo(y)),e.swipeDirection==="prev"&&(k>1-o.longSwipesRatio?e.slideTo(y+S):b!==null&&k<0&&Math.abs(k)>o.longSwipesRatio?e.slideTo(b):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+S):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:y+S),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:y))}}function j2(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function noe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function roe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function ioe(t){const e=this;Cp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function soe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const OF=(t,e)=>{const n=wi(),{params:r,el:i,wrapperEl:s,device:o}=t,l=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",j2,!0):t[d]("observerUpdate",j2,!0),i[u]("load",t.onLoad,{capture:!0}))};function ooe(){const t=this,{params:e}=t;t.onTouchStart=Zse.bind(t),t.onTouchMove=eoe.bind(t),t.onTouchEnd=toe.bind(t),t.onDocumentTouchStart=soe.bind(t),e.cssMode&&(t.onScroll=roe.bind(t)),t.onClick=noe.bind(t),t.onLoad=ioe.bind(t),OF(t,"on")}function aoe(){OF(this,"off")}var loe={attachEvents:ooe,detachEvents:aoe};const F2=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function uoe(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=wi(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),d=t.getBreakpoint(s,l,u);if(!d||t.currentBreakpoint===d)return;const h=(d in s?s[d]:void 0)||t.originalParams,p=F2(t,r),m=F2(t,h),v=t.params.grabCursor,y=h.grabCursor,w=r.enabled;p&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),v&&!y?t.unsetGrabCursor():!v&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof h[N]>"u")return;const O=r[N]&&r[N].enabled,D=h[N]&&h[N].enabled;O&&!D&&t[N].disable(),!O&&D&&t[N].enable()});const _=h.direction&&h.direction!==r.direction,b=r.loop&&(h.slidesPerView!==r.slidesPerView||_),k=r.loop;_&&n&&t.changeDirection(),Zr(t.params,h);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!S?t.disable():!w&&S&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",h),n&&(b?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!k&&T?(t.loopCreate(e),t.updateSlides()):k&&!T&&t.loopDestroy()),t.emit("breakpoint",h)}function coe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Tr(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const u=parseFloat(l.substr(1));return{value:s*u,point:l}}return{value:l,point:l}});o.sort((l,u)=>parseInt(l.value,10)-parseInt(u.value,10));for(let l=0;l<o.length;l+=1){const{point:u,value:d}=o[l];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=u):d<=n.clientWidth&&(r=u)}return r||"max"}var doe={setBreakpoint:uoe,getBreakpoint:coe};function foe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function hoe(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=foe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function poe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var moe={addClasses:hoe,removeClasses:poe};function goe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var voe={checkOverflow:goe},M_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yoe(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Zr(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Zr(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Zr(e,r)}}const h1={eventsEmitter:mse,update:Tse,translate:Ase,transition:Lse,slide:Hse,loop:Gse,grabCursor:Xse,events:loe,breakpoints:doe,checkOverflow:voe,classes:moe},p1={};let mE=class Ns{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Zr({},n),e&&!n.el&&(n.el=e);const o=wi();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const f=[];return o.querySelectorAll(n.el).forEach(h=>{const p=Zr({},n,{el:h});f.push(new Ns(p))}),f}const l=this;l.__swiper__=!0,l.support=kF(),l.device=TF({userAgent:n.userAgent}),l.browser=fse(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const u={};l.modules.forEach(f=>{f({params:n,swiper:l,extendParams:yoe(n,u),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Zr({},M_,u);return l.params=Zr({},d,p1,n),l.originalParams=Zr({},l.params),l.passedParams=Zr({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(f=>{l.on(f,l.params.on[f])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=us(n,`.${r.slideClass}, swiper-slide`),s=xm(i[0]);return xm(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=us(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:l,size:u,activeIndex:d}=r;let f=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[d]?Math.ceil(s[d].swiperSlideSize):0,p;for(let m=d+1;m<s.length;m+=1)s[m]&&!p&&(h+=Math.ceil(s[m].swiperSlideSize),f+=1,h>u&&(p=!0));for(let m=d-1;m>=0;m-=1)s[m]&&!p&&(h+=s[m].swiperSlideSize,f+=1,h>u&&(p=!0))}else if(e==="current")for(let h=d+1;h<s.length;h+=1)(n?o[h]+l[h]-o[d]<u:o[h]-o[d]<u)&&(f+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<u&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Cp(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):us(r,i())[0];return!o&&n.params.createElements&&(o=Ld("div",n.params.wrapperClass),r.append(o),us(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Mo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Mo(r,"direction")==="rtl"),wrongRTL:Mo(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Cp(n,s):s.addEventListener("load",o=>{Cp(n,o.target)})}),R_(n),n.initialized=!0,R_(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),ese(r)),r.destroyed=!0),null}static extendDefaults(e){Zr(p1,e)}static get extendedDefaults(){return p1}static get defaults(){return M_}static installModule(e){Ns.prototype.__modules__||(Ns.prototype.__modules__=[]);const n=Ns.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ns.installModule(n)),Ns):(Ns.installModule(e),Ns)}};Object.keys(h1).forEach(t=>{Object.keys(h1[t]).forEach(e=>{mE.prototype[e]=h1[t][e]})});mE.use([hse,pse]);const NF=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Xa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ou(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Xa(e[r])&&Xa(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ou(t[r],e[r]):t[r]=e[r]})}function DF(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function IF(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function AF(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function PF(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function woe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function boe(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:l,paginationEl:u}=t;const d=i.filter(j=>j!=="children"&&j!=="direction"&&j!=="wrapperClass"),{params:f,pagination:h,navigation:p,scrollbar:m,virtual:v,thumbs:y}=e;let w,_,b,k,S,T,N,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&f.controller&&!f.controller.control&&(_=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(f.pagination||f.pagination===!1)&&h&&!h.el&&(b=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(f.scrollbar||f.scrollbar===!1)&&m&&!m.el&&(k=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(f.navigation||f.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(S=!0);const D=j=>{e[j]&&(e[j].destroy(),j==="navigation"?(e.isElement&&(e[j].prevEl.remove(),e[j].nextEl.remove()),f[j].prevEl=void 0,f[j].nextEl=void 0,e[j].prevEl=void 0,e[j].nextEl=void 0):(e.isElement&&e[j].el.remove(),f[j].el=void 0,e[j].el=void 0))};i.includes("loop")&&e.isElement&&(f.loop&&!r.loop?T=!0:!f.loop&&r.loop?N=!0:O=!0),d.forEach(j=>{if(Xa(f[j])&&Xa(r[j]))Object.assign(f[j],r[j]),(j==="navigation"||j==="pagination"||j==="scrollbar")&&"enabled"in r[j]&&!r[j].enabled&&D(j);else{const R=r[j];(R===!0||R===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?R===!1&&D(j):f[j]=r[j]}}),d.includes("controller")&&!_&&e.controller&&e.controller.control&&f.controller&&f.controller.control&&(e.controller.control=f.controller.control),i.includes("children")&&n&&v&&f.virtual.enabled?(v.slides=n,v.update(!0)):i.includes("virtual")&&v&&f.virtual.enabled&&(n&&(v.slides=n),v.update(!0)),i.includes("children")&&n&&f.loop&&(O=!0),w&&y.init()&&y.update(!0),_&&(e.controller.control=f.controller.control),b&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(f.pagination.el=u),h.init(),h.render(),h.update()),k&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(f.scrollbar.el=l),m.init(),m.updateSize(),m.setTranslate()),S&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(f.navigation.nextEl=s),o&&(f.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(T||O)&&e.loopDestroy(),(N||O)&&e.loopCreate(),e.update()}function _oe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};ou(n,M_),n._emitClasses=!0,n.init=!1;const s={},o=NF.map(u=>u.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(u=>{typeof t[u]>"u"||(o.indexOf(u)>=0?Xa(t[u])?(n[u]={},i[u]={},ou(n[u],t[u]),ou(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function xoe(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:l}=t;DF(e)&&r&&i&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),IF(e)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),AF(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function Soe(t,e,n,r,i){const s=[];if(!e)return s;const o=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),d=n.map(i);u.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return NF.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Xa(t[u])&&Xa(e[u])){const d=Object.keys(t[u]),f=Object.keys(e[u]);d.length!==f.length?o(u):(d.forEach(h=>{t[u][h]!==e[u][h]&&o(u)}),f.forEach(h=>{t[u][h]!==e[u][h]&&o(u)}))}else t[u]!==e[u]&&o(u)}),s}const Eoe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function RF(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function MF(t){const e=[];return se.Children.toArray(t).forEach(n=>{RF(n)?e.push(n):n.props&&n.props.children&&MF(n.props.children).forEach(r=>e.push(r))}),e}function koe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return se.Children.toArray(t).forEach(r=>{if(RF(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=MF(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Toe(t,e,n){if(!n)return null;const r=f=>{let h=f;return f<0?h=e.length+f:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,l=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,d=[];for(let f=l;f<u;f+=1)f>=s&&f<=o&&d.push(e[r(f)]);return d.map((f,h)=>se.cloneElement(f,{swiper:t,style:i,key:f.props.virtualIndex||f.key||`slide-${h}`}))}function ud(t,e){return typeof window>"u"?z.useEffect(t,e):z.useLayoutEffect(t,e)}const $2=z.createContext(null),Coe=z.createContext(null),LF=z.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...l}=t===void 0?{}:t,u=!1;const[d,f]=z.useState("swiper"),[h,p]=z.useState(null),[m,v]=z.useState(!1),y=z.useRef(!1),w=z.useRef(null),_=z.useRef(null),b=z.useRef(null),k=z.useRef(null),S=z.useRef(null),T=z.useRef(null),N=z.useRef(null),O=z.useRef(null),{params:D,passedParams:j,rest:R,events:I}=_oe(l),{slides:P,slots:L}=koe(s),B=()=>{v(!m)};Object.assign(D.on,{_containerClasses(G,M){f(M)}});const U=()=>{Object.assign(D.on,I),u=!0;const G={...D};if(delete G.wrapperClass,_.current=new mE(G),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=P;const M={cache:!1,slides:P,renderExternal:p,renderExternalUpdate:!1};ou(_.current.params.virtual,M),ou(_.current.originalParams.virtual,M)}};w.current||U(),_.current&&_.current.on("_beforeBreakpoint",B);const V=()=>{u||!I||!_.current||Object.keys(I).forEach(G=>{_.current.on(G,I[G])})},Y=()=>{!I||!_.current||Object.keys(I).forEach(G=>{_.current.off(G,I[G])})};z.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",B)}),z.useEffect(()=>{!y.current&&_.current&&(_.current.emitSlidesClasses(),y.current=!0)}),ud(()=>{if(e&&(e.current=w.current),!!w.current)return _.current.destroyed&&U(),xoe({el:w.current,nextEl:S.current,prevEl:T.current,paginationEl:N.current,scrollbarEl:O.current,swiper:_.current},D),o&&!_.current.destroyed&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),ud(()=>{V();const G=Soe(j,b.current,P,k.current,M=>M.key);return b.current=j,k.current=P,G.length&&_.current&&!_.current.destroyed&&boe({swiper:_.current,slides:P,passedParams:j,changedParams:G,nextEl:S.current,prevEl:T.current,scrollbarEl:O.current,paginationEl:N.current}),()=>{Y()}}),ud(()=>{Eoe(_.current)},[h]);function K(){return D.virtual?Toe(_.current,P,h):P.map((G,M)=>se.cloneElement(G,{swiper:_.current,swiperSlideIndex:M}))}return se.createElement(r,Sm({ref:w,className:PF(`${d}${n?` ${n}`:""}`)},R),se.createElement(Coe.Provider,{value:_.current},L["container-start"],se.createElement(i,{className:woe(D.wrapperClass)},L["wrapper-start"],K(),L["wrapper-end"]),DF(D)&&se.createElement(se.Fragment,null,se.createElement("div",{ref:T,className:"swiper-button-prev"}),se.createElement("div",{ref:S,className:"swiper-button-next"})),AF(D)&&se.createElement("div",{ref:O,className:"swiper-scrollbar"}),IF(D)&&se.createElement("div",{ref:N,className:"swiper-pagination"}),L["container-end"]))});LF.displayName="Swiper";const wf=z.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:l,virtualIndex:u,swiperSlideIndex:d,...f}=t===void 0?{}:t;const h=z.useRef(null),[p,m]=z.useState("swiper-slide"),[v,y]=z.useState(!1);function w(S,T,N){T===h.current&&m(N)}ud(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),ud(()=>{s&&h.current&&!s.destroyed&&m(s.getSlideClasses(h.current))},[s]);const _={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},b=()=>typeof r=="function"?r(_):r,k=()=>{y(!0)};return se.createElement(n,Sm({ref:h,className:PF(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:k},f),o&&se.createElement($2.Provider,{value:_},se.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},b(),l&&!v&&se.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&se.createElement($2.Provider,{value:_},b(),l&&!v&&se.createElement("div",{className:"swiper-lazy-preloader"})))});wf.displayName="SwiperSlide";function Ooe(t){return rt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M235.24,84.38l-28.06,23.68,8.56,35.39a13.34,13.34,0,0,1-5.09,13.91,13.54,13.54,0,0,1-15,.69L164,139l-31.65,19.06a13.51,13.51,0,0,1-15-.69,13.32,13.32,0,0,1-5.1-13.91l8.56-35.39L92.76,84.38a13.39,13.39,0,0,1,7.66-23.58l36.94-2.92,14.21-33.66a13.51,13.51,0,0,1,24.86,0l14.21,33.66,36.94,2.92a13.39,13.39,0,0,1,7.66,23.58ZM88.11,111.89a8,8,0,0,0-11.32,0L18.34,170.34a8,8,0,0,0,11.32,11.32l58.45-58.45A8,8,0,0,0,88.11,111.89Zm-.5,61.19L34.34,226.34a8,8,0,0,0,11.32,11.32l53.26-53.27a8,8,0,0,0-11.31-11.31Zm73-1-54.29,54.28a8,8,0,0,0,11.32,11.32l54.28-54.28a8,8,0,0,0-11.31-11.32Z"},child:[]}]})(t)}function Noe({bookWithRank:t}){const{counts:e,readers:n,title:r,thumbnail:i,authors:s,publisher:o,impressionList:l}=t;return x.jsxs(ki,{title:"많이 재독한 책",children:[x.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[x.jsx(In,{title:r,thumbnail:i,className:"w-14"}),x.jsxs("div",{children:[x.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full",children:r}),x.jsx(Js,{authors:s,publisher:o}),x.jsxs("div",{className:"mt-1 flex gap-1",children:[x.jsx(Hn,{text:`📚총 ${e}번 재독중`,color:"yellow",shape:"rounded",className:"!py-1.5 text-sm !text-green-600"}),x.jsx(Hn,{text:`🙋🏻${n}명이 재독중`,color:"lightBlue",shape:"rounded",className:"!py-1.5 text-sm !text-blue-600"})]})]})]}),x.jsx("h3",{className:"font-bold text-darkBlue",children:"재독한 멤버의 소감들"}),x.jsx("ul",{className:"mt-2",children:l==null?void 0:l.map(({text:u,id:d,creatorId:f,createdAt:h})=>x.jsxs("li",{className:"mb-3 gap-2 border-l-4 border-gray3 pl-3",children:[x.jsxs("p",{children:[u," ",x.jsx(li,{userId:f,tag:!0,className:"ml-1"})]}),x.jsx("span",{className:"mt-2 text-sm text-gray2",children:new Date(h).toLocaleDateString()})]},d))})]})}function Doe({bookWithRank:t,rank:e}){const{title:n,thumbnail:r}=t,{showModal:i}=Ht(),s=()=>{i({element:x.jsx(Noe,{bookWithRank:t})})};return x.jsx("li",{className:"flex min-h-fit w-full items-center justify-center",children:x.jsxs("button",{type:"button",onClick:s,className:`relative self-center ${e===1?"max-sm:w-[67%]":"max-sm:w-[58%]"}`,children:[x.jsx(In,{title:n,thumbnail:r,className:"mx-auto w-full"}),x.jsxs("div",{className:"absolute -bottom-4 -right-4",children:[x.jsx(Ooe,{className:"size-[90px] fill-yellow-400"}),x.jsx("span",{className:"absolute bottom-[42px] right-[27px] font-sans text-xl font-bold text-indigo-600",children:e})]})]})})}function Ioe({coll:t,onChallengeBookClick:e}){const[n,r]=z.useState([]);return z.useEffect(()=>{n.length===0&&qn(t,r)},[]),x.jsx(x.Fragment,{children:n.map(({recommendedBook:i,text:s,creatorId:o})=>x.jsx("li",{children:x.jsx("button",{type:"button",className:"w-full",onClick:()=>e(i,s,o),children:x.jsx(In,{title:i.title,thumbnail:i.thumbnail,className:"w-full rounded-md shadow-card"})})},i.title))})}function Aoe({selectedBook:t,readers:e,counts:n,reason:r,recommendedUser:i}){const s=z.useRef(),{uid:o,displayName:l}=Fe(gt),[u,d]=z.useState(null),{anonymous:f}=kr("register");z.useEffect(()=>{ir(Qa,`${jt}-${o}`,d)},[o]);const{hideModal:h}=Ht(),{sendPushNotificationToAllUser:p}=Wi(),m=async b=>{if(b.preventDefault(),s.current.value==="")return window.alert("소감이 작성되지 않았습니다.");const k=u==null?void 0:u.creatorId,S=u[v],T=rn(Gt,Qa,`${jt}-${o}`),N={text:s.current.value,createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:o},O={[v]:{book:{title:v,thumbnail:y,authors:w,publisher:_},counts:1,impressionList:[{id:1,...N}]}};k?await un(T,S?{[v]:{...S,counts:S.counts+1,impressionList:[...S.impressionList,{id:S.impressionList.length+1,...N}]}}:O):await ws(T,{creatorId:o,...O}),h(),alert("소감이 작성 완료되었습니다. 챌린지를 추가 달성했습니다!❣️"),p({title:"다시 읽기 챌린지를 달성한 멤버가 있어요!",body:`${l}님이 ${v} 책을 다시 읽었어요!`,subPath:"/challenge"})},{title:v,thumbnail:y,authors:w,publisher:_}=t;return x.jsxs(ki,{title:"재독 챌린지",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(In,{title:v,thumbnail:y,className:"w-8"}),x.jsxs("div",{className:"",children:[x.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full",children:v}),x.jsx(Js,{authors:w,publisher:_})]})]}),i&&x.jsxs("div",{className:"mt-3 inline",children:["추천한 멤버: ",x.jsx(li,{userId:i,tag:!0})]}),r&&x.jsx("p",{className:"mt-2 border-l-4 border-gray3 pl-2 text-sm",children:r}),x.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.jsx(Hn,{text:`🙋🏻 ${e}명의 멤버가 재독`,color:"lightBlue",className:"!py-1.5 text-sm !text-blue-600"}),x.jsx(Hn,{text:`👀 총 ${n}번 재독`,color:"yellow",className:"!py-1.5 text-sm !text-green-600"})]}),x.jsxs("form",{onSubmit:m,className:"mt-5 flex flex-col gap-3",children:[x.jsx("textarea",{ref:s,placeholder:"이 책을 재독한 소감을 작성해주세요.",className:"min-h-32 resize-none rounded-xl border p-3 outline-none"}),x.jsx(at,{name:"챌린지완료",color:"darkBlue",type:"submit",className:"self-end",disabled:f}),f&&x.jsx("p",{className:"ml-auto text-sm text-red-500",children:"익명의 방문자는 참여할 수 없습니다."})]})]})}function Poe({userRank:t}){const{creatorId:e,rank:n,rereadingBookList:r,totalRereadingCounts:i}=t;return x.jsxs("li",{className:`flex gap-x-4 rounded-xl bg-white p-4 shadow-card ${r.length!==0?"col-span-2":""}`,children:[x.jsxs("div",{className:`${r.length!==0?"w-[40%] min-w-32":"w-full"}`,children:[x.jsxs("div",{className:"mb-2 flex h-8 items-center justify-between",children:[i!==0&&x.jsxs("span",{className:"mr-1 text-3xl font-bold",children:[n===1&&"🏆",n,x.jsx("span",{className:"pb-2 text-lg font-bold text-gray1",children:"위"})]}),x.jsx(li,{userId:e,className:"text-lg"})]}),[{key:"총 재독 수",value:`${i}회`},{key:"재독한 책",value:`${r.length}권`}].map(({key:s,value:o})=>x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{children:s}),x.jsx("span",{children:o})]},s))]}),r.length!==0&&x.jsx("div",{className:"flex flex-1 gap-x-2 overflow-scroll scrollbar-hide",children:r.map(s=>x.jsx(In,{thumbnail:s.thumbnail,title:s.title,className:"w-14"},s.title))})]})}function gE({hyphenDate:t,isDateMark:e=!0,className:n}){return x.jsxs("div",{className:`flex items-center gap-x-1 ${n}`,children:[x.jsx("span",{className:"text-[15px] text-gray1",children:"D-DAY"}),x.jsxs("span",{className:"text-red-500",children:[": ",hm(t)]}),e&&x.jsx("span",{className:"ml-2 text-sm text-gray1",children:ut(t)})]})}function jF({selectedYear:t,handleChangeYear:e,buttonClassName:n=""}){return x.jsx("ul",{className:"flex flex-wrap gap-4 max-sm:gap-x-2.5 max-sm:gap-y-2",children:ine.map(r=>x.jsx("li",{children:x.jsx(at,{color:r===t?"darkBlue":"gray",name:`${r}년`,type:"button",handleClick:()=>e(r),className:n})},r))})}function vE(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=us(t.el,`.${r[i]}`)[0];s||(s=Ld("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function Roe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(v){let y;return v&&typeof v=="string"&&e.isElement&&(y=e.el.querySelector(v)||e.hostEl.querySelector(v),y)?y:(v&&(typeof v=="string"&&(y=[...document.querySelectorAll(v)]),e.params.uniqueNavElements&&typeof v=="string"&&y&&y.length>1&&e.el.querySelectorAll(v).length===1?y=e.el.querySelector(v):y&&y.length===1&&(y=y[0])),v&&!y?v:y)}function o(v,y){const w=e.params.navigation;v=Rn(v),v.forEach(_=>{_&&(_.classList[y?"add":"remove"](...w.disabledClass.split(" ")),_.tagName==="BUTTON"&&(_.disabled=y),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](w.lockClass))})}function l(){const{nextEl:v,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(v,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(v,e.isEnd&&!e.params.rewind)}function u(v){v.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function d(v){v.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function f(){const v=e.params.navigation;if(e.params.navigation=vE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(v.nextEl||v.prevEl))return;let y=s(v.nextEl),w=s(v.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=Rn(y),w=Rn(w);const _=(b,k)=>{b&&b.addEventListener("click",k==="next"?d:u),!e.enabled&&b&&b.classList.add(...v.lockClass.split(" "))};y.forEach(b=>_(b,"next")),w.forEach(b=>_(b,"prev"))}function h(){let{nextEl:v,prevEl:y}=e.navigation;v=Rn(v),y=Rn(y);const w=(_,b)=>{_.removeEventListener("click",b==="next"?d:u),_.classList.remove(...e.params.navigation.disabledClass.split(" "))};v.forEach(_=>w(_,"next")),y.forEach(_=>w(_,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(f(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:v,prevEl:y}=e.navigation;if(v=Rn(v),y=Rn(y),e.enabled){l();return}[...v,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(v,y)=>{let{nextEl:w,prevEl:_}=e.navigation;w=Rn(w),_=Rn(_);const b=y.target;let k=_.includes(b)||w.includes(b);if(e.isElement&&!k){const S=y.path||y.composedPath&&y.composedPath();S&&(k=S.find(T=>w.includes(T)||_.includes(T)))}if(e.params.navigation.hideOnClick&&!k){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let S;w.length?S=w[0].classList.contains(e.params.navigation.hiddenClass):_.length&&(S=_[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...w,..._].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),l()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:m,update:l,init:f,destroy:h})}function Wl(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Moe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(b,k){const{bulletActiveClass:S}=e.params.pagination;b&&(b=b[`${k==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${S}-${k}`),b=b[`${k==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${S}-${k}-${k}`)))}function f(b,k,S){if(b=b%S,k=k%S,k===b+1)return"next";if(k===b-1)return"previous"}function h(b){const k=b.target.closest(Wl(e.params.pagination.bulletClass));if(!k)return;b.preventDefault();const S=xm(k)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=f(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function p(){const b=e.rtl,k=e.params.pagination;if(u())return;let S=e.pagination.el;S=Rn(S);let T,N;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,D=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,T=e.activeIndex||0),k.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const j=e.pagination.bullets;let R,I,P;if(k.dynamicBullets&&(o=P_(j[0],e.isHorizontal()?"width":"height"),S.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${o*(k.dynamicMainBullets+4)}px`}),k.dynamicMainBullets>1&&N!==void 0&&(l+=T-(N||0),l>k.dynamicMainBullets-1?l=k.dynamicMainBullets-1:l<0&&(l=0)),R=Math.max(T-l,0),I=R+(Math.min(j.length,k.dynamicMainBullets)-1),P=(I+R)/2),j.forEach(L=>{const B=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(U=>`${k.bulletActiveClass}${U}`)].map(U=>typeof U=="string"&&U.includes(" ")?U.split(" "):U).flat();L.classList.remove(...B)}),S.length>1)j.forEach(L=>{const B=xm(L);B===T?L.classList.add(...k.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),k.dynamicBullets&&(B>=R&&B<=I&&L.classList.add(...`${k.bulletActiveClass}-main`.split(" ")),B===R&&d(L,"prev"),B===I&&d(L,"next"))});else{const L=j[T];if(L&&L.classList.add(...k.bulletActiveClass.split(" ")),e.isElement&&j.forEach((B,U)=>{B.setAttribute("part",U===T?"bullet-active":"bullet")}),k.dynamicBullets){const B=j[R],U=j[I];for(let V=R;V<=I;V+=1)j[V]&&j[V].classList.add(...`${k.bulletActiveClass}-main`.split(" "));d(B,"prev"),d(U,"next")}}if(k.dynamicBullets){const L=Math.min(j.length,k.dynamicMainBullets+4),B=(o*L-o)/2-P*o,U=b?"right":"left";j.forEach(V=>{V.style[e.isHorizontal()?U:"top"]=`${B}px`})}}S.forEach((j,R)=>{if(k.type==="fraction"&&(j.querySelectorAll(Wl(k.currentClass)).forEach(I=>{I.textContent=k.formatFractionCurrent(T+1)}),j.querySelectorAll(Wl(k.totalClass)).forEach(I=>{I.textContent=k.formatFractionTotal(D)})),k.type==="progressbar"){let I;k.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";const P=(T+1)/D;let L=1,B=1;I==="horizontal"?L=P:B=P,j.querySelectorAll(Wl(k.progressbarFillClass)).forEach(U=>{U.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${B})`,U.style.transitionDuration=`${e.params.speed}ms`})}k.type==="custom"&&k.renderCustom?(j.innerHTML=k.renderCustom(e,T+1,D),R===0&&i("paginationRender",j)):(R===0&&i("paginationRender",j),i("paginationUpdate",j)),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](k.lockClass)})}function m(){const b=e.params.pagination;if(u())return;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=Rn(S);let T="";if(b.type==="bullets"){let N=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>k&&(N=k);for(let O=0;O<N;O+=1)b.renderBullet?T+=b.renderBullet.call(e,O,b.bulletClass):T+=`<${b.bulletElement} ${e.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?T=b.renderFraction.call(e,b.currentClass,b.totalClass):T=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?T=b.renderProgressbar.call(e,b.progressbarFillClass):T=`<span class="${b.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(N=>{b.type!=="custom"&&(N.innerHTML=T||""),b.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(Wl(b.bulletClass)))}),b.type!=="custom"&&i("paginationRender",S[0])}function v(){e.params.pagination=vE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let k;typeof b.el=="string"&&e.isElement&&(k=e.el.querySelector(b.el)),!k&&typeof b.el=="string"&&(k=[...document.querySelectorAll(b.el)]),k||(k=b.el),!(!k||k.length===0)&&(e.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(k)&&k.length>1&&(k=[...e.el.querySelectorAll(b.el)],k.length>1&&(k=k.find(S=>EF(S,".swiper")[0]===e.el))),Array.isArray(k)&&k.length===1&&(k=k[0]),Object.assign(e.pagination,{el:k}),k=Rn(k),k.forEach(S=>{b.type==="bullets"&&b.clickable&&S.classList.add(...(b.clickableClass||"").split(" ")),S.classList.add(b.modifierClass+b.type),S.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(S.classList.add(`${b.modifierClass}${b.type}-dynamic`),l=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&S.classList.add(b.progressbarOppositeClass),b.clickable&&S.addEventListener("click",h),e.enabled||S.classList.add(b.lockClass)}))}function y(){const b=e.params.pagination;if(u())return;let k=e.pagination.el;k&&(k=Rn(k),k.forEach(S=>{S.classList.remove(b.hiddenClass),S.classList.remove(b.modifierClass+b.type),S.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(S.classList.remove(...(b.clickableClass||"").split(" ")),S.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...b.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:k}=e.pagination;k=Rn(k),k.forEach(S=>{S.classList.remove(b.horizontalClass,b.verticalClass),S.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?_():(v(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:b}=e.pagination;b&&(b=Rn(b),b.forEach(k=>k.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(b,k)=>{const S=k.target,T=Rn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const N=T[0].classList.contains(e.params.pagination.hiddenClass);i(N===!0?"paginationShow":"paginationHide"),T.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Rn(b),b.forEach(k=>k.classList.remove(e.params.pagination.paginationDisabledClass))),v(),m(),p()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Rn(b),b.forEach(k=>k.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:_,render:m,update:p,init:v,destroy:y})}function Loe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=wi();let o=!1,l=null,u=null,d,f,h,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:P,rtlTranslate:L}=e,{dragEl:B,el:U}=P,V=e.params.scrollbar,Y=e.params.loop?e.progressLoop:e.progress;let K=f,G=(h-f)*Y;L?(G=-G,G>0?(K=f-G,G=0):-G+f>h&&(K=h+G)):G<0?(K=f+G,G=0):G+f>h&&(K=h-G),e.isHorizontal()?(B.style.transform=`translate3d(${G}px, 0, 0)`,B.style.width=`${K}px`):(B.style.transform=`translate3d(0px, ${G}px, 0)`,B.style.height=`${K}px`),V.hide&&(clearTimeout(l),U.style.opacity=1,l=setTimeout(()=>{U.style.opacity=0,U.style.transitionDuration="400ms"},1e3))}function v(P){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${P}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:P}=e,{dragEl:L,el:B}=P;L.style.width="",L.style.height="",h=e.isHorizontal()?B.offsetWidth:B.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?f=h*p:f=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?L.style.width=`${f}px`:L.style.height=`${f}px`,p>=1?B.style.display="none":B.style.display="",e.params.scrollbar.hide&&(B.style.opacity=0),e.params.watchOverflow&&e.enabled&&P.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(P){return e.isHorizontal()?P.clientX:P.clientY}function _(P){const{scrollbar:L,rtlTranslate:B}=e,{el:U}=L;let V;V=(w(P)-ose(U)[e.isHorizontal()?"left":"top"]-(d!==null?d:f/2))/(h-f),V=Math.max(Math.min(V,1),0),B&&(V=1-V);const Y=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*V;e.updateProgress(Y),e.setTranslate(Y),e.updateActiveIndex(),e.updateSlidesClasses()}function b(P){const L=e.params.scrollbar,{scrollbar:B,wrapperEl:U}=e,{el:V,dragEl:Y}=B;o=!0,d=P.target===Y?w(P)-P.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,P.preventDefault(),P.stopPropagation(),U.style.transitionDuration="100ms",Y.style.transitionDuration="100ms",_(P),clearTimeout(u),V.style.transitionDuration="0ms",L.hide&&(V.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",P)}function k(P){const{scrollbar:L,wrapperEl:B}=e,{el:U,dragEl:V}=L;o&&(P.preventDefault&&P.cancelable?P.preventDefault():P.returnValue=!1,_(P),B.style.transitionDuration="0ms",U.style.transitionDuration="0ms",V.style.transitionDuration="0ms",i("scrollbarDragMove",P))}function S(P){const L=e.params.scrollbar,{scrollbar:B,wrapperEl:U}=e,{el:V}=B;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",U.style.transitionDuration=""),L.hide&&(clearTimeout(u),u=wm(()=>{V.style.opacity=0,V.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",P),L.snapOnRelease&&e.slideToClosest())}function T(P){const{scrollbar:L,params:B}=e,U=L.el;if(!U)return;const V=U,Y=B.passiveListeners?{passive:!1,capture:!1}:!1,K=B.passiveListeners?{passive:!0,capture:!1}:!1;if(!V)return;const G=P==="on"?"addEventListener":"removeEventListener";V[G]("pointerdown",b,Y),s[G]("pointermove",k,Y),s[G]("pointerup",S,K)}function N(){!e.params.scrollbar.el||!e.scrollbar.el||T("on")}function O(){!e.params.scrollbar.el||!e.scrollbar.el||T("off")}function D(){const{scrollbar:P,el:L}=e;e.params.scrollbar=vE(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const B=e.params.scrollbar;if(!B.el)return;let U;if(typeof B.el=="string"&&e.isElement&&(U=e.el.querySelector(B.el)),!U&&typeof B.el=="string"){if(U=s.querySelectorAll(B.el),!U.length)return}else U||(U=B.el);e.params.uniqueNavElements&&typeof B.el=="string"&&U.length>1&&L.querySelectorAll(B.el).length===1&&(U=L.querySelector(B.el)),U.length>0&&(U=U[0]),U.classList.add(e.isHorizontal()?B.horizontalClass:B.verticalClass);let V;U&&(V=U.querySelector(Wl(e.params.scrollbar.dragClass)),V||(V=Ld("div",e.params.scrollbar.dragClass),U.append(V))),Object.assign(P,{el:U,dragEl:V}),B.draggable&&N(),U&&U.classList[e.enabled?"remove":"add"](...To(e.params.scrollbar.lockClass))}function j(){const P=e.params.scrollbar,L=e.scrollbar.el;L&&L.classList.remove(...To(e.isHorizontal()?P.horizontalClass:P.verticalClass)),O()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const P=e.params.scrollbar;let{el:L}=e.scrollbar;L=Rn(L),L.forEach(B=>{B.classList.remove(P.horizontalClass,P.verticalClass),B.classList.add(e.isHorizontal()?P.horizontalClass:P.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?I():(D(),y(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{y()}),r("setTranslate",()=>{m()}),r("setTransition",(P,L)=>{v(L)}),r("enable disable",()=>{const{el:P}=e.scrollbar;P&&P.classList[e.enabled?"remove":"add"](...To(e.params.scrollbar.lockClass))}),r("destroy",()=>{j()});const R=()=>{e.el.classList.remove(...To(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...To(e.params.scrollbar.scrollbarDisabledClass)),D(),y(),m()},I=()=>{e.el.classList.add(...To(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...To(e.params.scrollbar.scrollbarDisabledClass)),j()};Object.assign(e.scrollbar,{enable:R,disable:I,updateSize:y,setTranslate:m,init:D,destroy:j})}function joe(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,u=s&&s.autoplay?s.autoplay.delay:3e3,d=s&&s.autoplay?s.autoplay.delay:3e3,f,h=new Date().getTime(),p,m,v,y,w,_,b;function k(K){!e||e.destroyed||!e.wrapperEl||K.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",k),!(b||K.detail&&K.detail.bySwiperTouchMove)&&R())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(d=f,p=!1);const K=e.autoplay.paused?f:h+d-new Date().getTime();e.autoplay.timeLeft=K,i("autoplayTimeLeft",K,K/u),l=requestAnimationFrame(()=>{S()})},T=()=>{let K;return e.virtual&&e.params.virtual.enabled?K=e.slides.find(M=>M.classList.contains("swiper-slide-active")):K=e.slides[e.activeIndex],K?parseInt(K.getAttribute("data-swiper-autoplay"),10):void 0},N=K=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),S();let G=typeof K>"u"?e.params.autoplay.delay:K;u=e.params.autoplay.delay,d=e.params.autoplay.delay;const M=T();!Number.isNaN(M)&&M>0&&typeof K>"u"&&(G=M,u=M,d=M),f=G;const F=e.params.speed,$=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(F,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,F,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(F,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,F,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return G>0?(clearTimeout(o),o=setTimeout(()=>{$()},G)):requestAnimationFrame(()=>{$()}),G},O=()=>{h=new Date().getTime(),e.autoplay.running=!0,N(),i("autoplayStart")},D=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),i("autoplayStop")},j=(K,G)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),K||(_=!0);const M=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",k):R()};if(e.autoplay.paused=!0,G){w&&(f=e.params.autoplay.delay),w=!1,M();return}f=(f||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&f<0&&!e.params.loop)&&(f<0&&(f=0),M())},R=()=>{e.isEnd&&f<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),_?(_=!1,N(f)):N(),e.autoplay.paused=!1,i("autoplayResume"))},I=()=>{if(e.destroyed||!e.autoplay.running)return;const K=wi();K.visibilityState==="hidden"&&(_=!0,j(!0)),K.visibilityState==="visible"&&R()},P=K=>{K.pointerType==="mouse"&&(_=!0,b=!0,!(e.animating||e.autoplay.paused)&&j(!0))},L=K=>{K.pointerType==="mouse"&&(b=!1,e.autoplay.paused&&R())},B=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",L))},U=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",L))},V=()=>{wi().addEventListener("visibilitychange",I)},Y=()=>{wi().removeEventListener("visibilitychange",I)};r("init",()=>{e.params.autoplay.enabled&&(B(),V(),O())}),r("destroy",()=>{U(),Y(),e.autoplay.running&&D()}),r("_freeModeStaticRelease",()=>{(v||_)&&R()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?D():j(!0,!0)}),r("beforeTransitionStart",(K,G,M)=>{e.destroyed||!e.autoplay.running||(M||!e.params.autoplay.disableOnInteraction?j(!0,!0):D())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){D();return}m=!0,v=!1,_=!1,y=setTimeout(()=>{_=!0,v=!0,j(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){v=!1,m=!1;return}v&&e.params.cssMode&&R(),v=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:O,stop:D,pause:j,resume:R})}function iv({children:t,options:e}){const n={modules:[joe,Moe,Roe,Loe],spaceBetween:15,slidesPerView:"auto",speed:800,autoplay:{disableOnInteraction:!0},navigation:!0,pagination:{type:"bullets"},scrollbar:{draggable:!0},...e};return x.jsx(LF,{className:"h-full",...n,children:t})}const Foe={breakpoints:{1024:{slidesPerView:8},800:{slidesPerView:2},320:{slidesPerView:2}},pagination:!0,navigation:!1,scrollbar:!1,spaceBetween:4};function $oe(){const t=Fe(pl),[e,n]=Yt(yre),[r,i]=z.useState(!1),{showModal:s}=Ht(),{selectedYear:o,setSelectedYear:l,clubBookListByYear:u}=Q4(),d=z.useMemo(()=>{if(!e)return null;const v=e.map(y=>{const{creatorId:w,id:_,...b}=y;return Object.entries(b).map(([k,{book:S,counts:T,impressionList:N}])=>({...S,counts:T,impressionList:N.map(O=>({...O,creatorId:w}))}))}).flat();return Object.values(v.reduce((y,w)=>{const{title:_,counts:b}=w;return y[_]?(y[_].counts+=b,y[_].readers+=1):y[_]={...w,readers:1},y},{})).sort((y,w)=>{const _=w.readers-y.readers;return _!==0?_:w.counts-y.counts})},[e]),f=z.useMemo(()=>{const y=t.map(({id:k})=>(e==null?void 0:e.find(({creatorId:T})=>T===k))||{id:k,creatorId:k}).map(k=>{const S=Object.entries(k).filter(([N])=>N!=="id"&&N!=="creatorId").map(([N,O])=>({...O.book,counts:O.counts})),T=S.reduce((N,O)=>N+O.counts,0);return{creatorId:k.creatorId,totalScore:T,rereadingBookList:S}}).sort((k,S)=>S.totalScore-k.totalScore);let w=0,_=-1,b=0;return y.map((k,S)=>{const{rereadingBookList:T,creatorId:N,totalScore:O}=k;_===O?b++:(w=S+1+b,b=0),_=O;const D=T.reduce((j,{counts:R})=>j+R,0);return{creatorId:N,rank:w,rereadingBookList:T,totalRereadingCounts:D}})},[e]);z.useEffect(()=>{e||qn(Qa,n)},[]);const p=(o===jt?pD.filter(v=>+v<=+zr):pD).map(v=>Pr(`${o}-${v}`,$4)),m=(v,y,w)=>{const _=d.find(({title:b})=>b===v.title);s({element:x.jsx(Aoe,{selectedBook:_||v,readers:(_==null?void 0:_.readers)||0,counts:(_==null?void 0:_.counts)||0,reason:y,recommendedUser:w})})};return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`${jt}년 개인별 챌린지`,backBtn:!0}),x.jsxs("main",{children:[x.jsxs("header",{className:"mb-10 mt-2 flex gap-x-3",children:[x.jsxs("div",{className:"w-2/3 rounded-xl bg-white p-4 shadow-card",children:[x.jsxs("h4",{className:"mb-3.5 flex items-center gap-2",children:["📚✨2025년 챌린지"," ",x.jsx("div",{className:"flex-1 border-t-2 border-dotted border-gray3"})]}),x.jsx("span",{className:"font-bold",children:"독서모임의 책들을 다시 읽어보기!"})]}),x.jsx(gE,{hyphenDate:`${jt}-12-21`,className:"flex flex-1 flex-col items-center justify-center rounded-xl bg-indigo-200 p-2 text-xl font-bold text-indigo-700 shadow-card"})]}),x.jsxs(Vt,{title:"독서모임의 책들",children:[x.jsx(jF,{selectedYear:o,handleChangeYear:l,buttonClassName:"!px-3 h-9 min-h-9"}),x.jsx("p",{className:"mt-4 text-sm text-gray1",children:"책의 썸네일을 클릭한 후 재독 소감을 작성하면 재독수가 증가합니다! 과연 누구의 재독 수가 가장 많을까요?!"}),x.jsxs("ul",{className:"mt-5 grid grid-cols-10 gap-6 max-md:grid-cols-7 max-sm:grid-cols-4 max-sm:gap-5",children:[u.map(v=>x.jsx("li",{children:x.jsx("button",{type:"button",className:"w-full",onClick:()=>m(v),children:x.jsx(In,{title:v.title,thumbnail:v.thumbnail,className:"w-full rounded-md shadow-card"})})},v.datetime)),p.map(v=>x.jsx(Ioe,{coll:v,onChallengeBookClick:m},v))]})]}),d&&(d==null?void 0:d.length)>0&&x.jsx(Vt,{className:"!mb-10 !mt-16",title:"🔥현재 가장 여러 번 다시 읽은 책은?",children:x.jsx(iv,{options:Foe,children:d.map((v,y)=>x.jsx(wf,{children:x.jsx(Doe,{bookWithRank:v,rank:y+1})},v.title))})}),x.jsx(Vt,{className:"!mt-10",title:"🙋🏻현재 멤버별 챌린지 현황",children:(f==null?void 0:f.length)!==0&&x.jsxs(x.Fragment,{children:[x.jsx("ul",{className:"grid grid-cols-4 gap-5 max-sm:grid-cols-2",children:f==null?void 0:f.slice(0,r?void 0:4).map(v=>x.jsx(Poe,{userRank:v},v.creatorId))}),x.jsx("button",{type:"button",className:"mt-7 flex items-center self-center rounded-full bg-gray4 px-6 py-2 text-sm text-blue1",onClick:()=>i(v=>!v),children:r?"접기":"더보기"})]})})]})]})}function B2({title:t,memberList:e}){return x.jsxs("div",{className:"rounded-card bg-white p-4 shadow-card",children:[x.jsx(Hn,{text:t,color:t.includes("참석")?"green":"red",className:"mr-3 font-medium"}),e.length!==0?x.jsx("ul",{className:"mt-4 flex flex-wrap items-center gap-3",children:e.map(n=>x.jsx(li,{userId:n,tag:!0,isLink:!0},n))}):x.jsx("span",{className:"mt-4 block text-gray1",children:"불참 멤버가 없어요!🚀"})]})}function FF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FF(t))&&(r&&(r+=" "),r+=e);return r}function De(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Mt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function $i(t,e){const n=De(t);return isNaN(e)?Mt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Hi(t,e){const n=De(t);if(isNaN(e))return Mt(t,NaN);if(!e)return n;const r=n.getDate(),i=Mt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function yE(t,e){const n=+De(t);return Mt(t,n+e)}const $F=6048e5,Boe=864e5,sv=6e4,ov=36e5,Voe=1e3;function Uoe(t,e){return yE(t,e*ov)}let qoe={};function ml(){return qoe}function Ks(t,e){var l,u,d,f;const n=ml(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=De(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ku(t){return Ks(t,{weekStartsOn:1})}function BF(t){const e=De(t),n=e.getFullYear(),r=Mt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ku(r),s=Mt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=ku(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ja(t){const e=De(t);return e.setHours(0,0,0,0),e}function Em(t){const e=De(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tu(t,e){const n=Ja(t),r=Ja(e),i=+n-Em(n),s=+r-Em(r);return Math.round((i-s)/Boe)}function Hoe(t){const e=BF(t),n=Mt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ku(n)}function L_(t,e){return yE(t,e*sv)}function wE(t,e){const n=e*3;return Hi(t,n)}function zoe(t,e){return yE(t,e*1e3)}function km(t,e){const n=e*7;return $i(t,n)}function Fs(t,e){return Hi(t,e*12)}function V2(t){let e;return t.forEach(function(n){const r=De(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function U2(t){let e;return t.forEach(n=>{const r=De(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Woe(t,e){const n=Ja(t),r=Ja(e);return+n==+r}function $s(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tm(t){if(!$s(t)&&typeof t!="number")return!1;const e=De(t);return!isNaN(Number(e))}function Cm(t,e){const n=De(t),r=De(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Ra(t){const e=De(t);return Math.trunc(e.getMonth()/3)+1}function Om(t,e){const n=De(t),r=De(e),i=n.getFullYear()-r.getFullYear(),s=Ra(n)-Ra(r);return i*4+s}function Nm(t,e){const n=De(t),r=De(e);return n.getFullYear()-r.getFullYear()}function Yoe(t,e){const n=De(t),r=De(e),i=q2(n,r),s=Math.abs(Tu(n,r));n.setDate(n.getDate()-i*s);const o=+(q2(n,r)===-i),l=i*(s-o);return l===0?0:l}function q2(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function VF(t){const e=De(t);return e.setHours(23,59,59,999),e}function UF(t){const e=De(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function j_(t){const e=De(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function qF(t){const e=De(t);return e.setDate(1),e.setHours(0,0,0,0),e}function HF(t){const e=De(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function av(t){const e=De(t),n=Mt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Goe(t,e){var l,u;const n=ml(),r=n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=De(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const Koe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qoe=(t,e,n)=>{let r;const i=Koe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function m1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Xoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Joe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eae={date:m1({formats:Xoe,defaultWidth:"full"}),time:m1({formats:Joe,defaultWidth:"full"}),dateTime:m1({formats:Zoe,defaultWidth:"full"})},tae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nae=(t,e,n,r)=>tae[t];function Lc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const rae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uae=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cae={ordinalNumber:uae,era:Lc({values:rae,defaultWidth:"wide"}),quarter:Lc({values:iae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lc({values:sae,defaultWidth:"wide"}),day:Lc({values:oae,defaultWidth:"wide"}),dayPeriod:Lc({values:aae,defaultWidth:"wide",formattingValues:lae,defaultFormattingWidth:"wide"})};function jc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?fae(l,h=>h.test(o)):dae(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function dae(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function fae(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hae(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const pae=/^(\d+)(th|st|nd|rd)?/i,mae=/\d+/i,gae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vae={any:[/^b/i,/^(a|c)/i]},yae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wae={any:[/1/i,/2/i,/3/i,/4/i]},bae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_ae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Eae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tae={ordinalNumber:hae({matchPattern:pae,parsePattern:mae,valueCallback:t=>parseInt(t,10)}),era:jc({matchPatterns:gae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any"}),quarter:jc({matchPatterns:yae,defaultMatchWidth:"wide",parsePatterns:wae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jc({matchPatterns:bae,defaultMatchWidth:"wide",parsePatterns:_ae,defaultParseWidth:"any"}),day:jc({matchPatterns:xae,defaultMatchWidth:"wide",parsePatterns:Sae,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:Eae,defaultMatchWidth:"any",parsePatterns:kae,defaultParseWidth:"any"})},zF={code:"en-US",formatDistance:Qoe,formatLong:eae,formatRelative:nae,localize:cae,match:Tae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cae(t){const e=De(t);return Tu(e,av(e))+1}function bE(t){const e=De(t),n=+ku(e)-+Hoe(e);return Math.round(n/$F)+1}function _E(t,e){var f,h,p,m;const n=De(t),r=n.getFullYear(),i=ml(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Mt(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=Ks(o,e),u=Mt(t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=Ks(u,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Oae(t,e){var l,u,d,f;const n=ml(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=_E(t,e),s=Mt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ks(s,e)}function WF(t,e){const n=De(t),r=+Ks(n,e)-+Oae(n,e);return Math.round(r/$F)+1}function Rt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ko={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Rt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Rt(n+1,2)},d(t,e){return Rt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Rt(t.getHours()%12||12,e.length)},H(t,e){return Rt(t.getHours(),e.length)},m(t,e){return Rt(t.getMinutes(),e.length)},s(t,e){return Rt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Rt(i,e.length)}},Ul={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ko.y(t,e)},Y:function(t,e,n,r){const i=_E(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Rt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Rt(s,e.length)},R:function(t,e){const n=BF(t);return Rt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Rt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Rt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Rt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ko.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Rt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=WF(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Rt(i,e.length)},I:function(t,e,n){const r=bE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Rt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ko.d(t,e)},D:function(t,e,n){const r=Cae(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Rt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Rt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Rt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Rt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ul.noon:r===0?i=Ul.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ul.evening:r>=12?i=Ul.afternoon:r>=4?i=Ul.morning:i=Ul.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ko.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ko.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ko.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ko.s(t,e)},S:function(t,e){return ko.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return W2(r);case"XXXX":case"XX":return Sa(r);case"XXXXX":case"XXX":default:return Sa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return W2(r);case"xxxx":case"xx":return Sa(r);case"xxxxx":case"xxx":default:return Sa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+z2(r,":");case"OOOO":default:return"GMT"+Sa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+z2(r,":");case"zzzz":default:return"GMT"+Sa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Rt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Rt(r,e.length)}};function z2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Rt(s,2)}function W2(t,e){return t%60===0?(t>0?"-":"+")+Rt(Math.abs(t)/60,2):Sa(t,e)}function Sa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Rt(Math.trunc(r/60),2),s=Rt(r%60,2);return n+i+e+s}const Y2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Nae=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Y2(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Y2(r,e)).replace("{{time}}",YF(i,e))},Dm={p:YF,P:Nae},Dae=/^D+$/,Iae=/^Y+$/,Aae=["D","DD","YY","YYYY"];function GF(t){return Dae.test(t)}function KF(t){return Iae.test(t)}function F_(t,e,n){const r=Pae(t,e,n);if(console.warn(r),Aae.includes(t))throw new RangeError(r)}function Pae(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lae=/^'([^]*?)'?$/,jae=/''/g,Fae=/[a-zA-Z]/;function G2(t,e,n){var f,h,p,m,v,y,w,_;const r=ml(),i=(n==null?void 0:n.locale)??r.locale??zF,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,l=De(t);if(!Tm(l))throw new RangeError("Invalid time value");let u=e.match(Mae).map(b=>{const k=b[0];if(k==="p"||k==="P"){const S=Dm[k];return S(b,i.formatLong)}return b}).join("").match(Rae).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const k=b[0];if(k==="'")return{isToken:!1,value:$ae(b)};if(H2[k])return{isToken:!0,value:b};if(k.match(Fae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(b=>{if(!b.isToken)return b.value;const k=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&KF(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&GF(k))&&F_(k,e,String(t));const S=H2[k[0]];return S(l,k,i.localize,d)}).join("")}function $ae(t){const e=t.match(Lae);return e?e[1].replace(jae,"'"):t}function K2(t){return De(t).getDate()}function Bae(t){return De(t).getDay()}function Vae(t){const e=De(t),n=e.getFullYear(),r=e.getMonth(),i=Mt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Uae(){return Object.assign({},ml())}function ps(t){return De(t).getHours()}function qae(t){let n=De(t).getDay();return n===0&&(n=7),n}function ms(t){return De(t).getMinutes()}function Rr(t){return De(t).getMonth()}function Bs(t){return De(t).getSeconds()}function $_(t){return De(t).getTime()}function ht(t){return De(t).getFullYear()}function Go(t,e){const n=De(t),r=De(e);return n.getTime()>r.getTime()}function Za(t,e){const n=De(t),r=De(e);return+n<+r}function Hae(t,e){const n=De(t),r=De(e);return+n==+r}function zae(t,e){const n=e instanceof Date?Mt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const Wae=10;class QF{constructor(){Pe(this,"subPriority",0)}validate(e,n){return!0}}class Yae extends QF{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Gae extends QF{constructor(){super(...arguments);Pe(this,"priority",Wae);Pe(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Mt(n,zae(n,Date))}}class Ot{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new Yae(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class Kae extends Ot{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const xn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ss={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Sn(t,e){return t&&{value:e(t.value),rest:t.rest}}function cn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function os(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*ov+s*sv+o*Voe),rest:e.slice(n[0].length)}}function XF(t){return cn(xn.anyDigitsSigned,t)}function vn(t,e){switch(t){case 1:return cn(xn.singleDigit,e);case 2:return cn(xn.twoDigits,e);case 3:return cn(xn.threeDigits,e);case 4:return cn(xn.fourDigits,e);default:return cn(new RegExp("^\\d{1,"+t+"}"),e)}}function Im(t,e){switch(t){case 1:return cn(xn.singleDigitSigned,e);case 2:return cn(xn.twoDigitsSigned,e);case 3:return cn(xn.threeDigitsSigned,e);case 4:return cn(xn.fourDigitsSigned,e);default:return cn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function xE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function JF(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,l=t>=s%100;i=t+o-(l?100:0)}return n?i:1-i}function ZF(t){return t%400===0||t%4===0&&t%100!==0}class Qae extends Ot{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Sn(vn(4,n),s);case"yo":return Sn(i.ordinalNumber(n,{unit:"year"}),s);default:return Sn(vn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const l=JF(i.year,s);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Xae extends Ot{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Sn(vn(4,n),s);case"Yo":return Sn(i.ordinalNumber(n,{unit:"year"}),s);default:return Sn(vn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=_E(n,s);if(i.isTwoDigitYear){const u=JF(i.year,o);return n.setFullYear(u,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Ks(n,s)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Ks(n,s)}}class Jae extends Ot{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Im(r==="R"?4:r.length,n)}set(n,r,i){const s=Mt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),ku(s)}}class Zae extends Ot{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Im(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class ele extends Ot{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return vn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class tle extends Ot{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return vn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class nle extends Ot{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Sn(cn(xn.month,n),s);case"MM":return Sn(vn(2,n),s);case"Mo":return Sn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class rle extends Ot{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Sn(cn(xn.month,n),s);case"LL":return Sn(vn(2,n),s);case"Lo":return Sn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function ile(t,e,n){const r=De(t),i=WF(r,n)-e;return r.setDate(r.getDate()-i*7),r}class sle extends Ot{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return cn(xn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return vn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Ks(ile(n,i,s),s)}}function ole(t,e){const n=De(t),r=bE(n)-e;return n.setDate(n.getDate()-r*7),n}class ale extends Ot{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return cn(xn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return vn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return ku(ole(n,i))}}const lle=[31,28,31,30,31,30,31,31,30,31,30,31],ule=[31,29,31,30,31,30,31,31,30,31,30,31];class cle extends Ot{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return cn(xn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return vn(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=ZF(i),o=n.getMonth();return s?r>=1&&r<=ule[o]:r>=1&&r<=lle[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class dle extends Ot{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return cn(xn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return vn(r.length,n)}}validate(n,r){const i=n.getFullYear();return ZF(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function SE(t,e,n){var h,p,m,v;const r=ml(),i=(n==null?void 0:n.weekStartsOn)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,s=De(t),o=s.getDay(),u=(e%7+7)%7,d=7-i,f=e<0||e>6?e-(o+d)%7:(u+d)%7-(o+d)%7;return $i(s,f)}class fle extends Ot{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=SE(n,i,s),n.setHours(0,0,0,0),n}}class hle extends Ot{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=l=>{const u=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return Sn(vn(r.length,n),o);case"eo":return Sn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=SE(n,i,s),n.setHours(0,0,0,0),n}}class ple extends Ot{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=l=>{const u=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return Sn(vn(r.length,n),o);case"co":return Sn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=SE(n,i,s),n.setHours(0,0,0,0),n}}function mle(t,e){const n=De(t),r=qae(n),i=e-r;return $i(n,i)}class gle extends Ot{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return vn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Sn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Sn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Sn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Sn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=mle(n,i),n.setHours(0,0,0,0),n}}class vle extends Ot{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(xE(i),0,0,0),n}}class yle extends Ot{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(xE(i),0,0,0),n}}class wle extends Ot{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(xE(i),0,0,0),n}}class ble extends Ot{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return cn(xn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return vn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class _le extends Ot{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return cn(xn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return vn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class xle extends Ot{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return cn(xn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return vn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Sle extends Ot{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return cn(xn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return vn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class Ele extends Ot{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return cn(xn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return vn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class kle extends Ot{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return cn(xn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return vn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Tle extends Ot{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Sn(vn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Cle extends Ot{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return os(ss.basicOptionalMinutes,n);case"XX":return os(ss.basic,n);case"XXXX":return os(ss.basicOptionalSeconds,n);case"XXXXX":return os(ss.extendedOptionalSeconds,n);case"XXX":default:return os(ss.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Mt(n,n.getTime()-Em(n)-i)}}class Ole extends Ot{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return os(ss.basicOptionalMinutes,n);case"xx":return os(ss.basic,n);case"xxxx":return os(ss.basicOptionalSeconds,n);case"xxxxx":return os(ss.extendedOptionalSeconds,n);case"xxx":default:return os(ss.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Mt(n,n.getTime()-Em(n)-i)}}class Nle extends Ot{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(n){return XF(n)}set(n,r,i){return[Mt(n,i*1e3),{timestampIsSet:!0}]}}class Dle extends Ot{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(n){return XF(n)}set(n,r,i){return[Mt(n,i),{timestampIsSet:!0}]}}const Ile={G:new Kae,y:new Qae,Y:new Xae,R:new Jae,u:new Zae,Q:new ele,q:new tle,M:new nle,L:new rle,w:new sle,I:new ale,d:new cle,D:new dle,E:new fle,e:new hle,c:new ple,i:new gle,a:new vle,b:new yle,B:new wle,h:new ble,H:new _le,K:new xle,k:new Sle,m:new Ele,s:new kle,S:new Tle,X:new Cle,x:new Ole,t:new Nle,T:new Dle},Ale=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ple=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rle=/^'([^]*?)'?$/,Mle=/''/g,Lle=/\S/,jle=/[a-zA-Z]/;function g1(t,e,n,r){var y,w,_,b,k,S,T,N;const i=Uae(),s=(r==null?void 0:r.locale)??i.locale??zF,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(_=i.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((S=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((N=(T=i.locale)==null?void 0:T.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?De(n):Mt(n,NaN);const u={firstWeekContainsDate:o,weekStartsOn:l,locale:s},d=[new Gae],f=e.match(Ple).map(O=>{const D=O[0];if(D in Dm){const j=Dm[D];return j(O,s.formatLong)}return O}).join("").match(Ale),h=[];for(let O of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&KF(O)&&F_(O,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&GF(O)&&F_(O,e,t);const D=O[0],j=Ile[D];if(j){const{incompatibleTokens:R}=j;if(Array.isArray(R)){const P=h.find(L=>R.includes(L.token)||L.token===D);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${O}\` at the same time`)}else if(j.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);h.push({token:D,fullToken:O});const I=j.run(t,O,s.match,u);if(!I)return Mt(n,NaN);d.push(I.setter),t=I.rest}else{if(D.match(jle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(O==="''"?O="'":D==="'"&&(O=Fle(O)),t.indexOf(O)===0)t=t.slice(O.length);else return Mt(n,NaN)}}if(t.length>0&&Lle.test(t))return Mt(n,NaN);const p=d.map(O=>O.priority).sort((O,D)=>D-O).filter((O,D,j)=>j.indexOf(O)===D).map(O=>d.filter(D=>D.priority===O).sort((D,j)=>j.subPriority-D.subPriority)).map(O=>O[0]);let m=De(n);if(isNaN(m.getTime()))return Mt(n,NaN);const v={};for(const O of p){if(!O.validate(m,u))return Mt(n,NaN);const D=O.set(m,v,u);Array.isArray(D)?(m=D[0],Object.assign(v,D[1])):m=D}return Mt(n,m)}function Fle(t){return t.match(Rle)[1].replace(Mle,"'")}function $le(t,e){const n=De(t),r=De(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Ble(t,e){const n=j_(t),r=j_(e);return+n==+r}function Vle(t,e){const n=De(t),r=De(e);return n.getFullYear()===r.getFullYear()}function jd(t,e){const n=+De(t),[r,i]=[+De(e.start),+De(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function Ule(t,e){return $i(t,-1)}function qle(t,e){const r=Yle(t);let i;if(r.date){const u=Gle(r.date,2);i=Kle(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(r.time&&(o=Qle(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=Xle(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(s+o),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(s+o+l)}const ip={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yle(t){const e={},n=t.split(ip.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ip.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ip.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=ip.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Gle(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Kle(t,e){if(e===null)return new Date(NaN);const n=t.match(Hle);if(!n)return new Date(NaN);const r=!!n[4],i=Fc(n[1]),s=Fc(n[2])-1,o=Fc(n[3]),l=Fc(n[4]),u=Fc(n[5])-1;if(r)return nue(e,l,u)?Jle(e,l,u):new Date(NaN);{const d=new Date(0);return!eue(e,s,o)||!tue(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function Fc(t){return t?parseInt(t):1}function Qle(t){const e=t.match(zle);if(!e)return NaN;const n=v1(e[1]),r=v1(e[2]),i=v1(e[3]);return rue(n,r,i)?n*ov+r*sv+i*1e3:NaN}function v1(t){return t&&parseFloat(t.replace(",","."))||0}function Xle(t){if(t==="Z")return 0;const e=t.match(Wle);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return iue(r,i)?n*(r*ov+i*sv):NaN}function Jle(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const Zle=[31,null,31,30,31,30,31,31,30,31,30,31];function e3(t){return t%400===0||t%4===0&&t%100!==0}function eue(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Zle[e]||(e3(t)?29:28))}function tue(t,e){return e>=1&&e<=(e3(t)?366:365)}function nue(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function rue(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function iue(t,e){return e>=0&&e<=59}function ei(t,e){const n=De(t),r=n.getFullYear(),i=n.getDate(),s=Mt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=Vae(s);return n.setMonth(e,Math.min(i,o)),n}function sue(t,e){let n=De(t);return isNaN(+n)?Mt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ei(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Op(t,e){const n=De(t);return n.setHours(e),n}function Np(t,e){const n=De(t);return n.setMinutes(e),n}function Yl(t,e){const n=De(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return ei(n,n.getMonth()+i*3)}function Dp(t,e){const n=De(t);return n.setSeconds(e),n}function Ji(t,e){const n=De(t);return isNaN(+n)?Mt(t,NaN):(n.setFullYear(e),n)}function Ma(t,e){return Hi(t,-e)}function t3(t,e){return wE(t,-1)}function Q2(t,e){return km(t,-1)}function Cu(t,e){return Fs(t,-e)}function lv(){return typeof window<"u"}function Ko(t){return n3(t)?(t.nodeName||"").toLowerCase():"#document"}function ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(n3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function n3(t){return lv()?t instanceof Node||t instanceof ri(t).Node:!1}function Wr(t){return lv()?t instanceof Element||t instanceof ri(t).Element:!1}function bs(t){return lv()?t instanceof HTMLElement||t instanceof ri(t).HTMLElement:!1}function X2(t){return!lv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ri(t).ShadowRoot}function bf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ai(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function oue(t){return["table","td","th"].includes(Ko(t))}function aue(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function EE(t){const e=kE(),n=Wr(t)?ai(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r3(t){let e=Ou(t);for(;bs(e)&&!uv(e);){if(EE(e))return e;if(aue(e))return null;e=Ou(e)}return null}function kE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uv(t){return["html","body","#document"].includes(Ko(t))}function ai(t){return ri(t).getComputedStyle(t)}function cv(t){return Wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ou(t){if(Ko(t)==="html")return t;const e=t.assignedSlot||t.parentNode||X2(t)&&t.host||Zs(t);return X2(e)?e.host:e}function i3(t){const e=Ou(t);return uv(e)?t.ownerDocument?t.ownerDocument.body:t.body:bs(e)&&bf(e)?e:i3(e)}function Fd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=i3(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ri(i);if(s){const l=lue(o);return e.concat(o,o.visualViewport||[],bf(i)?i:[],l&&n?Fd(l):[])}return e.concat(i,Fd(i,[],n))}function lue(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Nu=Math.min,La=Math.max,Am=Math.round,sp=Math.floor,Qo=t=>({x:t,y:t}),uue={left:"right",right:"left",bottom:"top",top:"bottom"},cue={start:"end",end:"start"};function due(t,e,n){return La(t,Nu(e,n))}function dv(t,e){return typeof t=="function"?t(e):t}function Du(t){return t.split("-")[0]}function _f(t){return t.split("-")[1]}function fue(t){return t==="x"?"y":"x"}function TE(t){return t==="y"?"height":"width"}function CE(t){return["top","bottom"].includes(Du(t))?"y":"x"}function OE(t){return fue(CE(t))}function hue(t,e,n){n===void 0&&(n=!1);const r=_f(t),i=OE(t),s=TE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Pm(o)),[o,Pm(o)]}function pue(t){const e=Pm(t);return[B_(t),e,B_(e)]}function B_(t){return t.replace(/start|end/g,e=>cue[e])}function mue(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function gue(t,e,n,r){const i=_f(t);let s=mue(Du(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(B_)))),s}function Pm(t){return t.replace(/left|right|bottom|top/g,e=>uue[e])}function vue(t){return{top:0,right:0,bottom:0,left:0,...t}}function s3(t){return typeof t!="number"?vue(t):{top:t,right:t,bottom:t,left:t}}function Rm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function J2(t,e,n){let{reference:r,floating:i}=t;const s=CE(e),o=OE(e),l=TE(o),u=Du(e),d=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let m;switch(u){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(_f(e)){case"start":m[o]-=p*(n&&d?-1:1);break;case"end":m[o]+=p*(n&&d?-1:1);break}return m}const yue=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=J2(d,r,u),p=r,m={},v=0;for(let y=0;y<l.length;y++){const{name:w,fn:_}=l[y],{x:b,y:k,data:S,reset:T}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});f=b??f,h=k??h,m={...m,[w]:{...m[w],...S}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:f,y:h}=J2(d,p,u)),y=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:m}};async function wue(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=dv(e,t),v=s3(m),w=l[p?h==="floating"?"reference":"floating":h],_=Rm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),b=h==="floating"?{...o.floating,x:r,y:i}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},T=Rm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:k,strategy:u}):b);return{top:(_.top-T.top+v.top)/S.y,bottom:(T.bottom-_.bottom+v.bottom)/S.y,left:(_.left-T.left+v.left)/S.x,right:(T.right-_.right+v.right)/S.x}}const bue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=dv(t,e)||{};if(d==null)return{};const h=s3(f),p={x:n,y:r},m=OE(i),v=TE(m),y=await o.getDimensions(d),w=m==="y",_=w?"top":"left",b=w?"bottom":"right",k=w?"clientHeight":"clientWidth",S=s.reference[v]+s.reference[m]-p[m]-s.floating[v],T=p[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let O=N?N[k]:0;(!O||!await(o.isElement==null?void 0:o.isElement(N)))&&(O=l.floating[k]||s.floating[v]);const D=S/2-T/2,j=O/2-y[v]/2-1,R=Nu(h[_],j),I=Nu(h[b],j),P=R,L=O-y[v]-I,B=O/2-y[v]/2+D,U=due(P,B,L),V=!u.arrow&&_f(i)!=null&&B!==U&&s.reference[v]/2-(B<P?R:I)-y[v]/2<0,Y=V?B<P?B-P:B-L:0;return{[m]:p[m]+Y,data:{[m]:U,centerOffset:B-U-Y,...V&&{alignmentOffset:Y}},reset:V}}}),_ue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=dv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Du(i),b=Du(l)===l,k=await(u.isRTL==null?void 0:u.isRTL(d.floating)),S=p||(b||!y?[Pm(l)]:pue(l));!p&&v!=="none"&&S.push(...gue(l,y,v,k));const T=[l,...S],N=await wue(e,w),O=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&O.push(N[_]),h){const P=hue(i,o,k);O.push(N[P[0]],N[P[1]])}if(D=[...D,{placement:i,overflows:O}],!O.every(P=>P<=0)){var j,R;const P=(((j=s.flip)==null?void 0:j.index)||0)+1,L=T[P];if(L)return{data:{index:P,overflows:D},reset:{placement:L}};let B=(R=D.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(m){case"bestFit":{var I;const U=(I=D.map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,K)=>Y+K,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:I[0];U&&(B=U);break}case"initialPlacement":B=l;break}if(i!==B)return{reset:{placement:B}}}return{}}}};async function xue(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Du(n),l=_f(n),u=CE(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&u?-1:1,h=dv(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),u?{x:m*f,y:p*d}:{x:p*d,y:m*f}}const Sue=function(t){return{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await xue(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}};function o3(t){const e=ai(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bs(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Am(n)!==s||Am(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function NE(t){return Wr(t)?t:t.contextElement}function au(t){const e=NE(t);if(!bs(e))return Qo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=o3(e);let o=(s?Am(n.width):n.width)/r,l=(s?Am(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Eue=Qo(0);function a3(t){const e=ri(t);return!kE()||!e.visualViewport?Eue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ri(t)?!1:e}function el(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=NE(t);let o=Qo(1);e&&(r?Wr(r)&&(o=au(r)):o=au(t));const l=kue(s,n,r)?a3(s):Qo(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const p=ri(s),m=r&&Wr(r)?ri(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const y=au(v),w=v.getBoundingClientRect(),_=ai(v),b=w.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,k=w.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;u*=y.x,d*=y.y,f*=y.x,h*=y.y,u+=b,d+=k,v=ri(v).frameElement}}return Rm({width:f,height:h,x:u,y:d})}const Tue=[":popover-open",":modal"];function l3(t){let e=!1,n=0,r=0;function i(s){try{e=e||t.matches(s)}catch{}}if(Tue.forEach(s=>{i(s)}),e){const s=r3(t);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[e,n,r]}function Cue(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=Zs(r),[o]=e?l3(e.floating):[!1];if(r===s||o)return n;let l={scrollLeft:0,scrollTop:0},u=Qo(1);const d=Qo(0),f=bs(r);if((f||!f&&i!=="fixed")&&((Ko(r)!=="body"||bf(s))&&(l=cv(r)),bs(r))){const h=el(r);u=au(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function Oue(t){return Array.from(t.getClientRects())}function u3(t){return el(Zs(t)).left+cv(t).scrollLeft}function Nue(t){const e=Zs(t),n=cv(t),r=t.ownerDocument.body,i=La(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=La(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+u3(t);const l=-n.scrollTop;return ai(r).direction==="rtl"&&(o+=La(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function Due(t,e){const n=ri(t),r=Zs(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=kE();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function Iue(t,e){const n=el(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=bs(t)?au(t):Qo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function Z2(t,e,n){let r;if(e==="viewport")r=Due(t,n);else if(e==="document")r=Nue(Zs(t));else if(Wr(e))r=Iue(e,n);else{const i=a3(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Rm(r)}function c3(t,e){const n=Ou(t);return n===e||!Wr(n)||uv(n)?!1:ai(n).position==="fixed"||c3(n,e)}function Aue(t,e){const n=e.get(t);if(n)return n;let r=Fd(t,[],!1).filter(l=>Wr(l)&&Ko(l)!=="body"),i=null;const s=ai(t).position==="fixed";let o=s?Ou(t):t;for(;Wr(o)&&!uv(o);){const l=ai(o),u=EE(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bf(o)&&!u&&c3(t,o))?r=r.filter(f=>f!==o):i=l,o=Ou(o)}return e.set(t,r),r}function Pue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Aue(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,f)=>{const h=Z2(e,f,i);return d.top=La(h.top,d.top),d.right=Nu(h.right,d.right),d.bottom=Nu(h.bottom,d.bottom),d.left=La(h.left,d.left),d},Z2(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Rue(t){const{width:e,height:n}=o3(t);return{width:e,height:n}}function Mue(t,e,n,r){const i=bs(e),s=Zs(e),o=n==="fixed",l=el(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=Qo(0);if(i||!i&&!o)if((Ko(e)!=="body"||bf(s))&&(u=cv(e)),i){const y=el(e,!0,o,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else s&&(d.x=u3(s));let f=l.left+u.scrollLeft-d.x,h=l.top+u.scrollTop-d.y;const[p,m,v]=l3(r);return p&&(f+=m,h+=v,i&&(f+=e.clientLeft,h+=e.clientTop)),{x:f,y:h,width:l.width,height:l.height}}function eA(t,e){return!bs(t)||ai(t).position==="fixed"?null:e?e(t):t.offsetParent}function d3(t,e){const n=ri(t);if(!bs(t))return n;let r=eA(t,e);for(;r&&oue(r)&&ai(r).position==="static";)r=eA(r,e);return r&&(Ko(r)==="html"||Ko(r)==="body"&&ai(r).position==="static"&&!EE(r))?n:r||r3(t)||n}const Lue=async function(t){const e=this.getOffsetParent||d3,n=this.getDimensions;return{reference:Mue(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function jue(t){return ai(t).direction==="rtl"}const Fue={convertOffsetParentRelativeRectToViewportRelativeRect:Cue,getDocumentElement:Zs,getClippingRect:Pue,getOffsetParent:d3,getElementRects:Lue,getClientRects:Oue,getDimensions:Rue,getScale:au,isElement:Wr,isRTL:jue};function $ue(t,e){let n=null,r;const i=Zs(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:d,top:f,width:h,height:p}=t.getBoundingClientRect();if(l||e(),!h||!p)return;const m=sp(f),v=sp(i.clientWidth-(d+h)),y=sp(i.clientHeight-(f+p)),w=sp(d),b={rootMargin:-m+"px "+-v+"px "+-y+"px "+-w+"px",threshold:La(0,Nu(1,u))||1};let k=!0;function S(T){const N=T[0].intersectionRatio;if(N!==u){if(!k)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return o(!0),s}function f3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=NE(t),f=i||s?[...d?Fd(d):[],...Fd(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const h=d&&l?$ue(d,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[b]=_;b&&b.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),d&&!u&&m.observe(d),m.observe(e));let v,y=u?el(t):null;u&&w();function w(){const _=el(t);y&&(_.x!==y.x||_.y!==y.y||_.width!==y.width||_.height!==y.height)&&n(),y=_,v=requestAnimationFrame(w)}return n(),()=>{var _;f.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,u&&cancelAnimationFrame(v)}}const Bue=_ue,tA=bue,Vue=(t,e,n)=>{const r=new Map,i={platform:Fue,...n},s={...i.platform,_c:r};return yue(t,e,{...i,platform:s})};var Ip=typeof document<"u"?z.useLayoutEffect:z.useEffect;function Mm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Mm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function h3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nA(t,e){const n=h3(t);return Math.round(e*n)/n}function y1(t){const e=z.useRef(t);return Ip(()=>{e.current=t}),e}function Uue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,h]=z.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=z.useState(r);Mm(p,r)||m(r);const[v,y]=z.useState(null),[w,_]=z.useState(null),b=z.useCallback(K=>{K!==N.current&&(N.current=K,y(K))},[]),k=z.useCallback(K=>{K!==O.current&&(O.current=K,_(K))},[]),S=s||v,T=o||w,N=z.useRef(null),O=z.useRef(null),D=z.useRef(f),j=u!=null,R=y1(u),I=y1(i),P=y1(d),L=z.useCallback(()=>{if(!N.current||!O.current)return;const K={placement:e,strategy:n,middleware:p};I.current&&(K.platform=I.current),Vue(N.current,O.current,K).then(G=>{const M={...G,isPositioned:P.current!==!1};B.current&&!Mm(D.current,M)&&(D.current=M,X_.flushSync(()=>{h(M)}))})},[p,e,n,I,P]);Ip(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[d]);const B=z.useRef(!1);Ip(()=>(B.current=!0,()=>{B.current=!1}),[]),Ip(()=>{if(S&&(N.current=S),T&&(O.current=T),S&&T){if(R.current)return R.current(S,T,L);L()}},[S,T,L,R,j]);const U=z.useMemo(()=>({reference:N,floating:O,setReference:b,setFloating:k}),[b,k]),V=z.useMemo(()=>({reference:S,floating:T}),[S,T]),Y=z.useMemo(()=>{const K={position:n,left:0,top:0};if(!V.floating)return K;const G=nA(V.floating,f.x),M=nA(V.floating,f.y);return l?{...K,transform:"translate("+G+"px, "+M+"px)",...h3(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:M}},[n,l,V.floating,f.x,f.y]);return z.useMemo(()=>({...f,update:L,refs:U,elements:V,floatingStyles:Y}),[f,L,U,V,Y])}const que=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?tA({element:r.current,padding:i}).fn(n):{}:r?tA({element:r,padding:i}).fn(n):{}}}},Hue=(t,e)=>({...Sue(t),options:[t,e]}),zue=(t,e)=>({...Bue(t),options:[t,e]}),Wue=(t,e)=>({...que(t),options:[t,e]}),p3={...Fp},Yue=p3.useInsertionEffect,Gue=Yue||(t=>t());function Kue(t){const e=z.useRef(()=>{});return Gue(()=>{e.current=t}),z.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Lm=typeof document<"u"?z.useLayoutEffect:z.useEffect;let rA=!1,Que=0;const iA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Que++;function Xue(){const[t,e]=z.useState(()=>rA?iA():void 0);return Lm(()=>{t==null&&e(iA())},[]),z.useEffect(()=>{rA=!0},[]),t}const Jue=p3.useId,m3=Jue||Xue,Zue=z.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:l=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:p,d:m,style:{transform:v,...y}={},...w}=e,_=m3(),[b,k]=z.useState(!1);if(Lm(()=>{if(!i)return;ai(i).direction==="rtl"&&k(!0)},[i]),!i)return null;const[S,T]=r.split("-"),N=S==="top"||S==="bottom";let O=h;(N&&o!=null&&o.x||!N&&o!=null&&o.y)&&(O=null);const D=f*2,j=D/2,R=l/2*(d/-8+1),I=u/2*d/4,P=!!m,L=O&&T==="end"?"bottom":"top";let B=O&&T==="end"?"right":"left";O&&b&&(B=T==="end"?"left":"right");const U=(s==null?void 0:s.x)!=null?O||s.x:"",V=(s==null?void 0:s.y)!=null?O||s.y:"",Y=m||"M0,0"+(" H"+l)+(" L"+(l-R)+","+(u-I))+(" Q"+l/2+","+u+" "+R+","+(u-I))+" Z",K={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[S];return x.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:P?l:l+D,height:l,viewBox:"0 0 "+l+" "+(u>l?u:l),style:{position:"absolute",pointerEvents:"none",[B]:U,[L]:V,[S]:N||P?"100%":"calc(100% - "+D/2+"px)",transform:[K,v].filter(G=>!!G).join(" "),...y},children:[D>0&&x.jsx("path",{clipPath:"url(#"+_+")",fill:"none",stroke:p,strokeWidth:D+(m?0:1),d:Y}),x.jsx("path",{stroke:D&&!m?w.fill:"none",d:Y}),x.jsx("clipPath",{id:_,children:x.jsx("rect",{x:-j,y:j*(P?-1:1),width:l+D,height:l})})]})});function ece(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const tce=z.createContext(null),nce=z.createContext(null),rce=()=>{var t;return((t=z.useContext(tce))==null?void 0:t.id)||null},ice=()=>z.useContext(nce);function sce(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=m3(),s=z.useRef({}),[o]=z.useState(()=>ece()),l=rce()!=null,[u,d]=z.useState(r.reference),f=Kue((m,v,y)=>{s.current.openEvent=m?v:void 0,o.emit("openchange",{open:m,event:v,reason:y,nested:l}),n==null||n(m,v,y)}),h=z.useMemo(()=>({setPositionReference:d}),[]),p=z.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return z.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:p,events:o,floatingId:i,refs:h}),[e,f,p,o,i,h])}function oce(t){t===void 0&&(t={});const{nodeId:e}=t,n=sce({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=z.useState(null),[l,u]=z.useState(null),f=(i==null?void 0:i.domReference)||s,h=z.useRef(null),p=ice();Lm(()=>{f&&(h.current=f)},[f]);const m=Uue({...t,elements:{...i,...l&&{reference:l}}}),v=z.useCallback(k=>{const S=Wr(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;u(S),m.refs.setReference(S)},[m.refs]),y=z.useCallback(k=>{(Wr(k)||k===null)&&(h.current=k,o(k)),(Wr(m.refs.reference.current)||m.refs.reference.current===null||k!==null&&!Wr(k))&&m.refs.setReference(k)},[m.refs]),w=z.useMemo(()=>({...m.refs,setReference:y,setPositionReference:v,domReference:h}),[m.refs,y,v]),_=z.useMemo(()=>({...m.elements,domReference:f}),[m.elements,f]),b=z.useMemo(()=>({...m,...r,refs:w,elements:_,nodeId:e}),[m,w,_,e,r]);return Lm(()=>{r.dataRef.current.floatingContext=b;const k=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);k&&(k.context=b)}),z.useMemo(()=>({...m,context:b,refs:w,elements:_}),[m,w,_,b])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var V_=function(e,n){return V_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},V_(e,n)};function Yn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");V_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bt=function(){return bt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},bt.apply(this,arguments)};function cs(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ace=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,l=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},o)},lce=function(t,e){var n=z.useRef(null),r=z.useRef(t);r.current=t;var i=z.useCallback(function(s){var o;n.current&&!n.current.contains(s.target)&&(e&&s.target instanceof HTMLElement&&s.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return z.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},fv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,l=lce(n,o);return se.createElement("div",{className:r,style:s,ref:function(u){l.current=u,i&&(i.current=u)}},e)},Oe;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Oe||(Oe={}));function g3(){var t=typeof window<"u"?window:globalThis;return t}var xf=12,uce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Lt(t){if(t==null)return new Date;var e=typeof t=="string"?qle(t):De(t);return Is(e)?e:new Date}function w1(t,e,n,r,i){var s,o=null,l=ja(n)||ja(cd()),u=!0;if(Array.isArray(e))return e.forEach(function(f){var h=g1(t,f,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=Is(h,i)&&t===en(h,f,n)),Is(h,i)&&u&&(o=h)}),o;if(o=g1(t,e,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=Is(o)&&t===en(o,e,n);else if(!Is(o)){var d=((s=e.match(uce))!==null&&s!==void 0?s:[]).map(function(f){var h=f[0];if(h==="p"||h==="P"){var p=Dm[h];return l?p(f,l.formatLong):h}return f}).join("");t.length>0&&(o=g1(t,d.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Is(o)||(o=new Date(t))}return Is(o)&&u?o:null}function Is(t,e){return Tm(t)&&!Za(t,e??new Date("1/1/1800"))}function en(t,e,n){if(n==="en")return G2(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?ja(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&cd()&&ja(cd())&&(r=ja(cd())),G2(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function gi(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&en(t,i,r)||""}function cce(t,e,n){if(!t)return"";var r=gi(t,n),i=e?gi(e,n):"";return"".concat(r," - ").concat(i)}function dce(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?gi(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=gi(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function b1(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,l=o===void 0?0:o;return Op(Np(Dp(t,l),s),r)}function fce(t){return bE(t)}function hce(t,e){return en(t,"ddd",e)}function Ap(t){return Ja(t)}function Uo(t,e,n){var r=ja(e||cd());return Ks(t,{locale:r,weekStartsOn:n})}function Vs(t){return qF(t)}function Jc(t){return av(t)}function sA(t){return j_(t)}function oA(){return Ja(Lt())}function aA(t){return VF(t)}function pce(t){return Goe(t)}function mce(t){return UF(t)}function Zi(t,e){return t&&e?Vle(t,e):!t&&!e}function Ir(t,e){return t&&e?$le(t,e):!t&&!e}function jm(t,e){return t&&e?Ble(t,e):!t&&!e}function yt(t,e){return t&&e?Woe(t,e):!t&&!e}function Na(t,e){return t&&e?Hae(t,e):!t&&!e}function Zc(t,e,n){var r,i=Ja(e),s=VF(n);try{r=jd(t,{start:i,end:s})}catch{r=!1}return r}function cd(){var t=g3();return t.__localeId__}function ja(t){if(typeof t=="string"){var e=g3();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function gce(t,e,n){return e(en(t,"EEEE",n))}function vce(t,e){return en(t,"EEEEEE",e)}function yce(t,e){return en(t,"EEE",e)}function DE(t,e){return en(ei(Lt(),t),"LLLL",e)}function v3(t,e){return en(ei(Lt(),t),"LLL",e)}function wce(t,e){return en(Yl(Lt(),t),"QQQ",e)}function vi(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,l=n.includeDates,u=n.includeDateIntervals,d=n.filterDate;return Sf(t,{minDate:r,maxDate:i})||s&&s.some(function(f){return f instanceof Date?yt(t,f):yt(t,f.date)})||o&&o.some(function(f){var h=f.start,p=f.end;return jd(t,{start:h,end:p})})||l&&!l.some(function(f){return yt(t,f)})||u&&!u.some(function(f){var h=f.start,p=f.end;return jd(t,{start:h,end:p})})||d&&!d(Lt(t))||!1}function IE(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,l=s.end;return jd(t,{start:o,end:l})}):r&&r.some(function(s){var o;return s instanceof Date?yt(t,s):yt(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function y3(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,l=n.filterDate;return Sf(t,{minDate:r?qF(r):void 0,maxDate:i?UF(i):void 0})||(s==null?void 0:s.some(function(u){return Ir(t,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Ir(t,u)})||l&&!l(Lt(t))||!1}function op(t,e,n,r){var i=ht(t),s=Rr(t),o=ht(e),l=Rr(e),u=ht(r);return i===o&&i===u?s<=n&&n<=l:i<o?u===i&&s<=n||u===o&&l>=n||u<o&&u>i:!1}function bce(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Sf(t,{minDate:r,maxDate:i})||s&&s.some(function(l){return Ir(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return Ir(l,t)})||!1}function ap(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,l=n.filterDate;return Sf(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(u){return jm(t,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return jm(t,u)})||l&&!l(Lt(t))||!1}function lp(t,e,n){if(!e||!n||!Tm(e)||!Tm(n))return!1;var r=ht(e),i=ht(n);return r<=t&&i>=t}function Pp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,l=n.filterDate,u=new Date(t,0,1);return Sf(u,{minDate:r?av(r):void 0,maxDate:i?HF(i):void 0})||(s==null?void 0:s.some(function(d){return Zi(u,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return Zi(u,d)})||l&&!l(Lt(u))||!1}function up(t,e,n,r){var i=ht(t),s=Ra(t),o=ht(e),l=Ra(e),u=ht(r);return i===o&&i===u?s<=n&&n<=l:i<o?u===i&&s<=n||u===o&&l>=n||u<o&&u>i:!1}function Sf(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&Tu(t,i)<0||s&&Tu(t,s)>0)!==null&&n!==void 0?n:!1}function lA(t,e){return e.some(function(n){return ps(n)===ps(t)&&ms(n)===ms(t)&&Bs(n)===Bs(t)})}function uA(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&lA(t,r)||i&&!lA(t,i)||s&&!s(t)||!1}function cA(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Lt();i=Op(i,ps(t)),i=Np(i,ms(t)),i=Dp(i,Bs(t));var s=Lt();s=Op(s,ps(n)),s=Np(s,ms(n)),s=Dp(s,Bs(n));var o=Lt();o=Op(o,ps(r)),o=Np(o,ms(r)),o=Dp(o,Bs(r));var l;try{l=!jd(i,{start:s,end:o})}catch{l=!1}return l}function dA(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Ma(t,1);return r&&Cm(r,s)>0||i&&i.every(function(o){return Cm(o,s)>0})||!1}function fA(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Hi(t,1);return r&&Cm(s,r)>0||i&&i.every(function(o){return Cm(s,o)>0})||!1}function _ce(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=av(t),o=t3(s);return r&&Om(r,o)>0||i&&i.every(function(l){return Om(l,o)>0})||!1}function xce(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=HF(t),o=wE(s,1);return r&&Om(o,r)>0||i&&i.every(function(l){return Om(o,l)>0})||!1}function hA(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Cu(t,1);return r&&Nm(r,s)>0||i&&i.every(function(o){return Nm(o,s)>0})||!1}function Sce(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?xf:i,o=Jc(Cu(t,s)),l=Lo(o,s).endPeriod,u=r&&ht(r);return u&&u>l||!1}function pA(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Fs(t,1);return r&&Nm(s,r)>0||i&&i.every(function(o){return Nm(s,o)>0})||!1}function Ece(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?xf:i,o=Fs(t,s),l=Lo(o,s).startPeriod,u=r&&ht(r);return u&&u<l||!1}function w3(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Tu(i,e)>=0});return U2(r)}else return n?U2(n):e}function b3(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Tu(i,e)<=0});return V2(r)}else return n?V2(n):e}function mA(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if($s(o)){var l=en(o,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(e)||(u.push(e),r.set(l,u))}else if(typeof o=="object"){var d=Object.keys(o),f=(n=d[0])!==null&&n!==void 0?n:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var p=0,m=h.length;p<m;p++){var v=h[p];if(v){var l=en(v,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(f)||(u.push(f),r.set(l,u))}}}}return r}function kce(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function Tce(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if($s(i)){var o=en(i,"MM.dd.yyyy"),l=n.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&kce(l.holidayNames,[s]))){l.className=e;var u=l.holidayNames;l.holidayNames=u?cs(cs([],u,!0),[s],!1):[s],n.set(o,l)}}}),n}function Cce(t,e,n,r,i){for(var s=i.length,o=[],l=0;l<s;l++){var u=t,d=i[l];d&&(u=Uoe(u,ps(d)),u=L_(u,ms(d)),u=zoe(u,Bs(d)));var f=L_(t,(n+1)*r);Go(u,e)&&Za(u,f)&&d!=null&&o.push(d)}return o}function gA(t){return t<10?"0".concat(t):"".concat(t)}function Lo(t,e){e===void 0&&(e=xf);var n=Math.ceil(ht(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function Oce(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function vA(t){var e=t.getSeconds(),n=t.getMilliseconds();return De(t.getTime()-e*1e3-n)}function Nce(t,e){return vA(t).getTime()===vA(e).getTime()}function yA(t){if(!$s(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function wA(t,e){if(!$s(t)||!$s(e))throw new Error("Invalid date received");var n=yA(t),r=yA(e);return Za(n,r)}function _3(t){return t.key===Oe.Space}var Dce=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var l=r.props.date,u=l instanceof Date&&!isNaN(+l),d=u?l:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),h=f[0],p=f[1];d.setHours(Number(h)),d.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,d)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,l=s.timeString,u=s.customTimeInput;return u?z.cloneElement(u,{date:o,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(z.Component),Ice=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=z.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Oe.Space&&(r.preventDefault(),r.key=Oe.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return yt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),vi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return IE(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return yt(n.props.day,Uo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&yt(r,Uo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=en(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var l=en(s,"MM.dd.yyyy");return o.has(l)?[(r=o.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Zc(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,h=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||l||u)||!p||!d&&n.isDisabled()?!1:o&&h&&(Za(p,h)||Na(p,h))?Zc(s,p,h):l&&f&&(Go(p,f)||Na(p,f))||u&&f&&!h&&(Go(p,f)||Na(p,f))?Zc(s,f,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,l=i.selectsStart,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?yt(s,u):yt(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||u?yt(s,d):yt(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:yt(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:yt(o,i)},n.isWeekend=function(){var r=Bae(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Rr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Rr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Lt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return nr("react-datepicker__day",i,"react-datepicker__day--"+hce(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,l=r.ariaLabelPrefixWhenDisabled,u=l===void 0?"Not available":l,d=n.isDisabled()||n.isExcluded()?u:o;return"".concat(d," ").concat(en(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,l=r.excludeDates,u=en(i,"MM.dd.yyyy"),d=[];return o.has(u)&&d.push.apply(d,o.get(u).holidayNames),n.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?yt(f,i):yt(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&yt(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(K2(n.props.day),n.props.day):K2(n.props.day)},n.render=function(){return se.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&se.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(z.Component),Ace=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=z.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Oe.Space&&(r.preventDefault(),r.key=Oe.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!yt(n.props.date,n.props.selected)&&yt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||yt(n.props.date,n.props.selected)&&yt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&yt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,l=n.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&yt(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:nr(u),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(z.Component),Pce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return vi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,l,u,d=new Date(r),f=0;f<7;f++){var h=new Date(r);h.setDate(h.getDate()+f);var p=!n.isDisabled(h);if(p){d=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(d,i,s),n.props.showWeekPicker&&n.handleDayClick(d,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):fce(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=$i(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=$i(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(se.createElement(Ace,bt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var u=$i(r,l);return se.createElement(Ice,bt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:n.handleDayClick.bind(n,u),onMouseEnter:n.handleDayMouseEnter.bind(n,u)}))}))},n.startOfWeek=function(){return Uo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!yt(n.startOfWeek(),n.props.selected)&&yt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":yt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return se.createElement("div",{className:nr(n)},this.renderDays())},e}(z.Component),$c,Rce=6,lu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},_1=($c={},$c[lu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$c[lu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$c[lu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$c),cp=1;function bA(t,e){return t?lu.FOUR_COLUMNS:e?lu.TWO_COLUMNS:lu.THREE_COLUMNS}var Mce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=cs([],Array(12),!0).map(function(){return z.createRef()}),n.QUARTER_REFS=cs([],Array(4),!0).map(function(){return z.createRef()}),n.isDisabled=function(r){return vi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return IE(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,l=i.endDate;return!o||!l?!1:Ir(ei(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,l=i.endDate;return!o||!l?!1:jm(Yl(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,l=i.endDate;return!o||!l?!1:Ir(ei(s,r),l)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,l=i.endDate;return!o||!l?!1:jm(Yl(s,r),l)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,l=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,h=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(l||u||d)||!p?!1:l&&h?op(p,h,r,o):u&&f||d&&f&&!h?op(f,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,l=s.startDate,u=s.selectsStart,d=ei(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u?Ir(d,f):Ir(d,l)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,l=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=ei(o,r),h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u||d?Ir(f,h):Ir(f,l)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,l=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,h=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(l||u||d)||!p?!1:l&&h?up(p,h,r,o):u&&f||d&&f&&!h?up(f,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=$i(r,6);return Ir(r,i)||Ir(s,i)},n.isCurrentMonth=function(r,i){return ht(r)===ht(Lt())&&i===Rr(Lt())},n.isCurrentQuarter=function(r,i){return ht(r)===ht(Lt())&&i===Ra(Lt())},n.isSelectedMonth=function(r,i,s){return Rr(s)===i&&ht(r)===ht(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Ra(r)===i&&ht(r)===ht(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,l=Uo(Vs(n.props.day),n.props.locale,n.props.calendarStartDay),u=function(v){return n.props.showWeekPicker?Uo(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},d=function(v){return n.props.showWeekPicker?Uo(v,n.props.locale,n.props.calendarStartDay):n.props.selected},f=n.props.selected?d(n.props.selected):void 0,h=n.props.preSelection?u(n.props.preSelection):void 0;r.push(se.createElement(Pce,bt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:l,month:Rr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,l=km(l,1);var p=i&&s>=Rce,m=!i&&!n.isWeekInMonth(l);if(p||m)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,l=s.labelDate;o||n.handleDayClick(Vs(l),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Vs(o))},n.handleMonthNavigation=function(r,i){var s,o,l,u;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(u=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,l=n.props,u=l.selected,d=l.preSelection,f=l.setPreSelection,h=l.minDate,p=l.maxDate,m=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(d){var y=bA(m,v),w=n.getVerticalOffset(y),_=(o=_1[y])===null||o===void 0?void 0:o.grid,b=function(O,D,j){var R,I,P=D,L=j;switch(O){case Oe.ArrowRight:P=Hi(D,cp),L=j===11?0:j+cp;break;case Oe.ArrowLeft:P=Ma(D,cp),L=j===0?11:j-cp;break;case Oe.ArrowUp:P=Ma(D,w),L=!((R=_==null?void 0:_[0])===null||R===void 0)&&R.includes(j)?j+12-w:j-w;break;case Oe.ArrowDown:P=Hi(D,w),L=!((I=_==null?void 0:_[_.length-1])===null||I===void 0)&&I.includes(j)?j-12+w:j+w;break}return{newCalculatedDate:P,newCalculatedMonth:L}},k=function(O,D,j){for(var R=40,I=O,P=!1,L=0,B=b(I,D,j),U=B.newCalculatedDate,V=B.newCalculatedMonth;!P;){if(L>=R){U=D,V=j;break}if(h&&U<h){I=Oe.ArrowRight;var Y=b(I,U,V);U=Y.newCalculatedDate,V=Y.newCalculatedMonth}if(p&&U>p){I=Oe.ArrowLeft;var Y=b(I,U,V);U=Y.newCalculatedDate,V=Y.newCalculatedMonth}if(bce(U,n.props)){var Y=b(I,U,V);U=Y.newCalculatedDate,V=Y.newCalculatedMonth}else P=!0;L++}return{newCalculatedDate:U,newCalculatedMonth:V}};if(i===Oe.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),f==null||f(u));return}var S=k(i,d,s),T=S.newCalculatedDate,N=S.newCalculatedMonth;switch(i){case Oe.ArrowRight:case Oe.ArrowLeft:case Oe.ArrowUp:case Oe.ArrowDown:n.handleMonthNavigation(N,T);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=_1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,u=r.key;u!==Oe.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,u,i),l&&l(r)},n.onQuarterClick=function(r,i){var s=Yl(n.props.day,i);ap(s,n.props)||n.handleDayClick(sA(s),r)},n.onQuarterMouseEnter=function(r){var i=Yl(n.props.day,r);ap(i,n.props)||n.handleDayMouseEnter(sA(i))},n.handleQuarterNavigation=function(r,i){var s,o,l,u;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(u=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())},n.onQuarterKeyDown=function(r,i){var s,o,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case Oe.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Oe.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,wE(n.props.preSelection,1));break;case Oe.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,t3(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,l=s.minDate,u=s.maxDate,d=s.excludeDates,f=s.includeDates,h=ei(o,r);return{isDisabled:(i=(l||u||d||f)&&y3(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,l=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d(ei(s,r)):void 0,h=n.getSelection();return nr("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":h?n.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&u&&n.isSelectedMonth(s,r,u)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&l?op(o,l,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Rr(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Ra(n.props.preSelection),s=ap(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,l=i.disabledDayAriaLabelPrefix,u=l===void 0?"Not available":l,d=i.day,f=i.locale,h=ei(d,r),p=n.isDisabled(h)||n.isExcluded(h)?u:o;return"".concat(p," ").concat(en(h,"MMMM yyyy",f))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,l=i.endDate,u=i.selected,d=i.minDate,f=i.maxDate,h=i.excludeDates,p=i.includeDates,m=i.filterDate,v=i.preSelection,y=i.disabledKeyboardNavigation,w=(d||f||h||p||m)&&ap(Yl(s,r),n.props);return nr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":u?n.isSelectedQuarter(s,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&v&&n.isSelectedQuarter(s,r,v)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&l?up(o,l,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,l=i.locale,u=i.day,d=v3(r,l),f=DE(r,l);return o?o(r,d,f,u):s?f:d},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,l=s.locale,u=wce(r,l);return(i=o==null?void 0:o(r,u))!==null&&i!==void 0?i:u},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,l=i.day,u=i.selected,d=(r=_1[bA(o,s)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,h){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(p,m){return se.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(v){n.onMonthClick(v,p)},onKeyDown:function(v){_3(v)&&(v.preventDefault(),v.key=Oe.Enter),n.onMonthKeyDown(v,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(l,p)?"date":void 0,"aria-selected":u?n.isSelectedMonth(l,p,u):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,u){return se.createElement("div",{key:u,ref:n.QUARTER_REFS[u],role:"option",onClick:function(d){n.onQuarterClick(d,l)},onKeyDown:function(d){n.onQuarterKeyDown(d,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":s?n.isSelectedQuarter(i,l,s):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(i,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,l=r.showMonthYearPicker,u=r.showQuarterYearPicker,d=r.showWeekPicker;return nr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,l=o===void 0?"Month ":o,u=l?l.trim()+" ":"";return se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(en(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(z.Component),Lce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return se.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return se.createElement(fv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(z.Component),jce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return se.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return se.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return se.createElement(Lce,bt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return v3(s,n.props.locale)}:function(s){return DE(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(z.Component);function Fce(t,e){for(var n=[],r=Vs(t),i=Vs(e);!Go(r,i);)n.push(Lt(r)),r=Hi(r,1);return n}var $ce=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=$_(i),o=Zi(r.props.date,i)&&Ir(r.props.date,i);return se.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",en(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Fce(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=nr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(fv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(z.Component),Bce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Vs(n.props.minDate),i=Vs(n.props.maxDate),s=[];!Go(r,i);){var o=$_(r);s.push(se.createElement("option",{key:o,value:o},en(r,n.props.dateFormat,n.props.locale))),r=Hi(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:$_(Vs(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=en(n.props.date,n.props.dateFormat,n.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return se.createElement($ce,bt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Lt(r);Zi(n.props.date,i)&&Ir(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(z.Component),Vce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&cA(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&uA(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&Nce(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&cA(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&uA(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(ps(r)*3600+ms(r)*60+Bs(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Oe.Space&&(r.preventDefault(),r.key=Oe.Enter),(r.key===Oe.ArrowUp||r.key===Oe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Oe.ArrowDown||r.key===Oe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Oe.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,l=n.props.selected||n.props.openToDate||Lt(),u=Ap(l),d=n.props.injectTimes&&n.props.injectTimes.sort(function(w,_){return w.getTime()-_.getTime()}),f=60*Oce(l),h=f/o,p=0;p<h;p++){var m=L_(u,p*o);if(i.push(m),d){var v=Cce(u,m,p,o,d);i=i.concat(v)}}var y=i.reduce(function(w,_){return _.getTime()<=l.getTime()?_:w},i[0]);return i.map(function(w){return se.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(_){w===y&&(n.centerLi=_)},onKeyDown:function(_){n.handleOnKeyDown(_,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},en(w,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(z.Component),_A=3,Uce=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=cs([],Array(r.props.yearItemNumber),!0).map(function(){return z.createRef()}),r.isDisabled=function(i){return vi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return IE(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,l;(l=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,l,u,d,f=r.props,h=f.date,p=f.yearItemNumber;if(!(h===void 0||p===void 0)){var m=Lo(h,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((l=(o=r.props).setPreSelection)===null||l===void 0||l.call(o,s),i-m<0?r.updateFocusOnPaginate(p-(m-i)):i-m>=p?r.updateFocusOnPaginate(Math.abs(p-(i-m))):(d=(u=r.YEAR_REFS[i-m])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,s){return yt(i,s)},r.isCurrentYear=function(i){return i===ht(Lt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Zi(Ji(Lt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Zi(Ji(Lt(),i),r.props.endDate)},r.isInRange=function(i){return lp(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate;return!(o||l||u)||!r.selectingDate()?!1:o&&f?lp(i,r.selectingDate(),f):l&&d||u&&d&&!f?lp(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,l=o.startDate,u=o.selectsStart,d=Ji(Lt(),i);return u?Zi(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Zi(d,l??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,l=o.endDate,u=o.selectsEnd,d=o.selectsRange,f=Ji(Lt(),i);return u||d?Zi(f,(s=r.selectingDate())!==null&&s!==void 0?s:null):Zi(f,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,h=Jc(Ji(r.props.date,i)),p=(o||l||u||d||f)&&Pp(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!yt(h,Jc(r.props.selected))&&yt(h,Jc(r.props.preSelection))&&!p}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(Jc(Ji(o,s)),i)},r.onYearKeyDown=function(i,s){var o,l,u=i.key,d=r.props,f=d.date,h=d.yearItemNumber,p=d.handleOnKeyDown;if(u!==Oe.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case Oe.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(l=(o=r.props).setPreSelection)===null||l===void 0||l.call(o,r.props.selected);break;case Oe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Fs(r.props.preSelection,1));break;case Oe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Cu(r.props.preSelection,1));break;case Oe.ArrowUp:{if(f===void 0||h===void 0||r.props.preSelection==null)break;var m=Lo(f,h).startPeriod,v=_A,y=s-v;if(y<m){var w=h%v;s>=m&&s<m+w?v=w:v+=w,y=s-v}r.handleYearNavigation(y,Cu(r.props.preSelection,v));break}case Oe.ArrowDown:{if(f===void 0||h===void 0||r.props.preSelection==null)break;var _=Lo(f,h).endPeriod,v=_A,y=s+v;if(y>_){var w=h%v;s<=_&&s>_-w?v=w:v+=w,y=s+v}r.handleYearNavigation(y,Fs(r.props.preSelection,v));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,l=s.minDate,u=s.maxDate,d=s.selected,f=s.excludeDates,h=s.includeDates,p=s.filterDate,m=s.yearClassName;return nr("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(Ji(o,i)):void 0,{"react-datepicker__year-text--selected":d?i===ht(d):void 0,"react-datepicker__year-text--disabled":(l||u||f||h||p)&&Pp(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=ht(r.props.preSelection),o=Pp(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave;if(s===void 0)return null;for(var d=Lo(s,o),f=d.startPeriod,h=d.endPeriod,p=function(y){r.push(se.createElement("div",{ref:m.YEAR_REFS[y-f],onClick:function(w){n.onYearClick(w,y)},onKeyDown:function(w){_3(w)&&(w.preventDefault(),w.key=Oe.Enter),n.onYearKeyDown(w,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return l(w,y)},onPointerEnter:m.props.usePointerEvent?function(w){return l(w,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return u(w,y)},onPointerLeave:m.props.usePointerEvent?function(w){return u(w,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,v=f;v<=h;v++)p(v);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(z.Component);function qce(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,l=!0;n&&(l=ht(n)<=o),r&&l&&(l=ht(r)>=o),l&&i.push(o)}return i}var Hce=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var l=r.props.year,u=r.state.yearsList.map(function(h){return se.createElement("div",{className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":l===h?"true":void 0},l===h?se.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),d=r.props.minDate?ht(r.props.minDate):null,f=r.props.maxDate?ht(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(h){return h===f}))&&u.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(h){return h===d}))&&u.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var u=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:qce(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=z.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=nr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(fv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(z.Component),zce=function(t){Yn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ht(n.props.minDate):1900,i=n.props.maxDate?ht(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(se.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return se.createElement(Hce,bt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(z.Component),Wce=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Yce=function(t){var e=(t.className||"").split(/\s+/);return Wce.some(function(n){return e.indexOf(n)>=0})},Gce=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;Yce(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,l=i.openToDate,u=w3(r.props),d=b3(r.props),f=Lt(),h=l||o||s;return h||(u&&Za(f,u)?u:d&&Go(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Hi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ma(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:Ji(Lt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,l,u;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!vi(i,r.props))return i;for(var s=Vs(i),o=mce(i),l=Yoe(o,s),u=null,d=0;d<=l;d++){var f=$i(s,d);if(!vi(f,r.props)){u=f;break}}return u},r.handleMonthChange=function(i){var s,o,l,u=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:Ji(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:ei(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:Ji(ei(o,Rr(i)),ht(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Uo(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(l){var u=$i(s,l),d=r.formatWeekday(u,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return se.createElement("div",{key:l,"aria-label":en(u,"EEEE",r.props.locale),className:nr("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?gce(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?yce(i,s):vce(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Cu(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:u,f=Ma(r.state.date,d),h;switch(!0){case r.props.showMonthYearPicker:h=hA(r.state.date,r.props);break;case r.props.showYearPicker:h=Sce(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=_ce(r.state.date,r.props);break;default:h=dA(f,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),v=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,_=w.previousMonthButtonLabel,b=_===void 0?e.defaultProps.previousMonthButtonLabel:_,k=w.previousYearButtonLabel,S=k===void 0?e.defaultProps.previousYearButtonLabel:k,T=r.props,N=T.previousMonthAriaLabel,O=N===void 0?typeof b=="string"?b:"Previous Month":N,D=T.previousYearAriaLabel,j=D===void 0?typeof S=="string"?S:"Previous Year":D;return se.createElement("button",{type:"button",className:m.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?j:O},se.createElement("span",{className:p.join(" ")},y?S:b))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Fs(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=pA(r.state.date,r.props);break;case r.props.showYearPicker:s=Ece(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=xce(r.state.date,r.props);break;default:s=fA(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,h=f.nextMonthButtonLabel,p=h===void 0?e.defaultProps.nextMonthButtonLabel:h,m=f.nextYearButtonLabel,v=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=r.props,w=y.nextMonthAriaLabel,_=w===void 0?typeof p=="string"?p:"Next Month":w,b=y.nextYearAriaLabel,k=b===void 0?typeof v=="string"?v:"Next Year":b;return se.createElement("button",{type:"button",className:o.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?k:_},se.createElement("span",{className:l.join(" ")},d?v:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:s.join(" ")},en(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(zce,bt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ht(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(jce,bt({},e.defaultProps,r.props,{month:Rr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(Bce,bt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(oA(),i),r.props.setPreSelection&&r.props.setPreSelection(oA())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),se.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,l=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=dA(r.state.date,r.props),f=fA(r.state.date,r.props),h=hA(r.state.date,r.props),p=pA(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,bt(bt({},r.state),{customHeaderCount:u,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:h,nextYearButtonDisabled:p})),m&&se.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,l=o.showYearPicker,u=o.yearItemNumber,d=u===void 0?e.defaultProps.yearItemNumber:u,f=Lo(s,d),h=f.startPeriod,p=f.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(p):ht(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,l=o===void 0?0:o,u={monthDate:s,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Fs(r.state.date,u):Ma(r.state.date,u),f=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:u,h=0;h<l;++h){var p=h-f+u,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Fs(d,p):Hi(d,p),v="month-".concat(h),y=h<l-1,w=h>0;o.push(se.createElement("div",{key:v,ref:function(_){r.monthContainer=_??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:h}),se.createElement(Mce,bt({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(Uce,bt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(Vce,bt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Is(i)&&!!r.props.selected,o=s?"".concat(gA(i.getHours()),":").concat(gA(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(Dce,bt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Lo(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,l=s.endPeriod,u;return r.props.showYearPicker?u="".concat(o," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=ht(r.state.date):u="".concat(DE(Rr(r.state.date),r.props.locale)," ").concat(ht(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=z.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:xf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!yt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Ir(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!yt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||ace;return se.createElement(fv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},se.createElement(n,{className:nr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(z.Component),Kce=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):se.isValidElement(e)?se.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},x3=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return J_.createPortal(this.props.children,this.el)},e}(z.Component),Qce="[tabindex], a, button, input, select, textarea",Xce=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},S3=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Qce),1,-1).filter(Xce)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=z.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(z.Component);function Jce(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=z.useRef(null),o=oce(bt({open:!i,whileElementsMounted:f3,placement:n.popperPlacement,middleware:cs([zue({padding:15}),Hue(10),Wue({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=bt(bt({},n),{hidePopper:i,popperProps:bt(bt({},o),{arrowRef:s})});return se.createElement(t,bt({},l))};return e}var Zce=function(t){Yn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,l=n.popperComponent,u=n.targetComponent,d=n.enableTabLoop,f=n.popperOnKeyDown,h=n.portalId,p=n.portalHost,m=n.popperProps,v=n.showArrow,y=void 0;if(!o){var w=nr("react-datepicker-popper",r);y=se.createElement(S3,{enableTabLoop:d},se.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:f},l,v&&se.createElement(Zue,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=z.createElement(this.props.popperContainer,{},y)),h&&!o&&(y=se.createElement(x3,{portalId:h,portalHost:p},y));var _=nr("react-datepicker-wrapper",i);return se.createElement(se.Fragment,null,se.createElement("div",{ref:m.refs.setReference,className:_},u),y)},e}(z.Component),ede=Jce(Zce),xA="react-datepicker-ignore-onclickoutside";function tde(t,e){return t&&e?Rr(t)!==Rr(e)||ht(t)!==ht(e):t!==e}var x1="Date input not valid.",nde=function(t){Yn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Lt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var l=new Date(o.date);return Is(l)?cs(cs([],s,!0),[bt(bt({},o),{date:l})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=w3(r.props),l=b3(r.props),u=o&&Za(s,Ap(o))?o:l&&Go(s,aA(l))?l:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:mA(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(bt(bt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(bt(bt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:S1},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return $s(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,l=r.state.wasHidden,u=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var u=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:rde});var d=r.props,f=d.dateFormat,h=f===void 0?e.defaultProps.dateFormat:f,p=d.strictParsing,m=p===void 0?e.defaultProps.strictParsing:p,v=d.selectsRange,y=d.startDate,w=d.endDate,_=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(v){var b=_.split("-",2).map(function(R){return R.trim()}),k=b[0],S=b[1],T=w1(k??"",h,r.props.locale,m),N=w1(S??"",h,r.props.locale,m),O=(y==null?void 0:y.getTime())!==(T==null?void 0:T.getTime()),D=(w==null?void 0:w.getTime())!==(N==null?void 0:N.getTime());if(!O&&!D||T&&vi(T,r.props)||N&&vi(N,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[T,N],u)}else{var j=w1(_,h,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&j&&!yt(j,r.props.selected)&&(j=sue(r.props.selected,{hours:ps(j),minutes:ms(j),seconds:Bs(j)})),(j||!_)&&r.setSelected(j,u,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,u=l.startDate,d=l.endDate;u&&!d&&(r.props.swapRange||!wA(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,l){var u,d,f=i;if(r.props.showYearPicker){if(f!==null&&Pp(ht(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&y3(f,r.props))return}else if(f!==null&&vi(f,r.props))return;var h=r.props,p=h.onChange,m=h.selectsRange,v=h.startDate,y=h.endDate,w=h.selectsMultiple,_=h.selectedDates,b=h.minTime,k=h.swapRange;if(!Na(r.props.selected,f)||r.props.allowSameDay||m||w)if(f!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=b1(f,{hour:ps(r.props.selected),minute:ms(r.props.selected),second:Bs(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&b&&(f=b1(f,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var S=!v&&!y,T=v&&!y,N=v&&y;S?p==null||p([f,null],s):T&&(f===null?p==null||p([null,null],s):wA(f,v)?k?p==null||p([f,v],s):p==null||p([f,null],s):p==null||p([v,f],s)),N&&(p==null||p([f,null],s))}else if(w){if(f!==null)if(!(_!=null&&_.length))p==null||p([f],s);else{var O=_.some(function(j){return yt(j,f)});if(O){var D=_.filter(function(j){return!yt(j,f)});p==null||p(D,s)}else p==null||p(cs(cs([],_,!0),[f],!1),s)}}else p==null||p(f,s);o||((d=(u=r.props).onSelect)===null||d===void 0||d.call(u,f,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=$s(r.props.minDate),o=$s(r.props.maxDate),l=!0;if(i){var u=Ap(i);if(s&&o)l=Zc(i,r.props.minDate,r.props.maxDate);else if(s){var d=Ap(r.props.minDate);l=Go(i,d)||Na(u,d)}else if(o){var f=aA(r.props.maxDate);l=Za(i,f)||Na(u,f)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:b1(l,{hour:ps(i),minute:ms(i)});r.setState({preSelection:u}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,l,u,d,f;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===Oe.ArrowDown||h===Oe.ArrowUp||h===Oe.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(h===Oe.ArrowDown||h===Oe.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var v=Lt(r.state.preSelection);h===Oe.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===S1?(r.handleSelect(v,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):h===Oe.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===Oe.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:x1})}},r.onPortalKeyDown=function(i){var s=i.key;s===Oe.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,l,u,d,f,h=r.props,p=h.minDate,m=h.maxDate,v=h.disabledKeyboardNavigation,y=h.showWeekPicker,w=h.shouldCloseOnSelect,_=h.locale,b=h.calendarStartDay,k=h.adjustDateOnChange,S=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!v){var T=i.key,N=i.shiftKey,O=Lt(r.state.preSelection),D=function(U,V){var Y=V;switch(U){case Oe.ArrowRight:Y=y?km(V,1):$i(V,1);break;case Oe.ArrowLeft:Y=y?Q2(V):Ule(V);break;case Oe.ArrowUp:Y=Q2(V);break;case Oe.ArrowDown:Y=km(V,1);break;case Oe.PageUp:Y=N?Cu(V,1):Ma(V,1);break;case Oe.PageDown:Y=N?Fs(V,1):Hi(V,1);break;case Oe.Home:Y=Uo(V,_,b);break;case Oe.End:Y=pce(V);break}return Y},j=function(U,V){for(var Y=40,K=U,G=!1,M=0,F=D(U,V);!G;){if(M>=Y){F=V;break}p&&F<p&&(K=Oe.ArrowRight,F=vi(p,r.props)?D(K,F):p),m&&F>m&&(K=Oe.ArrowLeft,F=vi(m,r.props)?D(K,F):m),vi(F,r.props)?((K===Oe.PageUp||K===Oe.Home)&&(K=Oe.ArrowRight),(K===Oe.PageDown||K===Oe.End)&&(K=Oe.ArrowLeft),F=D(K,F)):G=!0,M++}return F};if(T===Oe.Enter){i.preventDefault(),r.handleSelect(O,i),!w&&r.setPreSelection(O);return}else if(T===Oe.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:x1});return}var R=null;switch(T){case Oe.ArrowLeft:case Oe.ArrowRight:case Oe.ArrowUp:case Oe.ArrowDown:case Oe.PageUp:case Oe.PageDown:case Oe.Home:case Oe.End:R=j(T,O);break}if(!R){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:x1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:S1}),k&&r.setSelected(R),r.setPreSelection(R),S){var I=Rr(O),P=Rr(R),L=ht(O),B=ht(R);I!==P||L!==B?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Oe.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,l=s.onChange;o?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(Gce,bt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Tce(r.modifyHolidays()),outsideClickIgnoreClass:xA,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,l=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,d=u?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(gi(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+gi(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(gi(r.props.selected,{dateFormat:o,locale:l})):r.props.showYearPicker?f="Selected year: ".concat(gi(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?f="Selected month: ".concat(gi(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(gi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):f="Selected date: ".concat(gi(r.props.selected,{dateFormat:d,locale:l})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,s,o,l=nr(r.props.className,(i={},i[xA]=r.state.open,i)),u=r.props.customInput||se.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,h=f.dateFormat,p=h===void 0?e.defaultProps.dateFormat:h,m=f.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?cce(r.props.startDate,r.props.endDate,{dateFormat:p,locale:m}):r.props.selectsMultiple?dce((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:m}):gi(r.props.selected,{dateFormat:p,locale:m});return z.cloneElement(u,(s={},s[d]=function(y){r.input=y},s.value=v,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=nr(u.props.className,l),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,l=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,h=i.clearButtonClassName,p=h===void 0?"":h,m=i.ariaLabelClose,v=m===void 0?"Close":m,y=i.selectedDates;return s&&(l!=null||u!=null||d!=null||y!=null&&y.length)?se.createElement("button",{type:"button",className:nr("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:xf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,l;n.inline&&tde(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:mA(this.props.highlightDates)}),!r.focused&&!Na(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,u=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(Kce,bt({icon:i,className:nr(o,!o&&s,u&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?se.createElement(S3,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(x3,bt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(ede,bt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(z.Component),rde="input",S1="navigate";function gs({text:t,htmlFor:e,className:n}){return x.jsx("label",{htmlFor:e||t,className:`flex flex-col py-1 pl-1 text-sm font-medium text-darkBlue ${n}`,children:t})}function AE({label:t,...e}){return x.jsxs("div",{className:"flex flex-col",children:[t&&x.jsx(gs,{text:t}),x.jsxs("div",{className:"relative",children:[x.jsx(tF,{className:"absolute left-3 top-3.5 z-[1] size-5"}),x.jsx(nde,{...e,locale:L4,minDate:new Date,shouldCloseOnSelect:!0,popperPlacement:"bottom",timeCaption:"모임시간",timeInputLabel:"모임시간:",timeFormat:"HH:mm",timeIntervals:10,onFocus:n=>n.target.blur(),className:`h-12 w-full rounded-xl border border-gray1 px-3 py-2 pl-10 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none ${e.className}`})]})]})}const dn=se.forwardRef(function({iconName:t,inputType:e,label:n,errorMsg:r,containerClassName:i,children:s,tailIconChildren:o,...l},u){const d={FiMapPin:x.jsx(aF,{className:"absolute left-3 top-3.5 size-[20px]"}),FiSearch:x.jsx(lE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiHash:x.jsx(lre,{className:"absolute left-3 top-3.5 size-[20px]"}),FiChevronsDown:x.jsx(sF,{className:"absolute left-3 top-3.5 size-[20px]"})},f="h-12 w-full rounded-xl border focus:border-pointPurple border-gray1 focus:read-only:border-gray1 focus:read-only:border focus:border-2 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none py-2";return x.jsxs("div",{className:`relative flex w-full flex-col ${i}`,children:[n&&x.jsx(gs,{text:n}),t?x.jsxs("div",{className:"relative w-full",children:[d[t],x.jsx("input",{...l,ref:u,id:n||l.id,className:`pl-10 pr-3 ${f} ${l.className}`}),o]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{...l,ref:u,id:n||l.id,className:`px-3 ${f} ${l.className}`}),o]}),r&&x.jsx("p",{className:"pl-2 pt-1 text-sm text-red-500",children:r}),s]})});function E3({title:t,currentValue:e,yearMonthId:n,registerBook:r}){var S;const i=Fe(gt),s=Fe(Ei(n)),o=s?{...s.meeting,...e}:e,{currMeeting:l,onMeetingChange:u,savedPlaceList:d,onMeetingEdit:f,onNewBookClubSubmit:h}=J4(o,n),p=+n.slice(-2),{anonymous:m}=kr("register"),{isPending:v}=Wi(),{hideModal:y}=Ht(),{errorMsg:w,handleErrorMsg:_}=rE(),b={place:[{condition:l.place==="",error:"장소를 작성해주세요."}]},k=async T=>{T.preventDefault();try{if(_(b))return;if(s)f({meeting:l});else{const O={meeting:l,createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i.uid,book:r};h(O)}y()}catch{window.alert("모임 장소 등록 중 오류가 발생했습니다. 관리자에게 문의해주세요.")}};return x.jsx(ki,{title:t,className:"!mt-[30%] max-w-96",children:x.jsxs("form",{onSubmit:k,className:"flex flex-col gap-y-3",children:["time"in e&&x.jsx(AE,{id:"모임시간",label:"모임시간",placeholderText:"정해진 모임시간이 없습니다.",selectsEnd:!0,selected:new Date(l.time),dateFormat:"M월 d일 EEEE a hh:mm",onChange:T=>{u({time:ut(T,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0}),"place"in e&&x.jsx(dn,{label:"모임장소",value:l.place,onChange:T=>{u({place:T.target.value})},placeholder:"모임 장소를 작성해주세요",iconName:"FiMapPin",errorMsg:w==null?void 0:w.place,children:x.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(S=d==null?void 0:d.place)==null?void 0:S.map(T=>x.jsx(Hn,{text:T,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>u({place:T})},T))})}),x.jsx(at,{type:"submit",name:s!=null&&s.meeting?"변경하기":`${p}월 독서모임 등록하기`,className:"ml-auto",disabled:v||m,color:"darkBlue"}),m&&x.jsx("p",{className:"ml-auto text-sm text-red-500",children:"익명의 방문자는 등록할 수 없습니다."})]})})}function k3({label:t,value:e,editable:n}){const{showModal:r}=Ht();return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"relative flex h-full items-center gap-2 overflow-hidden rounded-card bg-white px-4 shadow-card max-sm:p-2 max-sm:px-4",children:[x.jsx("h4",{className:"min-w-14 tracking-tight text-gray2",children:t}),x.jsxs("div",{className:"flex w-full flex-1 py-1",children:[e&&x.jsxs(x.Fragment,{children:[typeof e!="string"&&(e.includes("no_host")?x.jsx("span",{children:"발제자 없음"}):e==null?void 0:e.map(i=>x.jsx(li,{userId:i,tag:!0,className:"mr-1"},i))),typeof e=="string"&&e&&x.jsx("span",{className:"tracking-tight",children:t==="모임시간"?ut(e,"M월 d일 EEEE a h시 mm분"):e})]}),!e&&x.jsx("span",{className:"text-center text-sm text-gray2 max-sm:text-start",children:"정보가 아직 없어요"})]}),n&&x.jsx("button",{type:"button",onClick:()=>r({element:typeof e=="string"&&x.jsx(E3,{title:t,currentValue:t==="모임시간"?{time:e}:{place:e},yearMonthId:Ln})}),className:"absolute bottom-0 right-0 p-3",children:x.jsx(oF,{stroke:"#aaa",size:16})})]})})}function T3({yearMonthId:t,event:e,className:n=""}){var l,u,d;const r=Fe(Ei(t)),i=r&&[{label:"모임장소",value:(l=r.meeting)==null?void 0:l.place},{label:"모임시간",value:(u=r.meeting)==null?void 0:u.time},{label:"진행자",value:(d=r.meeting.eventMonth)==null?void 0:d.hosts}],s=+t.slice(-2),{pathname:o}=jn();return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:`flex flex-col justify-between rounded-card bg-white px-6 py-5 shadow-card ${n}`,children:[o==="/"&&x.jsx(Hn,{text:`${s}월 이벤트`,color:+s==+zr?"lightGreen":"purple",shape:"rounded",className:"mb-3 font-medium shadow-2xl"}),x.jsx("h1",{className:"mb-1.5 line-clamp-2 w-full text-lg font-medium leading-6",children:e.eventMonth.title}),x.jsxs("span",{className:"text-gray1",children:["이벤트 콘텐츠 ",e.eventMonth.contents.length,"개"]})]}),x.jsx("ul",{className:"col-span-2 mt-4 flex flex-col gap-6 max-sm:gap-4",children:i.map(({label:f,value:h})=>x.jsx("li",{children:x.jsx(k3,{label:f,value:h,editable:!1})},f))})]})}function C3({time:t,place:e,className:n}){return x.jsxs("div",{className:n,children:[x.jsxs("div",{className:"mb-1 flex items-center gap-x-1",children:[x.jsx(tF,{className:"text-[15px]"}),x.jsx("span",{className:"text-[15px]",children:t?ut(t,"M월 d일 EEEE h시 mm분"):"정해진 모임 시간이 없습니다."})]}),x.jsxs("div",{className:"flex items-center gap-x-1",children:[x.jsx(aF,{className:"text-[15px]"}),x.jsx("span",{className:"text-[15px]",children:e||"정해진 모임 장소가 없습니다."})]})]})}function hv({url:t,title:e}){return x.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:`text-[15px] text-gray1 ${e?"flex items-center gap-1":"inline-block"}`,children:[x.jsx(are,{}),e&&x.jsx("span",{className:"truncate",children:e})]})}function O3({bookClub:t,className:e=""}){const{meeting:{place:n,time:r},book:i,id:s}=t;return i?x.jsxs("div",{className:`flex gap-x-4 rounded-card bg-white p-5 shadow-card ${e}`,children:[x.jsx(In,{thumbnail:i.thumbnail,title:i.title,className:"w-20"}),x.jsxs("div",{className:"flex w-full flex-col justify-between",children:[x.jsxs("h1",{className:"line-clamp-2 pr-1 text-lg font-medium leading-6",children:[i.title," ",i.url&&x.jsx(hv,{url:i.url})]}),i.authors&&x.jsx(Js,{authors:i.authors,publisher:i.publisher}),x.jsx(C3,{time:r,place:n,className:"mt-3.5"})]})]}):x.jsx(T3,{yearMonthId:s,event:t.meeting})}function N3({month:t,book:e,bookFields:n,className:r=""}){const{title:i,thumbnail:s,authors:o,publisher:l,url:u}=e;return x.jsxs("div",{className:`flex justify-between gap-x-2 rounded-card bg-white px-6 py-5 shadow-card ${r}`,children:[x.jsxs("div",{className:"flex flex-col items-start justify-between max-sm:w-[70%]",children:[x.jsx(Hn,{text:`${t}월 모임책`,color:+t==+zr?"lightGreen":"purple",shape:"rounded",className:"font-medium shadow-2xl"}),x.jsx("h1",{className:"mb-0.5 mt-2.5 line-clamp-2 w-full text-lg font-medium leading-6",children:i}),x.jsx(Js,{authors:o,publisher:l}),x.jsxs("div",{className:"mb-2 mt-1 flex flex-1 items-center gap-x-0.5",children:[x.jsx(rre,{className:"text-[15px] text-gray1"}),x.jsxs("span",{className:"text-[15px] text-gray1",children:[n,"분야"]})]}),x.jsx(hv,{title:"Daum 책 상세정보",url:u})]}),x.jsx(In,{title:i,thumbnail:s,className:"max-sm:h-36"})]})}function ide(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h10v10"},child:[]},{tag:"path",attr:{d:"M7 17 17 7"},child:[]}]})(t)}function sde(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"},child:[]},{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function ode(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function ade(t){return rt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5.8 11.3 2 22l10.7-3.79"},child:[]},{tag:"path",attr:{d:"M4 3h.01"},child:[]},{tag:"path",attr:{d:"M22 8h.01"},child:[]},{tag:"path",attr:{d:"M15 2h.01"},child:[]},{tag:"path",attr:{d:"M22 20h.01"},child:[]},{tag:"path",attr:{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"},child:[]},{tag:"path",attr:{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"},child:[]},{tag:"path",attr:{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"},child:[]},{tag:"path",attr:{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"},child:[]}]})(t)}function eo({text:t,children:e,createBtnTitle:n,onCreateClick:r}){return x.jsxs("div",{className:"flex h-full min-h-[200px] w-full flex-col items-center justify-center gap-5 rounded-card bg-white p-4 shadow-card max-md:h-[200px]",children:[x.jsx("span",{className:"text-sm text-gray1",children:t}),r&&x.jsx(at,{name:n,color:"blue",handleClick:r,tailChildren:x.jsx(ide,{size:18})}),e]})}function D3(){var u,d;const t=Fe(Ei(Ln)),[e,n]=Yt(Qg),{pathname:r}=jn(),i=Er(),{bookFieldAndHostList:s}=e,o=s==null?void 0:s.find(({month:f})=>f===+zr);z.useEffect(()=>{e.bookFieldAndHostList.length===0&&ir(_i,Md,n)},[]);const l=t&&[{label:"모임장소",value:(u=t.meeting)==null?void 0:u.place,editable:r==="/bookclub"},{label:"모임시간",value:(d=t.meeting)==null?void 0:d.time,editable:r==="/bookclub"},{label:"발제자",value:o==null?void 0:o.hosts}];return x.jsx(x.Fragment,{children:t&&(t!=null&&t.book)?x.jsxs("div",{className:"grid grid-cols-5 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[x.jsx(N3,{month:`${+zr}`,book:t.book,bookFields:o==null?void 0:o.field,className:"col-span-3"}),x.jsx("div",{className:"col-span-2 flex flex-col gap-6 max-sm:gap-4",children:l.map(({label:f,value:h,editable:p})=>x.jsx(k3,{label:f,value:h,editable:p},f))})]}):x.jsx(eo,{text:"아직 등록된 이번달 모임책이 없어요.",createBtnTitle:"이번달 모임책 등록하기",onCreateClick:()=>i("/search",{state:{registerYearMonth:Ln}})})})}function lde(){const t=Wo(D4),e=Fe(lF),n=Fe(N4),{uid:r}=Fe(gt),[i,s]=z.useState({wholePage:0,currentPage:0}),o=e,{title:l,thumbnail:u,authors:d,publisher:f}=n,{anonymous:h,alertAskJoinMember:p}=kr("write"),{hideModal:m}=Ht(),v=async w=>{var k;if(w.preventDefault(),h)return p();if(Number.isNaN(i.currentPage)||Number.isNaN(i.wholePage))return alert("숫자를 입력해주세요.");if(i.wholePage===0)return alert("전체 페이지 수가 0이 될 수 없습니다. 다시 한번 확인해주세요!");if(i.currentPage>i.wholePage)return alert("현재 페이지수가 전체 페이지 수보다 많을 수 없습니다. 다시 한번 확인해주세요!");if((k=o==null?void 0:o.books)==null?void 0:k.find(S=>S.title===n.title))return alert("이미 똑같은 책이 존재하고 있어요.");const b=o?{...o,books:[...o.books,{...n,...i}]}:{createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r,books:[{...n,...i}]};await ws(rn(Gt,Qa,r),b),t([]),m(),alert("2024년 개인별 챌린지 책이 추가되었습니다! 챌린지 달성을 응원할게요!")},y=(w,_)=>{const{value:b}=w.target,k=_==="wholePage"?{wholePage:+b}:{currentPage:+b};s({...i,...k})};return x.jsxs("form",{onSubmit:v,children:[x.jsx("h3",{children:"내가 선택한 챌린지"}),x.jsxs("div",{children:[x.jsx(In,{title:l,thumbnail:u}),x.jsxs("div",{children:[x.jsx("h4",{children:l}),x.jsx(Js,{authors:d,publisher:f})]})]}),x.jsxs("div",{children:[x.jsx(dn,{label:"전체 페이지 수",name:"wholePage",value:`${i.wholePage}`,placeholder:"전체 페이지 수를 적어주세요.",onChange:w=>y(w,"wholePage")}),x.jsx(dn,{label:"현재 페이지 수",name:"currentPage",value:`${i.currentPage}`,placeholder:"현재 페이지 수를 적어주세요.",onChange:w=>y(w,"currentPage")})]}),x.jsx(at,{type:"submit",name:"챌린지 추가하기"})]})}function pv({book:t,className:e}){const{authors:n,publisher:r,thumbnail:i,title:s}=t;return x.jsxs("div",{className:`flex w-full items-center gap-3 py-1 ${e}`,children:[x.jsx(In,{thumbnail:i,title:s}),x.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-start",children:[x.jsx("h5",{className:"line-clamp-1 truncate whitespace-pre-wrap text-start",children:s}),n&&r&&x.jsx(Js,{authors:n,publisher:r})]})]})}function ude(){const[t,e]=z.useState(""),{uid:n}=Fe(gt),r=Fe(Ei(Ln)),i=Fe(KS),{sendPostPushNotification:s,isPending:o}=Wi(),{book:l}=r,{title:u,thumbnail:d,authors:f,url:h,publisher:p}=i,m=Pr(Ln,$4),v={text:t,createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:n,title:l.title,thumbnail:l.thumbnail,recommendedBook:{title:u,thumbnail:d,url:h,authors:f,publisher:p}},{onAddDocSubmit:y,onChange:w}=tE({setText:e,collName:m,docData:v}),{hideModal:_}=Ht(),b=async k=>{if(k.preventDefault(),u==="")return window.alert("추천하는 책 정보를 찾아서 넣어주세요.");if(v.text==="")return window.alert("추천 이유를 작성해주세요.");try{await y(k),await s("추천책")}catch{window.alert("추천책 등록 중 문제가 발생했습니다. 다시 시도해주세요.")}finally{_()}};return x.jsxs("form",{onSubmit:b,children:[x.jsx("textarea",{placeholder:"추천하고 싶은 이유를 작성해주세요.",onChange:w,value:t,className:"h-32 w-full resize-none rounded-xl border border-gray2 p-3 outline-none"}),x.jsxs("div",{className:"mt-3 flex items-end justify-between gap-3",children:[d&&x.jsx(pv,{book:i,className:"h-14"}),x.jsx(at,{name:"추천하기",type:"submit",className:"ml-auto h-fit min-w-max",disabled:o})]})]})}function I3(){return x.jsx("div",{className:"border-b-2 border-dotted border-gray2"})}function A3({searchList:t,onSelectBtnClick:e}){return x.jsx("ul",{className:"mt-2 h-64 overflow-scroll",children:t.map((n,r)=>x.jsxs(z.Fragment,{children:[x.jsx("li",{className:"py-2",children:x.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-x-2",onClick:()=>e(n),children:[x.jsx(pv,{book:n,className:"h-14"}),x.jsx(nF,{className:"text-lg text-darkBlue2"})]})}),(t==null?void 0:t.length)-1!==r&&x.jsx(I3,{})]},`${n.title}-${n.isbn}`))})}function cde({title:t}){const e=Wo(KS),n=Wo(N4),[r,i]=z.useState(1),{searchInputRef:s,onBookQueryChange:o,searchList:l}=iE();z.useEffect(()=>{s&&!l.length&&s.current.focus()},[]);const u=f=>{d(2),t==="추천책 작성하기"?e(f):n(f)},d=f=>i(f);return x.jsxs(ki,{title:t,children:[r===1&&x.jsxs("div",{className:"relative mt-3 min-h-64 max-sm:mt-0",children:[x.jsx(dn,{ref:s,placeholder:`${t==="추천책 작성하기"?"추천책":"챌린지 책"}을 검색해주세요.`,onChange:o,className:"bg-gray-50 pl-9",iconName:"FiSearch"}),(l==null?void 0:l.length)!==0&&x.jsx(A3,{searchList:l,onSelectBtnClick:u})]}),r===2&&(t==="추천책 작성하기"?x.jsx(ude,{}):x.jsx(lde,{}))]})}const dde=()=>{const{showModal:t}=Ht();return x.jsx(x.Fragment,{children:x.jsxs("button",{className:"mb-[10px] flex w-1/2 items-center gap-1 rounded-xl bg-white px-4 py-3 shadow-card max-sm:w-full",onClick:()=>t({element:x.jsx(cde,{title:"추천책 작성하기"})}),children:[x.jsx(lE,{fontSize:18}),x.jsx("span",{className:"text-sm text-gray2",children:"추천책 검색"})]})})},P3=Dn({key:`subjectDocs/${nn()}`,default:null}),R3=Dn({key:`hostReviews/${nn()}`,default:null}),fde=Dn({key:`meetingReviewDocs/${nn()}`,default:[]});function hde(t){return rt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function pde(t){return rt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"},child:[]}]})(t)}function mde(t){return rt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"m6.293 13.293 1.414 1.414L12 10.414l4.293 4.293 1.414-1.414L12 7.586z"},child:[]}]})(t)}function gde(t){return rt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.379-2.143-4.288-4.521-3.965C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.035C6.138 3.712 4 5.621 4 8c0 .173.012.347.035.521C2.802 9.215 2 10.535 2 12s.802 2.785 2.035 3.479A3.976 3.976 0 0 0 4 16c0 2.379 2.138 4.283 4.521 3.965C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.035C17.857 20.283 20 18.379 20 16c0-.173-.012-.347-.035-.521C21.198 14.785 22 13.465 22 12s-.802-2.785-2.035-3.479zm-9.01 7.895-3.667-3.714 1.424-1.404 2.257 2.286 4.327-4.294 1.408 1.42-5.749 5.706z"},child:[]}]})(t)}const vde=({docMonth:t})=>{var v,y;const[e,n]=z.useState(""),[r,i]=z.useState(!1),s=Fe(Ei(Ln)),{uid:o}=Fe(gt),l=Pr(t,QS),u={createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:o,text:e,title:(v=s==null?void 0:s.book)==null?void 0:v.title,thumbnail:(y=s==null?void 0:s.book)==null?void 0:y.thumbnail,isAnonymous:r},{onAddDocSubmit:d,onChange:f}=tE({setText:n,collName:l,docData:u}),{isPending:h,sendPostPushNotification:p}=Wi(),m=async w=>{if(w.preventDefault(),u.text!=="")try{await d(w),await p("모임 후기")}catch{window.alert("모임 후기 등록 중 문제가 발생했습니다. 다시 시도해주세요.")}};return x.jsx("form",{onSubmit:m,className:"mb-5 rounded-2xl bg-green3 p-4 shadow-card max-sm:p-4",children:x.jsxs("div",{className:"flex flex-col",children:[x.jsx("textarea",{placeholder:"모임 후기나 기록하고 싶은 이야기를 작성해주세요(한 문장도 좋아요!).",value:e,onChange:f,className:"mb-1 min-h-40 w-full resize-none rounded-xl bg-white p-2.5 outline-none"}),x.jsxs("div",{className:"flex items-end",children:[x.jsxs("button",{type:"button",className:`flex items-center ${r?"text-blue1":"text-gray2"} py-1`,onClick:()=>i(w=>!w),children:[x.jsx(hde,{}),x.jsx("span",{className:"pl-1",children:"익명으로 작성하기"})]}),x.jsx(at,{name:"남기기",type:"submit",color:"blue",className:"ml-auto mt-2 !px-5 !py-2",disabled:h})]})]})})};function M3({creatorId:t,isAnonymous:e}){return x.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[x.jsx(mre,{fontSize:14}),x.jsx("span",{className:"text-sm",children:"작성자"}),e?x.jsx("span",{className:"text-sm",children:"익명의 멤버"}):x.jsx(li,{tag:!0,userId:t})]})}function L3({collName:t,post:e,postType:n}){const{uid:r}=Fe(gt),{creatorId:i,isAnonymous:s}=e;return x.jsxs("header",{className:"flex items-center justify-between gap-1 rounded-xl",children:[x.jsx(M3,{creatorId:i,isAnonymous:s}),r===i&&t&&x.jsx(_F,{post:e,collName:t,postType:n})]})}function PE({type:t,post:e,collName:n,className:r,children:i}){const{text:s}=e;return x.jsxs("article",{className:`flex min-h-[80px] w-full flex-col gap-2.5 ${r}`,children:[x.jsx(L3,{collName:n,post:e,postType:t}),x.jsx(uF,{text:s}),i]})}const yde=({yearMonthId:t=Ln})=>{const[e,n]=Yt(fde),r=Pr(t,QS);z.useEffect(()=>{qn(r,n)},[r]);const i=t===Ln;return x.jsxs("div",{className:`${!i&&e.length===0?"columns-1":"columns-2"} max-sm:columns-1`,children:[i&&x.jsx(vde,{docMonth:t}),(e==null?void 0:e.length)!==0?x.jsx("ul",{children:e==null?void 0:e.map(s=>x.jsx("li",{className:"mb-6 flex w-full break-inside-avoid flex-col gap-4",children:x.jsx(PE,{type:"모임 후기",post:s,collName:r,className:"rounded-2xl bg-white p-4 shadow-card",children:x.jsx(Xg,{createdAt:s.createdAt,footerType:"likes",post:s,collName:r})})},s.id))}):x.jsx(eo,{text:"작성된 모임 후기가 없습니다."})]})};function U_({title:t,to:e,state:n,className:r="",onClick:i}){return x.jsxs(vr,{to:e,state:n,className:`mt-3 flex items-center justify-end gap-1 text-sm text-gray1 ${r}`,onClick:i,children:[t&&x.jsx("span",{className:"font-medium",children:t}),x.jsx(sE,{className:""})]})}function wde({to:t,name:e,state:n}){return x.jsxs(vr,{to:t,state:n,className:"mb-2 flex items-center gap-1 rounded-xl px-4 py-3",children:[x.jsx(hre,{className:"text-lg text-blue1"}),x.jsx("span",{className:"font-medium text-blue1",children:e})]})}const bde={spaceBetween:8,pagination:!1,scrollbar:!1,navigation:!1,autoplay:!1};function _de({yearMonthId:t}){const[e,n]=z.useState("발제문"),[r,i]=Yt(R3),[s,o]=Yt(P3);z.useEffect(()=>{qn(Pr(t,Pd),i),qn(Pr(t,Rd),o)},[t,s==null?void 0:s.length]);const{pathname:l}=jn(),u={발제문:{postList:s,linkTo:"subjects",access:"모두"},"정리 기록":{postList:r,linkTo:"host-review",access:"발제자만"}},{postList:d,linkTo:f,access:h}=u[e],{blockLinkAndAlertJoinMember:p}=kr("see");return x.jsxs("div",{className:"w-full",children:[x.jsx("ul",{className:"flex gap-1",children:Object.keys(u).map(m=>x.jsx("li",{children:x.jsx("button",{onClick:()=>n(m),className:`rounded-t-xl px-3 py-2 ${m===e?"bg-blue2 font-medium text-blue1":"bg-white text-text"}`,children:m})},m))}),x.jsx("div",{className:`flex min-h-48 w-full flex-col items-center justify-center rounded-b-2xl rounded-tr-2xl p-4 shadow-card ${e?"bg-blue2":""}`,children:(d==null?void 0:d.length)!==0?x.jsxs(x.Fragment,{children:[x.jsx(iv,{options:bde,children:d==null?void 0:d.map((m,v)=>x.jsx(wf,{className:`min-h-fit ${d.length===1?"w-full":"max-w-[70vw]"}`,children:x.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-xl bg-white p-3",children:[x.jsx(PE,{type:e,post:m,className:"relative [&>p]:line-clamp-[6]"}),x.jsxs("span",{className:"absolute right-4 top-3 text-sm text-gray1",children:[v+1," / ",d.length]}),x.jsx(U_,{title:"더보기",state:{id:t,postType:e,postId:m.id},to:f,onClick:p,className:"w-fit self-end rounded-xl bg-purple3 px-4 py-3 !text-[15px] text-purple1 shadow-card"})]})},m.id))}),x.jsx(U_,{title:`전체 ${e} 보기`,state:{id:t,postType:e},to:f,onClick:p,className:"w-fit self-end px-2 !text-[15px] text-blue-500"})]}):x.jsx(x.Fragment,{children:l.includes("previous-club")?x.jsxs("span",{className:"text-sm text-blue1",children:["기록된 ",e,"이 없습니다"]}):x.jsxs(x.Fragment,{children:[x.jsx(wde,{to:f,state:{id:t,postType:e},name:`${e} 추가하러 가기`}),x.jsxs("span",{className:"text-sm text-gray1",children:[h," 작성할 수 있어요"]})]})})})]})}function xde({collName:t,recommendedBookDetail:e}){const{creatorId:n,createdAt:r,text:i,title:s,thumbnail:o,recommendedBook:{url:l,authors:u,publisher:d,title:f,thumbnail:h}}=e;return x.jsxs(ki,{title:"추천책 보기",className:"w-[40%]",children:[x.jsx(L3,{collName:t,post:e,postType:"추천책"}),x.jsxs("div",{className:"my-4 gap-2 overflow-scroll scrollbar-hide [&>img]:float-left [&>img]:mb-2 [&>img]:mr-4 [&>img]:h-36",children:[x.jsx(In,{title:f,thumbnail:h}),x.jsxs("h4",{className:"text-lg",children:[x.jsx("span",{className:"pr-1",children:f}),l&&x.jsx(hv,{url:l})]}),x.jsx(Js,{authors:u,publisher:d}),x.jsxs("h3",{className:"mt-1 flex items-center border-t-2 border-dotted border-gray3 pt-2",children:[x.jsx(li,{userId:n}),"의 추천 이유"]}),x.jsx("p",{dangerouslySetInnerHTML:{__html:i},className:"mt-2 whitespace-pre-wrap break-all"}),x.jsx("h3",{className:"mt-10 text-sm text-gray1",children:"추천책이 나왔던 모임책"}),e.recommendedBook&&x.jsx(pv,{book:{title:s,thumbnail:o},className:"mb-10 h-14"}),x.jsx(Xg,{collName:t,createdAt:r,post:e,footerType:"likes"})]})]})}function Sde({docIds:{docId:t,monthId:e}}){var d,f;const[n,r]=z.useState(),{showModal:i}=Ht(),o=`BookClub-${e.slice(0,4)}/${e}/RecommendedBooks/`;z.useEffect(()=>{ir(o,t,r)},[]);const l=((d=n==null?void 0:n.recommendedBook)==null?void 0:d.title)||"",u=((f=n==null?void 0:n.recommendedBook)==null?void 0:f.thumbnail)||"";return x.jsx(x.Fragment,{children:n&&x.jsx("button",{type:"button",onClick:()=>i({element:x.jsx(xde,{recommendedBookDetail:n,collName:o})}),className:"mb-10 h-40",children:x.jsx(In,{title:l,thumbnail:u})})})}const Ede={breakpoints:{1024:{slidesPerView:6},800:{slidesPerView:4},500:{slidesPerView:3},320:{slidesPerView:2}},pagination:!1};function j3({yearMonthId:t}){const n=Fe(pl).map(s=>{var o;return(o=s==null?void 0:s.userRecords)==null?void 0:o.recommendedBooks}).filter(s=>!!(s!=null&&s.length)).flat().sort(hD),r=n.filter(s=>t?s.monthId===t:s).sort(hD),i=t?r:n;return i.length!==0?x.jsx(iv,{options:Ede,children:i.map(s=>x.jsx(wf,{children:x.jsx(Sde,{docIds:s})},s.docId))}):x.jsx(eo,{text:"추천된 책이 없습니다."})}const SA=()=>{const t=Fe(Ei(Ln)),{state:{docId:e,docData:n}}=jn(),r=e.slice(0,4),i=e.slice(-2),s=Wo(gf),o=Wo(Hu),{absenteeList:l,participantList:u}=Fe(X4(+i));z.useEffect(()=>{t||qn(_i,o),ir(`BookClub-${r}`,Eu,s)},[r]);const d=e===Ln;return hl(e)?x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`${d?"이달":ut(e,"yyyy년 M월")}의 한페이지`,backBtn:!d}),x.jsxs("main",{children:[x.jsx(Vt,{title:"모임 정보",children:d?x.jsx(D3,{}):x.jsx(O3,{bookClub:n,className:"w-full"})}),(d&&t||!d)&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-5 gap-x-6 max-sm:flex max-sm:flex-col [&>section:first-child]:col-span-2 [&>section:last-child]:col-span-3",children:[l&&x.jsx(Vt,{title:"참석 정보",children:x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx(B2,{title:`참석 멤버 ${u.length}명`,memberList:u}),x.jsx(B2,{title:`불참 멤버 ${l.length}명`,memberList:l})]})}),x.jsxs(Vt,{title:"발제문과 정리 기록",children:[d&&x.jsx(js,{text:"모임이 끝난 후, 이달의 책에 대한 모든 글은 달의 마지막 날까지 작성할 수 있어요. 다음 책이 업데이트 되면, 이전 책에 대한 글은 수정만 가능할 뿐 새로 작성이 불가능한 점 유의해주세요."}),x.jsx(_de,{yearMonthId:e})]})]}),x.jsxs(Vt,{title:d?"책 추천하기":"추천책",children:[d&&x.jsx(dde,{}),x.jsx(j3,{yearMonthId:e})]}),x.jsx(Vt,{title:"모임 후기",children:x.jsx(yde,{yearMonthId:e})})]})]})]}):x.jsx(yf,{})};function kde(){return x.jsx("footer",{className:"border-t border-gray3 bg-darkBlue2 px-4 pb-40 pt-10",children:x.jsx("span",{className:"mb-10 text-white",children:"ⓒ 독서모임 한페이지 All rights reserved"})})}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function Tde(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F3(t){var e=Tde(t,"string");return tl(e)=="symbol"?e:String(e)}function ed(t,e,n){return e=F3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){ed(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cde(t){if(Array.isArray(t))return t}function Ode(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $3(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Us(t,e){return Cde(t)||Ode(t,e)||$3(t,e)||Nde()}function Dde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function to(t,e){if(t==null)return{};var n=Dde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Ide=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ade(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,l=t.inputValue,u=t.menuIsOpen,d=t.onChange,f=t.onInputChange,h=t.onMenuClose,p=t.onMenuOpen,m=t.value,v=to(t,Ide),y=z.useState(l!==void 0?l:n),w=Us(y,2),_=w[0],b=w[1],k=z.useState(u!==void 0?u:i),S=Us(k,2),T=S[0],N=S[1],O=z.useState(m!==void 0?m:o),D=Us(O,2),j=D[0],R=D[1],I=z.useCallback(function(K,G){typeof d=="function"&&d(K,G),R(K)},[d]),P=z.useCallback(function(K,G){var M;typeof f=="function"&&(M=f(K,G)),b(M!==void 0?M:K)},[f]),L=z.useCallback(function(){typeof p=="function"&&p(),N(!0)},[p]),B=z.useCallback(function(){typeof h=="function"&&h(),N(!1)},[h]),U=l!==void 0?l:_,V=u!==void 0?u:T,Y=m!==void 0?m:j;return Ge(Ge({},v),{},{inputValue:U,menuIsOpen:V,onChange:I,onInputChange:P,onMenuClose:B,onMenuOpen:L,value:Y})}function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}function Pde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F3(r.key),r)}}function Rde(t,e,n){return e&&kA(t.prototype,e),n&&kA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function Mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function B3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B3=function(){return!!t})()}function Lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jde(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(t)}function Fde(t){var e=B3();return function(){var r=Fm(t),i;if(e){var s=Fm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return jde(this,i)}}function $de(t){if(Array.isArray(t))return q_(t)}function Bde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RE(t){return $de(t)||Bde(t)||$3(t)||Vde()}function Ude(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function qde(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Hde=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qde(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Ude(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),hr="-ms-",$m="-moz-",Et="-webkit-",V3="comm",ME="rule",LE="decl",zde="@import",U3="@keyframes",Wde="@layer",Yde=Math.abs,mv=String.fromCharCode,Gde=Object.assign;function Kde(t,e){return er(t,0)^45?(((e<<2^er(t,0))<<2^er(t,1))<<2^er(t,2))<<2^er(t,3):0}function q3(t){return t.trim()}function Qde(t,e){return(t=e.exec(t))?t[0]:t}function kt(t,e,n){return t.replace(e,n)}function z_(t,e){return t.indexOf(e)}function er(t,e){return t.charCodeAt(e)|0}function $d(t,e,n){return t.slice(e,n)}function es(t){return t.length}function jE(t){return t.length}function dp(t,e){return e.push(t),t}function Xde(t,e){return t.map(e).join("")}var gv=1,Iu=1,H3=0,Gr=0,On=0,Wu="";function vv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:gv,column:Iu,length:o,return:""}}function Bc(t,e){return Gde(vv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Jde(){return On}function Zde(){return On=Gr>0?er(Wu,--Gr):0,Iu--,On===10&&(Iu=1,gv--),On}function ii(){return On=Gr<H3?er(Wu,Gr++):0,Iu++,On===10&&(Iu=1,gv++),On}function vs(){return er(Wu,Gr)}function Rp(){return Gr}function Ef(t,e){return $d(Wu,t,e)}function Bd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z3(t){return gv=Iu=1,H3=es(Wu=t),Gr=0,[]}function W3(t){return Wu="",t}function Mp(t){return q3(Ef(Gr-1,W_(t===91?t+2:t===40?t+1:t)))}function efe(t){for(;(On=vs())&&On<33;)ii();return Bd(t)>2||Bd(On)>3?"":" "}function tfe(t,e){for(;--e&&ii()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return Ef(t,Rp()+(e<6&&vs()==32&&ii()==32))}function W_(t){for(;ii();)switch(On){case t:return Gr;case 34:case 39:t!==34&&t!==39&&W_(On);break;case 40:t===41&&W_(t);break;case 92:ii();break}return Gr}function nfe(t,e){for(;ii()&&t+On!==57;)if(t+On===84&&vs()===47)break;return"/*"+Ef(e,Gr-1)+"*"+mv(t===47?t:ii())}function rfe(t){for(;!Bd(vs());)ii();return Ef(t,Gr)}function ife(t){return W3(Lp("",null,null,null,[""],t=z3(t),0,[0],t))}function Lp(t,e,n,r,i,s,o,l,u){for(var d=0,f=0,h=o,p=0,m=0,v=0,y=1,w=1,_=1,b=0,k="",S=i,T=s,N=r,O=k;w;)switch(v=b,b=ii()){case 40:if(v!=108&&er(O,h-1)==58){z_(O+=kt(Mp(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:O+=Mp(b);break;case 9:case 10:case 13:case 32:O+=efe(v);break;case 92:O+=tfe(Rp()-1,7);continue;case 47:switch(vs()){case 42:case 47:dp(sfe(nfe(ii(),Rp()),e,n),u);break;default:O+="/"}break;case 123*y:l[d++]=es(O)*_;case 125*y:case 59:case 0:switch(b){case 0:case 125:w=0;case 59+f:_==-1&&(O=kt(O,/\f/g,"")),m>0&&es(O)-h&&dp(m>32?CA(O+";",r,n,h-1):CA(kt(O," ","")+";",r,n,h-2),u);break;case 59:O+=";";default:if(dp(N=TA(O,e,n,d,f,i,l,k,S=[],T=[],h),s),b===123)if(f===0)Lp(O,e,N,N,S,s,h,l,T);else switch(p===99&&er(O,3)===110?100:p){case 100:case 108:case 109:case 115:Lp(t,N,N,r&&dp(TA(t,N,N,0,0,i,l,k,i,S=[],h),T),i,T,h,l,r?S:T);break;default:Lp(O,N,N,N,[""],T,0,l,T)}}d=f=m=0,y=_=1,k=O="",h=o;break;case 58:h=1+es(O),m=v;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&Zde()==125)continue}switch(O+=mv(b),b*y){case 38:_=f>0?1:(O+="\f",-1);break;case 44:l[d++]=(es(O)-1)*_,_=1;break;case 64:vs()===45&&(O+=Mp(ii())),p=vs(),f=h=es(k=O+=rfe(Rp())),b++;break;case 45:v===45&&es(O)==2&&(y=0)}}return s}function TA(t,e,n,r,i,s,o,l,u,d,f){for(var h=i-1,p=i===0?s:[""],m=jE(p),v=0,y=0,w=0;v<r;++v)for(var _=0,b=$d(t,h+1,h=Yde(y=o[v])),k=t;_<m;++_)(k=q3(y>0?p[_]+" "+b:kt(b,/&\f/g,p[_])))&&(u[w++]=k);return vv(t,e,n,i===0?ME:l,u,d,f)}function sfe(t,e,n){return vv(t,e,n,V3,mv(Jde()),$d(t,2,-2),0)}function CA(t,e,n,r){return vv(t,e,n,LE,$d(t,0,r),$d(t,r+1,-1),r)}function uu(t,e){for(var n="",r=jE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ofe(t,e,n,r){switch(t.type){case Wde:if(t.children.length)break;case zde:case LE:return t.return=t.return||t.value;case V3:return"";case U3:return t.return=t.value+"{"+uu(t.children,r)+"}";case ME:t.value=t.props.join(",")}return es(n=uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function afe(t){var e=jE(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function lfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ufe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var cfe=function(e,n,r){for(var i=0,s=0;i=s,s=vs(),i===38&&s===12&&(n[r]=1),!Bd(s);)ii();return Ef(e,Gr)},dfe=function(e,n){var r=-1,i=44;do switch(Bd(i)){case 0:i===38&&vs()===12&&(n[r]=1),e[r]+=cfe(Gr-1,n,r);break;case 2:e[r]+=Mp(i);break;case 4:if(i===44){e[++r]=vs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=mv(i)}while(i=ii());return e},ffe=function(e,n){return W3(dfe(z3(e),n))},OA=new WeakMap,hfe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OA.get(r))&&!i){OA.set(e,!0);for(var s=[],o=ffe(n,s),l=r.props,u=0,d=0;u<o.length;u++)for(var f=0;f<l.length;f++,d++)e.props[d]=s[u]?o[u].replace(/&\f/g,l[f]):l[f]+" "+o[u]}}},pfe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Y3(t,e){switch(Kde(t,e)){case 5103:return Et+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+t+$m+t+hr+t+t;case 6828:case 4268:return Et+t+hr+t+t;case 6165:return Et+t+hr+"flex-"+t+t;case 5187:return Et+t+kt(t,/(\w+).+(:[^]+)/,Et+"box-$1$2"+hr+"flex-$1$2")+t;case 5443:return Et+t+hr+"flex-item-"+kt(t,/flex-|-self/,"")+t;case 4675:return Et+t+hr+"flex-line-pack"+kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Et+t+hr+kt(t,"shrink","negative")+t;case 5292:return Et+t+hr+kt(t,"basis","preferred-size")+t;case 6060:return Et+"box-"+kt(t,"-grow","")+Et+t+hr+kt(t,"grow","positive")+t;case 4554:return Et+kt(t,/([^-])(transform)/g,"$1"+Et+"$2")+t;case 6187:return kt(kt(kt(t,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),t,"")+t;case 5495:case 3959:return kt(t,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return kt(kt(t,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+t+t;case 4095:case 3583:case 4068:case 2532:return kt(t,/(.+)-inline(.+)/,Et+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(es(t)-1-e>6)switch(er(t,e+1)){case 109:if(er(t,e+4)!==45)break;case 102:return kt(t,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+$m+(er(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~z_(t,"stretch")?Y3(kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(er(t,e+1)!==115)break;case 6444:switch(er(t,es(t)-3-(~z_(t,"!important")&&10))){case 107:return kt(t,":",":"+Et)+t;case 101:return kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(er(t,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+hr+"$2box$3")+t}break;case 5936:switch(er(t,e+11)){case 114:return Et+t+hr+kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Et+t+hr+kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Et+t+hr+kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Et+t+hr+t+t}return t}var mfe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case LE:e.return=Y3(e.value,e.length);break;case U3:return uu([Bc(e,{value:kt(e.value,"@","@"+Et)})],i);case ME:if(e.length)return Xde(e.props,function(s){switch(Qde(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uu([Bc(e,{props:[kt(s,/:(read-\w+)/,":"+$m+"$1")]})],i);case"::placeholder":return uu([Bc(e,{props:[kt(s,/:(plac\w+)/,":"+Et+"input-$1")]}),Bc(e,{props:[kt(s,/:(plac\w+)/,":"+$m+"$1")]}),Bc(e,{props:[kt(s,/:(plac\w+)/,hr+"input-$1")]})],i)}return""})}},gfe=[mfe],vfe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||gfe,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),_=1;_<w.length;_++)s[w[_]]=!0;l.push(y)});var u,d=[hfe,pfe];{var f,h=[ofe,lfe(function(y){f.insert(y)})],p=afe(d.concat(i,h)),m=function(w){return uu(ife(w),p)};u=function(w,_,b,k){f=b,m(w?w+"{"+_.styles+"}":_.styles),k&&(v.inserted[_.name]=!0)}}var v={key:n,sheet:new Hde({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return v.sheet.hydrate(l),v},E1={exports:{}},Dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function yfe(){if(NA)return Dt;NA=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function k(T){if(typeof T=="object"&&T!==null){var N=T.$$typeof;switch(N){case e:switch(T=T.type,T){case u:case d:case r:case s:case i:case h:return T;default:switch(T=T&&T.$$typeof,T){case l:case f:case v:case m:case o:return T;default:return N}}case n:return N}}}function S(T){return k(T)===d}return Dt.AsyncMode=u,Dt.ConcurrentMode=d,Dt.ContextConsumer=l,Dt.ContextProvider=o,Dt.Element=e,Dt.ForwardRef=f,Dt.Fragment=r,Dt.Lazy=v,Dt.Memo=m,Dt.Portal=n,Dt.Profiler=s,Dt.StrictMode=i,Dt.Suspense=h,Dt.isAsyncMode=function(T){return S(T)||k(T)===u},Dt.isConcurrentMode=S,Dt.isContextConsumer=function(T){return k(T)===l},Dt.isContextProvider=function(T){return k(T)===o},Dt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},Dt.isForwardRef=function(T){return k(T)===f},Dt.isFragment=function(T){return k(T)===r},Dt.isLazy=function(T){return k(T)===v},Dt.isMemo=function(T){return k(T)===m},Dt.isPortal=function(T){return k(T)===n},Dt.isProfiler=function(T){return k(T)===s},Dt.isStrictMode=function(T){return k(T)===i},Dt.isSuspense=function(T){return k(T)===h},Dt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===d||T===s||T===i||T===h||T===p||typeof T=="object"&&T!==null&&(T.$$typeof===v||T.$$typeof===m||T.$$typeof===o||T.$$typeof===l||T.$$typeof===f||T.$$typeof===w||T.$$typeof===_||T.$$typeof===b||T.$$typeof===y)},Dt.typeOf=k,Dt}var DA;function wfe(){return DA||(DA=1,E1.exports=yfe()),E1.exports}var k1,IA;function bfe(){if(IA)return k1;IA=1;var t=wfe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(v){return t.isMemo(v)?i:s[v.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;function m(v,y,w){if(typeof y!="string"){if(p){var _=h(y);_&&_!==p&&m(v,_,w)}var b=u(y);d&&(b=b.concat(d(y)));for(var k=o(v),S=o(y),T=0;T<b.length;++T){var N=b[T];if(!n[N]&&!(w&&w[N])&&!(S&&S[N])&&!(k&&k[N])){var O=f(y,N);try{l(v,N,O)}catch{}}}}return v}return k1=m,k1}bfe();var _fe=!0;function xfe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var G3=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||_fe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Sfe=function(e,n,r){G3(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Efe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var kfe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tfe=/[A-Z]|^ms/g,Cfe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K3=function(e){return e.charCodeAt(1)===45},AA=function(e){return e!=null&&typeof e!="boolean"},T1=ufe(function(t){return K3(t)?t:t.replace(Tfe,"-$&").toLowerCase()}),PA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Cfe,function(r,i,s){return ts={name:i,styles:s,next:ts},i})}return kfe[e]!==1&&!K3(e)&&typeof n=="number"&&n!==0?n+"px":n};function Vd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ts={name:n.name,styles:n.styles,next:ts},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ts={name:r.name,styles:r.styles,next:ts},r=r.next;var i=n.styles+";";return i}return Ofe(t,e,n)}case"function":{if(t!==void 0){var s=ts,o=n(t);return ts=s,Vd(t,e,o)}break}}return n}function Ofe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Vd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")AA(o)&&(r+=T1(s)+":"+PA(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)AA(o[l])&&(r+=T1(s)+":"+PA(s,o[l])+";");else{var u=Vd(t,e,o);switch(s){case"animation":case"animationName":{r+=T1(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var RA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ts,Q3=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ts=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Vd(r,n,o)):s+=o[0];for(var l=1;l<e.length;l++)s+=Vd(r,n,e[l]),i&&(s+=o[l]);RA.lastIndex=0;for(var u="",d;(d=RA.exec(s))!==null;)u+="-"+d[1];var f=Efe(s)+u;return{name:f,styles:s,next:ts}},Nfe=function(e){return e()},Dfe=Fp.useInsertionEffect?Fp.useInsertionEffect:!1,Ife=Dfe||Nfe,FE={}.hasOwnProperty,X3=z.createContext(typeof HTMLElement<"u"?vfe({key:"css"}):null);X3.Provider;var Afe=function(e){return z.forwardRef(function(n,r){var i=z.useContext(X3);return e(n,i,r)})},Pfe=z.createContext({}),Y_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Rfe=function(e,n){var r={};for(var i in n)FE.call(n,i)&&(r[i]=n[i]);return r[Y_]=e,r},Mfe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return G3(n,r,i),Ife(function(){return Sfe(n,r,i)}),null},Lfe=Afe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Y_],s=[r],o="";typeof t.className=="string"?o=xfe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=Q3(s,void 0,z.useContext(Pfe));o+=e.key+"-"+l.name;var u={};for(var d in t)FE.call(t,d)&&d!=="css"&&d!==Y_&&(u[d]=t[d]);return u.ref=n,u.className=o,z.createElement(z.Fragment,null,z.createElement(Mfe,{cache:e,serialized:l,isStringTag:typeof i=="string"}),z.createElement(i,u))}),jfe=Lfe,ze=function(e,n){var r=arguments;if(n==null||!FE.call(n,"css"))return z.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=jfe,s[1]=Rfe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return z.createElement.apply(null,s)};function $E(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Q3(e)}var Ffe=function(){var e=$E.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function $fe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var G_=z.useLayoutEffect,Bfe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Bm=function(){};function Vfe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Ufe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Vfe(t,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var MA=function(e){return Xfe(e)?e.filter(Boolean):tl(e)==="object"&&e!==null?[e]:[]},J3=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=to(e,Bfe);return Ge({},n)},pn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(n,e),className:i(r??{},o(n,e),l)}};function yv(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function qfe(t){return yv(t)?window.innerHeight:t.clientHeight}function Z3(t){return yv(t)?window.pageYOffset:t.scrollTop}function Vm(t,e){if(yv(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Hfe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function zfe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function fp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bm,i=Z3(t),s=e-i,o=10,l=0;function u(){l+=o;var d=zfe(l,i,s,n);Vm(t,d),l<n?window.requestAnimationFrame(u):r(t)}u()}function LA(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Vm(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Vm(t,Math.max(e.offsetTop-i,0))}function Wfe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function jA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Yfe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var e5=!1,Gfe={get passive(){return e5=!0}},hp=typeof window<"u"?window:{};hp.addEventListener&&hp.removeEventListener&&(hp.addEventListener("p",Bm,Gfe),hp.removeEventListener("p",Bm,!1));var Kfe=e5;function Qfe(t){return t!=null}function Xfe(t){return Array.isArray(t)}function pp(t,e,n){return t?e:n}var Jfe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var l=Us(o,1),u=l[0];return!r.includes(u)});return s.reduce(function(o,l){var u=Us(l,2),d=u[0],f=u[1];return o[d]=f,o},{})},Zfe=["children","innerProps"],ehe=["children","innerProps"];function the(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,u=Hfe(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var f=u.getBoundingClientRect(),h=f.height,p=n.getBoundingClientRect(),m=p.bottom,v=p.height,y=p.top,w=n.offsetParent.getBoundingClientRect(),_=w.top,b=o?window.innerHeight:qfe(u),k=Z3(u),S=parseInt(getComputedStyle(n).marginBottom,10),T=parseInt(getComputedStyle(n).marginTop,10),N=_-T,O=b-y,D=N+k,j=h-k-y,R=m-b+k+S,I=k+y-T,P=160;switch(i){case"auto":case"bottom":if(O>=v)return{placement:"bottom",maxHeight:e};if(j>=v&&!o)return s&&fp(u,R,P),{placement:"bottom",maxHeight:e};if(!o&&j>=r||o&&O>=r){s&&fp(u,R,P);var L=o?O-S:j-S;return{placement:"bottom",maxHeight:L}}if(i==="auto"||o){var B=e,U=o?N:D;return U>=r&&(B=Math.min(U-S-l,e)),{placement:"top",maxHeight:B}}if(i==="bottom")return s&&Vm(u,R),{placement:"bottom",maxHeight:e};break;case"top":if(N>=v)return{placement:"top",maxHeight:e};if(D>=v&&!o)return s&&fp(u,I,P),{placement:"top",maxHeight:e};if(!o&&D>=r||o&&N>=r){var V=e;return(!o&&D>=r||o&&N>=r)&&(V=o?N-T:D-T),s&&fp(u,I,P),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function nhe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var t5=function(e){return e==="auto"?"bottom":e},rhe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,u=s.colors;return Ge((r={label:"menu"},ed(r,nhe(i),"100%"),ed(r,"position","absolute"),ed(r,"width","100%"),ed(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},n5=z.createContext(null),ihe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,u=e.theme,d=z.useContext(n5)||{},f=d.setPortalPlacement,h=z.useRef(null),p=z.useState(i),m=Us(p,2),v=m[0],y=m[1],w=z.useState(null),_=Us(w,2),b=_[0],k=_[1],S=u.spacing.controlHeight;return G_(function(){var T=h.current;if(T){var N=o==="fixed",O=l&&!N,D=the({maxHeight:i,menuEl:T,minHeight:r,placement:s,shouldScroll:O,isFixedPosition:N,controlHeight:S});y(D.maxHeight),k(D.placement),f==null||f(D.placement)}},[i,s,o,l,r,f,S]),n({ref:h,placerProps:Ge(Ge({},e),{},{placement:b||t5(s),maxHeight:v})})},she=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ze("div",Qe({},pn(e,"menu",{menu:!0}),{ref:r},i),n)},ohe=she,ahe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ge({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},lhe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ze("div",Qe({},pn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},r5=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Ge({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},uhe=r5,che=r5,dhe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=to(e,Zfe);return ze("div",Qe({},pn(Ge(Ge({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},fhe=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=to(e,ehe);return ze("div",Qe({},pn(Ge(Ge({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},hhe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},phe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,u=z.useRef(null),d=z.useRef(null),f=z.useState(t5(o)),h=Us(f,2),p=h[0],m=h[1],v=z.useMemo(function(){return{setPortalPlacement:m}},[]),y=z.useState(null),w=Us(y,2),_=w[0],b=w[1],k=z.useCallback(function(){if(i){var O=Wfe(i),D=l==="fixed"?0:window.pageYOffset,j=O[p]+D;(j!==(_==null?void 0:_.offset)||O.left!==(_==null?void 0:_.rect.left)||O.width!==(_==null?void 0:_.rect.width))&&b({offset:j,rect:O})}},[i,l,p,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);G_(function(){k()},[k]);var S=z.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&u.current&&(d.current=f3(i,u.current,k,{elementResize:"ResizeObserver"in window}))},[i,k]);G_(function(){S()},[S]);var T=z.useCallback(function(O){u.current=O,S()},[S]);if(!n&&l!=="fixed"||!_)return null;var N=ze("div",Qe({ref:T},pn(Ge(Ge({},e),{},{offset:_.offset,position:l,rect:_.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ze(n5.Provider,{value:v},n?X_.createPortal(N,n):N)},mhe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},ghe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ze("div",Qe({},pn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},vhe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ge({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},yhe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ze("div",Qe({},pn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},whe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},bhe=function(e){var n=e.children,r=e.innerProps;return ze("div",Qe({},pn(e,"indicatorsContainer",{indicators:!0}),r),n)},FA,_he=["size"],xhe=["innerProps","isRtl","size"],She={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},i5=function(e){var n=e.size,r=to(e,_he);return ze("svg",Qe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:She},r))},BE=function(e){return ze(i5,Qe({size:20},e),ze("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},s5=function(e){return ze(i5,Qe({size:20},e),ze("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},o5=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ge({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},Ehe=o5,khe=function(e){var n=e.children,r=e.innerProps;return ze("div",Qe({},pn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ze(s5,null))},The=o5,Che=function(e){var n=e.children,r=e.innerProps;return ze("div",Qe({},pn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ze(BE,null))},Ohe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ge({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Nhe=function(e){var n=e.innerProps;return ze("span",Qe({},n,pn(e,"indicatorSeparator",{"indicator-separator":!0})))},Dhe=Ffe(FA||(FA=$fe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Ihe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return Ge({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},C1=function(e){var n=e.delay,r=e.offset;return ze("span",{css:$E({animation:"".concat(Dhe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Ahe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=to(e,xhe);return ze("div",Qe({},pn(Ge(Ge({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ze(C1,{delay:0,offset:r}),ze(C1,{delay:160,offset:!0}),ze(C1,{delay:320,offset:!r}))},Phe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,u=s.spacing;return Ge({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Rhe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return ze("div",Qe({ref:s},pn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),n)},Mhe=Rhe,Lhe=["data"],jhe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Fhe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,u=e.innerProps,d=e.label,f=e.theme,h=e.selectProps;return ze("div",Qe({},pn(e,"group",{group:!0}),u),ze(o,Qe({},l,{selectProps:h,theme:f,getStyles:i,getClassNames:s,cx:r}),d),ze("div",null,n))},$he=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Ge({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Bhe=function(e){var n=J3(e);n.data;var r=to(n,Lhe);return ze("div",Qe({},pn(e,"groupHeading",{"group-heading":!0}),r))},Vhe=Fhe,Uhe=["innerRef","isDisabled","isHidden","inputClassName"],qhe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,l=s.colors;return Ge(Ge({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Hhe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},a5={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Hhe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ge({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},a5)},zhe=function(e){return Ge({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},a5)},Whe=function(e){var n=e.cx,r=e.value,i=J3(e),s=i.innerRef,o=i.isDisabled,l=i.isHidden,u=i.inputClassName,d=to(i,Uhe);return ze("div",Qe({},pn(e,"input",{"input-container":!0}),{"data-value":r||""}),ze("input",Qe({className:n({input:!0},u),ref:s,style:zhe(l),disabled:o},d)))},Yhe=Whe,Ghe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Ge({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Khe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Ge({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Qhe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,l=e.isFocused;return Ge({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},l5=function(e){var n=e.children,r=e.innerProps;return ze("div",r,n)},Xhe=l5,Jhe=l5;function Zhe(t){var e=t.children,n=t.innerProps;return ze("div",Qe({role:"button"},n),e||ze(BE,{size:14}))}var epe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,u=e.selectProps,d=r.Container,f=r.Label,h=r.Remove;return ze(d,{data:i,innerProps:Ge(Ge({},pn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:u},ze(f,{data:i,innerProps:Ge({},pn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),ze(h,{data:i,innerProps:Ge(Ge({},pn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:u}))},tpe=epe,npe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,u=o.colors;return Ge({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?u.primary:u.primary50}})},rpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return ze("div",Qe({},pn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},l),n)},ipe=rpe,spe=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Ge({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ope=function(e){var n=e.children,r=e.innerProps;return ze("div",Qe({},pn(e,"placeholder",{placeholder:!0}),r),n)},ape=ope,lpe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Ge({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},upe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ze("div",Qe({},pn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},cpe=upe,dpe={ClearIndicator:Che,Control:Mhe,DropdownIndicator:khe,DownChevron:s5,CrossIcon:BE,Group:Vhe,GroupHeading:Bhe,IndicatorsContainer:bhe,IndicatorSeparator:Nhe,Input:Yhe,LoadingIndicator:Ahe,Menu:ohe,MenuList:lhe,MenuPortal:phe,LoadingMessage:fhe,NoOptionsMessage:dhe,MultiValue:tpe,MultiValueContainer:Xhe,MultiValueLabel:Jhe,MultiValueRemove:Zhe,Option:ipe,Placeholder:ape,SelectContainer:ghe,SingleValue:cpe,ValueContainer:yhe},fpe=function(e){return Ge(Ge({},dpe),e.components)},$A=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function hpe(t,e){return!!(t===e||$A(t)&&$A(e))}function ppe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!hpe(t[n],e[n]))return!1;return!0}function mpe(t,e){e===void 0&&(e=ppe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var gpe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vpe=function(e){return ze("span",Qe({css:gpe},e))},BA=vpe,ype={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,u=e.isDisabled,d=e.isSelected,f=e.isAppleDevice,h=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,r),".");if(n==="menu"&&f){var p=u?" disabled":"",m="".concat(d?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},wpe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,u=e.selectProps,d=e.id,f=e.isAppleDevice,h=u.ariaLiveMessages,p=u.getOptionLabel,m=u.inputValue,v=u.isMulti,y=u.isOptionDisabled,w=u.isSearchable,_=u.menuIsOpen,b=u.options,k=u.screenReaderStatus,S=u.tabSelectsValue,T=u.isLoading,N=u["aria-label"],O=u["aria-live"],D=z.useMemo(function(){return Ge(Ge({},ype),h||{})},[h]),j=z.useMemo(function(){var U="";if(n&&D.onChange){var V=n.option,Y=n.options,K=n.removedValue,G=n.removedValues,M=n.value,F=function(ee){return Array.isArray(ee)?null:ee},$=K||V||F(M),W=$?p($):"",Q=Y||G||void 0,J=Q?Q.map(p):[],H=Ge({isDisabled:$&&y($,l),label:W,labels:J},n);U=D.onChange(H)}return U},[n,D,y,l,p]),R=z.useMemo(function(){var U="",V=r||i,Y=!!(r&&l&&l.includes(r));if(V&&D.onFocus){var K={focused:V,label:p(V),isDisabled:y(V,l),isSelected:Y,options:s,context:V===r?"menu":"value",selectValue:l,isAppleDevice:f};U=D.onFocus(K)}return U},[r,i,p,y,D,s,l,f]),I=z.useMemo(function(){var U="";if(_&&b.length&&!T&&D.onFilter){var V=k({count:s.length});U=D.onFilter({inputValue:m,resultsMessage:V})}return U},[s,m,_,D,b,k,T]),P=(n==null?void 0:n.action)==="initial-input-focus",L=z.useMemo(function(){var U="";if(D.guidance){var V=i?"value":_?"menu":"input";U=D.guidance({"aria-label":N,context:V,isDisabled:r&&y(r,l),isMulti:v,isSearchable:w,tabSelectsValue:S,isInitialFocus:P})}return U},[N,r,i,v,y,w,_,D,l,S,P]),B=ze(z.Fragment,null,ze("span",{id:"aria-selection"},j),ze("span",{id:"aria-focused"},R),ze("span",{id:"aria-results"},I),ze("span",{id:"aria-guidance"},L));return ze(z.Fragment,null,ze(BA,{id:d},P&&B),ze(BA,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!P&&B))},bpe=wpe,K_=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],_pe=new RegExp("["+K_.map(function(t){return t.letters}).join("")+"]","g"),u5={};for(var O1=0;O1<K_.length;O1++)for(var N1=K_[O1],D1=0;D1<N1.letters.length;D1++)u5[N1.letters[D1]]=N1.base;var c5=function(e){return e.replace(_pe,function(n){return u5[n]})},xpe=mpe(c5),VA=function(e){return e.replace(/^\s+|\s+$/g,"")},Spe=function(e){return"".concat(e.label," ").concat(e.value)},Epe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ge({ignoreCase:!0,ignoreAccents:!0,stringify:Spe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,l=i.stringify,u=i.trim,d=i.matchFrom,f=u?VA(r):r,h=u?VA(l(n)):l(n);return s&&(f=f.toLowerCase(),h=h.toLowerCase()),o&&(f=xpe(f),h=c5(h)),d==="start"?h.substr(0,f.length)===f:h.indexOf(f)>-1}},kpe=["innerRef"];function Tpe(t){var e=t.innerRef,n=to(t,kpe),r=Jfe(n,"onExited","in","enter","exit","appear");return ze("input",Qe({ref:e},r,{css:$E({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Cpe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Ope(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=z.useRef(!1),l=z.useRef(!1),u=z.useRef(0),d=z.useRef(null),f=z.useCallback(function(w,_){if(d.current!==null){var b=d.current,k=b.scrollTop,S=b.scrollHeight,T=b.clientHeight,N=d.current,O=_>0,D=S-T-k,j=!1;D>_&&o.current&&(r&&r(w),o.current=!1),O&&l.current&&(s&&s(w),l.current=!1),O&&_>D?(n&&!o.current&&n(w),N.scrollTop=S,j=!0,o.current=!0):!O&&-_>k&&(i&&!l.current&&i(w),N.scrollTop=0,j=!0,l.current=!0),j&&Cpe(w)}},[n,r,i,s]),h=z.useCallback(function(w){f(w,w.deltaY)},[f]),p=z.useCallback(function(w){u.current=w.changedTouches[0].clientY},[]),m=z.useCallback(function(w){var _=u.current-w.changedTouches[0].clientY;f(w,_)},[f]),v=z.useCallback(function(w){if(w){var _=Kfe?{passive:!1}:!1;w.addEventListener("wheel",h,_),w.addEventListener("touchstart",p,_),w.addEventListener("touchmove",m,_)}},[m,p,h]),y=z.useCallback(function(w){w&&(w.removeEventListener("wheel",h,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,h]);return z.useEffect(function(){if(e){var w=d.current;return v(w),function(){y(w)}}},[e,v,y]),function(w){d.current=w}}var UA=["boxSizing","height","overflow","paddingRight","position"],qA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function HA(t){t.preventDefault()}function zA(t){t.stopPropagation()}function WA(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function YA(){return"ontouchstart"in window||navigator.maxTouchPoints}var GA=!!(typeof window<"u"&&window.document&&window.document.createElement),Vc=0,ql={capture:!1,passive:!1};function Npe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=z.useRef({}),s=z.useRef(null),o=z.useCallback(function(u){if(GA){var d=document.body,f=d&&d.style;if(r&&UA.forEach(function(v){var y=f&&f[v];i.current[v]=y}),r&&Vc<1){var h=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+h||0;Object.keys(qA).forEach(function(v){var y=qA[v];f&&(f[v]=y)}),f&&(f.paddingRight="".concat(m,"px"))}d&&YA()&&(d.addEventListener("touchmove",HA,ql),u&&(u.addEventListener("touchstart",WA,ql),u.addEventListener("touchmove",zA,ql))),Vc+=1}},[r]),l=z.useCallback(function(u){if(GA){var d=document.body,f=d&&d.style;Vc=Math.max(Vc-1,0),r&&Vc<1&&UA.forEach(function(h){var p=i.current[h];f&&(f[h]=p)}),d&&YA()&&(d.removeEventListener("touchmove",HA,ql),u&&(u.removeEventListener("touchstart",WA,ql),u.removeEventListener("touchmove",zA,ql)))}},[r]);return z.useEffect(function(){if(e){var u=s.current;return o(u),function(){l(u)}}},[e,o,l]),function(u){s.current=u}}var Dpe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Ipe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ape(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,u=t.onTopLeave,d=Ope({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:u}),f=Npe({isEnabled:n}),h=function(m){d(m),f(m)};return ze(z.Fragment,null,n&&ze("div",{onClick:Dpe,css:Ipe}),e(h))}var Ppe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Rpe=function(e){var n=e.name,r=e.onFocus;return ze("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Ppe,value:"",onChange:function(){}})},Mpe=Rpe;function VE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Lpe(){return VE(/^iPhone/i)}function d5(){return VE(/^Mac/i)}function jpe(){return VE(/^iPad/i)||d5()&&navigator.maxTouchPoints>1}function Fpe(){return Lpe()||jpe()}function $pe(){return d5()||Fpe()}var Bpe=function(e){return e.label},Vpe=function(e){return e.label},Upe=function(e){return e.value},qpe=function(e){return!!e.isDisabled},Hpe={clearIndicator:The,container:mhe,control:Phe,dropdownIndicator:Ehe,group:jhe,groupHeading:$he,indicatorsContainer:whe,indicatorSeparator:Ohe,input:qhe,loadingIndicator:Ihe,loadingMessage:che,menu:rhe,menuList:ahe,menuPortal:hhe,multiValue:Ghe,multiValueLabel:Khe,multiValueRemove:Qhe,noOptionsMessage:uhe,option:npe,placeholder:spe,singleValue:lpe,valueContainer:vhe},zpe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Wpe=4,f5=4,Ype=38,Gpe=f5*2,Kpe={baseUnit:f5,controlHeight:Ype,menuGutter:Gpe},I1={borderRadius:Wpe,colors:zpe,spacing:Kpe},Qpe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:jA(),captureMenuScroll:!jA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Epe(),formatGroupLabel:Bpe,getOptionLabel:Vpe,getOptionValue:Upe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:qpe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Yfe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function KA(t,e,n,r){var i=m5(t,e,n),s=g5(t,e,n),o=p5(t,e),l=Um(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:l,index:r}}function jp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,l){return KA(t,o,e,l)}).filter(function(o){return XA(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=KA(t,n,e,r);return XA(t,s)?s:void 0}).filter(Qfe)}function h5(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,RE(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function QA(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,RE(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Xpe(t,e){return h5(jp(t,e))}function XA(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,l=e.value;return(!y5(t)||!s)&&v5(t,{label:o,value:l,data:i},r)}function Jpe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Zpe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var A1=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},p5=function(e,n){return e.getOptionLabel(n)},Um=function(e,n){return e.getOptionValue(n)};function m5(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function g5(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Um(t,e);return n.some(function(i){return Um(t,i)===r})}function v5(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var y5=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},eme=1,w5=function(t){Mde(n,t);var e=Fde(n);function n(r){var i;if(Pde(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=$pe(),i.controlRef=null,i.getControlRef=function(u){i.controlRef=u},i.focusedOptionRef=null,i.getFocusedOptionRef=function(u){i.focusedOptionRef=u},i.menuListRef=null,i.getMenuListRef=function(u){i.menuListRef=u},i.inputRef=null,i.getInputRef=function(u){i.inputRef=u},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(u,d){var f=i.props,h=f.onChange,p=f.name;d.name=p,i.ariaOnChange(u,d),h(u,d)},i.setValue=function(u,d,f){var h=i.props,p=h.closeMenuOnSelect,m=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(u,{action:d,option:f})},i.selectOption=function(u){var d=i.props,f=d.blurInputOnSelect,h=d.isMulti,p=d.name,m=i.state.selectValue,v=h&&i.isOptionSelected(u,m),y=i.isOptionDisabled(u,m);if(v){var w=i.getOptionValue(u);i.setValue(m.filter(function(_){return i.getOptionValue(_)!==w}),"deselect-option",u)}else if(!y)h?i.setValue([].concat(RE(m),[u]),"select-option",u):i.setValue(u,"select-option");else{i.ariaOnChange(u,{action:"select-option",option:u,name:p});return}f&&i.blurInput()},i.removeValue=function(u){var d=i.props.isMulti,f=i.state.selectValue,h=i.getOptionValue(u),p=f.filter(function(v){return i.getOptionValue(v)!==h}),m=pp(d,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:u}),i.focusInput()},i.clearValue=function(){var u=i.state.selectValue;i.onChange(pp(i.props.isMulti,[],null),{action:"clear",removedValues:u})},i.popValue=function(){var u=i.props.isMulti,d=i.state.selectValue,f=d[d.length-1],h=d.slice(0,d.length-1),p=pp(u,h,h[0]||null);i.onChange(p,{action:"pop-value",removedValue:f})},i.getFocusedOptionId=function(u){return A1(i.state.focusableOptionsWithIds,u)},i.getFocusableOptionsWithIds=function(){return QA(jp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return Ufe.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(u){return p5(i.props,u)},i.getOptionValue=function(u){return Um(i.props,u)},i.getStyles=function(u,d){var f=i.props.unstyled,h=Hpe[u](d,f);h.boxSizing="border-box";var p=i.props.styles[u];return p?p(h,d):h},i.getClassNames=function(u,d){var f,h;return(f=(h=i.props.classNames)[u])===null||f===void 0?void 0:f.call(h,d)},i.getElementId=function(u){return"".concat(i.state.instancePrefix,"-").concat(u)},i.getComponents=function(){return fpe(i.props)},i.buildCategorizedOptions=function(){return jp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return h5(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(u,d){i.setState({ariaSelection:Ge({value:u},d)})},i.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(u){i.blockOptionHover=!1},i.onControlMouseDown=function(u){if(!u.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},i.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!i.props.isDisabled){var d=i.props,f=d.isMulti,h=d.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()):i.openMenu("first"),u.preventDefault()}},i.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(i.clearValue(),u.preventDefault(),i.openAfterFocus=!1,u.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(u){typeof i.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&yv(u.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(u)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(u){var d=u.touches,f=d&&d.item(0);f&&(i.initialTouchX=f.clientX,i.initialTouchY=f.clientY,i.userIsDragging=!1)},i.onTouchMove=function(u){var d=u.touches,f=d&&d.item(0);if(f){var h=Math.abs(f.clientX-i.initialTouchX),p=Math.abs(f.clientY-i.initialTouchY),m=5;i.userIsDragging=h>m||p>m}},i.onTouchEnd=function(u){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(u.target)&&i.menuListRef&&!i.menuListRef.contains(u.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(u){i.userIsDragging||i.onControlMouseDown(u)},i.onClearIndicatorTouchEnd=function(u){i.userIsDragging||i.onClearIndicatorMouseDown(u)},i.onDropdownIndicatorTouchEnd=function(u){i.userIsDragging||i.onDropdownIndicatorMouseDown(u)},i.handleInputChange=function(u){var d=i.props.inputValue,f=u.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(f,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(u){i.props.onFocus&&i.props.onFocus(u),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(u){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(u),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(u){if(!(i.blockOptionHover||i.state.focusedOption===u)){var d=i.getFocusableOptions(),f=d.indexOf(u);i.setState({focusedOption:u,focusedOptionId:f>-1?i.getFocusedOptionId(u):null})}},i.shouldHideSelectedOptions=function(){return y5(i.props)},i.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),i.focus()},i.onKeyDown=function(u){var d=i.props,f=d.isMulti,h=d.backspaceRemovesValue,p=d.escapeClearsValue,m=d.inputValue,v=d.isClearable,y=d.isDisabled,w=d.menuIsOpen,_=d.onKeyDown,b=d.tabSelectsValue,k=d.openMenuOnFocus,S=i.state,T=S.focusedOption,N=S.focusedValue,O=S.selectValue;if(!y&&!(typeof _=="function"&&(_(u),u.defaultPrevented))){switch(i.blockOptionHover=!0,u.key){case"ArrowLeft":if(!f||m)return;i.focusValue("previous");break;case"ArrowRight":if(!f||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(N)i.removeValue(N);else{if(!h)return;f?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||u.shiftKey||!w||!b||!T||k&&i.isOptionSelected(T,O))return;i.selectOption(T);break;case"Enter":if(u.keyCode===229)break;if(w){if(!T||i.isComposing)return;i.selectOption(T);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):v&&p&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!T)return;i.selectOption(T);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}u.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++eme),i.state.selectValue=MA(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),l=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[l],i.state.focusedOptionId=A1(s,o[l])}return i}return Rde(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&LA(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&i.isDisabled||u&&l&&!i.menuIsOpen)&&this.focusInput(),u&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(LA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,l=o.selectValue,u=o.isFocused,d=this.buildFocusableOptions(),f=i==="first"?0:d.length-1;if(!this.props.isMulti){var h=d.indexOf(l[0]);h>-1&&(f=h)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[f],focusedOptionId:this.getFocusedOptionId(d[f])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(l);l||(u=-1);var d=o.length-1,f=-1;if(o.length){switch(i){case"previous":u===0?f=0:u===-1?f=d:f=u-1;break;case"next":u>-1&&u<d&&(f=u+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var u=0,d=l.indexOf(o);o||(d=-1),i==="up"?u=d>0?d-1:l.length-1:i==="down"?u=(d+1)%l.length:i==="pageup"?(u=d-s,u<0&&(u=0)):i==="pagedown"?(u=d+s,u>l.length-1&&(u=l.length-1)):i==="last"&&(u=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(I1):Ge(Ge({},I1),this.props.theme):I1}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,u=this.getValue,d=this.selectOption,f=this.setValue,h=this.props,p=h.isMulti,m=h.isRtl,v=h.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:l,getValue:u,hasValue:y,isMulti:p,isRtl:m,options:v,selectOption:d,selectProps:h,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return m5(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return g5(this.props,i,s)}},{key:"filterOption",value:function(i,s){return v5(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,l=i.inputId,u=i.inputValue,d=i.tabIndex,f=i.form,h=i.menuIsOpen,p=i.required,m=this.getComponents(),v=m.Input,y=this.state,w=y.inputIsHidden,_=y.ariaSelection,b=this.commonProps,k=l||this.getElementId("input"),S=Ge(Ge(Ge({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?z.createElement(v,Qe({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:k,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:f,type:"text",value:u},S)):z.createElement(Tpe,Qe({id:k,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Bm,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:f,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,u=s.MultiValueLabel,d=s.MultiValueRemove,f=s.SingleValue,h=s.Placeholder,p=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,w=m.isMulti,_=m.inputValue,b=m.placeholder,k=this.state,S=k.selectValue,T=k.focusedValue,N=k.isFocused;if(!this.hasValue()||!v)return _?null:z.createElement(h,Qe({},p,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),b);if(w)return S.map(function(D,j){var R=D===T,I="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return z.createElement(o,Qe({},p,{components:{Container:l,Label:u,Remove:d},isFocused:R,isDisabled:y,key:I,index:j,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(L){L.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(_)return null;var O=S[0];return z.createElement(f,Qe({},p,{data:O,isDisabled:y}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return z.createElement(s,Qe({},o,{innerProps:h,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!s||!d)return null;var h={"aria-hidden":"true"};return z.createElement(s,Qe({},o,{innerProps:h,isDisabled:u,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused;return z.createElement(o,Qe({},l,{isDisabled:u,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return z.createElement(s,Qe({},o,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,u=s.Menu,d=s.MenuList,f=s.MenuPortal,h=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,w=this.props,_=w.captureMenuScroll,b=w.inputValue,k=w.isLoading,S=w.loadingMessage,T=w.minMenuHeight,N=w.maxMenuHeight,O=w.menuIsOpen,D=w.menuPlacement,j=w.menuPosition,R=w.menuPortalTarget,I=w.menuShouldBlockScroll,P=w.menuShouldScrollIntoView,L=w.noOptionsMessage,B=w.onMenuScrollToTop,U=w.onMenuScrollToBottom;if(!O)return null;var V=function(W,Q){var J=W.type,H=W.data,X=W.isDisabled,ee=W.isSelected,re=W.label,ce=W.value,we=y===H,Se=X?void 0:function(){return i.onOptionHover(H)},Ie=X?void 0:function(){return i.selectOption(H)},He="".concat(i.getElementId("option"),"-").concat(Q),Xe={id:He,onClick:Ie,onMouseMove:Se,onMouseOver:Se,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ee};return z.createElement(m,Qe({},v,{innerProps:Xe,data:H,isDisabled:X,isSelected:ee,key:He,label:re,type:J,value:ce,isFocused:we,innerRef:we?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(W.data,"menu"))},Y;if(this.hasOptions())Y=this.getCategorizedOptions().map(function($){if($.type==="group"){var W=$.data,Q=$.options,J=$.index,H="".concat(i.getElementId("group"),"-").concat(J),X="".concat(H,"-heading");return z.createElement(o,Qe({},v,{key:H,data:W,options:Q,Heading:l,headingProps:{id:X,data:$.data},label:i.formatGroupLabel($.data)}),$.options.map(function(ee){return V(ee,"".concat(J,"-").concat(ee.index))}))}else if($.type==="option")return V($,"".concat($.index))});else if(k){var K=S({inputValue:b});if(K===null)return null;Y=z.createElement(h,v,K)}else{var G=L({inputValue:b});if(G===null)return null;Y=z.createElement(p,v,G)}var M={minMenuHeight:T,maxMenuHeight:N,menuPlacement:D,menuPosition:j,menuShouldScrollIntoView:P},F=z.createElement(ihe,Qe({},v,M),function($){var W=$.ref,Q=$.placerProps,J=Q.placement,H=Q.maxHeight;return z.createElement(u,Qe({},v,M,{innerRef:W,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:k,placement:J}),z.createElement(Ape,{captureEnabled:_,onTopArrive:B,onBottomArrive:U,lockEnabled:I},function(X){return z.createElement(d,Qe({},v,{innerRef:function(re){i.getMenuListRef(re),X(re)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:k,maxHeight:H,focusedOption:y}),Y)}))});return R||j==="fixed"?z.createElement(f,Qe({},v,{appendTo:R,controlElement:this.controlRef,menuPlacement:D,menuPosition:j}),F):F}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,l=s.isDisabled,u=s.isMulti,d=s.name,f=s.required,h=this.state.selectValue;if(f&&!this.hasValue()&&!l)return z.createElement(Mpe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(u)if(o){var p=h.map(function(y){return i.getOptionValue(y)}).join(o);return z.createElement("input",{name:d,type:"hidden",value:p})}else{var m=h.length>0?h.map(function(y,w){return z.createElement("input",{key:"i-".concat(w),name:d,type:"hidden",value:i.getOptionValue(y)})}):z.createElement("input",{name:d,type:"hidden",value:""});return z.createElement("div",null,m)}else{var v=h[0]?this.getOptionValue(h[0]):"";return z.createElement("input",{name:d,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,u=s.focusedValue,d=s.isFocused,f=s.selectValue,h=this.getFocusableOptions();return z.createElement(bpe,Qe({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:u,isFocused:d,selectValue:f,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,l=i.SelectContainer,u=i.ValueContainer,d=this.props,f=d.className,h=d.id,p=d.isDisabled,m=d.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return z.createElement(l,Qe({},y,{className:f,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),z.createElement(s,Qe({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:m}),z.createElement(u,Qe({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),z.createElement(o,Qe({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,f=s.isFocused,h=s.prevWasFocused,p=s.instancePrefix,m=i.options,v=i.value,y=i.menuIsOpen,w=i.inputValue,_=i.isMulti,b=MA(v),k={};if(o&&(v!==o.value||m!==o.options||y!==o.menuIsOpen||w!==o.inputValue)){var S=y?Xpe(i,b):[],T=y?QA(jp(i,b),"".concat(p,"-option")):[],N=l?Jpe(s,b):null,O=Zpe(s,S),D=A1(T,O);k={selectValue:b,focusedOption:O,focusedOptionId:D,focusableOptionsWithIds:T,focusedValue:N,clearFocusValueOnUpdate:!1}}var j=u!=null&&i!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},R=d,I=f&&h;return f&&!I&&(R={value:pp(_,b,b[0]||null),options:b,action:"initial-input-focus"},I=!h),(d==null?void 0:d.action)==="initial-input-focus"&&(R=null),Ge(Ge(Ge({},k),j),{},{prevProps:i,ariaSelection:R,prevWasFocused:I})}}]),n}(z.Component);w5.defaultProps=Qpe;var tme=z.forwardRef(function(t,e){var n=Ade(t);return z.createElement(w5,Qe({ref:e},n))}),b5=tme;function _5({msg:t}){return x.jsx("p",{className:"pl-1 pt-1 text-sm text-red-500",children:t})}const nme={id:"no_host",displayName:"발제자 없음"};function x5({label:t,selectedHosts:e,onChange:n,errorMsg:r}){const s=[...Fe(pl),nme].map(l=>({value:l.id,label:l.displayName})),o=s.filter(({value:l})=>e==null?void 0:e.includes(l));return x.jsxs("div",{className:"flex flex-col",children:[x.jsx(gs,{text:t}),x.jsx(b5,{className:"h-12 shadow-none shadow-pointPurple focus-within:border-pointCoral [&>div:nth-child(3)]:h-full [&>div:nth-child(3)]:rounded-xl [&>div:nth-child(3)]:border-gray1",menuPosition:"fixed",name:"host",placeholder:`${t}를 선택해주세요`,defaultValue:o.length?[...o]:[],isMulti:!0,options:s,isClearable:!1,isSearchable:!1,onChange:l=>n(l)}),r&&x.jsx(_5,{msg:r})]})}const P1=2;function rme({title:t,currentValue:e,yearMonthId:n}){var U,V;const r=Fe(gt),[i,s]=z.useState(1),[o,l]=z.useState({id:"",isEditing:!1}),u=Fe(Ei(n)),d=u?{...u.meeting,...e}:e,{currMeeting:f,onMeetingChange:h,savedPlaceList:p}=J4(d,n),{anonymous:m}=kr("register"),v=n.slice(0,4),y=+n.slice(-2),{isPending:w,sendPushNotificationToAllUser:_}=Wi(),{hideModal:b}=Ht(),{errorMsg:k,handleErrorMsg:S}=rE(),{eventMonth:T,time:N,place:O}=f,D={place:[{condition:i===1&&O==="",error:"장소를 작성해주세요."}],eventTitle:[{condition:i===1&&T.title==="",error:"이벤트 제목을 작성해주세요."}],hosts:[{condition:i===2&&T.hosts.length===0,error:"이벤트 진행자를 선택해주세요."}],contents:[{condition:i===2&&T.contents.some(({title:Y})=>Y===""),error:"이벤트 콘텐츠를 작성해주세요."}]},j=async()=>{const Y=rn(Gt,_i,n);await un(Y,{meeting:f}),alert(`${y}월 독서모임 정보가 변경되었습니다!`),await _({title:`☕️${v}년 ${y}: ${f.eventMonth.title}`,body:`${v}년 ${y}월의 모임정보가 ${u.book?"변경":"등록"}되었어요! 🕓${ut(N,"M월 d일 EEEE a h시 mm분")}에 📍${O}에서 만나요 👋`})},R=async()=>{const Y={meeting:f,createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r.uid};await JS(_i,n,Y),alert(`${y}월 독서모임 정보가 등록되었습니다!`),await _({title:`☕️${v}년 ${y}: ${f.eventMonth.title}`,body:`${v}년 ${y}월의 모임정보가 ${u!=null&&u.book?"변경":"등록"}되었어요! 🕓${ut(N,"M월 d일 EEEE a h시 mm분")}에 📍${O}에서 만나요 👋`})},I=async Y=>{Y.preventDefault();try{if(S(D))return;u?j():R()}catch{window.alert("모임 장소 등록 중 오류가 발생했습니다. 관리자에게 문의해주세요.")}finally{b()}},P=(Y,K)=>{if(Y==="next"&&!S(D)){const M=i===P1?i:i+1;s(M)}if(Y==="prev"){const G=i===1?i:i-1;s(G)}},L=Y=>{const K=document.getElementById(Y);K==null||K.focus()},B=Y=>o.id===Y&&o.isEditing;return x.jsx(ki,{title:t,className:"max-w-96",children:x.jsxs("form",{onSubmit:I,className:"flex flex-col gap-y-3",children:[i===1&&x.jsxs(x.Fragment,{children:["eventMonth"in e&&x.jsx(dn,{label:"이벤트 제목",placeholder:"이벤트달의 제목을 작성해주세요.",value:T.title,onChange:Y=>{h({eventMonth:{...T,title:Y.target.value}})},errorMsg:k==null?void 0:k.eventTitle}),"time"in e&&x.jsx(AE,{id:"모임시간",label:"모임시간",selectsEnd:!0,selected:new Date(N),dateFormat:"M월 d일 EEEE a hh:mm",onChange:Y=>{h({time:ut(Y,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0,placeholderText:"정해진 모임시간이 없습니다."}),"place"in e&&x.jsx(dn,{label:"모임장소",value:O,onChange:Y=>{h({place:Y.target.value})},placeholder:"모임 장소를 작성해주세요",iconName:"FiMapPin",errorMsg:k==null?void 0:k.place,children:x.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(U=p==null?void 0:p.place)==null?void 0:U.map(Y=>x.jsx(Hn,{text:Y,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>h({place:Y})},Y))})})]}),i===2&&x.jsx(x.Fragment,{children:"eventMonth"in e&&x.jsxs(x.Fragment,{children:[x.jsx(x5,{label:"이벤트 진행자",selectedHosts:e.eventMonth.hosts,onChange:Y=>{const K=Y.map(({value:G})=>G);h({eventMonth:{...T,hosts:K}})},errorMsg:k.hosts}),x.jsxs("div",{className:"flex h-[40vh] flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[(T==null?void 0:T.contents.length)>0&&x.jsx("ul",{className:"flex flex-col gap-y-3",children:(V=T==null?void 0:T.contents)==null?void 0:V.map(({id:Y,title:K},G)=>x.jsx("li",{children:x.jsx(dn,{label:G===0&&"이벤트 콘텐츠 아이디어",readOnly:!B(Y),id:Y,iconName:"FiHash",value:K,placeholder:B(Y)?"이벤트 내용을 작성해주세요.":"",className:"bg-blue-50 !pr-16 font-medium read-only:cursor-default read-only:border-gray1 read-only:bg-white",onChange:M=>{const F=T.contents.map($=>Y===$.id?{...$,title:M.target.value}:$);h({eventMonth:{...T,contents:F}})},errorMsg:K===""&&k.contents,tailIconChildren:x.jsxs("div",{className:"absolute right-3 top-[15px] flex items-center gap-2",children:[B(Y)?x.jsx(nF,{onClick:()=>{l({id:"",isEditing:!1})},className:"!size-[17px]"}):x.jsx(oF,{onClick:()=>{l({id:Y,isEditing:!0}),L(Y)},className:"!size-[18px]"}),G>2&&x.jsx(vf,{className:"!size-[18px]",onClick:()=>{if(G===0)return;const M=T.contents.filter(F=>F.id!==Y);h({eventMonth:{...T,contents:M}})}})]})})},Y))}),x.jsx("button",{type:"button",onClick:()=>{h({eventMonth:{...T,contents:[...T.contents,{id:nn(),title:"",detail:""}]}})},className:"flex min-h-12 w-full items-center justify-center rounded-xl border border-gray1",children:x.jsx(aE,{className:"size-5 text-darkBlue2"})})]})]})}),x.jsxs("div",{className:"ml-auto mt-4 flex gap-x-2",children:[x.jsx(at,{type:"button",name:"이전",handleClick:()=>P("prev"),disabled:i===1}),P1!==i&&x.jsx(at,{type:"button",name:"다음",handleClick:()=>P("next")}),P1===i&&x.jsx(at,{type:"submit",name:u!=null&&u.meeting?"변경하기":`${y}월 독서모임 등록하기`,className:"ml-auto",disabled:w||m,color:"darkBlue"})]}),m&&x.jsx("p",{className:"ml-auto text-sm text-red-500",children:"익명의 방문자는 등록할 수 없습니다."})]})})}function ime(){const t=Fe(Bne),e=Fe(Ei(X0)),{book:n,id:r}=e||{},{field:i}=t||{},s={place:"카페 느티",time:ut(F4(+jt,+fD,11,0),"yyyy-MM-dd'T'HH:mm:ss"),eventMonth:{title:"",contents:[{id:nn(),title:`${jt}년 재독 챌린지 결과`,detail:""},{id:nn(),title:`${jt}년 가장 멋진 발제문은?`,detail:""},{id:nn(),title:`${Xte}년 책분야와 발제자`,detail:""}],hosts:[]}},{showModal:o}=Ht(),l=Er(),u=()=>l("/search",{state:{registerYearMonth:X0}}),d=async()=>{o({element:x.jsx(rme,{title:`${fD}월 독서모임 정보`,currentValue:s,yearMonthId:X0})})};return x.jsx(x.Fragment,{children:e?n?x.jsx(N3,{month:ut(r,"M"),book:n,bookFields:i,className:"!mb-0 h-full"}):x.jsx(T3,{yearMonthId:r,event:e.meeting,className:"!mb-0 h-full"}):x.jsx(eo,{text:"아직 등록된 다음달 모임책이 없어요.",children:x.jsxs("div",{className:"flex gap-x-3",children:[x.jsx(at,{name:"모임책 등록",color:"blue",handleClick:u,children:x.jsx(ode,{className:"mr-2"})}),x.jsx(at,{name:"이벤트 등록",color:"purple",handleClick:d,children:x.jsx(ade,{className:"mr-2"})})]})})})}const S5=({voteDetail:t})=>{const{id:e,title:n,voteItems:r,deadline:i}=t;return x.jsxs("div",{className:"flex w-fit flex-col justify-between rounded-card bg-white px-7 py-5 shadow-card max-sm:w-full",children:[x.jsxs("h4",{className:"mb-3 flex items-center gap-1 font-medium",children:[x.jsx(cE,{className:"text-base"}),n]}),x.jsx("ul",{className:"flex gap-6",children:r.map(({id:s,book:o})=>x.jsx("li",{className:"h-32",children:x.jsx(In,{thumbnail:o.thumbnail,title:o.title})},s))}),x.jsxs("div",{className:"mt-5 flex items-end justify-between gap-2",children:[x.jsx(gE,{hyphenDate:i,isDateMark:!1}),x.jsxs(vr,{to:`/vote/${e}`,state:{collName:Su,docId:e},className:"flex items-center justify-end gap-0.5 py-0.5",children:[x.jsx("span",{className:"text-sm text-gray1",children:"투표하러 가기"}),x.jsx(sE,{className:"text-sm text-gray1"})]})]})]})},sme=()=>{const[t,e]=Yt(nE),n=t==null?void 0:t.filter(s=>s.deadline>=pm);z.useEffect(()=>{t!=null&&t.length||qn(Su,e)},[]);const r=Er(),i={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},320:{slidesPerView:1}}};return x.jsx(x.Fragment,{children:n!=null&&n.length?x.jsx(iv,{options:i,children:n==null?void 0:n.map(s=>x.jsx(wf,{children:x.jsx(S5,{voteDetail:s})},s.id))}):x.jsx(eo,{text:"진행중인 투표가 없어요.",onCreateClick:()=>r("/vote"),createBtnTitle:"투표 생성하러 가기"})})},ome=()=>{const t=Er(),e=Wo(Hu);z.useEffect(()=>{qn(_i,e)},[]);const n=[{name:"월별 독서분야",onClick:()=>t("/monthlyinfo",{state:"fieldAndHost"}),color:"darkBlue"},{name:"모임불참",onClick:()=>t("/monthlyinfo",{state:"absence"}),color:"darkBlue"},{name:"챌린지",onClick:()=>t("/challenge"),color:"darkBlue"},{name:"연말결산",onClick:()=>alert("아직 준비중이에요!"),color:"gray"}];return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"독서모임 한페이지"}),x.jsxs("main",{children:[x.jsxs("div",{className:"my-2.5 mb-16 grid grid-cols-3 gap-x-6 max-md:flex max-md:flex-col max-md:gap-y-16",children:[x.jsx(Vt,{title:"이달의 모임정보",className:"col-span-2 !my-0",children:x.jsx(D3,{})}),x.jsx(Vt,{title:"다음달 모임정보",className:"col-span-1 !my-0 size-full",children:x.jsx(ime,{})})]}),x.jsx(Vt,{className:"!my-28 grid w-full grid-cols-4 gap-4 max-sm:my-20 max-sm:grid-cols-2 max-sm:gap-2.5",children:n.map(({name:r,onClick:i,color:s})=>x.jsx(at,{name:`${jt} ${r}`,className:"h-fit w-full !px-0 py-3.5",color:s,handleClick:i},r))}),x.jsx(Vt,{title:"한페이지 멤버들이 소개했던 책",children:x.jsx(j3,{})}),x.jsx(Vt,{title:"다음 모임책 투표함",children:x.jsx(sme,{})})]}),x.jsx(kde,{})]})},R1=({isLoggedIn:t})=>{var u;const e=(u=qt.currentUser)==null?void 0:u.isAnonymous,{currEmail:n,currPassword:r,onSubmit:i,onChange:s,onAnonymousLoginClick:o}=Wne(t),l=Er();return x.jsx(x.Fragment,{children:x.jsxs("main",{className:"mx-auto my-5 flex w-[50%] flex-col items-center justify-center max-sm:w-[90%]",children:[x.jsxs("header",{className:"flex w-full flex-col items-center",children:[x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"독서모임 한페이지 로고",className:"size-1/2"}),x.jsx("h1",{className:"text-lg font-medium",children:"독서모임 한페이지"})]}),x.jsxs("form",{onSubmit:i,className:"mt-5 flex w-full flex-col gap-3",children:[x.jsx(dn,{name:"email",type:"email",value:n.email,placeholder:"이메일 계정을 입력해주세요.",onChange:s,autoComplete:"email",errorMsg:n.error}),x.jsx(dn,{name:"password",type:"password",placeholder:"비밀번호를 입력해주세요.",value:r.password,onChange:s,autoComplete:"current-password",errorMsg:r.error}),x.jsx(at,{type:"submit",name:"로그인",color:"darkBlue",className:"w-full"}),x.jsx(at,{type:"button",handleClick:()=>l("/create_account"),name:"회원가입",className:"w-full"}),!e&&x.jsx(at,{type:"button",color:"blue",name:"익명으로 로그인",handleClick:o,className:"w-full"})]}),x.jsx(vr,{to:"/find_pw",className:"mt-7 text-[13px] text-gray1",children:"비밀번호 찾기"})]})})};function ba({isMulti:t=!1,data:e,label:n}){const r=`py-3.5 text-center text-sm ${e?"absence":"attendance"}`;return x.jsxs(x.Fragment,{children:[t&&x.jsx("td",{className:"py-3.5 text-center text-sm text-gray2",children:x.jsx("ul",{className:"flex flex-wrap items-center justify-center gap-2",children:e!=null&&e.length?e.map(i=>i==="no_host"?x.jsx("span",{children:"발제자 없음"},i):x.jsx(li,{isLink:!0,userId:i,tag:!0},i)):x.jsx("span",{children:"없음"})})}),!t&&x.jsxs(x.Fragment,{children:[n==="월"&&x.jsxs("td",{className:`py-3.5 text-center ${+zr===e?"font-semibold text-black":"text-gray2"}`,children:[e,"월"]}),(n==="모임정지"||n==="일회불참")&&x.jsx("td",{className:r,children:e?n==="모임정지"?"🔴":"🟠":""}),n!=="월"&&n!=="모임정지"&&n!=="일회불참"&&x.jsx("td",{className:"py-3.5 text-center text-sm",children:e||x.jsx("span",{className:"text-sm text-gray2",children:"없음"})})]})]})}function UE({color:t="yellow",labels:e,recordsOfYear:n,onEditClick:r,isEditable:i,isFoldable:s}){const[o,l]=z.useState(!1),u=()=>l(m=>!m),d=n==null?void 0:n.filter(m=>m.month<+zr+3),f=o?n:d,{pathname:h}=jn();z.useEffect(()=>{(h==="/monthlyinfo"||h==="/setting/absence")&&l(m=>!m)},[]);const p={blue:"bg-blue2",yellow:"bg-blue2"};return x.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-white shadow-card",children:[s&&x.jsx("button",{className:"absolute right-4 top-4",type:"button",onClick:u,children:o?x.jsx(iF,{className:"text-lg"}):x.jsx(rF,{className:"text-lg"})}),x.jsxs("table",{className:"w-full",children:[x.jsxs("colgroup",{children:[e.includes("월")&&x.jsx("col",{width:"18%"}),x.jsx("col",{width:"40%"}),x.jsx("col",{width:"40%"}),i&&x.jsx("col",{width:"10%"})]}),x.jsx("thead",{children:x.jsxs("tr",{className:`${p[t]} relative rounded-t-xl`,children:[e.map(m=>x.jsx("th",{className:"py-3 font-medium text-blue1",children:m},m)),i&&x.jsx("th",{"aria-label":"수정"})]})}),x.jsx("tbody",{children:f==null?void 0:f.map(m=>x.jsx(z.Fragment,{children:x.jsxs("tr",{children:["month"in m&&e.includes("월")&&x.jsx(ba,{label:"월",data:m.month}),"field"in m&&x.jsx(ba,{label:"독서분야",data:m.field}),"hosts"in m&&x.jsx(ba,{isMulti:!0,label:"발제자",data:m.hosts}),"onceAbsenceMembers"in m&&x.jsx(ba,{isMulti:!0,label:"일회불참멤버",data:m.onceAbsenceMembers}),"breakMembers"in m&&x.jsx(ba,{isMulti:!0,label:"모임정지멤버",data:m.breakMembers}),"onceAbsenceMonth"in m&&x.jsx(ba,{label:"일회불참",data:m.onceAbsenceMonth}),"breakMonth"in m&&x.jsx(ba,{label:"모임정지",data:m.breakMonth}),i&&"month"in m&&x.jsx("td",{className:"px-4 text-center",children:x.jsx("button",{type:"button",onClick:()=>r(m.month),children:x.jsx(oE,{stroke:"#aaa"})})})]})},m.month))})]})]})}function ame({isFoldable:t,isMonth:e,isEditable:n}){const[r,i]=Yt(gf);z.useEffect(()=>{hl(r)||ir(_i,Eu,i)},[r]);const s=["일회불참멤버","모임정지멤버"],o=e?["월",...s]:s,l=async()=>{await ws(rn(Gt,_i,Eu),nne)};return x.jsx(x.Fragment,{children:r!=null&&r.absenceMembers?x.jsx(UE,{color:"blue",labels:o,recordsOfYear:r==null?void 0:r.absenceMembers,isFoldable:t,isEditable:n}):x.jsx(eo,{text:"아직 월별 불참 정보가 없습니다.",createBtnTitle:`${jt} 새로운 불참 정보 생성하기`,onCreateClick:l})})}function lme({field:t,setSelectedValues:e,errorMsg:n}){const r=ld.map(o=>({value:`${o.id}`,label:o.name})),i=r.find(({label:o})=>o===t),s=o=>{const l=o.label;e(u=>({...u,field:l}))};return x.jsxs("div",{children:[x.jsx(gs,{text:"독서분야"}),x.jsx(b5,{className:"h-12 [&>div]:h-full [&>div]:rounded-xl [&>div]:border-gray1",menuPosition:"fixed",options:r,isSearchable:!1,defaultValue:i||r[12],onChange:s}),n&&x.jsx(_5,{msg:n})]})}function ume({month:t}){const{errorMsg:e,fieldAndHostList:n,onSubmit:r,setSelectedValues:i}=Vne(),s=n.find(u=>u.month===t),{field:o,hosts:l}=s;return z.useEffect(()=>{i(s)},[]),x.jsx(ki,{title:`${t}월 독서분야와 발제자 수정하기`,children:x.jsxs("form",{onSubmit:u=>r(u,t),className:"flex flex-col gap-y-4",children:[x.jsx(lme,{field:o,setSelectedValues:i,errorMsg:e==null?void 0:e.field}),x.jsx(x5,{label:"발제자",selectedHosts:l,onChange:u=>{const d=u.map(({value:f})=>f);i(f=>({...f,hosts:d}))},errorMsg:e==null?void 0:e.hosts}),x.jsx(at,{type:"submit",name:"변경하기",className:"self-end"})]})})}const cme=({isMonth:t=!1,isEditable:e=!1,isFoldable:n=!1})=>{const{bookFieldAndHostList:r}=Fe(Qg),{showModal:i}=Ht(),s=u=>{i({element:x.jsx(ume,{month:u})})},o=async()=>{JS(`BookClub-${jt}`,Md,rne)},l=t?["월","독서분야","발제자"]:["독서분야","발제자"];return x.jsx(x.Fragment,{children:r?x.jsx(UE,{labels:l,recordsOfYear:r,onEditClick:s,isFoldable:n,isEditable:e}):x.jsx(eo,{text:"아직 월별 독서분야와 발제자 정보가 없습니다.",createBtnTitle:`${jt} 새로운 월별 독서분야와 발제자 정보 생성하기`,onCreateClick:o})})};function dme(){const{uid:t}=Fe(gt),{state:e}=jn(),n={fieldAndHost:{name:"월별 독서분야"},absence:{name:"모임불참"},challenge:{name:"챌린지"},yearClosing:{name:"연말결산"}},{name:r}=n[e];return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`${jt}년 ${r} 정보`,backBtn:!0}),x.jsxs("main",{children:[r==="모임불참"&&x.jsxs(Vt,{children:[x.jsx(ame,{isMonth:!0}),x.jsx(U_,{title:"나의 불참 설정하러 가기",to:"/setting/absence",state:{userId:t},className:"pt-3"})]}),r==="월별 독서분야"&&x.jsx(Vt,{title:"월별 독서분야와 발제자",children:x.jsx(cme,{isEditable:!0,isMonth:!0})})]})]})}const fme=({document:t})=>{const{id:e,book:n,meeting:{time:r,place:i}}=t,s=ut(e,"M");return x.jsxs("div",{className:"relative flex h-full w-full cursor-pointer flex-col items-center justify-between gap-1 rounded-card bg-white px-4 py-5 shadow-card",children:[x.jsx(Hn,{color:"lightBlue",shape:"rounded",text:`${s}월의 독서모임`,className:"font-medium"}),n?x.jsxs(x.Fragment,{children:[x.jsx(In,{thumbnail:n.thumbnail,title:n.title,className:"mt-4 !h-28 border"}),x.jsx("h3",{className:"my-2 text-center text-lg font-medium",children:n.title})]}):x.jsx("h3",{className:"my-2 text-center text-lg font-medium",children:t.meeting.eventMonth.title}),x.jsx(C3,{time:r,place:i,className:"flex flex-col items-center"})]})};function hme(){const{clubByYear:t,selectedYear:e,setSelectedYear:n}=Q4();return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"지난 한페이지"}),x.jsxs("main",{children:[x.jsx(jF,{selectedYear:e,handleChangeYear:n}),x.jsx(Vt,{title:`${e}년의 한페이지`,className:"!mt-10",children:t.length!==0?x.jsx("ul",{className:"grid grid-cols-4 gap-5 max-md:grid-cols-3 max-sm:mt-2 max-sm:flex max-sm:flex-col [&>div]:col-span-4",children:t.map(r=>x.jsx(vr,{to:Ln===r.id?"/bookclub":r.id,state:{docId:r.id,docData:r},children:x.jsx(fme,{document:r})},r.id))}):x.jsx(eo,{text:"독서모임에 아직 등록된 책이 없습니다."})})]})]})}const pme=({searchedBook:t,registerYearMonth:e})=>{const n=Fe(Ei(e)),[r,i]=z.useState(!1),s=e.slice(-2),{showModal:o}=Ht(),l={place:"카페 느티",time:ut(F4(+jt,+s,11,0),"yyyy-MM-dd'T'HH:mm:ss")},u=async()=>{o({element:x.jsx(E3,{title:`${s}월 독서모임 정보`,currentValue:l,yearMonthId:e,registerBook:t})})};return z.useEffect(()=>{n&&i(!0)},[r]),x.jsx(x.Fragment,{children:r&&t.title===(n==null?void 0:n.book.title)?x.jsx(at,{name:"등록 완료",disabled:!0,className:"ml-auto py-2"}):x.jsx(at,{name:`${s}월 모임책으로 ${n!=null&&n.book?"변경":"등록"}`,type:"button",handleClick:u,color:"darkBlue",className:"ml-auto py-2"})})},mme=({searchedBook:t})=>{const[e,n]=z.useState(!1),{state:r}=jn(),i=()=>n(v=>!v),{thumbnail:s,title:o,authors:l,publisher:u,url:d,datetime:f,price:h,contents:p}=t,m="size-5 w-[10%] text-gray1";return x.jsxs(x.Fragment,{children:[x.jsxs("button",{type:"button",onClick:i,className:"flex w-full items-center justify-between gap-1 rounded-xl bg-white px-3 py-2 text-text shadow-card",children:[x.jsx(pv,{book:t,className:"mr-1 h-14 w-[90%] items-center"}),e?x.jsx(mde,{className:m}):x.jsx(pde,{className:m})]}),x.jsx("div",{className:`-m-2 overflow-hidden p-2 transition-[max-height] duration-500 ease-in-out ${e?"max-h-[1000px]":"max-h-0"}`,children:x.jsxs("div",{className:`mb-4 mt-2 rounded-xl bg-white p-4 shadow-card ${s===""?"[&>div:first-child]:float-left [&>div:first-child]:mr-3 [&>div:first-child]:w-28":"[&>img]:float-left [&>img]:mr-3 [&>img]:w-28"}`,children:[x.jsx(In,{thumbnail:s,title:o}),x.jsxs("div",{className:"mb-4 h-full [&>div]:text-text",children:[x.jsx("h1",{className:"mb-1 text-lg font-medium",children:o!==""?`《 ${o} 》`:"이벤트"}),l&&x.jsx(Js,{authors:l,publisher:u}),f&&x.jsxs("div",{className:"mb-0.5 mt-3",children:[x.jsx("span",{className:"mr-1 text-gray1",children:"출간일:"})," ",ut(f,"yyyy년 MM월 dd일")]}),h&&x.jsxs("div",{className:"mb-0.5",children:[x.jsx("span",{className:"mr-1 text-gray1",children:"정가:"})," ",t.price.toLocaleString(),"원"]}),p&&x.jsxs("p",{className:"my-3",children:[p,"..."]}),d&&x.jsx(hv,{title:"Daum 책정보",url:d})]}),x.jsx(pme,{searchedBook:t,registerYearMonth:r==null?void 0:r.registerYearMonth})]})})]})},gme=()=>{const{onBookQueryChange:t,searchList:e,setSearchList:n}=iE(),r=z.useRef(null);return z.useEffect(()=>{n([]),r.current.focus()},[]),x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"도서 검색",backBtn:!0}),x.jsx("main",{children:x.jsxs(Vt,{title:"책 검색하기",children:[x.jsxs("form",{className:"mb-8 flex w-1/2 gap-3 max-sm:mb-4 max-sm:w-full",children:[x.jsx(dn,{ref:r,placeholder:"등록하실 책을 검색해주세요.",onChange:t,className:"flex-1"}),x.jsx(at,{name:"검색하기",className:"min-w-fit"})]}),x.jsxs("span",{children:["검색결과 ",e.length,"건"," ",x.jsx("span",{className:"text-gray1",children:"(최대 10건이 검색됩니다.)"})]}),x.jsx("ul",{className:"mt-4 columns-2 gap-x-4 max-sm:mt-2 max-sm:columns-1 max-sm:gap-x-0",children:e.map((i,s)=>x.jsx("li",{className:"mb-4 w-full items-center justify-between",children:x.jsx(mme,{searchedBook:i})},`${i.isbn}-${s}`))})]})})]})},vme=()=>{const{anonymous:t}=kr("see"),e=Er(),n=()=>{if(t)return window.alert("익명의 방문자입니다!");window.confirm("정말 로그아웃 하시겠어요?")===!0&&(qt.signOut(),e("/"))};return x.jsx("button",{className:"border-none bg-transparent",onClick:n,children:"로그아웃"})},yme=()=>{var s;const{email:t}=Fe(gt),{blockLinkAndAlertJoinMember:e}=kr("see"),n=[{to:"edit-profile",name:"프로필 정보"},{to:"edit-password",name:"비밀번호 변경"},{to:"absence",name:"모임불참"}],r=[{to:"",name:"로그아웃"},{to:"delete-account",name:"탈퇴"}],i=(s=qt.currentUser)==null?void 0:s.isAnonymous;return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"설정",backBtn:!0,showDesktop:!1}),x.jsxs("main",{children:[x.jsx("h4",{className:"block pb-1 text-sm text-blue1 max-md:text-sm",children:"사용자 설정"}),x.jsxs("ul",{className:"mb-14 divide-y divide-gray3",children:[n.map(({to:o,name:l})=>x.jsx("li",{className:"py-3",children:x.jsx(vr,{to:o,onClick:e,children:l})},o)),!i&&x.jsx("li",{className:"py-3",children:x.jsx(vr,{to:"notification",children:"알림"})})]}),x.jsx("h4",{className:"block pb-1 text-sm text-blue1 max-md:text-sm",children:"기타"}),x.jsxs("ul",{className:"divide-y divide-gray3",children:[r.map(({to:o,name:l})=>x.jsx("li",{className:"py-3",children:o===""?x.jsx(vme,{}):x.jsx(vr,{to:o,onClick:e,children:l})},o)),t===XS&&x.jsx("li",{className:"py-3",children:x.jsx(vr,{to:"developer",children:"개발자도구"})})]})]})]})};function wme({voteId:t,book:e,onCreateClick:n,onDeleteClick:r}){return x.jsxs("div",{className:"relative min-w-fit",children:[e.title===""?x.jsx("button",{type:"button",className:"flex aspect-[0.7/1] h-28 items-center justify-center gap-1 rounded-r-lg border border-gray1 shadow-card",onClick:n,children:x.jsx(lE,{className:"size-[28px] text-gray2"})}):x.jsx(In,{thumbnail:e.thumbnail,title:e.title,className:"flex !aspect-[0.7/1] !h-28 min-w-fit items-center justify-center gap-1 border border-gray1 !shadow-none"}),t>2&&x.jsx("button",{type:"button",onClick:()=>r(t),className:"absolute -right-1.5 -top-1.5 p-0.5",children:x.jsx(vf,{className:"size-[25px] rounded bg-white p-0.5 text-2xl shadow-card"})})]})}function bme({label:t,containerClassName:e,...n}){return x.jsxs("div",{className:`relative flex flex-col ${e}`,children:[t&&x.jsx(gs,{text:t}),x.jsx("textarea",{...n,className:`h-32 w-full resize-none rounded-xl border border-gray1 p-3 outline-none hover:bg-blue-50 ${n.className}`})]})}const _me={isOpenSearchBook:!1,itemId:1},xme=()=>{const[t,e]=z.useState(_me),[n,r]=z.useState(!1),{newVote:i,setNewVote:s,onNewVoteSubmit:o,onVoteTitleChange:l,onDateChange:u,onAddVoteItemBtn:d,onDeleteVoteItemClick:f,isPending:h}=Lne(),{searchInputRef:p,onBookQueryChange:m,searchList:v,resetSearchList:y}=iE(),w=N=>{y(),e(({isOpenSearchBook:O,itemId:D})=>({itemId:N||D,isOpenSearchBook:!O}))},_=()=>r(N=>!N),b=N=>{const{title:O,url:D,thumbnail:j}=N,R={title:O,url:D,thumbnail:j},I=i.voteItems.map(P=>P.id===t.itemId?{...P,book:R}:P);s({...i,voteItems:I}),_()},k=N=>{const{value:O}=N.currentTarget,D={...i,voteItems:i.voteItems.map(j=>j.id===t.itemId?{...j,selectReason:O}:j)};s(D)},{title:S,voteItems:T}=i;return x.jsxs(ki,{title:"모임책 투표 생성하기",className:"max-w-[500px]",children:[!t.isOpenSearchBook&&x.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4",children:[x.jsx(dn,{label:"투표제목",type:"text",placeholder:"예: 1월 과학책 투표",value:S,onChange:l,required:!0}),x.jsxs("div",{children:[x.jsx("span",{className:"py-1 pl-1 text-sm font-medium text-darkBlue",children:"투표할 책 등록"}),x.jsxs("ul",{className:"flex gap-x-3 overflow-x-scroll py-1 scrollbar-hide",children:[T.map(({id:N,book:O})=>x.jsx(wme,{voteId:N,book:O,onCreateClick:()=>w(N),onDeleteClick:()=>f(N)},N)),x.jsx("button",{type:"button",onClick:d,disabled:T.length>=4,className:"flex h-[inherit] items-center justify-center px-2 text-darkBlue2 disabled:text-gray2",children:x.jsx(aE,{className:"text-xl"})})]})]}),x.jsx(AE,{id:"투표 종료일",label:"투표 종료일",selected:new Date(i.deadline),onChange:u,selectsEnd:!0,endDate:new Date(i.deadline),dateFormat:"yyyy년 MM월 dd일"}),x.jsx(at,{type:"submit",name:"모임책 투표 등록하기",className:"mt-3 self-end",disabled:h,color:"darkBlue"})]}),t.isOpenSearchBook&&(n?x.jsxs(x.Fragment,{children:[x.jsx(bme,{label:"책등록 2단계",id:"select-reason",placeholder:"이 책을 투표항목으로 선정한 이유에 대해서 작성해주세요.",value:T[t.itemId-1].selectReason,onChange:k}),x.jsx(at,{type:"button",name:"투표책으로 등록하기",handleClick:()=>{_(),w()},className:"mt-3 self-end"})]}):x.jsxs(x.Fragment,{children:[x.jsx(dn,{id:"search-book",label:"투표책 검색",ref:p,placeholder:"투표할 책을 검색해주세요.",onChange:m,iconName:"FiSearch"}),x.jsx(A3,{searchList:v,onSelectBtnClick:b})]}))]})};function Sme({vote:t,collName:e}){const[n,r]=z.useState([]),{voteItems:i,title:s,id:o,createdAt:l,creatorId:u}=t;return z.useEffect(()=>{n!=null&&n.length||qn(`${e}/VoteId-${o}/${A_}`,r)},[]),x.jsxs("div",{className:"group relative flex w-full flex-col justify-between rounded-card bg-white bg-opacity-65 p-4 opacity-80 shadow-card",children:[x.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[x.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium text-gray1",children:[x.jsx(cE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),mee(s,40)]}),x.jsx("span",{className:"text-end text-sm text-gray1",children:new Date(l).toLocaleDateString()})]}),x.jsx(li,{userId:u,tag:!0}),x.jsx("ul",{className:"mb-3 mt-5 flex items-center justify-center gap-x-5",children:i.map(({book:{title:d,thumbnail:f},id:h})=>x.jsx("li",{className:"relative h-28",children:x.jsx(In,{title:d,thumbnail:f})},h))}),x.jsx(vr,{to:`/vote/${o}`,state:{collName:e,docId:o},"aria-label":"상세보기",className:"absolute right-4 top-[40%] flex size-12 items-center justify-center rounded-full border bg-pointNavy opacity-20 group-hover:opacity-100",children:x.jsx(sE,{className:"text-xl text-white"})})]})}const Eme=()=>{const[t,e]=Yt(nE),{showModal:n}=Ht();z.useEffect(()=>{t!=null&&t.length||qn(Su,e)},[]);const r=t==null?void 0:t.filter(s=>s.deadline>=pm),i=t==null?void 0:t.filter(s=>s.deadline<pm);return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"한페이지 투표함"}),x.jsxs("main",{children:[x.jsx(Vt,{title:"진행중인 투표함",titleBtn:x.jsx("button",{type:"button",onClick:()=>n({element:x.jsx(xme,{})}),children:x.jsx(aE,{className:"text-lg text-pointBlue"})}),children:(r==null?void 0:r.length)!==0?x.jsx("ul",{className:"flex gap-6 max-sm:flex-col",children:r==null?void 0:r.map(s=>x.jsx(S5,{voteDetail:s},s.id))}):x.jsx(eo,{text:"아직 등록된 투표가 없습니다."})}),x.jsx(Vt,{title:"기한이 만료된 투표함",children:(i==null?void 0:i.length)!==0&&x.jsx("ul",{className:"grid grid-cols-3 gap-7 max-sm:flex max-sm:flex-col max-sm:gap-5",children:i==null?void 0:i.map(s=>x.jsx(Sme,{vote:s,collName:Su},s.id))})})]})]})},wv=Dn({key:`currUserFcm/${nn()}`,default:null});Dn({key:`notification/${nn()}`,default:"default"});function JA({voteItem:t,children:e,selected:n}){const{book:{title:r,thumbnail:i}}=t;return x.jsxs("div",{className:`flex h-full w-40 flex-col items-center gap-3 overflow-hidden rounded-card bg-white shadow-card max-sm:w-[45%] max-sm:gap-2 ${e?"pt-4":"py-5"}`,children:[x.jsxs("div",{className:"relative flex w-full justify-center max-sm:px-3",children:[n&&x.jsx(gde,{className:"absolute -top-2 right-0 size-12 rounded-full bg-white text-pointCoral"}),x.jsx(In,{thumbnail:i,title:r,className:"!h-36"})]}),x.jsxs("span",{className:"mt-2 line-clamp-2 h-10 w-4/5 text-center leading-5",children:["《",r,"》"]}),e]})}const kme=({vote:t,onVoteDeleteClick:e})=>{const{creatorId:n,createdAt:r,title:i}=t,{uid:s}=Fe(gt);return x.jsxs("header",{className:"flex flex-col items-center justify-between pb-3 max-sm:pb-0 max-sm:pt-3",children:[x.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[i&&x.jsx("h3",{className:"text-xl font-medium max-sm:text-lg",children:i}),s===n&&x.jsx("button",{type:"button",onClick:e,children:x.jsx(vf,{})})]}),x.jsxs("div",{className:"flex w-full justify-between gap-2",children:[x.jsx(M3,{creatorId:n}),x.jsx("span",{className:"text-gray1 max-sm:text-sm",children:ut(r)})]})]})};function Tme({voteItems:t}){const[e,n]=z.useState(!1),r=()=>n(i=>!i);return x.jsxs("div",{className:"mb-10 mt-3 rounded-xl bg-white p-4 shadow-card max-sm:py-2.5",children:[x.jsxs("button",{type:"button",onClick:r,className:"flex w-full items-center gap-1",children:[x.jsx("span",{className:"block flex-1 text-start",children:"👀 작성자의 선정 이유 보기"}),e?x.jsx(sre,{className:"text-gray1"}):x.jsx(sF,{className:"text-gray1"})]}),x.jsx("ul",{className:`flex gap-4 overflow-hidden transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${e?"max-h-[5000px]":"max-h-0"}`,children:t.map(({selectReason:i,id:s,book:o})=>x.jsxs("li",{className:"mt-2 flex w-full flex-col gap-2 px-2 pt-2 max-sm:px-0",children:[x.jsxs("span",{className:"bg-green2 py-0.5 font-medium",children:["📚 ",o.title]}),i?x.jsx("p",{children:i}):x.jsx("span",{children:"정보가 없습니다."})]},s))})]})}function Cme({selected:t,onVoteItemClick:e}){return x.jsx("button",{type:"button",onClick:e,className:"flex w-full flex-col items-center justify-center bg-green1 py-5 text-white",children:t?x.jsx(Wie,{className:"size-5"}):x.jsx(Yie,{className:"size-5"})})}const Ome=()=>{const{state:t}=jn(),{email:e}=Fe(gt),n=Fe(wv),r=Er();z.useEffect(()=>{(!(t!=null&&t.collName)||!(t!=null&&t.docId))&&r("/vote")},[]);const{currentVote:i,votedItemsByMember:s,voteCountsById:o,totalVoteCount:l,selectedItem:u,onVotingSubmit:d,onVoteItemClick:f,myVotedItems:h,onVoteDeleteClick:p,isRevote:m,onToggleRevoteClick:v}=zne({collName:t==null?void 0:t.collName,docId:t==null?void 0:t.docId}),{sendPushNotificationToUser:y,sendPushNotificationToAllUser:w,isPending:_}=Wi(),b=(i==null?void 0:i.deadline)<pm,k=o==null?void 0:o.filter((N,O,D)=>N.voteCount===Math.max(...D.map(j=>j.voteCount))),S=N=>!!k.find(O=>O.title===N),T=hm(i.deadline);return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`${b?"만료된 ":""}모임책 투표함`,backBtn:!0}),(i==null?void 0:i.voteItems)&&x.jsxs("main",{children:[x.jsx(kme,{vote:i,onVoteDeleteClick:p}),x.jsx(Tme,{voteItems:i.voteItems}),b||h&&!m?x.jsxs(x.Fragment,{children:[x.jsx("ul",{className:"mb-6 mt-2 flex h-full flex-wrap items-center justify-center gap-5 max-sm:mb-10",children:i.voteItems.map(N=>x.jsx(JA,{voteItem:N,selected:S(N.book.title)},N.id))}),o.map(({id:N,title:O,voteCount:D})=>x.jsxs("div",{className:"relative mx-auto mt-2 flex w-2/3 overflow-hidden rounded-xl bg-white px-3 py-1 shadow-sm max-sm:w-full",children:[x.jsx("div",{style:{width:`${mm(D,l)}%`},className:`absolute inset-y-0 left-0 z-0 rounded-r-lg ${S(O)?"bg-pointCoral":"bg-gray3"}`}),x.jsx("span",{className:`z-10 inline-block w-full pt-[1px] text-[15px] ${S(O)?"font-medium text-white":"text-gray2"}`,children:O}),x.jsxs("span",{className:`z-10 pt-[1px] text-sm ${S(O)?"font-medium text-pointCoral":"text-gray2"}`,children:[mm(D,l),"%"]})]},N)),x.jsxs("div",{className:"mt-14 flex items-center justify-center gap-4 max-sm:mb-12",children:[x.jsx(at,{name:"투표 완료",disabled:!0,color:"gray",className:"px-8"}),!b&&x.jsx(at,{disabled:b,type:"button",name:"다시 투표하기",handleClick:v})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(js,{text:"중복 투표도 가능해요"}),x.jsxs("form",{onSubmit:d,className:"mb-10 flex flex-col items-center",children:[x.jsx("ul",{className:"mb-8 flex flex-wrap items-center gap-4 max-sm:justify-center",children:i.voteItems.map(N=>x.jsx(JA,{voteItem:N,children:x.jsx(Cme,{selected:!!u(N.id),onVoteItemClick:()=>f(N.id)})},N.id))}),x.jsx(at,{type:"submit",name:"투표하기",className:"px-10 py-2 max-sm:px-6"})]})]}),!b&&x.jsx(gE,{hyphenDate:i.deadline}),x.jsxs("div",{className:"mt-10",children:[x.jsxs("h4",{className:"flex items-center gap-2",children:[x.jsx(gre,{}),`투표인원: ${s==null?void 0:s.length}명`]}),x.jsx("ul",{className:"mt-2 flex flex-wrap gap-2",children:s.map(N=>x.jsx("li",{children:x.jsx(li,{tag:!0,userId:N.id})},N.id))})]}),e===XS&&x.jsx(at,{className:"mt-10",color:"darkBlue",name:`투표 임박 알림: ${+T>0?`${T}일`:"오늘 자정"}`,handleClick:async()=>{const N={title:"🗳️ 투표 임박 알림!",body:`${+T>0?`${T}일 후`:"오늘 자정에"} 투표가 마감됩니다. 투표를 안하신 분들은 투표를 완료하세요🔥`,notification:n.notification};await y(N),await w(N),window.alert("이번달 투표 임박 알림을 모두에게 보냈습니다!")},disabled:_})]})]})};function Nme({className:t=""}){return x.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"독서모임 한페이지 로고",className:`${t}`})}const Dme=()=>{const{uid:t}=Fe(gt),{pathname:e}=jn(),{blockLinkAndAlertJoinMember:n}=kr("see"),r=[{name:"지난 한페이지",to:"/previous-club"},{name:"이달의 한페이지",to:"/bookclub",state:{docId:Ln}},{name:"투표하기",to:"/vote"},{name:"나의 책장",to:"/bookshelf",state:{userId:t},onClick:n},{name:"설정",to:"/setting"}];return x.jsx(x.Fragment,{children:!e.includes("create_account")&&e!=="/login"&&x.jsxs("nav",{className:"header mb-4 flex items-center justify-between py-8 max-sm:hidden",children:[x.jsxs(vr,{to:"/",className:"flex items-center gap-1",children:[x.jsx(Nme,{className:"size-6"}),x.jsx("span",{className:"text-[17px] font-medium",children:"독서모임 한페이지"})]}),x.jsx("ul",{className:"flex gap-x-8",children:r.map(({name:i,to:s,state:o,onClick:l})=>x.jsx("li",{children:x.jsx(vr,{to:s,state:o,onClick:l,children:x.jsx("span",{className:`${e.includes(s)?"font-semibold text-text":"text-gray1"}`,children:i})})},s))})]})})},Ime=()=>{const{uid:t}=Fe(gt),{pathname:e}=jn(),{blockLinkAndAlertJoinMember:n}=kr("see"),r=n6("/bookshelf/:id"),i="text-[15px]",s=[{name:"홈",to:"/",icon:x.jsx(cre,{className:`${i}`})},{name:"지난 모임",to:"/previous-club",icon:x.jsx(tre,{className:`${i}`})},{name:"이달의 모임",to:"/bookclub",icon:x.jsx(ore,{className:`${i}`}),state:{docId:Ln}},{name:"투표하기",to:"/vote",icon:x.jsx(cE,{className:`${i}`})},{name:"나의 책장",to:"/bookshelf",icon:x.jsx(uE,{className:`${i}`}),state:{userId:t},onClick:n}];return e!=="/login"&&!r&&!e.includes("setting")&&!e.includes("userInfo")&&x.jsx("nav",{className:"fixed bottom-0 left-0 z-10 hidden w-full rounded-t-2xl bg-white py-3.5 shadow-card max-sm:block",children:x.jsx("ul",{className:"flex justify-evenly",children:s.map(({to:o,name:l,icon:u,state:d,onClick:f})=>x.jsx("li",{className:`flex w-[20%] cursor-pointer flex-col items-center justify-center text-[10px] ${(o==="/"?o===e:e.includes(o))?"text-text":"text-gray2"}`,children:x.jsxs(vr,{to:o,state:d,onClick:f,className:"flex w-full flex-col items-center justify-center gap-1",children:[u,x.jsx("span",{children:l})]})},o))})})},Ame=({bookFieldName:t,checkedBoxHandler:e,bookFields:n})=>{const[r,i]=z.useState(!1),s=async o=>{const{currentTarget:{checked:l}}=o;i(u=>!u),e(n,l)};return x.jsxs("div",{children:[x.jsx(gs,{text:t}),x.jsx("input",{id:t,type:"checkbox",name:"bookFields",checked:r,onChange:s})]})},ZA=()=>{const{currentStep:t,keyword:e,onFirstStepChange:n,onFirstStepSubmit:r,email:i,password:s,checkPassword:o,showErrorMsg:l,onSecondStepChange:u,onSecondStepSubmit:d,username:f,onThirdStepChange:h,onThirdStepSubmit:p,checkedBoxHandler:m}=Pne();return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{showDesktop:!0,title:"계정 생성",backBtn:!0}),x.jsxs("main",{children:[x.jsxs("header",{children:[x.jsx(Hn,{color:"lightBlue",shape:"rounded",text:`${t.step} / ${B4.length}`,className:"mb-2"}),x.jsx(ym,{title:t.stepName,className:"mb-2"})]}),t.step===1&&x.jsxs("form",{onSubmit:r,children:[x.jsx(js,{text:"한페이지 멤버들에게 제공된 키워드를 입력해 주세요."}),x.jsx(dn,{label:"확인 키워드",type:"text",placeholder:"키워드를 작성해주세요",value:e,onChange:n,required:!0}),x.jsx(at,{type:"submit",name:"다음",className:"mx-auto mt-10 !px-6"})]}),t.step===2&&x.jsxs("form",{onSubmit:d,className:"flex flex-col gap-3",children:[x.jsxs("div",{children:[x.jsx(js,{text:"사용하실 계정 정보를 입력해 주세요."}),i&&x.jsx(js,{text:"유효한 이메일을 작성하셔야 비밀번호 찾기 등 다른 기능을 제대로 이용할 수 있어요. 이메일이 맞는지 다시 한번 확인해주세요."})]}),x.jsx(dn,{name:"email",type:"email",placeholder:"자주 사용하는 이메일 계정을 입력해주세요.",value:i,autoComplete:"email",onChange:u}),x.jsx(dn,{name:"password",type:"password",autoComplete:"current-password",placeholder:"비밀번호는 8자 이상이어야 합니다.",value:s,onChange:u}),x.jsx(dn,{name:"checkPassword",type:"password",autoComplete:"current-password",placeholder:"비밀번호를 다시 한번 입력해주세요.",value:o,onChange:u}),l&&x.jsx("span",{className:"text-sm text-pointCoral",children:l}),x.jsx(at,{type:"submit",name:"계정 생성하기",className:"mx-auto mt-4"})]}),t.step===3&&x.jsxs("form",{onSubmit:p,children:[x.jsx(dn,{label:"이름",name:"username",value:f,placeholder:"이름을 입력해주세요.",onChange:h}),x.jsx(gs,{htmlFor:"gender",text:"이름"}),x.jsx("fieldset",{children:tne.map(v=>x.jsxs("div",{children:[x.jsx(gs,{text:v}),x.jsx("input",{id:v,type:"radio",name:"gender",value:v,onChange:h,required:!0})]},v))}),x.jsx(gs,{htmlFor:"bookFields",text:"관심 분야"}),x.jsx("fieldset",{className:"bookfield",children:ld.map(v=>x.jsx(Ame,{bookFieldName:v.name,bookFields:v,checkedBoxHandler:m},v.id))}),l&&x.jsx("span",{children:l}),x.jsx(at,{type:"submit",name:"등록하기"})]})]})]})},Pme=()=>{const[t,e]=z.useState(""),[n,r]=z.useState(!1),i=o=>{o.preventDefault(),zU(qt,t).catch(l=>{console.log(l)}),r(!0),e("")},s=o=>{r(!1),e(o.currentTarget.value)};return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{showDesktop:!0,title:"비밀번호 찾기",backBtn:!0}),x.jsxs("main",{children:[x.jsx(ym,{title:"비밀번호가 생각나지 않으세요?",className:"mb-2"}),x.jsx("p",{children:"가입할 때 사용하신 계정 이메일을 적어주세요."}),x.jsxs("form",{onSubmit:i,className:"mb-3 mt-1 flex w-full gap-x-3",children:[x.jsx(dn,{name:"email",type:"email",value:t,placeholder:"계정 이메일을 적어주세요.",onChange:s,autoComplete:"email",className:"min-w-10 flex-grow whitespace-nowrap"}),x.jsx(at,{type:"submit",name:"전송하기"})]}),n?x.jsxs("span",{children:["해당 이메일에 비밀번호 재설정 링크가 전송되었어요.",x.jsx("br",{})," 수신함에 메일이 보이지 않는다면 스팸을 확인해주세요."]}):x.jsx(x.Fragment,{})]})]})};function Rme(){const{pathname:t}=jn();return z.useEffect(()=>{t.includes("/bookclub/")||window.scrollTo(0,0)},[t]),null}const Mme=({postType:t})=>{const[e,n]=z.useState(""),r=Fe(Ei(Ln)),{uid:i}=Fe(gt),{sendPostPushNotification:s,isPending:o}=Wi(),{id:l,book:{thumbnail:u,title:d}}=r,f=t==="발제문"?Pr(l,Rd):Pr(l,Pd),h={text:e,createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i,title:d,thumbnail:u},{onAddDocSubmit:p}=tE({setText:n,collName:f,docData:h}),{hideModal:m}=Ht(),v=async y=>{if(h.text!=="")try{await p(y),await s(t),m()}catch{window.alert("등록 중 오류가 발생했습니다.")}};return x.jsx(ki,{title:`${t} 작성하기`,children:x.jsxs("form",{onSubmit:v,className:"overflow-scroll pb-1 scrollbar-hide",children:[x.jsx(bF,{placeholder:`${t}을 작성해주세요`,text:e,setText:n}),x.jsx(at,{name:"작성 완료",type:"submit",className:"ml-auto",disabled:o})]})})};function mp(){var S;const[t,e]=Yt(Hu),[n,r]=Yt(R3),[i,s]=Yt(P3),{showModal:o}=Ht(),{pathname:l,state:u}=jn(),d=(u==null?void 0:u.id)??Ln,f=l.includes("host-review")?"정리 기록":"발제문",h=(u==null?void 0:u.postId)??"";z.useEffect(()=>{qn(`BookClub-${d.slice(0,4)}`,e),qn(Pr(d,Pd),r),qn(Pr(d,Rd),s)},[]);const p=t==null?void 0:t.find(T=>T.id===d),{alertAskJoinMember:m,anonymous:v}=kr("write"),y=()=>{if(v)return m();o({element:x.jsx(Mme,{postType:f})})},w={발제문:{postList:i,collName:Pr(d,Rd)},"정리 기록":{postList:n,collName:Pr(d,Pd)}},{postList:_,collName:b}=w[f],k=h?_.filter(T=>T.id===h):_;return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`${d===Ln?"이달":ut(d,"yy년 MM월")}의 한페이지 ${f}`,backBtn:!0}),x.jsxs("main",{children:[p&&x.jsx(O3,{bookClub:p}),l.includes("bookclub")&&x.jsx(at,{type:"button",color:"darkBlue",name:`${f} 작성하기`,handleClick:y,className:"mt-5 w-full !py-3"}),(S=w[f])!=null&&S.postList?(k==null?void 0:k.length)!==0&&k.map((T,N)=>x.jsxs(z.Fragment,{children:[x.jsx(PE,{type:f,post:T,collName:b,className:"relative mt-4 max-sm:pb-4",children:x.jsx(Xg,{createdAt:T.createdAt,footerType:"likes",post:T,collName:b})}),k.length-1!==N&&x.jsx(I3,{})]},T.id)):x.jsx(yf,{className:"h-[25vh]"})]})]})}function Lme({label:t,checked:e,checkedBoxHandler:n,detail:r}){const i=async s=>{const{currentTarget:{checked:o}}=s;n(t,o)};return x.jsxs("div",{className:"flex items-start gap-1",children:[x.jsx("input",{type:"checkbox",id:t,checked:e,onChange:i,className:"mt-1 size-[15px]"}),x.jsxs("div",{className:"flex-1",children:[x.jsx(gs,{text:t}),r&&x.jsx(js,{color:"gray",text:r})]})]})}function jme({month:t,onSubmit:e,selectedValues:n,setSelectedValues:r}){const i=(s,o)=>{const l=s==="모임 일회 불참"&&o&&n.breakMonth||s==="모임 정지"&&o&&n.onceAbsenceMonth;r(l?{...s==="모임 정지"?{month:t,onceAbsenceMonth:!o,breakMonth:o}:{month:t,breakMonth:!o,onceAbsenceMonth:o}}:{...n,...s==="모임 정지"?{breakMonth:o}:{onceAbsenceMonth:o}})};return x.jsxs("form",{onSubmit:s=>e(s,t),className:"mt-4 flex flex-col gap-2.5",children:[["모임 일회 불참","모임 정지"].map(s=>x.jsx(Lme,{label:s,checked:s==="모임 정지"?n.breakMonth:n.onceAbsenceMonth,checkedBoxHandler:i,detail:s==="모임 정지"?"모임에 신경쓰지 못하는 달이 될 경우 체크해주세요.(모임후기 작성 X)":"일정상 모임에 참석하지 못하는 경우에 체크해주세요.(모임후기 작성 O)"},s)),x.jsx(at,{type:"submit",name:"변경하기",className:"!ml-auto border !py-0"})]})}function Fme({userId:t,isFoldable:e=!1,isEditable:n=!1}){var p;const{uid:r}=Fe(gt),[i,s]=Yt(gf),{onSubmit:o,selectedValues:l,setSelectedValues:u}=$ne();z.useEffect(()=>{hl(i)||ir(_i,Eu,s)},[i]);const d=(p=i==null?void 0:i.absenceMembers)==null?void 0:p.map(({month:m,onceAbsenceMembers:v,breakMembers:y})=>({month:m,onceAbsenceMonth:v.includes(t),breakMonth:y.includes(t)})),{showModal:f}=Ht(),h=m=>{var v,y,w;if(m){const _=(v=i.absenceMembers)==null?void 0:v.find(S=>S.month===m),b=(y=_==null?void 0:_.breakMembers)==null?void 0:y.find(S=>S===r),k=(w=_==null?void 0:_.onceAbsenceMembers)==null?void 0:w.find(S=>S===r);u({month:m,breakMonth:!!b,onceAbsenceMonth:!!k})}f({element:x.jsx(ki,{title:`${m}월 모임 불참 여부`,children:x.jsx(jme,{month:m,onSubmit:o,selectedValues:l,setSelectedValues:u})})})};return x.jsx(x.Fragment,{children:i?x.jsx(UE,{color:"blue",labels:["월","일회불참","모임정지"],recordsOfYear:d,onEditClick:h,isFoldable:e,isEditable:n}):x.jsx(yf,{className:"h-[40vh]"})})}function $me(){const{uid:t}=Fe(gt);return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:`나의 ${jt}년 모임 불참 설정`,backBtn:!0}),x.jsxs("main",{children:[x.jsx(js,{text:"모임에 일회불참하거나 모임정지하는 모든 달에 체크해주세요"}),x.jsx(Fme,{userId:t,isEditable:!0})]})]})}const Bme=()=>{const t=qt==null?void 0:qt.currentUser,{onSubmit:e,originPassword:n,onOriginChange:r,newPassword:i,onNewChange:s,checkNewPassword:o,onCheckNewChange:l}=Ane();return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"비밀번호 변경",backBtn:!0}),x.jsx("main",{children:x.jsxs("form",{onSubmit:e,className:"flex flex-col gap-y-3",children:[x.jsx("input",{hidden:!0,type:"text",autoComplete:"username",defaultValue:t==null?void 0:t.email}),x.jsx(dn,{name:"password",type:"password",value:n,placeholder:"기존 비밀번호를 작성해주세요.",onChange:r,autoComplete:"current-password"}),x.jsx(dn,{name:"password",type:"password",value:i,placeholder:"새로운 비밀번호를 작성해주세요.",onChange:s,autoComplete:"new-password"}),x.jsx(dn,{name:"password",type:"password",value:o,placeholder:"새로운 비밀번호를 다시 한번 작성해주세요.",onChange:l,autoComplete:"new-password"}),x.jsx(at,{type:"submit",name:"변경하기",className:"mx-auto mt-5"})]})})]})},Vme=()=>{const{onDeleteSubmit:t,showMessage:e,password:n,onChange:r}=jne();return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"탈퇴",backBtn:!0}),x.jsxs("main",{children:[x.jsx(js,{text:" 탈퇴할 시 회원님의 데이터는 즉시 모두 삭제되며, 데이터는 복구 불가능합니다."}),x.jsxs("form",{className:"gap-1",onSubmit:t,children:[e&&x.jsx("span",{className:"text-sm",children:"비밀번호가 맞지 않습니다."}),x.jsx(dn,{label:"비밀번호 확인",name:"password",type:"password",placeholder:"현재 비밀번호를 입력해주세요.",value:n,onChange:r,autoComplete:"current-password"}),x.jsx(at,{type:"submit",name:"탈퇴하기",className:"my-2 ml-auto !h-8 py-1"})]})]})]})};function Ume(){const{email:t}=Fe(gt),e=Fe(wv),n=Fe(Ei(Ln)),[r,i]=z.useState([]),{sendPushNotificationToUser:s,sendPushNotificationToAllUser:o,isPending:l}=Wi(),u=Er();z.useEffect(()=>{t!==XS&&u(-1),qn(Ad,i)},[]);const d=hm(n.meeting.time),f=hm("2025-12-21");return x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"개발자도구",backBtn:!0}),x.jsxs("main",{children:[x.jsx(Vt,{title:"알림 테스트",children:x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsx(at,{name:"나에게 알림",handleClick:async()=>{const h={title:"🚀알림테스트",body:"나에게만 알림 보내기🔥",notification:e.notification};(await s(h)).result==="success"&&window.alert("알림을 보냈습니다!")},disabled:l}),x.jsx(at,{color:"purple",name:"모든 멤버에게 알림",handleClick:async()=>{const h={title:"🚀알림테스트",body:"알림을 잘 받았나요?🔥"};await s({...h,notification:e.notification}),await o(h),window.alert("알림을 보냈습니다!")},disabled:l})]})}),x.jsx(Vt,{title:"특정 멤버에게 알림 테스트",children:x.jsx("ul",{className:"flex flex-wrap gap-3",children:r.map(h=>x.jsx("li",{children:x.jsx(at,{color:"blue",name:"에게 알림",handleClick:()=>{const p={title:"🚀알림 테스트",body:"알림을 잘 받았나요?",notification:e.notification};s(p,h),window.alert("알림을 보냈습니다!")},disabled:l,children:x.jsx(li,{userId:h.id})})},h.id))})}),x.jsx(Vt,{title:"모임 종료 알림",children:x.jsx(at,{name:`${+zr}월 독서모임 종료 알림`,handleClick:async()=>{const h={title:`☕️${+zr}월 독서모임이 종료됐어요`,body:"독서모임이 종료되었습니다. 기억에 남는 이야기가 있었다면 모임 후기에 작성해보세요🔥",notification:e.notification};await s(h),await o(h),window.alert("이번달 독서모임 종료 알림을 모두에게 보냈습니다!")},disabled:l})}),x.jsx(Vt,{title:"모임 임박 알림",children:x.jsx(at,{name:`${+zr}월 독서모임 임박 알림 DDAY: ${d}일`,handleClick:async()=>{const h={title:`☕️${+zr}월 독서모임이 임박했어요!`,body:`${d} 후 독서모임이 시작됩니다. 모임책을 완독하세요🔥`,notification:e.notification};await s(h),await o(h),window.alert("이번달 독서모임 임박 알림을 모두에게 보냈습니다!")},disabled:l})}),x.jsx(Vt,{title:"챌린지 디데이 알림",children:x.jsx(at,{name:`${+jt}년 챌린지 DDAY: ${f}일`,handleClick:async()=>{const h={title:`☕️${+jt}년 재독 챌린지 DDAY 알림`,body:`챌린지 종료까지 ${f}일 남았습니다. 모임책 한권을 재독해봐요!🔥`,notification:e.notification};await s(h),await o(h),window.alert("챌린지 디데이 알림을 모두에게 보냈습니다!")},disabled:l})})]})]})}function qme({onClick:t,disabled:e,className:n=""}){return x.jsx("button",{type:"button",onClick:t,disabled:e,className:`flex size-[26px] items-center justify-center p-1 disabled:text-gray2 ${n}`,children:x.jsx(oE,{className:"size-full"})})}function Hme({onImageChange:t,className:e=""}){const n=z.useRef(null);return x.jsxs(x.Fragment,{children:[x.jsx("button",{type:"button",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},className:`absolute bottom-2 right-3 flex size-8 cursor-pointer items-center justify-center rounded-full border-0 bg-pointCoral ${e}`,children:x.jsx(dre,{fontSize:13,className:"size-4 text-white"})}),x.jsx("input",{type:"file",style:{display:"none"},accept:"image/jpg,image/png,image/jpeg",name:"profile_img",onChange:t,ref:n})]})}const zme=({isEditing:t,newUserImgUrl:e,setNewUserImgUrl:n})=>{const{photoURL:r}=Fe(gt),[i,s]=z.useState(!0),o="size-52 rounded-full bg-white  shadow-card max-sm:size-40",l=u=>{const{currentTarget:{files:d}}=u,f=d[0],h=new FileReader;h.onload=p=>{const{target:{result:m}}=p;n(m)},h.readAsDataURL(f),s(!1)};return x.jsxs("div",{className:"relative m-3 mx-auto flex w-fit items-center justify-center",children:[r?x.jsx("img",{src:i?r:e,alt:"나의 프로필 이미지",onContextMenu:u=>u.preventDefault(),className:`object-cover ${o}`}):x.jsx("div",{className:`flex items-center justify-center ${o}`,children:x.jsx(uE,{className:"size-1/2 text-gray3"})}),t&&x.jsx(Hme,{onImageChange:l})]})},Wme=()=>{var v,y;const{displayName:t,email:e}=Fe(gt),{isEditing:n,onToggleEditClick:r,userDoc:i,newUserImgUrl:s,setNewUserImgUrl:o,newDisplayName:l,setNewDisplayName:u,onHandleFieldClick:d,onProfileSubmit:f,onDisplayNameChange:h,isSelected:p}=Hne();z.useEffect(()=>{l||u(t)},[]);const m=[{name:"이메일",data:x.jsx("span",{className:"w-full",children:e}),form:x.jsx("span",{className:"w-full text-gray1",children:e})},{name:"닉네임",data:x.jsx("span",{children:t}),form:x.jsx(dn,{onChange:h,placeholder:"닉네임을 입력해주세요",value:l||""})},{name:"좋아하는 분야",data:x.jsx("ul",{className:"flex flex-wrap gap-2",children:(v=i==null?void 0:i.favoriteBookField)==null?void 0:v.map(w=>x.jsx(Hn,{text:w.name,color:"green"},w.id))}),form:x.jsxs("ul",{className:"flex flex-wrap gap-2",children:[ld==null?void 0:ld.map(({id:w,name:_})=>x.jsx("button",{type:"button",name:_,onClick:b=>d(w,b),children:x.jsx(Hn,{text:_,color:p(w)?"purple":"lightGray",className:"!px-2"})},w)),((y=i==null?void 0:i.favoriteBookField)==null?void 0:y.length)===0&&x.jsx("span",{className:"block w-full text-end text-sm text-pointCoral",children:"변경하실 분야를 하나 이상 선택해주세요"})]})}];return i!=null&&i.displayName?x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"프로필 정보",backBtn:!0,children:x.jsx(qme,{onClick:r,disabled:n})}),x.jsxs("main",{children:[x.jsx(zme,{isEditing:n,newUserImgUrl:s,setNewUserImgUrl:o}),n?x.jsxs("form",{onSubmit:f,className:"mt-8",children:[x.jsx("ul",{className:"flex flex-col gap-4",children:m.map(({name:w,form:_})=>x.jsxs("li",{className:"flex justify-between gap-6",children:[x.jsx("h3",{className:"min-w-24",children:w}),_]},w))}),x.jsx(at,{name:"수정완료",type:"submit",className:"mx-auto mt-12"})]}):x.jsx("ul",{className:"mt-10 flex w-full flex-col gap-y-5",children:m.map(({name:w,data:_})=>x.jsxs("li",{className:"flex gap-6",children:[x.jsx("h3",{className:"min-w-24",children:w}),_]},w))})]})]}):x.jsx(yf,{})};function Yme(){var v;const[t,e]=z.useState(!1),[n,r]=z.useState(!1),[i,s]=Yt(wv),{uid:o}=Fe(gt),l=(v=qt.currentUser)==null?void 0:v.isAnonymous,{sendPushNotificationToUser:u,isPending:d}=Wi(),f=async()=>{var b,k;const y=await PS();if((b=i==null?void 0:i.tokens)!=null&&b.includes(y))return;const w=rn(Gt,Ad,o),_={createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),notification:!0,tokens:i.tokens&&((k=i.tokens)==null?void 0:k.length)>0?[...i==null?void 0:i.tokens,y]:[y]};i.notification||await ws(w,_),i.notification&&await un(w,_),s(_)},h=async()=>{if(!("Notification"in window)){alert("현재 브라우저에서는 알림을 지원하지 않습니다.");return}if(l){alert("익명의 방문자는 알림을 받을 수 없습니다.");return}if(Notification.permission==="denied")return alert("현재 앱알림이 거부된 상태입니다. 모바일이라면 휴대폰 앱 설정에 들어가서 알림 설정을 켜주세요. 브라우저라면 브라우저 설정에 들어가서 알림 설정을 허용으로 변경해주세요. 안된다면 개발자에게 문의해주세요.");const y={title:"💌알림 시작 안내",body:"이제부터 독서모임 한페이지에서 유용한 알림들을 보내드릴게요❣️",notification:!0};Notification.permission==="granted"?(await f(),await u(y)):await Notification.requestPermission()==="granted"&&(await f(),await u(y)),e(!0),r(!1)},p=async()=>{const y=rn(Gt,Ad,o),w={notification:!1,createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss")};await ws(y,w),e(_=>!_),r(!1)},m=()=>{r(!0),t?p():h()};return z.useEffect(()=>{i!=null&&i.notification&&Notification.permission==="granted"&&e(!0)},[i==null?void 0:i.notification]),x.jsxs(x.Fragment,{children:[x.jsx(Fn,{title:"설정",backBtn:!0}),x.jsxs("main",{className:"flex justify-between",children:[x.jsx("h3",{className:"font-medium text-gray1",children:"알림"}),x.jsx("button",{type:"button",className:`flex h-7 w-12 items-center rounded-full p-1 ${t?"bg-green-500":"bg-gray3"}`,"aria-label":"알림 토글 버튼",onClick:m,disabled:d||n,children:x.jsx("div",{className:`size-5 rounded-full shadow-md transition-transform ${t?"translate-x-5 bg-white":"translate-x-0 bg-gray4"}`})})]})]})}function Gme({isLoggedIn:t}){var i;const e=(i=qt.currentUser)==null?void 0:i.isAnonymous,n=Fe(O4),{hideModal:r}=Ht();return x.jsxs(E6,{basename:"/han-bookclub-app",children:[x.jsx(Rme,{}),t?x.jsxs(x.Fragment,{children:[x.jsx(Dme,{}),x.jsxs(MC,{children:[x.jsx(At,{path:"/",element:x.jsx(ome,{})}),x.jsx(At,{path:"/monthlyinfo",element:x.jsx(dme,{})}),x.jsxs(x.Fragment,{children:[x.jsx(At,{path:"/bookclub",element:x.jsx(SA,{})}),x.jsx(At,{path:"/bookclub/subjects",element:x.jsx(mp,{})}),x.jsx(At,{path:"/bookclub/host-review",element:x.jsx(mp,{})})]}),x.jsx(At,{path:"/challenge",element:x.jsx($oe,{})}),x.jsx(At,{path:"/search",element:x.jsx(gme,{})}),x.jsxs(x.Fragment,{children:[x.jsx(At,{path:"/previous-club",element:x.jsx(hme,{})}),x.jsx(At,{path:"/previous-club/:id",element:x.jsx(SA,{})}),x.jsx(At,{path:"/previous-club/:id/host-review",element:x.jsx(mp,{})}),x.jsx(At,{path:"/previous-club/:id/subjects",element:x.jsx(mp,{})})]}),x.jsxs(x.Fragment,{children:[x.jsx(At,{path:"/vote",element:x.jsx(Eme,{})}),x.jsx(At,{path:"/vote/:id",element:x.jsx(Ome,{})})]}),x.jsx(At,{path:"/bookshelf",element:x.jsx(P2,{})}),x.jsx(At,{path:"/bookshelf/:username",element:x.jsx(P2,{})}),x.jsx(At,{path:"/setting",element:x.jsx(yme,{})}),x.jsx(At,{path:"/setting/absence",element:x.jsx($me,{})}),x.jsx(At,{path:"/setting/edit-profile",element:x.jsx(Wme,{})}),x.jsx(At,{path:"/setting/edit-password",element:x.jsx(Bme,{})}),x.jsx(At,{path:"/setting/delete-account",element:x.jsx(Vme,{})}),x.jsx(At,{path:"/setting/developer",element:x.jsx(Ume,{})}),x.jsx(At,{path:"/setting/notification",element:x.jsx(Yme,{})}),e&&x.jsxs(x.Fragment,{children:[x.jsx(At,{path:"/login",element:x.jsx(R1,{isLoggedIn:t})}),x.jsx(At,{path:"/create_account",element:x.jsx(ZA,{})})]})]}),x.jsx(Ime,{})]}):x.jsxs(MC,{children:[x.jsx(At,{path:"/",element:x.jsx(R1,{isLoggedIn:t})}),x.jsx(At,{path:"/find_pw",element:x.jsx(Pme,{})}),x.jsx(At,{path:"/*",element:x.jsx(R1,{isLoggedIn:t})}),x.jsx(At,{path:"/create_account",element:x.jsx(ZA,{})})]}),n.length>0&&n.map(({key:s,element:o,hideDim:l,dimUnclickable:u})=>x.jsxs(z.Fragment,{children:[!l&&x.jsx("div",{role:"presentation",className:`fixed inset-0 z-10 size-full ${u?"cursor-default":"cursor-pointer"} bg-black opacity-60`,onClick:s?()=>r(s):()=>r()}),o]},s||"modal"))]})}function Kme({size:t=200,className:e=""}){return x.jsxs("div",{className:`relative flex items-center justify-center rounded-full ${e}`,style:{height:`${t}px`,width:`${t}px`},children:[x.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"11",fill:"none",className:"stroke-purple3"}),x.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:10,strokeLinecap:"round",strokeDasharray:"45 240",strokeDashoffset:"100",className:"origin-center animate-spin border stroke-purple1"})]}),x.jsx(sde,{className:"absolute size-[40%] text-pointPurple"})]})}function Qme(){const[t,e]=z.useState(!1),[n,r]=Yt(gt),[i,s]=Yt(wv),o=Km().currentUser;return z.useEffect(()=>{if(o){const{uid:l,displayName:u,email:d,photoURL:f}=o;r({uid:l,displayName:u,email:d,photoURL:f}),e(!0)}},[o]),z.useEffect(()=>{n!=null&&n.uid&&ir(Ad,n.uid,s)},[n==null?void 0:n.uid]),z.useEffect(()=>{t&&(i==null?void 0:i.notification)===!0&&(async()=>{var u,d;if(Notification.permission==="granted"){const f=await PS(),h=(u=i==null?void 0:i.tokens)==null?void 0:u.find(p=>p===f);if(h)return;if(!h&&(n!=null&&n.uid)){const p=rn(Gt,Ad,n.uid),m={createdAt:ut(new Date,"yyyy-MM-dd'T'HH:mm:ss"),tokens:((d=i==null?void 0:i.tokens)==null?void 0:d.length)!==0?[...i==null?void 0:i.tokens,f]:[f]};await un(p,m)}}})()},[i]),t?x.jsx(Gme,{isLoggedIn:!!n}):x.jsx("div",{className:"flex h-screen items-center justify-center",children:x.jsx(Kme,{size:120})})}const Xme=OB.createRoot(document.getElementById("root"));Xme.render(x.jsx(lee,{children:x.jsx(Qme,{})}));
