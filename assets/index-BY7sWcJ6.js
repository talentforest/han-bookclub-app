var Y$=Object.defineProperty;var G$=(t,e,n)=>e in t?Y$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Me=(t,e,n)=>G$(t,typeof e!="symbol"?e+"":e,n);function K$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p0={exports:{}},Fc={},m0={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC;function Q$(){if(VC)return yt;VC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function w(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}w.prototype.isReactComponent={},w.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=w.prototype;function _(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}var E=_.prototype=new b;E.constructor=_,g(E,w.prototype),E.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,O={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(j,U,V){var z,K={},X=null,W=null;if(U!=null)for(z in U.ref!==void 0&&(W=U.ref),U.key!==void 0&&(X=""+U.key),U)k.call(U,z)&&!N.hasOwnProperty(z)&&(K[z]=U[z]);var J=arguments.length-2;if(J===1)K.children=V;else if(1<J){for(var Z=Array(J),te=0;te<J;te++)Z[te]=arguments[te+2];K.children=Z}if(j&&j.defaultProps)for(z in J=j.defaultProps,J)K[z]===void 0&&(K[z]=J[z]);return{$$typeof:t,type:j,key:X,ref:W,props:K,_owner:O.current}}function D(j,U){return{$$typeof:t,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function A(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return U[V]})}var I=/\/+/g;function L(j,U){return typeof j=="object"&&j!==null&&j.key!=null?A(""+j.key):U.toString(36)}function F(j,U,V,z,K){var X=typeof j;(X==="undefined"||X==="boolean")&&(j=null);var W=!1;if(j===null)W=!0;else switch(X){case"string":case"number":W=!0;break;case"object":switch(j.$$typeof){case t:case e:W=!0}}if(W)return W=j,K=K(W),j=z===""?"."+L(W,0):z,x(K)?(V="",j!=null&&(V=j.replace(I,"$&/")+"/"),F(K,U,V,"",function(te){return te})):K!=null&&(P(K)&&(K=D(K,V+(!K.key||W&&W.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+j)),U.push(K)),1;if(W=0,z=z===""?".":z+":",x(j))for(var J=0;J<j.length;J++){X=j[J];var Z=z+L(X,J);W+=F(X,U,V,Z,K)}else if(Z=p(j),typeof Z=="function")for(j=Z.call(j),J=0;!(X=j.next()).done;)X=X.value,Z=z+L(X,J++),W+=F(X,U,V,Z,K);else if(X==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return W}function q(j,U,V){if(j==null)return j;var z=[],K=0;return F(j,z,"","",function(X){return U.call(V,X,K++)}),z}function M(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var B={current:null},Y={transition:null},H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Y,ReactCurrentOwner:O};return yt.Children={map:q,forEach:function(j,U,V){q(j,function(){U.apply(this,arguments)},V)},count:function(j){var U=0;return q(j,function(){U++}),U},toArray:function(j){return q(j,function(U){return U})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},yt.Component=w,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=_,yt.StrictMode=r,yt.Suspense=l,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,yt.cloneElement=function(j,U,V){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var z=g({},j.props),K=j.key,X=j.ref,W=j._owner;if(U!=null){if(U.ref!==void 0&&(X=U.ref,W=O.current),U.key!==void 0&&(K=""+U.key),j.type&&j.type.defaultProps)var J=j.type.defaultProps;for(Z in U)k.call(U,Z)&&!N.hasOwnProperty(Z)&&(z[Z]=U[Z]===void 0&&J!==void 0?J[Z]:U[Z])}var Z=arguments.length-2;if(Z===1)z.children=V;else if(1<Z){J=Array(Z);for(var te=0;te<Z;te++)J[te]=arguments[te+2];z.children=J}return{$$typeof:t,type:j.type,key:K,ref:X,props:z,_owner:W}},yt.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},yt.createElement=C,yt.createFactory=function(j){var U=C.bind(null,j);return U.type=j,U},yt.createRef=function(){return{current:null}},yt.forwardRef=function(j){return{$$typeof:a,render:j}},yt.isValidElement=P,yt.lazy=function(j){return{$$typeof:c,_payload:{_status:-1,_result:j},_init:M}},yt.memo=function(j,U){return{$$typeof:h,type:j,compare:U===void 0?null:U}},yt.startTransition=function(j){var U=Y.transition;Y.transition={};try{j()}finally{Y.transition=U}},yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},yt.useCallback=function(j,U){return B.current.useCallback(j,U)},yt.useContext=function(j){return B.current.useContext(j)},yt.useDebugValue=function(){},yt.useDeferredValue=function(j){return B.current.useDeferredValue(j)},yt.useEffect=function(j,U){return B.current.useEffect(j,U)},yt.useId=function(){return B.current.useId()},yt.useImperativeHandle=function(j,U,V){return B.current.useImperativeHandle(j,U,V)},yt.useInsertionEffect=function(j,U){return B.current.useInsertionEffect(j,U)},yt.useLayoutEffect=function(j,U){return B.current.useLayoutEffect(j,U)},yt.useMemo=function(j,U){return B.current.useMemo(j,U)},yt.useReducer=function(j,U,V){return B.current.useReducer(j,U,V)},yt.useRef=function(j){return B.current.useRef(j)},yt.useState=function(j){return B.current.useState(j)},yt.useSyncExternalStore=function(j,U,V){return B.current.useSyncExternalStore(j,U,V)},yt.useTransition=function(){return B.current.useTransition()},yt.version="18.2.0",yt}var qC;function ng(){return qC||(qC=1,m0.exports=Q$()),m0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function X$(){if(HC)return Fc;HC=1;var t=ng(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,h){var c,f={},p=null,m=null;h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(f[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return Fc.Fragment=n,Fc.jsx=s,Fc.jsxs=s,Fc}var zC;function J$(){return zC||(zC=1,p0.exports=X$()),p0.exports}var S=J$(),qh={},g0={exports:{}},Yr={},v0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function Z$(){return WC||(WC=1,function(t){function e(Y,H){var j=Y.length;Y.push(H);e:for(;0<j;){var U=j-1>>>1,V=Y[U];if(0<i(V,H))Y[U]=H,Y[j]=V,j=U;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],j=Y.pop();if(j!==H){Y[0]=j;e:for(var U=0,V=Y.length,z=V>>>1;U<z;){var K=2*(U+1)-1,X=Y[K],W=K+1,J=Y[W];if(0>i(X,j))W<V&&0>i(J,X)?(Y[U]=J,Y[W]=j,U=W):(Y[U]=X,Y[K]=j,U=K);else if(W<V&&0>i(J,j))Y[U]=J,Y[W]=j,U=W;else break e}}return H}function i(Y,H){var j=Y.sortIndex-H.sortIndex;return j!==0?j:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],h=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=Y)r(h),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(h)}}function x(Y){if(y=!1,E(Y),!g)if(n(l)!==null)g=!0,M(k);else{var H=n(h);H!==null&&B(x,H.startTime-Y)}}function k(Y,H){g=!1,y&&(y=!1,b(C),C=-1),m=!0;var j=p;try{for(E(H),f=n(l);f!==null&&(!(f.expirationTime>H)||Y&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var V=U(f.expirationTime<=H);H=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),E(H)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var K=n(h);K!==null&&B(x,K.startTime-H),z=!1}return z}finally{f=null,p=j,m=!1}}var O=!1,N=null,C=-1,D=5,P=-1;function A(){return!(t.unstable_now()-P<D)}function I(){if(N!==null){var Y=t.unstable_now();P=Y;var H=!0;try{H=N(!0,Y)}finally{H?L():(O=!1,N=null)}}else O=!1}var L;if(typeof _=="function")L=function(){_(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=I,L=function(){q.postMessage(null)}}else L=function(){w(I,0)};function M(Y){N=Y,O||(O=!0,L())}function B(Y,H){C=w(function(){Y(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,M(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var j=p;p=H;try{return Y()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=p;p=Y;try{return H()}finally{p=j}},t.unstable_scheduleCallback=function(Y,H,j){var U=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,Y={id:c++,callback:H,priorityLevel:Y,startTime:j,expirationTime:V,sortIndex:-1},j>U?(Y.sortIndex=j,e(h,Y),n(l)===null&&Y===n(h)&&(y?(b(C),C=-1):y=!0,B(x,j-U))):(Y.sortIndex=V,e(l,Y),g||m||(g=!0,M(k))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var H=p;return function(){var j=p;p=H;try{return Y.apply(this,arguments)}finally{p=j}}}}(y0)),y0}var YC;function eB(){return YC||(YC=1,v0.exports=Z$()),v0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function tB(){if(GC)return Yr;GC=1;var t=ng(),e=eB();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(u,d){s(u,d),s(u+"Capture",d)}function s(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function p(u){return l.call(f,u)?!0:l.call(c,u)?!1:h.test(u)?f[u]=!0:(c[u]=!0,!1)}function m(u,d,v,T){if(v!==null&&v.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return T?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function g(u,d,v,T){if(d===null||typeof d>"u"||m(u,d,v,T))return!0;if(T)return!1;if(v!==null)switch(v.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(u,d,v,T,R,$,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=R,this.mustUseProperty=v,this.propertyName=u,this.type=d,this.sanitizeURL=$,this.removeEmptyString=G}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];w[d]=new y(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(b,_);w[d]=new y(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(b,_);w[d]=new y(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(b,_);w[d]=new y(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function E(u,d,v,T){var R=w.hasOwnProperty(d)?w[d]:null;(R!==null?R.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(g(d,v,R,T)&&(v=null),T||R===null?p(d)&&(v===null?u.removeAttribute(d):u.setAttribute(d,""+v)):R.mustUseProperty?u[R.propertyName]=v===null?R.type===3?!1:"":v:(d=R.attributeName,T=R.attributeNamespace,v===null?u.removeAttribute(d):(R=R.type,v=R===3||R===4&&v===!0?"":""+v,T?u.setAttributeNS(T,d,v):u.setAttribute(d,v))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var j=Object.assign,U;function V(u){if(U===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+u}var z=!1;function K(u,d){if(!u||z)return"";z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var T=de}Reflect.construct(u,[],d)}else{try{d.call()}catch(de){T=de}u.call(d.prototype)}else{try{throw Error()}catch(de){T=de}u()}}catch(de){if(de&&T&&typeof de.stack=="string"){for(var R=de.stack.split(`
`),$=T.stack.split(`
`),G=R.length-1,ee=$.length-1;1<=G&&0<=ee&&R[G]!==$[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(R[G]!==$[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||R[G]!==$[ee]){var ne=`
`+R[G].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=G&&0<=ee);break}}}finally{z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?V(u):""}function X(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=K(u.type,!1),u;case 11:return u=K(u.type.render,!1),u;case 1:return u=K(u.type,!0),u;default:return""}}function W(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case N:return"Fragment";case O:return"Portal";case D:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case A:return(u.displayName||"Context")+".Consumer";case P:return(u._context.displayName||"Context")+".Provider";case I:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return d=u.displayName||null,d!==null?d:W(u.type)||"Memo";case M:d=u._payload,u=u._init;try{return W(u(d))}catch{}}return null}function J(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function le(u){var d=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),T=""+u[d];if(!u.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,$=v.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return R.call(this)},set:function(G){T=""+G,$.call(this,G)}}),Object.defineProperty(u,d,{enumerable:v.enumerable}),{getValue:function(){return T},setValue:function(G){T=""+G},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function pe(u){u._valueTracker||(u._valueTracker=le(u))}function ge(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var v=d.getValue(),T="";return u&&(T=te(u)?u.checked?"true":"false":u.value),u=T,u!==v?(d.setValue(u),!0):!1}function Ce(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Fe(u,d){var v=d.checked;return j({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function De(u,d){var v=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;v=Z(d.value!=null?d.value:v),u._wrapperState={initialChecked:T,initialValue:v,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function nt(u,d){d=d.checked,d!=null&&E(u,"checked",d,!1)}function Qe(u,d){nt(u,d);var v=Z(d.value),T=d.type;if(v!=null)T==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?fe(u,d.type,v):d.hasOwnProperty("defaultValue")&&fe(u,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function ce(u,d,v){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,v||d===u.value||(u.value=d),u.defaultValue=d}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function fe(u,d,v){(d!=="number"||Ce(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var we=Array.isArray;function _e(u,d,v,T){if(u=u.options,d){d={};for(var R=0;R<v.length;R++)d["$"+v[R]]=!0;for(v=0;v<u.length;v++)R=d.hasOwnProperty("$"+u[v].value),u[v].selected!==R&&(u[v].selected=R),R&&T&&(u[v].defaultSelected=!0)}else{for(v=""+Z(v),d=null,R=0;R<u.length;R++){if(u[R].value===v){u[R].selected=!0,T&&(u[R].defaultSelected=!0);return}d!==null||u[R].disabled||(d=u[R])}d!==null&&(d.selected=!0)}}function he(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function $e(u,d){var v=d.value;if(v==null){if(v=d.children,d=d.defaultValue,v!=null){if(d!=null)throw Error(n(92));if(we(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),v=d}u._wrapperState={initialValue:Z(v)}}function Ie(u,d){var v=Z(d.value),T=Z(d.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),d.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),T!=null&&(u.defaultValue=""+T)}function Ye(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Gt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nn(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Gt(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var it,$r=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,v,T,R){MSApp.execUnsafeLocalFunction(function(){return u(d,v,T,R)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=it.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function ut(u,d){if(d){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=d;return}}u.textContent=d}var qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xn=["Webkit","ms","Moz","O"];Object.keys(qt).forEach(function(u){Xn.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),qt[d]=qt[u]})});function Br(u,d,v){return d==null||typeof d=="boolean"||d===""?"":v||typeof d!="number"||d===0||qt.hasOwnProperty(u)&&qt[u]?(""+d).trim():d+"px"}function Cr(u,d){u=u.style;for(var v in d)if(d.hasOwnProperty(v)){var T=v.indexOf("--")===0,R=Br(v,d[v],T);v==="float"&&(v="cssFloat"),T?u.setProperty(v,R):u[v]=R}}var se=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(u,d){if(d){if(se[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function be(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Te(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ne=null,Ge=null,Be=null;function He(u){if(u=Sc(u)){if(typeof Ne!="function")throw Error(n(280));var d=u.stateNode;d&&(d=rh(d),Ne(u.stateNode,u.type,d))}}function rt(u){Ge?Be?Be.push(u):Be=[u]:Ge=u}function xt(){if(Ge){var u=Ge,d=Be;if(Be=Ge=null,He(u),d)for(u=0;u<d.length;u++)He(d[u])}}function An(u,d){return u(d)}function Lt(){}var ln=!1;function Ur(u,d,v){if(ln)return u(d,v);ln=!0;try{return An(u,d,v)}finally{ln=!1,(Ge!==null||Be!==null)&&(Lt(),xt())}}function mi(u,d){var v=u.stateNode;if(v===null)return null;var T=rh(v);if(T===null)return null;v=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var ds=!1;if(a)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){ds=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{ds=!1}function ga(u,d,v,T,R,$,G,ee,ne){var de=Array.prototype.slice.call(arguments,3);try{d.apply(v,de)}catch(ye){this.onError(ye)}}var ic=!1,Mf=null,Lf=!1,Pv=null,e6={onError:function(u){ic=!0,Mf=u}};function t6(u,d,v,T,R,$,G,ee,ne){ic=!1,Mf=null,ga.apply(e6,arguments)}function n6(u,d,v,T,R,$,G,ee,ne){if(t6.apply(this,arguments),ic){if(ic){var de=Mf;ic=!1,Mf=null}else throw Error(n(198));Lf||(Lf=!0,Pv=de)}}function va(u){var d=u,v=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(v=d.return),u=d.return;while(u)}return d.tag===3?v:null}function ck(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function dk(u){if(va(u)!==u)throw Error(n(188))}function r6(u){var d=u.alternate;if(!d){if(d=va(u),d===null)throw Error(n(188));return d!==u?null:u}for(var v=u,T=d;;){var R=v.return;if(R===null)break;var $=R.alternate;if($===null){if(T=R.return,T!==null){v=T;continue}break}if(R.child===$.child){for($=R.child;$;){if($===v)return dk(R),u;if($===T)return dk(R),d;$=$.sibling}throw Error(n(188))}if(v.return!==T.return)v=R,T=$;else{for(var G=!1,ee=R.child;ee;){if(ee===v){G=!0,v=R,T=$;break}if(ee===T){G=!0,T=R,v=$;break}ee=ee.sibling}if(!G){for(ee=$.child;ee;){if(ee===v){G=!0,v=$,T=R;break}if(ee===T){G=!0,T=$,v=R;break}ee=ee.sibling}if(!G)throw Error(n(189))}}if(v.alternate!==T)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:d}function fk(u){return u=r6(u),u!==null?hk(u):null}function hk(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=hk(u);if(d!==null)return d;u=u.sibling}return null}var pk=e.unstable_scheduleCallback,mk=e.unstable_cancelCallback,i6=e.unstable_shouldYield,o6=e.unstable_requestPaint,Sn=e.unstable_now,s6=e.unstable_getCurrentPriorityLevel,Rv=e.unstable_ImmediatePriority,gk=e.unstable_UserBlockingPriority,jf=e.unstable_NormalPriority,a6=e.unstable_LowPriority,vk=e.unstable_IdlePriority,Ff=null,Zi=null;function l6(u){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(Ff,u,void 0,(u.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:d6,u6=Math.log,c6=Math.LN2;function d6(u){return u>>>=0,u===0?32:31-(u6(u)/c6|0)|0}var $f=64,Bf=4194304;function oc(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Uf(u,d){var v=u.pendingLanes;if(v===0)return 0;var T=0,R=u.suspendedLanes,$=u.pingedLanes,G=v&268435455;if(G!==0){var ee=G&~R;ee!==0?T=oc(ee):($&=G,$!==0&&(T=oc($)))}else G=v&~R,G!==0?T=oc(G):$!==0&&(T=oc($));if(T===0)return 0;if(d!==0&&d!==T&&(d&R)===0&&(R=T&-T,$=d&-d,R>=$||R===16&&($&4194240)!==0))return d;if((T&4)!==0&&(T|=v&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=T;0<d;)v=31-Pi(d),R=1<<v,T|=u[v],d&=~R;return T}function f6(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h6(u,d){for(var v=u.suspendedLanes,T=u.pingedLanes,R=u.expirationTimes,$=u.pendingLanes;0<$;){var G=31-Pi($),ee=1<<G,ne=R[G];ne===-1?((ee&v)===0||(ee&T)!==0)&&(R[G]=f6(ee,d)):ne<=d&&(u.expiredLanes|=ee),$&=~ee}}function Mv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function yk(){var u=$f;return $f<<=1,($f&4194240)===0&&($f=64),u}function Lv(u){for(var d=[],v=0;31>v;v++)d.push(u);return d}function sc(u,d,v){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Pi(d),u[d]=v}function p6(u,d){var v=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<v;){var R=31-Pi(v),$=1<<R;d[R]=0,T[R]=-1,u[R]=-1,v&=~$}}function jv(u,d){var v=u.entangledLanes|=d;for(u=u.entanglements;v;){var T=31-Pi(v),R=1<<T;R&d|u[T]&d&&(u[T]|=d),v&=~R}}var jt=0;function wk(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var bk,Fv,_k,xk,Sk,$v=!1,Vf=[],fs=null,hs=null,ps=null,ac=new Map,lc=new Map,ms=[],m6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ek(u,d){switch(u){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":ac.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(d.pointerId)}}function uc(u,d,v,T,R,$){return u===null||u.nativeEvent!==$?(u={blockedOn:d,domEventName:v,eventSystemFlags:T,nativeEvent:$,targetContainers:[R]},d!==null&&(d=Sc(d),d!==null&&Fv(d)),u):(u.eventSystemFlags|=T,d=u.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),u)}function g6(u,d,v,T,R){switch(d){case"focusin":return fs=uc(fs,u,d,v,T,R),!0;case"dragenter":return hs=uc(hs,u,d,v,T,R),!0;case"mouseover":return ps=uc(ps,u,d,v,T,R),!0;case"pointerover":var $=R.pointerId;return ac.set($,uc(ac.get($)||null,u,d,v,T,R)),!0;case"gotpointercapture":return $=R.pointerId,lc.set($,uc(lc.get($)||null,u,d,v,T,R)),!0}return!1}function kk(u){var d=ya(u.target);if(d!==null){var v=va(d);if(v!==null){if(d=v.tag,d===13){if(d=ck(v),d!==null){u.blockedOn=d,Sk(u.priority,function(){_k(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function qf(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var v=Uv(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var T=new v.constructor(v.type,v);ke=T,v.target.dispatchEvent(T),ke=null}else return d=Sc(v),d!==null&&Fv(d),u.blockedOn=v,!1;d.shift()}return!0}function Tk(u,d,v){qf(u)&&v.delete(d)}function v6(){$v=!1,fs!==null&&qf(fs)&&(fs=null),hs!==null&&qf(hs)&&(hs=null),ps!==null&&qf(ps)&&(ps=null),ac.forEach(Tk),lc.forEach(Tk)}function cc(u,d){u.blockedOn===d&&(u.blockedOn=null,$v||($v=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v6)))}function dc(u){function d(R){return cc(R,u)}if(0<Vf.length){cc(Vf[0],u);for(var v=1;v<Vf.length;v++){var T=Vf[v];T.blockedOn===u&&(T.blockedOn=null)}}for(fs!==null&&cc(fs,u),hs!==null&&cc(hs,u),ps!==null&&cc(ps,u),ac.forEach(d),lc.forEach(d),v=0;v<ms.length;v++)T=ms[v],T.blockedOn===u&&(T.blockedOn=null);for(;0<ms.length&&(v=ms[0],v.blockedOn===null);)kk(v),v.blockedOn===null&&ms.shift()}var Tl=x.ReactCurrentBatchConfig,Hf=!0;function y6(u,d,v,T){var R=jt,$=Tl.transition;Tl.transition=null;try{jt=1,Bv(u,d,v,T)}finally{jt=R,Tl.transition=$}}function w6(u,d,v,T){var R=jt,$=Tl.transition;Tl.transition=null;try{jt=4,Bv(u,d,v,T)}finally{jt=R,Tl.transition=$}}function Bv(u,d,v,T){if(Hf){var R=Uv(u,d,v,T);if(R===null)iy(u,d,T,zf,v),Ek(u,T);else if(g6(R,u,d,v,T))T.stopPropagation();else if(Ek(u,T),d&4&&-1<m6.indexOf(u)){for(;R!==null;){var $=Sc(R);if($!==null&&bk($),$=Uv(u,d,v,T),$===null&&iy(u,d,T,zf,v),$===R)break;R=$}R!==null&&T.stopPropagation()}else iy(u,d,T,null,v)}}var zf=null;function Uv(u,d,v,T){if(zf=null,u=Te(T),u=ya(u),u!==null)if(d=va(u),d===null)u=null;else if(v=d.tag,v===13){if(u=ck(d),u!==null)return u;u=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return zf=u,null}function Ck(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s6()){case Rv:return 1;case gk:return 4;case jf:case a6:return 16;case vk:return 536870912;default:return 16}default:return 16}}var gs=null,Vv=null,Wf=null;function Ok(){if(Wf)return Wf;var u,d=Vv,v=d.length,T,R="value"in gs?gs.value:gs.textContent,$=R.length;for(u=0;u<v&&d[u]===R[u];u++);var G=v-u;for(T=1;T<=G&&d[v-T]===R[$-T];T++);return Wf=R.slice(u,1<T?1-T:void 0)}function Yf(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Gf(){return!0}function Nk(){return!1}function ni(u){function d(v,T,R,$,G){this._reactName=v,this._targetInst=R,this.type=T,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(v=u[ee],this[ee]=v?v($):$[ee]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Gf:Nk,this.isPropagationStopped=Nk,this}return j(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),d}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=ni(Cl),fc=j({},Cl,{view:0,detail:0}),b6=ni(fc),Hv,zv,hc,Kf=j({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==hc&&(hc&&u.type==="mousemove"?(Hv=u.screenX-hc.screenX,zv=u.screenY-hc.screenY):zv=Hv=0,hc=u),Hv)},movementY:function(u){return"movementY"in u?u.movementY:zv}}),Ak=ni(Kf),_6=j({},Kf,{dataTransfer:0}),x6=ni(_6),S6=j({},fc,{relatedTarget:0}),Wv=ni(S6),E6=j({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),k6=ni(E6),T6=j({},Cl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),C6=ni(T6),O6=j({},Cl,{data:0}),Dk=ni(O6),N6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I6(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=D6[u])?!!d[u]:!1}function Yv(){return I6}var P6=j({},fc,{key:function(u){if(u.key){var d=N6[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Yf(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?A6[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(u){return u.type==="keypress"?Yf(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Yf(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),R6=ni(P6),M6=j({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ik=ni(M6),L6=j({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),j6=ni(L6),F6=j({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$6=ni(F6),B6=j({},Kf,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=ni(B6),V6=[9,13,27,32],Gv=a&&"CompositionEvent"in window,pc=null;a&&"documentMode"in document&&(pc=document.documentMode);var q6=a&&"TextEvent"in window&&!pc,Pk=a&&(!Gv||pc&&8<pc&&11>=pc),Rk=" ",Mk=!1;function Lk(u,d){switch(u){case"keyup":return V6.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ol=!1;function H6(u,d){switch(u){case"compositionend":return jk(d);case"keypress":return d.which!==32?null:(Mk=!0,Rk);case"textInput":return u=d.data,u===Rk&&Mk?null:u;default:return null}}function z6(u,d){if(Ol)return u==="compositionend"||!Gv&&Lk(u,d)?(u=Ok(),Wf=Vv=gs=null,Ol=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Pk&&d.locale!=="ko"?null:d.data;default:return null}}var W6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fk(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!W6[u.type]:d==="textarea"}function $k(u,d,v,T){rt(T),d=eh(d,"onChange"),0<d.length&&(v=new qv("onChange","change",null,v,T),u.push({event:v,listeners:d}))}var mc=null,gc=null;function Y6(u){rT(u,0)}function Qf(u){var d=Pl(u);if(ge(d))return u}function G6(u,d){if(u==="change")return d}var Bk=!1;if(a){var Kv;if(a){var Qv="oninput"in document;if(!Qv){var Uk=document.createElement("div");Uk.setAttribute("oninput","return;"),Qv=typeof Uk.oninput=="function"}Kv=Qv}else Kv=!1;Bk=Kv&&(!document.documentMode||9<document.documentMode)}function Vk(){mc&&(mc.detachEvent("onpropertychange",qk),gc=mc=null)}function qk(u){if(u.propertyName==="value"&&Qf(gc)){var d=[];$k(d,gc,u,Te(u)),Ur(Y6,d)}}function K6(u,d,v){u==="focusin"?(Vk(),mc=d,gc=v,mc.attachEvent("onpropertychange",qk)):u==="focusout"&&Vk()}function Q6(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Qf(gc)}function X6(u,d){if(u==="click")return Qf(d)}function J6(u,d){if(u==="input"||u==="change")return Qf(d)}function Z6(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ri=typeof Object.is=="function"?Object.is:Z6;function vc(u,d){if(Ri(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var v=Object.keys(u),T=Object.keys(d);if(v.length!==T.length)return!1;for(T=0;T<v.length;T++){var R=v[T];if(!l.call(d,R)||!Ri(u[R],d[R]))return!1}return!0}function Hk(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function zk(u,d){var v=Hk(u);u=0;for(var T;v;){if(v.nodeType===3){if(T=u+v.textContent.length,u<=d&&T>=d)return{node:v,offset:d-u};u=T}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Hk(v)}}function Wk(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?Wk(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function Yk(){for(var u=window,d=Ce();d instanceof u.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)u=d.contentWindow;else break;d=Ce(u.document)}return d}function Xv(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function e$(u){var d=Yk(),v=u.focusedElem,T=u.selectionRange;if(d!==v&&v&&v.ownerDocument&&Wk(v.ownerDocument.documentElement,v)){if(T!==null&&Xv(v)){if(d=T.start,u=T.end,u===void 0&&(u=d),"selectionStart"in v)v.selectionStart=d,v.selectionEnd=Math.min(u,v.value.length);else if(u=(d=v.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var R=v.textContent.length,$=Math.min(T.start,R);T=T.end===void 0?$:Math.min(T.end,R),!u.extend&&$>T&&(R=T,T=$,$=R),R=zk(v,$);var G=zk(v,T);R&&G&&(u.rangeCount!==1||u.anchorNode!==R.node||u.anchorOffset!==R.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),u.removeAllRanges(),$>T?(u.addRange(d),u.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),u.addRange(d)))}}for(d=[],u=v;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<d.length;v++)u=d[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var t$=a&&"documentMode"in document&&11>=document.documentMode,Nl=null,Jv=null,yc=null,Zv=!1;function Gk(u,d,v){var T=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Zv||Nl==null||Nl!==Ce(T)||(T=Nl,"selectionStart"in T&&Xv(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),yc&&vc(yc,T)||(yc=T,T=eh(Jv,"onSelect"),0<T.length&&(d=new qv("onSelect","select",null,d,v),u.push({event:d,listeners:T}),d.target=Nl)))}function Xf(u,d){var v={};return v[u.toLowerCase()]=d.toLowerCase(),v["Webkit"+u]="webkit"+d,v["Moz"+u]="moz"+d,v}var Al={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},ey={},Kk={};a&&(Kk=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Jf(u){if(ey[u])return ey[u];if(!Al[u])return u;var d=Al[u],v;for(v in d)if(d.hasOwnProperty(v)&&v in Kk)return ey[u]=d[v];return u}var Qk=Jf("animationend"),Xk=Jf("animationiteration"),Jk=Jf("animationstart"),Zk=Jf("transitionend"),eT=new Map,tT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(u,d){eT.set(u,d),o(d,[u])}for(var ty=0;ty<tT.length;ty++){var ny=tT[ty],n$=ny.toLowerCase(),r$=ny[0].toUpperCase()+ny.slice(1);vs(n$,"on"+r$)}vs(Qk,"onAnimationEnd"),vs(Xk,"onAnimationIteration"),vs(Jk,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(Zk,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function nT(u,d,v){var T=u.type||"unknown-event";u.currentTarget=v,n6(T,d,void 0,u),u.currentTarget=null}function rT(u,d){d=(d&4)!==0;for(var v=0;v<u.length;v++){var T=u[v],R=T.event;T=T.listeners;e:{var $=void 0;if(d)for(var G=T.length-1;0<=G;G--){var ee=T[G],ne=ee.instance,de=ee.currentTarget;if(ee=ee.listener,ne!==$&&R.isPropagationStopped())break e;nT(R,ee,de),$=ne}else for(G=0;G<T.length;G++){if(ee=T[G],ne=ee.instance,de=ee.currentTarget,ee=ee.listener,ne!==$&&R.isPropagationStopped())break e;nT(R,ee,de),$=ne}}}if(Lf)throw u=Pv,Lf=!1,Pv=null,u}function Zt(u,d){var v=d[cy];v===void 0&&(v=d[cy]=new Set);var T=u+"__bubble";v.has(T)||(iT(d,u,2,!1),v.add(T))}function ry(u,d,v){var T=0;d&&(T|=4),iT(v,u,T,d)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function bc(u){if(!u[Zf]){u[Zf]=!0,r.forEach(function(v){v!=="selectionchange"&&(i$.has(v)||ry(v,!1,u),ry(v,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[Zf]||(d[Zf]=!0,ry("selectionchange",!1,d))}}function iT(u,d,v,T){switch(Ck(d)){case 1:var R=y6;break;case 4:R=w6;break;default:R=Bv}v=R.bind(null,d,v,u),R=void 0,!ds||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),T?R!==void 0?u.addEventListener(d,v,{capture:!0,passive:R}):u.addEventListener(d,v,!0):R!==void 0?u.addEventListener(d,v,{passive:R}):u.addEventListener(d,v,!1)}function iy(u,d,v,T,R){var $=T;if((d&1)===0&&(d&2)===0&&T!==null)e:for(;;){if(T===null)return;var G=T.tag;if(G===3||G===4){var ee=T.stateNode.containerInfo;if(ee===R||ee.nodeType===8&&ee.parentNode===R)break;if(G===4)for(G=T.return;G!==null;){var ne=G.tag;if((ne===3||ne===4)&&(ne=G.stateNode.containerInfo,ne===R||ne.nodeType===8&&ne.parentNode===R))return;G=G.return}for(;ee!==null;){if(G=ya(ee),G===null)return;if(ne=G.tag,ne===5||ne===6){T=$=G;continue e}ee=ee.parentNode}}T=T.return}Ur(function(){var de=$,ye=Te(v),xe=[];e:{var ve=eT.get(u);if(ve!==void 0){var Pe=qv,Ue=u;switch(u){case"keypress":if(Yf(v)===0)break e;case"keydown":case"keyup":Pe=R6;break;case"focusin":Ue="focus",Pe=Wv;break;case"focusout":Ue="blur",Pe=Wv;break;case"beforeblur":case"afterblur":Pe=Wv;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Ak;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=x6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=j6;break;case Qk:case Xk:case Jk:Pe=k6;break;case Zk:Pe=$6;break;case"scroll":Pe=b6;break;case"wheel":Pe=U6;break;case"copy":case"cut":case"paste":Pe=C6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Ik}var qe=(d&4)!==0,En=!qe&&u==="scroll",ae=qe?ve!==null?ve+"Capture":null:ve;qe=[];for(var re=de,ue;re!==null;){ue=re;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,ae!==null&&(Ee=mi(re,ae),Ee!=null&&qe.push(_c(re,Ee,ue)))),En)break;re=re.return}0<qe.length&&(ve=new Pe(ve,Ue,null,v,ye),xe.push({event:ve,listeners:qe}))}}if((d&7)===0){e:{if(ve=u==="mouseover"||u==="pointerover",Pe=u==="mouseout"||u==="pointerout",ve&&v!==ke&&(Ue=v.relatedTarget||v.fromElement)&&(ya(Ue)||Ue[Io]))break e;if((Pe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(Ue=v.relatedTarget||v.toElement,Pe=de,Ue=Ue?ya(Ue):null,Ue!==null&&(En=va(Ue),Ue!==En||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Pe=null,Ue=de),Pe!==Ue)){if(qe=Ak,Ee="onMouseLeave",ae="onMouseEnter",re="mouse",(u==="pointerout"||u==="pointerover")&&(qe=Ik,Ee="onPointerLeave",ae="onPointerEnter",re="pointer"),En=Pe==null?ve:Pl(Pe),ue=Ue==null?ve:Pl(Ue),ve=new qe(Ee,re+"leave",Pe,v,ye),ve.target=En,ve.relatedTarget=ue,Ee=null,ya(ye)===de&&(qe=new qe(ae,re+"enter",Ue,v,ye),qe.target=ue,qe.relatedTarget=En,Ee=qe),En=Ee,Pe&&Ue)t:{for(qe=Pe,ae=Ue,re=0,ue=qe;ue;ue=Dl(ue))re++;for(ue=0,Ee=ae;Ee;Ee=Dl(Ee))ue++;for(;0<re-ue;)qe=Dl(qe),re--;for(;0<ue-re;)ae=Dl(ae),ue--;for(;re--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Dl(qe),ae=Dl(ae)}qe=null}else qe=null;Pe!==null&&oT(xe,ve,Pe,qe,!1),Ue!==null&&En!==null&&oT(xe,En,Ue,qe,!0)}}e:{if(ve=de?Pl(de):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var ze=G6;else if(Fk(ve))if(Bk)ze=J6;else{ze=Q6;var Je=K6}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(ze=X6);if(ze&&(ze=ze(u,de))){$k(xe,ze,v,ye);break e}Je&&Je(u,ve,de),u==="focusout"&&(Je=ve._wrapperState)&&Je.controlled&&ve.type==="number"&&fe(ve,"number",ve.value)}switch(Je=de?Pl(de):window,u){case"focusin":(Fk(Je)||Je.contentEditable==="true")&&(Nl=Je,Jv=de,yc=null);break;case"focusout":yc=Jv=Nl=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,Gk(xe,v,ye);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":Gk(xe,v,ye)}var Ze;if(Gv)e:{switch(u){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ol?Lk(u,v)&&(ot="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(ot="onCompositionStart");ot&&(Pk&&v.locale!=="ko"&&(Ol||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ol&&(Ze=Ok()):(gs=ye,Vv="value"in gs?gs.value:gs.textContent,Ol=!0)),Je=eh(de,ot),0<Je.length&&(ot=new Dk(ot,u,null,v,ye),xe.push({event:ot,listeners:Je}),Ze?ot.data=Ze:(Ze=jk(v),Ze!==null&&(ot.data=Ze)))),(Ze=q6?H6(u,v):z6(u,v))&&(de=eh(de,"onBeforeInput"),0<de.length&&(ye=new Dk("onBeforeInput","beforeinput",null,v,ye),xe.push({event:ye,listeners:de}),ye.data=Ze))}rT(xe,d)})}function _c(u,d,v){return{instance:u,listener:d,currentTarget:v}}function eh(u,d){for(var v=d+"Capture",T=[];u!==null;){var R=u,$=R.stateNode;R.tag===5&&$!==null&&(R=$,$=mi(u,v),$!=null&&T.unshift(_c(u,$,R)),$=mi(u,d),$!=null&&T.push(_c(u,$,R))),u=u.return}return T}function Dl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function oT(u,d,v,T,R){for(var $=d._reactName,G=[];v!==null&&v!==T;){var ee=v,ne=ee.alternate,de=ee.stateNode;if(ne!==null&&ne===T)break;ee.tag===5&&de!==null&&(ee=de,R?(ne=mi(v,$),ne!=null&&G.unshift(_c(v,ne,ee))):R||(ne=mi(v,$),ne!=null&&G.push(_c(v,ne,ee)))),v=v.return}G.length!==0&&u.push({event:d,listeners:G})}var o$=/\r\n?/g,s$=/\u0000|\uFFFD/g;function sT(u){return(typeof u=="string"?u:""+u).replace(o$,`
`).replace(s$,"")}function th(u,d,v){if(d=sT(d),sT(u)!==d&&v)throw Error(n(425))}function nh(){}var oy=null,sy=null;function ay(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ly=typeof setTimeout=="function"?setTimeout:void 0,a$=typeof clearTimeout=="function"?clearTimeout:void 0,aT=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof aT<"u"?function(u){return aT.resolve(null).then(u).catch(u$)}:ly;function u$(u){setTimeout(function(){throw u})}function uy(u,d){var v=d,T=0;do{var R=v.nextSibling;if(u.removeChild(v),R&&R.nodeType===8)if(v=R.data,v==="/$"){if(T===0){u.removeChild(R),dc(d);return}T--}else v!=="$"&&v!=="$?"&&v!=="$!"||T++;v=R}while(v);dc(d)}function ys(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function lT(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return u;d--}else v==="/$"&&d++}u=u.previousSibling}return null}var Il=Math.random().toString(36).slice(2),eo="__reactFiber$"+Il,xc="__reactProps$"+Il,Io="__reactContainer$"+Il,cy="__reactEvents$"+Il,c$="__reactListeners$"+Il,d$="__reactHandles$"+Il;function ya(u){var d=u[eo];if(d)return d;for(var v=u.parentNode;v;){if(d=v[Io]||v[eo]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(u=lT(u);u!==null;){if(v=u[eo])return v;u=lT(u)}return d}u=v,v=u.parentNode}return null}function Sc(u){return u=u[eo]||u[Io],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Pl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function rh(u){return u[xc]||null}var dy=[],Rl=-1;function ws(u){return{current:u}}function en(u){0>Rl||(u.current=dy[Rl],dy[Rl]=null,Rl--)}function Kt(u,d){Rl++,dy[Rl]=u.current,u.current=d}var bs={},cr=ws(bs),Vr=ws(!1),wa=bs;function Ml(u,d){var v=u.type.contextTypes;if(!v)return bs;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var R={},$;for($ in v)R[$]=d[$];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=R),R}function qr(u){return u=u.childContextTypes,u!=null}function ih(){en(Vr),en(cr)}function uT(u,d,v){if(cr.current!==bs)throw Error(n(168));Kt(cr,d),Kt(Vr,v)}function cT(u,d,v){var T=u.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return v;T=T.getChildContext();for(var R in T)if(!(R in d))throw Error(n(108,J(u)||"Unknown",R));return j({},v,T)}function oh(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||bs,wa=cr.current,Kt(cr,u),Kt(Vr,Vr.current),!0}function dT(u,d,v){var T=u.stateNode;if(!T)throw Error(n(169));v?(u=cT(u,d,wa),T.__reactInternalMemoizedMergedChildContext=u,en(Vr),en(cr),Kt(cr,u)):en(Vr),Kt(Vr,v)}var Po=null,sh=!1,fy=!1;function fT(u){Po===null?Po=[u]:Po.push(u)}function f$(u){sh=!0,fT(u)}function _s(){if(!fy&&Po!==null){fy=!0;var u=0,d=jt;try{var v=Po;for(jt=1;u<v.length;u++){var T=v[u];do T=T(!0);while(T!==null)}Po=null,sh=!1}catch(R){throw Po!==null&&(Po=Po.slice(u+1)),pk(Rv,_s),R}finally{jt=d,fy=!1}}return null}var Ll=[],jl=0,ah=null,lh=0,gi=[],vi=0,ba=null,Ro=1,Mo="";function _a(u,d){Ll[jl++]=lh,Ll[jl++]=ah,ah=u,lh=d}function hT(u,d,v){gi[vi++]=Ro,gi[vi++]=Mo,gi[vi++]=ba,ba=u;var T=Ro;u=Mo;var R=32-Pi(T)-1;T&=~(1<<R),v+=1;var $=32-Pi(d)+R;if(30<$){var G=R-R%5;$=(T&(1<<G)-1).toString(32),T>>=G,R-=G,Ro=1<<32-Pi(d)+R|v<<R|T,Mo=$+u}else Ro=1<<$|v<<R|T,Mo=u}function hy(u){u.return!==null&&(_a(u,1),hT(u,1,0))}function py(u){for(;u===ah;)ah=Ll[--jl],Ll[jl]=null,lh=Ll[--jl],Ll[jl]=null;for(;u===ba;)ba=gi[--vi],gi[vi]=null,Mo=gi[--vi],gi[vi]=null,Ro=gi[--vi],gi[vi]=null}var ri=null,ii=null,un=!1,Mi=null;function pT(u,d){var v=_i(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=u,d=u.deletions,d===null?(u.deletions=[v],u.flags|=16):d.push(v)}function mT(u,d){switch(u.tag){case 5:var v=u.type;return d=d.nodeType!==1||v.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,ri=u,ii=ys(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,ri=u,ii=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(v=ba!==null?{id:Ro,overflow:Mo}:null,u.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=_i(18,null,null,0),v.stateNode=d,v.return=u,u.child=v,ri=u,ii=null,!0):!1;default:return!1}}function my(u){return(u.mode&1)!==0&&(u.flags&128)===0}function gy(u){if(un){var d=ii;if(d){var v=d;if(!mT(u,d)){if(my(u))throw Error(n(418));d=ys(v.nextSibling);var T=ri;d&&mT(u,d)?pT(T,v):(u.flags=u.flags&-4097|2,un=!1,ri=u)}}else{if(my(u))throw Error(n(418));u.flags=u.flags&-4097|2,un=!1,ri=u}}}function gT(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ri=u}function uh(u){if(u!==ri)return!1;if(!un)return gT(u),un=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!ay(u.type,u.memoizedProps)),d&&(d=ii)){if(my(u))throw vT(),Error(n(418));for(;d;)pT(u,d),d=ys(d.nextSibling)}if(gT(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(d===0){ii=ys(u.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++}u=u.nextSibling}ii=null}}else ii=ri?ys(u.stateNode.nextSibling):null;return!0}function vT(){for(var u=ii;u;)u=ys(u.nextSibling)}function Fl(){ii=ri=null,un=!1}function vy(u){Mi===null?Mi=[u]:Mi.push(u)}var h$=x.ReactCurrentBatchConfig;function Li(u,d){if(u&&u.defaultProps){d=j({},d),u=u.defaultProps;for(var v in u)d[v]===void 0&&(d[v]=u[v]);return d}return d}var ch=ws(null),dh=null,$l=null,yy=null;function wy(){yy=$l=dh=null}function by(u){var d=ch.current;en(ch),u._currentValue=d}function _y(u,d,v){for(;u!==null;){var T=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),u===v)break;u=u.return}}function Bl(u,d){dh=u,yy=$l=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Hr=!0),u.firstContext=null)}function yi(u){var d=u._currentValue;if(yy!==u)if(u={context:u,memoizedValue:d,next:null},$l===null){if(dh===null)throw Error(n(308));$l=u,dh.dependencies={lanes:0,firstContext:u}}else $l=$l.next=u;return d}var xa=null;function xy(u){xa===null?xa=[u]:xa.push(u)}function yT(u,d,v,T){var R=d.interleaved;return R===null?(v.next=v,xy(d)):(v.next=R.next,R.next=v),d.interleaved=v,Lo(u,T)}function Lo(u,d){u.lanes|=d;var v=u.alternate;for(v!==null&&(v.lanes|=d),v=u,u=u.return;u!==null;)u.childLanes|=d,v=u.alternate,v!==null&&(v.childLanes|=d),v=u,u=u.return;return v.tag===3?v.stateNode:null}var xs=!1;function Sy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function jo(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function Ss(u,d,v){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(St&2)!==0){var R=T.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),T.pending=d,Lo(u,v)}return R=T.interleaved,R===null?(d.next=d,xy(T)):(d.next=R.next,R.next=d),T.interleaved=d,Lo(u,v)}function fh(u,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,jv(u,v)}}function bT(u,d){var v=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,v===T)){var R=null,$=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};$===null?R=$=G:$=$.next=G,v=v.next}while(v!==null);$===null?R=$=d:$=$.next=d}else R=$=d;v={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:$,shared:T.shared,effects:T.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=d}function hh(u,d,v,T){var R=u.updateQueue;xs=!1;var $=R.firstBaseUpdate,G=R.lastBaseUpdate,ee=R.shared.pending;if(ee!==null){R.shared.pending=null;var ne=ee,de=ne.next;ne.next=null,G===null?$=de:G.next=de,G=ne;var ye=u.alternate;ye!==null&&(ye=ye.updateQueue,ee=ye.lastBaseUpdate,ee!==G&&(ee===null?ye.firstBaseUpdate=de:ee.next=de,ye.lastBaseUpdate=ne))}if($!==null){var xe=R.baseState;G=0,ye=de=ne=null,ee=$;do{var ve=ee.lane,Pe=ee.eventTime;if((T&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ue=u,qe=ee;switch(ve=d,Pe=v,qe.tag){case 1:if(Ue=qe.payload,typeof Ue=="function"){xe=Ue.call(Pe,xe,ve);break e}xe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=qe.payload,ve=typeof Ue=="function"?Ue.call(Pe,xe,ve):Ue,ve==null)break e;xe=j({},xe,ve);break e;case 2:xs=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,ve=R.effects,ve===null?R.effects=[ee]:ve.push(ee))}else Pe={eventTime:Pe,lane:ve,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ye===null?(de=ye=Pe,ne=xe):ye=ye.next=Pe,G|=ve;if(ee=ee.next,ee===null){if(ee=R.shared.pending,ee===null)break;ve=ee,ee=ve.next,ve.next=null,R.lastBaseUpdate=ve,R.shared.pending=null}}while(!0);if(ye===null&&(ne=xe),R.baseState=ne,R.firstBaseUpdate=de,R.lastBaseUpdate=ye,d=R.shared.interleaved,d!==null){R=d;do G|=R.lane,R=R.next;while(R!==d)}else $===null&&(R.shared.lanes=0);ka|=G,u.lanes=G,u.memoizedState=xe}}function _T(u,d,v){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var T=u[d],R=T.callback;if(R!==null){if(T.callback=null,T=v,typeof R!="function")throw Error(n(191,R));R.call(T)}}}var xT=new t.Component().refs;function Ey(u,d,v,T){d=u.memoizedState,v=v(T,d),v=v==null?d:j({},d,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var ph={isMounted:function(u){return(u=u._reactInternals)?va(u)===u:!1},enqueueSetState:function(u,d,v){u=u._reactInternals;var T=Nr(),R=Cs(u),$=jo(T,R);$.payload=d,v!=null&&($.callback=v),d=Ss(u,$,R),d!==null&&($i(d,u,R,T),fh(d,u,R))},enqueueReplaceState:function(u,d,v){u=u._reactInternals;var T=Nr(),R=Cs(u),$=jo(T,R);$.tag=1,$.payload=d,v!=null&&($.callback=v),d=Ss(u,$,R),d!==null&&($i(d,u,R,T),fh(d,u,R))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var v=Nr(),T=Cs(u),R=jo(v,T);R.tag=2,d!=null&&(R.callback=d),d=Ss(u,R,T),d!==null&&($i(d,u,T,v),fh(d,u,T))}};function ST(u,d,v,T,R,$,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,$,G):d.prototype&&d.prototype.isPureReactComponent?!vc(v,T)||!vc(R,$):!0}function ET(u,d,v){var T=!1,R=bs,$=d.contextType;return typeof $=="object"&&$!==null?$=yi($):(R=qr(d)?wa:cr.current,T=d.contextTypes,$=(T=T!=null)?Ml(u,R):bs),d=new d(v,$),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ph,u.stateNode=d,d._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=R,u.__reactInternalMemoizedMaskedChildContext=$),d}function kT(u,d,v,T){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,T),d.state!==u&&ph.enqueueReplaceState(d,d.state,null)}function ky(u,d,v,T){var R=u.stateNode;R.props=v,R.state=u.memoizedState,R.refs=xT,Sy(u);var $=d.contextType;typeof $=="object"&&$!==null?R.context=yi($):($=qr(d)?wa:cr.current,R.context=Ml(u,$)),R.state=u.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(Ey(u,d,$,v),R.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&ph.enqueueReplaceState(R,R.state,null),hh(u,v,R,T),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308)}function Ec(u,d,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var T=v.stateNode}if(!T)throw Error(n(147,u));var R=T,$=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===$?d.ref:(d=function(G){var ee=R.refs;ee===xT&&(ee=R.refs={}),G===null?delete ee[$]:ee[$]=G},d._stringRef=$,d)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function mh(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function TT(u){var d=u._init;return d(u._payload)}function CT(u){function d(ae,re){if(u){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function v(ae,re){if(!u)return null;for(;re!==null;)d(ae,re),re=re.sibling;return null}function T(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function R(ae,re){return ae=Ns(ae,re),ae.index=0,ae.sibling=null,ae}function $(ae,re,ue){return ae.index=ue,u?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function G(ae){return u&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,re,ue,Ee){return re===null||re.tag!==6?(re=l0(ue,ae.mode,Ee),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function ne(ae,re,ue,Ee){var ze=ue.type;return ze===N?ye(ae,re,ue.props.children,Ee,ue.key):re!==null&&(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&TT(ze)===re.type)?(Ee=R(re,ue.props),Ee.ref=Ec(ae,re,ue),Ee.return=ae,Ee):(Ee=Rh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=Ec(ae,re,ue),Ee.return=ae,Ee)}function de(ae,re,ue,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=u0(ue,ae.mode,Ee),re.return=ae,re):(re=R(re,ue.children||[]),re.return=ae,re)}function ye(ae,re,ue,Ee,ze){return re===null||re.tag!==7?(re=Na(ue,ae.mode,Ee,ze),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function xe(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=l0(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return ue=Rh(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=Ec(ae,null,re),ue.return=ae,ue;case O:return re=u0(re,ae.mode,ue),re.return=ae,re;case M:var Ee=re._init;return xe(ae,Ee(re._payload),ue)}if(we(re)||H(re))return re=Na(re,ae.mode,ue,null),re.return=ae,re;mh(ae,re)}return null}function ve(ae,re,ue,Ee){var ze=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ze!==null?null:ee(ae,re,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===ze?ne(ae,re,ue,Ee):null;case O:return ue.key===ze?de(ae,re,ue,Ee):null;case M:return ze=ue._init,ve(ae,re,ze(ue._payload),Ee)}if(we(ue)||H(ue))return ze!==null?null:ye(ae,re,ue,Ee,null);mh(ae,ue)}return null}function Pe(ae,re,ue,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(ue)||null,ee(re,ae,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,ne(re,ae,Ee,ze);case O:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,de(re,ae,Ee,ze);case M:var Je=Ee._init;return Pe(ae,re,ue,Je(Ee._payload),ze)}if(we(Ee)||H(Ee))return ae=ae.get(ue)||null,ye(re,ae,Ee,ze,null);mh(re,Ee)}return null}function Ue(ae,re,ue,Ee){for(var ze=null,Je=null,Ze=re,ot=re=0,zn=null;Ze!==null&&ot<ue.length;ot++){Ze.index>ot?(zn=Ze,Ze=null):zn=Ze.sibling;var kt=ve(ae,Ze,ue[ot],Ee);if(kt===null){Ze===null&&(Ze=zn);break}u&&Ze&&kt.alternate===null&&d(ae,Ze),re=$(kt,re,ot),Je===null?ze=kt:Je.sibling=kt,Je=kt,Ze=zn}if(ot===ue.length)return v(ae,Ze),un&&_a(ae,ot),ze;if(Ze===null){for(;ot<ue.length;ot++)Ze=xe(ae,ue[ot],Ee),Ze!==null&&(re=$(Ze,re,ot),Je===null?ze=Ze:Je.sibling=Ze,Je=Ze);return un&&_a(ae,ot),ze}for(Ze=T(ae,Ze);ot<ue.length;ot++)zn=Pe(Ze,ae,ot,ue[ot],Ee),zn!==null&&(u&&zn.alternate!==null&&Ze.delete(zn.key===null?ot:zn.key),re=$(zn,re,ot),Je===null?ze=zn:Je.sibling=zn,Je=zn);return u&&Ze.forEach(function(As){return d(ae,As)}),un&&_a(ae,ot),ze}function qe(ae,re,ue,Ee){var ze=H(ue);if(typeof ze!="function")throw Error(n(150));if(ue=ze.call(ue),ue==null)throw Error(n(151));for(var Je=ze=null,Ze=re,ot=re=0,zn=null,kt=ue.next();Ze!==null&&!kt.done;ot++,kt=ue.next()){Ze.index>ot?(zn=Ze,Ze=null):zn=Ze.sibling;var As=ve(ae,Ze,kt.value,Ee);if(As===null){Ze===null&&(Ze=zn);break}u&&Ze&&As.alternate===null&&d(ae,Ze),re=$(As,re,ot),Je===null?ze=As:Je.sibling=As,Je=As,Ze=zn}if(kt.done)return v(ae,Ze),un&&_a(ae,ot),ze;if(Ze===null){for(;!kt.done;ot++,kt=ue.next())kt=xe(ae,kt.value,Ee),kt!==null&&(re=$(kt,re,ot),Je===null?ze=kt:Je.sibling=kt,Je=kt);return un&&_a(ae,ot),ze}for(Ze=T(ae,Ze);!kt.done;ot++,kt=ue.next())kt=Pe(Ze,ae,ot,kt.value,Ee),kt!==null&&(u&&kt.alternate!==null&&Ze.delete(kt.key===null?ot:kt.key),re=$(kt,re,ot),Je===null?ze=kt:Je.sibling=kt,Je=kt);return u&&Ze.forEach(function(W$){return d(ae,W$)}),un&&_a(ae,ot),ze}function En(ae,re,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===N&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var ze=ue.key,Je=re;Je!==null;){if(Je.key===ze){if(ze=ue.type,ze===N){if(Je.tag===7){v(ae,Je.sibling),re=R(Je,ue.props.children),re.return=ae,ae=re;break e}}else if(Je.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&TT(ze)===Je.type){v(ae,Je.sibling),re=R(Je,ue.props),re.ref=Ec(ae,Je,ue),re.return=ae,ae=re;break e}v(ae,Je);break}else d(ae,Je);Je=Je.sibling}ue.type===N?(re=Na(ue.props.children,ae.mode,Ee,ue.key),re.return=ae,ae=re):(Ee=Rh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=Ec(ae,re,ue),Ee.return=ae,ae=Ee)}return G(ae);case O:e:{for(Je=ue.key;re!==null;){if(re.key===Je)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){v(ae,re.sibling),re=R(re,ue.children||[]),re.return=ae,ae=re;break e}else{v(ae,re);break}else d(ae,re);re=re.sibling}re=u0(ue,ae.mode,Ee),re.return=ae,ae=re}return G(ae);case M:return Je=ue._init,En(ae,re,Je(ue._payload),Ee)}if(we(ue))return Ue(ae,re,ue,Ee);if(H(ue))return qe(ae,re,ue,Ee);mh(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(v(ae,re.sibling),re=R(re,ue),re.return=ae,ae=re):(v(ae,re),re=l0(ue,ae.mode,Ee),re.return=ae,ae=re),G(ae)):v(ae,re)}return En}var Ul=CT(!0),OT=CT(!1),kc={},to=ws(kc),Tc=ws(kc),Cc=ws(kc);function Sa(u){if(u===kc)throw Error(n(174));return u}function Ty(u,d){switch(Kt(Cc,d),Kt(Tc,u),Kt(to,kc),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Nn(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=Nn(d,u)}en(to),Kt(to,d)}function Vl(){en(to),en(Tc),en(Cc)}function NT(u){Sa(Cc.current);var d=Sa(to.current),v=Nn(d,u.type);d!==v&&(Kt(Tc,u),Kt(to,v))}function Cy(u){Tc.current===u&&(en(to),en(Tc))}var dn=ws(0);function gh(u){for(var d=u;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Oy=[];function Ny(){for(var u=0;u<Oy.length;u++)Oy[u]._workInProgressVersionPrimary=null;Oy.length=0}var vh=x.ReactCurrentDispatcher,Ay=x.ReactCurrentBatchConfig,Ea=0,fn=null,Fn=null,qn=null,yh=!1,Oc=!1,Nc=0,p$=0;function dr(){throw Error(n(321))}function Dy(u,d){if(d===null)return!1;for(var v=0;v<d.length&&v<u.length;v++)if(!Ri(u[v],d[v]))return!1;return!0}function Iy(u,d,v,T,R,$){if(Ea=$,fn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,vh.current=u===null||u.memoizedState===null?y$:w$,u=v(T,R),Oc){$=0;do{if(Oc=!1,Nc=0,25<=$)throw Error(n(301));$+=1,qn=Fn=null,d.updateQueue=null,vh.current=b$,u=v(T,R)}while(Oc)}if(vh.current=_h,d=Fn!==null&&Fn.next!==null,Ea=0,qn=Fn=fn=null,yh=!1,d)throw Error(n(300));return u}function Py(){var u=Nc!==0;return Nc=0,u}function no(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?fn.memoizedState=qn=u:qn=qn.next=u,qn}function wi(){if(Fn===null){var u=fn.alternate;u=u!==null?u.memoizedState:null}else u=Fn.next;var d=qn===null?fn.memoizedState:qn.next;if(d!==null)qn=d,Fn=u;else{if(u===null)throw Error(n(310));Fn=u,u={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},qn===null?fn.memoizedState=qn=u:qn=qn.next=u}return qn}function Ac(u,d){return typeof d=="function"?d(u):d}function Ry(u){var d=wi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=Fn,R=T.baseQueue,$=v.pending;if($!==null){if(R!==null){var G=R.next;R.next=$.next,$.next=G}T.baseQueue=R=$,v.pending=null}if(R!==null){$=R.next,T=T.baseState;var ee=G=null,ne=null,de=$;do{var ye=de.lane;if((Ea&ye)===ye)ne!==null&&(ne=ne.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),T=de.hasEagerState?de.eagerState:u(T,de.action);else{var xe={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ne===null?(ee=ne=xe,G=T):ne=ne.next=xe,fn.lanes|=ye,ka|=ye}de=de.next}while(de!==null&&de!==$);ne===null?G=T:ne.next=ee,Ri(T,d.memoizedState)||(Hr=!0),d.memoizedState=T,d.baseState=G,d.baseQueue=ne,v.lastRenderedState=T}if(u=v.interleaved,u!==null){R=u;do $=R.lane,fn.lanes|=$,ka|=$,R=R.next;while(R!==u)}else R===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function My(u){var d=wi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=v.dispatch,R=v.pending,$=d.memoizedState;if(R!==null){v.pending=null;var G=R=R.next;do $=u($,G.action),G=G.next;while(G!==R);Ri($,d.memoizedState)||(Hr=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),v.lastRenderedState=$}return[$,T]}function AT(){}function DT(u,d){var v=fn,T=wi(),R=d(),$=!Ri(T.memoizedState,R);if($&&(T.memoizedState=R,Hr=!0),T=T.queue,Ly(RT.bind(null,v,T,u),[u]),T.getSnapshot!==d||$||qn!==null&&qn.memoizedState.tag&1){if(v.flags|=2048,Dc(9,PT.bind(null,v,T,R,d),void 0,null),Hn===null)throw Error(n(349));(Ea&30)!==0||IT(v,d,R)}return R}function IT(u,d,v){u.flags|=16384,u={getSnapshot:d,value:v},d=fn.updateQueue,d===null?(d={lastEffect:null,stores:null},fn.updateQueue=d,d.stores=[u]):(v=d.stores,v===null?d.stores=[u]:v.push(u))}function PT(u,d,v,T){d.value=v,d.getSnapshot=T,MT(d)&&LT(u)}function RT(u,d,v){return v(function(){MT(d)&&LT(u)})}function MT(u){var d=u.getSnapshot;u=u.value;try{var v=d();return!Ri(u,v)}catch{return!0}}function LT(u){var d=Lo(u,1);d!==null&&$i(d,u,1,-1)}function jT(u){var d=no();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:u},d.queue=u,u=u.dispatch=v$.bind(null,fn,u),[d.memoizedState,u]}function Dc(u,d,v,T){return u={tag:u,create:d,destroy:v,deps:T,next:null},d=fn.updateQueue,d===null?(d={lastEffect:null,stores:null},fn.updateQueue=d,d.lastEffect=u.next=u):(v=d.lastEffect,v===null?d.lastEffect=u.next=u:(T=v.next,v.next=u,u.next=T,d.lastEffect=u)),u}function FT(){return wi().memoizedState}function wh(u,d,v,T){var R=no();fn.flags|=u,R.memoizedState=Dc(1|d,v,void 0,T===void 0?null:T)}function bh(u,d,v,T){var R=wi();T=T===void 0?null:T;var $=void 0;if(Fn!==null){var G=Fn.memoizedState;if($=G.destroy,T!==null&&Dy(T,G.deps)){R.memoizedState=Dc(d,v,$,T);return}}fn.flags|=u,R.memoizedState=Dc(1|d,v,$,T)}function $T(u,d){return wh(8390656,8,u,d)}function Ly(u,d){return bh(2048,8,u,d)}function BT(u,d){return bh(4,2,u,d)}function UT(u,d){return bh(4,4,u,d)}function VT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function qT(u,d,v){return v=v!=null?v.concat([u]):null,bh(4,4,VT.bind(null,d,u),v)}function jy(){}function HT(u,d){var v=wi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&Dy(d,T[1])?T[0]:(v.memoizedState=[u,d],u)}function zT(u,d){var v=wi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&Dy(d,T[1])?T[0]:(u=u(),v.memoizedState=[u,d],u)}function WT(u,d,v){return(Ea&21)===0?(u.baseState&&(u.baseState=!1,Hr=!0),u.memoizedState=v):(Ri(v,d)||(v=yk(),fn.lanes|=v,ka|=v,u.baseState=!0),d)}function m$(u,d){var v=jt;jt=v!==0&&4>v?v:4,u(!0);var T=Ay.transition;Ay.transition={};try{u(!1),d()}finally{jt=v,Ay.transition=T}}function YT(){return wi().memoizedState}function g$(u,d,v){var T=Cs(u);if(v={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null},GT(u))KT(d,v);else if(v=yT(u,d,v,T),v!==null){var R=Nr();$i(v,u,T,R),QT(v,d,T)}}function v$(u,d,v){var T=Cs(u),R={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null};if(GT(u))KT(d,R);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var G=d.lastRenderedState,ee=$(G,v);if(R.hasEagerState=!0,R.eagerState=ee,Ri(ee,G)){var ne=d.interleaved;ne===null?(R.next=R,xy(d)):(R.next=ne.next,ne.next=R),d.interleaved=R;return}}catch{}finally{}v=yT(u,d,R,T),v!==null&&(R=Nr(),$i(v,u,T,R),QT(v,d,T))}}function GT(u){var d=u.alternate;return u===fn||d!==null&&d===fn}function KT(u,d){Oc=yh=!0;var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}function QT(u,d,v){if((v&4194240)!==0){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,jv(u,v)}}var _h={readContext:yi,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},y$={readContext:yi,useCallback:function(u,d){return no().memoizedState=[u,d===void 0?null:d],u},useContext:yi,useEffect:$T,useImperativeHandle:function(u,d,v){return v=v!=null?v.concat([u]):null,wh(4194308,4,VT.bind(null,d,u),v)},useLayoutEffect:function(u,d){return wh(4194308,4,u,d)},useInsertionEffect:function(u,d){return wh(4,2,u,d)},useMemo:function(u,d){var v=no();return d=d===void 0?null:d,u=u(),v.memoizedState=[u,d],u},useReducer:function(u,d,v){var T=no();return d=v!==void 0?v(d):d,T.memoizedState=T.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},T.queue=u,u=u.dispatch=g$.bind(null,fn,u),[T.memoizedState,u]},useRef:function(u){var d=no();return u={current:u},d.memoizedState=u},useState:jT,useDebugValue:jy,useDeferredValue:function(u){return no().memoizedState=u},useTransition:function(){var u=jT(!1),d=u[0];return u=m$.bind(null,u[1]),no().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,v){var T=fn,R=no();if(un){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),Hn===null)throw Error(n(349));(Ea&30)!==0||IT(T,d,v)}R.memoizedState=v;var $={value:v,getSnapshot:d};return R.queue=$,$T(RT.bind(null,T,$,u),[u]),T.flags|=2048,Dc(9,PT.bind(null,T,$,v,d),void 0,null),v},useId:function(){var u=no(),d=Hn.identifierPrefix;if(un){var v=Mo,T=Ro;v=(T&~(1<<32-Pi(T)-1)).toString(32)+v,d=":"+d+"R"+v,v=Nc++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=p$++,d=":"+d+"r"+v.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},w$={readContext:yi,useCallback:HT,useContext:yi,useEffect:Ly,useImperativeHandle:qT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:zT,useReducer:Ry,useRef:FT,useState:function(){return Ry(Ac)},useDebugValue:jy,useDeferredValue:function(u){var d=wi();return WT(d,Fn.memoizedState,u)},useTransition:function(){var u=Ry(Ac)[0],d=wi().memoizedState;return[u,d]},useMutableSource:AT,useSyncExternalStore:DT,useId:YT,unstable_isNewReconciler:!1},b$={readContext:yi,useCallback:HT,useContext:yi,useEffect:Ly,useImperativeHandle:qT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:zT,useReducer:My,useRef:FT,useState:function(){return My(Ac)},useDebugValue:jy,useDeferredValue:function(u){var d=wi();return Fn===null?d.memoizedState=u:WT(d,Fn.memoizedState,u)},useTransition:function(){var u=My(Ac)[0],d=wi().memoizedState;return[u,d]},useMutableSource:AT,useSyncExternalStore:DT,useId:YT,unstable_isNewReconciler:!1};function ql(u,d){try{var v="",T=d;do v+=X(T),T=T.return;while(T);var R=v}catch($){R=`
Error generating stack: `+$.message+`
`+$.stack}return{value:u,source:d,stack:R,digest:null}}function Fy(u,d,v){return{value:u,source:null,stack:v??null,digest:d??null}}function $y(u,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var _$=typeof WeakMap=="function"?WeakMap:Map;function XT(u,d,v){v=jo(-1,v),v.tag=3,v.payload={element:null};var T=d.value;return v.callback=function(){Oh||(Oh=!0,e0=T),$y(u,d)},v}function JT(u,d,v){v=jo(-1,v),v.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var R=d.value;v.payload=function(){return T(R)},v.callback=function(){$y(u,d)}}var $=u.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(v.callback=function(){$y(u,d),typeof T!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),v}function ZT(u,d,v){var T=u.pingCache;if(T===null){T=u.pingCache=new _$;var R=new Set;T.set(d,R)}else R=T.get(d),R===void 0&&(R=new Set,T.set(d,R));R.has(v)||(R.add(v),u=M$.bind(null,u,d,v),d.then(u,u))}function eC(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function tC(u,d,v,T,R){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=jo(-1,1),d.tag=2,Ss(v,d,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=R,u)}var x$=x.ReactCurrentOwner,Hr=!1;function Or(u,d,v,T){d.child=u===null?OT(d,null,v,T):Ul(d,u.child,v,T)}function nC(u,d,v,T,R){v=v.render;var $=d.ref;return Bl(d,R),T=Iy(u,d,v,T,$,R),v=Py(),u!==null&&!Hr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~R,Fo(u,d,R)):(un&&v&&hy(d),d.flags|=1,Or(u,d,T,R),d.child)}function rC(u,d,v,T,R){if(u===null){var $=v.type;return typeof $=="function"&&!a0($)&&$.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=$,iC(u,d,$,T,R)):(u=Rh(v.type,null,T,d,d.mode,R),u.ref=d.ref,u.return=d,d.child=u)}if($=u.child,(u.lanes&R)===0){var G=$.memoizedProps;if(v=v.compare,v=v!==null?v:vc,v(G,T)&&u.ref===d.ref)return Fo(u,d,R)}return d.flags|=1,u=Ns($,T),u.ref=d.ref,u.return=d,d.child=u}function iC(u,d,v,T,R){if(u!==null){var $=u.memoizedProps;if(vc($,T)&&u.ref===d.ref)if(Hr=!1,d.pendingProps=T=$,(u.lanes&R)!==0)(u.flags&131072)!==0&&(Hr=!0);else return d.lanes=u.lanes,Fo(u,d,R)}return By(u,d,v,T,R)}function oC(u,d,v){var T=d.pendingProps,R=T.children,$=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(zl,oi),oi|=v;else{if((v&1073741824)===0)return u=$!==null?$.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Kt(zl,oi),oi|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:v,Kt(zl,oi),oi|=T}else $!==null?(T=$.baseLanes|v,d.memoizedState=null):T=v,Kt(zl,oi),oi|=T;return Or(u,d,R,v),d.child}function sC(u,d){var v=d.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function By(u,d,v,T,R){var $=qr(v)?wa:cr.current;return $=Ml(d,$),Bl(d,R),v=Iy(u,d,v,T,$,R),T=Py(),u!==null&&!Hr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~R,Fo(u,d,R)):(un&&T&&hy(d),d.flags|=1,Or(u,d,v,R),d.child)}function aC(u,d,v,T,R){if(qr(v)){var $=!0;oh(d)}else $=!1;if(Bl(d,R),d.stateNode===null)Sh(u,d),ET(d,v,T),ky(d,v,T,R),T=!0;else if(u===null){var G=d.stateNode,ee=d.memoizedProps;G.props=ee;var ne=G.context,de=v.contextType;typeof de=="object"&&de!==null?de=yi(de):(de=qr(v)?wa:cr.current,de=Ml(d,de));var ye=v.getDerivedStateFromProps,xe=typeof ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";xe||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==T||ne!==de)&&kT(d,G,T,de),xs=!1;var ve=d.memoizedState;G.state=ve,hh(d,T,G,R),ne=d.memoizedState,ee!==T||ve!==ne||Vr.current||xs?(typeof ye=="function"&&(Ey(d,v,ye,T),ne=d.memoizedState),(ee=xs||ST(d,v,ee,T,ve,ne,de))?(xe||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=ne),G.props=T,G.state=ne,G.context=de,T=ee):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{G=d.stateNode,wT(u,d),ee=d.memoizedProps,de=d.type===d.elementType?ee:Li(d.type,ee),G.props=de,xe=d.pendingProps,ve=G.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=yi(ne):(ne=qr(v)?wa:cr.current,ne=Ml(d,ne));var Pe=v.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==xe||ve!==ne)&&kT(d,G,T,ne),xs=!1,ve=d.memoizedState,G.state=ve,hh(d,T,G,R);var Ue=d.memoizedState;ee!==xe||ve!==Ue||Vr.current||xs?(typeof Pe=="function"&&(Ey(d,v,Pe,T),Ue=d.memoizedState),(de=xs||ST(d,v,de,T,ve,Ue,ne)||!1)?(ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(T,Ue,ne),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(T,Ue,ne)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ue),G.props=T,G.state=Ue,G.context=ne,T=de):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),T=!1)}return Uy(u,d,v,T,$,R)}function Uy(u,d,v,T,R,$){sC(u,d);var G=(d.flags&128)!==0;if(!T&&!G)return R&&dT(d,v,!1),Fo(u,d,$);T=d.stateNode,x$.current=d;var ee=G&&typeof v.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,u!==null&&G?(d.child=Ul(d,u.child,null,$),d.child=Ul(d,null,ee,$)):Or(u,d,ee,$),d.memoizedState=T.state,R&&dT(d,v,!0),d.child}function lC(u){var d=u.stateNode;d.pendingContext?uT(u,d.pendingContext,d.pendingContext!==d.context):d.context&&uT(u,d.context,!1),Ty(u,d.containerInfo)}function uC(u,d,v,T,R){return Fl(),vy(R),d.flags|=256,Or(u,d,v,T),d.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function qy(u){return{baseLanes:u,cachePool:null,transitions:null}}function cC(u,d,v){var T=d.pendingProps,R=dn.current,$=!1,G=(d.flags&128)!==0,ee;if((ee=G)||(ee=u!==null&&u.memoizedState===null?!1:(R&2)!==0),ee?($=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(R|=1),Kt(dn,R&1),u===null)return gy(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=T.children,u=T.fallback,$?(T=d.mode,$=d.child,G={mode:"hidden",children:G},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=Mh(G,T,0,null),u=Na(u,T,v,null),$.return=d,u.return=d,$.sibling=u,d.child=$,d.child.memoizedState=qy(v),d.memoizedState=Vy,u):Hy(d,G));if(R=u.memoizedState,R!==null&&(ee=R.dehydrated,ee!==null))return S$(u,d,G,T,ee,R,v);if($){$=T.fallback,G=d.mode,R=u.child,ee=R.sibling;var ne={mode:"hidden",children:T.children};return(G&1)===0&&d.child!==R?(T=d.child,T.childLanes=0,T.pendingProps=ne,d.deletions=null):(T=Ns(R,ne),T.subtreeFlags=R.subtreeFlags&14680064),ee!==null?$=Ns(ee,$):($=Na($,G,v,null),$.flags|=2),$.return=d,T.return=d,T.sibling=$,d.child=T,T=$,$=d.child,G=u.child.memoizedState,G=G===null?qy(v):{baseLanes:G.baseLanes|v,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=u.childLanes&~v,d.memoizedState=Vy,T}return $=u.child,u=$.sibling,T=Ns($,{mode:"visible",children:T.children}),(d.mode&1)===0&&(T.lanes=v),T.return=d,T.sibling=null,u!==null&&(v=d.deletions,v===null?(d.deletions=[u],d.flags|=16):v.push(u)),d.child=T,d.memoizedState=null,T}function Hy(u,d){return d=Mh({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function xh(u,d,v,T){return T!==null&&vy(T),Ul(d,u.child,null,v),u=Hy(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function S$(u,d,v,T,R,$,G){if(v)return d.flags&256?(d.flags&=-257,T=Fy(Error(n(422))),xh(u,d,G,T)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):($=T.fallback,R=d.mode,T=Mh({mode:"visible",children:T.children},R,0,null),$=Na($,R,G,null),$.flags|=2,T.return=d,$.return=d,T.sibling=$,d.child=T,(d.mode&1)!==0&&Ul(d,u.child,null,G),d.child.memoizedState=qy(G),d.memoizedState=Vy,$);if((d.mode&1)===0)return xh(u,d,G,null);if(R.data==="$!"){if(T=R.nextSibling&&R.nextSibling.dataset,T)var ee=T.dgst;return T=ee,$=Error(n(419)),T=Fy($,T,void 0),xh(u,d,G,T)}if(ee=(G&u.childLanes)!==0,Hr||ee){if(T=Hn,T!==null){switch(G&-G){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(T.suspendedLanes|G))!==0?0:R,R!==0&&R!==$.retryLane&&($.retryLane=R,Lo(u,R),$i(T,u,R,-1))}return s0(),T=Fy(Error(n(421))),xh(u,d,G,T)}return R.data==="$?"?(d.flags|=128,d.child=u.child,d=L$.bind(null,u),R._reactRetry=d,null):(u=$.treeContext,ii=ys(R.nextSibling),ri=d,un=!0,Mi=null,u!==null&&(gi[vi++]=Ro,gi[vi++]=Mo,gi[vi++]=ba,Ro=u.id,Mo=u.overflow,ba=d),d=Hy(d,T.children),d.flags|=4096,d)}function dC(u,d,v){u.lanes|=d;var T=u.alternate;T!==null&&(T.lanes|=d),_y(u.return,d,v)}function zy(u,d,v,T,R){var $=u.memoizedState;$===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:v,tailMode:R}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=v,$.tailMode=R)}function fC(u,d,v){var T=d.pendingProps,R=T.revealOrder,$=T.tail;if(Or(u,d,T.children,v),T=dn.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&dC(u,v,d);else if(u.tag===19)dC(u,v,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(Kt(dn,T),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(v=d.child,R=null;v!==null;)u=v.alternate,u!==null&&gh(u)===null&&(R=v),v=v.sibling;v=R,v===null?(R=d.child,d.child=null):(R=v.sibling,v.sibling=null),zy(d,!1,R,v,$);break;case"backwards":for(v=null,R=d.child,d.child=null;R!==null;){if(u=R.alternate,u!==null&&gh(u)===null){d.child=R;break}u=R.sibling,R.sibling=v,v=R,R=u}zy(d,!0,v,null,$);break;case"together":zy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Sh(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function Fo(u,d,v){if(u!==null&&(d.dependencies=u.dependencies),ka|=d.lanes,(v&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,v=Ns(u,u.pendingProps),d.child=v,v.return=d;u.sibling!==null;)u=u.sibling,v=v.sibling=Ns(u,u.pendingProps),v.return=d;v.sibling=null}return d.child}function E$(u,d,v){switch(d.tag){case 3:lC(d),Fl();break;case 5:NT(d);break;case 1:qr(d.type)&&oh(d);break;case 4:Ty(d,d.stateNode.containerInfo);break;case 10:var T=d.type._context,R=d.memoizedProps.value;Kt(ch,T._currentValue),T._currentValue=R;break;case 13:if(T=d.memoizedState,T!==null)return T.dehydrated!==null?(Kt(dn,dn.current&1),d.flags|=128,null):(v&d.child.childLanes)!==0?cC(u,d,v):(Kt(dn,dn.current&1),u=Fo(u,d,v),u!==null?u.sibling:null);Kt(dn,dn.current&1);break;case 19:if(T=(v&d.childLanes)!==0,(u.flags&128)!==0){if(T)return fC(u,d,v);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Kt(dn,dn.current),T)break;return null;case 22:case 23:return d.lanes=0,oC(u,d,v)}return Fo(u,d,v)}var hC,Wy,pC,mC;hC=function(u,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Wy=function(){},pC=function(u,d,v,T){var R=u.memoizedProps;if(R!==T){u=d.stateNode,Sa(to.current);var $=null;switch(v){case"input":R=Fe(u,R),T=Fe(u,T),$=[];break;case"select":R=j({},R,{value:void 0}),T=j({},T,{value:void 0}),$=[];break;case"textarea":R=he(u,R),T=he(u,T),$=[];break;default:typeof R.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=nh)}ie(v,T);var G;v=null;for(de in R)if(!T.hasOwnProperty(de)&&R.hasOwnProperty(de)&&R[de]!=null)if(de==="style"){var ee=R[de];for(G in ee)ee.hasOwnProperty(G)&&(v||(v={}),v[G]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?$||($=[]):($=$||[]).push(de,null));for(de in T){var ne=T[de];if(ee=R!=null?R[de]:void 0,T.hasOwnProperty(de)&&ne!==ee&&(ne!=null||ee!=null))if(de==="style")if(ee){for(G in ee)!ee.hasOwnProperty(G)||ne&&ne.hasOwnProperty(G)||(v||(v={}),v[G]="");for(G in ne)ne.hasOwnProperty(G)&&ee[G]!==ne[G]&&(v||(v={}),v[G]=ne[G])}else v||($||($=[]),$.push(de,v)),v=ne;else de==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&($=$||[]).push(de,ne)):de==="children"?typeof ne!="string"&&typeof ne!="number"||($=$||[]).push(de,""+ne):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(ne!=null&&de==="onScroll"&&Zt("scroll",u),$||ee===ne||($=[])):($=$||[]).push(de,ne))}v&&($=$||[]).push("style",v);var de=$;(d.updateQueue=de)&&(d.flags|=4)}},mC=function(u,d,v,T){v!==T&&(d.flags|=4)};function Ic(u,d){if(!un)switch(u.tailMode){case"hidden":d=u.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function fr(u){var d=u.alternate!==null&&u.alternate.child===u.child,v=0,T=0;if(d)for(var R=u.child;R!==null;)v|=R.lanes|R.childLanes,T|=R.subtreeFlags&14680064,T|=R.flags&14680064,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)v|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=T,u.childLanes=v,d}function k$(u,d,v){var T=d.pendingProps;switch(py(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(d),null;case 1:return qr(d.type)&&ih(),fr(d),null;case 3:return T=d.stateNode,Vl(),en(Vr),en(cr),Ny(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(uh(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Mi!==null&&(r0(Mi),Mi=null))),Wy(u,d),fr(d),null;case 5:Cy(d);var R=Sa(Cc.current);if(v=d.type,u!==null&&d.stateNode!=null)pC(u,d,v,T,R),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(n(166));return fr(d),null}if(u=Sa(to.current),uh(d)){T=d.stateNode,v=d.type;var $=d.memoizedProps;switch(T[eo]=d,T[xc]=$,u=(d.mode&1)!==0,v){case"dialog":Zt("cancel",T),Zt("close",T);break;case"iframe":case"object":case"embed":Zt("load",T);break;case"video":case"audio":for(R=0;R<wc.length;R++)Zt(wc[R],T);break;case"source":Zt("error",T);break;case"img":case"image":case"link":Zt("error",T),Zt("load",T);break;case"details":Zt("toggle",T);break;case"input":De(T,$),Zt("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Zt("invalid",T);break;case"textarea":$e(T,$),Zt("invalid",T)}ie(v,$),R=null;for(var G in $)if($.hasOwnProperty(G)){var ee=$[G];G==="children"?typeof ee=="string"?T.textContent!==ee&&($.suppressHydrationWarning!==!0&&th(T.textContent,ee,u),R=["children",ee]):typeof ee=="number"&&T.textContent!==""+ee&&($.suppressHydrationWarning!==!0&&th(T.textContent,ee,u),R=["children",""+ee]):i.hasOwnProperty(G)&&ee!=null&&G==="onScroll"&&Zt("scroll",T)}switch(v){case"input":pe(T),ce(T,$,!0);break;case"textarea":pe(T),Ye(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=nh)}T=R,d.updateQueue=T,T!==null&&(d.flags|=4)}else{G=R.nodeType===9?R:R.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Gt(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=G.createElement(v,{is:T.is}):(u=G.createElement(v),v==="select"&&(G=u,T.multiple?G.multiple=!0:T.size&&(G.size=T.size))):u=G.createElementNS(u,v),u[eo]=d,u[xc]=T,hC(u,d,!1,!1),d.stateNode=u;e:{switch(G=be(v,T),v){case"dialog":Zt("cancel",u),Zt("close",u),R=T;break;case"iframe":case"object":case"embed":Zt("load",u),R=T;break;case"video":case"audio":for(R=0;R<wc.length;R++)Zt(wc[R],u);R=T;break;case"source":Zt("error",u),R=T;break;case"img":case"image":case"link":Zt("error",u),Zt("load",u),R=T;break;case"details":Zt("toggle",u),R=T;break;case"input":De(u,T),R=Fe(u,T),Zt("invalid",u);break;case"option":R=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},R=j({},T,{value:void 0}),Zt("invalid",u);break;case"textarea":$e(u,T),R=he(u,T),Zt("invalid",u);break;default:R=T}ie(v,R),ee=R;for($ in ee)if(ee.hasOwnProperty($)){var ne=ee[$];$==="style"?Cr(u,ne):$==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&$r(u,ne)):$==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&ut(u,ne):typeof ne=="number"&&ut(u,""+ne):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ne!=null&&$==="onScroll"&&Zt("scroll",u):ne!=null&&E(u,$,ne,G))}switch(v){case"input":pe(u),ce(u,T,!1);break;case"textarea":pe(u),Ye(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Z(T.value));break;case"select":u.multiple=!!T.multiple,$=T.value,$!=null?_e(u,!!T.multiple,$,!1):T.defaultValue!=null&&_e(u,!!T.multiple,T.defaultValue,!0);break;default:typeof R.onClick=="function"&&(u.onclick=nh)}switch(v){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return fr(d),null;case 6:if(u&&d.stateNode!=null)mC(u,d,u.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(n(166));if(v=Sa(Cc.current),Sa(to.current),uh(d)){if(T=d.stateNode,v=d.memoizedProps,T[eo]=d,($=T.nodeValue!==v)&&(u=ri,u!==null))switch(u.tag){case 3:th(T.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&th(T.nodeValue,v,(u.mode&1)!==0)}$&&(d.flags|=4)}else T=(v.nodeType===9?v:v.ownerDocument).createTextNode(T),T[eo]=d,d.stateNode=T}return fr(d),null;case 13:if(en(dn),T=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(un&&ii!==null&&(d.mode&1)!==0&&(d.flags&128)===0)vT(),Fl(),d.flags|=98560,$=!1;else if($=uh(d),T!==null&&T.dehydrated!==null){if(u===null){if(!$)throw Error(n(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[eo]=d}else Fl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;fr(d),$=!1}else Mi!==null&&(r0(Mi),Mi=null),$=!0;if(!$)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=v,d):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(dn.current&1)!==0?$n===0&&($n=3):s0())),d.updateQueue!==null&&(d.flags|=4),fr(d),null);case 4:return Vl(),Wy(u,d),u===null&&bc(d.stateNode.containerInfo),fr(d),null;case 10:return by(d.type._context),fr(d),null;case 17:return qr(d.type)&&ih(),fr(d),null;case 19:if(en(dn),$=d.memoizedState,$===null)return fr(d),null;if(T=(d.flags&128)!==0,G=$.rendering,G===null)if(T)Ic($,!1);else{if($n!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(G=gh(u),G!==null){for(d.flags|=128,Ic($,!1),T=G.updateQueue,T!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=v,v=d.child;v!==null;)$=v,u=T,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=u,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,u=G.dependencies,$.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Kt(dn,dn.current&1|2),d.child}u=u.sibling}$.tail!==null&&Sn()>Wl&&(d.flags|=128,T=!0,Ic($,!1),d.lanes=4194304)}else{if(!T)if(u=gh(G),u!==null){if(d.flags|=128,T=!0,v=u.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),Ic($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!un)return fr(d),null}else 2*Sn()-$.renderingStartTime>Wl&&v!==1073741824&&(d.flags|=128,T=!0,Ic($,!1),d.lanes=4194304);$.isBackwards?(G.sibling=d.child,d.child=G):(v=$.last,v!==null?v.sibling=G:d.child=G,$.last=G)}return $.tail!==null?(d=$.tail,$.rendering=d,$.tail=d.sibling,$.renderingStartTime=Sn(),d.sibling=null,v=dn.current,Kt(dn,T?v&1|2:v&1),d):(fr(d),null);case 22:case 23:return o0(),T=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(d.flags|=8192),T&&(d.mode&1)!==0?(oi&1073741824)!==0&&(fr(d),d.subtreeFlags&6&&(d.flags|=8192)):fr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function T$(u,d){switch(py(d),d.tag){case 1:return qr(d.type)&&ih(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Vl(),en(Vr),en(cr),Ny(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return Cy(d),null;case 13:if(en(dn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Fl()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return en(dn),null;case 4:return Vl(),null;case 10:return by(d.type._context),null;case 22:case 23:return o0(),null;case 24:return null;default:return null}}var Eh=!1,hr=!1,C$=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Hl(u,d){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(T){vn(u,d,T)}else v.current=null}function Yy(u,d,v){try{v()}catch(T){vn(u,d,T)}}var gC=!1;function O$(u,d){if(oy=Hf,u=Yk(),Xv(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var T=v.getSelection&&v.getSelection();if(T&&T.rangeCount!==0){v=T.anchorNode;var R=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{v.nodeType,$.nodeType}catch{v=null;break e}var G=0,ee=-1,ne=-1,de=0,ye=0,xe=u,ve=null;t:for(;;){for(var Pe;xe!==v||R!==0&&xe.nodeType!==3||(ee=G+R),xe!==$||T!==0&&xe.nodeType!==3||(ne=G+T),xe.nodeType===3&&(G+=xe.nodeValue.length),(Pe=xe.firstChild)!==null;)ve=xe,xe=Pe;for(;;){if(xe===u)break t;if(ve===v&&++de===R&&(ee=G),ve===$&&++ye===T&&(ne=G),(Pe=xe.nextSibling)!==null)break;xe=ve,ve=xe.parentNode}xe=Pe}v=ee===-1||ne===-1?null:{start:ee,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(sy={focusedElem:u,selectionRange:v},Hf=!1,Le=d;Le!==null;)if(d=Le,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,Le=u;else for(;Le!==null;){d=Le;try{var Ue=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var qe=Ue.memoizedProps,En=Ue.memoizedState,ae=d.stateNode,re=ae.getSnapshotBeforeUpdate(d.elementType===d.type?qe:Li(d.type,qe),En);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ee){vn(d,d.return,Ee)}if(u=d.sibling,u!==null){u.return=d.return,Le=u;break}Le=d.return}return Ue=gC,gC=!1,Ue}function Pc(u,d,v){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var R=T=T.next;do{if((R.tag&u)===u){var $=R.destroy;R.destroy=void 0,$!==void 0&&Yy(d,v,$)}R=R.next}while(R!==T)}}function kh(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&u)===u){var T=v.create;v.destroy=T()}v=v.next}while(v!==d)}}function Gy(u){var d=u.ref;if(d!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof d=="function"?d(u):d.current=u}}function vC(u){var d=u.alternate;d!==null&&(u.alternate=null,vC(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[eo],delete d[xc],delete d[cy],delete d[c$],delete d[d$])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function yC(u){return u.tag===5||u.tag===3||u.tag===4}function wC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||yC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Ky(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.nodeType===8?v.parentNode.insertBefore(u,d):v.insertBefore(u,d):(v.nodeType===8?(d=v.parentNode,d.insertBefore(u,v)):(d=v,d.appendChild(u)),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=nh));else if(T!==4&&(u=u.child,u!==null))for(Ky(u,d,v),u=u.sibling;u!==null;)Ky(u,d,v),u=u.sibling}function Qy(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.insertBefore(u,d):v.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(Qy(u,d,v),u=u.sibling;u!==null;)Qy(u,d,v),u=u.sibling}var Jn=null,ji=!1;function Es(u,d,v){for(v=v.child;v!==null;)bC(u,d,v),v=v.sibling}function bC(u,d,v){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(Ff,v)}catch{}switch(v.tag){case 5:hr||Hl(v,d);case 6:var T=Jn,R=ji;Jn=null,Es(u,d,v),Jn=T,ji=R,Jn!==null&&(ji?(u=Jn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):Jn.removeChild(v.stateNode));break;case 18:Jn!==null&&(ji?(u=Jn,v=v.stateNode,u.nodeType===8?uy(u.parentNode,v):u.nodeType===1&&uy(u,v),dc(u)):uy(Jn,v.stateNode));break;case 4:T=Jn,R=ji,Jn=v.stateNode.containerInfo,ji=!0,Es(u,d,v),Jn=T,ji=R;break;case 0:case 11:case 14:case 15:if(!hr&&(T=v.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){R=T=T.next;do{var $=R,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&Yy(v,d,G),R=R.next}while(R!==T)}Es(u,d,v);break;case 1:if(!hr&&(Hl(v,d),T=v.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=v.memoizedProps,T.state=v.memoizedState,T.componentWillUnmount()}catch(ee){vn(v,d,ee)}Es(u,d,v);break;case 21:Es(u,d,v);break;case 22:v.mode&1?(hr=(T=hr)||v.memoizedState!==null,Es(u,d,v),hr=T):Es(u,d,v);break;default:Es(u,d,v)}}function _C(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new C$),d.forEach(function(T){var R=j$.bind(null,u,T);v.has(T)||(v.add(T),T.then(R,R))})}}function Fi(u,d){var v=d.deletions;if(v!==null)for(var T=0;T<v.length;T++){var R=v[T];try{var $=u,G=d,ee=G;e:for(;ee!==null;){switch(ee.tag){case 5:Jn=ee.stateNode,ji=!1;break e;case 3:Jn=ee.stateNode.containerInfo,ji=!0;break e;case 4:Jn=ee.stateNode.containerInfo,ji=!0;break e}ee=ee.return}if(Jn===null)throw Error(n(160));bC($,G,R),Jn=null,ji=!1;var ne=R.alternate;ne!==null&&(ne.return=null),R.return=null}catch(de){vn(R,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)xC(d,u),d=d.sibling}function xC(u,d){var v=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Fi(d,u),ro(u),T&4){try{Pc(3,u,u.return),kh(3,u)}catch(qe){vn(u,u.return,qe)}try{Pc(5,u,u.return)}catch(qe){vn(u,u.return,qe)}}break;case 1:Fi(d,u),ro(u),T&512&&v!==null&&Hl(v,v.return);break;case 5:if(Fi(d,u),ro(u),T&512&&v!==null&&Hl(v,v.return),u.flags&32){var R=u.stateNode;try{ut(R,"")}catch(qe){vn(u,u.return,qe)}}if(T&4&&(R=u.stateNode,R!=null)){var $=u.memoizedProps,G=v!==null?v.memoizedProps:$,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&$.type==="radio"&&$.name!=null&&nt(R,$),be(ee,G);var de=be(ee,$);for(G=0;G<ne.length;G+=2){var ye=ne[G],xe=ne[G+1];ye==="style"?Cr(R,xe):ye==="dangerouslySetInnerHTML"?$r(R,xe):ye==="children"?ut(R,xe):E(R,ye,xe,de)}switch(ee){case"input":Qe(R,$);break;case"textarea":Ie(R,$);break;case"select":var ve=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!$.multiple;var Pe=$.value;Pe!=null?_e(R,!!$.multiple,Pe,!1):ve!==!!$.multiple&&($.defaultValue!=null?_e(R,!!$.multiple,$.defaultValue,!0):_e(R,!!$.multiple,$.multiple?[]:"",!1))}R[xc]=$}catch(qe){vn(u,u.return,qe)}}break;case 6:if(Fi(d,u),ro(u),T&4){if(u.stateNode===null)throw Error(n(162));R=u.stateNode,$=u.memoizedProps;try{R.nodeValue=$}catch(qe){vn(u,u.return,qe)}}break;case 3:if(Fi(d,u),ro(u),T&4&&v!==null&&v.memoizedState.isDehydrated)try{dc(d.containerInfo)}catch(qe){vn(u,u.return,qe)}break;case 4:Fi(d,u),ro(u);break;case 13:Fi(d,u),ro(u),R=u.child,R.flags&8192&&($=R.memoizedState!==null,R.stateNode.isHidden=$,!$||R.alternate!==null&&R.alternate.memoizedState!==null||(Zy=Sn())),T&4&&_C(u);break;case 22:if(ye=v!==null&&v.memoizedState!==null,u.mode&1?(hr=(de=hr)||ye,Fi(d,u),hr=de):Fi(d,u),ro(u),T&8192){if(de=u.memoizedState!==null,(u.stateNode.isHidden=de)&&!ye&&(u.mode&1)!==0)for(Le=u,ye=u.child;ye!==null;){for(xe=Le=ye;Le!==null;){switch(ve=Le,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Pc(4,ve,ve.return);break;case 1:Hl(ve,ve.return);var Ue=ve.stateNode;if(typeof Ue.componentWillUnmount=="function"){T=ve,v=ve.return;try{d=T,Ue.props=d.memoizedProps,Ue.state=d.memoizedState,Ue.componentWillUnmount()}catch(qe){vn(T,v,qe)}}break;case 5:Hl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){kC(xe);continue}}Pe!==null?(Pe.return=ve,Le=Pe):kC(xe)}ye=ye.sibling}e:for(ye=null,xe=u;;){if(xe.tag===5){if(ye===null){ye=xe;try{R=xe.stateNode,de?($=R.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ee=xe.stateNode,ne=xe.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=Br("display",G))}catch(qe){vn(u,u.return,qe)}}}else if(xe.tag===6){if(ye===null)try{xe.stateNode.nodeValue=de?"":xe.memoizedProps}catch(qe){vn(u,u.return,qe)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===u)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===u)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===u)break e;ye===xe&&(ye=null),xe=xe.return}ye===xe&&(ye=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Fi(d,u),ro(u),T&4&&_C(u);break;case 21:break;default:Fi(d,u),ro(u)}}function ro(u){var d=u.flags;if(d&2){try{e:{for(var v=u.return;v!==null;){if(yC(v)){var T=v;break e}v=v.return}throw Error(n(160))}switch(T.tag){case 5:var R=T.stateNode;T.flags&32&&(ut(R,""),T.flags&=-33);var $=wC(u);Qy(u,$,R);break;case 3:case 4:var G=T.stateNode.containerInfo,ee=wC(u);Ky(u,ee,G);break;default:throw Error(n(161))}}catch(ne){vn(u,u.return,ne)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function N$(u,d,v){Le=u,SC(u)}function SC(u,d,v){for(var T=(u.mode&1)!==0;Le!==null;){var R=Le,$=R.child;if(R.tag===22&&T){var G=R.memoizedState!==null||Eh;if(!G){var ee=R.alternate,ne=ee!==null&&ee.memoizedState!==null||hr;ee=Eh;var de=hr;if(Eh=G,(hr=ne)&&!de)for(Le=R;Le!==null;)G=Le,ne=G.child,G.tag===22&&G.memoizedState!==null?TC(R):ne!==null?(ne.return=G,Le=ne):TC(R);for(;$!==null;)Le=$,SC($),$=$.sibling;Le=R,Eh=ee,hr=de}EC(u)}else(R.subtreeFlags&8772)!==0&&$!==null?($.return=R,Le=$):EC(u)}}function EC(u){for(;Le!==null;){var d=Le;if((d.flags&8772)!==0){var v=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:hr||kh(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!hr)if(v===null)T.componentDidMount();else{var R=d.elementType===d.type?v.memoizedProps:Li(d.type,v.memoizedProps);T.componentDidUpdate(R,v.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=d.updateQueue;$!==null&&_T(d,$,T);break;case 3:var G=d.updateQueue;if(G!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=d.child.stateNode;break;case 1:v=d.child.stateNode}_T(d,G,v)}break;case 5:var ee=d.stateNode;if(v===null&&d.flags&4){v=ee;var ne=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var xe=ye.dehydrated;xe!==null&&dc(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hr||d.flags&512&&Gy(d)}catch(ve){vn(d,d.return,ve)}}if(d===u){Le=null;break}if(v=d.sibling,v!==null){v.return=d.return,Le=v;break}Le=d.return}}function kC(u){for(;Le!==null;){var d=Le;if(d===u){Le=null;break}var v=d.sibling;if(v!==null){v.return=d.return,Le=v;break}Le=d.return}}function TC(u){for(;Le!==null;){var d=Le;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{kh(4,d)}catch(ne){vn(d,v,ne)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var R=d.return;try{T.componentDidMount()}catch(ne){vn(d,R,ne)}}var $=d.return;try{Gy(d)}catch(ne){vn(d,$,ne)}break;case 5:var G=d.return;try{Gy(d)}catch(ne){vn(d,G,ne)}}}catch(ne){vn(d,d.return,ne)}if(d===u){Le=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,Le=ee;break}Le=d.return}}var A$=Math.ceil,Th=x.ReactCurrentDispatcher,Xy=x.ReactCurrentOwner,bi=x.ReactCurrentBatchConfig,St=0,Hn=null,Dn=null,Zn=0,oi=0,zl=ws(0),$n=0,Rc=null,ka=0,Ch=0,Jy=0,Mc=null,zr=null,Zy=0,Wl=1/0,$o=null,Oh=!1,e0=null,ks=null,Nh=!1,Ts=null,Ah=0,Lc=0,t0=null,Dh=-1,Ih=0;function Nr(){return(St&6)!==0?Sn():Dh!==-1?Dh:Dh=Sn()}function Cs(u){return(u.mode&1)===0?1:(St&2)!==0&&Zn!==0?Zn&-Zn:h$.transition!==null?(Ih===0&&(Ih=yk()),Ih):(u=jt,u!==0||(u=window.event,u=u===void 0?16:Ck(u.type)),u)}function $i(u,d,v,T){if(50<Lc)throw Lc=0,t0=null,Error(n(185));sc(u,v,T),((St&2)===0||u!==Hn)&&(u===Hn&&((St&2)===0&&(Ch|=v),$n===4&&Os(u,Zn)),Wr(u,T),v===1&&St===0&&(d.mode&1)===0&&(Wl=Sn()+500,sh&&_s()))}function Wr(u,d){var v=u.callbackNode;h6(u,d);var T=Uf(u,u===Hn?Zn:0);if(T===0)v!==null&&mk(v),u.callbackNode=null,u.callbackPriority=0;else if(d=T&-T,u.callbackPriority!==d){if(v!=null&&mk(v),d===1)u.tag===0?f$(OC.bind(null,u)):fT(OC.bind(null,u)),l$(function(){(St&6)===0&&_s()}),v=null;else{switch(wk(T)){case 1:v=Rv;break;case 4:v=gk;break;case 16:v=jf;break;case 536870912:v=vk;break;default:v=jf}v=LC(v,CC.bind(null,u))}u.callbackPriority=d,u.callbackNode=v}}function CC(u,d){if(Dh=-1,Ih=0,(St&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Yl()&&u.callbackNode!==v)return null;var T=Uf(u,u===Hn?Zn:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||d)d=Ph(u,T);else{d=T;var R=St;St|=2;var $=AC();(Hn!==u||Zn!==d)&&($o=null,Wl=Sn()+500,Ca(u,d));do try{P$();break}catch(ee){NC(u,ee)}while(!0);wy(),Th.current=$,St=R,Dn!==null?d=0:(Hn=null,Zn=0,d=$n)}if(d!==0){if(d===2&&(R=Mv(u),R!==0&&(T=R,d=n0(u,R))),d===1)throw v=Rc,Ca(u,0),Os(u,T),Wr(u,Sn()),v;if(d===6)Os(u,T);else{if(R=u.current.alternate,(T&30)===0&&!D$(R)&&(d=Ph(u,T),d===2&&($=Mv(u),$!==0&&(T=$,d=n0(u,$))),d===1))throw v=Rc,Ca(u,0),Os(u,T),Wr(u,Sn()),v;switch(u.finishedWork=R,u.finishedLanes=T,d){case 0:case 1:throw Error(n(345));case 2:Oa(u,zr,$o);break;case 3:if(Os(u,T),(T&130023424)===T&&(d=Zy+500-Sn(),10<d)){if(Uf(u,0)!==0)break;if(R=u.suspendedLanes,(R&T)!==T){Nr(),u.pingedLanes|=u.suspendedLanes&R;break}u.timeoutHandle=ly(Oa.bind(null,u,zr,$o),d);break}Oa(u,zr,$o);break;case 4:if(Os(u,T),(T&4194240)===T)break;for(d=u.eventTimes,R=-1;0<T;){var G=31-Pi(T);$=1<<G,G=d[G],G>R&&(R=G),T&=~$}if(T=R,T=Sn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*A$(T/1960))-T,10<T){u.timeoutHandle=ly(Oa.bind(null,u,zr,$o),T);break}Oa(u,zr,$o);break;case 5:Oa(u,zr,$o);break;default:throw Error(n(329))}}}return Wr(u,Sn()),u.callbackNode===v?CC.bind(null,u):null}function n0(u,d){var v=Mc;return u.current.memoizedState.isDehydrated&&(Ca(u,d).flags|=256),u=Ph(u,d),u!==2&&(d=zr,zr=v,d!==null&&r0(d)),u}function r0(u){zr===null?zr=u:zr.push.apply(zr,u)}function D$(u){for(var d=u;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var T=0;T<v.length;T++){var R=v[T],$=R.getSnapshot;R=R.value;try{if(!Ri($(),R))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Os(u,d){for(d&=~Jy,d&=~Ch,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var v=31-Pi(d),T=1<<v;u[v]=-1,d&=~T}}function OC(u){if((St&6)!==0)throw Error(n(327));Yl();var d=Uf(u,0);if((d&1)===0)return Wr(u,Sn()),null;var v=Ph(u,d);if(u.tag!==0&&v===2){var T=Mv(u);T!==0&&(d=T,v=n0(u,T))}if(v===1)throw v=Rc,Ca(u,0),Os(u,d),Wr(u,Sn()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Oa(u,zr,$o),Wr(u,Sn()),null}function i0(u,d){var v=St;St|=1;try{return u(d)}finally{St=v,St===0&&(Wl=Sn()+500,sh&&_s())}}function Ta(u){Ts!==null&&Ts.tag===0&&(St&6)===0&&Yl();var d=St;St|=1;var v=bi.transition,T=jt;try{if(bi.transition=null,jt=1,u)return u()}finally{jt=T,bi.transition=v,St=d,(St&6)===0&&_s()}}function o0(){oi=zl.current,en(zl)}function Ca(u,d){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,a$(v)),Dn!==null)for(v=Dn.return;v!==null;){var T=v;switch(py(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&ih();break;case 3:Vl(),en(Vr),en(cr),Ny();break;case 5:Cy(T);break;case 4:Vl();break;case 13:en(dn);break;case 19:en(dn);break;case 10:by(T.type._context);break;case 22:case 23:o0()}v=v.return}if(Hn=u,Dn=u=Ns(u.current,null),Zn=oi=d,$n=0,Rc=null,Jy=Ch=ka=0,zr=Mc=null,xa!==null){for(d=0;d<xa.length;d++)if(v=xa[d],T=v.interleaved,T!==null){v.interleaved=null;var R=T.next,$=v.pending;if($!==null){var G=$.next;$.next=R,T.next=G}v.pending=T}xa=null}return u}function NC(u,d){do{var v=Dn;try{if(wy(),vh.current=_h,yh){for(var T=fn.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}yh=!1}if(Ea=0,qn=Fn=fn=null,Oc=!1,Nc=0,Xy.current=null,v===null||v.return===null){$n=1,Rc=d,Dn=null;break}e:{var $=u,G=v.return,ee=v,ne=d;if(d=Zn,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var de=ne,ye=ee,xe=ye.tag;if((ye.mode&1)===0&&(xe===0||xe===11||xe===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=eC(G);if(Pe!==null){Pe.flags&=-257,tC(Pe,G,ee,$,d),Pe.mode&1&&ZT($,de,d),d=Pe,ne=de;var Ue=d.updateQueue;if(Ue===null){var qe=new Set;qe.add(ne),d.updateQueue=qe}else Ue.add(ne);break e}else{if((d&1)===0){ZT($,de,d),s0();break e}ne=Error(n(426))}}else if(un&&ee.mode&1){var En=eC(G);if(En!==null){(En.flags&65536)===0&&(En.flags|=256),tC(En,G,ee,$,d),vy(ql(ne,ee));break e}}$=ne=ql(ne,ee),$n!==4&&($n=2),Mc===null?Mc=[$]:Mc.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var ae=XT($,ne,d);bT($,ae);break e;case 1:ee=ne;var re=$.type,ue=$.stateNode;if(($.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(ks===null||!ks.has(ue)))){$.flags|=65536,d&=-d,$.lanes|=d;var Ee=JT($,ee,d);bT($,Ee);break e}}$=$.return}while($!==null)}IC(v)}catch(ze){d=ze,Dn===v&&v!==null&&(Dn=v=v.return);continue}break}while(!0)}function AC(){var u=Th.current;return Th.current=_h,u===null?_h:u}function s0(){($n===0||$n===3||$n===2)&&($n=4),Hn===null||(ka&268435455)===0&&(Ch&268435455)===0||Os(Hn,Zn)}function Ph(u,d){var v=St;St|=2;var T=AC();(Hn!==u||Zn!==d)&&($o=null,Ca(u,d));do try{I$();break}catch(R){NC(u,R)}while(!0);if(wy(),St=v,Th.current=T,Dn!==null)throw Error(n(261));return Hn=null,Zn=0,$n}function I$(){for(;Dn!==null;)DC(Dn)}function P$(){for(;Dn!==null&&!i6();)DC(Dn)}function DC(u){var d=MC(u.alternate,u,oi);u.memoizedProps=u.pendingProps,d===null?IC(u):Dn=d,Xy.current=null}function IC(u){var d=u;do{var v=d.alternate;if(u=d.return,(d.flags&32768)===0){if(v=k$(v,d,oi),v!==null){Dn=v;return}}else{if(v=T$(v,d),v!==null){v.flags&=32767,Dn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{$n=6,Dn=null;return}}if(d=d.sibling,d!==null){Dn=d;return}Dn=d=u}while(d!==null);$n===0&&($n=5)}function Oa(u,d,v){var T=jt,R=bi.transition;try{bi.transition=null,jt=1,R$(u,d,v,T)}finally{bi.transition=R,jt=T}return null}function R$(u,d,v,T){do Yl();while(Ts!==null);if((St&6)!==0)throw Error(n(327));v=u.finishedWork;var R=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var $=v.lanes|v.childLanes;if(p6(u,$),u===Hn&&(Dn=Hn=null,Zn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Nh||(Nh=!0,LC(jf,function(){return Yl(),null})),$=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||$){$=bi.transition,bi.transition=null;var G=jt;jt=1;var ee=St;St|=4,Xy.current=null,O$(u,v),xC(v,u),e$(sy),Hf=!!oy,sy=oy=null,u.current=v,N$(v),o6(),St=ee,jt=G,bi.transition=$}else u.current=v;if(Nh&&(Nh=!1,Ts=u,Ah=R),$=u.pendingLanes,$===0&&(ks=null),l6(v.stateNode),Wr(u,Sn()),d!==null)for(T=u.onRecoverableError,v=0;v<d.length;v++)R=d[v],T(R.value,{componentStack:R.stack,digest:R.digest});if(Oh)throw Oh=!1,u=e0,e0=null,u;return(Ah&1)!==0&&u.tag!==0&&Yl(),$=u.pendingLanes,($&1)!==0?u===t0?Lc++:(Lc=0,t0=u):Lc=0,_s(),null}function Yl(){if(Ts!==null){var u=wk(Ah),d=bi.transition,v=jt;try{if(bi.transition=null,jt=16>u?16:u,Ts===null)var T=!1;else{if(u=Ts,Ts=null,Ah=0,(St&6)!==0)throw Error(n(331));var R=St;for(St|=4,Le=u.current;Le!==null;){var $=Le,G=$.child;if((Le.flags&16)!==0){var ee=$.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var de=ee[ne];for(Le=de;Le!==null;){var ye=Le;switch(ye.tag){case 0:case 11:case 15:Pc(8,ye,$)}var xe=ye.child;if(xe!==null)xe.return=ye,Le=xe;else for(;Le!==null;){ye=Le;var ve=ye.sibling,Pe=ye.return;if(vC(ye),ye===de){Le=null;break}if(ve!==null){ve.return=Pe,Le=ve;break}Le=Pe}}}var Ue=$.alternate;if(Ue!==null){var qe=Ue.child;if(qe!==null){Ue.child=null;do{var En=qe.sibling;qe.sibling=null,qe=En}while(qe!==null)}}Le=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,Le=G;else e:for(;Le!==null;){if($=Le,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Pc(9,$,$.return)}var ae=$.sibling;if(ae!==null){ae.return=$.return,Le=ae;break e}Le=$.return}}var re=u.current;for(Le=re;Le!==null;){G=Le;var ue=G.child;if((G.subtreeFlags&2064)!==0&&ue!==null)ue.return=G,Le=ue;else e:for(G=re;Le!==null;){if(ee=Le,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:kh(9,ee)}}catch(ze){vn(ee,ee.return,ze)}if(ee===G){Le=null;break e}var Ee=ee.sibling;if(Ee!==null){Ee.return=ee.return,Le=Ee;break e}Le=ee.return}}if(St=R,_s(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(Ff,u)}catch{}T=!0}return T}finally{jt=v,bi.transition=d}}return!1}function PC(u,d,v){d=ql(v,d),d=XT(u,d,1),u=Ss(u,d,1),d=Nr(),u!==null&&(sc(u,1,d),Wr(u,d))}function vn(u,d,v){if(u.tag===3)PC(u,u,v);else for(;d!==null;){if(d.tag===3){PC(d,u,v);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ks===null||!ks.has(T))){u=ql(v,u),u=JT(d,u,1),d=Ss(d,u,1),u=Nr(),d!==null&&(sc(d,1,u),Wr(d,u));break}}d=d.return}}function M$(u,d,v){var T=u.pingCache;T!==null&&T.delete(d),d=Nr(),u.pingedLanes|=u.suspendedLanes&v,Hn===u&&(Zn&v)===v&&($n===4||$n===3&&(Zn&130023424)===Zn&&500>Sn()-Zy?Ca(u,0):Jy|=v),Wr(u,d)}function RC(u,d){d===0&&((u.mode&1)===0?d=1:(d=Bf,Bf<<=1,(Bf&130023424)===0&&(Bf=4194304)));var v=Nr();u=Lo(u,d),u!==null&&(sc(u,d,v),Wr(u,v))}function L$(u){var d=u.memoizedState,v=0;d!==null&&(v=d.retryLane),RC(u,v)}function j$(u,d){var v=0;switch(u.tag){case 13:var T=u.stateNode,R=u.memoizedState;R!==null&&(v=R.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(d),RC(u,v)}var MC;MC=function(u,d,v){if(u!==null)if(u.memoizedProps!==d.pendingProps||Vr.current)Hr=!0;else{if((u.lanes&v)===0&&(d.flags&128)===0)return Hr=!1,E$(u,d,v);Hr=(u.flags&131072)!==0}else Hr=!1,un&&(d.flags&1048576)!==0&&hT(d,lh,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;Sh(u,d),u=d.pendingProps;var R=Ml(d,cr.current);Bl(d,v),R=Iy(null,d,T,u,R,v);var $=Py();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,qr(T)?($=!0,oh(d)):$=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Sy(d),R.updater=ph,d.stateNode=R,R._reactInternals=d,ky(d,T,u,v),d=Uy(null,d,T,!0,$,v)):(d.tag=0,un&&$&&hy(d),Or(null,d,R,v),d=d.child),d;case 16:T=d.elementType;e:{switch(Sh(u,d),u=d.pendingProps,R=T._init,T=R(T._payload),d.type=T,R=d.tag=$$(T),u=Li(T,u),R){case 0:d=By(null,d,T,u,v);break e;case 1:d=aC(null,d,T,u,v);break e;case 11:d=nC(null,d,T,u,v);break e;case 14:d=rC(null,d,T,Li(T.type,u),v);break e}throw Error(n(306,T,""))}return d;case 0:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),By(u,d,T,R,v);case 1:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),aC(u,d,T,R,v);case 3:e:{if(lC(d),u===null)throw Error(n(387));T=d.pendingProps,$=d.memoizedState,R=$.element,wT(u,d),hh(d,T,null,v);var G=d.memoizedState;if(T=G.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){R=ql(Error(n(423)),d),d=uC(u,d,T,v,R);break e}else if(T!==R){R=ql(Error(n(424)),d),d=uC(u,d,T,v,R);break e}else for(ii=ys(d.stateNode.containerInfo.firstChild),ri=d,un=!0,Mi=null,v=OT(d,null,T,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Fl(),T===R){d=Fo(u,d,v);break e}Or(u,d,T,v)}d=d.child}return d;case 5:return NT(d),u===null&&gy(d),T=d.type,R=d.pendingProps,$=u!==null?u.memoizedProps:null,G=R.children,ay(T,R)?G=null:$!==null&&ay(T,$)&&(d.flags|=32),sC(u,d),Or(u,d,G,v),d.child;case 6:return u===null&&gy(d),null;case 13:return cC(u,d,v);case 4:return Ty(d,d.stateNode.containerInfo),T=d.pendingProps,u===null?d.child=Ul(d,null,T,v):Or(u,d,T,v),d.child;case 11:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),nC(u,d,T,R,v);case 7:return Or(u,d,d.pendingProps,v),d.child;case 8:return Or(u,d,d.pendingProps.children,v),d.child;case 12:return Or(u,d,d.pendingProps.children,v),d.child;case 10:e:{if(T=d.type._context,R=d.pendingProps,$=d.memoizedProps,G=R.value,Kt(ch,T._currentValue),T._currentValue=G,$!==null)if(Ri($.value,G)){if($.children===R.children&&!Vr.current){d=Fo(u,d,v);break e}}else for($=d.child,$!==null&&($.return=d);$!==null;){var ee=$.dependencies;if(ee!==null){G=$.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===T){if($.tag===1){ne=jo(-1,v&-v),ne.tag=2;var de=$.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?ne.next=ne:(ne.next=ye.next,ye.next=ne),de.pending=ne}}$.lanes|=v,ne=$.alternate,ne!==null&&(ne.lanes|=v),_y($.return,v,d),ee.lanes|=v;break}ne=ne.next}}else if($.tag===10)G=$.type===d.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=v,ee=G.alternate,ee!==null&&(ee.lanes|=v),_y(G,v,d),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===d){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}Or(u,d,R.children,v),d=d.child}return d;case 9:return R=d.type,T=d.pendingProps.children,Bl(d,v),R=yi(R),T=T(R),d.flags|=1,Or(u,d,T,v),d.child;case 14:return T=d.type,R=Li(T,d.pendingProps),R=Li(T.type,R),rC(u,d,T,R,v);case 15:return iC(u,d,d.type,d.pendingProps,v);case 17:return T=d.type,R=d.pendingProps,R=d.elementType===T?R:Li(T,R),Sh(u,d),d.tag=1,qr(T)?(u=!0,oh(d)):u=!1,Bl(d,v),ET(d,T,R),ky(d,T,R,v),Uy(null,d,T,!0,u,v);case 19:return fC(u,d,v);case 22:return oC(u,d,v)}throw Error(n(156,d.tag))};function LC(u,d){return pk(u,d)}function F$(u,d,v,T){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(u,d,v,T){return new F$(u,d,v,T)}function a0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function $$(u){if(typeof u=="function")return a0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===I)return 11;if(u===q)return 14}return 2}function Ns(u,d){var v=u.alternate;return v===null?(v=_i(u.tag,d,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=d,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,d=u.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Rh(u,d,v,T,R,$){var G=2;if(T=u,typeof u=="function")a0(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case N:return Na(v.children,R,$,d);case C:G=8,R|=8;break;case D:return u=_i(12,v,d,R|2),u.elementType=D,u.lanes=$,u;case L:return u=_i(13,v,d,R),u.elementType=L,u.lanes=$,u;case F:return u=_i(19,v,d,R),u.elementType=F,u.lanes=$,u;case B:return Mh(v,R,$,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case P:G=10;break e;case A:G=9;break e;case I:G=11;break e;case q:G=14;break e;case M:G=16,T=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=_i(G,v,d,R),d.elementType=u,d.type=T,d.lanes=$,d}function Na(u,d,v,T){return u=_i(7,u,T,d),u.lanes=v,u}function Mh(u,d,v,T){return u=_i(22,u,T,d),u.elementType=B,u.lanes=v,u.stateNode={isHidden:!1},u}function l0(u,d,v){return u=_i(6,u,null,d),u.lanes=v,u}function u0(u,d,v){return d=_i(4,u.children!==null?u.children:[],u.key,d),d.lanes=v,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function B$(u,d,v,T,R){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=T,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function c0(u,d,v,T,R,$,G,ee,ne){return u=new B$(u,d,v,ee,ne),d===1?(d=1,$===!0&&(d|=8)):d=0,$=_i(3,null,null,d),u.current=$,$.stateNode=u,$.memoizedState={element:T,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy($),u}function U$(u,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:T==null?null:""+T,children:u,containerInfo:d,implementation:v}}function jC(u){if(!u)return bs;u=u._reactInternals;e:{if(va(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(qr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(qr(v))return cT(u,v,d)}return d}function FC(u,d,v,T,R,$,G,ee,ne){return u=c0(v,T,!0,u,R,$,G,ee,ne),u.context=jC(null),v=u.current,T=Nr(),R=Cs(v),$=jo(T,R),$.callback=d??null,Ss(v,$,R),u.current.lanes=R,sc(u,R,T),Wr(u,T),u}function Lh(u,d,v,T){var R=d.current,$=Nr(),G=Cs(R);return v=jC(v),d.context===null?d.context=v:d.pendingContext=v,d=jo($,G),d.payload={element:u},T=T===void 0?null:T,T!==null&&(d.callback=T),u=Ss(R,d,G),u!==null&&($i(u,R,G,$),fh(u,R,G)),G}function jh(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function $C(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<d?v:d}}function d0(u,d){$C(u,d),(u=u.alternate)&&$C(u,d)}function V$(){return null}var BC=typeof reportError=="function"?reportError:function(u){console.error(u)};function f0(u){this._internalRoot=u}Fh.prototype.render=f0.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));Lh(u,d,null,null)},Fh.prototype.unmount=f0.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Ta(function(){Lh(null,u,null,null)}),d[Io]=null}};function Fh(u){this._internalRoot=u}Fh.prototype.unstable_scheduleHydration=function(u){if(u){var d=xk();u={blockedOn:null,target:u,priority:d};for(var v=0;v<ms.length&&d!==0&&d<ms[v].priority;v++);ms.splice(v,0,u),v===0&&kk(u)}};function h0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function $h(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function UC(){}function q$(u,d,v,T,R){if(R){if(typeof T=="function"){var $=T;T=function(){var de=jh(G);$.call(de)}}var G=FC(d,T,u,0,null,!1,!1,"",UC);return u._reactRootContainer=G,u[Io]=G.current,bc(u.nodeType===8?u.parentNode:u),Ta(),G}for(;R=u.lastChild;)u.removeChild(R);if(typeof T=="function"){var ee=T;T=function(){var de=jh(ne);ee.call(de)}}var ne=c0(u,0,!1,null,null,!1,!1,"",UC);return u._reactRootContainer=ne,u[Io]=ne.current,bc(u.nodeType===8?u.parentNode:u),Ta(function(){Lh(d,ne,v,T)}),ne}function Bh(u,d,v,T,R){var $=v._reactRootContainer;if($){var G=$;if(typeof R=="function"){var ee=R;R=function(){var ne=jh(G);ee.call(ne)}}Lh(d,G,u,R)}else G=q$(v,d,u,R,T);return jh(G)}bk=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var v=oc(d.pendingLanes);v!==0&&(jv(d,v|1),Wr(d,Sn()),(St&6)===0&&(Wl=Sn()+500,_s()))}break;case 13:Ta(function(){var T=Lo(u,1);if(T!==null){var R=Nr();$i(T,u,1,R)}}),d0(u,1)}},Fv=function(u){if(u.tag===13){var d=Lo(u,134217728);if(d!==null){var v=Nr();$i(d,u,134217728,v)}d0(u,134217728)}},_k=function(u){if(u.tag===13){var d=Cs(u),v=Lo(u,d);if(v!==null){var T=Nr();$i(v,u,d,T)}d0(u,d)}},xk=function(){return jt},Sk=function(u,d){var v=jt;try{return jt=u,d()}finally{jt=v}},Ne=function(u,d,v){switch(d){case"input":if(Qe(u,v),d=v.name,v.type==="radio"&&d!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<v.length;d++){var T=v[d];if(T!==u&&T.form===u.form){var R=rh(T);if(!R)throw Error(n(90));ge(T),Qe(T,R)}}}break;case"textarea":Ie(u,v);break;case"select":d=v.value,d!=null&&_e(u,!!v.multiple,d,!1)}},An=i0,Lt=Ta;var H$={usingClientEntryPoint:!1,Events:[Sc,Pl,rh,rt,xt,i0]},jc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z$={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=fk(u),u===null?null:u.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||V$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Ff=Uh.inject(z$),Zi=Uh}catch{}}return Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H$,Yr.createPortal=function(u,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(d))throw Error(n(200));return U$(u,d,null,v)},Yr.createRoot=function(u,d){if(!h0(u))throw Error(n(299));var v=!1,T="",R=BC;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=c0(u,1,!1,null,null,v,!1,T,R),u[Io]=d.current,bc(u.nodeType===8?u.parentNode:u),new f0(d)},Yr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=fk(d),u=u===null?null:u.stateNode,u},Yr.flushSync=function(u){return Ta(u)},Yr.hydrate=function(u,d,v){if(!$h(d))throw Error(n(200));return Bh(null,u,d,!0,v)},Yr.hydrateRoot=function(u,d,v){if(!h0(u))throw Error(n(405));var T=v!=null&&v.hydratedSources||null,R=!1,$="",G=BC;if(v!=null&&(v.unstable_strictMode===!0&&(R=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(G=v.onRecoverableError)),d=FC(d,null,u,1,v??null,R,!1,$,G),u[Io]=d.current,bc(u),T)for(u=0;u<T.length;u++)v=T[u],R=v._getVersion,R=R(v._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[v,R]:d.mutableSourceEagerHydrationData.push(v,R);return new Fh(d)},Yr.render=function(u,d,v){if(!$h(d))throw Error(n(200));return Bh(null,u,d,!1,v)},Yr.unmountComponentAtNode=function(u){if(!$h(u))throw Error(n(40));return u._reactRootContainer?(Ta(function(){Bh(null,null,u,!1,function(){u._reactRootContainer=null,u[Io]=null})}),!0):!1},Yr.unstable_batchedUpdates=i0,Yr.unstable_renderSubtreeIntoContainer=function(u,d,v,T){if(!$h(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Bh(u,d,v,!1,T)},Yr.version="18.2.0-next-9e3b772b8-20220608",Yr}var KC;function px(){if(KC)return g0.exports;KC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g0.exports=tB(),g0.exports}var QC;function nB(){if(QC)return qh;QC=1;var t=px();return qh.createRoot=t.createRoot,qh.hydrateRoot=t.hydrateRoot,qh}var rB=nB();const iB=Zd(rB);var Q=ng();const oe=Zd(Q),zp=K$({__proto__:null,default:oe},[Q]);var mx=px();const gx=Zd(mx);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}var Us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Us||(Us={}));const XC="popstate";function oB(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Qb("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wp(i)}return aB(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sB(){return Math.random().toString(36).substr(2,8)}function JC(t,e){return{usr:t.state,key:t.key,idx:e}}function Qb(t,e,n,r){return n===void 0&&(n=null),xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vu(e):e,{state:n,key:e&&e.key||r||sB()})}function Wp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Us.Pop,l=null,h=c();h==null&&(h=0,s.replaceState(xd({},s.state,{idx:h}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Us.Pop;let w=c(),b=w==null?null:w-h;h=w,l&&l({action:a,location:y.location,delta:b})}function p(w,b){a=Us.Push;let _=Qb(y.location,w,b);h=c()+1;let E=JC(_,h),x=y.createHref(_);try{s.pushState(E,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(x)}o&&l&&l({action:a,location:y.location,delta:1})}function m(w,b){a=Us.Replace;let _=Qb(y.location,w,b);h=c();let E=JC(_,h),x=y.createHref(_);s.replaceState(E,"",x),o&&l&&l({action:a,location:y.location,delta:0})}function g(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:Wp(w);return Ln(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let y={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XC,f),l=w,()=>{i.removeEventListener(XC,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(w){return s.go(w)}};return y}var ZC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZC||(ZC={}));function lB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Vu(e):e,i=yx(r.pathname||"/",n);if(i==null)return null;let o=SP(t);uB(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=yB(o[a],_B(i));return s}function SP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=zs([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ln(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),SP(o.children,e,c,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:gB(h,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of EP(o.path))i(o,s,l)}),e}function EP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=EP(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cB=/^:[\w-]+$/,dB=3,fB=2,hB=1,pB=10,mB=-2,e2=t=>t==="*";function gB(t,e){let n=t.split("/"),r=n.length;return n.some(e2)&&(r+=mB),e&&(r+=fB),n.filter(i=>!e2(i)).reduce((i,o)=>i+(cB.test(o)?dB:o===""?hB:pB),r)}function vB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yB(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",c=wB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:zs([i,c.pathname]),pathnameBase:TB(zs([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=zs([i,c.pathnameBase]))}return o}function wB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?h[p]=void 0:h[p]=xB(g||"",p),h},{}),pathname:o,pathnameBase:s,pattern:t}}function bB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _B(t){try{return decodeURI(t)}catch(e){return vx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xB(t,e){try{return decodeURIComponent(t)}catch(n){return vx(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function yx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vu(t):t;return{pathname:n?n.startsWith("/")?n:EB(n,e):e,search:CB(r),hash:OB(i)}}function EB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function w0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kP(t,e){let n=kB(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function TP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vu(t):(i=xd({},t),Ln(!i.pathname||!i.pathname.includes("?"),w0("?","pathname","search",i)),Ln(!i.pathname||!i.pathname.includes("#"),w0("#","pathname","hash",i)),Ln(!i.search||!i.search.includes("#"),w0("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=SB(i,a),h=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),TB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CP=["post","put","patch","delete"];new Set(CP);const AB=["get",...CP];new Set(AB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}const wx=Q.createContext(null),DB=Q.createContext(null),hl=Q.createContext(null),rg=Q.createContext(null),oa=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),OP=Q.createContext(null);function IB(t,e){let{relative:n}=e===void 0?{}:e;ef()||Ln(!1);let{basename:r,navigator:i}=Q.useContext(hl),{hash:o,pathname:s,search:a}=DP(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:zs([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ef(){return Q.useContext(rg)!=null}function Fr(){return ef()||Ln(!1),Q.useContext(rg).location}function NP(t){Q.useContext(hl).static||Q.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=Q.useContext(oa);return t?zB():PB()}function PB(){ef()||Ln(!1);let t=Q.useContext(wx),{basename:e,future:n,navigator:r}=Q.useContext(hl),{matches:i}=Q.useContext(oa),{pathname:o}=Fr(),s=JSON.stringify(kP(i,n.v7_relativeSplatPath)),a=Q.useRef(!1);return NP(()=>{a.current=!0}),Q.useCallback(function(h,c){if(c===void 0&&(c={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let f=TP(h,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zs([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function AP(){let{matches:t}=Q.useContext(oa),e=t[t.length-1];return e?e.params:{}}function DP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Q.useContext(hl),{matches:i}=Q.useContext(oa),{pathname:o}=Fr(),s=JSON.stringify(kP(i,r.v7_relativeSplatPath));return Q.useMemo(()=>TP(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function RB(t,e){return MB(t,e)}function MB(t,e,n,r){ef()||Ln(!1);let{navigator:i}=Q.useContext(hl),{matches:o}=Q.useContext(oa),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let h=Fr(),c;if(e){var f;let w=typeof e=="string"?Vu(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ln(!1),c=w}else c=h;let p=c.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",g=lB(t,{pathname:m}),y=BB(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:zs([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:zs([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&y?Q.createElement(rg.Provider,{value:{location:Sd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Us.Pop}},y):y}function LB(){let t=HB(),e=NB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,null)}const jB=Q.createElement(LB,null);class FB extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(oa.Provider,{value:this.props.routeContext},Q.createElement(OP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $B(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(wx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(oa.Provider,{value:e},r)}function BB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ln(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((c,f,p)=>{let m,g=!1,y=null,w=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||jB,l&&(h<0&&p===0?(WB("route-fallback"),g=!0,w=null):h===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,p+1)),_=()=>{let E;return m?E=y:g?E=w:f.route.Component?E=Q.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,Q.createElement($B,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Q.createElement(FB,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var IP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IP||{}),PP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PP||{});function UB(t){let e=Q.useContext(wx);return e||Ln(!1),e}function VB(t){let e=Q.useContext(DB);return e||Ln(!1),e}function qB(t){let e=Q.useContext(oa);return e||Ln(!1),e}function RP(t){let e=qB(),n=e.matches[e.matches.length-1];return n.route.id||Ln(!1),n.route.id}function HB(){var t;let e=Q.useContext(OP),n=VB(),r=RP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zB(){let{router:t}=UB(IP.UseNavigateStable),e=RP(PP.UseNavigateStable),n=Q.useRef(!1);return NP(()=>{n.current=!0}),Q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sd({fromRouteId:e},o)))},[t,e])}const t2={};function WB(t,e,n){t2[t]||(t2[t]=!0)}function Qt(t){Ln(!1)}function YB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Us.Pop,navigator:o,static:s=!1,future:a}=t;ef()&&Ln(!1);let l=e.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:l,navigator:o,static:s,future:Sd({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Vu(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,y=Q.useMemo(()=>{let w=yx(c,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return y==null?null:Q.createElement(hl.Provider,{value:h},Q.createElement(rg.Provider,{children:n,value:y}))}function n2(t){let{children:e,location:n}=t;return RB(Xb(e),n)}new Promise(()=>{});function Xb(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let o=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,Xb(r.props.children,o));return}r.type!==Qt&&Ln(!1),!r.props.index||!r.props.children||Ln(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xb(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}function GB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QB(t,e){return t.button===0&&(!e||e==="_self")&&!KB(t)}const XB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],JB="6";try{window.__reactRouterVersion=JB}catch{}const ZB="startTransition",r2=zp[ZB];function eU(t){let{basename:e,children:n,future:r,window:i}=t,o=Q.useRef();o.current==null&&(o.current=oB({window:i,v5Compat:!0}));let s=o.current,[a,l]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},c=Q.useCallback(f=>{h&&r2?r2(()=>l(f)):l(f)},[l,h]);return Q.useLayoutEffect(()=>s.listen(c),[s,c]),Q.createElement(YB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const tU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=Q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:h,preventScrollReset:c,unstable_viewTransition:f}=e,p=GB(e,XB),{basename:m}=Q.useContext(hl),g,y=!1;if(typeof h=="string"&&nU.test(h)&&(g=h,tU))try{let E=new URL(window.location.href),x=h.startsWith("//")?new URL(E.protocol+h):new URL(h),k=yx(x.pathname,m);x.origin===E.origin&&k!=null?h=k+x.search+x.hash:y=!0}catch{}let w=IB(h,{relative:i}),b=rU(h,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function _(E){r&&r(E),E.defaultPrevented||b(E)}return Q.createElement("a",Jb({},p,{href:g||w,onClick:y||o?r:_,ref:n,target:l}))});var i2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(i2||(i2={}));var o2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o2||(o2={}));function rU(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=kr(),h=Fr(),c=DP(t,{relative:s});return Q.useCallback(f=>{if(QB(f,n)){f.preventDefault();let p=r!==void 0?r:Wp(h)===Wp(c);l(t,{replace:p,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[h,l,c,r,i,n,t,o,s,a])}var s2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},LP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|h>>6,m=h&63;l||(m=64,s||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||h==null||f==null)throw new oU;const p=o<<2|a>>4;if(r.push(p),h!==64){const m=a<<4&240|h>>2;if(r.push(m),f!==64){const g=h<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sU=function(t){const e=MP(t);return LP.encodeByteArray(e,!0)},Yp=function(t){return sU(t).replace(/\./g,"")},jP=function(t){try{return LP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=()=>aU().__FIREBASE_DEFAULTS__,uU=()=>{if(typeof process>"u"||typeof s2>"u")return;const t=s2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jP(t[1]);return e&&JSON.parse(e)},ig=()=>{try{return lU()||uU()||cU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FP=t=>{var e,n;return(n=(e=ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bx=t=>{const e=FP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$P=()=>{var t;return(t=ig())===null||t===void 0?void 0:t.config},BP=t=>{var e;return(e=ig())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yp(JSON.stringify(n)),Yp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())}function hU(){var t;const e=(t=ig())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gU(){const t=Sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VP(){try{return typeof indexedDB=="object"}catch{return!1}}function qP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function vU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="FirebaseError";class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Oi(i,a,r)}}function wU(t,e){return t.replace(bU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bU=/\{\$([^}]+)}/g;function _U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(a2(o)&&a2(s)){if(!Gp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function a2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ed(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xU(t,e){const n=new SU(t,e);return n.subscribe.bind(n)}class SU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=b0),i.error===void 0&&(i.error=b0),i.complete===void 0&&(i.complete=b0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function b0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CU(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TU(t){return t===Da?void 0:t}function CU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));const NU={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},AU=Tt.INFO,DU={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},IU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _x{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=IU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const PU=(t,e)=>e.some(n=>t instanceof n);let l2,u2;function RU(){return l2||(l2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MU(){return u2||(u2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HP=new WeakMap,Zb=new WeakMap,zP=new WeakMap,_0=new WeakMap,xx=new WeakMap;function LU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ws(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&HP.set(n,t)}).catch(()=>{}),xx.set(e,t),e}function jU(t){if(Zb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zb.set(t,e)}let e_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FU(t){e_=t(e_)}function $U(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(x0(this),e,...n);return zP.set(r,e.sort?e.sort():[e]),Ws(r)}:MU().includes(t)?function(...e){return t.apply(x0(this),e),Ws(HP.get(this))}:function(...e){return Ws(t.apply(x0(this),e))}}function BU(t){return typeof t=="function"?$U(t):(t instanceof IDBTransaction&&jU(t),PU(t,RU())?new Proxy(t,e_):t)}function Ws(t){if(t instanceof IDBRequest)return LU(t);if(_0.has(t))return _0.get(t);const e=BU(t);return e!==t&&(_0.set(t,e),xx.set(e,t)),e}const x0=t=>xx.get(t);function UU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ws(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ws(s.result),l.oldVersion,l.newVersion,Ws(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const VU=["get","getKey","getAll","getAllKeys","count"],qU=["put","add","delete","clear"],S0=new Map;function c2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S0.get(e))return S0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VU.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return S0.set(e,o),o}FU(t=>({...t,get:(e,n,r)=>c2(e,n)||t.get(e,n,r),has:(e,n)=>!!c2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const t_="@firebase/app",d2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new _x("@firebase/app"),WU="@firebase/app-compat",YU="@firebase/analytics-compat",GU="@firebase/analytics",KU="@firebase/app-check-compat",QU="@firebase/app-check",XU="@firebase/auth",JU="@firebase/auth-compat",ZU="@firebase/database",eV="@firebase/database-compat",tV="@firebase/functions",nV="@firebase/functions-compat",rV="@firebase/installations",iV="@firebase/installations-compat",oV="@firebase/messaging",sV="@firebase/messaging-compat",aV="@firebase/performance",lV="@firebase/performance-compat",uV="@firebase/remote-config",cV="@firebase/remote-config-compat",dV="@firebase/storage",fV="@firebase/storage-compat",hV="@firebase/firestore",pV="@firebase/firestore-compat",mV="firebase",gV="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="[DEFAULT]",vV={[t_]:"fire-core",[WU]:"fire-core-compat",[GU]:"fire-analytics",[YU]:"fire-analytics-compat",[QU]:"fire-app-check",[KU]:"fire-app-check-compat",[XU]:"fire-auth",[JU]:"fire-auth-compat",[ZU]:"fire-rtdb",[eV]:"fire-rtdb-compat",[tV]:"fire-fn",[nV]:"fire-fn-compat",[rV]:"fire-iid",[iV]:"fire-iid-compat",[oV]:"fire-fcm",[sV]:"fire-fcm-compat",[aV]:"fire-perf",[lV]:"fire-perf-compat",[uV]:"fire-rc",[cV]:"fire-rc-compat",[dV]:"fire-gcs",[fV]:"fire-gcs-compat",[hV]:"fire-fst",[pV]:"fire-fst-compat","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,r_=new Map;function yV(t,e){try{t.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(r_.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;r_.set(e,t);for(const n of Kp.values())yV(n,t);return!0}function sa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ys=new pl("app","Firebase",wV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=gV;function WP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:n_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=$P()),!n)throw Ys.create("no-options");const o=Kp.get(i);if(o){if(Gp(n,o.options)&&Gp(r,o.config))return o;throw Ys.create("duplicate-app",{appName:i})}const s=new OU(i);for(const l of r_.values())s.addComponent(l);const a=new bV(n,r,s);return Kp.set(i,a),a}function nf(t=n_){const e=Kp.get(t);if(!e&&t===n_&&$P())return WP();if(!e)throw Ys.create("no-app",{appName:t});return e}function wr(t,e,n){var r;let i=(r=vV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(a.join(" "));return}Ti(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="firebase-heartbeat-database",xV=1,Ed="firebase-heartbeat-store";let E0=null;function YP(){return E0||(E0=UU(_V,xV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ed)}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),E0}async function SV(t){try{return await(await YP()).transaction(Ed).objectStore(Ed).get(GP(t))}catch(e){if(e instanceof Oi)Ka.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ka.warn(n.message)}}}async function f2(t,e){try{const r=(await YP()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,GP(t)),await r.done}catch(n){if(n instanceof Oi)Ka.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ka.warn(r.message)}}}function GP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1024,kV=30*24*60*60*1e3;class TV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=h2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=kV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h2(),{heartbeatsToSend:n,unsentEntries:r}=CV(this._heartbeatsCache.heartbeats),i=Yp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function h2(){return new Date().toISOString().substring(0,10)}function CV(t,e=EV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),p2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VP()?qP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p2(t){return Yp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){Ti(new fi("platform-logger",e=>new HU(e),"PRIVATE")),Ti(new fi("heartbeat",e=>new TV(e),"PRIVATE")),wr(t_,d2,t),wr(t_,d2,"esm2017"),wr("fire-js","")}NV("");var AV="firebase",DV="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(AV,DV,"app");function Sx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IV=KP,QP=new pl("auth","Firebase",KP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new _x("@firebase/auth");function PV(t,...e){Qp.logLevel<=Tt.WARN&&Qp.warn(`Auth (${ml}): ${t}`,...e)}function xp(t,...e){Qp.logLevel<=Tt.ERROR&&Qp.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,...e){throw Ex(t,...e)}function bo(t,...e){return Ex(t,...e)}function RV(t,e,n){const r=Object.assign(Object.assign({},IV()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function Ex(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QP.create(t,...e)}function st(t,e,...n){if(!t)throw Ex(e,...n)}function qo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xp(e),new Error(e)}function es(t,e){t||qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MV(){return m2()==="http:"||m2()==="https:"}function m2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||pU()||"connection"in navigator)?navigator.onLine:!0}function jV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=fU()||mU()}get(){return LV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new rf(3e4,6e4);function gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function aa(t,e,n,r,i={}){return JP(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=tf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),XP.fetch()(ZP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function JP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FV),e);try{const i=new BV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Hh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RV(t,c,h);Wi(t,c)}}catch(i){if(i instanceof Oi)throw i;Wi(t,"network-request-failed",{message:String(i)})}}async function of(t,e,n,r,i={}){const o=await aa(t,e,n,r,i);return"mfaPendingCredential"in o&&Wi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function ZP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kx(t.config,i):`${t.config.apiScheme}://${i}`}class BV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),$V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return aa(t,"POST","/v1/accounts:delete",e)}async function VV(t,e){return aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qV(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=Tx(r);st(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:fd(k0(i.auth_time)),issuedAtTime:fd(k0(i.iat)),expirationTime:fd(k0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function k0(t){return Number(t)*1e3}function Tx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=jP(n);return i?JSON.parse(i):(xp("Failed to decode base64 JWT payload"),null)}catch(i){return xp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HV(t){const e=Tx(t);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oi&&zV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fd(this.lastLoginAt),this.creationTime=fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qa(t,VV(n,{idToken:r}));st(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KV(o.providerUserInfo):[],a=GV(t.providerData,s),l=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?h:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eR(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function YV(t){const e=It(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KV(t){return t.map(e=>{var{providerId:n}=e,r=Sx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e){const n=await JP(t,{},async()=>{const r=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ZP(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XP.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return st(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await QV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new kd;return r&&(st(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(st(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(st(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kd,this.toJSON())}_performRefresh(){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){st(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ua{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eR(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qV(this,e)}reload(){return YV(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ua(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qa(this,UV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,h,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:x,isAnonymous:k,providerData:O,stsTokenManager:N}=n;st(E&&N,e,"internal-error");const C=kd.fromJSON(this.name,N);st(typeof E=="string",e,"internal-error"),Ds(f,e.name),Ds(p,e.name),st(typeof x=="boolean",e,"internal-error"),st(typeof k=="boolean",e,"internal-error"),Ds(m,e.name),Ds(g,e.name),Ds(y,e.name),Ds(w,e.name),Ds(b,e.name),Ds(_,e.name);const D=new Ua({uid:E,auth:e,email:p,emailVerified:x,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:C,createdAt:b,lastLoginAt:_});return O&&Array.isArray(O)&&(D.providerData=O.map(P=>Object.assign({},P))),w&&(D._redirectEventId=w),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new kd;i.updateFromServerResponse(n);const o=new Ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xp(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;function Ho(t){es(t instanceof Function,"Expected a class definition");let e=g2.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tR.type="NONE";const v2=tR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e,n){return`firebase:${t}:${e}:${n}`}class su{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Sp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ua._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new su(Ho(v2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Ho(v2);const s=Sp(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const c=await h._get(s);if(c){const f=Ua._fromJSON(e,c);h!==o&&(a=f),o=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new su(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(s)}catch{}})),new su(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(aR(e))return"Webos";if(Cx(e))return"Safari";if((e.includes("chrome/")||rR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nR(t=Sr()){return/firefox\//i.test(t)}function Cx(t=Sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rR(t=Sr()){return/crios\//i.test(t)}function iR(t=Sr()){return/iemobile/i.test(t)}function oR(t=Sr()){return/android/i.test(t)}function sR(t=Sr()){return/blackberry/i.test(t)}function aR(t=Sr()){return/webos/i.test(t)}function og(t=Sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XV(t=Sr()){var e;return og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JV(){return gU()&&document.documentMode===10}function lR(t=Sr()){return og(t)||oR(t)||aR(t)||sR(t)||/windows phone/i.test(t)||iR(t)}function ZV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e=[]){let n;switch(t){case"Browser":n=y2(Sr());break;case"Worker":n=`${y2(Sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}async function cR(t,e){return aa(t,"GET","/v2/recaptchaConfig",gl(t,e))}function w2(t){return t!==void 0&&t.enterprise!==void 0}class dR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function fR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=bo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",e9().appendChild(r)})}function t9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const n9="https://www.google.com/recaptcha/enterprise.js?render=",r9="recaptcha-enterprise",i9="NO_RECAPTCHA";class hR{constructor(e){this.type=r9,this.auth=la(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{cR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new dR(l);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,s(h.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;w2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(h=>{s(h)}).catch(()=>{s(i9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&w2(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}fR(n9+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function bu(t,e,n,r=!1){const i=new hR(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b2(this),this.idTokenSubscription=new b2(this),this.beforeStateQueue=new o9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ho(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await su.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?It(e):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(e))})}async initializeRecaptchaConfig(){const e=await cR(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new dR(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new hR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ho(e)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await su.create(this,[Ho(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return st(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return It(t)}class b2{constructor(e){this.auth=e,this.observer=null,this.addObserver=xU(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){const n=sa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Gp(o,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function l9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ho);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u9(t,e,n){const r=la(t);st(r._canInitEmulator,r,"emulator-config-failed"),st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=pR(e),{host:s,port:a}=c9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),d9()}function pR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c9(t){const e=pR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:_2(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:_2(s)}}}function _2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qo("not implemented")}_getIdTokenResponse(e){return qo("not implemented")}_linkToIdToken(e,n){return qo("not implemented")}_getReauthenticationResolver(e){return qo("not implemented")}}async function mR(t,e){return aa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",gl(t,e))}async function f9(t,e){return aa(t,"POST","/v1/accounts:sendOobCode",gl(t,e))}async function C0(t,e){return f9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}async function p9(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Ox{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await bu(e,r,"signInWithPassword");return T0(e,i)}else return T0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await bu(e,r,"signInWithPassword");return T0(e,o)}else return Promise.reject(i)});case"emailLink":return h9(e,{email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return mR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return p9(e,{idToken:n,email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="http://localhost";class Xa extends Ox{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sx(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Xa(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return au(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,au(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,au(e,n)}buildRequest(){const e={requestUri:m9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v9(t){const e=Zc(ed(t)).link,n=e?Zc(ed(e)).deep_link_id:null,r=Zc(ed(t)).deep_link_id;return(r?Zc(ed(r)).link:null)||r||n||e||t}class Nx{constructor(e){var n,r,i,o,s,a;const l=Zc(ed(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=g9((i=l.mode)!==null&&i!==void 0?i:null);st(h&&c&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=v9(e);try{return new Nx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,n){return Td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nx.parseLink(n);return st(r,"argument-error"),Td._fromEmailAndCode(e,r.code,r.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends gR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends sf{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return js.credential(n,r)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends sf{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends sf{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t,e){return of(t,"POST","/v1/accounts:signUp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ua._fromIdTokenResponse(e,r,i),s=x2(r);return new ts({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x2(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t){var e;const n=la(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ts({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ep(n,{returnSecureToken:!0}),i=await ts._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends Oi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jp(e,n,r,i)}}function vR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jp._fromErrorAndOperation(t,o,e,r):o})}async function w9(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Qa(t,vR(r,i,e,t),n);st(o.idToken,r,"internal-error");const s=Tx(o.idToken);st(s,r,"internal-error");const{sub:a}=s;return st(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Wi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e,n=!1){const r="signIn",i=await vR(t,r,e),o=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function b9(t,e){return wR(la(t),e)}async function bR(t,e){return yR(It(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,e,n){var r;const i=la(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const s=await bu(i,o,"getOobCode",!0);await C0(i,s)}else await C0(i,o).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await bu(i,o,"getOobCode",!0);await C0(i,a)}else return Promise.reject(s)})}async function x9(t,e,n){var r;const i=la(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await bu(i,o,"signUpPassword");s=Ep(i,h)}else s=Ep(i,o).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await bu(i,o,"signUpPassword");return Ep(i,c)}else return Promise.reject(h)});const a=await s.catch(h=>Promise.reject(h)),l=await ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function S9(t,e,n){return b9(It(t),ua.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return aa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=It(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Qa(r,E9(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function k9(t,e){return T9(It(t),null,e)}async function T9(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const s=await Qa(t,mR(r,o));await t._updateTokensIfNecessary(s,!0)}function C9(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function O9(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function sg(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}async function N9(t){return It(t).delete()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(){const t=Sr();return Cx(t)||og(t)}const D9=1e3,I9=10;class xR extends _R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A9()&&ZV(),this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);JV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xR.type="LOCAL";const P9=xR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends _R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SR.type="SESSION";const ER=SR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ag(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async h=>h(n.origin,o)),l=await R9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ag.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const h=Ax("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){return window}function L9(t){_o().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof _o().WorkerGlobalScope<"u"&&typeof _o().importScripts=="function"}async function j9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $9(){return kR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebaseLocalStorageDb",B9=1,em="firebaseLocalStorage",CR="fbase_key";class af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lg(t,e){return t.transaction([em],e?"readwrite":"readonly").objectStore(em)}function U9(){const t=indexedDB.deleteDatabase(TR);return new af(t).toPromise()}function o_(){const t=indexedDB.open(TR,B9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(em,{keyPath:CR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(em)?e(r):(r.close(),await U9(),e(await o_()))})})}async function E2(t,e,n){const r=lg(t,!0).put({[CR]:e,value:n});return new af(r).toPromise()}async function V9(t,e){const n=lg(t,!1).get(e),r=await new af(n).toPromise();return r===void 0?null:r.value}function k2(t,e){const n=lg(t,!0).delete(e);return new af(n).toPromise()}const q9=800,H9=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ag._getInstance($9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j9(),!this.activeServiceWorker)return;this.sender=new M9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o_();return await E2(e,Zp,"1"),await k2(e,Zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>V9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=lg(i,!1).getAll();return new af(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const z9=OR;new rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return e?Ho(e):(st(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Ox{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y9(t){return wR(t.auth,new Dx(t),t.bypassAuthState)}function G9(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),yR(n,new Dx(t),t.bypassAuthState)}async function K9(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),w9(n,new Dx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return G9;default:Wi(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new rf(2e3,1e4);class ru extends NR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q9.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="pendingRedirect",kp=new Map;class J9 extends NR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kp.get(this.auth._key());if(!e){try{const r=await Z9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kp.set(this.auth._key(),e)}return this.bypassAuthState||kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z9(t,e){const n=n8(e),r=t8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e8(t,e){kp.set(t._key(),e)}function t8(t){return Ho(t._redirectPersistence)}function n8(t){return Sp(X9,t.config.apiKey,t.name)}async function r8(t,e,n=!1){const r=la(t),i=W9(r,e),s=await new J9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=10*60*1e3;class o8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i8&&this.cachedEventUids.clear(),this.cachedEventUids.has(T2(e))}saveEventToCache(e){this.cachedEventUids.add(T2(e)),this.lastProcessedEventTime=Date.now()}}function T2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e={}){return aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u8=/^https?/;async function c8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a8(t);for(const n of e)try{if(d8(n))return}catch{}Wi(t,"unauthorized-domain")}function d8(t){const e=i_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!u8.test(n))return!1;if(l8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new rf(3e4,6e4);function C2(){const t=_o().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h8(t){return new Promise((e,n)=>{var r,i,o;function s(){C2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C2(),n(bo(t,"network-request-failed"))},timeout:f8.get()})}if(!((i=(r=_o().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_o().gapi)===null||o===void 0)&&o.load)s();else{const a=t9("iframefcb");return _o()[a]=()=>{gapi.load?s():n(bo(t,"network-request-failed"))},fR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Tp=null,e})}let Tp=null;function p8(t){return Tp=Tp||h8(t),Tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new rf(5e3,15e3),g8="__/auth/iframe",v8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b8(t){const e=t.config;st(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kx(e,v8):`https://${t.config.authDomain}/${g8}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=w8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${tf(r).slice(1)}`}async function _8(t){const e=await p8(t),n=_o().gapi;return st(n,t,"internal-error"),e.open({where:document.body,url:b8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=bo(t,"network-request-failed"),a=_o().setTimeout(()=>{o(s)},m8.get());function l(){_o().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S8=500,E8=600,k8="_blank",T8="http://localhost";class O2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C8(t,e,n,r=S8,i=E8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},x8),{width:r.toString(),height:i.toString(),top:o,left:s}),h=Sr().toLowerCase();n&&(a=rR(h)?k8:n),nR(h)&&(e=e||T8,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(XV(h)&&a!=="_self")return O8(e||"",a),new O2(null);const f=window.open(e||"",a,c);st(f,t,"popup-blocked");try{f.focus()}catch{}return new O2(f)}function O8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="__/auth/handler",A8="emulator/auth/handler",D8=encodeURIComponent("fac");async function N2(t,e,n,r,i,o){st(t.config.authDomain,t,"auth-domain-config-required"),st(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof gR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_U(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof sf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),h=l?`#${D8}=${encodeURIComponent(l)}`:"";return`${I8(t)}?${tf(a).slice(1)}${h}`}function I8({config:t}){return t.emulator?kx(t,A8):`https://${t.authDomain}/${N8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="webStorageSupport";class P8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ER,this._completeRedirectFn=r8,this._overrideRedirectResult=e8}async _openPopup(e,n,r,i){var o;es((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await N2(e,n,r,i_(),i);return C8(e,s,Ax())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await N2(e,n,r,i_(),i);return L9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _8(e),r=new o8(e);return n.register("authEvent",i=>(st(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O0,{type:O0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[O0];s!==void 0&&n(!!s),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lR()||Cx()||og()}}const R8=P8;var A2="@firebase/auth",D2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function j8(t){Ti(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;st(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uR(t)},h=new s9(r,i,o,l);return l9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new fi("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new M8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(A2,D2,L8(t)),wr(A2,D2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=5*60,$8=BP("authIdTokenMaxAge")||F8;let I2=null;const B8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$8)return;const i=n==null?void 0:n.token;I2!==i&&(I2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ug(t=nf()){const e=sa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a9(t,{popupRedirectResolver:R8,persistence:[z9,P9,ER]}),r=BP("authTokenSyncURL");if(r){const o=B8(r);O9(n,o,()=>o(n.currentUser)),C9(n,s=>o(s))}const i=FP("auth");return i&&u9(n,`http://${i}`),n}j8("Browser");var U8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe,Ix=Ix||{},lt=U8||self;function cg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function dg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function V8(t,e,n){return t.call.apply(t.bind,arguments)}function q8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function br(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?br=V8:br=q8,br.apply(null,arguments)}function zh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ca(){this.s=this.s,this.o=this.o}var H8=0;ca.prototype.s=!1;ca.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),H8!=0)};ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Px(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function P2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cg(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function _r(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var z8=function(){if(!lt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{lt.addEventListener("test",()=>{},e),lt.removeEventListener("test",()=>{},e)}catch{}return t}();function Cd(t){return/^[\s\xa0]*$/.test(t)}function fg(){var t=lt.navigator;return t&&(t=t.userAgent)?t:""}function uo(t){return fg().indexOf(t)!=-1}function Rx(t){return Rx[" "](t),t}Rx[" "]=function(){};function W8(t,e){var n=$q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Y8=uo("Opera"),_u=uo("Trident")||uo("MSIE"),IR=uo("Edge"),s_=IR||_u,PR=uo("Gecko")&&!(fg().toLowerCase().indexOf("webkit")!=-1&&!uo("Edge"))&&!(uo("Trident")||uo("MSIE"))&&!uo("Edge"),G8=fg().toLowerCase().indexOf("webkit")!=-1&&!uo("Edge");function RR(){var t=lt.document;return t?t.documentMode:void 0}var a_;e:{var N0="",A0=function(){var t=fg();if(PR)return/rv:([^\);]+)(\)|;)/.exec(t);if(IR)return/Edge\/([\d\.]+)/.exec(t);if(_u)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(G8)return/WebKit\/(\S+)/.exec(t);if(Y8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(A0&&(N0=A0?A0[1]:""),_u){var D0=RR();if(D0!=null&&D0>parseFloat(N0)){a_=String(D0);break e}}a_=N0}var l_;if(lt.document&&_u){var R2=RR();l_=R2||parseInt(a_,10)||void 0}else l_=void 0;var K8=l_;function Od(t,e){if(_r.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PR){e:{try{Rx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Q8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Od.$.h.call(this)}}Kn(Od,_r);var Q8={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hg="closure_listenable_"+(1e6*Math.random()|0),X8=0;function J8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++X8,this.fa=this.ia=!1}function pg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mx(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Z8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function MR(t){const e={};for(const n in t)e[n]=t[n];return e}const M2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<M2.length;o++)n=M2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mg(t){this.src=t,this.g={},this.h=0}mg.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=c_(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new J8(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function u_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DR(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(pg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function c_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Lx="closure_lm_"+(1e6*Math.random()|0),I0={};function jR(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)jR(t,e[o],n,r,i);return null}return n=BR(n),t&&t[hg]?t.O(e,n,dg(r)?!!r.capture:!1,i):eq(t,e,n,!1,r,i)}function eq(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=dg(i)?!!i.capture:!!i,a=Fx(t);if(a||(t[Lx]=a=new mg(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=tq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)z8||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($R(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tq(){function t(n){return e.call(t.src,t.listener,n)}const e=nq;return t}function FR(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)FR(t,e[o],n,r,i);else r=dg(r)?!!r.capture:!!r,n=BR(n),t&&t[hg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=c_(o,n,r,i),-1<n&&(pg(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fx(t))&&(e=t.g[e.toString()],t=-1,e&&(t=c_(e,n,r,i)),(n=-1<t?e[t]:null)&&jx(n))}function jx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[hg])u_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($R(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fx(e))?(u_(n,t),n.h==0&&(n.src=null,e[Lx]=null)):pg(t)}}}function $R(t){return t in I0?I0[t]:I0[t]="on"+t}function nq(t,e){if(t.fa)t=!0;else{e=new Od(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jx(t),t=n.call(r,e)}return t}function Fx(t){return t=t[Lx],t instanceof mg?t:null}var P0="__closure_events_fn_"+(1e9*Math.random()>>>0);function BR(t){return typeof t=="function"?t:(t[P0]||(t[P0]=function(e){return t.handleEvent(e)}),t[P0])}function Gn(){ca.call(this),this.i=new mg(this),this.S=this,this.J=null}Kn(Gn,ca);Gn.prototype[hg]=!0;Gn.prototype.removeEventListener=function(t,e,n,r){FR(this,t,e,n,r)};function sr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new _r(e,t);else if(e instanceof _r)e.target=e.target||t;else{var i=e;e=new _r(r,t),LR(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Wh(s,r,!0,e)&&i}if(s=e.g=t,i=Wh(s,r,!0,e)&&i,i=Wh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Wh(s,r,!1,e)&&i}Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pg(n[r]);delete t.g[e],t.h--}}this.J=null};Gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&u_(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var $x=lt.JSON.stringify;class rq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function iq(){var t=Bx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oq{constructor(){this.h=this.g=null}add(e,n){const r=UR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var UR=new rq(()=>new sq,t=>t.reset());class sq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lq(t){lt.setTimeout(()=>{throw t},0)}let Nd,Ad=!1,Bx=new oq,VR=()=>{const t=lt.Promise.resolve(void 0);Nd=()=>{t.then(uq)}};var uq=()=>{for(var t;t=iq();){try{t.h.call(t.g)}catch(n){lq(n)}var e=UR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ad=!1};function gg(t,e){Gn.call(this),this.h=t||1,this.g=e||lt,this.j=br(this.qb,this),this.l=Date.now()}Kn(gg,Gn);Oe=gg.prototype;Oe.ga=!1;Oe.T=null;Oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sr(this,"tick"),this.ga&&(Ux(this),this.start()))}};Oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ux(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Oe.N=function(){gg.$.N.call(this),Ux(this),delete this.g};function Vx(t,e,n){if(typeof t=="function")n&&(t=br(t,n));else if(t&&typeof t.handleEvent=="function")t=br(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:lt.setTimeout(t,e||0)}function qR(t){t.g=Vx(()=>{t.g=null,t.i&&(t.i=!1,qR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class cq extends ca{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qR(this)}N(){super.N(),this.g&&(lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dd(t){ca.call(this),this.h=t,this.g={}}Kn(Dd,ca);var L2=[];function HR(t,e,n,r){Array.isArray(n)||(n&&(L2[0]=n.toString()),n=L2);for(var i=0;i<n.length;i++){var o=jR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function zR(t){Mx(t.g,function(e,n){this.g.hasOwnProperty(n)&&jx(e)},t),t.g={}}Dd.prototype.N=function(){Dd.$.N.call(this),zR(this)};Dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vg(){this.g=!0}vg.prototype.Ea=function(){this.g=!1};function dq(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+h+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function fq(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function iu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+pq(t,n)+(r?" "+r:"")})}function hq(t,e){t.info(function(){return"TIMEOUT: "+e})}vg.prototype.info=function(){};function pq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return $x(n)}catch{return e}}var vl={},j2=null;function yg(){return j2=j2||new Gn}vl.Ta="serverreachability";function WR(t){_r.call(this,vl.Ta,t)}Kn(WR,_r);function Id(t){const e=yg();sr(e,new WR(e))}vl.STAT_EVENT="statevent";function YR(t,e){_r.call(this,vl.STAT_EVENT,t),this.stat=e}Kn(YR,_r);function Pr(t){const e=yg();sr(e,new YR(e,t))}vl.Ua="timingevent";function GR(t,e){_r.call(this,vl.Ua,t),this.size=e}Kn(GR,_r);function lf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return lt.setTimeout(function(){t()},e)}var wg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qx(){}qx.prototype.h=null;function F2(t){return t.h||(t.h=t.i())}function QR(){}var uf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hx(){_r.call(this,"d")}Kn(Hx,_r);function zx(){_r.call(this,"c")}Kn(zx,_r);var d_;function bg(){}Kn(bg,qx);bg.prototype.g=function(){return new XMLHttpRequest};bg.prototype.i=function(){return{}};d_=new bg;function cf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Dd(this),this.P=mq,t=s_?125:void 0,this.V=new gg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XR}function XR(){this.i=null,this.g="",this.h=!1}var mq=45e3,f_={},tm={};Oe=cf.prototype;Oe.setTimeout=function(t){this.P=t};function h_(t,e,n){t.L=1,t.v=xg(ns(e)),t.s=n,t.S=!0,JR(t,null)}function JR(t,e){t.G=Date.now(),df(t),t.A=ns(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),sM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new XR,t.g=CM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cq(br(t.Pa,t,t.g),t.O)),HR(t.U,t.g,"readystatechange",t.nb),e=t.I?MR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Id(),dq(t.j,t.u,t.A,t.m,t.W,t.s)}Oe.nb=function(t){t=t.target;const e=this.M;e&&mo(t)==3?e.l():this.Pa(t)};Oe.Pa=function(t){try{if(t==this.g)e:{const c=mo(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||s_||this.g&&(this.h.h||this.g.ja()||V2(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Id(3):Id(2)),_g(this);var n=this.g.da();this.ca=n;t:if(ZR(this)){var r=V2(this.g);t="";var i=r.length,o=mo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ma(this),hd(this);var s="";break t}this.h.i=new lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,fq(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cd(a)){var h=a;break t}}h=null}if(n=h)iu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p_(this,n);else{this.i=!1,this.o=3,Pr(12),Ma(this),hd(this);break e}}this.S?(eM(this,c,s),s_&&this.i&&c==3&&(HR(this.U,this.V,"tick",this.mb),this.V.start())):(iu(this.j,this.m,s,null),p_(this,s)),c==4&&Ma(this),this.i&&!this.J&&(c==4?SM(this.l,this):(this.i=!1,df(this)))}else Lq(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Ma(this),hd(this)}}}catch{}finally{}};function ZR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function eM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=gq(t,n),i==tm){e==4&&(t.o=4,Pr(14),r=!1),iu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==f_){t.o=4,Pr(15),iu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else iu(t.j,t.m,i,null),p_(t,i);ZR(t)&&i!=tm&&i!=f_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xx(e),e.M=!0,Pr(11))):(iu(t.j,t.m,n,"[Invalid Chunked Response]"),Ma(t),hd(t))}Oe.mb=function(){if(this.g){var t=mo(this.g),e=this.g.ja();this.C<e.length&&(_g(this),eM(this,t,e),this.i&&t!=4&&df(this))}};function gq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?tm:(n=Number(e.substring(n,r)),isNaN(n)?f_:(r+=1,r+n>e.length?tm:(e=e.slice(r,r+n),t.C=r+n,e)))}Oe.cancel=function(){this.J=!0,Ma(this)};function df(t){t.Y=Date.now()+t.P,tM(t,t.P)}function tM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=lf(br(t.lb,t),e)}function _g(t){t.B&&(lt.clearTimeout(t.B),t.B=null)}Oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(hq(this.j,this.A),this.L!=2&&(Id(),Pr(17)),Ma(this),this.o=2,hd(this)):tM(this,this.Y-t)};function hd(t){t.l.H==0||t.J||SM(t.l,t)}function Ma(t){_g(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ux(t.V),zR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function p_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||m_(n.i,t))){if(!t.K&&m_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)im(n),kg(n);else break e;Qx(n),Pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=lf(br(n.ib,n),6e3));if(1>=uM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else La(n,11)}else if((t.K||n.g==t)&&im(n),!Cd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const c=h[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=h[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=h[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Wx(o,o.h),o.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,tn(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=TM(r,r.J?r.pa:null,r.Y),s.K){cM(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(_g(a),df(a)),r.g=s}else _M(r);0<n.j.length&&Tg(n)}else h[0]!="stop"&&h[0]!="close"||La(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?La(n,7):Kx(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Id(4)}catch{}}function vq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(cg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function yq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(cg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=yq(t),r=vq(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var rM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Va(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Va){this.h=t.h,nm(this,t.j),this.s=t.s,this.g=t.g,rm(this,t.m),this.l=t.l;var e=t.i,n=new Pd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$2(this,n),this.o=t.o}else t&&(e=String(t).match(rM))?(this.h=!1,nm(this,e[1]||"",!0),this.s=td(e[2]||""),this.g=td(e[3]||"",!0),rm(this,e[4]),this.l=td(e[5]||"",!0),$2(this,e[6]||"",!0),this.o=td(e[7]||"")):(this.h=!1,this.i=new Pd(null,this.h))}Va.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nd(e,B2,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(nd(e,B2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(nd(n,n.charAt(0)=="/"?xq:_q,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nd(n,Eq)),t.join("")};function ns(t){return new Va(t)}function nm(t,e,n){t.j=n?td(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $2(t,e,n){e instanceof Pd?(t.i=e,kq(t.i,t.h)):(n||(e=nd(e,Sq)),t.i=new Pd(e,t.h))}function tn(t,e,n){t.i.set(e,n)}function xg(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function td(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var B2=/[#\/\?@]/g,_q=/[#\?:]/g,xq=/[#\?]/g,Sq=/[#\?@]/g,Eq=/#/g;function Pd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function da(t){t.g||(t.g=new Map,t.h=0,t.i&&wq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Oe=Pd.prototype;Oe.add=function(t,e){da(this),this.i=null,t=qu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iM(t,e){da(t),e=qu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oM(t,e){return da(t),e=qu(t,e),t.g.has(e)}Oe.forEach=function(t,e){da(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Oe.ta=function(){da(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Oe.Z=function(t){da(this);let e=[];if(typeof t=="string")oM(this,t)&&(e=e.concat(this.g.get(qu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Oe.set=function(t,e){return da(this),this.i=null,t=qu(this,t),oM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sM(t,e,n){iM(t,e),0<n.length&&(t.i=null,t.g.set(qu(t,e),Px(n)),t.h+=n.length)}Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function qu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kq(t,e){e&&!t.j&&(da(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iM(this,r),sM(this,i,n))},t)),t.j=e}var Tq=class{constructor(t,e){this.g=t,this.map=e}};function aM(t){this.l=t||Cq,lt.PerformanceNavigationTiming?(t=lt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(lt.g&&lt.g.Ka&&lt.g.Ka()&&lt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cq=10;function lM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function uM(t){return t.h?1:t.g?t.g.size:0}function m_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wx(t,e){t.g?t.g.add(e):t.h=e}function cM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aM.prototype.cancel=function(){if(this.i=dM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Px(t.i)}var Oq=class{stringify(t){return lt.JSON.stringify(t,void 0)}parse(t){return lt.JSON.parse(t,void 0)}};function Nq(){this.g=new Oq}function Aq(t,e,n){const r=n||"";try{nM(t,function(i,o){let s=i;dg(i)&&(s=$x(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dq(t,e){const n=new vg;if(lt.Image){const r=new Image;r.onload=zh(Yh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zh(Yh,n,r,"TestLoadImage: error",!1,e),r.onabort=zh(Yh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zh(Yh,n,r,"TestLoadImage: timeout",!1,e),lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ff(t){this.l=t.fc||null,this.j=t.ob||!1}Kn(ff,qx);ff.prototype.g=function(){return new Sg(this.l,this.j)};ff.prototype.i=function(t){return function(){return t}}({});function Sg(t,e){Gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kn(Sg,Gn);var Yx=0;Oe=Sg.prototype;Oe.open=function(t,e){if(this.readyState!=Yx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Rd(this)};Oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hf(this)),this.readyState=Yx};Oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rd(this)),this.g&&(this.readyState=3,Rd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof lt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hf(this):Rd(this),this.readyState==3&&fM(this)}};Oe.Za=function(t){this.g&&(this.response=this.responseText=t,hf(this))};Oe.Ya=function(t){this.g&&(this.response=t,hf(this))};Oe.ka=function(){this.g&&hf(this)};function hf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Rd(t)}Oe.setRequestHeader=function(t,e){this.v.append(t,e)};Oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Rd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Iq=lt.JSON.parse;function wn(t){Gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hM,this.L=this.M=!1}Kn(wn,Gn);var hM="",Pq=/^https?$/i,Rq=["POST","PUT"];Oe=wn.prototype;Oe.Oa=function(t){this.M=t};Oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():d_.g(),this.C=this.u?F2(this.u):F2(d_),this.g.onreadystatechange=br(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){U2(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=lt.FormData&&t instanceof lt.FormData,!(0<=DR(Rq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gM(this),0<this.B&&((this.L=Mq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.ua,this)):this.A=Vx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){U2(this,o)}};function Mq(t){return _u&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Oe.ua=function(){typeof Ix<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sr(this,"timeout"),this.abort(8))};function U2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pM(t),Eg(t)}function pM(t){t.F||(t.F=!0,sr(t,"complete"),sr(t,"error"))}Oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sr(this,"complete"),sr(this,"abort"),Eg(this))};Oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eg(this,!0)),wn.$.N.call(this)};Oe.La=function(){this.s||(this.G||this.v||this.l?mM(this):this.kb())};Oe.kb=function(){mM(this)};function mM(t){if(t.h&&typeof Ix<"u"&&(!t.C[1]||mo(t)!=4||t.da()!=2)){if(t.v&&mo(t)==4)Vx(t.La,0,t);else if(sr(t,"readystatechange"),mo(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(rM)[1]||null;!i&&lt.self&&lt.self.location&&(i=lt.self.location.protocol.slice(0,-1)),r=!Pq.test(i?i.toLowerCase():"")}n=r}if(n)sr(t,"complete"),sr(t,"success");else{t.m=6;try{var o=2<mo(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",pM(t)}}finally{Eg(t)}}}}function Eg(t,e){if(t.g){gM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sr(t,"ready");try{n.onreadystatechange=r}catch{}}}function gM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(lt.clearTimeout(t.A),t.A=null)}Oe.isActive=function(){return!!this.g};function mo(t){return t.g?t.g.readyState:0}Oe.da=function(){try{return 2<mo(this)?this.g.status:-1}catch{return-1}};Oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Iq(e)}};function V2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Lq(t){const e={};t=(t.g&&2<=mo(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Cd(t[r]))continue;var n=aq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}Z8(e,function(r){return r.join(", ")})}Oe.Ia=function(){return this.m};Oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vM(t){let e="";return Mx(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tn(t,e,n))}function $c(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yM(t){this.Ga=0,this.j=[],this.l=new vg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$c("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$c("baseRetryDelayMs",5e3,t),this.hb=$c("retryDelaySeedMs",1e4,t),this.eb=$c("forwardChannelMaxRetries",2,t),this.xa=$c("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aM(t&&t.concurrentRequestLimit),this.Ja=new Nq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Oe=yM.prototype;Oe.ra=8;Oe.H=1;function Kx(t){if(wM(t),t.H==3){var e=t.W++,n=ns(t.I);if(tn(n,"SID",t.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),pf(t,n),e=new cf(t,t.l,e),e.L=2,e.v=xg(ns(n)),n=!1,lt.navigator&&lt.navigator.sendBeacon)try{n=lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&lt.Image&&(new Image().src=e.v,n=!0),n||(e.g=CM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),df(e)}kM(t)}function kg(t){t.g&&(Xx(t),t.g.cancel(),t.g=null)}function wM(t){kg(t),t.u&&(lt.clearTimeout(t.u),t.u=null),im(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&lt.clearTimeout(t.m),t.m=null)}function Tg(t){if(!lM(t.i)&&!t.m){t.m=!0;var e=t.Na;Nd||VR(),Ad||(Nd(),Ad=!0),Bx.add(e,t),t.C=0}}function jq(t,e){return uM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=lf(br(t.Na,t,e),EM(t,t.C)),t.C++,!0)}Oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new cf(this,this.l,t);let o=this.s;if(this.U&&(o?(o=MR(o),LR(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bM(this,i,e),n=ns(this.I),tn(n,"RID",t),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),pf(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(vM(o)))+"&"+e:this.o&&Gx(n,this.o,o)),Wx(this.i,i),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),i.aa=!0,h_(i,n,null)):h_(i,n,e),this.H=2}}else this.H==3&&(t?q2(this,t):this.j.length==0||lM(this.i)||q2(this))};function q2(t,e){var n;e?n=e.m:n=t.W++;const r=ns(t.I);tn(r,"SID",t.K),tn(r,"RID",n),tn(r,"AID",t.V),pf(t,r),t.o&&t.s&&Gx(r,t.o,t.s),n=new cf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Wx(t.i,n),h_(n,r,e)}function pf(t,e){t.na&&Mx(t.na,function(n,r){tn(e,r,n)}),t.h&&nM({},function(n,r){tn(e,r,n)})}function bM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?br(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let h=i[l].g;const c=i[l].map;if(h-=o,0>h)o=Math.max(0,i[l].g-100),a=!1;else try{Aq(c,s,"req"+h+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _M(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Nd||VR(),Ad||(Nd(),Ad=!0),Bx.add(e,t),t.A=0}}function Qx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=lf(br(t.Ma,t),EM(t,t.A)),t.A++,!0)}Oe.Ma=function(){if(this.u=null,xM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=lf(br(this.jb,this),t)}};Oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pr(10),kg(this),xM(this))};function Xx(t){t.B!=null&&(lt.clearTimeout(t.B),t.B=null)}function xM(t){t.g=new cf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ns(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),pf(t,e),t.o&&t.s&&Gx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=xg(ns(e)),n.s=null,n.S=!0,JR(n,t)}Oe.ib=function(){this.v!=null&&(this.v=null,kg(this),Qx(this),Pr(19))};function im(t){t.v!=null&&(lt.clearTimeout(t.v),t.v=null)}function SM(t,e){var n=null;if(t.g==e){im(t),Xx(t),t.g=null;var r=2}else if(m_(t.i,e))n=e.F,cM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=yg(),sr(r,new GR(r,n)),Tg(t)}else _M(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&jq(t,e)||r==2&&Qx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:La(t,5);break;case 4:La(t,10);break;case 3:La(t,6);break;default:La(t,2)}}}function EM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function La(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=br(t.pb,t);n||(n=new Va("//www.google.com/images/cleardot.gif"),lt.location&&lt.location.protocol=="http"||nm(n,"https"),xg(n)),Dq(n.toString(),r)}else Pr(2);t.H=0,t.h&&t.h.za(e),kM(t),wM(t)}Oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pr(2)):(this.l.info("Failed to ping google.com"),Pr(1))};function kM(t){if(t.H=0,t.ma=[],t.h){const e=dM(t.i);(e.length!=0||t.j.length!=0)&&(P2(t.ma,e),P2(t.ma,t.j),t.i.i.length=0,Px(t.j),t.j.length=0),t.h.ya()}}function TM(t,e,n){var r=n instanceof Va?ns(n):new Va(n);if(r.g!="")e&&(r.g=e+"."+r.g),rm(r,r.m);else{var i=lt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Va(null);r&&nm(o,r),e&&(o.g=e),i&&rm(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&tn(r,n,e),tn(r,"VER",t.ra),pf(t,r),r}function CM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new wn(new ff({ob:!0})):new wn(t.va),e.Oa(t.J),e}Oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function OM(){}Oe=OM.prototype;Oe.Ba=function(){};Oe.Aa=function(){};Oe.za=function(){};Oe.ya=function(){};Oe.isActive=function(){return!0};Oe.Va=function(){};function om(){if(_u&&!(10<=Number(K8)))throw Error("Environmental error: no available transport.")}om.prototype.g=function(t,e){return new hi(t,e)};function hi(t,e){Gn.call(this),this.g=new yM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Hu(this)}Kn(hi,Gn);hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TM(t,null,t.Y),Tg(t)};hi.prototype.close=function(){Kx(this.g)};hi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$x(t),t=n);e.j.push(new Tq(e.fb++,t)),e.H==3&&Tg(e)};hi.prototype.N=function(){this.g.h=null,delete this.j,Kx(this.g),delete this.g,hi.$.N.call(this)};function NM(t){Hx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kn(NM,Hx);function AM(){zx.call(this),this.status=1}Kn(AM,zx);function Hu(t){this.g=t}Kn(Hu,OM);Hu.prototype.Ba=function(){sr(this.g,"a")};Hu.prototype.Aa=function(t){sr(this.g,new NM(t))};Hu.prototype.za=function(t){sr(this.g,new AM)};Hu.prototype.ya=function(){sr(this.g,"b")};function Fq(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kn(Yi,Fq);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function R0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)R0(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){R0(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){R0(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var $q={};function Jx(t){return-128<=t&&128>t?W8(t,function(e){return new Vt([e|0],0>e?-1:0)}):new Vt([t|0],0>t?-1:0)}function go(t){if(isNaN(t)||!isFinite(t))return lu;if(0>t)return ir(go(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=g_;return new Vt(e,0)}function DM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ir(DM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=go(Math.pow(e,8)),r=lu,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=go(Math.pow(e,o)),r=r.R(o).add(go(s))):(r=r.R(n),r=r.add(go(s)))}return r}var g_=4294967296,lu=Jx(0),v_=Jx(1),H2=Jx(16777216);Oe=Vt.prototype;Oe.ea=function(){if(Ei(this))return-ir(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:g_+r)*e,e*=g_}return t};Oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zo(this))return"0";if(Ei(this))return"-"+ir(this).toString(t);for(var e=go(Math.pow(t,6)),n=this,r="";;){var i=am(n,e).g;n=sm(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zo(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zo(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ei(t){return t.h==-1}Oe.X=function(t){return t=sm(this,t),Ei(t)?-1:zo(t)?0:1};function ir(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Vt(n,~t.h).add(v_)}Oe.abs=function(){return Ei(this)?ir(this):this};Oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Vt(n,n[n.length-1]&-2147483648?-1:0)};function sm(t,e){return t.add(ir(e))}Oe.R=function(t){if(zo(this)||zo(t))return lu;if(Ei(this))return Ei(t)?ir(this).R(ir(t)):ir(ir(this).R(t));if(Ei(t))return ir(this.R(ir(t)));if(0>this.X(H2)&&0>t.X(H2))return go(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Gh(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Gh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Gh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Gh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Vt(n,0)};function Gh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bc(t,e){this.g=t,this.h=e}function am(t,e){if(zo(e))throw Error("division by zero");if(zo(t))return new Bc(lu,lu);if(Ei(t))return e=am(ir(t),e),new Bc(ir(e.g),ir(e.h));if(Ei(e))return e=am(t,ir(e)),new Bc(ir(e.g),e.h);if(30<t.g.length){if(Ei(t)||Ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=v_,r=e;0>=r.X(t);)n=z2(n),r=z2(r);var i=Gl(n,1),o=Gl(r,1);for(r=Gl(r,2),n=Gl(n,2);!zo(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Gl(r,1),n=Gl(n,1)}return e=sm(t,i.R(e)),new Bc(i,e)}for(i=lu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=go(n),s=o.R(e);Ei(s)||0<s.X(t);)n-=r,o=go(n),s=o.R(e);zo(o)&&(o=v_),i=i.add(o),t=sm(t,s)}return new Bc(i,t)}Oe.gb=function(t){return am(this,t).h};Oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Vt(n,this.h&t.h)};Oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Vt(n,this.h|t.h)};Oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Vt(n,this.h^t.h)};function z2(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Vt(n,t.h)}function Gl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Vt(i,t.h)}om.prototype.createWebChannel=om.prototype.g;hi.prototype.send=hi.prototype.u;hi.prototype.open=hi.prototype.m;hi.prototype.close=hi.prototype.close;wg.NO_ERROR=0;wg.TIMEOUT=8;wg.HTTP_ERROR=6;KR.COMPLETE="complete";QR.EventType=uf;uf.OPEN="a";uf.CLOSE="b";uf.ERROR="c";uf.MESSAGE="d";Gn.prototype.listen=Gn.prototype.O;wn.prototype.listenOnce=wn.prototype.P;wn.prototype.getLastError=wn.prototype.Sa;wn.prototype.getLastErrorCode=wn.prototype.Ia;wn.prototype.getStatus=wn.prototype.da;wn.prototype.getResponseJson=wn.prototype.Wa;wn.prototype.getResponseText=wn.prototype.ja;wn.prototype.send=wn.prototype.ha;wn.prototype.setWithCredentials=wn.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;Vt.prototype.add=Vt.prototype.add;Vt.prototype.multiply=Vt.prototype.R;Vt.prototype.modulo=Vt.prototype.gb;Vt.prototype.compare=Vt.prototype.X;Vt.prototype.toNumber=Vt.prototype.ea;Vt.prototype.toString=Vt.prototype.toString;Vt.prototype.getBits=Vt.prototype.D;Vt.fromNumber=go;Vt.fromString=DM;var Bq=function(){return new om},Uq=function(){return yg()},M0=wg,Vq=KR,qq=vl,W2={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hq=ff,Kh=QR,zq=wn,Wq=Yi,uu=Vt;const Y2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new _x("@firebase/firestore");function G2(){return Ja.logLevel}function We(t,...e){if(Ja.logLevel<=Tt.DEBUG){const n=e.map(Zx);Ja.debug(`Firestore (${zu}): ${t}`,...n)}}function rs(t,...e){if(Ja.logLevel<=Tt.ERROR){const n=e.map(Zx);Ja.error(`Firestore (${zu}): ${t}`,...n)}}function xu(t,...e){if(Ja.logLevel<=Tt.WARN){const n=e.map(Zx);Ja.warn(`Firestore (${zu}): ${t}`,...n)}}function Zx(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+t;throw rs(e),new Error(e)}function sn(t,e){t||at()}function mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}let Gq=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class Kq{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn(typeof r.accessToken=="string"),new IM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sn(e===null||typeof e=="string"),new gr(e)}}class Qq{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xq{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Qq(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zq{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,We("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(sn(typeof n.token=="string"),this.T=n.token,new Jq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Dt(t,e){return t<e?-1:t>e?1:0}function Su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new Un(0,0))}static max(){return new ct(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){n===void 0?n=0:n>e.length&&at(),r===void 0?r=e.length-n:r>e.length-n&&at(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends Md{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const tH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Md{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return tH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new je(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new je(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(nn.fromString(e))}static fromName(e){return new Ke(nn.fromString(e).popFirst(5))}static empty(){return new Ke(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new nn(e.slice()))}}function nH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(r===1e9?new Un(n+1,0):new Un(n,r));return new Xs(i,Ke.empty(),e)}function rH(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(ct.min(),Ke.empty(),-1)}static max(){return new Xs(ct.max(),Ke.empty(),-1)}}function iH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:Dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==oH)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const h=l;n(e[h]).next(c=>{s[h]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Se((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function gf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}eS.ct=-1;function Cg(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function aH(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qh(this.root,e,this.comparator,!0)}}class Qh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??nr.RED,this.left=i??nr.EMPTY,this.right=o??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new nr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(t,e,n,r,i){return this}insert(t,e,n){return new nr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q2(this.data.getIterator())}getIteratorFrom(e){return new Q2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xr(this.comparator);return n.data=e,n}}class Q2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new li([])}unionWith(e){let n=new xr(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MM("Invalid base64 string: "+i):i}}(e);return new Er(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const lH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(sn(!!t),typeof t=="string"){let e=0;const n=lH.exec(t);if(sn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Za(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nS(t){const e=t.mapValue.fields.__previous_value__;return tS(e)?nS(e):e}function Ld(t){const e=Js(t.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n,r,i,o,s,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class jd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh={mapValue:{}};function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tS(t)?4:cH(t)?9007199254740991:10:at()}function Co(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ld(t).isEqual(Ld(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Js(r.timestampValue),s=Js(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Za(r.bytesValue).isEqual(Za(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pn(r.geoPointValue.latitude)===Pn(i.geoPointValue.latitude)&&Pn(r.geoPointValue.longitude)===Pn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pn(r.integerValue)===Pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Pn(r.doubleValue),s=Pn(i.doubleValue);return o===s?lm(o)===lm(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(K2(o)!==K2(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Co(o[a],s[a])))return!1;return!0}(t,e);default:return at()}}function Fd(t,e){return(t.values||[]).find(n=>Co(n,e))!==void 0}function Eu(t,e){if(t===e)return 0;const n=el(t),r=el(e);if(n!==r)return Dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Pn(i.integerValue||i.doubleValue),a=Pn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return X2(t.timestampValue,e.timestampValue);case 4:return X2(Ld(t),Ld(e));case 5:return Dt(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Za(i),a=Za(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const h=Dt(s[l],a[l]);if(h!==0)return h}return Dt(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Dt(Pn(i.latitude),Pn(o.latitude));return s!==0?s:Dt(Pn(i.longitude),Pn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const h=Eu(s[l],a[l]);if(h)return h}return Dt(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Xh.mapValue&&o===Xh.mapValue)return 0;if(i===Xh.mapValue)return 1;if(o===Xh.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let c=0;c<a.length&&c<h.length;++c){const f=Dt(a[c],h[c]);if(f!==0)return f;const p=Eu(s[a[c]],l[h[c]]);if(p!==0)return p}return Dt(a.length,h.length)}(t.mapValue,e.mapValue);default:throw at()}}function X2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dt(t,e);const n=Js(t),r=Js(e),i=Dt(n.seconds,r.seconds);return i!==0?i:Dt(n.nanos,r.nanos)}function ku(t){return y_(t)}function y_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Js(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Za(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ke.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=y_(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${y_(r.fields[a])}`;return o+"}"}(t.mapValue):at();var e,n}function J2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function w_(t){return!!t&&"integerValue"in t}function rS(t){return!!t&&"arrayValue"in t}function Z2(t){return!!t&&"nullValue"in t}function eO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cp(t){return!!t&&"mapValue"in t}function pd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pd(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Kr(pd(this.value))}}function LM(t){const e=[];return yl(t.fields,(n,r)=>{const i=new yr([n]);if(Cp(r)){const o=LM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new vr(e,0,ct.min(),ct.min(),ct.min(),Kr.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,ct.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,ct.min(),ct.min(),Kr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,ct.min(),ct.min(),Kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.position=e,this.inclusive=n}}function tO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ke.comparator(Ke.fromName(s.referenceValue),n.key):r=Eu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Co(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{}class Mn extends jM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hH(e,n,r):n==="array-contains"?new gH(e,r):n==="in"?new vH(e,r):n==="not-in"?new yH(e,r):n==="array-contains-any"?new wH(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pH(e,r):new mH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eu(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gi extends jM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Gi(e,n)}matches(e){return FM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function FM(t){return t.op==="and"}function $M(t){return fH(t)&&FM(t)}function fH(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function b_(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+ku(t.value);if($M(t))return t.filters.map(e=>b_(e)).join(",");{const e=t.filters.map(n=>b_(n)).join(",");return`${t.op}(${e})`}}function BM(t,e){return t instanceof Mn?function(n,r){return r instanceof Mn&&n.op===r.op&&n.field.isEqual(r.field)&&Co(n.value,r.value)}(t,e):t instanceof Gi?function(n,r){return r instanceof Gi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&BM(o,r.filters[s]),!0):!1}(t,e):void at()}function UM(t){return t instanceof Mn?function(e){return`${e.field.canonicalString()} ${e.op} ${ku(e.value)}`}(t):t instanceof Gi?function(e){return e.op.toString()+" {"+e.getFilters().map(UM).join(" ,")+"}"}(t):"Filter"}class hH extends Mn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class pH extends Mn{constructor(e,n){super(e,"in",n),this.keys=VM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mH extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=VM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class gH extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rS(n)&&Fd(n.arrayValue,this.value)}}class vH extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fd(this.value.arrayValue,n)}}class yH extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fd(this.value.arrayValue,n)}}class wH extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function rO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bH(t,e,n,r,i,o,s)}function iS(t){const e=mt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ku(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ku(r)).join(",")),e.dt=n}return e.dt}function oS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nO(t.startAt,e.startAt)&&nO(t.endAt,e.endAt)}function __(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function _H(t,e,n,r,i,o,s,a){return new Wu(t,e,n,r,i,o,s,a)}function sS(t){return new Wu(t)}function iO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Og(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function qM(t){return t.collectionGroup!==null}function du(t){const e=mt(t);if(e.wt===null){e.wt=[];const n=Og(e),r=aS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new cu(n)),e.wt.push(new cu(yr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cu(yr.keyField(),o))}}}return e.wt}function is(t){const e=mt(t);if(!e._t)if(e.limitType==="F")e._t=rO(e.path,e.collectionGroup,du(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of du(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new cu(o.field,s))}const r=e.endAt?new um(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new um(e.startAt.position,e.startAt.inclusive):null;e._t=rO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function x_(t,e){e.getFirstInequalityField(),Og(t);const n=t.filters.concat([e]);return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function S_(t,e,n){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ng(t,e){return oS(is(t),is(e))&&t.limitType===e.limitType}function HM(t){return`${iS(is(t))}|lt:${t.limitType}`}function E_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>UM(r)).join(", ")}]`),Cg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ku(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ku(r)).join(",")),`Target(${n})`}(is(t))}; limitType=${t.limitType})`}function Ag(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ke.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of du(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=tO(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,du(n),r)||n.endAt&&!function(i,o,s){const a=tO(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,du(n),r))}(t,e)}function xH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zM(t){return(e,n)=>{let r=!1;for(const i of du(t)){const o=SH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function SH(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Eu(a,l):at()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return RM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=new gn(Ke.comparator);function os(){return EH}const WM=new gn(Ke.comparator);function rd(...t){let e=WM;for(const n of t)e=e.insert(n.key,n);return e}function YM(t){let e=WM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ja(){return md()}function GM(){return md()}function md(){return new Yu(t=>t.toString(),(t,e)=>t.isEqual(e))}const kH=new gn(Ke.comparator),TH=new xr(Ke.comparator);function wt(...t){let e=TH;for(const n of t)e=e.add(n);return e}const CH=new xr(Dt);function OH(){return CH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function QM(t){return{integerValue:""+t}}function NH(t,e){return aH(e)?QM(e):KM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this._=void 0}}function AH(t,e,n){return t instanceof cm?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tS(i)&&(i=nS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof $d?JM(t,e):t instanceof Bd?ZM(t,e):function(r,i){const o=XM(r,i),s=oO(o)+oO(r.gt);return w_(o)&&w_(r.gt)?QM(s):KM(r.serializer,s)}(t,e)}function DH(t,e,n){return t instanceof $d?JM(t,e):t instanceof Bd?ZM(t,e):n}function XM(t,e){return t instanceof dm?w_(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class cm extends Dg{}class $d extends Dg{constructor(e){super(),this.elements=e}}function JM(t,e){const n=eL(e);for(const r of t.elements)n.some(i=>Co(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bd extends Dg{constructor(e){super(),this.elements=e}}function ZM(t,e){let n=eL(e);for(const r of t.elements)n=n.filter(i=>!Co(i,r));return{arrayValue:{values:n}}}class dm extends Dg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function oO(t){return Pn(t.integerValue||t.doubleValue)}function eL(t){return rS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IH(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof $d&&r instanceof $d||n instanceof Bd&&r instanceof Bd?Su(n.elements,r.elements,Co):n instanceof dm&&r instanceof dm?Co(n.gt,r.gt):n instanceof cm&&r instanceof cm}(t.transform,e.transform)}class PH{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ig{}function tL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lS(t.key,qi.none()):new vf(t.key,t.data,qi.none());{const n=t.data,r=Kr.empty();let i=new xr(yr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fa(t.key,r,new li(i.toArray()),qi.none())}}function RH(t,e,n){t instanceof vf?function(r,i,o){const s=r.value.clone(),a=aO(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,i,o){if(!Op(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=aO(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(nL(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gd(t,e,n,r){return t instanceof vf?function(i,o,s,a){if(!Op(i.precondition,o))return s;const l=i.value.clone(),h=lO(i.fieldTransforms,a,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(i,o,s,a){if(!Op(i.precondition,o))return s;const l=lO(i.fieldTransforms,a,o),h=o.data;return h.setAll(nL(i)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return Op(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function MH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XM(r.transform,i||null);o!=null&&(n===null&&(n=Kr.empty()),n.set(r.field,o))}return n||null}function sO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Su(n,r,(i,o)=>IH(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vf extends Ig{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fa extends Ig{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aO(t,e,n){const r=new Map;sn(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,DH(s,a,n[i]))}return r}function lO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,AH(o,s,e))}return r}class lS extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LH extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&RH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=tL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wt())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(n,r)=>sO(n,r))&&Su(this.baseMutations,e.baseMutations,(n,r)=>sO(n,r))}}class uS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){sn(e.mutations.length===r.length);let i=kH;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new uS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,bt;function BH(t){switch(t){default:return at();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function rL(t){if(t===void 0)return rs("GRPC error has no .code"),me.UNKNOWN;switch(t){case In.OK:return me.OK;case In.CANCELLED:return me.CANCELLED;case In.UNKNOWN:return me.UNKNOWN;case In.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case In.INTERNAL:return me.INTERNAL;case In.UNAVAILABLE:return me.UNAVAILABLE;case In.UNAUTHENTICATED:return me.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case In.NOT_FOUND:return me.NOT_FOUND;case In.ALREADY_EXISTS:return me.ALREADY_EXISTS;case In.PERMISSION_DENIED:return me.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case In.ABORTED:return me.ABORTED;case In.OUT_OF_RANGE:return me.OUT_OF_RANGE;case In.UNIMPLEMENTED:return me.UNIMPLEMENTED;case In.DATA_LOSS:return me.DATA_LOSS;default:return at()}}(bt=In||(In={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jh}static getOrCreateInstance(){return Jh===null&&(Jh=new cS),Jh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Jh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=new uu([4294967295,4294967295],0);function uO(t){const e=UH().encode(t),n=new Wq;return n.update(e),new Uint8Array(n.digest())}function cO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new uu([n,r],0),new uu([i,o],0)]}class dS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new id(`Invalid padding: ${n}`);if(r<0)throw new id(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new id(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new id(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=uu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(uu.fromNumber(r)));return i.compare(VH)===1&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=uO(e),[r,i]=cO(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new dS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=uO(e),[r,i]=cO(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pg(ct.min(),i,new gn(Dt),os(),wt())}}class yf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yf(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class iL{constructor(e,n){this.targetId=e,this.Vt=n}}class oL{constructor(e,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dO{constructor(){this.St=0,this.Dt=hO(),this.Ct=Er.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wt(),n=wt(),r=wt();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:at()}}),new yf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=hO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qH{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=os(),this.zt=fO(),this.Wt=new gn(Dt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:at()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(__(s))if(i===0){const a=new Ke(s.path);this.Yt(r,a,vr.newNoDocument(a,ct.min()))}else sn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,h)}(n=cS.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,c,f){var p,m,g,y,w,b;const _={localCacheCount:c,existenceFilterCount:f.count},E=f.unchangedNames;return E&&(_.bloomFilter={applied:h===0,hashCount:(p=E==null?void 0:E.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(g=(m=E==null?void 0:E.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0,padding:(b=(w=E==null?void 0:E.bits)===null||w===void 0?void 0:w.padding)!==null&&b!==void 0?b:0}),_}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,h;try{l=Za(o).toUint8Array()}catch(c){if(c instanceof MM)return xu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{h=new dS(l,s,a)}catch(c){return xu(c instanceof id?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return h.It===0?1:i!==n-this.oe(e.targetId,h)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&__(a.target)){const l=new Ke(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,vr.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=wt();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const h=this.se(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Pg(e,n,this.Wt,this.jt,r);return this.jt=os(),this.zt=fO(),this.Wt=new gn(Dt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new dO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xr(Dt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new dO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function fO(){return new gn(Ke.comparator)}function hO(){return new gn(Ke.comparator)}const HH={asc:"ASCENDING",desc:"DESCENDING"},zH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WH={and:"AND",or:"OR"};class YH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k_(t,e){return t.useProto3Json||Cg(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GH(t,e){return fm(t,e.toTimestamp())}function xo(t){return sn(!!t),ct.fromTimestamp(function(e){const n=Js(e);return new Un(n.seconds,n.nanos)}(t))}function fS(t,e){return function(n){return new nn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function aL(t){const e=nn.fromString(t);return sn(dL(e)),e}function T_(t,e){return fS(t.databaseId,e.path)}function L0(t,e){const n=aL(e);if(n.get(1)!==t.databaseId.projectId)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(lL(n))}function C_(t,e){return fS(t.databaseId,e)}function KH(t){const e=aL(t);return e.length===4?nn.emptyPath():lL(e)}function O_(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lL(t){return sn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pO(t,e,n){return{name:T_(t,e),fields:n.value.mapValue.fields}}function QH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(sn(h===void 0||typeof h=="string"),Er.fromBase64String(h||"")):(sn(h===void 0||h instanceof Uint8Array),Er.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=l.code===void 0?me.UNKNOWN:rL(l.code);return new je(h,l.message||"")}(s);n=new oL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=L0(t,r.document.name),o=xo(r.document.updateTime),s=r.document.createTime?xo(r.document.createTime):ct.min(),a=new Kr({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,o,s,a),h=r.targetIds||[],c=r.removedTargetIds||[];n=new Np(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=L0(t,r.document),o=r.readTime?xo(r.readTime):ct.min(),s=vr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Np([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=L0(t,r.document),o=r.removedTargetIds||[];n=new Np([],o,i,null)}else{if(!("filter"in e))return at();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new $H(i,o),a=r.targetId;n=new iL(a,s)}}return n}function XH(t,e){let n;if(e instanceof vf)n={update:pO(t,e.key,e.value)};else if(e instanceof lS)n={delete:T_(t,e.key)};else if(e instanceof fa)n={update:pO(t,e.key,e.data),updateMask:sz(e.fieldMask)};else{if(!(e instanceof LH))return at();n={verify:T_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof cm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $d)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Bd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof dm)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw at()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:GH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:at()}(t,e.precondition)),n}function JH(t,e){return t&&t.length>0?(sn(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?xo(r.updateTime):xo(i);return o.isEqual(ct.min())&&(o=xo(i)),new PH(o,r.transformResults||[])}(n,e))):[]}function ZH(t,e){return{documents:[C_(t,e.path)]}}function ez(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=C_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=C_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return cL(Gi.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(h=>function(c){return{field:Zl(c.field),direction:rz(c.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=k_(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function tz(t){let e=KH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const f=uL(c);return f instanceof Gi&&$M(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(f){return new cu(eu(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Cg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,p=c.values||[];return new um(p,f)}(n.startAt));let h=null;return n.endAt&&(h=function(c){const f=!c.before,p=c.values||[];return new um(p,f)}(n.endAt)),_H(e,i,s,o,a,"F",l,h)}function nz(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=eu(e.unaryFilter.field);return Mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=eu(e.unaryFilter.field);return Mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eu(e.unaryFilter.field);return Mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eu(e.unaryFilter.field);return Mn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(t):t.fieldFilter!==void 0?function(e){return Mn.create(eu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Gi.create(e.compositeFilter.filters.map(n=>uL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(t):at()}function rz(t){return HH[t]}function iz(t){return zH[t]}function oz(t){return WH[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function eu(t){return yr.fromServerFormat(t.fieldPath)}function cL(t){return t instanceof Mn?function(e){if(e.op==="=="){if(eO(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NAN"}};if(Z2(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(eO(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NOT_NAN"}};if(Z2(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(e.field),op:iz(e.op),value:e.value}}}(t):t instanceof Gi?function(e){const n=e.getFilters().map(r=>cL(r));return n.length===1?n[0]:{compositeFilter:{op:oz(e.op),filters:n}}}(t):at()}function sz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,i,o=ct.min(),s=ct.min(),a=Er.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.fe=e}}function lz(t){const e=tz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?S_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.rn=new cz}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Xs.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class cz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xr(nn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tu(0)}static Mn(){return new Tu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.changes=new Yu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hz=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gd(r.mutation,i,li.empty(),Un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wt()){const i=ja();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=rd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ja();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=os();const s=md(),a=md();return n.forEach((l,h)=>{const c=r.get(h.key);i.has(h.key)&&(c===void 0||c.mutation instanceof fa)?o=o.insert(h.key,h):c!==void 0?(s.set(h.key,c.mutation.getFieldMask()),gd(c.mutation,h,c.mutation.getFieldMask(),Un.now())):s.set(h.key,li.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((h,c)=>s.set(h,c)),n.forEach((h,c)=>{var f;return a.set(h,new fz(c,(f=s.get(h))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=md();let i=new gn((s,a)=>s-a),o=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let c=r.get(l)||li.empty();c=a.applyToLocalView(h,c),r.set(l,c);const f=(i.get(a.batchId)||wt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,c=l.value,f=GM();c.forEach(p=>{if(!o.has(p)){const m=tL(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Se.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ke.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Se.resolve(ja());let a=-1,l=o;return s.next(h=>Se.forEach(h,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Se.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,l,h,wt())).next(c=>({batchId:a,changes:YM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=rd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=rd();return this.indexManager.getCollectionParents(e,i).next(s=>Se.forEach(s,a=>{const l=function(h,c){return new Wu(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,vr.newInvalidDocument(h)))});let s=rd();return o.forEach((a,l)=>{const h=i.get(a);h!==void 0&&gd(h.mutation,l,li.empty(),Un.now()),Ag(n,l)&&(s=s.insert(a,l))}),s})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:xo(r.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:lz(r.bundledQuery),readTime:xo(r.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.overlays=new gn(Ke.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ja();return Se.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=ja(),o=n.length+1,s=new Ke(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gn((h,c)=>h-c);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let c=o.get(h.largestBatchId);c===null&&(c=ja(),o=o.insert(h.largestBatchId,c)),c.set(h.getKey(),h)}}const a=ja(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,c)=>a.set(h,c)),!(a.size()>=i)););return Se.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new FH(n,r));let o=this.ls.get(n);o===void 0&&(o=wt(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.fs=new xr(Wn.ds),this.ws=new xr(Wn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Wn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ke(new nn([])),r=new Wn(n,e),i=new Wn(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ke(new nn([])),r=new Wn(n,e),i=new Wn(n,e+1);let o=wt();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Wn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ke.comparator(e.key,n.key)||Dt(e.As,n.As)}static _s(e,n){return Dt(e.As,n.As)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xr(Wn.ds)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jH(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Wn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(s)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return Se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),Se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(Dt);return n.forEach(i=>{const o=new Wn(i,0),s=new Wn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),Se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ke.isDocumentKey(o)||(o=o.child(""));const s=new Wn(new Ke(o),0);let a=new xr(Dt);return this.Rs.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.As)),!0)},s),Se.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){sn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Se.forEach(n.mutations,i=>{const o=new Wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Rs.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.Ds=e,this.docs=new gn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=os();const s=n.path,a=new Ke(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:c}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||iH(rH(c),r)<=0||(i.has(c.key)||Ag(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){at()}Cs(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yz(this)}getSize(e){return Se.resolve(this.size)}}class yz extends dz{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.persistence=e,this.xs=new Yu(n=>iS(n),oS),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hS,this.targetCount=0,this.Ms=Tu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Tu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(o).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n){this.$s={},this.overlays={},this.Os=new eS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wz(this),this.indexManager=new uz,this.remoteDocumentCache=function(r){return new vz(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new az(n),this.qs=new pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new gz(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new _z(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return Se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class _z extends sH{constructor(e){super(),this.currentSequenceNumber=e}}class pS{constructor(e){this.persistence=e,this.Qs=new hS,this.js=null}static zs(e){return new pS(e)}get Ws(){if(this.js)return this.js;throw at()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,r=>{const i=Ke.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,ct.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=wt(),i=wt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(iO(n))return Se.resolve(null);let r=is(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=S_(n,null,"F"),r=is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=wt(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ji(n,a);return this.zi(n,h,s,l.readTime)?this.Ki(e,S_(n,null,"F")):this.Wi(e,h,n,l)}))})))}Gi(e,n,r,i){return iO(n)||i.isEqual(ct.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(G2()<=Tt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),E_(n)),this.Wi(e,s,n,nH(i,-1)))})}ji(e,n){let r=new xr(zM(e));return n.forEach((i,o)=>{Ag(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return G2()<=Tt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",E_(n)),this.Ui.getDocumentsMatchingQuery(e,n,Xs.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new gn(Dt),this.Yi=new Yu(o=>iS(o),oS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Ez(t,e,n,r){return new Sz(t,e,n,r)}async function fL(t,e){const n=mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=wt();for(const h of i){s.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}for(const h of o){a.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(h=>({er:h,removedBatchIds:s,addedBatchIds:a}))})})}function kz(t,e){const n=mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,h){const c=l.batch,f=c.keys();let p=Se.resolve();return f.forEach(m=>{p=p.next(()=>h.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);sn(y!==null),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),h.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=wt();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hL(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Tz(t,e){const n=mt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Er.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Bs.updateTargetData(o,m))});let l=os(),h=wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Cz(o,s,e.documentUpdates).next(c=>{l=c.nr,h=c.sr})),!r.isEqual(ct.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(f=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Se.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(n.Ji=i,o))}function Cz(t,e,n){let r=wt(),i=wt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=os();return n.forEach((a,l)=>{const h=o.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):We("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{nr:s,sr:i}})}function Oz(t,e){const n=mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nz(t,e){const n=mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,Se.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Vs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function N_(t,e,n){const r=mt(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gf(s))throw s;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function mO(t,e,n){const r=mt(t);let i=ct.min(),o=wt();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,h){const c=mt(a),f=c.Yi.get(h);return f!==void 0?Se.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,h)}(r,s,is(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:ct.min(),n?o:wt())).next(a=>(Az(r,xH(e),a),{documents:a,ir:o})))}function Az(t,e,n){let r=t.Xi.get(e)||ct.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class gO{constructor(){this.activeTargetIds=OH()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dz{constructor(){this.Hr=new gO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function j0(){return Zh===null?Zh=268435456+Math.round(2147483648*Math.random()):Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class Mz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=j0(),a=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(h=>(We("RestConnection",`Received RPC '${e}' ${s}: `,h),h),h=>{throw xu("RestConnection",`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=Pz[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=j0();return new Promise((s,a)=>{const l=new zq;l.setWithCredentials(!0),l.listenOnce(Vq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case M0.NO_ERROR:const c=l.getResponseJson();We(pr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case M0.TIMEOUT:We(pr,`RPC '${e}' ${o} timed out`),a(new je(me.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const f=l.getStatus();if(We(pr,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(m.status);a(new je(g,m.message))}else a(new je(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(me.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{We(pr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);We(pr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",h,r,15)})}Ro(e,n,r){const i=j0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bq(),a=Uq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new Hq({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");We(pr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let p=!1,m=!1;const g=new Rz({ro:w=>{m?We(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(We(pr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),We(pr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},oo:()=>f.close()}),y=(w,b,_)=>{w.listen(b,E=>{try{_(E)}catch(x){setTimeout(()=>{throw x},0)}})};return y(f,Kh.EventType.OPEN,()=>{m||We(pr,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Kh.EventType.CLOSE,()=>{m||(m=!0,We(pr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(f,Kh.EventType.ERROR,w=>{m||(m=!0,xu(pr,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new je(me.UNAVAILABLE,"The operation could not be completed")))}),y(f,Kh.EventType.MESSAGE,w=>{var b;if(!m){const _=w.data[0];sn(!!_);const E=_,x=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(x){We(pr,`RPC '${e}' stream ${i} received error:`,x);const k=x.status;let O=function(C){const D=In[C];if(D!==void 0)return rL(D)}(k),N=x.message;O===void 0&&(O=me.INTERNAL,N="Unknown error status: "+k+" with message "+x.message),m=!0,g.wo(new je(O,N)),f.close()}else We(pr,`RPC '${e}' stream ${i} received:`,_),g._o(_)}}),y(a,qq.STAT_EVENT,w=>{w.stat===W2.PROXY?We(pr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===W2.NOPROXY&&We(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function F0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return new YH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new pL(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new je(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lz extends mL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=QH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ct.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?xo(o.readTime):ct.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=O_(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=__(a)?{documents:ZH(i,a)}:{query:ez(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=sL(i,o.resumeToken);const l=k_(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(ct.min())>0){s.readTime=fm(i,o.snapshotVersion.toTimestamp());const l=k_(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=nz(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=O_(this.serializer),n.removeTarget=e,this.Wo(n)}}class jz extends mL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=JH(e.writeResults,e.commitTime),r=xo(e.commitTime);return this.listener.cu(r,n)}return sn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=O_(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XH(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(me.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class $z{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rs(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{wl(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=mt(a);l.vu.add(4),await wf(l),l.bu.set("Unknown"),l.vu.delete(4),await Mg(l)}(this))})}),this.bu=new $z(r,i)}}async function Mg(t){if(wl(t))for(const e of t.Ru)await e(!0)}async function wf(t){for(const e of t.Ru)await e(!1)}function gL(t,e){const n=mt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),yS(n)?vS(n):Gu(n).Ko()&&gS(n,e))}function vL(t,e){const n=mt(t),r=Gu(n);n.Au.delete(e),r.Ko()&&yL(n,e),n.Au.size===0&&(r.Ko()?r.jo():wl(n)&&n.bu.set("Unknown"))}function gS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gu(t).su(e)}function yL(t,e){t.Vu.qt(e),Gu(t).iu(e)}function vS(t){t.Vu=new qH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Gu(t).start(),t.bu.gu()}function yS(t){return wl(t)&&!Gu(t).Uo()&&t.Au.size>0}function wl(t){return mt(t).vu.size===0}function wL(t){t.Vu=void 0}async function Uz(t){t.Au.forEach((e,n)=>{gS(t,e)})}async function Vz(t,e){wL(t),yS(t)?(t.bu.Iu(e),vS(t)):t.bu.set("Unknown")}async function qz(t,e,n){if(t.bu.set("Online"),e instanceof oL&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hm(t,r)}else if(e instanceof Np?t.Vu.Ht(e):e instanceof iL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ct.min()))try{const r=await hL(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.Au.get(l);h&&i.Au.set(l,h.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const h=i.Au.get(a);if(!h)return;i.Au.set(a,h.withResumeToken(Er.EMPTY_BYTE_STRING,h.snapshotVersion)),yL(i,a);const c=new Vs(h.target,a,l,h.sequenceNumber);gS(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await hm(t,r)}}async function hm(t,e,n){if(!gf(e))throw e;t.vu.add(1),await wf(t),t.bu.set("Offline"),n||(n=()=>hL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Mg(t)})}function bL(t,e){return e().catch(n=>hm(t,n,e))}async function Lg(t){const e=mt(t),n=Zs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hz(e);)try{const i=await Oz(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,zz(e,i)}catch(i){await hm(e,i)}_L(e)&&xL(e)}function Hz(t){return wl(t)&&t.Eu.length<10}function zz(t,e){t.Eu.push(e);const n=Zs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function _L(t){return wl(t)&&!Zs(t).Uo()&&t.Eu.length>0}function xL(t){Zs(t).start()}async function Wz(t){Zs(t).hu()}async function Yz(t){const e=Zs(t);for(const n of t.Eu)e.uu(n.mutations)}async function Gz(t,e,n){const r=t.Eu.shift(),i=uS.from(r,e,n);await bL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lg(t)}async function Kz(t,e){e&&Zs(t).ou&&await async function(n,r){if(i=r.code,BH(i)&&i!==me.ABORTED){const o=n.Eu.shift();Zs(n).Qo(),await bL(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Lg(n)}var i}(t,e),_L(t)&&xL(t)}async function yO(t,e){const n=mt(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=wl(n);n.vu.add(3),await wf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Mg(n)}async function Qz(t,e){const n=mt(t);e?(n.vu.delete(2),await Mg(n)):e||(n.vu.add(2),await wf(n),n.bu.set("Unknown"))}function Gu(t){return t.Su||(t.Su=function(e,n,r){const i=mt(e);return i.fu(),new Lz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Uz.bind(null,t),ao:Vz.bind(null,t),nu:qz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),yS(t)?vS(t):t.bu.set("Unknown")):(await t.Su.stop(),wL(t))})),t.Su}function Zs(t){return t.Du||(t.Du=function(e,n,r){const i=mt(e);return i.fu(),new jz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Wz.bind(null,t),ao:Kz.bind(null,t),au:Yz.bind(null,t),cu:Gz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Lg(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new wS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bS(t,e){if(rs("AsyncQueue",`${e}: ${t}`),gf(t))return new je(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=rd(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Cu=new gn(Ke.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):at():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cu{constructor(e,n,r,i,o,s,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cu(e,n,fu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.Nu=void 0,this.listeners=[]}}class Jz{constructor(){this.queries=new Yu(e=>HM(e),Ng),this.onlineState="Unknown",this.ku=new Set}}async function Zz(t,e){const n=mt(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Xz),i)try{o.Nu=await n.onListen(r)}catch(s){const a=bS(s,`Initialization of query '${E_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&_S(n)}async function e7(t,e){const n=mt(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function t7(t,e){const n=mt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&_S(n)}function n7(t,e,n){const r=mt(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function _S(t){t.ku.forEach(e=>{e.next()})}class r7{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.key=e}}class EL{constructor(e){this.key=e}}class i7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wt(),this.mutatedKeys=wt(),this.tc=zM(e),this.ec=new fu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new wO,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=Ag(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.tc(m,l)>0||h&&this.tc(m,h)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||h)&&(a=!0)),w&&(m?(s=s.add(m),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((h,c)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return m(f)-m(p)}(h.type,c.type)||this.tc(h.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Cu(this.query,e.ec,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new EL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new SL(r))}),n}hc(e){this.Yu=e.ir,this.Zu=wt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Cu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class o7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s7{constructor(e){this.key=e,this.fc=!1}}class a7{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Yu(a=>HM(a),Ng),this._c=new Map,this.mc=new Set,this.gc=new gn(Ke.comparator),this.yc=new Map,this.Ic=new hS,this.Tc={},this.Ec=new Map,this.Ac=Tu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function l7(t,e){const n=y7(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await Nz(n.localStore,is(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await u7(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&gL(n.remoteStore,s)}return i}async function u7(t,e,n,r,i){t.Rc=(f,p,m)=>async function(g,y,w,b){let _=y.view.sc(w);_.zi&&(_=await mO(g.localStore,y.query,!1).then(({documents:k})=>y.view.sc(k,_)));const E=b&&b.targetChanges.get(y.targetId),x=y.view.applyChanges(_,g.isPrimaryClient,E);return _O(g,y.targetId,x.cc),x.snapshot}(t,f,p,m);const o=await mO(t.localStore,e,!0),s=new i7(e,o.ir),a=s.sc(o.documents),l=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(a,t.isPrimaryClient,l);_O(t,n,h.cc);const c=new o7(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),h.snapshot}async function c7(t,e){const n=mt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Ng(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await N_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vL(n.remoteStore,r.targetId),A_(n,r.targetId)}).catch(mf)):(A_(n,r.targetId),await N_(n.localStore,r.targetId,!0))}async function d7(t,e,n){const r=w7(t);try{const i=await function(o,s){const a=mt(o),l=Un.now(),h=s.reduce((p,m)=>p.add(m.key),wt());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=os(),g=wt();return a.Zi.getEntries(p,h).next(y=>{m=y,m.forEach((w,b)=>{b.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(y=>{c=y;const w=[];for(const b of s){const _=MH(b,c.get(b.key).overlayedDocument);_!=null&&w.push(new fa(b.key,_,LM(_.value.mapValue),qi.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,w,s)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:YM(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new gn(Dt)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,n),await bf(r,i.changes),await Lg(r.remoteStore)}catch(i){const o=bS(i,"Failed to persist write");n.reject(o)}}async function kL(t,e){const n=mt(t);try{const r=await Tz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?sn(s.fc):i.removedDocuments.size>0&&(sn(s.fc),s.fc=!1))}),await bf(n,r,e)}catch(r){await mf(r)}}function bO(t,e,n){const r=mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=mt(o);a.onlineState=s;let l=!1;a.queries.forEach((h,c)=>{for(const f of c.listeners)f.Mu(s)&&(l=!0)}),l&&_S(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f7(t,e,n){const r=mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new gn(Ke.comparator);s=s.insert(o,vr.newNoDocument(o,ct.min()));const a=wt().add(o),l=new Pg(ct.min(),new Map,new gn(Dt),s,a);await kL(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),xS(r)}else await N_(r.localStore,e,!1).then(()=>A_(r,e,n)).catch(mf)}async function h7(t,e){const n=mt(t),r=e.batch.batchId;try{const i=await kz(n.localStore,e);CL(n,r,null),TL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bf(n,i)}catch(i){await mf(i)}}async function p7(t,e,n){const r=mt(t);try{const i=await function(o,s){const a=mt(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(sn(c!==null),h=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(r.localStore,e);CL(r,e,n),TL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bf(r,i)}catch(i){await mf(i)}}function TL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function CL(t,e,n){const r=mt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function A_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||OL(t,r)})}function OL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(vL(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),xS(t))}function _O(t,e,n){for(const r of n)r instanceof SL?(t.Ic.addReference(r.key,e),m7(t,r)):r instanceof EL?(We("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||OL(t,r.key)):at()}function m7(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(We("SyncEngine","New document in limbo: "+n),t.mc.add(r),xS(t))}function xS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ke(nn.fromString(e)),r=t.Ac.next();t.yc.set(r,new s7(n)),t.gc=t.gc.insert(n,r),gL(t.remoteStore,new Vs(is(sS(n.path)),r,"TargetPurposeLimboResolution",eS.ct))}}async function bf(t,e,n){const r=mt(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const c=mS.Li(l.targetId,h);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,l){const h=mt(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(l,f=>Se.forEach(f.Fi,p=>h.persistence.referenceDelegate.addReference(c,f.targetId,p)).next(()=>Se.forEach(f.Bi,p=>h.persistence.referenceDelegate.removeReference(c,f.targetId,p)))))}catch(c){if(!gf(c))throw c;We("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const p=h.Ji.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.Ji=h.Ji.insert(f,g)}}}(r.localStore,o))}async function g7(t,e){const n=mt(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await fL(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new je(me.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bf(n,r.er)}}function v7(t,e){const n=mt(t),r=n.yc.get(e);if(r&&r.fc)return wt().add(r.key);{let i=wt();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function y7(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f7.bind(null,e),e.dc.nu=t7.bind(null,e.eventManager),e.dc.Pc=n7.bind(null,e.eventManager),e}function w7(t){const e=mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p7.bind(null,e),e}class xO{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ez(this.persistence,new xz,e.initialUser,this.serializer)}createPersistence(e){return new bz(pS.zs,this.serializer)}createSharedClientState(e){return new Dz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class b7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g7.bind(null,this.syncEngine),await Qz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Jz}createDatastore(e){const n=Rg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Mz(i));var i;return function(o,s,a,l){return new Fz(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>bO(this.syncEngine,a,0),s=vO.D()?new vO:new Iz,new Bz(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,h){const c=new a7(r,i,o,s,a,l);return h&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=mt(e);We("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await wf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=PM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{We("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(We("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $0(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E7(t);We("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>yO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>yO(e.remoteStore,o)),t._onlineComponents=e}function S7(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function E7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await $0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!S7(n))throw n;xu("Error using user provided cache. Falling back to memory cache: "+n),await $0(t,new xO)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await $0(t,new xO);return t._offlineComponents}async function NL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await SO(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await SO(t,new b7))),t._onlineComponents}function k7(t){return NL(t).then(e=>e.syncEngine)}async function EO(t){const e=await NL(t),n=e.eventManager;return n.onListen=l7.bind(null,e.syncEngine),n.onUnlisten=c7.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t,e,n){if(!n)throw new je(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T7(t,e,n,r){if(e===!0&&r===!0)throw new je(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TO(t){if(!Ke.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CO(t){if(Ke.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at()}function Wo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new je(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Fg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new je(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OO(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Yq;switch(n.type){case"firstParty":return new Xq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new je(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kO.get(e);n&&(We("ComponentProvider","Removing Datastore"),kO.delete(e),n.terminate())}(this),Promise.resolve()}}function C7(t,e,n,r={}){var i;const o=(t=Wo(t,Fg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gr.MOCK_USER;else{a=UP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new je(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gr(h)}t._authCredentials=new Gq(new IM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lr(this.firestore,e,this._key)}}class bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class Gs extends bl{constructor(e,n,r){super(e,n,sS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lr(this.firestore,null,new Ke(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function IL(t,e,...n){if(t=It(t),DL("collection","path",e),t instanceof Fg){const r=nn.fromString(e,...n);return CO(r),new Gs(t,null,r)}{if(!(t instanceof Lr||t instanceof Gs))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return CO(r),new Gs(t.firestore,null,r)}}function an(t,e,...n){if(t=It(t),arguments.length===1&&(e=PM.A()),DL("doc","path",e),t instanceof Fg){const r=nn.fromString(e,...n);return TO(r),new Lr(t,null,new Ke(r))}{if(!(t instanceof Lr||t instanceof Gs))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return TO(r),new Lr(t.firestore,t instanceof Gs?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pL(this,"async_queue_retry"),this.Xc=()=>{const n=F0();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=F0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=F0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new qa;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!gf(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw rs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=wS.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&at()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function NO(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ou extends Fg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O7,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RL(this),this._firestoreClient.terminate()}}function N7(t,e){const n=nf(),r="(default)",i=sa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=bx("firestore");o&&C7(i,...o)}return i}function PL(t){return t._firestoreClient||RL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RL(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,h){return new uH(s,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new x7(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nu(Er.fromBase64String(e))}catch(n){throw new je(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nu(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^__.*__$/;class D7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new vf(e,this.data,n,this.fieldTransforms)}}class ML{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class kS{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(LL(this.ca)&&A7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class I7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rg(e)}ya(e,n,r,i=!1){return new kS({ca:e,methodName:n,ga:r,path:yr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TS(t){const e=t._freezeSettings(),n=Rg(t._databaseId);return new I7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P7(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);CS("Data must be an object, but it was:",s,r);const a=jL(r,s);let l,h;if(o.merge)l=new li(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const p=D_(e,f,n);if(!s.contains(p))throw new je(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);$L(c,p)||c.push(p)}l=new li(c),h=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=s.fieldTransforms;return new D7(new Kr(a),l,h)}class Bg extends SS{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bg}}function R7(t,e,n,r){const i=t.ya(1,e,n);CS("Data must be an object, but it was:",i,r);const o=[],s=Kr.empty();yl(r,(l,h)=>{const c=OS(e,l,n);h=It(h);const f=i.da(c);if(h instanceof Bg)o.push(c);else{const p=_f(h,f);p!=null&&(o.push(c),s.set(c,p))}});const a=new li(o);return new ML(s,a,i.fieldTransforms)}function M7(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[D_(e,r,n)],l=[i];if(o.length%2!=0)throw new je(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(D_(e,o[p])),l.push(o[p+1]);const h=[],c=Kr.empty();for(let p=a.length-1;p>=0;--p)if(!$L(h,a[p])){const m=a[p];let g=l[p];g=It(g);const y=s.da(m);if(g instanceof Bg)h.push(m);else{const w=_f(g,y);w!=null&&(h.push(m),c.set(m,w))}}const f=new li(h);return new ML(c,f,s.fieldTransforms)}function L7(t,e,n,r=!1){return _f(n,t.ya(r?4:3,e))}function _f(t,e){if(FL(t=It(t)))return CS("Unsupported field value:",e,t),jL(t,e);if(t instanceof SS)return function(n,r){if(!LL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=_f(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NH(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Un.fromDate(n);return{timestampValue:fm(r.serializer,i)}}if(n instanceof Un){const i=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fm(r.serializer,i)}}if(n instanceof ES)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nu)return{bytesValue:sL(r.serializer,n._byteString)};if(n instanceof Lr){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${jg(n)}`)}(t,e)}function jL(t,e){const n={};return RM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,(r,i)=>{const o=_f(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function FL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof ES||t instanceof Nu||t instanceof Lr||t instanceof SS)}function CS(t,e,n){if(!FL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=jg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function D_(t,e,n){if((e=It(e))instanceof $g)return e._internalPath;if(typeof e=="string")return OS(t,e);throw pm("Field path arguments must be of type string or ",t,!1,void 0,n)}const j7=new RegExp("[~\\*/\\[\\]]");function OS(t,e,n){if(e.search(j7)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $g(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new je(me.INVALID_ARGUMENT,a+t+l)}function $L(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F7 extends BL{data(){return super.data()}}function Ug(t,e){return typeof e=="string"?OS(t,e):e instanceof $g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NS{}class UL extends NS{}function B0(t,e,...n){let r=[];e instanceof NS&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof AS).length,s=i.filter(a=>a instanceof Vg).length;if(o>1||o>0&&s>0)throw new je(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vg extends UL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vg(e,n,r)}_apply(e){const n=this._parse(e);return VL(e._query,n),new bl(e.firestore,e.converter,x_(e._query,n))}_parse(e){const n=TS(e.firestore);return function(i,o,s,a,l,h,c){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new je(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){IO(c,h);const p=[];for(const m of c)p.push(DO(a,i,m));f={arrayValue:{values:p}}}else f=DO(a,i,c)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||IO(c,h),f=L7(s,o,c,h==="in"||h==="not-in");return Mn.create(l,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AO(t,e,n){const r=e,i=Ug("where",t);return Vg._create(i,r,n)}class AS extends NS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)VL(o,a),o=x_(o,a)}(e._query,n),new bl(e.firestore,e.converter,x_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class DS extends UL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new DS(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new je(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new je(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new cu(i,o);return function(a,l){if(aS(a)===null){const h=Og(a);h!==null&&qL(a,h,l.field)}}(r,s),s}(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Wu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function B7(t,e="asc"){const n=e,r=Ug("orderBy",t);return DS._create(r,n)}function DO(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new je(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qM(e)&&n.indexOf("/")!==-1)throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!Ke.isDocumentKey(r))throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return J2(t,new Ke(r))}if(n instanceof Lr)return J2(t,n._key);throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jg(n)}.`)}function IO(t,e){if(!Array.isArray(t)||t.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VL(t,e){if(e.isInequality()){const r=Og(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new je(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=aS(t);o!==null&&qL(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qL(t,e,n){if(!n.isEqual(e))throw new je(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class U7{convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw at()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ES(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const n=Js(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);sn(dL(r));const i=new jd(r.get(1),r.get(3)),o=new Ke(r.popFirst(5));return i.isEqual(n)||rs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HL extends BL{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ap extends HL{data(e={}){return super.data(e)}}class q7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ap(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Ap(r._firestore,r._userDataWriter,s.doc.key,s.doc,new od(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Ap(r._firestore,r._userDataWriter,s.doc.key,s.doc,new od(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),h=o.indexOf(s.doc.key)),{type:H7(s.type),doc:a,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function H7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}class zL extends U7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,n)}}function Oo(t,e,n){t=Wo(t,Lr);const r=Wo(t.firestore,Ou),i=V7(t.converter,e);return IS(r,[P7(TS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qi.none())])}function hn(t,e,n,...r){t=Wo(t,Lr);const i=Wo(t.firestore,Ou),o=TS(i);let s;return s=typeof(e=It(e))=="string"||e instanceof $g?M7(o,"updateDoc",t._key,e,n,r):R7(o,"updateDoc",t._key,e),IS(i,[s.toMutation(t._key,qi.exists(!0))])}function qg(t){return IS(Wo(t.firestore,Ou),[new lS(t._key,qi.none())])}function WL(t,...e){var n,r,i;t=It(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||NO(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(NO(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,h,c;if(t instanceof Lr)h=Wo(t.firestore,Ou),c=sS(t._key.path),l={next:f=>{e[s]&&e[s](z7(h,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Wo(t,bl);h=Wo(f.firestore,Ou),c=f._query;const p=new zL(h);l={next:m=>{e[s]&&e[s](new q7(h,p,f,m))},error:e[s+1],complete:e[s+2]},$7(t._query)}return function(f,p,m,g){const y=new _7(g),w=new r7(p,y,m);return f.asyncQueue.enqueueAndForget(async()=>Zz(await EO(f),w)),()=>{y.Dc(),f.asyncQueue.enqueueAndForget(async()=>e7(await EO(f),w))}}(PL(h),c,a,l)}function IS(t,e){return function(n,r){const i=new qa;return n.asyncQueue.enqueueAndForget(async()=>d7(await k7(n),r,i)),i.promise}(PL(t),e)}function z7(t,e,n){const r=n.docs.get(e._key),i=new zL(t);return new HL(t,i,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){zu=n})(ml),Ti(new fi("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ou(new Kq(n.getProvider("auth-internal")),new Zq(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new je(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),wr(Y2,"3.13.0",t),wr(Y2,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7="type.googleapis.com/google.protobuf.Int64Value",Y7="type.googleapis.com/google.protobuf.UInt64Value";function YL(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function I_(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>I_(e));if(typeof t=="function"||typeof t=="object")return YL(t,e=>I_(e));throw new Error("Data cannot be encoded in JSON: "+t)}function mm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case W7:case Y7:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>mm(e)):typeof t=="function"||typeof t=="object"?YL(t,e=>mm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hu extends Oi{constructor(e,n,r){super(`${PS}/${e}`,n||""),this.details=r}}function G7(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function K7(t,e){let n=G7(t),r=n,i;try{const o=e&&e.error;if(o){const s=o.status;if(typeof s=="string"){if(!PO[s])return new hu("internal","internal");n=PO[s],r=s}const a=o.message;typeof a=="string"&&(r=a),i=o.details,i!==void 0&&(i=mm(i))}}catch{}return n==="ok"?null:new hu(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="us-central1";function X7(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new hu("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class J7{constructor(e,n,r,i,o=P_,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Q7(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=P_}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Z7(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function eW(t,e,n){return r=>nW(t,e,r,{})}async function tW(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}function nW(t,e,n,r){const i=t._url(e);return rW(t,i,n,r)}async function rW(t,e,n,r){n=I_(n);const i={data:n},o={},s=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const a=r.timeout||7e4,l=X7(a),h=await Promise.race([tW(e,i,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!h)throw new hu("cancelled","Firebase Functions instance was deleted.");const c=K7(h.status,h.json);if(c)throw c;if(!h.json)throw new hu("internal","Response is not valid JSON object.");let f=h.json.data;if(typeof f>"u"&&(f=h.json.result),typeof f>"u")throw new hu("internal","Response is missing data field.");return{data:mm(f)}}const RO="@firebase/functions",MO="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="auth-internal",oW="app-check-internal",sW="messaging-internal";function aW(t,e){const n=(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider(iW),a=r.getProvider(sW),l=r.getProvider(oW);return new J7(o,s,a,l,i,t)};Ti(new fi(PS,n,"PUBLIC").setMultipleInstances(!0)),wr(RO,MO,e),wr(RO,MO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t=nf(),e=P_){const r=sa(It(t),PS).getImmediate({identifier:e}),i=bx("functions");return i&&uW(r,...i),r}function uW(t,e,n){Z7(It(t),e,n)}function GL(t,e,n){return eW(It(t),e)}aW(fetch.bind(self));const cW=(t,e)=>e.some(n=>t instanceof n);let LO,jO;function dW(){return LO||(LO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fW(){return jO||(jO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KL=new WeakMap,R_=new WeakMap,QL=new WeakMap,U0=new WeakMap,RS=new WeakMap;function hW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ks(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KL.set(n,t)}).catch(()=>{}),RS.set(e,t),e}function pW(t){if(R_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});R_.set(t,e)}let M_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mW(t){M_=t(M_)}function gW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(V0(this),e,...n);return QL.set(r,e.sort?e.sort():[e]),Ks(r)}:fW().includes(t)?function(...e){return t.apply(V0(this),e),Ks(KL.get(this))}:function(...e){return Ks(t.apply(V0(this),e))}}function vW(t){return typeof t=="function"?gW(t):(t instanceof IDBTransaction&&pW(t),cW(t,dW())?new Proxy(t,M_):t)}function Ks(t){if(t instanceof IDBRequest)return hW(t);if(U0.has(t))return U0.get(t);const e=vW(t);return e!==t&&(U0.set(t,e),RS.set(e,t)),e}const V0=t=>RS.get(t);function yW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ks(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ks(s.result),l.oldVersion,l.newVersion,Ks(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const wW=["get","getKey","getAll","getAllKeys","count"],bW=["put","add","delete","clear"],q0=new Map;function FO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q0.get(e))return q0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wW.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return q0.set(e,o),o}mW(t=>({...t,get:(e,n,r)=>FO(e,n)||t.get(e,n,r),has:(e,n)=>!!FO(e,n)||t.has(e,n)}));const XL="@firebase/installations",MS="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1e4,ZL=`w:${MS}`,e4="FIS_v2",_W="https://firebaseinstallations.googleapis.com/v1",xW=60*60*1e3,SW="installations",EW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tl=new pl(SW,EW,kW);function t4(t){return t instanceof Oi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4({projectId:t}){return`${_W}/projects/${t}/installations`}function r4(t){return{token:t.token,requestStatus:2,expiresIn:CW(t.expiresIn),creationTime:Date.now()}}async function i4(t,e){const r=(await e.json()).error;return tl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function o4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TW(t,{refreshToken:e}){const n=o4(t);return n.append("Authorization",OW(e)),n}async function s4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function CW(t){return Number(t.replace("s","000"))}function OW(t){return`${e4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=n4(t),i=o4(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const s={fid:n,authVersion:e4,appId:t.appId,sdkVersion:ZL},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await s4(()=>fetch(r,a));if(l.ok){const h=await l.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:r4(h.authToken)}}else throw await i4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=/^[cdef][\w-]{21}$/,L_="";function IW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PW(t);return DW.test(n)?n:L_}catch{return L_}}function PW(t){return AW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Map;function u4(t,e){const n=Hg(t);c4(n,e),RW(n,e)}function c4(t,e){const n=l4.get(t);if(n)for(const r of n)r(e)}function RW(t,e){const n=MW();n&&n.postMessage({key:t,fid:e}),LW()}let Fa=null;function MW(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=t=>{c4(t.data.key,t.data.fid)}),Fa}function LW(){l4.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="firebase-installations-database",FW=1,nl="firebase-installations-store";let H0=null;function LS(){return H0||(H0=yW(jW,FW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nl)}}})),H0}async function gm(t,e){const n=Hg(t),i=(await LS()).transaction(nl,"readwrite"),o=i.objectStore(nl),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&u4(t,e.fid),e}async function d4(t){const e=Hg(t),r=(await LS()).transaction(nl,"readwrite");await r.objectStore(nl).delete(e),await r.done}async function zg(t,e){const n=Hg(t),i=(await LS()).transaction(nl,"readwrite"),o=i.objectStore(nl),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&u4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t){let e;const n=await zg(t.appConfig,r=>{const i=$W(r),o=BW(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===L_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $W(t){const e=t||{fid:IW(),registrationStatus:0};return f4(e)}function BW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(tl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VW(t)}:{installationEntry:e}}async function UW(t,e){try{const n=await NW(t,e);return gm(t.appConfig,n)}catch(n){throw t4(n)&&n.customData.serverCode===409?await d4(t.appConfig):await gm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VW(t){let e=await $O(t.appConfig);for(;e.registrationStatus===1;)await a4(100),e=await $O(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jS(t);return r||n}return e}function $O(t){return zg(t,e=>{if(!e)throw tl.create("installation-not-found");return f4(e)})}function f4(t){return qW(t)?{fid:t.fid,registrationStatus:0}:t}function qW(t){return t.registrationStatus===1&&t.registrationTime+JL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW({appConfig:t,heartbeatServiceProvider:e},n){const r=zW(t,n),i=TW(t,n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const s={installation:{sdkVersion:ZL,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await s4(()=>fetch(r,a));if(l.ok){const h=await l.json();return r4(h)}else throw await i4("Generate Auth Token",l)}function zW(t,{fid:e}){return`${n4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t,e=!1){let n;const r=await zg(t.appConfig,o=>{if(!h4(o))throw tl.create("not-registered");const s=o.authToken;if(!e&&GW(s))return o;if(s.requestStatus===1)return n=WW(t,e),o;{if(!navigator.onLine)throw tl.create("app-offline");const a=QW(o);return n=YW(t,a),a}});return n?await n:r.authToken}async function WW(t,e){let n=await BO(t.appConfig);for(;n.authToken.requestStatus===1;)await a4(100),n=await BO(t.appConfig);const r=n.authToken;return r.requestStatus===0?FS(t,e):r}function BO(t){return zg(t,e=>{if(!h4(e))throw tl.create("not-registered");const n=e.authToken;return XW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YW(t,e){try{const n=await HW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gm(t.appConfig,r),n}catch(n){if(t4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await d4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gm(t.appConfig,r)}throw n}}function h4(t){return t!==void 0&&t.registrationStatus===2}function GW(t){return t.requestStatus===2&&!KW(t)}function KW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xW}function QW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function XW(t){return t.requestStatus===1&&t.requestTime+JL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t){const e=t,{installationEntry:n,registrationPromise:r}=await jS(e);return r?r.catch(console.error):FS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e=!1){const n=t;return await eY(n),(await FS(n,e)).token}async function eY(t){const{registrationPromise:e}=await jS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){if(!t||!t.options)throw z0("App Configuration");if(!t.name)throw z0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw z0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function z0(t){return tl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="installations",nY="installations-internal",rY=t=>{const e=t.getProvider("app").getImmediate(),n=tY(e),r=sa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iY=t=>{const e=t.getProvider("app").getImmediate(),n=sa(e,p4).getImmediate();return{getId:()=>JW(n),getToken:i=>ZW(n,i)}};function oY(){Ti(new fi(p4,rY,"PUBLIC")),Ti(new fi(nY,iY,"PRIVATE"))}oY();wr(XL,MS);wr(XL,MS,"esm2017");const sY=(t,e)=>e.some(n=>t instanceof n);let UO,VO;function aY(){return UO||(UO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lY(){return VO||(VO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m4=new WeakMap,j_=new WeakMap,g4=new WeakMap,W0=new WeakMap,$S=new WeakMap;function uY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&m4.set(n,t)}).catch(()=>{}),$S.set(e,t),e}function cY(t){if(j_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});j_.set(t,e)}let F_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dY(t){F_=t(F_)}function fY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Y0(this),e,...n);return g4.set(r,e.sort?e.sort():[e]),Yo(r)}:lY().includes(t)?function(...e){return t.apply(Y0(this),e),Yo(m4.get(this))}:function(...e){return Yo(t.apply(Y0(this),e))}}function hY(t){return typeof t=="function"?fY(t):(t instanceof IDBTransaction&&cY(t),sY(t,aY())?new Proxy(t,F_):t)}function Yo(t){if(t instanceof IDBRequest)return uY(t);if(W0.has(t))return W0.get(t);const e=hY(t);return e!==t&&(W0.set(t,e),$S.set(e,t)),e}const Y0=t=>$S.get(t);function v4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yo(s.result),l.oldVersion,l.newVersion,Yo(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function G0(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yo(n).then(()=>{})}const pY=["get","getKey","getAll","getAllKeys","count"],mY=["put","add","delete","clear"],K0=new Map;function qO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K0.get(e))return K0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pY.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return K0.set(e,o),o}dY(t=>({...t,get:(e,n,r)=>qO(e,n)||t.get(e,n,r),has:(e,n)=>!!qO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="/firebase-messaging-sw.js",vY="/firebase-cloud-messaging-push-scope",y4="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yY="https://fcmregistrations.googleapis.com/v1",w4="google.c.a.c_id",wY="google.c.a.c_l",bY="google.c.a.ts",_Y="google.c.a.e";var HO;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(HO||(HO={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ud;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ud||(Ud={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xY(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="fcm_token_details_db",SY=5,zO="fcm_token_object_Store";async function EY(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Q0))return null;let e=null;return(await v4(Q0,SY,{upgrade:async(r,i,o,s)=>{var a;if(i<2||!r.objectStoreNames.contains(zO))return;const l=s.objectStore(zO),h=await l.index("fcmSenderId").get(t);if(await l.clear(),!!h){if(i===2){const c=h;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Uo(c.vapidKey)}}}else if(i===3){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Uo(c.auth),p256dh:Uo(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Uo(c.vapidKey)}}}else if(i===4){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Uo(c.auth),p256dh:Uo(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Uo(c.vapidKey)}}}}}})).close(),await G0(Q0),await G0("fcm_vapid_details_db"),await G0("undefined"),kY(e)?e:null}function kY(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY="firebase-messaging-database",CY=1,rl="firebase-messaging-store";let X0=null;function BS(){return X0||(X0=v4(TY,CY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),X0}async function b4(t){const e=VS(t),r=await(await BS()).transaction(rl).objectStore(rl).get(e);if(r)return r;{const i=await EY(t.appConfig.senderId);if(i)return await US(t,i),i}}async function US(t,e){const n=VS(t),i=(await BS()).transaction(rl,"readwrite");return await i.objectStore(rl).put(e,n),await i.done,e}async function OY(t){const e=VS(t),r=(await BS()).transaction(rl,"readwrite");await r.objectStore(rl).delete(e),await r.done}function VS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},jr=new pl("messaging","Messaging",NY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t,e){const n=await HS(t),r=x4(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(qS(t.appConfig),i)).json()}catch(s){throw jr.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw jr.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw jr.create("token-subscribe-no-token");return o.token}async function DY(t,e){const n=await HS(t),r=x4(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${qS(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw jr.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw jr.create("token-update-failed",{errorInfo:s})}if(!o.token)throw jr.create("token-update-no-token");return o.token}async function _4(t,e){const r={method:"DELETE",headers:await HS(t)};try{const o=await(await fetch(`${qS(t.appConfig)}/${e}`,r)).json();if(o.error){const s=o.error.message;throw jr.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw jr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function qS({projectId:t}){return`${yY}/projects/${t}/registrations`}async function HS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function x4({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==y4&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=7*24*60*60*1e3;async function PY(t){const e=await LY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Uo(e.getKey("auth")),p256dh:Uo(e.getKey("p256dh"))},r=await b4(t.firebaseDependencies);if(r){if(jY(r.subscriptionOptions,n))return Date.now()>=r.createTime+IY?MY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await _4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return WO(t.firebaseDependencies,n)}else return WO(t.firebaseDependencies,n)}async function RY(t){const e=await b4(t.firebaseDependencies);e&&(await _4(t.firebaseDependencies,e.token),await OY(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function MY(t,e){try{const n=await DY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await US(t.firebaseDependencies,r),n}catch(n){throw await RY(t),n}}async function WO(t,e){const r={token:await AY(t,e),createTime:Date.now(),subscriptionOptions:e};return await US(t,r),r.token}async function LY(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xY(e)})}function jY(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return FY(e,t),$Y(e,t),BY(e,t),e}function FY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function $Y(t,e){e.data&&(t.data=e.data)}function BY(t,e){var n,r,i,o,s;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){return typeof t=="object"&&!!t&&w4 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */S4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");S4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function S4(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t){if(!t||!t.options)throw J0("App Configuration Object");if(!t.name)throw J0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw J0(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function J0(t){return jr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=VY(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t){try{t.swRegistration=await navigator.serviceWorker.register(gY,{scope:vY}),t.swRegistration.update().catch(()=>{})}catch(e){throw jr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zY(t,e){if(!e&&!t.swRegistration&&await HY(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw jr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=y4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){if(!navigator)throw jr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw jr.create("permission-blocked");return await WY(t,e==null?void 0:e.vapidKey),await zY(t,e==null?void 0:e.serviceWorkerRegistration),PY(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(t,e,n){const r=GY(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[w4],message_name:n[wY],message_time:n[bY],message_device_time:Math.floor(Date.now()/1e3)})}function GY(t){switch(t){case Ud.NOTIFICATION_CLICKED:return"notification_open";case Ud.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ud.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(YO(n)):t.onMessageHandler.next(YO(n)));const r=n.data;UY(r)&&r[_Y]==="1"&&await YY(t,n.messageType,r)}const GO="@firebase/messaging",KO="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=t=>{const e=new qY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>KY(e,n)),e},XY=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>E4(e,r)}};function JY(){Ti(new fi("messaging",QY,"PUBLIC")),Ti(new fi("messaging-internal",XY,"PRIVATE")),wr(GO,KO),wr(GO,KO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(){try{await qP()}catch{return!1}return typeof window<"u"&&VP()&&vU()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t=nf()){return ZY().then(e=>{if(!e)throw jr.create("unsupported-browser")},e=>{throw jr.create("indexed-db-unsupported")}),sa(It(t),"messaging").getImmediate()}async function tG(t,e){return t=It(t),E4(t,e)}JY();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="firebasestorage.googleapis.com",T4="storageBucket",nG=2*60*1e3,rG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Oi{constructor(e,n,r=0){super(Z0(e),`Firebase Storage: ${n} (${Z0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Z0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bn||(bn={}));function Z0(t){return"storage/"+t}function zS(){const t="An unknown error occurred, please check the error payload for server response.";return new xn(bn.UNKNOWN,t)}function iG(t){return new xn(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oG(t){return new xn(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xn(bn.UNAUTHENTICATED,t)}function aG(){return new xn(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lG(t){return new xn(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uG(){return new xn(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cG(){return new xn(bn.CANCELED,"User canceled the upload/download.")}function dG(t){return new xn(bn.INVALID_URL,"Invalid URL '"+t+"'.")}function fG(t){return new xn(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hG(){return new xn(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T4+"' property when initializing the app?")}function pG(){return new xn(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mG(){return new xn(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gG(t){return new xn(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $_(t){return new xn(bn.INVALID_ARGUMENT,t)}function C4(){return new xn(bn.APP_DELETED,"The Firebase app was deleted.")}function vG(t){return new xn(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vd(t,e){return new xn(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uc(t){throw new xn(bn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw fG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function h(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===k4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:o},{regex:m,indices:g,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let x=0;x<E.length;x++){const k=E[x],O=k.regex.exec(e);if(O){const N=O[k.indices.bucket];let C=O[k.indices.path];C||(C=""),r=new ui(N,C),k.postModify(r);break}}if(r==null)throw dG(e);return r}}class yG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let h=!1;function c(...w){h||(h=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(m,l())},w)}function p(){o&&clearTimeout(o)}function m(w,...b){if(h){p();return}if(w){p(),c.call(null,w,...b);return}if(l()||s){p(),c.call(null,w,...b);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function y(w){g||(g=!0,p(),!h&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function bG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t){return t!==void 0}function xG(t){return typeof t=="object"&&!Array.isArray(t)}function WS(t){return typeof t=="string"||t instanceof String}function QO(t){return YS()&&t instanceof Blob}function YS(){return typeof Blob<"u"&&!hU()}function XO(t,e,n,r){if(r<e)throw $_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n,r,i,o,s,a,l,h,c,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ep(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ha.NO_ERROR,l=o.getStatus();if(!a||SG(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Ha.ABORT;r(!1,new ep(!1,null,c));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new ep(h,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_G(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=zS();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?C4():cG();s(l)}else{const l=uG();s(l)}};this.canceled_?n(!1,new ep(!1,null,!0)):this.backoffId_=wG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ep{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NG(t,e,n,r,i,o,s=!0){const a=O4(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return CG(h,e),kG(h,n),TG(h,o),OG(h,r),new EG(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DG(...t){const e=AG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(YS())return new Blob(t);throw new xn(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){if(typeof atob>"u")throw gG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ew{constructor(e,n){this.data=e,this.contentType=n||null}}function RG(t,e){switch(t){case vo.RAW:return new ew(N4(e));case vo.BASE64:case vo.BASE64URL:return new ew(A4(t,e));case vo.DATA_URL:return new ew(LG(e),jG(e))}throw zS()}function N4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MG(t){let e;try{e=decodeURIComponent(t)}catch{throw vd(vo.DATA_URL,"Malformed data URL.")}return N4(e)}function A4(t,e){switch(t){case vo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw vd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw vd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=PG(e)}catch(i){throw i.message.includes("polyfill")?i:vd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class D4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vd(vo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=FG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LG(t){const e=new D4(t);return e.base64?A4(vo.BASE64,e.rest):MG(e.rest)}function jG(t){return new D4(t).contentType}function FG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){let r=0,i="";QO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(QO(this.data_)){const r=this.data_,i=IG(r,e,n);return i===null?null:new Bs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bs(r,!0)}}static getBlob(...e){if(YS()){const n=e.map(r=>r instanceof Bs?r.data_:r);return new Bs(DG.apply(null,n))}else{const n=e.map(s=>WS(s)?RG(vo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Bs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){let e;try{e=JSON.parse(t)}catch{return null}return xG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function P4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t,e){return e}class Ar{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UG}}let tp=null;function VG(t){return!WS(t)||t.length<2?t:P4(t)}function R4(){if(tp)return tp;const t=[];t.push(new Ar("bucket")),t.push(new Ar("generation")),t.push(new Ar("metageneration")),t.push(new Ar("name","fullPath",!0));function e(o,s){return VG(s)}const n=new Ar("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Ar("size");return i.xform=r,t.push(i),t.push(new Ar("timeCreated")),t.push(new Ar("updated")),t.push(new Ar("md5Hash",null,!0)),t.push(new Ar("cacheControl",null,!0)),t.push(new Ar("contentDisposition",null,!0)),t.push(new Ar("contentEncoding",null,!0)),t.push(new Ar("contentLanguage",null,!0)),t.push(new Ar("contentType",null,!0)),t.push(new Ar("metadata","customMetadata",!0)),tp=t,tp}function qG(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ui(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function HG(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return qG(r,t),r}function M4(t,e,n){const r=I4(e);return r===null?null:HG(t,r,n)}function zG(t,e,n,r){const i=I4(e);if(i===null||!WS(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(h=>{const c=t.bucket,f=t.fullPath,p="/b/"+s(c)+"/o/"+s(f),m=GS(p,n,r),g=O4({alt:"media",token:h});return m+g})[0]}function WG(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class L4{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){if(!t)throw zS()}function YG(t,e){function n(r,i){const o=M4(t,i,e);return j4(o!==null),o}return n}function GG(t,e){function n(r,i){const o=M4(t,i,e);return j4(o!==null),zG(o,i,t.host,t._protocol)}return n}function F4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=aG():i=sG():n.getStatus()===402?i=oG(t.bucket):n.getStatus()===403?i=lG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KG(t){const e=F4(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=iG(t.path)),o.serverResponse=i.serverResponse,o}return n}function QG(t,e,n){const r=e.fullServerUrl(),i=GS(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new L4(i,o,GG(t,n),s);return a.errorHandler=KG(e),a}function XG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XG(null,e)),r}function ZG(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let x=0;x<2;x++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const h=JG(e,r,i),c=WG(h,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Bs.getBlob(f,r,p);if(m===null)throw pG();const g={name:h.fullPath},y=GS(o,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,_=new L4(y,w,YG(t,n),b);return _.urlParams=g,_.headers=s,_.body=m.uploadData(),_.errorHandler=F4(e),_}class eK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Uc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tK extends eK{initXhr(){this.xhr_.responseType="text"}}function $4(){return new tK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new il(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P4(this._location.path)}get storage(){return this._service}get parent(){const e=$G(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new il(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vG(e)}}function nK(t,e,n){t._throwIfRoot("uploadBytes");const r=ZG(t.storage,t._location,R4(),new Bs(e,!0),n);return t.storage.makeRequestWithTokens(r,$4).then(i=>({metadata:i,ref:t}))}function rK(t){t._throwIfRoot("getDownloadURL");const e=QG(t.storage,t._location,R4());return t.storage.makeRequestWithTokens(e,$4).then(n=>{if(n===null)throw mG();return n})}function iK(t,e){const n=BG(t._location.path,e),r=new ui(t._location.bucket,n);return new il(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){return/^[A-Za-z]+:\/\//.test(t)}function sK(t,e){return new il(t,e)}function B4(t,e){if(t instanceof KS){const n=t;if(n._bucket==null)throw hG();const r=new il(n,n._bucket);return e!=null?B4(r,e):r}else return e!==void 0?iK(t,e):t}function aK(t,e){if(e&&oK(e)){if(t instanceof KS)return sK(t,e);throw $_("To use ref(service, url), the first argument must be a Storage instance.")}else return B4(t,e)}function JO(t,e){const n=e==null?void 0:e[T4];return n==null?null:ui.makeFromBucketSpec(n,t)}function lK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:UP(i,t.app.options.projectId))}class KS{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=k4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nG,this._maxUploadRetryTime=rG,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=JO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=JO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new il(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new yG(C4());{const s=NG(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ZO="@firebase/storage",eN="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="storage";function tN(t,e,n){return t=It(t),nK(t,e,n)}function B_(t){return t=It(t),rK(t)}function U_(t,e){return t=It(t),aK(t,e)}function uK(t=nf(),e){t=It(t);const r=sa(t,U4).getImmediate({identifier:e}),i=bx("storage");return i&&cK(r,...i),r}function cK(t,e,n,r={}){lK(t,e,n,r)}function dK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new KS(n,r,i,e,ml)}function fK(){Ti(new fi(U4,dK,"PUBLIC").setMultipleInstances(!0)),wr(ZO,eN,""),wr(ZO,eN,"esm2017")}fK();const hK={apiKey:"AIzaSyA6HW3pwkb-agsEpSYWGmlYSuvFiJDxp5c",authDomain:"han-bookclub.firebaseapp.com",projectId:"han-bookclub",storageBucket:"han-bookclub.appspot.com",messagingSenderId:"1033530409448",appId:"1:1033530409448:web:aff6942a34c0a48c81645d",measurementId:"G-925LMFR6FK"},pK=WP(hK),Ht=ug(),Jt=N7(),V_=uK(),mK=eG(pK),V4=lW(),vm=async()=>tG(mK,{vapidKey:"BDj5rPznBXENjg3_ufDJ6BLBU1igiHvQTiBDYOUMRbVQTcQpQRh6erEWWBQyg1SVuC3yAvzgM4xarrhpqwM26ag",serviceWorkerRegistration:await navigator.serviceWorker.register("/han-bookclub-app/firebase-messaging-sw.js")}),tw=GL(V4,"sendUnicast"),nN=GL(V4,"sendMulticast");var q4={};function gK(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var vK=gK,gt=vK;function yK(t){return!!t&&typeof t.then=="function"}var rn=yK;function wK(t,e){if(t!=null)return t;throw gt(e??"Got unexpected null or undefined")}var cn=wK;function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Wg{getValue(){throw gt("BaseLoadable")}toPromise(){throw gt("BaseLoadable")}valueMaybe(){throw gt("BaseLoadable")}valueOrThrow(){throw gt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw gt("BaseLoadable")}promiseOrThrow(){throw gt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw gt("BaseLoadable")}errorOrThrow(){throw gt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw gt("BaseLoadable")}}class bK extends Wg{constructor(e){super(),pt(this,"state","hasValue"),pt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return rn(n)?ol(n):Au(n)?n:xf(n)}catch(n){return rn(n)?ol(n.next(()=>this.map(e))):Yg(n)}}}class _K extends Wg{constructor(e){super(),pt(this,"state","hasError"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class H4 extends Wg{constructor(e){super(),pt(this,"state","loading"),pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ol(this.contents.then(n=>{const r=e(n);if(Au(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(rn(n))return n.then(()=>this.map(e).contents);throw n}))}}function xf(t){return Object.freeze(new bK(t))}function Yg(t){return Object.freeze(new _K(t))}function ol(t){return Object.freeze(new H4(t))}function z4(){return Object.freeze(new H4(new Promise(()=>{})))}function xK(t){return t.every(e=>e.state==="hasValue")?xf(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Yg(cn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ol(Promise.all(t.map(e=>e.contents)))}function W4(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Au(i)?i:rn(i)?ol(i):xf(i)),r=xK(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function Au(t){return t instanceof Wg}const SK={of:t=>rn(t)?ol(t):Au(t)?t:xf(t),error:t=>Yg(t),loading:()=>z4(),all:W4,isLoadable:Au};var _l={loadableWithValue:xf,loadableWithError:Yg,loadableWithPromise:ol,loadableLoading:z4,loadableAll:W4,isLoadable:Au,RecoilLoadable:SK},EK=_l.loadableWithValue,kK=_l.loadableWithError,TK=_l.loadableWithPromise,CK=_l.loadableLoading,OK=_l.loadableAll,NK=_l.isLoadable,AK=_l.RecoilLoadable,Sf=Object.freeze({__proto__:null,loadableWithValue:EK,loadableWithError:kK,loadableWithPromise:TK,loadableLoading:CK,loadableAll:OK,isLoadable:NK,RecoilLoadable:AK});const q_={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function DK(t,e){var n,r;const i=(n=q4[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw gt(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function IK(t,e){var n;const r=(n=q4[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function PK(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(DK("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{q_.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),IK("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{q_.RECOIL_GKS_ENABLED.add(n)})}))}PK();var Ef=q_;function Gg(t){return Ef.RECOIL_GKS_ENABLED.has(t)}Gg.setPass=t=>{Ef.RECOIL_GKS_ENABLED.add(t)};Gg.setFail=t=>{Ef.RECOIL_GKS_ENABLED.delete(t)};Gg.clear=()=>{Ef.RECOIL_GKS_ENABLED.clear()};var Xt=Gg;function RK(t,e,{error:n}={}){return null}var MK=RK,Jr=MK,nw,rw,iw;const LK=(nw=oe.createMutableSource)!==null&&nw!==void 0?nw:oe.unstable_createMutableSource,Y4=(rw=oe.useMutableSource)!==null&&rw!==void 0?rw:oe.unstable_useMutableSource,QS=(iw=oe.useSyncExternalStore)!==null&&iw!==void 0?iw:oe.unstable_useSyncExternalStore;let rN=!1;function jK(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null;return QS&&!i&&!rN&&(rN=!0,Jr()),i}function FK(){return Xt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Xt("recoil_sync_external_store")&&QS!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Xt("recoil_mutable_source")&&Y4!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Xt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Xt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var XS={createMutableSource:LK,useMutableSource:Y4,useSyncExternalStore:QS,currentRendererSupportsUseSyncExternalStore:jK,reactMode:FK};class JS{constructor(e){pt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class G4 extends JS{}class K4 extends JS{}function $K(t){return t instanceof G4||t instanceof K4}var Kg={AbstractRecoilValue:JS,RecoilState:G4,RecoilValueReadOnly:K4,isRecoilValue:$K},BK=Kg.AbstractRecoilValue,UK=Kg.RecoilState,VK=Kg.RecoilValueReadOnly,qK=Kg.isRecoilValue,sl=Object.freeze({__proto__:null,AbstractRecoilValue:BK,RecoilState:UK,RecoilValueReadOnly:VK,isRecoilValue:qK});function HK(t,...e){}var zK=HK,Q4=zK;function WK(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Qg=WK;class X4{}const YK=new X4,Du=new Map,ZS=new Map;function GK(t){return Qg(t,e=>cn(ZS.get(e)))}function KK(t){if(Du.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function QK(t){Ef.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&KK(t.key),Du.set(t.key,t);const e=t.set==null?new sl.RecoilValueReadOnly(t.key):new sl.RecoilState(t.key);return ZS.set(t.key,e),e}class XK extends Error{}function JK(t){const e=Du.get(t);if(e==null)throw new XK(`Missing definition for RecoilValue: "${t}""`);return e}function ZK(t){return Du.get(t)}const ym=new Map;function eQ(t){var e;if(!Xt("recoil_memory_managament_2020"))return;const n=Du.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Du.delete(t),(r=J4(t))===null||r===void 0||r(),ym.delete(t)}}function tQ(t,e){Xt("recoil_memory_managament_2020")&&(e===void 0?ym.delete(t):ym.set(t,e))}function J4(t){return ym.get(t)}var Ni={recoilValues:ZS,registerNode:QK,getNode:JK,getNodeMaybe:ZK,deleteNodeConfigIfPossible:eQ,setConfigDeletionHandler:tQ,getConfigDeletionHandler:J4,recoilValuesForKeys:GK,DefaultValue:X4,DEFAULT_VALUE:YK};function nQ(t,e){e()}var rQ={enqueueExecution:nQ};function iQ(t,e){return e={exports:{}},t(e,e.exports),e.exports}var oQ=iQ(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},h=function(ie){return function(){return ie}},c=n.hash=function(se){var ie=typeof se>"u"?"undefined":e(se);if(ie==="number")return se;ie!=="string"&&(se+="");for(var be=0,ke=0,Te=se.length;ke<Te;++ke){var Ne=se.charCodeAt(ke);be=(be<<5)-be+Ne|0}return be},f=function(ie){return ie-=ie>>1&1431655765,ie=(ie&858993459)+(ie>>2&858993459),ie=ie+(ie>>4)&252645135,ie+=ie>>8,ie+=ie>>16,ie&127},p=function(ie,be){return be>>>ie&o},m=function(ie){return 1<<ie},g=function(ie,be){return f(ie&be-1)},y=function(ie,be,ke,Te){var Ne=Te;if(!ie){var Ge=Te.length;Ne=new Array(Ge);for(var Be=0;Be<Ge;++Be)Ne[Be]=Te[Be]}return Ne[be]=ke,Ne},w=function(ie,be,ke){var Te=ke.length-1,Ne=0,Ge=0,Be=ke;if(ie)Ne=Ge=be;else for(Be=new Array(Te);Ne<be;)Be[Ge++]=ke[Ne++];for(++Ne;Ne<=Te;)Be[Ge++]=ke[Ne++];return ie&&(Be.length=Te),Be},b=function(ie,be,ke,Te){var Ne=Te.length;if(ie){for(var Ge=Ne;Ge>=be;)Te[Ge--]=Te[Ge];return Te[be]=ke,Te}for(var Be=0,He=0,rt=new Array(Ne+1);Be<be;)rt[He++]=Te[Be++];for(rt[be]=ke;Be<Ne;)rt[++He]=Te[Be++];return rt},_=1,E=2,x=3,k=4,O={__hamt_isEmpty:!0},N=function(ie){return ie===O||ie&&ie.__hamt_isEmpty},C=function(ie,be,ke,Te){return{type:_,edit:ie,hash:be,key:ke,value:Te,_modify:Y}},D=function(ie,be,ke){return{type:E,edit:ie,hash:be,children:ke,_modify:H}},P=function(ie,be,ke){return{type:x,edit:ie,mask:be,children:ke,_modify:j}},A=function(ie,be,ke){return{type:k,edit:ie,size:be,children:ke,_modify:U}},I=function(ie){return ie===O||ie.type===_||ie.type===E},L=function(ie,be,ke,Te,Ne){for(var Ge=[],Be=Te,He=0,rt=0;Be;++rt)Be&1&&(Ge[rt]=Ne[He++]),Be>>>=1;return Ge[be]=ke,A(ie,He+1,Ge)},F=function(ie,be,ke,Te){for(var Ne=new Array(be-1),Ge=0,Be=0,He=0,rt=Te.length;He<rt;++He)if(He!==ke){var xt=Te[He];xt&&!N(xt)&&(Ne[Ge++]=xt,Be|=1<<He)}return P(ie,Be,Ne)},q=function se(ie,be,ke,Te,Ne,Ge){if(ke===Ne)return D(ie,ke,[Ge,Te]);var Be=p(be,ke),He=p(be,Ne);return P(ie,m(Be)|m(He),Be===He?[se(ie,be+r,ke,Te,Ne,Ge)]:Be<He?[Te,Ge]:[Ge,Te])},M=function(ie,be,ke,Te,Ne,Ge,Be,He){for(var rt=Ne.length,xt=0;xt<rt;++xt){var An=Ne[xt];if(ke(Be,An.key)){var Lt=An.value,ln=Ge(Lt);return ln===Lt?Ne:ln===l?(--He.value,w(ie,xt,Ne)):y(ie,xt,C(be,Te,Be,ln),Ne)}}var Ur=Ge();return Ur===l?Ne:(++He.value,y(ie,rt,C(be,Te,Be,Ur),Ne))},B=function(ie,be){return ie===be.edit},Y=function(ie,be,ke,Te,Ne,Ge,Be){if(be(Ge,this.key)){var He=Te(this.value);return He===this.value?this:He===l?(--Be.value,O):B(ie,this)?(this.value=He,this):C(ie,Ne,Ge,He)}var rt=Te();return rt===l?this:(++Be.value,q(ie,ke,this.hash,this,Ne,C(ie,Ne,Ge,rt)))},H=function(ie,be,ke,Te,Ne,Ge,Be){if(Ne===this.hash){var He=B(ie,this),rt=M(He,ie,be,this.hash,this.children,Te,Ge,Be);return rt===this.children?this:rt.length>1?D(ie,this.hash,rt):rt[0]}var xt=Te();return xt===l?this:(++Be.value,q(ie,ke,this.hash,this,Ne,C(ie,Ne,Ge,xt)))},j=function(ie,be,ke,Te,Ne,Ge,Be){var He=this.mask,rt=this.children,xt=p(ke,Ne),An=m(xt),Lt=g(He,An),ln=He&An,Ur=ln?rt[Lt]:O,mi=Ur._modify(ie,be,ke+r,Te,Ne,Ge,Be);if(Ur===mi)return this;var ds=B(ie,this),Ii=He,ga=void 0;if(ln&&N(mi)){if(Ii&=~An,!Ii)return O;if(rt.length<=2&&I(rt[Lt^1]))return rt[Lt^1];ga=w(ds,Lt,rt)}else if(!ln&&!N(mi)){if(rt.length>=s)return L(ie,xt,mi,He,rt);Ii|=An,ga=b(ds,Lt,mi,rt)}else ga=y(ds,Lt,mi,rt);return ds?(this.mask=Ii,this.children=ga,this):P(ie,Ii,ga)},U=function(ie,be,ke,Te,Ne,Ge,Be){var He=this.size,rt=this.children,xt=p(ke,Ne),An=rt[xt],Lt=(An||O)._modify(ie,be,ke+r,Te,Ne,Ge,Be);if(An===Lt)return this;var ln=B(ie,this),Ur=void 0;if(N(An)&&!N(Lt))++He,Ur=y(ln,xt,Lt,rt);else if(!N(An)&&N(Lt)){if(--He,He<=a)return F(ie,He,xt,rt);Ur=y(ln,xt,O,rt)}else Ur=y(ln,xt,Lt,rt);return ln?(this.size=He,this.children=Ur,this):A(ie,He,Ur)};O._modify=function(se,ie,be,ke,Te,Ne,Ge){var Be=ke();return Be===l?O:(++Ge.value,C(se,Te,Ne,Be))};function V(se,ie,be,ke,Te){this._editable=se,this._edit=ie,this._config=be,this._root=ke,this._size=Te}V.prototype.setTree=function(se,ie){return this._editable?(this._root=se,this._size=ie,this):se===this._root?this:new V(this._editable,this._edit,this._config,se,ie)};var z=n.tryGetHash=function(se,ie,be,ke){for(var Te=ke._root,Ne=0,Ge=ke._config.keyEq;;)switch(Te.type){case _:return Ge(be,Te.key)?Te.value:se;case E:{if(ie===Te.hash)for(var Be=Te.children,He=0,rt=Be.length;He<rt;++He){var xt=Be[He];if(Ge(be,xt.key))return xt.value}return se}case x:{var An=p(Ne,ie),Lt=m(An);if(Te.mask&Lt){Te=Te.children[g(Te.mask,Lt)],Ne+=r;break}return se}case k:{if(Te=Te.children[p(Ne,ie)],Te){Ne+=r;break}return se}default:return se}};V.prototype.tryGetHash=function(se,ie,be){return z(se,ie,be,this)};var K=n.tryGet=function(se,ie,be){return z(se,be._config.hash(ie),ie,be)};V.prototype.tryGet=function(se,ie){return K(se,ie,this)};var X=n.getHash=function(se,ie,be){return z(void 0,se,ie,be)};V.prototype.getHash=function(se,ie){return X(se,ie,this)},n.get=function(se,ie){return z(void 0,ie._config.hash(se),se,ie)},V.prototype.get=function(se,ie){return K(ie,se,this)};var W=n.has=function(se,ie,be){return z(l,se,ie,be)!==l};V.prototype.hasHash=function(se,ie){return W(se,ie,this)};var J=n.has=function(se,ie){return W(ie._config.hash(se),se,ie)};V.prototype.has=function(se){return J(se,this)};var Z=function(ie,be){return ie===be};n.make=function(se){return new V(0,0,{keyEq:se&&se.keyEq||Z,hash:se&&se.hash||c},O,0)},n.empty=n.make();var te=n.isEmpty=function(se){return se&&!!N(se._root)};V.prototype.isEmpty=function(){return te(this)};var le=n.modifyHash=function(se,ie,be,ke){var Te={value:ke._size},Ne=ke._root._modify(ke._editable?ke._edit:NaN,ke._config.keyEq,0,se,ie,be,Te);return ke.setTree(Ne,Te.value)};V.prototype.modifyHash=function(se,ie,be){return le(be,se,ie,this)};var pe=n.modify=function(se,ie,be){return le(se,be._config.hash(ie),ie,be)};V.prototype.modify=function(se,ie){return pe(ie,se,this)};var ge=n.setHash=function(se,ie,be,ke){return le(h(be),se,ie,ke)};V.prototype.setHash=function(se,ie,be){return ge(se,ie,be,this)};var Ce=n.set=function(se,ie,be){return ge(be._config.hash(se),se,ie,be)};V.prototype.set=function(se,ie){return Ce(se,ie,this)};var Fe=h(l),De=n.removeHash=function(se,ie,be){return le(Fe,se,ie,be)};V.prototype.removeHash=V.prototype.deleteHash=function(se,ie){return De(se,ie,this)};var nt=n.remove=function(se,ie){return De(ie._config.hash(se),se,ie)};V.prototype.remove=V.prototype.delete=function(se){return nt(se,this)};var Qe=n.beginMutation=function(se){return new V(se._editable+1,se._edit+1,se._config,se._root,se._size)};V.prototype.beginMutation=function(){return Qe(this)};var ce=n.endMutation=function(se){return se._editable=se._editable&&se._editable-1,se};V.prototype.endMutation=function(){return ce(this)};var fe=n.mutate=function(se,ie){var be=Qe(ie);return se(be),ce(be)};V.prototype.mutate=function(se){return fe(se,this)};var we=function(ie){return ie&&_e(ie[0],ie[1],ie[2],ie[3],ie[4])},_e=function(ie,be,ke,Te,Ne){for(;ke<ie;){var Ge=be[ke++];if(Ge&&!N(Ge))return he(Ge,Te,[ie,be,ke,Te,Ne])}return we(Ne)},he=function(ie,be,ke){switch(ie.type){case _:return{value:be(ie),rest:ke};case E:case k:case x:var Te=ie.children;return _e(Te.length,Te,0,be,ke);default:return we(ke)}},$e={done:!0};function Ie(se){this.v=se}Ie.prototype.next=function(){if(!this.v)return $e;var se=this.v;return this.v=we(se.rest),se},Ie.prototype[Symbol.iterator]=function(){return this};var Ye=function(ie,be){return new Ie(he(ie._root,be))},Gt=function(ie){return[ie.key,ie.value]},Nn=n.entries=function(se){return Ye(se,Gt)};V.prototype.entries=V.prototype[Symbol.iterator]=function(){return Nn(this)};var it=function(ie){return ie.key},$r=n.keys=function(se){return Ye(se,it)};V.prototype.keys=function(){return $r(this)};var ut=function(ie){return ie.value},qt=n.values=V.prototype.values=function(se){return Ye(se,ut)};V.prototype.values=function(){return qt(this)};var Xn=n.fold=function(se,ie,be){var ke=be._root;if(ke.type===_)return se(ie,ke.value,ke.key);for(var Te=[ke.children],Ne=void 0;Ne=Te.pop();)for(var Ge=0,Be=Ne.length;Ge<Be;){var He=Ne[Ge++];He&&He.type&&(He.type===_?ie=se(ie,He.value,He.key):Te.push(He.children))}return ie};V.prototype.fold=function(se,ie){return Xn(se,ie,this)};var Br=n.forEach=function(se,ie){return Xn(function(be,ke,Te){return se(ke,Te,ie)},null,ie)};V.prototype.forEach=function(se){return Br(se,this)};var Cr=n.count=function(se){return se._size};V.prototype.count=function(){return Cr(this)},Object.defineProperty(V.prototype,"size",{get:V.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class sQ{constructor(e){pt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return tE(this)}toMap(){return new Map(this._map)}}class eE{constructor(e){if(pt(this,"_hamt",oQ.empty.beginMutation()),e instanceof eE){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return tE(this)}toMap(){return new Map(this._hamt)}}function tE(t){return Xt("recoil_hamt_2020")?new eE(t):new sQ(t)}var aQ={persistentMap:tE},lQ=aQ.persistentMap,uQ=Object.freeze({__proto__:null,persistentMap:lQ});function cQ(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var iN=cQ;function dQ(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var oN=dQ;function fQ(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function hQ(t){return{nodeDeps:oN(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:oN(t.nodeToNodeSubscriptions,e=>new Set(e))}}function ow(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:iN(e,s);for(const l of a)o.has(l)||o.set(l,new Set),cn(o.get(l)).add(t);if(s){const l=iN(s,e);for(const h of l){if(!o.has(h))return;const c=cn(o.get(h));c.delete(t),c.size===0&&o.delete(h)}}}function pQ(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||r===((o=l.previousTree)===null||o===void 0?void 0:o.version)||Jr();const h=n.getGraph(r);if(ow(t,e,h),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const f=n.getGraph(l.currentTree.version);ow(t,e,f,h)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const p=n.getGraph(f);ow(t,e,p,h)}}}var kf={cloneGraph:hQ,graph:fQ,saveDepsToStore:pQ};let mQ=0;const gQ=()=>mQ++;let vQ=0;const yQ=()=>vQ++;let wQ=0;const bQ=()=>wQ++;var Xg={getNextTreeStateVersion:gQ,getNextStoreID:yQ,getNextComponentID:bQ};const{persistentMap:sN}=uQ,{graph:_Q}=kf,{getNextTreeStateVersion:Z4}=Xg;function xQ(){const t=Z4();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:sN(),nonvalidatedAtoms:sN()}}function SQ(){const t=xQ();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,_Q()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var ej={makeEmptyStoreState:SQ,getNextTreeStateVersion:Z4};class EQ{}var nE={RetentionZone:EQ};function kQ(t,e){const n=new Set(t);return n.add(e),n}var TQ={setByAddingToSet:kQ};function*CQ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var rE=CQ;function OQ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var tj=OQ;const{getNode:Tf,getNodeMaybe:NQ,recoilValuesForKeys:aN}=Ni,{RetentionZone:lN}=nE,{setByAddingToSet:AQ}=TQ,DQ=Object.freeze(new Set);class IQ extends Error{}function PQ(t,e,n){if(!Xt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof lN)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!Xt("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof lN)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function iE(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Tf(n),s=PQ(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function RQ(t,e,n){iE(t,t.getState().currentTree,e,n)}function MQ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function LQ(t,e,n){return iE(t,e,n,"get"),Tf(n).get(t,e)}function nj(t,e,n){return Tf(n).peek(t,e)}function jQ(t,e,n){var r;const i=NQ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:AQ(t.dirtyAtoms,e)}}function FQ(t,e,n,r){const i=Tf(n);if(i.set==null)throw new IQ(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return iE(t,e,n,"set"),o(t,e,r)}function $Q(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Tf(n).nodeType;return tj({type:o},{loadable:()=>nj(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return aN((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:aN(rE(rj(t,e,new Set([n])),l=>l!==n)),components:Qg((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function rj(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:DQ;for(const h of l)r.has(h)||i.push(h)}return r}var xl={getNodeLoadable:LQ,peekNodeLoadable:nj,setNodeValue:FQ,initializeNode:RQ,cleanUpNode:MQ,setUnvalidatedAtomValue_DEPRECATED:jQ,peekNodeInfo:$Q,getDownstreamNodes:rj};let ij=null;function BQ(t){ij=t}function UQ(){var t;(t=ij)===null||t===void 0||t()}var oj={setInvalidateMemoizedSnapshot:BQ,invalidateMemoizedSnapshot:UQ};const{getDownstreamNodes:VQ,getNodeLoadable:sj,setNodeValue:qQ}=xl,{getNextComponentID:HQ}=Xg,{getNode:zQ,getNodeMaybe:aj}=Ni,{DefaultValue:oE}=Ni,{reactMode:WQ}=XS,{AbstractRecoilValue:YQ,RecoilState:Pge,RecoilValueReadOnly:Rge,isRecoilValue:Mge}=sl,{invalidateMemoizedSnapshot:GQ}=oj;function KQ(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||n.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||Jr();const s=sj(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function QQ(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof oE?n.delete(i):n.set(i,r)}),n}function XQ(t,e,{key:n},r){if(typeof r=="function"){const i=sj(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Jr(),gt(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function JQ(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=XQ(t,e,i,o),a=qQ(t,e,i.key,s);for(const[l,h]of a.entries())H_(e,l,h)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;H_(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=aj(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else Jr(`Unknown action ${n.type}`)}function H_(t,e,n){n.state==="hasValue"&&n.contents instanceof oE?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function lj(t,e){t.replaceState(n=>{const r=uj(n);for(const i of e)JQ(t,r,i);return cj(t,r),GQ(),r})}function Jg(t,e){if(yd.length){const n=yd[yd.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else lj(t,[e])}const yd=[];function ZQ(){const t=new Map;return yd.push(t),()=>{for(const[n,r]of t)lj(n,r);yd.pop()!==t&&Jr()}}function uj(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function cj(t,e){const n=VQ(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=aj(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function dj(t,e,n){Jg(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function eX(t,e,n){if(n instanceof oE)return dj(t,e,n);Jg(t,{type:"setLoadable",recoilValue:e,loadable:n})}function tX(t,e){Jg(t,{type:"markModified",recoilValue:e})}function nX(t,e,n){Jg(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function rX(t,{key:e},n,r=null){const i=HQ(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),cn(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=WQ();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);if(l===void 0||!l.has(i)){Jr();return}l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e)}}}function iX(t,e){var n;const{currentTree:r}=t.getState(),i=zQ(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var as={AbstractRecoilValue:YQ,getRecoilValueAsLoadable:KQ,setRecoilValue:dj,setRecoilValueLoadable:eX,markRecoilValueModified:tX,setUnvalidatedRecoilValue:nX,subscribeToRecoilValue:rX,applyAtomValueWrites:QQ,batchStart:ZQ,writeLoadableToTreeState:H_,invalidateDownstreams:cj,copyTreeState:uj,refreshRecoilValue:iX};function oX(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var sX=oX;const{cleanUpNode:aX}=xl,{deleteNodeConfigIfPossible:lX,getNode:fj}=Ni,{RetentionZone:hj}=nE,uX=12e4,pj=new Set;function mj(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree){Jr();return}const i=new Set;for(const s of e)if(s instanceof hj)for(const a of hX(n,s))i.add(a);else i.add(s);const o=cX(t,i);for(const s of o)fX(t,r,s)}function cX(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const h=new Set,c=dX(t,r,l,o,s);for(const g of c){var f;if(fj(g).retainedBy==="recoilRoot"){s.add(g);continue}if(((f=n.retention.referenceCounts.get(g))!==null&&f!==void 0?f:0)>0){s.add(g);continue}if(gj(g).some(w=>n.retention.referenceCounts.get(w))){s.add(g);continue}const y=i.nodeToNodeSubscriptions.get(g);if(y&&sX(y,w=>s.has(w))){s.add(g);continue}o.add(g),h.add(g)}const p=new Set;for(const g of h)for(const y of(m=i.nodeDeps.get(g))!==null&&m!==void 0?m:pj){var m;o.has(y)||p.add(y)}p.size&&a(p)}}function dX(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(cn(n.values().next().value));return s;function l(h){if(r.has(h)||i.has(h)){n.delete(h);return}if(a.has(h))return;const c=o.nodeToNodeSubscriptions.get(h);if(c)for(const f of c)l(f);a.add(h),n.delete(h),s.push(h)}}function fX(t,e,n){if(!Xt("recoil_memory_managament_2020"))return;aX(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=gj(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const h of l){var a;(a=s.nodeToNodeSubscriptions.get(h))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}lX(n)}function hX(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:pj}function gj(t){const e=fj(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof hj?[e]:e}function pX(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):mj(t,new Set([e]))}function mX(t,e,n){var r;if(!Xt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?gX(t,e):i.set(e,o)}function gX(t,e){if(!Xt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),pX(t,e)}function vX(t){if(!Xt("recoil_memory_managament_2020"))return;const e=t.getState();mj(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function yX(t){return t===void 0?"recoilRoot":t}var Ku={SUSPENSE_TIMEOUT_MS:uX,updateRetainCount:mX,releaseScheduledRetainablesNow:vX,retainedByOptionWithDefault:yX};const{unstable_batchedUpdates:wX}=gx;var bX={unstable_batchedUpdates:wX};const{unstable_batchedUpdates:_X}=bX;var xX={unstable_batchedUpdates:_X};const{batchStart:SX}=as,{unstable_batchedUpdates:EX}=xX;let kX=EX||(t=>t());const TX=t=>{kX(()=>{let e=()=>{};try{e=SX(),t()}finally{e()}})};var sE={batchUpdates:TX};function*CX(t){for(const e of t)for(const n of e)yield n}var vj=CX;const OX=typeof Window>"u"||typeof window>"u";var aE={isSSR:OX};function NX(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var AX={memoizeOneWithArgsHashAndInvalidation:NX};const{batchUpdates:z_}=sE,{initializeNode:DX,peekNodeInfo:IX}=xl,{graph:PX}=kf,{getNextStoreID:RX}=Xg,{DEFAULT_VALUE:MX,recoilValues:uN,recoilValuesForKeys:cN}=Ni,{AbstractRecoilValue:LX,getRecoilValueAsLoadable:jX,setRecoilValue:dN,setUnvalidatedRecoilValue:FX}=as,{updateRetainCount:Dp}=Ku,{setInvalidateMemoizedSnapshot:$X}=oj,{getNextTreeStateVersion:BX,makeEmptyStoreState:UX}=ej,{isSSR:VX}=aE,{memoizeOneWithArgsHashAndInvalidation:qX}=AX;class Zg{constructor(e,n){pt(this,"_store",void 0),pt(this,"_refCount",1),pt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),jX(this._store,r))),pt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),pt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return cN(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?uN.values():r.isInitialized===!0?cN(vj([i,o])):rE(uN.values(),({key:s})=>!i.has(s)&&!o.has(s))}),pt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),IX(this._store,this._store.getState().currentTree,r))),pt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new W_(this,z_);return r(i),i}),pt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new W_(this,z_);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:RX(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return cn(i.get(r));const o=PX();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw gt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)DX(this._store,r,"get"),Dp(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&Jr(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){VX||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Xt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Xt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function yj(t,e,n=!1){const r=t.getState(),i=n?BX():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Qg(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function HX(t){const e=new Zg(UX());return t!=null?e.map(t):e}const[fN,wj]=qX((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:cn(r.previousTree);return new Zg(yj(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});$X(wj);function zX(t,e="latest"){const n=fN(t,e);return n.isRetained()?n:(wj(),fN(t,e))}class W_ extends Zg{constructor(e,n){super(yj(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),pt(this,"_batch",void 0),pt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Dp(o,r.key,1),dN(this.getStore_INTERNAL(),r,i)})}),pt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Dp(i,r.key,1),dN(this.getStore_INTERNAL(),r,MX)})}),pt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();z_(()=>{for(const[o,s]of r.entries())Dp(i,o,1),FX(i,new LX(o),s)})}),this._batch=n}}var ev={Snapshot:Zg,MutableSnapshot:W_,freshSnapshot:HX,cloneSnapshot:zX},WX=ev.Snapshot,YX=ev.MutableSnapshot,GX=ev.freshSnapshot,KX=ev.cloneSnapshot,tv=Object.freeze({__proto__:null,Snapshot:WX,MutableSnapshot:YX,freshSnapshot:GX,cloneSnapshot:KX});function QX(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var XX=QX;const{useRef:JX}=oe;function ZX(t){const e=JX(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var hN=ZX;const{getNextTreeStateVersion:eJ,makeEmptyStoreState:bj}=ej,{cleanUpNode:tJ,getDownstreamNodes:nJ,initializeNode:rJ,setNodeValue:iJ,setUnvalidatedAtomValue_DEPRECATED:oJ}=xl,{graph:sJ}=kf,{cloneGraph:aJ}=kf,{getNextStoreID:_j}=Xg,{createMutableSource:sw,reactMode:xj}=XS,{applyAtomValueWrites:lJ}=as,{releaseScheduledRetainablesNow:Sj}=Ku,{freshSnapshot:uJ}=tv,{useCallback:cJ,useContext:Ej,useEffect:Y_,useMemo:dJ,useRef:fJ,useState:hJ}=oe;function Vc(){throw gt("This component must be used inside a <RecoilRoot> component.")}const kj=Object.freeze({storeID:_j(),getState:Vc,replaceState:Vc,getGraph:Vc,subscribeToTransactions:Vc,addTransactionMetadata:Vc});let G_=!1;function pN(t){if(G_)throw gt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Xt("recoil_memory_managament_2020")&&Xt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Sj(t);const n=e.currentTree.version,r=eJ();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,aJ(cn(e.graphsByVersion.get(n))))}}const Tj=oe.createContext({current:kj}),lE=()=>Ej(Tj),Cj=oe.createContext(null);function pJ(){const t=Ej(Cj);return t==null&&Q4(),t}function Oj(t,e,n){const r=nJ(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function mJ(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!xj().early||e.suspendedComponentResolvers.size>0)&&(Oj(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function gJ(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,mJ(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Jr("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Xt("recoil_memory_managament_2020")&&n==null&&Sj(t)}finally{e.commitDepth--}}function vJ({setNotifyBatcherOfChange:t}){const e=lE(),[,n]=hJ([]);return t(()=>n({})),Y_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Y_(()=>{rQ.enqueueExecution("Batcher",()=>{gJ(e.current)})}),null}function yJ(t,e){const n=bj();return e({set:(r,i)=>{const o=n.currentTree,s=iJ(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const h of a)l.delete(h);n.currentTree={...o,dirtyAtoms:XX(o.dirtyAtoms,a),atomValues:lJ(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=oJ(n.currentTree,o,i)})}}),n}function wJ(t){const e=uJ(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let mN=0;function bJ({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=m=>{const g=i.current.graphsByVersion;if(g.has(m))return cn(g.get(m));const y=sJ();return g.set(m,y),y},s=(m,g)=>{if(g==null){const{transactionSubscriptions:y}=f.current.getState(),w=mN++;return y.set(w,m),{release:()=>{y.delete(w)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(g)||y.set(g,new Map);const w=mN++;return cn(y.get(g)).set(w,m),{release:()=>{const b=y.get(g);b&&(b.delete(w),b.size===0&&y.delete(g))}}}},a=m=>{pN(f.current);for(const g of Object.keys(m))cn(f.current.getState().nextTree).transactionMetadata[g]=m[g]},l=m=>{pN(f.current);const g=cn(i.current.nextTree);let y;try{G_=!0,y=m(g)}finally{G_=!1}y!==g&&(i.current.nextTree=y,xj().early&&Oj(f.current,i.current,y),cn(h.current)())},h=fJ(null),c=cJ(m=>{h.current=m},[h]),f=hN(()=>n??{storeID:_j(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(f.current=n),i=hN(()=>t!=null?yJ(f.current,t):e!=null?wJ(e):bj());const p=dJ(()=>sw==null?void 0:sw(i,()=>i.current.currentTree.version),[i]);return Y_(()=>{const m=f.current;for(const g of new Set(m.getState().knownAtoms))rJ(m,g,"get");return()=>{for(const g of m.getState().knownAtoms)tJ(m,g)}},[f]),oe.createElement(Tj.Provider,{value:f},oe.createElement(Cj.Provider,{value:p},oe.createElement(vJ,{setNotifyBatcherOfChange:c}),r))}function _J(t){const{override:e,...n}=t,r=lE();return e===!1&&r.current!==kj?t.children:oe.createElement(bJ,n)}var uE={RecoilRoot:_J,useStoreRef:lE,useRecoilMutableSource:pJ};function xJ(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var SJ=xJ;const{useEffect:EJ,useRef:kJ}=oe;function TJ(t){const e=kJ();return EJ(()=>{e.current=t}),e.current}var CJ=TJ;const{useStoreRef:OJ}=uE,{SUSPENSE_TIMEOUT_MS:NJ}=Ku,{updateRetainCount:qc}=Ku,{RetentionZone:AJ}=nE,{useEffect:DJ,useRef:IJ}=oe,{isSSR:gN}=aE;function PJ(t){if(Xt("recoil_memory_managament_2020"))return RJ(t)}function RJ(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof AJ?s:s.key),r=OJ();DJ(()=>{if(!Xt("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!gN)window.clearTimeout(i.current),i.current=null;else for(const a of n)qc(s,a,1);return()=>{for(const a of n)qc(s,a,-1)}},[r,...n]);const i=IJ(),o=CJ(n);if(!gN&&(o===void 0||!SJ(o,n))){const s=r.current;for(const a of n)qc(s,a,1);if(o)for(const a of o)qc(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)qc(s,a,-1)},NJ)}}var MJ=PJ;function LJ(){return"<component name not available>"}var nv=LJ;const{currentRendererSupportsUseSyncExternalStore:jJ,reactMode:Cf,useMutableSource:FJ,useSyncExternalStore:$J}=XS,{useRecoilMutableSource:BJ,useStoreRef:Qu}=uE,{isRecoilValue:Lge}=sl,{getRecoilValueAsLoadable:rv,setRecoilValue:UJ,subscribeToRecoilValue:iv}=as,{useCallback:Hi,useEffect:wm,useMemo:VJ,useRef:Nj,useState:Aj}=oe,{isSSR:qJ}=aE;function HJ(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),qJ&&rn(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:gt(`Invalid value of loadable atom "${e.key}"`)}function zJ(t){const e=Qu(),n=nv(),r=Hi(()=>{var a;const l=e.current,h=l.getState(),c=Cf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return{loadable:rv(l,t,c),key:t.key}},[e,t]),i=Hi(a=>{let l;return()=>{var h,c;const f=a();return(h=l)!==null&&h!==void 0&&h.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),o=VJ(()=>i(r),[r,i]),s=Hi(a=>{const l=e.current;return iv(l,t,a,n).release},[e,t,n]);return $J(s,o,o).loadable}function WJ(t){const e=Qu(),n=Hi(()=>{var h;const c=e.current,f=c.getState(),p=Cf().early&&(h=f.nextTree)!==null&&h!==void 0?h:f.currentTree;return rv(c,t,p)},[e,t]),r=Hi(()=>n(),[n]),i=nv(),o=Hi((h,c)=>{const f=e.current;return iv(f,t,()=>{if(!Xt("recoil_suppress_rerender_in_callback"))return c();const m=n();l.current.is(m)||c(),l.current=m},i).release},[e,t,i,n]),s=BJ();if(s==null)throw gt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=FJ(s,r,o),l=Nj(a);return wm(()=>{l.current=a}),a}function vN(t){const e=Qu(),n=nv(),r=Hi(()=>{var l;const h=e.current,c=h.getState(),f=Cf().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return rv(h,t,f)},[e,t]),i=Hi(()=>({loadable:r(),key:t.key}),[r,t.key]),o=Hi(l=>{const h=i();return l.loadable.is(h.loadable)&&l.key===h.key?l:h},[i]);wm(()=>{const l=iv(e.current,t,h=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=Aj(i);return s.key!==t.key?i().loadable:s.loadable}function YJ(t){const e=Qu(),[,n]=Aj([]),r=nv(),i=Hi(()=>{var a;const l=e.current,h=l.getState(),c=Cf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return rv(l,t,c)},[e,t]),o=i(),s=Nj(o);return wm(()=>{s.current=o}),wm(()=>{const a=e.current,l=a.getState(),h=iv(a,t,f=>{var p;if(!Xt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=s.current)!==null&&p!==void 0&&p.is(m)||n(m),s.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!Xt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=s.current)!==null&&c!==void 0&&c.is(f)||n(f),s.current=f}return h.release},[r,i,t,e]),o}function GJ(t){return Xt("recoil_memory_managament_2020")&&MJ(t),{TRANSITION_SUPPORT:vN,SYNC_EXTERNAL_STORE:jJ()?zJ:vN,MUTABLE_SOURCE:WJ,LEGACY:YJ}[Cf().mode](t)}function Dj(t){const e=Qu(),n=GJ(t);return HJ(n,t,e)}function Ij(t){const e=Qu();return Hi(n=>{UJ(e.current,t,n)},[e,t])}function KJ(t){return[Dj(t),Ij(t)]}var QJ={useRecoilState:KJ,useRecoilValue:Dj,useSetRecoilState:Ij};const{batchUpdates:XJ}=sE,{DEFAULT_VALUE:JJ,getNode:ZJ}=Ni,{AbstractRecoilValue:eZ,setRecoilValueLoadable:tZ}=as,{cloneSnapshot:jge}=tv,{useCallback:Fge,useEffect:$ge,useRef:Bge,useState:Uge}=oe;function nZ(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;XJ(()=>{const s=new Set;for(const h of[i.atomValues.keys(),o.atomValues.keys()])for(const c of h){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&ZJ(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(h=>{tZ(t,new eZ(h),o.atomValues.has(h)?cn(o.atomValues.get(h)):JJ)}),t.replaceState(h=>({...h,stateID:e.getID()}))})}var rZ={gotoSnapshot:nZ};const{useMemo:Vge}=oe,{loadableWithValue:iZ}=Sf,{initializeNode:oZ}=xl,{DEFAULT_VALUE:sZ,getNode:aZ}=Ni,{copyTreeState:lZ,getRecoilValueAsLoadable:uZ,invalidateDownstreams:cZ,writeLoadableToTreeState:dZ}=as;function yN(t){return aZ(t.key).nodeType==="atom"}class fZ{constructor(e,n){pt(this,"_store",void 0),pt(this,"_treeState",void 0),pt(this,"_changes",void 0),pt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!yN(r))throw gt("Reading selectors within atomicUpdate is not supported");const i=uZ(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:gt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),pt(this,"set",(r,i)=>{if(!yN(r))throw gt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else oZ(this._store,r.key,"set"),this._changes.set(r.key,i)}),pt(this,"reset",r=>{this.set(r,sZ)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=lZ(this._treeState);for(const[n,r]of this._changes)dZ(e,n,iZ(r));return cZ(this._store,e),e}}function hZ(t){return e=>{t.replaceState(n=>{const r=new fZ(t,n);return e(r),r.newTreeState_INTERNAL()})}}var pZ={atomicUpdater:hZ},mZ=pZ.atomicUpdater,Pj=Object.freeze({__proto__:null,atomicUpdater:mZ});function gZ(t,e){if(!t)throw new Error(e)}var vZ=gZ,sd=vZ;const{atomicUpdater:yZ}=Pj,{batchUpdates:wZ}=sE,{DEFAULT_VALUE:bZ}=Ni,{refreshRecoilValue:_Z,setRecoilValue:wN}=as,{cloneSnapshot:xZ}=tv,{gotoSnapshot:SZ}=rZ,{useCallback:qge}=oe;class Rj{}const EZ=new Rj;function kZ(t,e,n,r){let i=EZ,o;if(wZ(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw gt(a);const l=tj({...r??{},set:(c,f)=>wN(t,c,f),reset:c=>wN(t,c,bZ),refresh:c=>_Z(t,c),gotoSnapshot:c=>SZ(t,c),transact_UNSTABLE:c=>yZ(t)(c)},{snapshot:()=>{const c=xZ(t);return o=c.retain(),c}}),h=e(l);if(typeof h!="function")throw gt(a);i=h(...n)}),i instanceof Rj&&sd(!1),rn(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}var TZ={recoilCallback:kZ};const{useCallback:Hge}=oe,{atomicUpdater:zge}=Pj,{useMemo:Wge}=oe;class CZ{constructor(e){pt(this,"value",void 0),this.value=e}}var OZ={WrappedValue:CZ},NZ=OZ.WrappedValue,Mj=Object.freeze({__proto__:null,WrappedValue:NZ});class bN extends Error{}class AZ{constructor(e){var n,r,i;pt(this,"_name",void 0),pt(this,"_numLeafs",void 0),pt(this,"_root",void 0),pt(this,"_onHit",void 0),pt(this,"_onSet",void 0),pt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let h,c;for(const[w,b]of e){var f,p,m;const _=this._root;if((_==null?void 0:_.type)==="leaf")throw this.invalidCacheError();const E=h;if(h=E?E.branches.get(c):_,h=(f=h)!==null&&f!==void 0?f:{type:"branch",nodeKey:w,parent:E,branches:new Map,branchKey:c},h.type!=="branch"||h.nodeKey!==w)throw this.invalidCacheError();E==null||E.branches.set(c,h),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,h),c=this._mapNodeValue(b),this._root=(m=this._root)!==null&&m!==void 0?m:h}const g=h?(o=h)===null||o===void 0?void 0:o.branches.get(c):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:h,branchKey:c};(s=h)===null||s===void 0||s.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(o){if(o instanceof bN)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw Jr("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new bN}}var DZ={TreeCache:AZ},IZ=DZ.TreeCache,Lj=Object.freeze({__proto__:null,TreeCache:IZ});class PZ{constructor(e){var n;pt(this,"_maxSize",void 0),pt(this,"_size",void 0),pt(this,"_head",void 0),pt(this,"_tail",void 0),pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=cn(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var RZ={LRUCache:PZ},MZ=RZ.LRUCache,jj=Object.freeze({__proto__:null,LRUCache:MZ});const{LRUCache:LZ}=jj,{TreeCache:jZ}=Lj;function FZ({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new LZ({maxSize:e}),i=new jZ({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var _N=FZ;function Ui(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw gt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(rn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Ui(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Ui(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Ui(o,e)]=s;return Ui(i,e,n)}return t instanceof Set?Ui(Array.from(t).sort((i,o)=>Ui(i,e).localeCompare(Ui(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Ui(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Ui(i,e)}:${Ui(t[i],e,i)}`).join(",")}}`}function $Z(t,e={allowFunctions:!1}){return Ui(t,e)}var ov=$Z;const{TreeCache:BZ}=Lj,np={equality:"reference",eviction:"keep-all",maxSize:1/0};function UZ({equality:t=np.equality,eviction:e=np.eviction,maxSize:n=np.maxSize}=np,r){const i=VZ(t);return qZ(e,n,i,r)}function VZ(t){switch(t){case"reference":return e=>e;case"value":return e=>ov(e)}throw gt(`Unrecognized equality policy ${t}`)}function qZ(t,e,n,r){switch(t){case"keep-all":return new BZ({name:r,mapNodeValue:n});case"lru":return _N({name:r,maxSize:cn(e),mapNodeValue:n});case"most-recent":return _N({name:r,maxSize:1,mapNodeValue:n})}throw gt(`Unrecognized eviction policy ${t}`)}var HZ=UZ;const{isLoadable:zZ,loadableWithError:rp,loadableWithPromise:WZ,loadableWithValue:aw}=Sf,{WrappedValue:Fj}=Mj,{getNodeLoadable:ip,peekNodeLoadable:YZ,setNodeValue:GZ}=xl,{saveDepsToStore:KZ}=kf,{DEFAULT_VALUE:QZ,getConfigDeletionHandler:XZ,getNode:JZ,registerNode:xN}=Ni,{isRecoilValue:ZZ}=sl,{markRecoilValueModified:SN}=as,{retainedByOptionWithDefault:eee}=Ku,{recoilCallback:tee}=TZ;class $j{}const Hc=new $j,zc=[],op=new Map,nee=(()=>{let t=0;return()=>t++})();function Bj(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=HZ(i??{equality:"reference",eviction:"keep-all"},n),l=eee(t.retainedBy_UNSTABLE),h=new Map;let c=0;function f(){return!Xt("recoil_memory_managament_2020")||c>0}function p(V){return V.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return XZ(n)!==void 0&&!f()}function g(V,z,K,X,W){M(z,X,W),y(V,K)}function y(V,z){F(V,z)&&L(V),b(z,!0)}function w(V,z){F(V,z)&&(cn(P(V)).stateVersions.clear(),b(z,!1))}function b(V,z){const K=op.get(V);if(K!=null){for(const X of K)SN(X,cn(e));z&&op.delete(V)}}function _(V,z){let K=op.get(z);K==null&&op.set(z,K=new Set),K.add(V)}function E(V,z,K,X,W,J){return z.then(Z=>{if(!f())throw L(V),Hc;const te=aw(Z);return g(V,K,W,te,X),Z}).catch(Z=>{if(!f())throw L(V),Hc;if(rn(Z))return x(V,Z,K,X,W,J);const te=rp(Z);throw g(V,K,W,te,X),Z})}function x(V,z,K,X,W,J){return z.then(Z=>{if(!f())throw L(V),Hc;J.loadingDepKey!=null&&J.loadingDepPromise===z?K.atomValues.set(J.loadingDepKey,aw(Z)):V.getState().knownSelectors.forEach(ge=>{K.atomValues.delete(ge)});const te=N(V,K);if(te&&te.state!=="loading"){if((F(V,W)||P(V)==null)&&y(V,W),te.state==="hasValue")return te.contents;throw te.contents}if(!F(V,W)){const ge=D(V,K);if(ge!=null)return ge.loadingLoadable.contents}const[le,pe]=O(V,K,W);if(le.state!=="loading"&&g(V,K,W,le,pe),le.state==="hasError")throw le.contents;return le.contents}).catch(Z=>{if(Z instanceof $j)throw Hc;if(!f())throw L(V),Hc;const te=rp(Z);throw g(V,K,W,te,X),Z})}function k(V,z,K,X){var W,J,Z,te;if(F(V,X)||z.version===((W=V.getState())===null||W===void 0||(J=W.currentTree)===null||J===void 0?void 0:J.version)||z.version===((Z=V.getState())===null||Z===void 0||(te=Z.nextTree)===null||te===void 0?void 0:te.version)){var le,pe,ge;KZ(n,K,V,(le=(pe=V.getState())===null||pe===void 0||(ge=pe.nextTree)===null||ge===void 0?void 0:ge.version)!==null&&le!==void 0?le:V.getState().currentTree.version)}for(const Ce of K)s.add(Ce)}function O(V,z,K){let X=!0,W=!0;const J=()=>{W=!1};let Z,te=!1,le;const pe={loadingDepKey:null,loadingDepPromise:null},ge=new Map;function Ce({key:De}){const nt=ip(V,z,De);switch(ge.set(De,nt),X||(k(V,z,new Set(ge.keys()),K),w(V,K)),nt.state){case"hasValue":return nt.contents;case"hasError":throw nt.contents;case"loading":throw pe.loadingDepKey=De,pe.loadingDepPromise=nt.contents,nt.contents}throw gt("Invalid Loadable state")}const Fe=De=>(...nt)=>{if(W)throw gt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&sd(!1),tee(V,De,nt,{node:e})};try{Z=r({get:Ce,getCallback:Fe}),Z=ZZ(Z)?Ce(Z):Z,zZ(Z)&&(Z.state==="hasError"&&(te=!0),Z=Z.contents),rn(Z)?Z=E(V,Z,z,ge,K,pe).finally(J):J(),Z=Z instanceof Fj?Z.value:Z}catch(De){Z=De,rn(Z)?Z=x(V,Z,z,ge,K,pe).finally(J):(te=!0,J())}return te?le=rp(Z):rn(Z)?le=WZ(Z):le=aw(Z),X=!1,I(V,K,ge),k(V,z,new Set(ge.keys()),K),[le,ge]}function N(V,z){let K=z.atomValues.get(n);if(K!=null)return K;const X=new Set;try{K=a.get(J=>(typeof J!="string"&&sd(!1),ip(V,z,J).contents),{onNodeVisit:J=>{J.type==="branch"&&J.nodeKey!==n&&X.add(J.nodeKey)}})}catch(J){throw gt(`Problem with cache lookup for selector "${n}": ${J.message}`)}if(K){var W;z.atomValues.set(n,K),k(V,z,X,(W=P(V))===null||W===void 0?void 0:W.executionID)}return K}function C(V,z){const K=N(V,z);if(K!=null)return L(V),K;const X=D(V,z);if(X!=null){var W;return((W=X.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&_(V,X.executionID),X.loadingLoadable}const J=nee(),[Z,te]=O(V,z,J);return Z.state==="loading"?(A(V,J,Z,te,z),_(V,J)):(L(V),M(z,Z,te)),Z}function D(V,z){const K=vj([h.has(V)?[cn(h.get(V))]:[],Qg(rE(h,([W])=>W!==V),([,W])=>W)]);function X(W){for(const[J,Z]of W)if(!ip(V,z,J).is(Z))return!0;return!1}for(const W of K){if(W.stateVersions.get(z.version)||!X(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(z.version,!0),W;W.stateVersions.set(z.version,!1)}}function P(V){return h.get(V)}function A(V,z,K,X,W){h.set(V,{depValuesDiscoveredSoFarDuringAsyncWork:X,executionID:z,loadingLoadable:K,stateVersions:new Map([[W.version,!0]])})}function I(V,z,K){if(F(V,z)){const X=P(V);X!=null&&(X.depValuesDiscoveredSoFarDuringAsyncWork=K)}}function L(V){h.delete(V)}function F(V,z){var K;return z===((K=P(V))===null||K===void 0?void 0:K.executionID)}function q(V){return Array.from(V.entries()).map(([z,K])=>[z,K.contents])}function M(V,z,K){V.atomValues.set(n,z);try{a.set(q(K),z)}catch(X){throw gt(`Problem with setting cache for selector "${n}": ${X.message}`)}}function B(V){if(zc.includes(n)){const z=`Recoil selector has circular dependencies: ${zc.slice(zc.indexOf(n)).join("  ")}`;return rp(gt(z))}zc.push(n);try{return V()}finally{zc.pop()}}function Y(V,z){const K=z.atomValues.get(n);return K??a.get(X=>{var W;return typeof X!="string"&&sd(!1),(W=YZ(V,z,X))===null||W===void 0?void 0:W.contents})}function H(V,z){return B(()=>C(V,z))}function j(V){V.atomValues.delete(n)}function U(V,z){e==null&&sd(!1);for(const X of s){var K;const W=JZ(X);(K=W.clearCache)===null||K===void 0||K.call(W,V,z)}s.clear(),j(z),a.clear(),SN(V,e)}return o!=null?e=xN({key:n,nodeType:"selector",peek:Y,get:H,set:(z,K,X)=>{let W=!1;const J=new Map;function Z({key:ge}){if(W)throw gt("Recoil: Async selector sets are not currently supported.");const Ce=ip(z,K,ge);if(Ce.state==="hasValue")return Ce.contents;if(Ce.state==="loading"){const Fe=`Getting value of asynchronous atom or selector "${ge}" in a pending state while setting selector "${n}" is not yet supported.`;throw Jr(),gt(Fe)}else throw Ce.contents}function te(ge,Ce){if(W){const nt="Recoil: Async selector sets are not currently supported.";throw Jr(),gt(nt)}const Fe=typeof Ce=="function"?Ce(Z(ge)):Ce;GZ(z,K,ge.key,Fe).forEach((nt,Qe)=>J.set(Qe,nt))}function le(ge){te(ge,QZ)}const pe=o({set:te,get:Z,reset:le},X);if(pe!==void 0)throw rn(pe)?gt("Recoil: Async selector sets are not currently supported."):gt("Recoil: selector set should be a void function.");return W=!0,J},init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=xN({key:n,nodeType:"selector",peek:Y,get:H,init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Bj.value=t=>new Fj(t);var Iu=Bj;const{isLoadable:ree,loadableWithError:lw,loadableWithPromise:uw,loadableWithValue:Kl}=Sf,{WrappedValue:Uj}=Mj,{peekNodeInfo:iee}=xl,{DEFAULT_VALUE:Ra,DefaultValue:Ms,getConfigDeletionHandler:Vj,registerNode:oee,setConfigDeletionHandler:see}=Ni,{isRecoilValue:aee}=sl,{getRecoilValueAsLoadable:lee,markRecoilValueModified:uee,setRecoilValue:EN,setRecoilValueLoadable:cee}=as,{retainedByOptionWithDefault:dee}=Ku,Wc=t=>t instanceof Uj?t.value:t;function fee(t){const{key:e,persistence_UNSTABLE:n}=t,r=dee(t.retainedBy_UNSTABLE);let i=0;function o(_){return uw(_.then(E=>(s=Kl(E),E)).catch(E=>{throw s=lw(E),E}))}let s=rn(t.default)?o(t.default):ree(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:Kl(Wc(t.default));s.contents;let a;const l=new Map;function h(_){return _}function c(_,E){const x=E.then(k=>{var O,N;return((N=((O=_.getState().nextTree)!==null&&O!==void 0?O:_.getState().currentTree).atomValues.get(e))===null||N===void 0?void 0:N.contents)===x&&EN(_,b,k),k}).catch(k=>{var O,N;throw((N=((O=_.getState().nextTree)!==null&&O!==void 0?O:_.getState().currentTree).atomValues.get(e))===null||N===void 0?void 0:N.contents)===x&&cee(_,b,lw(k)),k});return x}function f(_,E,x){var k;i++;const O=()=>{var P;i--,(P=l.get(_))===null||P===void 0||P.forEach(A=>A()),l.delete(_)};if(_.getState().knownAtoms.add(e),s.state==="loading"){const P=()=>{var A;((A=_.getState().nextTree)!==null&&A!==void 0?A:_.getState().currentTree).atomValues.has(e)||uee(_,b)};s.contents.finally(P)}const N=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(N!=null){let P=function(j){if(F&&j.key===e){const U=L;return U instanceof Ms?p(_,E):rn(U)?uw(U.then(V=>V instanceof Ms?s.toPromise():V)):Kl(U)}return lee(_,j)},A=function(j){return P(j).toPromise()},I=function(j){var U;const V=iee(_,(U=_.getState().nextTree)!==null&&U!==void 0?U:_.getState().currentTree,j.key);return F&&j.key===e&&!(L instanceof Ms)?{...V,isSet:!0,loadable:P(j)}:V},L=Ra,F=!0,q=!1,M=null;const B=j=>U=>{if(F){const V=P(b),z=V.state==="hasValue"?V.contents:Ra;L=typeof U=="function"?U(z):U,rn(L)&&(L=L.then(K=>(M={effect:j,value:K},K)))}else{if(rn(U))throw gt("Setting atoms to async values is not implemented.");typeof U!="function"&&(M={effect:j,value:Wc(U)}),EN(_,b,typeof U=="function"?V=>{const z=Wc(U(V));return M={effect:j,value:z},z}:Wc(U))}},Y=j=>()=>B(j)(Ra),H=j=>U=>{var V;const{release:z}=_.subscribeToTransactions(K=>{var X;let{currentTree:W,previousTree:J}=K.getState();J||(Jr(),J=W);const Z=(X=W.atomValues.get(e))!==null&&X!==void 0?X:s;if(Z.state==="hasValue"){var te,le,pe,ge;const Ce=Z.contents,Fe=(te=J.atomValues.get(e))!==null&&te!==void 0?te:s,De=Fe.state==="hasValue"?Fe.contents:Ra;((le=M)===null||le===void 0?void 0:le.effect)!==j||((pe=M)===null||pe===void 0?void 0:pe.value)!==Ce?U(Ce,De,!W.atomValues.has(e)):((ge=M)===null||ge===void 0?void 0:ge.effect)===j&&(M=null)}},e);l.set(_,[...(V=l.get(_))!==null&&V!==void 0?V:[],z])};for(const j of N)try{const U=j({node:b,storeID:_.storeID,parentStoreID_UNSTABLE:_.parentStoreID,trigger:x,setSelf:B(j),resetSelf:Y(j),onSet:H(j),getPromise:A,getLoadable:P,getInfo_UNSTABLE:I});if(U!=null){var C;l.set(_,[...(C=l.get(_))!==null&&C!==void 0?C:[],U])}}catch(U){L=U,q=!0}if(F=!1,!(L instanceof Ms)){var D;const j=q?lw(L):rn(L)?uw(c(_,L)):Kl(Wc(L));j.contents,E.atomValues.set(e,j),(D=_.getState().nextTree)===null||D===void 0||D.atomValues.set(e,j)}}return O}function p(_,E){var x,k;return(x=(k=E.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&x!==void 0?x:s}function m(_,E){if(E.atomValues.has(e))return cn(E.atomValues.get(e));if(E.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return Q4(),s;const x=E.nonvalidatedAtoms.get(e),k=n.validator(x,Ra);return a=k instanceof Ms?s:Kl(k),a}else return s}function g(){a=void 0}function y(_,E,x){if(E.atomValues.has(e)){const k=cn(E.atomValues.get(e));if(k.state==="hasValue"&&x===k.contents)return new Map}else if(!E.nonvalidatedAtoms.has(e)&&x instanceof Ms)return new Map;return a=void 0,new Map().set(e,Kl(x))}function w(){return Vj(e)!==void 0&&i<=0}const b=oee({key:e,nodeType:"atom",peek:p,get:m,set:y,init:f,invalidate:g,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return b}function cE(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return aee(n)?hee({...e,default:n}):fee({...e,default:n})}function hee(t){const e=cE({...t,default:Ra,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Ms?r:cn(t.persistence_UNSTABLE).validator(r,Ra)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Iu({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Ms?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return see(n.key,Vj(t.key)),n}cE.value=t=>new Uj(t);var qj=cE;class pee{constructor(e){var n;pt(this,"_map",void 0),pt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var mee={MapCache:pee},gee=mee.MapCache,vee=Object.freeze({__proto__:null,MapCache:gee});const{LRUCache:kN}=jj,{MapCache:yee}=vee,sp={equality:"reference",eviction:"none",maxSize:1/0};function wee({equality:t=sp.equality,eviction:e=sp.eviction,maxSize:n=sp.maxSize}=sp){const r=bee(t);return _ee(e,n,r)}function bee(t){switch(t){case"reference":return e=>e;case"value":return e=>ov(e)}throw gt(`Unrecognized equality policy ${t}`)}function _ee(t,e,n){switch(t){case"keep-all":return new yee({mapKey:n});case"lru":return new kN({mapKey:n,maxSize:cn(e)});case"most-recent":return new kN({mapKey:n,maxSize:1})}throw gt(`Unrecognized eviction policy ${t}`)}var Hj=wee;const{setConfigDeletionHandler:xee}=Ni;function See(t){var e,n;const r=Hj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...h}=t,c="default"in t?t.default:new Promise(()=>{}),f=qj({...h,key:`${t.key}__${(o=ov(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,f),xee(f.key,()=>{r.delete(i)}),f}}var Eee=See;const{setConfigDeletionHandler:kee}=Ni;let Tee=0;function Cee(t){var e,n;const r=Hj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(p){throw gt(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=ov(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${Tee++}`,l=p=>t.get(i)(p),h=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const p=t.set;f=Iu({key:a,get:l,set:(g,y)=>p(i)(g,y),cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Iu({key:a,get:l,cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),kee(f.key,()=>{r.delete(i)}),f}}var ha=Cee;ha({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});ha({key:"__error",get:t=>()=>{throw gt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:zj,loadableWithPromise:Wj,loadableWithValue:Yj}=Sf;function sv(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function Oee(t){return t!=null&&!rn(t)}function av(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function K_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function pu(t,e,n){const r=n.map((i,o)=>i==null?Yj(e[o]):rn(i)?Wj(i):zj(i));return K_(t,r)}function Nee(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}ha({key:"__waitForNone",get:t=>({get:e})=>{const n=av(t),[r,i]=sv(e,n);return pu(t,r,i)},dangerouslyAllowMutability:!0});ha({key:"__waitForAny",get:t=>({get:e})=>{const n=av(t),[r,i]=sv(e,n);return i.some(o=>!rn(o))?pu(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())rn(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(pu(t,r,i))}).catch(l=>{i[s]=l,o(pu(t,r,i))})})},dangerouslyAllowMutability:!0});ha({key:"__waitForAll",get:t=>({get:e})=>{const n=av(t),[r,i]=sv(e,n);if(i.every(s=>s==null))return K_(t,r);const o=i.find(Oee);if(o!=null)throw o;return Promise.all(i).then(s=>K_(t,Nee(r,s)))},dangerouslyAllowMutability:!0});ha({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=av(t),[r,i]=sv(e,n);return i.every(o=>!rn(o))?pu(t,r,i):Promise.all(i.map((o,s)=>rn(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>pu(t,r,i))},dangerouslyAllowMutability:!0});ha({key:"__noWait",get:t=>({get:e})=>{try{return Iu.value(Yj(e(t)))}catch(n){return Iu.value(rn(n)?Wj(n):zj(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:Yge}=Sf,{RecoilRoot:Aee}=uE,{isRecoilValue:Gge}=sl,{freshSnapshot:Kge}=tv,{useRecoilState:Dee,useRecoilValue:Iee,useSetRecoilState:Pee}=QJ;var pa={RecoilRoot:Aee,atom:qj,selector:Iu,atomFamily:Eee,selectorFamily:ha,useRecoilValue:Iee,useRecoilState:Dee,useSetRecoilState:Pee},Ree=pa.RecoilRoot,Cn=pa.atom,Gj=pa.selector,Mee=pa.atomFamily,Kj=pa.selectorFamily,Ve=pa.useRecoilValue,Wt=pa.useRecoilState,ea=pa.useSetRecoilState;const Qj=Cn({key:"modalList",default:[]});var ap,Lee=new Uint8Array(16);function jee(){if(!ap&&(ap=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ap))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ap(Lee)}const Fee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $ee(t){return typeof t=="string"&&Fee.test(t)}var er=[];for(var cw=0;cw<256;++cw)er.push((cw+256).toString(16).substr(1));function Bee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(er[t[e+0]]+er[t[e+1]]+er[t[e+2]]+er[t[e+3]]+"-"+er[t[e+4]]+er[t[e+5]]+"-"+er[t[e+6]]+er[t[e+7]]+"-"+er[t[e+8]]+er[t[e+9]]+"-"+er[t[e+10]]+er[t[e+11]]+er[t[e+12]]+er[t[e+13]]+er[t[e+14]]+er[t[e+15]]).toLowerCase();if(!$ee(n))throw TypeError("Stringified UUID is invalid");return n}function zt(t,e,n){t=t||{};var r=t.random||(t.rng||jee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Bee(r)}const dE=Cn({key:`recommendedBook/${zt()}`,default:{thumbnail:"",title:"",authors:[],url:"",publisher:""}}),Xj=Cn({key:`bookDesc${zt()}`,default:null}),Jj=Cn({key:`searchList${zt()}`,default:[]}),wd=[{id:1,name:""},{id:2,name:""},{id:3,name:"/"},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:"/"},{id:12,name:""}];function Uee(t,e){return t.length<e?t:`${t.slice(0,e)}...`}const Zj=6048e5,Vee=864e5,TN=Symbol.for("constructDateFrom");function ta(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&TN in t?t[TN](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xi(t,e){return ta(e||t,t)}let qee={};function lv(){return qee}function Vd(t,e){var a,l,h,c;const n=lv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Xi(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function bm(t,e){return Vd(t,{...e,weekStartsOn:1})}function e3(t,e){const n=Xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=ta(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=bm(i),s=ta(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=bm(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function CN(t){const e=Xi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Hee(t,...e){const n=ta.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function ON(t,e){const n=Xi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function zee(t,e,n){const[r,i]=Hee(n==null?void 0:n.in,t,e),o=ON(r),s=ON(i),a=+o-CN(o),l=+s-CN(s);return Math.round((a-l)/Vee)}function Wee(t,e){const n=e3(t,e),r=ta(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),bm(r)}function Yee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gee(t){return!(!Yee(t)&&typeof t!="number"||isNaN(+Xi(t)))}function Kee(t,e){const n=Xi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Qee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xee=(t,e,n)=>{let r;const i=Qee[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Jee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ete={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tte={date:mu({formats:Jee,defaultWidth:"full"}),time:mu({formats:Zee,defaultWidth:"full"}),dateTime:mu({formats:ete,defaultWidth:"full"})},nte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rte=(t,e,n,r)=>nte[t];function co(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const ite={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ote={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ste={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ate={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ute={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dte={ordinalNumber:cte,era:co({values:ite,defaultWidth:"wide"}),quarter:co({values:ote,defaultWidth:"wide",argumentCallback:t=>t-1}),month:co({values:ste,defaultWidth:"wide"}),day:co({values:ate,defaultWidth:"wide"}),dayPeriod:co({values:lte,defaultWidth:"wide",formattingValues:ute,defaultFormattingWidth:"wide"})};function fo(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?hte(a,f=>f.test(s)):fte(a,f=>f.test(s));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(s.length);return{value:h,rest:c}}}function fte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function t3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const pte=/^(\d+)(th|st|nd|rd)?/i,mte=/\d+/i,gte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vte={any:[/^b/i,/^(a|c)/i]},yte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wte={any:[/1/i,/2/i,/3/i,/4/i]},bte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_te={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ste={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ete={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tte={ordinalNumber:t3({matchPattern:pte,parsePattern:mte,valueCallback:t=>parseInt(t,10)}),era:fo({matchPatterns:gte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any"}),quarter:fo({matchPatterns:yte,defaultMatchWidth:"wide",parsePatterns:wte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fo({matchPatterns:bte,defaultMatchWidth:"wide",parsePatterns:_te,defaultParseWidth:"any"}),day:fo({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:Ste,defaultParseWidth:"any"}),dayPeriod:fo({matchPatterns:Ete,defaultMatchWidth:"any",parsePatterns:kte,defaultParseWidth:"any"})},Cte={code:"en-US",formatDistance:Xee,formatLong:tte,formatRelative:rte,localize:dte,match:Tte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ote(t,e){const n=Xi(t,e==null?void 0:e.in);return zee(n,Kee(n))+1}function Nte(t,e){const n=Xi(t,e==null?void 0:e.in),r=+bm(n)-+Wee(n);return Math.round(r/Zj)+1}function n3(t,e){var c,f,p,m;const n=Xi(t,e==null?void 0:e.in),r=n.getFullYear(),i=lv(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=ta((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Vd(s,e),l=ta((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const h=Vd(l,e);return+n>=+a?r+1:+n>=+h?r:r-1}function Ate(t,e){var a,l,h,c;const n=lv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=n3(t,e),o=ta((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Vd(o,e)}function Dte(t,e){const n=Xi(t,e==null?void 0:e.in),r=+Vd(n,e)-+Ate(n,e);return Math.round(r/Zj)+1}function Ft(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Is={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ft(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ft(n+1,2)},d(t,e){return Ft(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ft(t.getHours()%12||12,e.length)},H(t,e){return Ft(t.getHours(),e.length)},m(t,e){return Ft(t.getMinutes(),e.length)},s(t,e){return Ft(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ft(i,e.length)}},Ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NN={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Is.y(t,e)},Y:function(t,e,n,r){const i=n3(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Ft(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ft(o,e.length)},R:function(t,e){const n=e3(t);return Ft(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ft(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Is.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Dte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ft(i,e.length)},I:function(t,e,n){const r=Nte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ft(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Is.d(t,e)},D:function(t,e,n){const r=Ote(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ft(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ft(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ft(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ft(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ql.noon:r===0?i=Ql.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ql.evening:r>=12?i=Ql.afternoon:r>=4?i=Ql.morning:i=Ql.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Is.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Is.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Is.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Is.s(t,e)},S:function(t,e){return Is.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return DN(r);case"XXXX":case"XX":return Ia(r);case"XXXXX":case"XXX":default:return Ia(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return DN(r);case"xxxx":case"xx":return Ia(r);case"xxxxx":case"xxx":default:return Ia(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+AN(r,":");case"OOOO":default:return"GMT"+Ia(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+AN(r,":");case"zzzz":default:return"GMT"+Ia(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ft(r,e.length)},T:function(t,e,n){return Ft(+t,e.length)}};function AN(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ft(o,2)}function DN(t,e){return t%60===0?(t>0?"-":"+")+Ft(Math.abs(t)/60,2):Ia(t,e)}function Ia(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ft(Math.trunc(r/60),2),o=Ft(r%60,2);return n+i+e+o}const IN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},r3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ite=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return IN(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",IN(r,e)).replace("{{time}}",r3(i,e))},Pte={p:r3,P:Ite},Rte=/^D+$/,Mte=/^Y+$/,Lte=["D","DD","YY","YYYY"];function jte(t){return Rte.test(t)}function Fte(t){return Mte.test(t)}function $te(t,e,n){const r=Bte(t,e,n);if(console.warn(r),Lte.includes(t))throw new RangeError(r)}function Bte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ute=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qte=/^'([^]*?)'?$/,Hte=/''/g,zte=/[a-zA-Z]/;function Wte(t,e,n){var c,f,p,m,g,y,w,b;const r=lv(),i=(n==null?void 0:n.locale)??r.locale??Cte,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Xi(t,n==null?void 0:n.in);if(!Gee(a))throw new RangeError("Invalid time value");let l=e.match(Vte).map(_=>{const E=_[0];if(E==="p"||E==="P"){const x=Pte[E];return x(_,i.formatLong)}return _}).join("").match(Ute).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:Yte(_)};if(NN[E])return{isToken:!0,value:_};if(E.match(zte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Fte(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jte(E))&&$te(E,e,String(t));const x=NN[E[0]];return x(a,E,i.localize,h)}).join("")}function Yte(t){const e=t.match(qte);return e?e[1].replace(Hte,"'"):t}const Gte={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},Kte=(t,e,n)=>{let r;const i=Gte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" ":r+" ":r},Qte={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},Xte={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Jte={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Zte={date:mu({formats:Qte,defaultWidth:"full"}),time:mu({formats:Xte,defaultWidth:"full"}),dateTime:mu({formats:Jte,defaultWidth:"full"})},ene={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},tne=(t,e,n,r)=>ene[t],nne={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},rne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},ine={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},one={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},sne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},ane={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},lne=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},une={ordinalNumber:lne,era:co({values:nne,defaultWidth:"wide"}),quarter:co({values:rne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:co({values:ine,defaultWidth:"wide"}),day:co({values:one,defaultWidth:"wide"}),dayPeriod:co({values:sne,defaultWidth:"wide",formattingValues:ane,defaultFormattingWidth:"wide"})},cne=/^(\d+)(|)?/i,dne=/\d+/i,fne={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},hne={any:[/^(bc|)/i,/^(ad|)/i]},pne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},mne={any:[/1/i,/2/i,/3/i,/4/i]},gne={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},vne={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},yne={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},wne={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},bne={any:/^(am|pm|||||||)/i},_ne={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},xne={ordinalNumber:t3({matchPattern:cne,parsePattern:dne,valueCallback:t=>parseInt(t,10)}),era:fo({matchPatterns:fne,defaultMatchWidth:"wide",parsePatterns:hne,defaultParseWidth:"any"}),quarter:fo({matchPatterns:pne,defaultMatchWidth:"wide",parsePatterns:mne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fo({matchPatterns:gne,defaultMatchWidth:"wide",parsePatterns:vne,defaultParseWidth:"any"}),day:fo({matchPatterns:yne,defaultMatchWidth:"wide",parsePatterns:wne,defaultParseWidth:"any"}),dayPeriod:fo({matchPatterns:bne,defaultMatchWidth:"any",parsePatterns:_ne,defaultParseWidth:"any"})},i3={code:"ko",formatDistance:Kte,formatLong:Zte,formatRelative:tne,localize:une,match:xne,options:{weekStartsOn:0,firstWeekContainsDate:1}},Xu=new Date,ht=(t,e="yy M d HH:mm")=>{try{const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("  ");return Wte(n,e,{locale:i3})}catch(n){console.error("    :",n)}};function _m(t){const e=new Date;e.setHours(0,0,0,0);const n=new Date(t);n.setHours(0,0,0,0);const r=+n-+e;return`${Math.floor(r/(1e3*60*60*24))}`}const o3=()=>{const t=new Date(ht(Xu,"yyyy-MM"));return t.setMonth(t.getMonth()+1),ht(t,"yyyy-MM")};function s3(t=+Ct,e=+Qr,n=0,r=0){const i=new Date(t,e-1,1);for(;i.getDay()!==0;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+14),i.setHours(n,r,0,0),i}const Vn=ht(Xu,"yyyy-MM"),Ct=ht(Xu,"yyyy"),Qr=ht(Xu,"MM");ht(Xu,"dd");const dw=ht(o3(),"yyyy-MM"),Sne=`${+Ct+1}`,PN=ht(o3(),"MM"),xm=ht(Xu,"yyyy-MM-dd");function Sl(t){return t?!!Object.keys(t).length:{}}const Rr=(t,e)=>`${`BookClub-${t.slice(0,4)}`}/${t}/${e}`;function RN(t,e,n){return n==="latest"?t.monthId.localeCompare(e.monthId):e.monthId.localeCompare(t.monthId)}const Ene=(t,e)=>t==null?void 0:t.map(({id:r,book:{title:i}})=>{const o=e.map(({votedItem:a})=>a).flat(),s=o==null?void 0:o.filter(a=>(a==null?void 0:a.id)===r).length;return{id:r,voteCount:s,title:i}}),Sm=(t,e,n=0)=>t===0&&e===0?0:+(Math.round(t/e*1e4/10)/10).toFixed(n),Ci=`BookClub-${Ct}`,Pu="BookVote",al="Challenge",kne="TagList",qd="FCMNotification",Ki="User",Q_="VotedItems",a3="RecommendedBooks",Hd="HostReview",fE="Reviews",zd="Subjects",Wd="BookFieldAndHost",Ru="AbsenceMembers",Tne="MeetingPlace",l3=[{step:1,stepName:" "},{step:2,stepName:" "},{step:3,stepName:" "}],Cne=["",""],One={absenceMembers:Array.from({length:12},(t,e)=>({month:e+1,breakMembers:[],onceAbsenceMembers:[]}))},Nne={id:Ct,info:Array.from({length:12},(t,e)=>({month:e+1,hosts:[],field:"",detail:""}))},MN=["01","02","03","04","05","06","07","08","09","10","11","12"],Ane=Array.from({length:+Ct-2020},(t,e)=>`${+Ct-e}`),hE="wowo6806@naver.com";function lr(t,e,n){const r=WL(an(Jt,t,e),i=>{n({id:i.id,...i.data()})});u3(r)}function Yn(t,e){const n=IL(Jt,t),r=B0(n,AO("name","!=","")),i=B0(n,AO("__name__",">=",`${Ct}-`)),o=B0(n,B7("createdAt","desc")),a=WL(t===Ki?r:t===al?i:o,l=>{const h=l.docs.map(c=>({id:c.id,...c.data()}));e(h)});u3(a)}function u3(t){sg(Ht,e=>{e==null&&t()})}async function pE(t,e,n){const r=an(Jt,t,e);await Oo(r,n)}var lp={exports:{}},fw,LN;function c3(){return LN||(LN=1,fw=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}}),fw}var hw,jN;function ur(){if(jN)return hw;jN=1;var t=c3(),e=Object.prototype.toString,n=function(M){return function(B){var Y=e.call(B);return M[Y]||(M[Y]=Y.slice(8,-1).toLowerCase())}}(Object.create(null));function r(M){return M=M.toLowerCase(),function(Y){return n(Y)===M}}function i(M){return Array.isArray(M)}function o(M){return typeof M>"u"}function s(M){return M!==null&&!o(M)&&M.constructor!==null&&!o(M.constructor)&&typeof M.constructor.isBuffer=="function"&&M.constructor.isBuffer(M)}var a=r("ArrayBuffer");function l(M){var B;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?B=ArrayBuffer.isView(M):B=M&&M.buffer&&a(M.buffer),B}function h(M){return typeof M=="string"}function c(M){return typeof M=="number"}function f(M){return M!==null&&typeof M=="object"}function p(M){if(n(M)!=="object")return!1;var B=Object.getPrototypeOf(M);return B===null||B===Object.prototype}var m=r("Date"),g=r("File"),y=r("Blob"),w=r("FileList");function b(M){return e.call(M)==="[object Function]"}function _(M){return f(M)&&b(M.pipe)}function E(M){var B="[object FormData]";return M&&(typeof FormData=="function"&&M instanceof FormData||e.call(M)===B||b(M.toString)&&M.toString()===B)}var x=r("URLSearchParams");function k(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")}function O(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function N(M,B){if(!(M===null||typeof M>"u"))if(typeof M!="object"&&(M=[M]),i(M))for(var Y=0,H=M.length;Y<H;Y++)B.call(null,M[Y],Y,M);else for(var j in M)Object.prototype.hasOwnProperty.call(M,j)&&B.call(null,M[j],j,M)}function C(){var M={};function B(j,U){p(M[U])&&p(j)?M[U]=C(M[U],j):p(j)?M[U]=C({},j):i(j)?M[U]=j.slice():M[U]=j}for(var Y=0,H=arguments.length;Y<H;Y++)N(arguments[Y],B);return M}function D(M,B,Y){return N(B,function(j,U){Y&&typeof j=="function"?M[U]=t(j,Y):M[U]=j}),M}function P(M){return M.charCodeAt(0)===65279&&(M=M.slice(1)),M}function A(M,B,Y,H){M.prototype=Object.create(B.prototype,H),M.prototype.constructor=M,Y&&Object.assign(M.prototype,Y)}function I(M,B,Y){var H,j,U,V={};B=B||{};do{for(H=Object.getOwnPropertyNames(M),j=H.length;j-- >0;)U=H[j],V[U]||(B[U]=M[U],V[U]=!0);M=Object.getPrototypeOf(M)}while(M&&(!Y||Y(M,B))&&M!==Object.prototype);return B}function L(M,B,Y){M=String(M),(Y===void 0||Y>M.length)&&(Y=M.length),Y-=B.length;var H=M.indexOf(B,Y);return H!==-1&&H===Y}function F(M){if(!M)return null;var B=M.length;if(o(B))return null;for(var Y=new Array(B);B-- >0;)Y[B]=M[B];return Y}var q=function(M){return function(B){return M&&B instanceof M}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return hw={isArray:i,isArrayBuffer:a,isBuffer:s,isFormData:E,isArrayBufferView:l,isString:h,isNumber:c,isObject:f,isPlainObject:p,isUndefined:o,isDate:m,isFile:g,isBlob:y,isFunction:b,isStream:_,isURLSearchParams:x,isStandardBrowserEnv:O,forEach:N,merge:C,extend:D,trim:k,stripBOM:P,inherits:A,toFlatObject:I,kindOf:n,kindOfTest:r,endsWith:L,toArray:F,isTypedArray:q,isFileList:w},hw}var pw,FN;function d3(){if(FN)return pw;FN=1;var t=ur();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return pw=function(r,i,o){if(!i)return r;var s;if(o)s=o(i);else if(t.isURLSearchParams(i))s=i.toString();else{var a=[];t.forEach(i,function(c,f){c===null||typeof c>"u"||(t.isArray(c)?f=f+"[]":c=[c],t.forEach(c,function(m){t.isDate(m)?m=m.toISOString():t.isObject(m)&&(m=JSON.stringify(m)),a.push(e(f)+"="+e(m))}))}),s=a.join("&")}if(s){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},pw}var mw,$N;function Dne(){if($N)return mw;$N=1;var t=ur();function e(){this.handlers=[]}return e.prototype.use=function(r,i,o){return this.handlers.push({fulfilled:r,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(o){o!==null&&r(o)})},mw=e,mw}var gw,BN;function Ine(){if(BN)return gw;BN=1;var t=ur();return gw=function(n,r){t.forEach(n,function(o,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(n[r]=o,delete n[s])})},gw}var vw,UN;function Ju(){if(UN)return vw;UN=1;var t=ur();function e(i,o,s,a,l){Error.call(this),this.message=i,this.name="AxiosError",o&&(this.code=o),s&&(this.config=s),a&&(this.request=a),l&&(this.response=l)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,o,s,a,l,h){var c=Object.create(n);return t.toFlatObject(i,c,function(p){return p!==Error.prototype}),e.call(c,i.message,o,s,a,l),c.name=i.name,h&&Object.assign(c,h),c},vw=e,vw}var yw,VN;function f3(){return VN||(VN=1,yw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),yw}var ww,qN;function h3(){if(qN)return ww;qN=1;var t=ur();function e(n,r){r=r||new FormData;var i=[];function o(a){return a===null?"":t.isDate(a)?a.toISOString():t.isArrayBuffer(a)||t.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function s(a,l){if(t.isPlainObject(a)||t.isArray(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+l);i.push(a),t.forEach(a,function(c,f){if(!t.isUndefined(c)){var p=l?l+"."+f:f,m;if(c&&!l&&typeof c=="object"){if(t.endsWith(f,"{}"))c=JSON.stringify(c);else if(t.endsWith(f,"[]")&&(m=t.toArray(c))){m.forEach(function(g){!t.isUndefined(g)&&r.append(p,o(g))});return}}s(c,p)}}),i.pop()}else r.append(l,o(a))}return s(n),r}return ww=e,ww}var bw,HN;function Pne(){if(HN)return bw;HN=1;var t=Ju();return bw=function(n,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},bw}var _w,zN;function Rne(){if(zN)return _w;zN=1;var t=ur();return _w=t.isStandardBrowserEnv()?function(){return{write:function(r,i,o,s,a,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),t.isString(s)&&h.push("path="+s),t.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),_w}var xw,WN;function Mne(){return WN||(WN=1,xw=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),xw}var Sw,YN;function Lne(){return YN||(YN=1,Sw=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Sw}var Ew,GN;function p3(){if(GN)return Ew;GN=1;var t=Mne(),e=Lne();return Ew=function(r,i){return r&&!t(i)?e(r,i):i},Ew}var kw,KN;function jne(){if(KN)return kw;KN=1;var t=ur(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return kw=function(r){var i={},o,s,a;return r&&t.forEach(r.split(`
`),function(h){if(a=h.indexOf(":"),o=t.trim(h.substr(0,a)).toLowerCase(),s=t.trim(h.substr(a+1)),o){if(i[o]&&e.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},kw}var Tw,QN;function Fne(){if(QN)return Tw;QN=1;var t=ur();return Tw=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(s){var a=s;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(a){var l=t.isString(a)?o(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Tw}var Cw,XN;function uv(){if(XN)return Cw;XN=1;var t=Ju(),e=ur();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Cw=n,Cw}var Ow,JN;function $ne(){return JN||(JN=1,Ow=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Ow}var Nw,ZN;function eA(){if(ZN)return Nw;ZN=1;var t=ur(),e=Pne(),n=Rne(),r=d3(),i=p3(),o=jne(),s=Fne(),a=f3(),l=Ju(),h=uv(),c=$ne();return Nw=function(p){return new Promise(function(g,y){var w=p.data,b=p.headers,_=p.responseType,E;function x(){p.cancelToken&&p.cancelToken.unsubscribe(E),p.signal&&p.signal.removeEventListener("abort",E)}t.isFormData(w)&&t.isStandardBrowserEnv()&&delete b["Content-Type"];var k=new XMLHttpRequest;if(p.auth){var O=p.auth.username||"",N=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";b.Authorization="Basic "+btoa(O+":"+N)}var C=i(p.baseURL,p.url);k.open(p.method.toUpperCase(),r(C,p.params,p.paramsSerializer),!0),k.timeout=p.timeout;function D(){if(k){var I="getAllResponseHeaders"in k?o(k.getAllResponseHeaders()):null,L=!_||_==="text"||_==="json"?k.responseText:k.response,F={data:L,status:k.status,statusText:k.statusText,headers:I,config:p,request:k};e(function(M){g(M),x()},function(M){y(M),x()},F),k=null}}if("onloadend"in k?k.onloadend=D:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(D)},k.onabort=function(){k&&(y(new l("Request aborted",l.ECONNABORTED,p,k)),k=null)},k.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,p,k,k)),k=null},k.ontimeout=function(){var L=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",F=p.transitional||a;p.timeoutErrorMessage&&(L=p.timeoutErrorMessage),y(new l(L,F.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,k)),k=null},t.isStandardBrowserEnv()){var P=(p.withCredentials||s(C))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;P&&(b[p.xsrfHeaderName]=P)}"setRequestHeader"in k&&t.forEach(b,function(L,F){typeof w>"u"&&F.toLowerCase()==="content-type"?delete b[F]:k.setRequestHeader(F,L)}),t.isUndefined(p.withCredentials)||(k.withCredentials=!!p.withCredentials),_&&_!=="json"&&(k.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&k.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(E=function(I){k&&(y(!I||I&&I.type?new h:I),k.abort(),k=null)},p.cancelToken&&p.cancelToken.subscribe(E),p.signal&&(p.signal.aborted?E():p.signal.addEventListener("abort",E))),w||(w=null);var A=c(C);if(A&&["http","https","file"].indexOf(A)===-1){y(new l("Unsupported protocol "+A+":",l.ERR_BAD_REQUEST,p));return}k.send(w)})},Nw}var Aw,tA;function Bne(){return tA||(tA=1,Aw=null),Aw}var Dw,nA;function mE(){if(nA)return Dw;nA=1;var t=ur(),e=Ine(),n=Ju(),r=f3(),i=h3(),o={"Content-Type":"application/x-www-form-urlencoded"};function s(c,f){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=f)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=eA()),c}function l(c,f,p){if(t.isString(c))try{return(f||JSON.parse)(c),t.trim(c)}catch(m){if(m.name!=="SyntaxError")throw m}return(p||JSON.stringify)(c)}var h={transitional:r,adapter:a(),transformRequest:[function(f,p){if(e(p,"Accept"),e(p,"Content-Type"),t.isFormData(f)||t.isArrayBuffer(f)||t.isBuffer(f)||t.isStream(f)||t.isFile(f)||t.isBlob(f))return f;if(t.isArrayBufferView(f))return f.buffer;if(t.isURLSearchParams(f))return s(p,"application/x-www-form-urlencoded;charset=utf-8"),f.toString();var m=t.isObject(f),g=p&&p["Content-Type"],y;if((y=t.isFileList(f))||m&&g==="multipart/form-data"){var w=this.env&&this.env.FormData;return i(y?{"files[]":f}:f,w&&new w)}else if(m||g==="application/json")return s(p,"application/json"),l(f);return f}],transformResponse:[function(f){var p=this.transitional||h.transitional,m=p&&p.silentJSONParsing,g=p&&p.forcedJSONParsing,y=!m&&this.responseType==="json";if(y||g&&t.isString(f)&&f.length)try{return JSON.parse(f)}catch(w){if(y)throw w.name==="SyntaxError"?n.from(w,n.ERR_BAD_RESPONSE,this,null,this.response):w}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bne()},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(f){h.headers[f]={}}),t.forEach(["post","put","patch"],function(f){h.headers[f]=t.merge(o)}),Dw=h,Dw}var Iw,rA;function Une(){if(rA)return Iw;rA=1;var t=ur(),e=mE();return Iw=function(r,i,o){var s=this||e;return t.forEach(o,function(l){r=l.call(s,r,i)}),r},Iw}var Pw,iA;function m3(){return iA||(iA=1,Pw=function(e){return!!(e&&e.__CANCEL__)}),Pw}var Rw,oA;function Vne(){if(oA)return Rw;oA=1;var t=ur(),e=Une(),n=m3(),r=mE(),i=uv();function o(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new i}return Rw=function(a){o(a),a.headers=a.headers||{},a.data=e.call(a,a.data,a.headers,a.transformRequest),a.headers=t.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var l=a.adapter||r.adapter;return l(a).then(function(c){return o(a),c.data=e.call(a,c.data,c.headers,a.transformResponse),c},function(c){return n(c)||(o(a),c&&c.response&&(c.response.data=e.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},Rw}var Mw,sA;function g3(){if(sA)return Mw;sA=1;var t=ur();return Mw=function(n,r){r=r||{};var i={};function o(f,p){return t.isPlainObject(f)&&t.isPlainObject(p)?t.merge(f,p):t.isPlainObject(p)?t.merge({},p):t.isArray(p)?p.slice():p}function s(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return o(void 0,n[f])}else return o(n[f],r[f])}function a(f){if(!t.isUndefined(r[f]))return o(void 0,r[f])}function l(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return o(void 0,n[f])}else return o(void 0,r[f])}function h(f){if(f in r)return o(n[f],r[f]);if(f in n)return o(void 0,n[f])}var c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(p){var m=c[p]||s,g=m(p);t.isUndefined(g)&&m!==h||(i[p]=g)}),i},Mw}var Lw,aA;function v3(){return aA||(aA=1,Lw={version:"0.27.2"}),Lw}var jw,lA;function qne(){if(lA)return jw;lA=1;var t=v3().version,e=Ju(),n={};["object","boolean","number","function","string","symbol"].forEach(function(o,s){n[o]=function(l){return typeof l===o||"a"+(s<1?"n ":" ")+o}});var r={};n.transitional=function(s,a,l){function h(c,f){return"[Axios v"+t+"] Transitional option '"+c+"'"+f+(l?". "+l:"")}return function(c,f,p){if(s===!1)throw new e(h(f," has been removed"+(a?" in "+a:"")),e.ERR_DEPRECATED);return a&&!r[f]&&(r[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(c,f,p):!0}};function i(o,s,a){if(typeof o!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(o),h=l.length;h-- >0;){var c=l[h],f=s[c];if(f){var p=o[c],m=p===void 0||f(p,c,o);if(m!==!0)throw new e("option "+c+" must be "+m,e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new e("Unknown option "+c,e.ERR_BAD_OPTION)}}return jw={assertOptions:i,validators:n},jw}var Fw,uA;function Hne(){if(uA)return Fw;uA=1;var t=ur(),e=d3(),n=Dne(),r=Vne(),i=g3(),o=p3(),s=qne(),a=s.validators;function l(h){this.defaults=h,this.interceptors={request:new n,response:new n}}return l.prototype.request=function(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var p=f.transitional;p!==void 0&&s.assertOptions(p,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=[],g=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(f)===!1||(g=g&&O.synchronous,m.unshift(O.fulfilled,O.rejected))});var y=[];this.interceptors.response.forEach(function(O){y.push(O.fulfilled,O.rejected)});var w;if(!g){var b=[r,void 0];for(Array.prototype.unshift.apply(b,m),b=b.concat(y),w=Promise.resolve(f);b.length;)w=w.then(b.shift(),b.shift());return w}for(var _=f;m.length;){var E=m.shift(),x=m.shift();try{_=E(_)}catch(k){x(k);break}}try{w=r(_)}catch(k){return Promise.reject(k)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},l.prototype.getUri=function(c){c=i(this.defaults,c);var f=o(c.baseURL,c.url);return e(f,c.params,c.paramsSerializer)},t.forEach(["delete","get","head","options"],function(c){l.prototype[c]=function(f,p){return this.request(i(p||{},{method:c,url:f,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(c){function f(p){return function(g,y,w){return this.request(i(w||{},{method:c,headers:p?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}l.prototype[c]=f(),l.prototype[c+"Form"]=f(!0)}),Fw=l,Fw}var $w,cA;function zne(){if(cA)return $w;cA=1;var t=uv();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(s){r=s});var i=this;this.promise.then(function(o){if(i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(l){i.subscribe(l),s=l}).then(o);return a.cancel=function(){i.unsubscribe(s)},a},n(function(s){i.reason||(i.reason=new t(s),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(s){r=s});return{token:i,cancel:r}},$w=e,$w}var Bw,dA;function Wne(){return dA||(dA=1,Bw=function(e){return function(r){return e.apply(null,r)}}),Bw}var Uw,fA;function Yne(){if(fA)return Uw;fA=1;var t=ur();return Uw=function(n){return t.isObject(n)&&n.isAxiosError===!0},Uw}var hA;function Gne(){if(hA)return lp.exports;hA=1;var t=ur(),e=c3(),n=Hne(),r=g3(),i=mE();function o(a){var l=new n(a),h=e(n.prototype.request,l);return t.extend(h,n.prototype,l),t.extend(h,l),h.create=function(f){return o(r(a,f))},h}var s=o(i);return s.Axios=n,s.CanceledError=uv(),s.CancelToken=zne(),s.isCancel=m3(),s.VERSION=v3().version,s.toFormData=h3(),s.AxiosError=Ju(),s.Cancel=s.CanceledError,s.all=function(l){return Promise.all(l)},s.spread=Wne(),s.isAxiosError=Yne(),lp.exports=s,lp.exports.default=s,lp.exports}var Vw,pA;function Kne(){return pA||(pA=1,Vw=Gne()),Vw}var Qne=Kne();const Xne=Zd(Qne),Jne=Xne.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK e8625f56dd420c3a1e0b08fa4e2550d4"}}),Zne=t=>Jne.get("/v3/search/book",{params:t}),ere=async(t,e)=>{const n={query:t},{data:r}=await Zne(n);e(r.documents)},tre=ug(),ma=Cn({key:`allUsers/${zt}`,default:[],effects:[({setSelf:t})=>{Yn(Ki,t)}]}),Ot=Cn({key:`currUser/${zt}`,default:null,effects:[({setSelf:t})=>{const e=sg(tre,n=>{if(n){const{uid:r,email:i,displayName:o,photoURL:s}=n;t({uid:r??"",email:i??"",displayName:o??" ",photoURL:s??""})}else t(null)});return()=>{e()}}]}),gE=Mee({key:`user/${zt}`,default:{},effects:t=>[({setSelf:e})=>{t&&lr(Ki,t,e)}]}),vE=({setText:t,collName:e,docData:n})=>{const{uid:r}=Ve(Ot),[i,o]=Wt(gE(r)),s=ea(dE),a=an(IL(Jt,e)),l=an(Jt,Ki,`${r}`),{alertAskJoinMember:h}=ei("write");Q.useEffect(()=>{r&&!Sl(i)&&lr(Ki,r,o)},[r]);const c=async m=>{var g;m.preventDefault();try{if(n.text.length===0)return;await Oo(a,n);const y={monthId:Vn,docId:a.id};f(y),(g=n==null?void 0:n.recommendedBook)!=null&&g.title&&s({thumbnail:"",title:"",authors:[],url:"",publisher:""})}catch(y){console.error("Error adding document:",y)}t("")},f=async m=>{var g,y,w,b,_;e.includes("Sentence")&&await hn(l,{"userRecords.sentences":[...((g=i==null?void 0:i.userRecords)==null?void 0:g.sentences)??[],m]}),e.includes("Reviews")&&await hn(l,{"userRecords.reviews":[...((y=i==null?void 0:i.userRecords)==null?void 0:y.reviews)??[],m]}),e.includes("Subjects")&&await hn(l,{"userRecords.subjects":[...((w=i==null?void 0:i.userRecords)==null?void 0:w.subjects)??[],m]}),e.includes("RecommendedBooks")&&await hn(l,{"userRecords.recommendedBooks":[...((b=i==null?void 0:i.userRecords)==null?void 0:b.recommendedBooks)??[],{monthId:Vn,docId:a.id}]}),e.includes("HostReview")&&await hn(l,{"userRecords.hostReviews":[...((_=i==null?void 0:i.userRecords)==null?void 0:_.hostReviews)??[],m]})};function p(m){if(Ht.currentUser.isAnonymous)return h();t(m.currentTarget.value)}return{onAddDocSubmit:c,onChange:p}},nre=({docId:t,collName:e})=>{const{uid:n}=Ve(Ot),[r,i]=Wt(gE(n)),o=an(Jt,e,t),s=an(Jt,Ki,n);Q.useEffect(()=>{n&&!Sl(r)&&lr(Ki,n,i)},[n]);const a=async()=>{window.confirm(" ?")&&(await qg(o),l())},l=async()=>{const{reviews:h,subjects:c,recommendedBooks:f,hostReviews:p,sentences:m}=r.userRecords;if(e.includes("Reviews")){const g=h.filter(y=>y.docId!==o.id);await hn(s,{"userRecords.reviews":g})}if(e.includes("Subjects")){const g=c.filter(y=>y.docId!==o.id);await hn(s,{"userRecords.subjects":g})}if(e.includes("Recommended")){const g=f.filter(y=>y.docId!==o.id);await hn(s,{"userRecords.recommendedBooks":g})}if(e.includes("HostReview")){const g=p.filter(y=>y.docId!==o.id);await hn(s,{"userRecords.hostReviews":g})}if(e.includes("Sentence-2024")){const g=m.filter(y=>y.docId!==o.id);await hn(s,{"userRecords.sentences":g})}};return{onDeleteClick:a}},rre=({post:t,collName:e})=>{const[n,r]=Q.useState(t.text),i=an(Jt,e,t.id),{alertAskJoinMember:o,anonymous:s}=ei("see"),a=()=>e.includes("Reviews")?{text:n}:{text:n},{hideModal:l}=Yt();return{editedText:n,setEditedText:r,onEditedSubmit:async f=>{if(f.preventDefault(),s)return o();if(n==="<p><br></p>")return alert("  .");await hn(i,a()),l()},onEditedChange:f=>{r(f.currentTarget.value)}}},Yt=()=>{const[t,e]=Wt(Qj);return{modalList:t,showModal:i=>new Promise(o=>{const s={...i,isOpen:!0};e(a=>[...a,s]),o()}),hideModal:async i=>{if(typeof i=="string"&&i){const o=t.map(s=>s.key===i?{...s,isOpen:!1}:s);e(o)}else e([])}}},ei=t=>{var a;const e=kr(),n=(a=Ht.currentUser)==null?void 0:a.isAnonymous,{hideModal:r}=Yt(),i=()=>{switch(t){case"see":return"  ";case"edit":return"  ";case"register":return"  ";case"write":return"  "}};function o(){if(Ht.currentUser.isAnonymous){const l=window.confirm(`  ${i()}.  .`);if(r(),l)return e("/login")}}return{alertAskJoinMember:o,blockLinkAndAlertJoinMember:l=>{n&&(l.preventDefault(),o())},anonymous:n}},ire=()=>{var y;const[t,e]=Q.useState(""),[n,r]=Q.useState(""),[i,o]=Q.useState(""),s=(y=Ht.currentUser)==null?void 0:y.isAnonymous,a=Ht==null?void 0:Ht.currentUser,l=kr(),h=w=>{if(w.preventDefault(),!t||!n||!i)return;const b=ua.credential(a==null?void 0:a.email,t);bR(a,b).then(()=>{if(n!==i){m();return}g()}).catch(_=>{if(console.error(_),_.message.includes("auth/missing-email"))return window.alert(" .")})},c=w=>{if(s)return alert(" !");r(w.currentTarget.value)},f=w=>{if(s)return alert(" !");e(w.currentTarget.value)},p=w=>{if(s)return alert(" !");o(w.currentTarget.value)};function m(){window.alert("   .   .")}function g(){k9(a,n).then(()=>{window.alert("  ."),e(""),r(""),o(""),l(-1)}).catch(w=>{console.error(w)})}return{onSubmit:h,originPassword:t,onOriginChange:f,newPassword:n,onNewChange:c,checkNewPassword:i,onCheckNewChange:p}},ore=()=>{const[t,e]=Q.useState(l3[0]),[n,r]=Q.useState(""),[i,o]=Q.useState(""),[s,a]=Q.useState(""),[l,h]=Q.useState(""),[c,f]=Q.useState(""),[p,m]=Q.useState(""),[g,y]=Q.useState(""),[w,b]=Q.useState(new Set),_=kr();return{currentStep:t,keyword:n,onFirstStepChange:P=>{const{currentTarget:{value:A}}=P;r(A)},onFirstStepSubmit:P=>{P.preventDefault(),n===""?e({step:2,stepName:" "}):alert("  !")},email:i,password:s,checkPassword:l,showErrorMsg:c,onSecondStepChange:P=>{const{currentTarget:{name:A,value:I}}=P;switch(A){case"email":o(I);break;case"password":a(I),f("");break;case"checkPassword":h(I);break}},onSecondStepSubmit:async P=>{P.preventDefault();try{if(i.length===0)return f("  !");if(s.length<8)return f(" 8 .");if(s!==l)return f("  .");window.alert("      !"),e({step:3,stepName:" "})}catch(A){if(A.message.includes("email-already-in-use"))return f("    .   .")}},username:p,userGender:g,checkedBookField:w,onThirdStepChange:async P=>{const{currentTarget:{name:A,value:I}}=P;switch(A){case"username":m(I);break;case"gender":y(I);break}},onThirdStepSubmit:async P=>{var A;P.preventDefault();try{await x9(Ht,i,s),p&&g&&w.size!==0?(await Oo(an(Jt,Ki,`${(A=Ht.currentUser)==null?void 0:A.uid}`),{favoriteBookField:Array.from(w),gender:g,name:p,displayName:"  ",photoURL:""}),window.alert("  .      !"),_("/")):alert("    .")}catch(I){if(I.message.includes("auth/invalid-email"))return f("   .");console.error(I.message)}},checkedBoxHandler:(P,A)=>{A?(w.add(P),b(w)):!A&&w.has(P)&&(w.delete(P),b(w))}}},sre={id:"",title:"",creatorId:"",createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),deadline:"",voteItems:[]},are={id:0,selectReason:"",book:{title:"",thumbnail:"",url:""}},yE=Cn({key:`bookVoteDocs/${zt()}`,default:null}),lre=()=>{const{uid:t}=Ve(Ot),n=Ve(yE).length,r={id:1,book:{title:"",thumbnail:"",url:""},selectReason:""},i={id:`${(n+1).toString().padStart(3,"0")}`,title:"",createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:t,deadline:ht(new Date,"yyyy-MM-dd"),voteItems:[r,{...r,id:2}]},[o,s]=Q.useState(i),{alertAskJoinMember:a,anonymous:l}=ei("register"),{sendPushNotificationToAllUser:h,isPending:c}=Ji(),f=async()=>{const _=an(Jt,Pu,`VoteId-${o.id}`);await Oo(_,o)},{hideModal:p}=Yt();return{newVote:o,setNewVote:s,onNewVoteSubmit:async _=>{if(_.preventDefault(),l)return a();if(o.title==="")return;if(o.voteItems.find(x=>x.book.title===""))return alert("    !");try{f(),window.alert("  !"),p(),h({title:"  ",body:`${o.title}  .    !`,subPath:"/vote"})}catch(x){console.error("Error adding document:",x)}},onVoteTitleChange:_=>{const E={...o,title:_.currentTarget.value};s(E)},onDateChange:_=>{const E={...o,deadline:ht(_,"yyyy-MM-dd")};s(E)},onAddVoteItemBtn:()=>{const _={voteItems:[...o.voteItems,{...are,id:o.voteItems.length+1}]};s(E=>({...E,..._}))},onDeleteVoteItemClick:_=>{const E=o.voteItems.filter(({id:x})=>x!==_);s(x=>({...x,voteItems:E}))},isPending:c}},ure=()=>{var h;const[t,e]=Q.useState(""),[n,r]=Q.useState(!1),{uid:i}=Ve(Ot),o=kr(),s=(h=Ht.currentUser)==null?void 0:h.isAnonymous;return{onDeleteSubmit:c=>{if(c.preventDefault(),t==="")return;const f=Ht.currentUser,p=ua.credential(f==null?void 0:f.email,t);try{window.confirm(" ?")===!0?bR(f,p).then(()=>{const g=an(Jt,Ki,`${i}`);qg(g),N9(f),o("/")}).catch(g=>{g.message.includes("wrong-password")&&r(!0)}):window.alert(".")}catch(m){console.log(m)}},showMessage:n,password:t,onChange:c=>{if(s)return alert(" !");e(c.currentTarget.value)}}},wE=Cn({key:`basePhotoAtom/${zt()}`,default:null});Cn({key:`selectedYearAtom/${zt()}`,default:Ct});const Zu=Cn({key:`clubByYearAtom/${zt()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,o,s)=>{s?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),Ai=Kj({key:"clubByMonthSelector",get:t=>({get:e})=>e(Zu).find(({id:r})=>r===t)||null}),bE=()=>{const[t,e]=Q.useState(Ct),[n,r]=Wt(Zu);Q.useEffect(()=>{Yn(`BookClub-${t}`,r)},[t]);const i=Q.useMemo(()=>n.filter(({book:o})=>o.thumbnail!=="").map(o=>({...o.book,yearMonthId:o.id})),[n]);return{clubByYear:n,selectedYear:t,setSelectedYear:e,clubBookListByYear:i}},El=Cn({key:`absence/${zt()}`,default:null,effects:[({setSelf:t})=>{(async()=>{lr(Ci,Ru,t)})()}]}),y3=Kj({key:"attendanceSelector",get:t=>({get:e})=>{const n=e(ma),r=e(El),i=(r==null?void 0:r.absenceMembers)||[],o=+t.slice(0,4),s=+t.slice(-2),a=i.find(({month:c})=>s===c),l=[...(a==null?void 0:a.breakMembers)||[],...(a==null?void 0:a.onceAbsenceMembers)||[]],h=n.filter(({membershipJoinTime:c})=>{const f=new Date(o,s-1);return new Date(c).getTime()<f.getTime()}).filter(c=>!l.includes(c.id)).map(c=>c.id);return{absenteeList:l,participantList:h}}}),cre={month:1,breakMonth:!1,onceAbsenceMonth:!1},dre=()=>{const{uid:t}=Ve(Ot),[e,n]=Wt(El),[r,i]=Q.useState(cre),o=an(Jt,Ci,Ru),s=(h,c)=>c?h.includes(t)?h:[...h,t]:h.filter(f=>f!==t),{hideModal:a}=Yt();return{onSubmit:async(h,c)=>{h.preventDefault();const{onceAbsenceMonth:f,breakMonth:p}=r,m=e.absenceMembers.map(y=>{const{breakMembers:w,onceAbsenceMembers:b}=y,_={...y,breakMembers:s(w,p),onceAbsenceMembers:s(b,f)};return y.month===c?_:y}),g={...e,absenceMembers:m};n(g),await hn(o,{absenceMembers:m}),a()},selectedValues:r,setSelectedValues:i}},cv=Cn({key:`fieldAndHostAtom/${zt()}`,default:{id:"",bookFieldAndHostList:[]},effects:[({setSelf:t})=>{(async()=>{lr(`BookClub-${Ct}`,Wd,t)})()}]}),fre=Gj({key:"clubByMonthSelector",get:({get:t})=>{var n;const e=t(cv);return(n=e==null?void 0:e.bookFieldAndHostList)==null?void 0:n.find(({month:r})=>r===+Qr+1)}}),hre=()=>{const[t,e]=Q.useState(null),[n,r]=Wt(cv),{alertAskJoinMember:i,anonymous:o}=ei("edit"),{bookFieldAndHostList:s}=n,a=an(Jt,`BookClub-${Ct}`,Wd),{errorMsg:l,handleErrorMsg:h}=_E(),{hideModal:c}=Yt(),f={field:[{condition:(t==null?void 0:t.field)==="",error:"  ."}],hosts:[{condition:(t==null?void 0:t.hosts.length)===0,error:"   ."}]},p=async(m,g)=>{if(m.preventDefault(),o)return i();if(h(f))return;const w=s.map(_=>{const E={..._,...t};return _.month===g?E:_}),b={...n,bookFieldAndHostList:w};r(b),await hn(a,b),c()};return Q.useEffect(()=>{Sl(s)||lr(`BookClub-${Ct}`,Wd,r)},[n]),{fieldAndHostList:s,onSubmit:p,selectedValues:t,setSelectedValues:e,errorMsg:l}},_E=()=>{const[t,e]=Q.useState({});return{errorMsg:t,handleErrorMsg:r=>{const i=a=>{var h;return((h=a==null?void 0:a.find(c=>c.condition))==null?void 0:h.error)||""},o=Object.fromEntries(Object.keys(r).map(a=>[a,i(r[a])]));return e(o),Object.values(o).some(a=>a!=="")}}},pre=({likes:t,likeUsers:e,docId:n,collName:r})=>{var p;const[i,o]=Q.useState(!1),[s,a]=Q.useState(!1),{uid:l}=Ve(Ot),h=(p=Ht.currentUser)==null?void 0:p.isAnonymous;return{like:i,setLike:o,onLikeClick:async()=>{if(!r||h)return;const m=an(Jt,r,`${n}`);i?(a(!1),await hn(m,{likes:t-1,likeUsers:e.filter(g=>g!==l)})):await hn(m,{likes:t+1,likeUsers:[...e,l]}),o(g=>!g)},showLikeUsers:s,toggleShowLikeUsers:()=>a(m=>!m)}},mre=Cn({key:`penaltyDoc/${zt()}`,default:{}});Gj({key:`userPenaltyList/${zt()}`,get:({get:t})=>{const e=t(mre),{createdAt:n,id:r,...i}=e;return Object.entries(i).map(([o,s])=>({[o]:s}))}});const gre=()=>{const[t,e]=Q.useState(!1),[{uid:n,displayName:r},i]=Wt(Ot),[o,s]=Wt(gE(n)),[a,l]=Q.useState(null),[h,c]=Q.useState(r),f=()=>{const k=ug().currentUser;i({uid:k.uid,email:k.email,displayName:k.displayName,photoURL:k.photoURL})},p=an(Jt,Ki,n),m=async()=>{const{original:k,compressed:O}=a,N=U_(V_,`avatars/${n}/original`),C=await tN(N,k),D=await B_(C.ref),P=U_(V_,`avatars/${n}/compressed`),A=await tN(P,O),I=await B_(A.ref);await S2(Ht.currentUser,{photoURL:D}),await hn(p,{photoURL:{original:D,compressed:I}}),f()},g=async()=>{const k={displayName:h};await S2(Ht.currentUser,k),await hn(p,k),f()},y=async()=>{await hn(p,{favoriteBookField:Array.from(o.favoriteBookField)})};return{isEditing:t,onToggleEditClick:()=>e(!0),onHandleFieldClick:(k,O)=>{const{name:N}=O.currentTarget,C={id:k,name:N};if(!o.favoriteBookField.some(P=>P.id===k)){const A=[...o.favoriteBookField,C].filter((I,L,F)=>L===F.findIndex(q=>q.id===I.id));return s(I=>({...I,favoriteBookField:A}))}s(P=>({...P,favoriteBookField:P.favoriteBookField.filter(A=>A.id!==k)}))},onProfileSubmit:async k=>{k.preventDefault();try{a&&m(),r!==h&&g(),y(),e(!1)}catch(O){console.error("Error adding document:",O)}},newUserImgUrl:a,setNewUserImgUrl:l,newDisplayName:h,setNewDisplayName:c,userDoc:o,onDisplayNameChange:k=>{c(k.currentTarget.value)},isSelected:k=>{var O;return(O=o==null?void 0:o.favoriteBookField)==null?void 0:O.some(N=>N.id===k)}}},w3=(t,e)=>{const[n,r]=Q.useState(t),[i,o]=Q.useState(null),s=Ve(Ai(e)),a=ea(Zu),{hideModal:l}=Yt(),{sendPushNotificationToAllUser:h}=Ji(),c=+e.slice(-2),f=async g=>{const y=an(Jt,Ci,e),{meeting:{time:w,place:b}}=g;if(t.time===w.toLocaleString()&&t.place===b)return l();await hn(y,g),a(_=>_.map(E=>s.id===e?{...E,...g}:E)),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ! ${ht(w,"M d EEEE a h mm")} ${b}  `})},p=async g=>{await pE(Ci,e,g),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ${g.book.title}. ${ht(g.meeting.time,"M d EEEE a h mm")} ${g.meeting.place} `})},m=g=>{r(y=>({...y,...g}))};return Q.useEffect(()=>{var g;((g=i==null?void 0:i.place)==null?void 0:g.length)!==null&&lr(kne,Tne,o)},[]),{savedPlaceList:i,currMeeting:n,onMeetingChange:m,onMeetingEdit:f,onNewBookClubSubmit:p}},vre=({collName:t,docId:e})=>{var O;const{uid:n}=Ve(Ot),[r,i]=Q.useState(sre),[o,s]=Q.useState([]),[a,l]=Q.useState([]),[h,c]=Q.useState(!1),f=()=>c(N=>!N),p=kr(),{anonymous:m,alertAskJoinMember:g}=ei("see");Q.useEffect(()=>{e&&r.id===""&&lr(t,`VoteId-${e}`,i),r.id&&Yn(`${Pu}/VoteId-${r.id}/${Q_}`,l)},[t,e,r.id,l]);const y=async()=>{if(window.confirm(" ?")){const C=an(Jt,t,`VoteId-${e}`);await qg(C),p(-1)}},w=async N=>{if(N.preventDefault(),m)return g();if(o.length===0)return window.alert("   .");try{const C=an(Jt,`${t}/VoteId-${r.id}/${Q_}`,n);await Oo(C,{createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),votedItem:o}),window.alert(" !"),E&&f()}catch(C){console.error(C)}},b=N=>o.find(({id:C})=>C===N),_=N=>{const C=b(N);s(C?o.filter(({id:D})=>D!==N):[...o,{id:N}])},E=a==null?void 0:a.find(({id:N})=>N===n),x=Ene(r.voteItems,a),k=(O=x==null?void 0:x.map(N=>N.voteCount))==null?void 0:O.reduce((N,C)=>N+C,0);return{currentVote:r,votedItemsByMember:a,voteCountsById:x,totalVoteCount:k,selectedItem:b,onVotingSubmit:w,onVoteItemClick:_,myVotedItems:E,onVoteDeleteClick:y,isRevote:h,onToggleRevoteClick:f}},yre=t=>{const[e,n]=Q.useState({email:"",error:""}),[r,i]=Q.useState({password:"",error:""}),o=kr(),s={email:{HAS_NOT_EMAIL:"  ."},password:{HAS_NOT_PASSWORD:"  .",NOT_CORRECT:"    ."}},a=(f,p)=>{f==="email"&&n(m=>({...m,error:p})),f==="password"&&i(m=>({...m,error:p}))};return{currEmail:e,currPassword:r,onSubmit:async f=>{f.preventDefault();const{email:p}=e,{password:m}=r,{email:{HAS_NOT_EMAIL:g},password:{HAS_NOT_PASSWORD:y,NOT_CORRECT:w}}=s;try{if(!p&&!m){a("email",g),a("password",y);return}if(!p){a("email",g);return}if(!m){a("password",y);return}await S9(Ht,p,m),o("/")}catch(b){b.message.includes("invalid-login-credentials")&&a("password",w)}},onChange:f=>{const{currentTarget:{name:p,value:m}}=f;p==="email"&&n({email:m,error:""}),p==="password"&&i({password:m,error:""})},onAnonymousLoginClick:()=>{if(!t)try{y9(Ht),sg(Ht,f=>{f&&o("/")})}catch(f){console.log(f)}}}},xE=()=>{var s;const[t,e]=Wt(Jj),n=Q.useRef(null),r=(s=n==null?void 0:n.current)==null?void 0:s.value;return Q.useEffect(()=>{if(r==="")return e([])},[]),{searchInputRef:n,onBookQueryChange:a=>{const{value:l}=a.currentTarget;l!==""?ere(l,e):e([])},searchList:t,setSearchList:e,resetSearchList:()=>e([])}},Ji=()=>{const[t,e]=Q.useState(!1),{uid:n,displayName:r}=Ve(Ot),i=async(h,c)=>{e(!0);const{title:f,body:p,subPath:m,notification:g}=h,y=`https://talentforest.github.io/han-bookclub-app${m||""}`;try{if(!c){if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!g)return{result:"fail"};const w=await vm();return await tw({title:f,body:p,token:w,link:y}),{result:"success"}}if(c)return c!=null&&c.notification?(c.tokens.map(async w=>tw({title:f,body:p,token:w,link:y})),{result:"success"}):{result:"fail"}}catch(w){console.log(w)}finally{e(!1)}},o=async({title:h,body:c,subPath:f})=>{e(!0);try{const p=`https://talentforest.github.io/han-bookclub-app${f||""}`;await nN({title:h,body:c,link:p,uid:n})}catch(p){console.log(p)}finally{e(!1)}},s=async(h,c)=>{e(!0);try{if(!n||!h)return{result:"fail"};const f=+(c==null?void 0:c.slice(-2))||+Qr,p={:{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r}  .  !`,subPath:"/bookclub"},:{title:"  ",body:`${r} ${f}  .`,subPath:"/bookclub"},:{title:" ",body:`${r}  .   !`,subPath:"/bookclub"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}},{title:m,body:g,subPath:y}=p[h],w=`https://talentforest.github.io/han-bookclub-app${y}`;return await nN({title:m,body:g,link:w,uid:n}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},a=(h,c)=>{const f=+(c==null?void 0:c.slice(-2))||+Qr,p=c?`/${c}`:"";return{:{title:"  ",body:`${r} ${f}  .  ?`,subPath:`/bookclub${p}/subjects`}," ":{title:"  ",body:`${r} ${f}   .  ?`,subPath:`/bookclub${p}/host-review`}," ":{title:"  ",body:`${r}  .  !`,subPath:`/bookclub${p}`},:{title:"  ",body:`${r} ${f}   .`,subPath:`/bookclub${p}`},:{title:" ",body:`${r}  .      ?!`,subPath:"/challenge"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}}[h]};return{sendTestToMe:async(h,c)=>{e(!0);try{if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!n||!h)return{result:"fail"};const{title:f,body:p,subPath:m}=a(h,c),g=`http://localhost:3000/han-bookclub-app${m}`,y=await vm();return await tw({title:f,body:p,token:y,link:g}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},sendPostPushNotification:s,sendPushNotificationToUser:i,sendPushNotificationToAllUser:o,isPending:t}};var b3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mA=oe.createContext&&oe.createContext(b3),wre=["attr","size","title"];function bre(t,e){if(t==null)return{};var n=_re(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function gA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _3(t){return t&&t.map((e,n)=>oe.createElement(e.tag,km({key:n},e.attr),_3(e.child)))}function dt(t){return e=>oe.createElement(kre,Em({attr:km({},t.attr)},e),_3(t.child))}function kre(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=bre(t,wre),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),oe.createElement("svg",Em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:km(km({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&oe.createElement("title",null,o),t.children)};return mA!==void 0?oe.createElement(mA.Consumer,null,n=>e(n)):e(b3)}function Tre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Cre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(t)}function Ore(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function Nre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(t)}function SE(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function x3(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Are(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Dre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function EE(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Ire(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function S3(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(t)}function Pre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"},child:[]},{tag:"polyline",attr:{points:"17 18 12 13 7 18"},child:[]}]})(t)}function Rre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function E3(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function kE(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Mre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function Lre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function jre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Fre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function $re(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function Bre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function TE(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function CE(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function Ure(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function OE(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Vre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Of(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function qre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Tm(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Hre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function zre(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Wre=Cn({key:`rereadingChallenge/${zt()}`,default:null}),k3=Cn({key:`completeReadingChallenge/${zt()}`,default:null});Cn({key:`sentences/${zt()}`,default:null});function jn({title:t,backBtn:e,showDesktop:n,children:r,backTo:i}){const o=kr(),s=()=>{o(i||-1)};return S.jsxs("header",{className:`items-center gap-2 py-4 max-sm:flex ${n?"flex":"hidden"} header`,children:[t===" "&&S.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-[20px]"}),e&&S.jsx("button",{onClick:s,type:"button","aria-label":"",onKeyDown:s,children:S.jsx(Dre,{fontSize:22})}),S.jsx("span",{className:"mr-auto text-lg font-medium",children:t}),r]})}function Di({title:t,children:e,className:n,headerType:r="normal"}){const{hideModal:i}=Yt();Q.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const o=document.getElementById("modal");return gx.createPortal(S.jsxs("section",{className:`fixed inset-0 z-10 m-auto flex h-fit max-h-[80vh] w-[55vw] flex-col rounded-2xl bg-white px-5 py-6 max-sm:w-[90%] ${n}`,children:[r!=="noHeader"&&S.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[S.jsx("h3",{className:"text-lg font-medium",children:t}),r!=="onlyTitle"&&S.jsx("button",{type:"button",onClick:()=>i(),className:"px-1",children:S.jsx(zre,{size:20})})]}),e]}),o)}function Yre(t){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(t)}function NE(t){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3zm1 7H5v-1h14v1zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54 4.95-4.95z"},child:[]}]})(t)}function T3({url:t,title:e,className:n=""}){return S.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:`p-1.5 text-gray1 ${e?"flex items-center gap-1":"inline-block"} ${n}`,children:[S.jsx(Mre,{className:e?"":"size-full"}),e&&S.jsx("span",{className:"truncate text-[15px]",children:e})]})}function On({title:t,thumbnail:e,url:n,className:r=""}){const i="aspect-[0.68/1] h-fit shadow-book overflow-hidden rounded-r-[8%]";return S.jsxs(S.Fragment,{children:[e!==""&&S.jsxs("div",{className:`relative ${i} ${r}`,children:[S.jsx("img",{className:"size-full",src:e,alt:`${t} `}),n&&S.jsx(T3,{url:n,className:"absolute bottom-1 right-1 flex size-7 items-center justify-center rounded-full bg-indigo-500 text-white opacity-50"})]}),e===""&&S.jsx("div",{className:`flex items-center justify-center bg-gray4 ${i} ${r}`,children:t.includes("")?S.jsx(Yre,{className:"size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"}):S.jsx(Ore,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"})})]})}function C3({text:t,lineClamp:e}){const n=`line-clamp-[${e}]`;return S.jsx("p",{className:`ql-editor min-h-12 w-full truncate whitespace-pre-line !p-0 leading-7 ${e?n:""}`,dangerouslySetInnerHTML:{__html:t}})}function Gre({collName:t,like:e,onLikeClick:n}){return S.jsx("button",{type:"button",disabled:!t,onClick:n,className:"p-1",children:S.jsx(jre,{stroke:t?"red":"#aaa",fill:t?e?"red":"transparent":"#aaa",fontSize:13})})}function ti({userId:t,className:e,isLink:n=!0}){const{uid:r}=Ve(Ot),i=Ve(wE),[o,s]=Wt(ma),a=o==null?void 0:o.find(({id:p})=>p===t);Q.useEffect(()=>{(o==null?void 0:o.length)===0&&Yn(Ki,s)},[t,o,s]);const l=p=>(p.preventDefault(),p.stopPropagation(),!1),h="size-[20px] aspect-square rounded-full shadow-card";if(!a)return;const f=`/bookshelf${r===(a==null?void 0:a.id)?"":`/${a==null?void 0:a.displayName}`}`;return n?S.jsxs(Ir,{to:f,state:{userId:a.id},className:`flex min-w-fit cursor-pointer items-center justify-between gap-x-1 ${e}`,children:[S.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),S.jsx("span",{className:"w-full min-w-fit",children:a.displayName})]}):S.jsxs("div",{className:`flex min-w-fit items-center justify-between gap-x-1 ${e}`,children:[S.jsx("img",{onContextMenu:l,src:a.photoURL.compressed||i,alt:`${a.displayName}  `,className:`aspect-square object-cover ${h}`,width:20,height:20}),S.jsx("span",{className:"w-full min-w-fit",children:a.displayName})]})}const Kre=({post:t,collName:e})=>{var c,f,p;const{uid:n}=Ve(Ot),r=n===t.creatorId,{like:i,setLike:o,onLikeClick:s,showLikeUsers:a,toggleShowLikeUsers:l}=pre({likes:t.likes||0,likeUsers:t.likeUsers||[],docId:t.id,collName:e}),h=(c=t.likeUsers)==null?void 0:c.some(m=>m===n);return Q.useEffect(()=>{h&&o(!0)},[]),S.jsxs("div",{className:"relative flex",children:[S.jsx("button",{type:"button",onClick:l,className:"px-1",children:a?S.jsx(Ire,{className:"text-gray1"}):S.jsx(Are,{className:"text-gray1"})}),S.jsxs("span",{className:"text-sm",children:[((f=t==null?void 0:t.likeUsers)==null?void 0:f.length)||0," Likes"]}),!r&&S.jsx(Gre,{collName:e,like:i,onLikeClick:s}),a&&S.jsxs("div",{className:"absolute bottom-7 right-0 rounded-xl border bg-white p-3",children:[S.jsx("h4",{className:"mb-2 min-w-20 text-sm text-gray1",children:" "}),S.jsx("ul",{className:"flex w-full flex-wrap gap-x-2 gap-y-1",children:(p=t==null?void 0:t.likeUsers)==null?void 0:p.map(m=>S.jsx(ti,{userId:m,className:""},m))})]})]})};function dv({post:t,createdAt:e,footerType:n,collName:r}){return S.jsxs("footer",{className:"mt-4 flex items-center justify-between",children:[S.jsx("span",{className:"min-w-fit text-sm text-gray1",children:ht(e)}),n==="likes"&&S.jsx(Kre,{collName:r,post:t})]})}function Qre({docId:t,collName:e}){const{onDeleteClick:n}=nre({docId:t,collName:e});return S.jsx("button",{onClick:n,children:S.jsx(Of,{fontSize:15,stroke:"#aaa"})})}function ft({name:t,type:e="button",children:n,disabled:r,handleClick:i,color:o="blue",className:s="",tailChildren:a}){const l={gray:"text-gray1 bg-gray4",blue:"text-white bg-blue1",purple:"text-white bg-purple2",lightBlue:"text-blue4 bg-blue2"};return S.jsxs("button",{type:e,onClick:i,disabled:r,className:`flex h-12 min-h-12 w-fit min-w-max items-center justify-center rounded-lg px-4 text-[15px] shadow-lg disabled:bg-gray4 disabled:text-gray2 max-sm:px-4 ${l[o]} ${s}`,children:[n,S.jsx("span",{className:"font-medium tracking-tight",children:t}),a]})}var qw,vA;function Xre(){if(vA)return qw;vA=1;function t(){this.__data__=[],this.size=0}return qw=t,qw}var Hw,yA;function O3(){if(yA)return Hw;yA=1;function t(e,n){return e===n||e!==e&&n!==n}return Hw=t,Hw}var zw,wA;function fv(){if(wA)return zw;wA=1;var t=O3();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return zw=e,zw}var Ww,bA;function Jre(){if(bA)return Ww;bA=1;var t=fv(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return Ww=r,Ww}var Yw,_A;function Zre(){if(_A)return Yw;_A=1;var t=fv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Yw=e,Yw}var Gw,xA;function eie(){if(xA)return Gw;xA=1;var t=fv();function e(n){return t(this.__data__,n)>-1}return Gw=e,Gw}var Kw,SA;function tie(){if(SA)return Kw;SA=1;var t=fv();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Kw=e,Kw}var Qw,EA;function hv(){if(EA)return Qw;EA=1;var t=Xre(),e=Jre(),n=Zre(),r=eie(),i=tie();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Qw=o,Qw}var Xw,kA;function nie(){if(kA)return Xw;kA=1;var t=hv();function e(){this.__data__=new t,this.size=0}return Xw=e,Xw}var Jw,TA;function rie(){if(TA)return Jw;TA=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Jw=t,Jw}var Zw,CA;function iie(){if(CA)return Zw;CA=1;function t(e){return this.__data__.get(e)}return Zw=t,Zw}var e1,OA;function oie(){if(OA)return e1;OA=1;function t(e){return this.__data__.has(e)}return e1=t,e1}var t1,NA;function N3(){if(NA)return t1;NA=1;var t=typeof Vh=="object"&&Vh&&Vh.Object===Object&&Vh;return t1=t,t1}var n1,AA;function ls(){if(AA)return n1;AA=1;var t=N3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return n1=n,n1}var r1,DA;function AE(){if(DA)return r1;DA=1;var t=ls(),e=t.Symbol;return r1=e,r1}var i1,IA;function sie(){if(IA)return i1;IA=1;var t=AE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var h=!0}catch{}var c=r.call(s);return h&&(a?s[i]=l:delete s[i]),c}return i1=o,i1}var o1,PA;function aie(){if(PA)return o1;PA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return o1=n,o1}var s1,RA;function pv(){if(RA)return s1;RA=1;var t=AE(),e=sie(),n=aie(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return s1=s,s1}var a1,MA;function A3(){if(MA)return a1;MA=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return a1=t,a1}var l1,LA;function D3(){if(LA)return l1;LA=1;var t=pv(),e=A3(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==o}return l1=s,l1}var u1,jA;function lie(){if(jA)return u1;jA=1;var t=ls(),e=t["__core-js_shared__"];return u1=e,u1}var c1,FA;function uie(){if(FA)return c1;FA=1;var t=lie(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return c1=n,c1}var d1,$A;function I3(){if($A)return d1;$A=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return d1=n,d1}var f1,BA;function cie(){if(BA)return f1;BA=1;var t=D3(),e=uie(),n=A3(),r=I3(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,h=a.hasOwnProperty,c=RegExp("^"+l.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=t(p)?c:o;return m.test(r(p))}return f1=f,f1}var h1,UA;function die(){if(UA)return h1;UA=1;function t(e,n){return e==null?void 0:e[n]}return h1=t,h1}var p1,VA;function ec(){if(VA)return p1;VA=1;var t=cie(),e=die();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return p1=n,p1}var m1,qA;function DE(){if(qA)return m1;qA=1;var t=ec(),e=ls(),n=t(e,"Map");return m1=n,m1}var g1,HA;function mv(){if(HA)return g1;HA=1;var t=ec(),e=t(Object,"create");return g1=e,g1}var v1,zA;function fie(){if(zA)return v1;zA=1;var t=mv();function e(){this.__data__=t?t(null):{},this.size=0}return v1=e,v1}var y1,WA;function hie(){if(WA)return y1;WA=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return y1=t,y1}var w1,YA;function pie(){if(YA)return w1;YA=1;var t=mv(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return w1=i,w1}var b1,GA;function mie(){if(GA)return b1;GA=1;var t=mv(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return b1=r,b1}var _1,KA;function gie(){if(KA)return _1;KA=1;var t=mv(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return _1=n,_1}var x1,QA;function vie(){if(QA)return x1;QA=1;var t=fie(),e=hie(),n=pie(),r=mie(),i=gie();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,x1=o,x1}var S1,XA;function yie(){if(XA)return S1;XA=1;var t=vie(),e=hv(),n=DE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return S1=r,S1}var E1,JA;function wie(){if(JA)return E1;JA=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return E1=t,E1}var k1,ZA;function gv(){if(ZA)return k1;ZA=1;var t=wie();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return k1=e,k1}var T1,eD;function bie(){if(eD)return T1;eD=1;var t=gv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return T1=e,T1}var C1,tD;function _ie(){if(tD)return C1;tD=1;var t=gv();function e(n){return t(this,n).get(n)}return C1=e,C1}var O1,nD;function xie(){if(nD)return O1;nD=1;var t=gv();function e(n){return t(this,n).has(n)}return O1=e,O1}var N1,rD;function Sie(){if(rD)return N1;rD=1;var t=gv();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return N1=e,N1}var A1,iD;function P3(){if(iD)return A1;iD=1;var t=yie(),e=bie(),n=_ie(),r=xie(),i=Sie();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,A1=o,A1}var D1,oD;function Eie(){if(oD)return D1;oD=1;var t=hv(),e=DE(),n=P3(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return D1=i,D1}var I1,sD;function kie(){if(sD)return I1;sD=1;var t=hv(),e=nie(),n=rie(),r=iie(),i=oie(),o=Eie();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,I1=s,I1}var P1,aD;function Tie(){if(aD)return P1;aD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return P1=e,P1}var R1,lD;function Cie(){if(lD)return R1;lD=1;function t(e){return this.__data__.has(e)}return R1=t,R1}var M1,uD;function Oie(){if(uD)return M1;uD=1;var t=P3(),e=Tie(),n=Cie();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,M1=r,M1}var L1,cD;function Nie(){if(cD)return L1;cD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return L1=t,L1}var j1,dD;function Aie(){if(dD)return j1;dD=1;function t(e,n){return e.has(n)}return j1=t,j1}var F1,fD;function R3(){if(fD)return F1;fD=1;var t=Oie(),e=Nie(),n=Aie(),r=1,i=2;function o(s,a,l,h,c,f){var p=l&r,m=s.length,g=a.length;if(m!=g&&!(p&&g>m))return!1;var y=f.get(s),w=f.get(a);if(y&&w)return y==a&&w==s;var b=-1,_=!0,E=l&i?new t:void 0;for(f.set(s,a),f.set(a,s);++b<m;){var x=s[b],k=a[b];if(h)var O=p?h(k,x,b,a,s,f):h(x,k,b,s,a,f);if(O!==void 0){if(O)continue;_=!1;break}if(E){if(!e(a,function(N,C){if(!n(E,C)&&(x===N||c(x,N,l,h,f)))return E.push(C)})){_=!1;break}}else if(!(x===k||c(x,k,l,h,f))){_=!1;break}}return f.delete(s),f.delete(a),_}return F1=o,F1}var $1,hD;function Die(){if(hD)return $1;hD=1;var t=ls(),e=t.Uint8Array;return $1=e,$1}var B1,pD;function Iie(){if(pD)return B1;pD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return B1=t,B1}var U1,mD;function Pie(){if(mD)return U1;mD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return U1=t,U1}var V1,gD;function Rie(){if(gD)return V1;gD=1;var t=AE(),e=Die(),n=O3(),r=R3(),i=Iie(),o=Pie(),s=1,a=2,l="[object Boolean]",h="[object Date]",c="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",E=t?t.prototype:void 0,x=E?E.valueOf:void 0;function k(O,N,C,D,P,A,I){switch(C){case _:if(O.byteLength!=N.byteLength||O.byteOffset!=N.byteOffset)return!1;O=O.buffer,N=N.buffer;case b:return!(O.byteLength!=N.byteLength||!A(new e(O),new e(N)));case l:case h:case p:return n(+O,+N);case c:return O.name==N.name&&O.message==N.message;case m:case y:return O==N+"";case f:var L=i;case g:var F=D&s;if(L||(L=o),O.size!=N.size&&!F)return!1;var q=I.get(O);if(q)return q==N;D|=a,I.set(O,N);var M=r(L(O),L(N),D,P,A,I);return I.delete(O),M;case w:if(x)return x.call(O)==x.call(N)}return!1}return V1=k,V1}var q1,vD;function Mie(){if(vD)return q1;vD=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return q1=t,q1}var H1,yD;function IE(){if(yD)return H1;yD=1;var t=Array.isArray;return H1=t,H1}var z1,wD;function Lie(){if(wD)return z1;wD=1;var t=Mie(),e=IE();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return z1=n,z1}var W1,bD;function jie(){if(bD)return W1;bD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return W1=t,W1}var Y1,_D;function Fie(){if(_D)return Y1;_D=1;function t(){return[]}return Y1=t,Y1}var G1,xD;function $ie(){if(xD)return G1;xD=1;var t=jie(),e=Fie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return G1=o,G1}var K1,SD;function Bie(){if(SD)return K1;SD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return K1=t,K1}var Q1,ED;function vv(){if(ED)return Q1;ED=1;function t(e){return e!=null&&typeof e=="object"}return Q1=t,Q1}var X1,kD;function Uie(){if(kD)return X1;kD=1;var t=pv(),e=vv(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return X1=r,X1}var J1,TD;function Vie(){if(TD)return J1;TD=1;var t=Uie(),e=vv(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return J1=o,J1}var ad={exports:{}},Z1,CD;function qie(){if(CD)return Z1;CD=1;function t(){return!1}return Z1=t,Z1}ad.exports;var OD;function M3(){return OD||(OD=1,function(t,e){var n=ls(),r=qie(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,h=l||r;t.exports=h}(ad,ad.exports)),ad.exports}var eb,ND;function Hie(){if(ND)return eb;ND=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return eb=n,eb}var tb,AD;function L3(){if(AD)return tb;AD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return tb=e,tb}var nb,DD;function zie(){if(DD)return nb;DD=1;var t=pv(),e=L3(),n=vv(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",h="[object Map]",c="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",N="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",P="[object Uint32Array]",A={};A[_]=A[E]=A[x]=A[k]=A[O]=A[N]=A[C]=A[D]=A[P]=!0,A[r]=A[i]=A[w]=A[o]=A[b]=A[s]=A[a]=A[l]=A[h]=A[c]=A[f]=A[p]=A[m]=A[g]=A[y]=!1;function I(L){return n(L)&&e(L.length)&&!!A[t(L)]}return nb=I,nb}var rb,ID;function Wie(){if(ID)return rb;ID=1;function t(e){return function(n){return e(n)}}return rb=t,rb}var ld={exports:{}};ld.exports;var PD;function Yie(){return PD||(PD=1,function(t,e){var n=N3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(ld,ld.exports)),ld.exports}var ib,RD;function j3(){if(RD)return ib;RD=1;var t=zie(),e=Wie(),n=Yie(),r=n&&n.isTypedArray,i=r?e(r):t;return ib=i,ib}var ob,MD;function Gie(){if(MD)return ob;MD=1;var t=Bie(),e=Vie(),n=IE(),r=M3(),i=Hie(),o=j3(),s=Object.prototype,a=s.hasOwnProperty;function l(h,c){var f=n(h),p=!f&&e(h),m=!f&&!p&&r(h),g=!f&&!p&&!m&&o(h),y=f||p||m||g,w=y?t(h.length,String):[],b=w.length;for(var _ in h)(c||a.call(h,_))&&!(y&&(_=="length"||m&&(_=="offset"||_=="parent")||g&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,b)))&&w.push(_);return w}return ob=l,ob}var sb,LD;function Kie(){if(LD)return sb;LD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return sb=e,sb}var ab,jD;function Qie(){if(jD)return ab;jD=1;function t(e,n){return function(r){return e(n(r))}}return ab=t,ab}var lb,FD;function Xie(){if(FD)return lb;FD=1;var t=Qie(),e=t(Object.keys,Object);return lb=e,lb}var ub,$D;function Jie(){if($D)return ub;$D=1;var t=Kie(),e=Xie(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return ub=i,ub}var cb,BD;function Zie(){if(BD)return cb;BD=1;var t=D3(),e=L3();function n(r){return r!=null&&e(r.length)&&!t(r)}return cb=n,cb}var db,UD;function eoe(){if(UD)return db;UD=1;var t=Gie(),e=Jie(),n=Zie();function r(i){return n(i)?t(i):e(i)}return db=r,db}var fb,VD;function toe(){if(VD)return fb;VD=1;var t=Lie(),e=$ie(),n=eoe();function r(i){return t(i,n,e)}return fb=r,fb}var hb,qD;function noe(){if(qD)return hb;qD=1;var t=toe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,h,c){var f=a&e,p=t(o),m=p.length,g=t(s),y=g.length;if(m!=y&&!f)return!1;for(var w=m;w--;){var b=p[w];if(!(f?b in s:r.call(s,b)))return!1}var _=c.get(o),E=c.get(s);if(_&&E)return _==s&&E==o;var x=!0;c.set(o,s),c.set(s,o);for(var k=f;++w<m;){b=p[w];var O=o[b],N=s[b];if(l)var C=f?l(N,O,b,s,o,c):l(O,N,b,o,s,c);if(!(C===void 0?O===N||h(O,N,a,l,c):C)){x=!1;break}k||(k=b=="constructor")}if(x&&!k){var D=o.constructor,P=s.constructor;D!=P&&"constructor"in o&&"constructor"in s&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(x=!1)}return c.delete(o),c.delete(s),x}return hb=i,hb}var pb,HD;function roe(){if(HD)return pb;HD=1;var t=ec(),e=ls(),n=t(e,"DataView");return pb=n,pb}var mb,zD;function ioe(){if(zD)return mb;zD=1;var t=ec(),e=ls(),n=t(e,"Promise");return mb=n,mb}var gb,WD;function ooe(){if(WD)return gb;WD=1;var t=ec(),e=ls(),n=t(e,"Set");return gb=n,gb}var vb,YD;function soe(){if(YD)return vb;YD=1;var t=ec(),e=ls(),n=t(e,"WeakMap");return vb=n,vb}var yb,GD;function aoe(){if(GD)return yb;GD=1;var t=roe(),e=DE(),n=ioe(),r=ooe(),i=soe(),o=pv(),s=I3(),a="[object Map]",l="[object Object]",h="[object Promise]",c="[object Set]",f="[object WeakMap]",p="[object DataView]",m=s(t),g=s(e),y=s(n),w=s(r),b=s(i),_=o;return(t&&_(new t(new ArrayBuffer(1)))!=p||e&&_(new e)!=a||n&&_(n.resolve())!=h||r&&_(new r)!=c||i&&_(new i)!=f)&&(_=function(E){var x=o(E),k=x==l?E.constructor:void 0,O=k?s(k):"";if(O)switch(O){case m:return p;case g:return a;case y:return h;case w:return c;case b:return f}return x}),yb=_,yb}var wb,KD;function loe(){if(KD)return wb;KD=1;var t=kie(),e=R3(),n=Rie(),r=noe(),i=aoe(),o=IE(),s=M3(),a=j3(),l=1,h="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(y,w,b,_,E,x){var k=o(y),O=o(w),N=k?c:i(y),C=O?c:i(w);N=N==h?f:N,C=C==h?f:C;var D=N==f,P=C==f,A=N==C;if(A&&s(y)){if(!s(w))return!1;k=!0,D=!1}if(A&&!D)return x||(x=new t),k||a(y)?e(y,w,b,_,E,x):n(y,w,N,b,_,E,x);if(!(b&l)){var I=D&&m.call(y,"__wrapped__"),L=P&&m.call(w,"__wrapped__");if(I||L){var F=I?y.value():y,q=L?w.value():w;return x||(x=new t),E(F,q,b,_,x)}}return A?(x||(x=new t),r(y,w,b,_,E,x)):!1}return wb=g,wb}var bb,QD;function uoe(){if(QD)return bb;QD=1;var t=loe(),e=vv();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return bb=n,bb}var _b,XD;function coe(){if(XD)return _b;XD=1;var t=uoe();function e(n,r){return t(n,r)}return _b=e,_b}var Ip={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var doe=Ip.exports,JD;function foe(){return JD||(JD=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:doe,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),h=i(46),c=i(47),f=i(48),p=i(49),m=i(12),g=i(32),y=i(33),w=i(31),b=i(1),_={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:h.default,Text:p.default,Attributor:{Attribute:m.default,Class:g.default,Style:y.default,Store:w.default}};r.default=_},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var E in _)_.hasOwnProperty(E)&&(b[E]=_[E])};return function(b,_){w(b,_);function E(){this.constructor=b}b.prototype=_===null?Object.create(_):(E.prototype=_.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(b,w);function b(_){var E=this;return _="[Parchment] "+_,E=w.call(this,_)||this,E.message=_,E.name=E.constructor.name,E}return b}(Error);r.ParchmentError=s;var a={},l={},h={},c={};r.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function p(w,b){var _=g(w);if(_==null)throw new s("Unable to create "+w+" blot");var E=_,x=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(b);return new E(x,b)}r.create=p;function m(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?m(w.parentNode,b):null}r.find=m;function g(w,b){b===void 0&&(b=f.ANY);var _;if(typeof w=="string")_=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)_=c.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?_=c.block:w&f.LEVEL&f.INLINE&&(_=c.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var x in E)if(_=l[E[x]],_)break;_=_||h[w.tagName]}return _==null?null:b&f.LEVEL&_.scope&&b&f.TYPE&_.scope?_:null}r.query=g;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(x){return y(x)});var _=w[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new s("Invalid definition");if(_.blotName==="abstract")throw new s("Cannot register abstract class");if(c[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(x){return x.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var E=Array.isArray(_.tagName)?_.tagName:[_.tagName];E.forEach(function(x){(h[x]==null||_.className==null)&&(h[x]=_)})}return _}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),h="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,p){var m={};return f.length===0?this:(m.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,p){if(f<=0)return this;var m={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},c.prototype.push=function(f){var p=this.ops.length,m=this.ops[p-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(f),this;if(s(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var p=[],m=[];return this.forEach(function(g){var y=f(g)?p:m;y.push(g)}),[p,m]},c.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},c.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},c.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var m=[],g=l.iterator(this.ops),y=0;y<p&&g.hasNext();){var w;y<f?w=g.next(f-y):(w=g.next(p-y),m.push(w)),y+=l.length(w)}return new c(m)},c.prototype.compose=function(f){var p=l.iterator(this.ops),m=l.iterator(f.ops),g=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),g.push(p.next());y.retain-w>0&&m.next(y.retain-w)}for(var b=new c(g);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(p.peekType()==="delete")b.push(p.next());else{var _=Math.min(p.peekLength(),m.peekLength()),E=p.next(_),x=m.next(_);if(typeof x.retain=="number"){var k={};typeof E.retain=="number"?k.retain=_:k.insert=E.insert;var O=l.attributes.compose(E.attributes,x.attributes,typeof E.retain=="number");if(O&&(k.attributes=O),b.push(k),!m.hasNext()&&s(b.ops[b.ops.length-1],k)){var N=new c(p.rest());return b.concat(N).chop()}}else typeof x.delete=="number"&&typeof E.retain=="number"&&b.push(x)}return b.chop()},c.prototype.concat=function(f){var p=new c(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},c.prototype.diff=function(f,p){if(this.ops===f.ops)return new c;var m=[this,f].map(function(_){return _.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:h;var x=_===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),g=new c,y=o(m[0],m[1],p),w=l.iterator(this.ops),b=l.iterator(f.ops);return y.forEach(function(_){for(var E=_[1].length;E>0;){var x=0;switch(_[0]){case o.INSERT:x=Math.min(b.peekLength(),E),g.push(b.next(x));break;case o.DELETE:x=Math.min(E,w.peekLength()),w.next(x),g.delete(x);break;case o.EQUAL:x=Math.min(w.peekLength(),b.peekLength(),E);var k=w.next(x),O=b.next(x);s(k.insert,O.insert)?g.retain(x,l.attributes.diff(k.attributes,O.attributes)):g.push(O).delete(x);break}E-=x}}),g.chop()},c.prototype.eachLine=function(f,p){p=p||`
`;for(var m=l.iterator(this.ops),g=new c,y=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),b=l.length(w)-m.peekLength(),_=typeof w.insert=="string"?w.insert.indexOf(p,b)-b:-1;if(_<0)g.push(m.next());else if(_>0)g.push(m.next(_));else{if(f(g,m.next(1).attributes||{},y)===!1)return;y+=1,g=new c}}g.length()>0&&f(g,{},y)},c.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var m=l.iterator(this.ops),g=l.iterator(f.ops),y=new c;m.hasNext()||g.hasNext();)if(m.peekType()==="insert"&&(p||g.peekType()!=="insert"))y.retain(l.length(m.next()));else if(g.peekType()==="insert")y.push(g.next());else{var w=Math.min(m.peekLength(),g.peekLength()),b=m.next(w),_=g.next(w);if(b.delete)continue;_.delete?y.push(_):y.retain(w,l.attributes.transform(b.attributes,_.attributes,p))}return y.chop()},c.prototype.transformPosition=function(f,p){p=!!p;for(var m=l.iterator(this.ops),g=0;m.hasNext()&&g<=f;){var y=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){f-=Math.min(y,f-g);continue}else w==="insert"&&(g<f||!p)&&(f+=y);g+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):o.call(m)==="[object Array]"},h=function(m){if(!m||o.call(m)!=="[object Object]")return!1;var g=i.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},c=function(m,g){s&&g.name==="__proto__"?s(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},f=function(m,g){if(g==="__proto__")if(i.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};n.exports=function p(){var m,g,y,w,b,_,E=arguments[0],x=1,k=arguments.length,O=!1;for(typeof E=="boolean"&&(O=E,E=arguments[1]||{},x=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});x<k;++x)if(m=arguments[x],m!=null)for(g in m)y=f(E,g),w=f(m,g),E!==w&&(O&&w&&(h(w)||(b=l(w)))?(b?(b=!1,_=y&&l(y)?y:[]):_=y&&h(y)?y:{},c(E,{name:g,newValue:p(O,_,w)})):typeof w<"u"&&c(E,{name:g,newValue:w}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(I,L){for(var F=0;F<L.length;F++){var q=L[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(I,q.key,q)}}return function(I,L,F){return L&&A(I.prototype,L),F&&A(I,F),I}}(),s=function A(I,L,F){I===null&&(I=Function.prototype);var q=Object.getOwnPropertyDescriptor(I,L);if(q===void 0){var M=Object.getPrototypeOf(I);return M===null?void 0:A(M,L,F)}else{if("value"in q)return q.value;var B=q.get;return B===void 0?void 0:B.call(F)}},a=i(3),l=E(a),h=i(2),c=E(h),f=i(0),p=E(f),m=i(16),g=E(m),y=i(6),w=E(y),b=i(7),_=E(b);function E(A){return A&&A.__esModule?A:{default:A}}function x(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function k(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:A}function O(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);A.prototype=Object.create(I&&I.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(A,I):A.__proto__=I)}var N=1,C=function(A){O(I,A);function I(){return x(this,I),k(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"attach",value:function(){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,q){var M=p.default.query(F,p.default.Scope.BLOCK_ATTRIBUTE);M!=null&&this.attributes.attribute(M,q)}},{key:"formatAt",value:function(F,q,M,B){this.format(M,B)}},{key:"insertAt",value:function(F,q,M){if(typeof q=="string"&&q.endsWith(`
`)){var B=p.default.create(D.blotName);this.parent.insertBefore(B,F===0?this:this.next),B.insertAt(0,q.slice(0,-1))}else s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,F,q,M)}}]),I}(p.default.Embed);C.scope=p.default.Scope.BLOCK_BLOT;var D=function(A){O(I,A);function I(L){x(this,I);var F=k(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return F.cache={},F}return o(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(F,q){return q.length()===0?F:F.insert(q.value(),P(q))},new c.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(F,q){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,F,q),this.cache={}}},{key:"formatAt",value:function(F,q,M,B){q<=0||(p.default.query(M,p.default.Scope.BLOCK)?F+q===this.length()&&this.format(M,B):s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,F,Math.min(q,this.length()-F-1),M,B),this.cache={})}},{key:"insertAt",value:function(F,q,M){if(M!=null)return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,F,q,M);if(q.length!==0){var B=q.split(`
`),Y=B.shift();Y.length>0&&(F<this.length()-1||this.children.tail==null?s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var H=this;B.reduce(function(j,U){return H=H.split(j,!0),H.insertAt(0,U),U.length},F+Y.length)}}},{key:"insertBefore",value:function(F,q){var M=this.children.head;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,F,q),M instanceof g.default&&M.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(F,q){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,F,q),this.cache={}}},{key:"optimize",value:function(F){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(F===0||F>=this.length()-N)){var M=this.clone();return F===0?(this.parent.insertBefore(M,this),this):(this.parent.insertBefore(M,this.next),M)}else{var B=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,F,q);return this.cache={},B}}}]),I}(p.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[w.default,p.default.Embed,_.default];function P(A){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(I=(0,l.default)(I,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?I:P(A.parent,I)}r.bubbleFormats=P,r.BlockEmbed=C,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(j,U){var V=[],z=!0,K=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){K=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(K)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}();i(50);var l=i(2),h=P(l),c=i(14),f=P(c),p=i(8),m=P(p),g=i(9),y=P(g),w=i(0),b=P(w),_=i(15),E=P(_),x=i(3),k=P(x),O=i(10),N=P(O),C=i(34),D=P(C);function P(H){return H&&H.__esModule?H:{default:H}}function A(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function I(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var L=(0,N.default)("quill"),F=function(){a(H,null,[{key:"debug",value:function(U){U===!0&&(U="log"),N.default.level(U)}},{key:"find",value:function(U){return U.__quill||b.default.find(U)}},{key:"import",value:function(U){return this.imports[U]==null&&L.error("Cannot import "+U+". Are you sure it was registered?"),this.imports[U]}},{key:"register",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof U!="string"){var X=U.attrName||U.blotName;typeof X=="string"?this.register("formats/"+X,U,V):Object.keys(U).forEach(function(W){z.register(W,U[W],V)})}else this.imports[U]!=null&&!K&&L.warn("Overwriting "+U+" with",V),this.imports[U]=V,(U.startsWith("blots/")||U.startsWith("formats/"))&&V.blotName!=="abstract"?b.default.register(V):U.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function H(j){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,H),this.options=q(j,V),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",j);this.options.debug&&H.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,W){var J=U.selection.lastRange,Z=J&&J.length===0?J.index:void 0;M.call(U,function(){return U.editor.update(null,W,Z)},X)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof U=="string"){var z=U;U=document.createElement("div"),U.classList.add(z)}return this.container.insertBefore(U,V),U}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(U,V,z){var K=this,X=B(U,V,z),W=s(X,4);return U=W[0],V=W[1],z=W[3],M.call(this,function(){return K.editor.deleteText(U,V)},z,U,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(U),this.container.classList.toggle("ql-disabled",!U)}},{key:"focus",value:function(){var U=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=U,this.scrollIntoView()}},{key:"format",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return M.call(this,function(){var X=z.getSelection(!0),W=new h.default;if(X==null)return W;if(b.default.query(U,b.default.Scope.BLOCK))W=z.editor.formatLine(X.index,X.length,A({},U,V));else{if(X.length===0)return z.selection.format(U,V),W;W=z.editor.formatText(X.index,X.length,A({},U,V))}return z.setSelection(X,m.default.sources.SILENT),W},K)}},{key:"formatLine",value:function(U,V,z,K,X){var W=this,J=void 0,Z=B(U,V,z,K,X),te=s(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],M.call(this,function(){return W.editor.formatLine(U,V,J)},X,U,0)}},{key:"formatText",value:function(U,V,z,K,X){var W=this,J=void 0,Z=B(U,V,z,K,X),te=s(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],M.call(this,function(){return W.editor.formatText(U,V,J)},X,U,0)}},{key:"getBounds",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof U=="number"?z=this.selection.getBounds(U,V):z=this.selection.getBounds(U.index,U.length);var K=this.container.getBoundingClientRect();return{bottom:z.bottom-K.top,height:z.height,left:z.left-K.left,right:z.right-K.left,top:z.top-K.top,width:z.width}}},{key:"getContents",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),K=s(z,2);return U=K[0],V=K[1],this.editor.getContents(U,V)}},{key:"getFormat",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof U=="number"?this.editor.getFormat(U,V):this.editor.getFormat(U.index,U.length)}},{key:"getIndex",value:function(U){return U.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(U){return this.scroll.leaf(U)}},{key:"getLine",value:function(U){return this.scroll.line(U)}},{key:"getLines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof U!="number"?this.scroll.lines(U.index,U.length):this.scroll.lines(U,V)}},{key:"getModule",value:function(U){return this.theme.modules[U]}},{key:"getSelection",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return U&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,z=B(U,V),K=s(z,2);return U=K[0],V=K[1],this.editor.getText(U,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(U,V,z){var K=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return M.call(this,function(){return K.editor.insertEmbed(U,V,z)},X,U)}},{key:"insertText",value:function(U,V,z,K,X){var W=this,J=void 0,Z=B(U,0,z,K,X),te=s(Z,4);return U=te[0],J=te[2],X=te[3],M.call(this,function(){return W.editor.insertText(U,V,J)},X,U,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(U,V,z){this.clipboard.dangerouslyPasteHTML(U,V,z)}},{key:"removeFormat",value:function(U,V,z){var K=this,X=B(U,V,z),W=s(X,4);return U=W[0],V=W[1],z=W[3],M.call(this,function(){return K.editor.removeFormat(U,V)},z,U)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){U=new h.default(U);var K=V.getLength(),X=V.editor.deleteText(0,K),W=V.editor.applyDelta(U),J=W.ops[W.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),W.delete(1));var Z=X.compose(W);return Z},z)}},{key:"setSelection",value:function(U,V,z){if(U==null)this.selection.setRange(null,V||H.sources.API);else{var K=B(U,V,z),X=s(K,4);U=X[0],V=X[1],z=X[3],this.selection.setRange(new _.Range(U,V),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new h.default().insert(U);return this.setContents(z,V)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,V=this.scroll.update(U);return this.selection.update(U),V}},{key:"updateContents",value:function(U){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){return U=new h.default(U),V.editor.applyDelta(U,z)},z,!0)}}]),H}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=m.default.events,F.sources=m.default.sources,F.version="1.3.7",F.imports={delta:h.default,parchment:b.default,"core/module":y.default,"core/theme":D.default};function q(H,j){if(j=(0,k.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===F.DEFAULTS.theme)j.theme=D.default;else if(j.theme=F.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var U=(0,k.default)(!0,{},j.theme.DEFAULTS);[U,j].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(X){K.modules[X]===!0&&(K.modules[X]={})})});var V=Object.keys(U.modules).concat(Object.keys(j.modules)),z=V.reduce(function(K,X){var W=F.import("modules/"+X);return W==null?L.error("Cannot load "+X+" module. Are you sure you registered it?"):K[X]=W.DEFAULTS||{},K},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,k.default)(!0,{},F.DEFAULTS,{modules:z},U,j),["bounds","container","scrollingContainer"].forEach(function(K){typeof j[K]=="string"&&(j[K]=document.querySelector(j[K]))}),j.modules=Object.keys(j.modules).reduce(function(K,X){return j.modules[X]&&(K[X]=j.modules[X]),K},{}),j}function M(H,j,U,V){if(this.options.strict&&!this.isEnabled()&&j===m.default.sources.USER)return new h.default;var z=U==null?null:this.getSelection(),K=this.editor.delta,X=H();if(z!=null&&(U===!0&&(U=z.index),V==null?z=Y(z,X,j):V!==0&&(z=Y(z,U,V,j)),this.setSelection(z,m.default.sources.SILENT)),X.length()>0){var W,J=[m.default.events.TEXT_CHANGE,X,K,j];if((W=this.emitter).emit.apply(W,[m.default.events.EDITOR_CHANGE].concat(J)),j!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}return X}function B(H,j,U,V,z){var K={};return typeof H.index=="number"&&typeof H.length=="number"?typeof j!="number"?(z=V,V=U,U=j,j=H.length,H=H.index):(j=H.length,H=H.index):typeof j!="number"&&(z=V,V=U,U=j,j=0),(typeof U>"u"?"undefined":o(U))==="object"?(K=U,z=V):typeof U=="string"&&(V!=null?K[U]=V:z=U),z=z||m.default.sources.API,[H,j,K,z]}function Y(H,j,U,V){if(H==null)return null;var z=void 0,K=void 0;if(j instanceof h.default){var X=[H.index,H.index+H.length].map(function(te){return j.transformPosition(te,V!==m.default.sources.USER)}),W=s(X,2);z=W[0],K=W[1]}else{var J=[H.index,H.index+H.length].map(function(te){return te<j||te===j&&V===m.default.sources.USER?te:U>=0?te+U:Math.max(j,te+U)}),Z=s(J,2);z=Z[0],K=Z[1]}return new _.Range(z,K-z)}r.expandConfig=q,r.overload=B,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(b,_){for(var E=0;E<_.length;E++){var x=_[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),s=function w(b,_,E){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,_);if(x===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(E)}},a=i(7),l=f(a),h=i(0),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){g(b,w);function b(){return p(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"formatAt",value:function(E,x,k,O){if(b.compare(this.statics.blotName,k)<0&&c.default.query(k,c.default.Scope.BLOT)){var N=this.isolate(E,x);O&&N.wrap(k,O)}else s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,E,x,k,O)}},{key:"optimize",value:function(E){if(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(E,x){var k=b.order.indexOf(E),O=b.order.indexOf(x);return k>=0||O>=0?k-O:E===x?0:E<x?-1:1}}]),b}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(E,x){for(var k=0;k<x.length;k++){var O=x[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,x,k){return x&&_(E.prototype,x),k&&_(E,k),E}}(),s=function _(E,x,k){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,x);if(O===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:_(N,x,k)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(k)}},a=i(54),l=f(a),h=i(10),c=f(h);function f(_){return _&&_.__esModule?_:{default:_}}function p(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function m(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function g(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(_){document.addEventListener(_,function(){for(var E=arguments.length,x=Array(E),k=0;k<E;k++)x[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var N;(N=O.__quill.emitter).handleDOM.apply(N,x)}})})});var b=function(_){g(E,_);function E(){p(this,E);var x=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return x.listeners={},x.on("error",y.error),x}return o(E,[{key:"emit",value:function(){y.log.apply(y,arguments),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var O=arguments.length,N=Array(O>1?O-1:0),C=1;C<O;C++)N[C-1]=arguments[C];(this.listeners[k.type]||[]).forEach(function(D){var P=D.node,A=D.handler;(k.target===P||P.contains(k.target))&&A.apply(void 0,[k].concat(N))})}},{key:"listenDOM",value:function(k,O,N){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:O,handler:N})}}]),E}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=h};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(h){if(o.indexOf(h)<=o.indexOf(s)){for(var c,f=arguments.length,p=Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];(c=console)[h].apply(c,p)}}function l(h){return o.reduce(function(c,f){return c[f]=a.bind(console,f,h),c},{})}a.level=l.level=function(h){s=h},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(p,m,g){return g||(g={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?g.strict?p===m:p==m:f(p,m,g)};function h(p){return p==null}function c(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,m,g){var y,w;if(h(p)||h(m)||p.prototype!==m.prototype)return!1;if(a(p))return a(m)?(p=o.call(p),m=o.call(m),l(p,m,g)):!1;if(c(p)){if(!c(m)||p.length!==m.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==m[y])return!1;return!0}try{var b=s(p),_=s(m)}catch{return!1}if(b.length!=_.length)return!1;for(b.sort(),_.sort(),y=b.length-1;y>=0;y--)if(b[y]!=_[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!l(p[w],m[w],g))return!1;return typeof p==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,h,c){c===void 0&&(c={}),this.attrName=l,this.keyName=h;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(h){return h.name})},a.prototype.add=function(l,h){return this.canAdd(l,h)?(l.setAttribute(this.keyName,h),!0):!1},a.prototype.canAdd=function(l,h){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var h=l.getAttribute(this.keyName);return this.canAdd(l,h)&&h?h:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function C(D,P){var A=[],I=!0,L=!1,F=void 0;try{for(var q=D[Symbol.iterator](),M;!(I=(M=q.next()).done)&&(A.push(M.value),!(P&&A.length===P));I=!0);}catch(B){L=!0,F=B}finally{try{!I&&q.return&&q.return()}finally{if(L)throw F}}return A}return function(D,P){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return C(D,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(D,P){for(var A=0;A<P.length;A++){var I=P[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,P,A){return P&&C(D.prototype,P),A&&C(D,A),D}}(),a=function C(D,P,A){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,P);if(I===void 0){var L=Object.getPrototypeOf(D);return L===null?void 0:C(L,P,A)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(A)}},l=i(2),h=_(l),c=i(0),f=_(c),p=i(4),m=_(p),g=i(6),y=_(g),w=i(7),b=_(w);function _(C){return C&&C.__esModule?C:{default:C}}function E(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function x(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:C}function k(C,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}var O=function(C){k(D,C);function D(){return E(this,D),x(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(y.default);O.blotName="code",O.tagName="CODE";var N=function(C){k(D,C);function D(){return E(this,D),x(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"delta",value:function(){var A=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(L,F){return L.insert(F).insert(`
`,A.formats())},new h.default)}},{key:"format",value:function(A,I){if(!(A===this.statics.blotName&&I)){var L=this.descendant(b.default,this.length()-1),F=o(L,1),q=F[0];q!=null&&q.deleteAt(q.length()-1,1),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,A,I)}}},{key:"formatAt",value:function(A,I,L,F){if(I!==0&&!(f.default.query(L,f.default.Scope.BLOCK)==null||L===this.statics.blotName&&F===this.statics.formats(this.domNode))){var q=this.newlineIndex(A);if(!(q<0||q>=A+I)){var M=this.newlineIndex(A,!0)+1,B=q-M+1,Y=this.isolate(M,B),H=Y.next;Y.format(L,F),H instanceof D&&H.formatAt(0,A-M+I-B,L,F)}}}},{key:"insertAt",value:function(A,I,L){if(L==null){var F=this.descendant(b.default,A),q=o(F,2),M=q[0],B=q[1];M.insertAt(B,I)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var L=this.domNode.textContent.slice(A).indexOf(`
`);return L>-1?A+L:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,A);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(A),I.moveChildren(this),I.remove())}},{key:"replace",value:function(A){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var L=f.default.find(I);L==null?I.parentNode.removeChild(I):L instanceof f.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(A){var I=a(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,A);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),D}(m.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",r.Code=O,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(j,U){var V=[],z=!0,K=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(z=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));z=!0);}catch(Z){K=!0,X=Z}finally{try{!z&&W.return&&W.return()}finally{if(K)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(j,U){for(var V=0;V<U.length;V++){var z=U[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,U,V){return U&&H(j.prototype,U),V&&H(j,V),j}}(),l=i(2),h=I(l),c=i(20),f=I(c),p=i(0),m=I(p),g=i(13),y=I(g),w=i(24),b=I(w),_=i(4),E=I(_),x=i(16),k=I(x),O=i(21),N=I(O),C=i(11),D=I(C),P=i(3),A=I(P);function I(H){return H&&H.__esModule?H:{default:H}}function L(H,j,U){return j in H?Object.defineProperty(H,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[j]=U,H}function F(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,M=function(){function H(j){F(this,H),this.scroll=j,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function(U){var V=this,z=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),U=Y(U),U.reduce(function(X,W){var J=W.retain||W.delete||W.insert.length||1,Z=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var te=W.insert;te.endsWith(`
`)&&z&&(z=!1,te=te.slice(0,-1)),X>=K&&!te.endsWith(`
`)&&(z=!0),V.scroll.insertAt(X,te);var le=V.scroll.line(X),pe=s(le,2),ge=pe[0],Ce=pe[1],Fe=(0,A.default)({},(0,_.bubbleFormats)(ge));if(ge instanceof E.default){var De=ge.descendant(m.default.Leaf,Ce),nt=s(De,1),Qe=nt[0];Fe=(0,A.default)(Fe,(0,_.bubbleFormats)(Qe))}Z=f.default.attributes.diff(Fe,Z)||{}}else if(o(W.insert)==="object"){var ce=Object.keys(W.insert)[0];if(ce==null)return X;V.scroll.insertAt(X,ce,W.insert[ce])}K+=J}return Object.keys(Z).forEach(function(fe){V.scroll.formatAt(X,J,fe,Z[fe])}),X+J},0),U.reduce(function(X,W){return typeof W.delete=="number"?(V.scroll.deleteAt(X,W.delete),X):X+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(U)}},{key:"deleteText",value:function(U,V){return this.scroll.deleteAt(U,V),this.update(new h.default().retain(U).delete(V))}},{key:"formatLine",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(X){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[X])){var W=z.scroll.lines(U,Math.max(V,1)),J=V;W.forEach(function(Z){var te=Z.length();if(!(Z instanceof y.default))Z.format(X,K[X]);else{var le=U-Z.offset(z.scroll),pe=Z.newlineIndex(le+J)-le+1;Z.formatAt(le,pe,X,K[X])}J-=te})}}),this.scroll.optimize(),this.update(new h.default().retain(U).retain(V,(0,N.default)(K)))}},{key:"formatText",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(X){z.scroll.formatAt(U,V,X,K[X])}),this.update(new h.default().retain(U).retain(V,(0,N.default)(K)))}},{key:"getContents",value:function(U,V){return this.delta.slice(U,U+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(U,V){return U.concat(V.delta())},new h.default)}},{key:"getFormat",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],K=[];V===0?this.scroll.path(U).forEach(function(W){var J=s(W,1),Z=J[0];Z instanceof E.default?z.push(Z):Z instanceof m.default.Leaf&&K.push(Z)}):(z=this.scroll.lines(U,V),K=this.scroll.descendants(m.default.Leaf,U,V));var X=[z,K].map(function(W){if(W.length===0)return{};for(var J=(0,_.bubbleFormats)(W.shift());Object.keys(J).length>0;){var Z=W.shift();if(Z==null)return J;J=B((0,_.bubbleFormats)(Z),J)}return J});return A.default.apply(A.default,X)}},{key:"getText",value:function(U,V){return this.getContents(U,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(U,V,z){return this.scroll.insertAt(U,V,z),this.update(new h.default().retain(U).insert(L({},V,z)))}},{key:"insertText",value:function(U,V){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(U,V),Object.keys(K).forEach(function(X){z.scroll.formatAt(U,V.length,X,K[X])}),this.update(new h.default().retain(U).insert(V,(0,N.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var U=this.scroll.children.head;return U.statics.blotName!==E.default.blotName||U.children.length>1?!1:U.children.head instanceof k.default}},{key:"removeFormat",value:function(U,V){var z=this.getText(U,V),K=this.scroll.line(U+V),X=s(K,2),W=X[0],J=X[1],Z=0,te=new h.default;W!=null&&(W instanceof y.default?Z=W.newlineIndex(J)-J+1:Z=W.length()-J,te=W.delta().slice(J,J+Z-1).insert(`
`));var le=this.getContents(U,V+Z),pe=le.diff(new h.default().insert(z).concat(te)),ge=new h.default().retain(U).concat(pe);return this.applyDelta(ge)}},{key:"update",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(q)&&m.default.find(V[0].target)){var X=m.default.find(V[0].target),W=(0,_.bubbleFormats)(X),J=X.offset(this.scroll),Z=V[0].oldValue.replace(b.default.CONTENTS,""),te=new h.default().insert(Z),le=new h.default().insert(X.value()),pe=new h.default().retain(J).concat(te.diff(le,z));U=pe.reduce(function(ge,Ce){return Ce.insert?ge.insert(Ce.insert,W):ge.push(Ce)},new h.default),this.delta=K.compose(U)}else this.delta=this.getDelta(),(!U||!(0,D.default)(K.compose(U),this.delta))&&(U=K.diff(this.delta,z));return U}}]),H}();function B(H,j){return Object.keys(j).reduce(function(U,V){return H[V]==null||(j[V]===H[V]?U[V]=j[V]:Array.isArray(j[V])?j[V].indexOf(H[V])<0&&(U[V]=j[V].concat([H[V]])):U[V]=[j[V],H[V]]),U},{})}function Y(H){return H.reduce(function(j,U){if(U.insert===1){var V=(0,N.default)(U.attributes);return delete V.image,j.insert({image:U.attributes.image},V)}if(U.attributes!=null&&(U.attributes.list===!0||U.attributes.bullet===!0)&&(U=(0,N.default)(U),U.attributes.list?U.attributes.list="ordered":(U.attributes.list="bullet",delete U.attributes.bullet)),typeof U.insert=="string"){var z=U.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(z,U.attributes)}return j.push(U)},new h.default)}r.default=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function C(D,P){var A=[],I=!0,L=!1,F=void 0;try{for(var q=D[Symbol.iterator](),M;!(I=(M=q.next()).done)&&(A.push(M.value),!(P&&A.length===P));I=!0);}catch(B){L=!0,F=B}finally{try{!I&&q.return&&q.return()}finally{if(L)throw F}}return A}return function(D,P){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return C(D,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(D,P){for(var A=0;A<P.length;A++){var I=P[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,P,A){return P&&C(D.prototype,P),A&&C(D,A),D}}(),a=i(0),l=b(a),h=i(21),c=b(h),f=i(11),p=b(f),m=i(8),g=b(m),y=i(10),w=b(y);function b(C){return C&&C.__esModule?C:{default:C}}function _(C){if(Array.isArray(C)){for(var D=0,P=Array(C.length);D<C.length;D++)P[D]=C[D];return P}else return Array.from(C)}function E(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}var x=(0,w.default)("quill:selection"),k=function C(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,C),this.index=D,this.length=P},O=function(){function C(D,P){var A=this;E(this,C),this.emitter=P,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(I,L){I===g.default.events.TEXT_CHANGE&&L.length()>0&&A.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var I=A.getNativeRange();I!=null&&I.start.node!==A.cursor.textNode&&A.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(I,L){if(L.range){var F=L.range,q=F.startNode,M=F.startOffset,B=F.endNode,Y=F.endOffset;A.setNativeRange(q,M,B,Y)}}),this.update(g.default.sources.SILENT)}return s(C,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var A=P.cursor.restore();if(!A)return;setTimeout(function(){P.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||l.default.query(P,l.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var L=l.default.find(I.start.node,!1);if(L==null)return;if(L instanceof l.default.Leaf){var F=L.split(I.start.offset);L.parent.insertBefore(this.cursor,F)}else L.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(P,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();P=Math.min(P,I-1),A=Math.min(P+A,I-1)-P;var L=void 0,F=this.scroll.leaf(P),q=o(F,2),M=q[0],B=q[1];if(M==null)return null;var Y=M.position(B,!0),H=o(Y,2);L=H[0],B=H[1];var j=document.createRange();if(A>0){j.setStart(L,B);var U=this.scroll.leaf(P+A),V=o(U,2);if(M=V[0],B=V[1],M==null)return null;var z=M.position(B,!0),K=o(z,2);return L=K[0],B=K[1],j.setEnd(L,B),j.getBoundingClientRect()}else{var X="left",W=void 0;return L instanceof Text?(B<L.data.length?(j.setStart(L,B),j.setEnd(L,B+1)):(j.setStart(L,B-1),j.setEnd(L,B),X="right"),W=j.getBoundingClientRect()):(W=M.domNode.getBoundingClientRect(),B>0&&(X="right")),{bottom:W.top+W.height,height:W.height,left:W[X],right:W[X],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var A=P.getRangeAt(0);if(A==null)return null;var I=this.normalizeNative(A);return x.info("getNativeRange",I),I}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var A=this.normalizedToRange(P);return[A,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var A=this,I=[[P.start.node,P.start.offset]];P.native.collapsed||I.push([P.end.node,P.end.offset]);var L=I.map(function(M){var B=o(M,2),Y=B[0],H=B[1],j=l.default.find(Y,!0),U=j.offset(A.scroll);return H===0?U:j instanceof l.default.Container?U+j.length():U+j.index(Y,H)}),F=Math.min(Math.max.apply(Math,_(L)),this.scroll.length()-1),q=Math.min.apply(Math,[F].concat(_(L)));return new k(q,F-q)}},{key:"normalizeNative",value:function(P){if(!N(this.root,P.startContainer)||!P.collapsed&&!N(this.root,P.endContainer))return null;var A={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[A.start,A.end].forEach(function(I){for(var L=I.node,F=I.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>F)L=L.childNodes[F],F=0;else if(L.childNodes.length===F)L=L.lastChild,F=L instanceof Text?L.data.length:L.childNodes.length+1;else break;I.node=L,I.offset=F}),A}},{key:"rangeToNative",value:function(P){var A=this,I=P.collapsed?[P.index]:[P.index,P.index+P.length],L=[],F=this.scroll.length();return I.forEach(function(q,M){q=Math.min(F-1,q);var B=void 0,Y=A.scroll.leaf(q),H=o(Y,2),j=H[0],U=H[1],V=j.position(U,M!==0),z=o(V,2);B=z[0],U=z[1],L.push(B,U)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(P){var A=this.lastRange;if(A!=null){var I=this.getBounds(A.index,A.length);if(I!=null){var L=this.scroll.length()-1,F=this.scroll.line(Math.min(A.index,L)),q=o(F,1),M=q[0],B=M;if(A.length>0){var Y=this.scroll.line(Math.min(A.index+A.length,L)),H=o(Y,1);B=H[0]}if(!(M==null||B==null)){var j=P.getBoundingClientRect();I.top<j.top?P.scrollTop-=j.top-I.top:I.bottom>j.bottom&&(P.scrollTop+=I.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(P,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",P,A,I,L),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||I.parentNode==null))){var q=document.getSelection();if(q!=null)if(P!=null){this.hasFocus()||this.root.focus();var M=(this.getNativeRange()||{}).native;if(M==null||F||P!==M.startContainer||A!==M.startOffset||I!==M.endContainer||L!==M.endOffset){P.tagName=="BR"&&(A=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),I.tagName=="BR"&&(L=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var B=document.createRange();B.setStart(P,A),B.setEnd(I,L),q.removeAllRanges(),q.addRange(B)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof A=="string"&&(I=A,A=!1),x.info("setRange",P),P!=null){var L=this.rangeToNative(P);this.setNativeRange.apply(this,_(L).concat([A]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,A=this.lastRange,I=this.getRange(),L=o(I,2),F=L[0],q=L[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(A,this.lastRange)){var M;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(A),P];if((M=this.emitter).emit.apply(M,[g.default.events.EDITOR_CHANGE].concat(B)),P!==g.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,B)}}}}]),C}();function N(C,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),C.contains(D)}r.Range=k,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),s=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(b)}},a=i(0),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(b,_){b.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),h=function(f){o(p,f);function p(m){var g=f.call(this,m)||this;return g.build(),g}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=c(g);m.insertBefore(y,m.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(m,g){if(m===0&&g===this.length())return this.remove();this.children.forEachAt(m,g,function(y,w,b){y.deleteAt(w,b)})},p.prototype.descendant=function(m,g){var y=this.children.find(g),w=y[0],b=y[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,b]:w instanceof p?w.descendant(m,b):[null,-1]},p.prototype.descendants=function(m,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(g,y,function(_,E,x){(m.blotName==null&&m(_)||m.blotName!=null&&_ instanceof m)&&w.push(_),_ instanceof p&&(w=w.concat(_.descendants(m,E,b))),b-=x}),w},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(m,g,y,w){this.children.forEachAt(m,g,function(b,_,E){b.formatAt(_,E,y,w)})},p.prototype.insertAt=function(m,g,y){var w=this.children.find(m),b=w[0],_=w[1];if(b)b.insertAt(_,g,y);else{var E=y==null?l.create("text",g):l.create(g,y);this.appendChild(E)}},p.prototype.insertBefore=function(m,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return m instanceof y}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,g)},p.prototype.length=function(){return this.children.reduce(function(m,g){return m+g.length()},0)},p.prototype.moveChildren=function(m,g){this.children.forEach(function(y){m.insertBefore(y,g)})},p.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(m)}else this.remove()},p.prototype.path=function(m,g){g===void 0&&(g=!1);var y=this.children.find(m,g),w=y[0],b=y[1],_=[[this,m]];return w instanceof p?_.concat(w.path(b,g)):(w!=null&&_.push([w,b]),_)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),f.prototype.replace.call(this,m)},p.prototype.split=function(m,g){if(g===void 0&&(g=!1),!g){if(m===0)return this;if(m===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(m,this.length(),function(w,b,_){w=w.split(b,g),y.appendChild(w)}),y},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,g){var y=this,w=[],b=[];m.forEach(function(_){_.target===y.domNode&&_.type==="childList"&&(w.push.apply(w,_.addedNodes),b.push.apply(b,_.removedNodes))}),b.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(_);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===y.domNode)&&E.detach()}}),w.filter(function(_){return _.parentNode==y.domNode}).sort(function(_,E){return _===E?0:_.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var E=null;_.nextSibling!=null&&(E=l.find(_.nextSibling));var x=c(_);(x.next!=E||x.next==null)&&(x.parent!=null&&x.parent.removeChild(y),y.insertBefore(x,E||void 0))})},p}(a.default);function c(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){p.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),h=i(1),c=function(f){o(p,f);function p(m){var g=f.call(this,m)||this;return g.attributes=new a.default(g.domNode),g}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,g){var y=h.query(m);y instanceof s.default?this.attributes.attribute(y,g):g&&y!=null&&(m!==this.statics.blotName||this.formats()[m]!==g)&&this.replaceWith(m,g)},p.prototype.formats=function(){var m=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(m[this.statics.blotName]=g),m},p.prototype.replaceWith=function(m,g){var y=f.prototype.replaceWith.call(this,m,g);return this.attributes.copy(y),y},p.prototype.update=function(m,g){var y=this;f.prototype.update.call(this,m,g),m.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,g){var y=f.prototype.wrap.call(this,m,g);return y instanceof p&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},p}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},c.prototype.position=function(f,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(h,c,f){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var p=s(!0,{},c);f||(p=Object.keys(p).reduce(function(g,y){return p[y]!=null&&(g[y]=p[y]),g},{}));for(var m in h)h[m]!==void 0&&c[m]===void 0&&(p[m]=h[m]);return Object.keys(p).length>0?p:void 0},diff:function(h,c){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var f=Object.keys(h).concat(Object.keys(c)).reduce(function(p,m){return o(h[m],c[m])||(p[m]=c[m]===void 0?null:c[m]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(h,c,f){if(typeof h!="object")return c;if(typeof c=="object"){if(!f)return c;var p=Object.keys(c).reduce(function(m,g){return h[g]===void 0&&(m[g]=c[g]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(h){return new l(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function l(h){this.ops=h,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(h){h||(h=1/0);var c=this.ops[this.index];if(c){var f=this.offset,p=a.length(c);if(h>=p-f?(h=p-f,this.index+=1,this.offset=0):this.offset+=h,typeof c.delete=="number")return{delete:h};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=h:typeof c.insert=="string"?m.insert=c.insert.substr(f,h):m.insert=c.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,c=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=h,this.index=c,[f].concat(p)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,w){return w!=null&&y instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function h(y,w,b,_,E){typeof w=="object"&&(b=w.depth,_=w.prototype,E=w.includeNonEnumerable,w=w.circular);var x=[],k=[],O=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function N(C,D){if(C===null)return null;if(D===0)return C;var P,A;if(typeof C!="object")return C;if(o(C,s))P=new s;else if(o(C,a))P=new a;else if(o(C,l))P=new l(function(j,U){C.then(function(V){j(N(V,D-1))},function(V){U(N(V,D-1))})});else if(h.__isArray(C))P=[];else if(h.__isRegExp(C))P=new RegExp(C.source,g(C)),C.lastIndex&&(P.lastIndex=C.lastIndex);else if(h.__isDate(C))P=new Date(C.getTime());else{if(O&&Buffer.isBuffer(C))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(C.length):P=new Buffer(C.length),C.copy(P),P;o(C,Error)?P=Object.create(C):typeof _>"u"?(A=Object.getPrototypeOf(C),P=Object.create(A)):(P=Object.create(_),A=_)}if(w){var I=x.indexOf(C);if(I!=-1)return k[I];x.push(C),k.push(P)}o(C,s)&&C.forEach(function(j,U){var V=N(U,D-1),z=N(j,D-1);P.set(V,z)}),o(C,a)&&C.forEach(function(j){var U=N(j,D-1);P.add(U)});for(var L in C){var F;A&&(F=Object.getOwnPropertyDescriptor(A,L)),!(F&&F.set==null)&&(P[L]=N(C[L],D-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(C),L=0;L<q.length;L++){var M=q[L],B=Object.getOwnPropertyDescriptor(C,M);B&&!B.enumerable&&!E||(P[M]=N(C[M],D-1),B.enumerable||Object.defineProperty(P,M,{enumerable:!1}))}if(E)for(var Y=Object.getOwnPropertyNames(C),L=0;L<Y.length;L++){var H=Y[L],B=Object.getOwnPropertyDescriptor(C,H);B&&B.enumerable||(P[H]=N(C[H],D-1),Object.defineProperty(P,H,{enumerable:!1}))}return P}return N(y,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(y){return Object.prototype.toString.call(y)}h.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}h.__isDate=f;function p(y){return typeof y=="object"&&c(y)==="[object Array]"}h.__isArray=p;function m(y){return typeof y=="object"&&c(y)==="[object RegExp]"}h.__isRegExp=m;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return h.__getRegExpFlags=g,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function P(A,I){var L=[],F=!0,q=!1,M=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(L.push(Y.value),!(I&&L.length===I));F=!0);}catch(H){q=!0,M=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw M}}return L}return function(A,I){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return P(A,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function P(A,I){for(var L=0;L<I.length;L++){var F=I[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,I,L){return I&&P(A.prototype,I),L&&P(A,L),A}}(),a=function P(A,I,L){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,I);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:P(q,I,L)}else{if("value"in F)return F.value;var M=F.get;return M===void 0?void 0:M.call(L)}},l=i(0),h=x(l),c=i(8),f=x(c),p=i(4),m=x(p),g=i(16),y=x(g),w=i(13),b=x(w),_=i(25),E=x(_);function x(P){return P&&P.__esModule?P:{default:P}}function k(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function O(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:P}function N(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}function C(P){return P instanceof m.default||P instanceof p.BlockEmbed}var D=function(P){N(A,P);function A(I,L){k(this,A);var F=O(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I));return F.emitter=L.emitter,Array.isArray(L.whitelist)&&(F.whitelist=L.whitelist.reduce(function(q,M){return q[M]=!0,q},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,F){var q=this.line(L),M=o(q,2),B=M[0],Y=M[1],H=this.line(L+F),j=o(H,1),U=j[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,L,F),U!=null&&B!==U&&Y>0){if(B instanceof p.BlockEmbed||U instanceof p.BlockEmbed){this.optimize();return}if(B instanceof b.default){var V=B.newlineIndex(B.length(),!0);if(V>-1&&(B=B.split(V+1),B===U)){this.optimize();return}}else if(U instanceof b.default){var z=U.newlineIndex(0);z>-1&&U.split(z+1)}var K=U.children.head instanceof y.default?null:U.children.head;B.moveChildren(U,K),B.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,F,q,M){this.whitelist!=null&&!this.whitelist[q]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,L,F,q,M),this.optimize())}},{key:"insertAt",value:function(L,F,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[F])){if(L>=this.length())if(q==null||h.default.query(F,h.default.Scope.BLOCK)==null){var M=h.default.create(this.statics.defaultChild);this.appendChild(M),q==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),M.insertAt(0,F,q)}else{var B=h.default.create(F,q);this.appendChild(B)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,L,F,q);this.optimize()}}},{key:"insertBefore",value:function(L,F){if(L.statics.scope===h.default.Scope.INLINE_BLOT){var q=h.default.create(this.statics.defaultChild);q.appendChild(L),L=q}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,L,F)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(C,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function M(B,Y,H){var j=[],U=H;return B.children.forEachAt(Y,H,function(V,z,K){C(V)?j.push(V):V instanceof h.default.Container&&(j=j.concat(M(V,z,U))),U-=K}),j};return q(this,L,F)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,L,F),L.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,L,F))}},{key:"path",value:function(L){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var F=f.default.sources.USER;typeof L=="string"&&(F=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,F,L),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,F,L)}}}]),A}(h.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[m.default,p.BlockEmbed,E.default],r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(J,Z){var te=[],le=!0,pe=!1,ge=void 0;try{for(var Ce=J[Symbol.iterator](),Fe;!(le=(Fe=Ce.next()).done)&&(te.push(Fe.value),!(Z&&te.length===Z));le=!0);}catch(De){pe=!0,ge=De}finally{try{!le&&Ce.return&&Ce.return()}finally{if(pe)throw ge}}return te}return function(J,Z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return W(J,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(J,Z){for(var te=0;te<Z.length;te++){var le=Z[te];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,Z,te){return Z&&W(J.prototype,Z),te&&W(J,te),J}}(),l=i(21),h=P(l),c=i(11),f=P(c),p=i(3),m=P(p),g=i(2),y=P(g),w=i(20),b=P(w),_=i(0),E=P(_),x=i(5),k=P(x),O=i(10),N=P(O),C=i(9),D=P(C);function P(W){return W&&W.__esModule?W:{default:W}}function A(W,J,Z){return J in W?Object.defineProperty(W,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):W[J]=Z,W}function I(W,J){if(!(W instanceof J))throw new TypeError("Cannot call a class as a function")}function L(W,J){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:W}function F(W,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}var q=(0,N.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(W){F(J,W),a(J,null,[{key:"match",value:function(te,le){return le=X(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==te[pe]&&le[pe]!==null})?!1:le.key===(te.which||te.keyCode)}}]);function J(Z,te){I(this,J);var le=L(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,Z,te));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:J.keys.ENTER,shiftKey:null},V),le.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0},j)):(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),le.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),le.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},U),le.addBinding({key:J.keys.DELETE},{collapsed:!1},U),le.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),le.listen(),le}return a(J,[{key:"addBinding",value:function(te){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=X(te);if(ge==null||ge.key==null)return q.warn("Attempted to add invalid keyboard binding",ge);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ge=(0,m.default)(ge,le,pe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var te=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ge=(te.bindings[pe]||[]).filter(function(ut){return J.match(le,ut)});if(ge.length!==0){var Ce=te.quill.getSelection();if(!(Ce==null||!te.quill.hasFocus())){var Fe=te.quill.getLine(Ce.index),De=s(Fe,2),nt=De[0],Qe=De[1],ce=te.quill.getLeaf(Ce.index),fe=s(ce,2),we=fe[0],_e=fe[1],he=Ce.length===0?[we,_e]:te.quill.getLeaf(Ce.index+Ce.length),$e=s(he,2),Ie=$e[0],Ye=$e[1],Gt=we instanceof E.default.Text?we.value().slice(0,_e):"",Nn=Ie instanceof E.default.Text?Ie.value().slice(Ye):"",it={collapsed:Ce.length===0,empty:Ce.length===0&&nt.length()<=1,format:te.quill.getFormat(Ce),offset:Qe,prefix:Gt,suffix:Nn},$r=ge.some(function(ut){if(ut.collapsed!=null&&ut.collapsed!==it.collapsed||ut.empty!=null&&ut.empty!==it.empty||ut.offset!=null&&ut.offset!==it.offset)return!1;if(Array.isArray(ut.format)){if(ut.format.every(function(qt){return it.format[qt]==null}))return!1}else if(o(ut.format)==="object"&&!Object.keys(ut.format).every(function(qt){return ut.format[qt]===!0?it.format[qt]!=null:ut.format[qt]===!1?it.format[qt]==null:(0,f.default)(ut.format[qt],it.format[qt])}))return!1;return ut.prefix!=null&&!ut.prefix.test(it.prefix)||ut.suffix!=null&&!ut.suffix.test(it.suffix)?!1:ut.handler.call(te,Ce,it)!==!0});$r&&le.preventDefault()}}}})}}]),J}(D.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,Z){Z.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,k.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(J){this.quill.history.cutoff();var Z=new y.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(Z,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,k.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,Z){this.quill.format("list",!1,k.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var Z=this.quill.getLine(J.index),te=s(Z,2),le=te[0],pe=te[1],ge=(0,m.default)({},le.formats(),{list:"checked"}),Ce=new y.default().retain(J.index).insert(`
`,ge).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,Z){var te=this.quill.getLine(J.index),le=s(te,2),pe=le[0],ge=le[1],Ce=new y.default().retain(J.index).insert(`
`,Z.format).retain(pe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,Z){var te=Z.prefix.length,le=this.quill.getLine(J.index),pe=s(le,2),ge=pe[0],Ce=pe[1];if(Ce>te)return!0;var Fe=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":Fe="unchecked";break;case"[x]":Fe="checked";break;case"-":case"*":Fe="bullet";break;default:Fe="ordered"}this.quill.insertText(J.index," ",k.default.sources.USER),this.quill.history.cutoff();var De=new y.default().retain(J.index-Ce).delete(te+1).retain(ge.length()-2-Ce).retain(1,{list:Fe});this.quill.updateContents(De,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-te,k.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var Z=this.quill.getLine(J.index),te=s(Z,2),le=te[0],pe=te[1],ge=new y.default().retain(J.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Y(B.keys.LEFT,!1),"embed left shift":Y(B.keys.LEFT,!0),"embed right":Y(B.keys.RIGHT,!1),"embed right shift":Y(B.keys.RIGHT,!0)}};function Y(W,J){var Z,te=W===B.keys.LEFT?"prefix":"suffix";return Z={key:W,shiftKey:J,altKey:null},A(Z,te,/^$/),A(Z,"handler",function(pe){var ge=pe.index;W===B.keys.RIGHT&&(ge+=pe.length+1);var Ce=this.quill.getLeaf(ge),Fe=s(Ce,1),De=Fe[0];return De instanceof E.default.Embed?(W===B.keys.LEFT?J?this.quill.setSelection(pe.index-1,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index-1,k.default.sources.USER):J?this.quill.setSelection(pe.index,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,k.default.sources.USER),!1):!0}),Z}function H(W,J){if(!(W.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(W.index),te=s(Z,1),le=te[0],pe={};if(J.offset===0){var ge=this.quill.getLine(W.index-1),Ce=s(ge,1),Fe=Ce[0];if(Fe!=null&&Fe.length()>1){var De=le.formats(),nt=this.quill.getFormat(W.index-1,1);pe=b.default.attributes.diff(De,nt)||{}}}var Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(W.index-Qe,Qe,k.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(W.index-Qe,Qe,pe,k.default.sources.USER),this.quill.focus()}}function j(W,J){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(W.index>=this.quill.getLength()-Z)){var te={},le=0,pe=this.quill.getLine(W.index),ge=s(pe,1),Ce=ge[0];if(J.offset>=Ce.length()-1){var Fe=this.quill.getLine(W.index+1),De=s(Fe,1),nt=De[0];if(nt){var Qe=Ce.formats(),ce=this.quill.getFormat(W.index,1);te=b.default.attributes.diff(Qe,ce)||{},le=nt.length()}}this.quill.deleteText(W.index,Z,k.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(W.index+le-1,Z,te,k.default.sources.USER)}}function U(W){var J=this.quill.getLines(W),Z={};if(J.length>1){var te=J[0].formats(),le=J[J.length-1].formats();Z=b.default.attributes.diff(le,te)||{}}this.quill.deleteText(W,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(W.index,1,Z,k.default.sources.USER),this.quill.setSelection(W.index,k.default.sources.SILENT),this.quill.focus()}function V(W,J){var Z=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var te=Object.keys(J.format).reduce(function(le,pe){return E.default.query(pe,E.default.Scope.BLOCK)&&!Array.isArray(J.format[pe])&&(le[pe]=J.format[pe]),le},{});this.quill.insertText(W.index,`
`,te,k.default.sources.USER),this.quill.setSelection(W.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(le){te[le]==null&&(Array.isArray(J.format[le])||le!=="link"&&Z.quill.format(le,J.format[le],k.default.sources.USER))})}function z(W){return{key:B.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(Z){var te=E.default.query("code-block"),le=Z.index,pe=Z.length,ge=this.quill.scroll.descendant(te,le),Ce=s(ge,2),Fe=Ce[0],De=Ce[1];if(Fe!=null){var nt=this.quill.getIndex(Fe),Qe=Fe.newlineIndex(De,!0)+1,ce=Fe.newlineIndex(nt+De+pe),fe=Fe.domNode.textContent.slice(Qe,ce).split(`
`);De=0,fe.forEach(function(we,_e){W?(Fe.insertAt(Qe+De,te.TAB),De+=te.TAB.length,_e===0?le+=te.TAB.length:pe+=te.TAB.length):we.startsWith(te.TAB)&&(Fe.deleteAt(Qe+De,te.TAB.length),De-=te.TAB.length,_e===0?le-=te.TAB.length:pe-=te.TAB.length),De+=we.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(le,pe,k.default.sources.SILENT)}}}}function K(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(Z,te){this.quill.format(W,!te.format[W],k.default.sources.USER)}}}function X(W){if(typeof W=="string"||typeof W=="number")return X({key:W});if((typeof W>"u"?"undefined":o(W))==="object"&&(W=(0,h.default)(W,!1)),typeof W.key=="string")if(B.keys[W.key.toUpperCase()]!=null)W.key=B.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[M]=W.shortKey,delete W.shortKey),W}r.default=B,r.SHORTKEY=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(_,E){var x=[],k=!0,O=!1,N=void 0;try{for(var C=_[Symbol.iterator](),D;!(k=(D=C.next()).done)&&(x.push(D.value),!(E&&x.length===E));k=!0);}catch(P){O=!0,N=P}finally{try{!k&&C.return&&C.return()}finally{if(O)throw N}}return x}return function(_,E){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function b(_,E,x){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var O=Object.getPrototypeOf(_);return O===null?void 0:b(O,E,x)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(x)}},a=function(){function b(_,E){for(var x=0;x<E.length;x++){var k=E[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,x){return E&&b(_.prototype,E),x&&b(_,x),_}}(),l=i(0),h=p(l),c=i(7),f=p(c);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function g(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function y(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var w=function(b){y(_,b),a(_,null,[{key:"value",value:function(){}}]);function _(E,x){m(this,_);var k=g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E));return k.selection=x,k.textNode=document.createTextNode(_.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,k){if(this._length!==0)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,x,k);for(var O=this,N=0;O!=null&&O.statics.scope!==h.default.Scope.BLOCK_BLOT;)N+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=_.CONTENTS.length,O.optimize(),O.formatAt(N,_.CONTENTS.length,x,k),this._length=0)}},{key:"index",value:function(x,k){return x===this.textNode?0:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,x,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,k=this.selection.getNativeRange(),O=void 0,N=void 0,C=void 0;if(k!=null&&k.start.node===x&&k.end.node===x){var D=[x,k.start.offset,k.end.offset];O=D[0],N=D[1],C=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var P=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=_.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var A=[N,C].map(function(L){return Math.max(0,Math.min(O.data.length,L-1))}),I=o(A,2);return N=I[0],C=I[1],{startNode:O,startOffset:N,endNode:O,endOffset:C}}}}},{key:"update",value:function(x,k){var O=this;if(x.some(function(C){return C.type==="characterData"&&C.target===O.textNode})){var N=this.restore();N&&(k.range=N)}}},{key:"value",value:function(){return""}}]),_}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=h(o),a=i(4),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(b,_){for(var E=0;E<_.length;E++){var x=_[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),s=function w(b,_,E){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,_);if(x===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(E)}},a=i(0),l=h(a);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var m=function(w){p(b,w);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"value",value:function(E){var x=s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,E);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):x}}]),b}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=g,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(w,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,_){return b&&y(w.prototype,b),_&&y(w,_),w}}(),s=function y(w,b,_){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:y(x,b,_)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(_)}},a=i(6),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(_,E){if(_!==this.statics.blotName||!E)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,_,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(_){var E=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,_);return _=this.sanitize(_),E.setAttribute("href",_),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return g(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),w}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,w){var b=document.createElement("a");b.href=y;var _=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(_)>-1}r.default=m,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(b,_){for(var E=0;E<_.length;E++){var x=_[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),a=i(23),l=f(a),h=i(107),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function g(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var _=this;p(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var E=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),_.hasAttribute("value")&&x.setAttribute("data-value",_.getAttribute("value")),_.textContent&&x.setAttribute("data-label",_.textContent),x.addEventListener("click",function(){E.selectItem(x,!0)}),x.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:E.selectItem(x,!0),k.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=c.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(x){var k=_.buildItem(x);E.appendChild(k),x.selected===!0&&_.selectItem(k)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(E){_.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(_!==x&&(x!=null&&x.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var x=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=q(o),a=i(5),l=q(a),h=i(4),c=q(h),f=i(16),p=q(f),m=i(25),g=q(m),y=i(24),w=q(y),b=i(35),_=q(b),E=i(6),x=q(E),k=i(22),O=q(k),N=i(7),C=q(N),D=i(55),P=q(D),A=i(42),I=q(A),L=i(23),F=q(L);function q(M){return M&&M.__esModule?M:{default:M}}l.default.register({"blots/block":c.default,"blots/block/embed":h.BlockEmbed,"blots/break":p.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":_.default,"blots/inline":x.default,"blots/scroll":O.default,"blots/text":C.default,"modules/clipboard":P.default,"modules/history":I.default,"modules/keyboard":F.default}),s.default.register(c.default,p.default,w.default,x.default,O.default,C.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?h=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?h=document.createElement(l):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,h){var c=this.isolate(l,h);c.remove()},a.prototype.formatAt=function(l,h,c,f){var p=this.isolate(l,h);if(o.query(c,o.Scope.BLOT)!=null&&f)p.wrap(c,f);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var m=o.create(this.statics.scope);p.wrap(m),m.format(c,f)}},a.prototype.insertAt=function(l,h,c){var f=c==null?o.create("text",h):o.create(h,c),p=this.split(l);this.parent.insertBefore(f,p)},a.prototype.insertInto=function(l,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,h),h!=null&&(c=h.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,h){var c=this.split(l);return c.split(h),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,h){var c=typeof l=="string"?o.create(l,h):l;return c.replace(this),c},a.prototype.split=function(l,h){return l===0?this:this.next},a.prototype.update=function(l,h){},a.prototype.wrap=function(l,h){var c=typeof l=="string"?o.create(l,h):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),h=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var p=o.default.keys(this.domNode),m=s.default.keys(this.domNode),g=a.default.keys(this.domNode);p.concat(m).concat(g).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof o.default&&(f.attributes[w.attrName]=w)})},c.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(m){var g=p.attributes[m].value(p.domNode);f.format(m,g)})},c.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=f.attributes[m].value(f.domNode),p},{})},c}();r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(h,c){var f=h.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(c+"-")===0})}var l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},c.prototype.remove=function(f){var p=a(f,this.keyName);p.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var p=a(f,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(h){var c=h.split("-"),f=c.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return c[0]+f}var l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[a(this.keyName)]=p,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var p=f.style[a(this.keyName)];return this.canAdd(f,p)?p:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function s(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){s(this,l),this.quill=h,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(_,E){for(var x=0;x<E.length;x++){var k=E[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,x){return E&&b(_.prototype,E),x&&b(_,x),_}}(),s=function b(_,E,x){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var O=Object.getPrototypeOf(_);return O===null?void 0:b(O,E,x)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(x)}},a=i(0),l=f(a),h=i(7),c=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function m(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function g(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y="\uFEFF",w=function(b){g(_,b);function _(E){p(this,_);var x=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(k){x.contentNode.appendChild(k)}),x.leftGuard=document.createTextNode(y),x.rightGuard=document.createTextNode(y),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return o(_,[{key:"index",value:function(x,k){return x===this.leftGuard?0:x===this.rightGuard?1:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,x,k)}},{key:"restore",value:function(x){var k=void 0,O=void 0,N=x.data.split(y).join("");if(x===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,N),k={startNode:this.prev.domNode,startOffset:C+N.length}}else O=document.createTextNode(N),this.parent.insertBefore(l.default.create(O),this),k={startNode:O,startOffset:N.length};else x===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,N),k={startNode:this.next.domNode,startOffset:N.length}):(O=document.createTextNode(N),this.parent.insertBefore(l.default.create(O),this.next),k={startNode:O,startOffset:N.length}));return x.data=y,k}},{key:"update",value:function(x,k){var O=this;x.forEach(function(N){if(N.type==="characterData"&&(N.target===O.leftGuard||N.target===O.rightGuard)){var C=O.restore(N.target);C&&(k.range=C)}})}}]),_}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=h,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var h=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},h=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=h,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function b(_,E){for(var x=0;x<E.length;x++){var k=E[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,x){return E&&b(_.prototype,E),x&&b(_,x),_}}(),s=function b(_,E,x){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var O=Object.getPrototypeOf(_);return O===null?void 0:b(O,E,x)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(x)}},a=i(0),l=h(a);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function p(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",m),y=function(b){p(_,b);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"value",value:function(x){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),w=new y("font","font-family",m);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=h},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function E(x,k){for(var O=0;O<k.length;O++){var N=k[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,k,O){return k&&E(x.prototype,k),O&&E(x,O),x}}(),s=i(0),a=p(s),l=i(5),h=p(l),c=i(9),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function m(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function g(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function y(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var w=function(E){y(x,E);function x(k,O){m(this,x);var N=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,k,O));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(h.default.events.EDITOR_CHANGE,function(C,D,P,A){C!==h.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||A===h.default.sources.USER?N.record(D,P):N.transform(D))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return o(x,[{key:"change",value:function(O,N){if(this.stack[O].length!==0){var C=this.stack[O].pop();this.stack[N].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[O],h.default.sources.USER),this.ignoreChange=!1;var D=_(C[O]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,N){if(O.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(N),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var P=this.stack.undo.pop();C=C.compose(P.undo),O=P.redo.compose(O)}else this.lastRecorded=D;this.stack.undo.push({redo:O,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(N){N.undo=O.transform(N.undo,!0),N.redo=O.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=O.transform(N.undo,!0),N.redo=O.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(E){var x=E.ops[E.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function _(E){var x=E.reduce(function(O,N){return O+=N.delete||0,O},0),k=E.length()-x;return b(E)&&(k-=1),k}r.default=w,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function V(z,K){for(var X=0;X<K.length;X++){var W=K[X];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,W.key,W)}}return function(z,K,X){return K&&V(z.prototype,K),X&&V(z,X),z}}(),s=function V(z,K,X){z===null&&(z=Function.prototype);var W=Object.getOwnPropertyDescriptor(z,K);if(W===void 0){var J=Object.getPrototypeOf(z);return J===null?void 0:V(J,K,X)}else{if("value"in W)return W.value;var Z=W.get;return Z===void 0?void 0:Z.call(X)}},a=i(3),l=D(a),h=i(2),c=D(h),f=i(8),p=D(f),m=i(23),g=D(m),y=i(34),w=D(y),b=i(59),_=D(b),E=i(60),x=D(E),k=i(28),O=D(k),N=i(61),C=D(N);function D(V){return V&&V.__esModule?V:{default:V}}function P(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function A(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function I(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var L=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],M=["1","2","3",!1],B=["small",!1,"large","huge"],Y=function(V){I(z,V);function z(K,X){P(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K,X)),J=function Z(te){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Z);W.tooltip!=null&&!W.tooltip.root.contains(te.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(le){le.container.contains(te.target)||le.close()})};return K.emitter.listenDOM("click",document.body,J),W}return o(z,[{key:"addModule",value:function(X){var W=s(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(X,W){X.forEach(function(J){var Z=J.getAttribute("class")||"";Z.split(/\s+/).forEach(function(te){if(te.startsWith("ql-")&&(te=te.slice(3),W[te]!=null))if(te==="direction")J.innerHTML=W[te][""]+W[te].rtl;else if(typeof W[te]=="string")J.innerHTML=W[te];else{var le=J.value||"";le!=null&&W[te][le]&&(J.innerHTML=W[te][le])}})})}},{key:"buildPickers",value:function(X,W){var J=this;this.pickers=X.map(function(te){if(te.classList.contains("ql-align"))return te.querySelector("option")==null&&U(te,L),new x.default(te,W.align);if(te.classList.contains("ql-background")||te.classList.contains("ql-color")){var le=te.classList.contains("ql-background")?"background":"color";return te.querySelector("option")==null&&U(te,F,le==="background"?"#ffffff":"#000000"),new _.default(te,W[le])}else return te.querySelector("option")==null&&(te.classList.contains("ql-font")?U(te,q):te.classList.contains("ql-header")?U(te,M):te.classList.contains("ql-size")&&U(te,B)),new O.default(te)});var Z=function(){J.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,Z)}}]),z}(w.default);Y.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var X=new FileReader;X.onload=function(W){var J=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(J.index).delete(J.length).insert({image:W.target.result}),p.default.sources.USER),z.quill.setSelection(J.index+1,p.default.sources.SILENT),K.value=""},X.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(V){I(z,V);function z(K,X){P(this,z);var W=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K,X));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return o(z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(W){g.default.match(W,"enter")?(X.save(),W.preventDefault()):g.default.match(W,"escape")&&(X.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,p.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":X=j(X);case"formula":{if(!X)break;var J=this.quill.getSelection(!0);if(J!=null){var Z=J.index+J.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),X,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",p.default.sources.USER),this.quill.setSelection(Z+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(C.default);function j(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function U(V,z){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(X){var W=document.createElement("option");X===K?W.setAttribute("selected","selected"):W.setAttribute("value",X),V.appendChild(W)})}r.BaseTooltip=H,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,h=this.iterator();l=h();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,h=this.head;h!=null;){if(h===a)return l;l+=h.length(),h=h.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var h,c=this.iterator();h=c();){var f=h.length();if(a<f||l&&a===f&&(h.next==null||h.next.length()!==0))return[h,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,h=this.iterator();l=h();)a(l)},s.prototype.forEachAt=function(a,l,h){if(!(l<=0))for(var c=this.find(a),f=c[0],p=c[1],m,g=a-p,y=this.iterator(f);(m=y())&&g<a+l;){var w=m.length();a>g?h(m,a-g,Math.min(l,g+w-a)):h(m,0,Math.min(w,a+l-g)),g+=w}},s.prototype.map=function(a){return this.reduce(function(l,h){return l.push(a(h)),l},[])},s.prototype.reduce=function(a,l){for(var h,c=this.iterator();h=c();)l=a(l,h);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,c=function(f){o(p,f);function p(m){var g=f.call(this,m)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,l),g.attach(),g}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,g){this.update(),m===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,m,g)},p.prototype.formatAt=function(m,g,y,w){this.update(),f.prototype.formatAt.call(this,m,g,y,w)},p.prototype.insertAt=function(m,g,y){this.update(),f.prototype.insertAt.call(this,m,g,y)},p.prototype.optimize=function(m,g){var y=this;m===void 0&&(m=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var b=function(k,O){O===void 0&&(O=!0),!(k==null||k===y)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),O&&b(k.parent))},_=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof s.default&&k.children.forEach(_),k.optimize(g))},E=m,x=0;E.length>0;x+=1){if(x>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(k){var O=a.find(k.target,!0);O!=null&&(O.domNode===k.target&&(k.type==="childList"?(b(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(N){var C=a.find(N,!1);b(C,!1),C instanceof s.default&&C.children.forEach(function(D){b(D,!1)})})):k.type==="attributes"&&b(O.prev)),b(O))}),this.children.forEach(_),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)m.push(w.pop())}},p.prototype.update=function(m,g){var y=this;g===void 0&&(g={}),m=m||this.observer.takeRecords(),m.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(m,g)},p.blotName="scroll",p.defaultChild="block",p.scope=a.Scope.BLOCK_BLOT,p.tagName="DIV",p}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var p in c)if(c[p]!==f[p])return!1;return!0}var h=function(c){o(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return c.formats.call(this,p)},f.prototype.format=function(p,m){var g=this;p===this.statics.blotName&&!m?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(f.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,p,m)},f.prototype.formatAt=function(p,m,g,y){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(p,m);w.format(g,y)}else c.prototype.formatAt.call(this,p,m,g,y)},f.prototype.optimize=function(p){c.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(m,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){var p=a.query(c.blotName).tagName;if(f.tagName!==p)return h.formats.call(this,f)},c.prototype.format=function(f,p){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(c.blotName):h.prototype.format.call(this,f,p))},c.prototype.formatAt=function(f,p,m,g){a.query(m,a.Scope.BLOCK)!=null?this.format(m,g):h.prototype.formatAt.call(this,f,p,m,g)},c.prototype.insertAt=function(f,p,m){if(m==null||a.query(p,a.Scope.INLINE)!=null)h.prototype.insertAt.call(this,f,p,m);else{var g=this.split(f),y=a.create(p,m);g.parent.insertBefore(y,g)}},c.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,f,p)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(h,l);function h(){return l!==null&&l.apply(this,arguments)||this}return h.formats=function(c){},h.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},h.prototype.formatAt=function(c,f,p,m){c===0&&f===this.length()?this.format(p,m):l.prototype.formatAt.call(this,c,f,p,m)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(h){o(c,h);function c(f){var p=h.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},c.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},c.prototype.index=function(f,p){return this.domNode===f?p:-1},c.prototype.insertAt=function(f,p,m){m==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):h.prototype.insertAt.call(this,f,p,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,p){return[this.domNode,f]},c.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(f,p){var m=this;f.some(function(g){return g.type==="characterData"&&g.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var h=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>h.length)&&(l=h.length),l-=a.length;var c=h.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),c=h.length>>>0,f=arguments[1],p,m=0;m<c;m++)if(p=h[m],l.call(f,p,m,h))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(x,k,O){if(x==k)return x?[[s,x]]:[];(O<0||x.length<O)&&(O=null);var N=f(x,k),C=x.substring(0,N);x=x.substring(N),k=k.substring(N),N=p(x,k);var D=x.substring(x.length-N);x=x.substring(0,x.length-N),k=k.substring(0,k.length-N);var P=l(x,k);return C&&P.unshift([s,C]),D&&P.push([s,D]),g(P),O!=null&&(P=b(P,O)),P=_(P),P}function l(x,k){var O;if(!x)return[[o,k]];if(!k)return[[i,x]];var N=x.length>k.length?x:k,C=x.length>k.length?k:x,D=N.indexOf(C);if(D!=-1)return O=[[o,N.substring(0,D)],[s,C],[o,N.substring(D+C.length)]],x.length>k.length&&(O[0][0]=O[2][0]=i),O;if(C.length==1)return[[i,x],[o,k]];var P=m(x,k);if(P){var A=P[0],I=P[1],L=P[2],F=P[3],q=P[4],M=a(A,L),B=a(I,F);return M.concat([[s,q]],B)}return h(x,k)}function h(x,k){for(var O=x.length,N=k.length,C=Math.ceil((O+N)/2),D=C,P=2*C,A=new Array(P),I=new Array(P),L=0;L<P;L++)A[L]=-1,I[L]=-1;A[D+1]=0,I[D+1]=0;for(var F=O-N,q=F%2!=0,M=0,B=0,Y=0,H=0,j=0;j<C;j++){for(var U=-j+M;U<=j-B;U+=2){var V=D+U,z;U==-j||U!=j&&A[V-1]<A[V+1]?z=A[V+1]:z=A[V-1]+1;for(var K=z-U;z<O&&K<N&&x.charAt(z)==k.charAt(K);)z++,K++;if(A[V]=z,z>O)B+=2;else if(K>N)M+=2;else if(q){var X=D+F-U;if(X>=0&&X<P&&I[X]!=-1){var W=O-I[X];if(z>=W)return c(x,k,z,K)}}}for(var J=-j+Y;J<=j-H;J+=2){var X=D+J,W;J==-j||J!=j&&I[X-1]<I[X+1]?W=I[X+1]:W=I[X-1]+1;for(var Z=W-J;W<O&&Z<N&&x.charAt(O-W-1)==k.charAt(N-Z-1);)W++,Z++;if(I[X]=W,W>O)H+=2;else if(Z>N)Y+=2;else if(!q){var V=D+F-J;if(V>=0&&V<P&&A[V]!=-1){var z=A[V],K=D+z-V;if(W=O-W,z>=W)return c(x,k,z,K)}}}}return[[i,x],[o,k]]}function c(x,k,O,N){var C=x.substring(0,O),D=k.substring(0,N),P=x.substring(O),A=k.substring(N),I=a(C,D),L=a(P,A);return I.concat(L)}function f(x,k){if(!x||!k||x.charAt(0)!=k.charAt(0))return 0;for(var O=0,N=Math.min(x.length,k.length),C=N,D=0;O<C;)x.substring(D,C)==k.substring(D,C)?(O=C,D=O):N=C,C=Math.floor((N-O)/2+O);return C}function p(x,k){if(!x||!k||x.charAt(x.length-1)!=k.charAt(k.length-1))return 0;for(var O=0,N=Math.min(x.length,k.length),C=N,D=0;O<C;)x.substring(x.length-C,x.length-D)==k.substring(k.length-C,k.length-D)?(O=C,D=O):N=C,C=Math.floor((N-O)/2+O);return C}function m(x,k){var O=x.length>k.length?x:k,N=x.length>k.length?k:x;if(O.length<4||N.length*2<O.length)return null;function C(B,Y,H){for(var j=B.substring(H,H+Math.floor(B.length/4)),U=-1,V="",z,K,X,W;(U=Y.indexOf(j,U+1))!=-1;){var J=f(B.substring(H),Y.substring(U)),Z=p(B.substring(0,H),Y.substring(0,U));V.length<Z+J&&(V=Y.substring(U-Z,U)+Y.substring(U,U+J),z=B.substring(0,H-Z),K=B.substring(H+J),X=Y.substring(0,U-Z),W=Y.substring(U+J))}return V.length*2>=B.length?[z,K,X,W,V]:null}var D=C(O,N,Math.ceil(O.length/4)),P=C(O,N,Math.ceil(O.length/2)),A;if(!D&&!P)return null;P?D?A=D[4].length>P[4].length?D:P:A=P:A=D;var I,L,F,q;x.length>k.length?(I=A[0],L=A[1],F=A[2],q=A[3]):(F=A[0],q=A[1],I=A[2],L=A[3]);var M=A[4];return[I,L,F,q,M]}function g(x){x.push([s,""]);for(var k=0,O=0,N=0,C="",D="",P;k<x.length;)switch(x[k][0]){case o:N++,D+=x[k][1],k++;break;case i:O++,C+=x[k][1],k++;break;case s:O+N>1?(O!==0&&N!==0&&(P=f(D,C),P!==0&&(k-O-N>0&&x[k-O-N-1][0]==s?x[k-O-N-1][1]+=D.substring(0,P):(x.splice(0,0,[s,D.substring(0,P)]),k++),D=D.substring(P),C=C.substring(P)),P=p(D,C),P!==0&&(x[k][1]=D.substring(D.length-P)+x[k][1],D=D.substring(0,D.length-P),C=C.substring(0,C.length-P))),O===0?x.splice(k-N,O+N,[o,D]):N===0?x.splice(k-O,O+N,[i,C]):x.splice(k-O-N,O+N,[i,C],[o,D]),k=k-O-N+(O?1:0)+(N?1:0)+1):k!==0&&x[k-1][0]==s?(x[k-1][1]+=x[k][1],x.splice(k,1)):k++,N=0,O=0,C="",D="";break}x[x.length-1][1]===""&&x.pop();var A=!1;for(k=1;k<x.length-1;)x[k-1][0]==s&&x[k+1][0]==s&&(x[k][1].substring(x[k][1].length-x[k-1][1].length)==x[k-1][1]?(x[k][1]=x[k-1][1]+x[k][1].substring(0,x[k][1].length-x[k-1][1].length),x[k+1][1]=x[k-1][1]+x[k+1][1],x.splice(k-1,1),A=!0):x[k][1].substring(0,x[k+1][1].length)==x[k+1][1]&&(x[k-1][1]+=x[k+1][1],x[k][1]=x[k][1].substring(x[k+1][1].length)+x[k+1][1],x.splice(k+1,1),A=!0)),k++;A&&g(x)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function w(x,k){if(k===0)return[s,x];for(var O=0,N=0;N<x.length;N++){var C=x[N];if(C[0]===i||C[0]===s){var D=O+C[1].length;if(k===D)return[N+1,x];if(k<D){x=x.slice();var P=k-O,A=[C[0],C[1].slice(0,P)],I=[C[0],C[1].slice(P)];return x.splice(N,1,A,I),[N+1,x]}else O=D}}throw new Error("cursor_pos is out of bounds!")}function b(x,k){var O=w(x,k),N=O[1],C=O[0],D=N[C],P=N[C+1];if(D==null)return x;if(D[0]!==s)return x;if(P!=null&&D[1]+P[1]===P[1]+D[1])return N.splice(C,2,P,D),E(N,C,2);if(P!=null&&P[1].indexOf(D[1])===0){N.splice(C,2,[P[0],D[1]],[0,D[1]]);var A=P[1].slice(D[1].length);return A.length>0&&N.splice(C+2,0,[P[0],A]),E(N,C,3)}else return x}function _(x){for(var k=!1,O=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},N=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},C=2;C<x.length;C+=1)x[C-2][0]===s&&N(x[C-2][1])&&x[C-1][0]===i&&O(x[C-1][1])&&x[C][0]===o&&O(x[C][1])&&(k=!0,x[C-1][1]=x[C-2][1].slice(-1)+x[C-1][1],x[C][1]=x[C-2][1].slice(-1)+x[C][1],x[C-2][1]=x[C-2][1].slice(0,-1));if(!k)return x;for(var D=[],C=0;C<x.length;C+=1)x[C][1].length>0&&D.push(x[C]);return D}function E(x,k,O){for(var N=k+O-1;N>=0&&N>=k-1;N--)if(N+1<x.length){var C=x[N],D=x[N+1];C[0]===D[1]&&x.splice(N,2,[C[0],C[1]+D[1]])}return x}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)i.call(f,p)&&c.push(o?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var p=o?o+c:c,m=this._events[p];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.emit=function(c,f,p,m,g,y){var w=o?o+c:c;if(!this._events[w])return!1;var b=this._events[w],_=arguments.length,E,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,y),!0}for(x=1,E=new Array(_-1);x<_;x++)E[x-1]=arguments[x];b.fn.apply(b.context,E)}else{var k=b.length,O;for(x=0;x<k;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),_){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,f);break;case 3:b[x].fn.call(b[x].context,f,p);break;case 4:b[x].fn.call(b[x].context,f,p,m);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];b[x].fn.apply(b[x].context,E)}}return!0},l.prototype.on=function(c,f,p){var m=new a(f,p||this),g=o?o+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.once=function(c,f,p){var m=new a(f,p||this,!0),g=o?o+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.removeListener=function(c,f,p,m){var g=o?o+c:c;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===f&&(!m||y.once)&&(!p||y.context===p)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var w=0,b=[],_=y.length;w<_;w++)(y[w].fn!==f||m&&!y[w].once||p&&y[w].context!==p)&&b.push(y[w]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=o?o+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},s=function(){function ce(fe,we){var _e=[],he=!0,$e=!1,Ie=void 0;try{for(var Ye=fe[Symbol.iterator](),Gt;!(he=(Gt=Ye.next()).done)&&(_e.push(Gt.value),!(we&&_e.length===we));he=!0);}catch(Nn){$e=!0,Ie=Nn}finally{try{!he&&Ye.return&&Ye.return()}finally{if($e)throw Ie}}return _e}return function(fe,we){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ce(fe,we){for(var _e=0;_e<we.length;_e++){var he=we[_e];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(fe,he.key,he)}}return function(fe,we,_e){return we&&ce(fe.prototype,we),_e&&ce(fe,_e),fe}}(),l=i(3),h=I(l),c=i(2),f=I(c),p=i(0),m=I(p),g=i(5),y=I(g),w=i(10),b=I(w),_=i(9),E=I(_),x=i(36),k=i(37),O=i(13),N=I(O),C=i(26),D=i(38),P=i(39),A=i(40);function I(ce){return ce&&ce.__esModule?ce:{default:ce}}function L(ce,fe,we){return fe in ce?Object.defineProperty(ce,fe,{value:we,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=we,ce}function F(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function q(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function M(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var B=(0,b.default)("quill:clipboard"),Y="__ql-matcher",H=[[Node.TEXT_NODE,Qe],[Node.TEXT_NODE,Fe],["br",pe],[Node.ELEMENT_NODE,Fe],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,nt],["li",Ce],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ge]],j=[x.AlignAttribute,D.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),U=[x.AlignStyle,k.BackgroundStyle,C.ColorStyle,D.DirectionStyle,P.FontStyle,A.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),V=function(ce){M(fe,ce);function fe(we,_e){F(this,fe);var he=q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,we,_e));return he.quill.root.addEventListener("paste",he.onPaste.bind(he)),he.container=he.quill.addContainer("ql-clipboard"),he.container.setAttribute("contenteditable",!0),he.container.setAttribute("tabindex",-1),he.matchers=[],H.concat(he.options.matchers).forEach(function($e){var Ie=s($e,2),Ye=Ie[0],Gt=Ie[1];!_e.matchVisual&&Gt===De||he.addMatcher(Ye,Gt)}),he}return a(fe,[{key:"addMatcher",value:function(_e,he){this.matchers.push([_e,he])}},{key:"convert",value:function(_e){if(typeof _e=="string")return this.container.innerHTML=_e.replace(/\>\r?\n +\</g,"><"),this.convert();var he=this.quill.getFormat(this.quill.selection.savedRange.index);if(he[N.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new f.default().insert($e,L({},N.default.blotName,he[N.default.blotName]))}var Ie=this.prepareMatching(),Ye=s(Ie,2),Gt=Ye[0],Nn=Ye[1],it=J(this.container,Gt,Nn);return X(it,`
`)&&it.ops[it.ops.length-1].attributes==null&&(it=it.compose(new f.default().retain(it.length()-1).delete(1))),B.log("convert",this.container.innerHTML,it),this.container.innerHTML="",it}},{key:"dangerouslyPasteHTML",value:function(_e,he){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof _e=="string")this.quill.setContents(this.convert(_e),he),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ie=this.convert(he);this.quill.updateContents(new f.default().retain(_e).concat(Ie),$e),this.quill.setSelection(_e+Ie.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(_e){var he=this;if(!(_e.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),Ie=new f.default().retain($e.index),Ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ie=Ie.concat(he.convert()).delete($e.length),he.quill.updateContents(Ie,y.default.sources.USER),he.quill.setSelection(Ie.length()-$e.length,y.default.sources.SILENT),he.quill.scrollingContainer.scrollTop=Ye,he.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var _e=this,he=[],$e=[];return this.matchers.forEach(function(Ie){var Ye=s(Ie,2),Gt=Ye[0],Nn=Ye[1];switch(Gt){case Node.TEXT_NODE:$e.push(Nn);break;case Node.ELEMENT_NODE:he.push(Nn);break;default:[].forEach.call(_e.container.querySelectorAll(Gt),function(it){it[Y]=it[Y]||[],it[Y].push(Nn)});break}}),[he,$e]}}]),fe}(E.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(ce,fe,we){return(typeof fe>"u"?"undefined":o(fe))==="object"?Object.keys(fe).reduce(function(_e,he){return z(_e,he,fe[he])},ce):ce.reduce(function(_e,he){return he.attributes&&he.attributes[fe]?_e.push(he):_e.insert(he.insert,(0,h.default)({},L({},fe,we),he.attributes))},new f.default)}function K(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function X(ce,fe){for(var we="",_e=ce.ops.length-1;_e>=0&&we.length<fe.length;--_e){var he=ce.ops[_e];if(typeof he.insert!="string")break;we=he.insert+we}return we.slice(-1*fe.length)===fe}function W(ce){if(ce.childNodes.length===0)return!1;var fe=K(ce);return["block","list-item"].indexOf(fe.display)>-1}function J(ce,fe,we){return ce.nodeType===ce.TEXT_NODE?we.reduce(function(_e,he){return he(ce,_e)},new f.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(_e,he){var $e=J(he,fe,we);return he.nodeType===ce.ELEMENT_NODE&&($e=fe.reduce(function(Ie,Ye){return Ye(he,Ie)},$e),$e=(he[Y]||[]).reduce(function(Ie,Ye){return Ye(he,Ie)},$e)),_e.concat($e)},new f.default):new f.default}function Z(ce,fe,we){return z(we,ce,!0)}function te(ce,fe){var we=m.default.Attributor.Attribute.keys(ce),_e=m.default.Attributor.Class.keys(ce),he=m.default.Attributor.Style.keys(ce),$e={};return we.concat(_e).concat(he).forEach(function(Ie){var Ye=m.default.query(Ie,m.default.Scope.ATTRIBUTE);Ye!=null&&($e[Ye.attrName]=Ye.value(ce),$e[Ye.attrName])||(Ye=j[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&($e[Ye.attrName]=Ye.value(ce)||void 0),Ye=U[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Ye=U[Ie],$e[Ye.attrName]=Ye.value(ce)||void 0))}),Object.keys($e).length>0&&(fe=z(fe,$e)),fe}function le(ce,fe){var we=m.default.query(ce);if(we==null)return fe;if(we.prototype instanceof m.default.Embed){var _e={},he=we.value(ce);he!=null&&(_e[we.blotName]=he,fe=new f.default().insert(_e,we.formats(ce)))}else typeof we.formats=="function"&&(fe=z(fe,we.blotName,we.formats(ce)));return fe}function pe(ce,fe){return X(fe,`
`)||fe.insert(`
`),fe}function ge(){return new f.default}function Ce(ce,fe){var we=m.default.query(ce);if(we==null||we.blotName!=="list-item"||!X(fe,`
`))return fe;for(var _e=-1,he=ce.parentNode;!he.classList.contains("ql-clipboard");)(m.default.query(he)||{}).blotName==="list"&&(_e+=1),he=he.parentNode;return _e<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:_e}))}function Fe(ce,fe){return X(fe,`
`)||(W(ce)||fe.length()>0&&ce.nextSibling&&W(ce.nextSibling))&&fe.insert(`
`),fe}function De(ce,fe){if(W(ce)&&ce.nextElementSibling!=null&&!X(fe,`

`)){var we=ce.offsetHeight+parseFloat(K(ce).marginTop)+parseFloat(K(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+we*1.5&&fe.insert(`
`)}return fe}function nt(ce,fe){var we={},_e=ce.style||{};return _e.fontStyle&&K(ce).fontStyle==="italic"&&(we.italic=!0),_e.fontWeight&&(K(ce).fontWeight.startsWith("bold")||parseInt(K(ce).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(fe=z(fe,we)),parseFloat(_e.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Qe(ce,fe){var we=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(we.trim());if(we.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!K(ce.parentNode).whiteSpace.startsWith("pre")){var _e=function($e,Ie){return Ie=Ie.replace(/[^\u00a0]/g,""),Ie.length<1&&$e?" ":Ie};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,_e.bind(_e,!0)),(ce.previousSibling==null&&W(ce.parentNode)||ce.previousSibling!=null&&W(ce.previousSibling))&&(we=we.replace(/^\s+/,_e.bind(_e,!1))),(ce.nextSibling==null&&W(ce.parentNode)||ce.nextSibling!=null&&W(ce.nextSibling))&&(we=we.replace(/\s+$/,_e.bind(_e,!1)))}return fe.insert(we)}r.default=V,r.matchAttributor=te,r.matchBlot=le,r.matchNewline=Fe,r.matchSpacing=De,r.matchText=Qe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),s=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(b){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(I,L){var F=[],q=!0,M=!1,B=void 0;try{for(var Y=I[Symbol.iterator](),H;!(q=(H=Y.next()).done)&&(F.push(H.value),!(L&&F.length===L));q=!0);}catch(j){M=!0,B=j}finally{try{!q&&Y.return&&Y.return()}finally{if(M)throw B}}return F}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return A(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(I,L){for(var F=0;F<L.length;F++){var q=L[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(I,q.key,q)}}return function(I,L,F){return L&&A(I.prototype,L),F&&A(I,F),I}}(),a=i(2),l=b(a),h=i(0),c=b(h),f=i(5),p=b(f),m=i(10),g=b(m),y=i(9),w=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function _(A,I,L){return I in A?Object.defineProperty(A,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[I]=L,A}function E(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function x(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:A}function k(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);A.prototype=Object.create(I&&I.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(A,I):A.__proto__=I)}var O=(0,g.default)("quill:toolbar"),N=function(A){k(I,A);function I(L,F){E(this,I);var q=x(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,F));if(Array.isArray(q.options.container)){var M=document.createElement("div");D(M,q.options.container),L.container.parentNode.insertBefore(M,L.container),q.container=M}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var B;return B=O.error("Container required for toolbar",q.options),x(q,B)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Y){q.addHandler(Y,q.options.handlers[Y])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Y){q.attach(Y)}),q.quill.on(p.default.events.EDITOR_CHANGE,function(Y,H){Y===p.default.events.SELECTION_CHANGE&&q.update(H)}),q.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var Y=q.quill.selection.getRange(),H=o(Y,1),j=H[0];q.update(j)}),q}return s(I,[{key:"addHandler",value:function(F,q){this.handlers[F]=q}},{key:"attach",value:function(F){var q=this,M=[].find.call(F.classList,function(Y){return Y.indexOf("ql-")===0});if(M){if(M=M.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[M]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[M]==null){O.warn("ignoring attaching to disabled format",M,F);return}if(c.default.query(M)==null){O.warn("ignoring attaching to nonexistent format",M,F);return}}var B=F.tagName==="SELECT"?"change":"click";F.addEventListener(B,function(Y){var H=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var j=F.options[F.selectedIndex];j.hasAttribute("selected")?H=!1:H=j.value||!1}else F.classList.contains("ql-active")?H=!1:H=F.value||!F.hasAttribute("value"),Y.preventDefault();q.quill.focus();var U=q.quill.selection.getRange(),V=o(U,1),z=V[0];if(q.handlers[M]!=null)q.handlers[M].call(q,H);else if(c.default.query(M).prototype instanceof c.default.Embed){if(H=prompt("Enter "+M),!H)return;q.quill.updateContents(new l.default().retain(z.index).delete(z.length).insert(_({},M,H)),p.default.sources.USER)}else q.quill.format(M,H,p.default.sources.USER);q.update(z)}),this.controls.push([M,F])}}},{key:"update",value:function(F){var q=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(M){var B=o(M,2),Y=B[0],H=B[1];if(H.tagName==="SELECT"){var j=void 0;if(F==null)j=null;else if(q[Y]==null)j=H.querySelector("option[selected]");else if(!Array.isArray(q[Y])){var U=q[Y];typeof U=="string"&&(U=U.replace(/\"/g,'\\"')),j=H.querySelector('option[value="'+U+'"]')}j==null?(H.value="",H.selectedIndex=-1):j.selected=!0}else if(F==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var V=q[Y]===H.getAttribute("value")||q[Y]!=null&&q[Y].toString()===H.getAttribute("value")||q[Y]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",V)}else H.classList.toggle("ql-active",q[Y]!=null)})}}]),I}(w.default);N.DEFAULTS={};function C(A,I,L){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+I),L!=null&&(F.value=L),A.appendChild(F)}function D(A,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(L){var F=document.createElement("span");F.classList.add("ql-formats"),L.forEach(function(q){if(typeof q=="string")C(F,q);else{var M=Object.keys(q)[0],B=q[M];Array.isArray(B)?P(F,M,B):C(F,M,B)}}),A.appendChild(F)})}function P(A,I,L){var F=document.createElement("select");F.classList.add("ql-"+I),L.forEach(function(q){var M=document.createElement("option");q!==!1?M.setAttribute("value",q):M.setAttribute("selected","selected"),F.appendChild(M)}),A.appendChild(F)}N.DEFAULTS={container:null,handlers:{clean:function(){var I=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(q){c.default.query(q,c.default.Scope.INLINE)!=null&&I.quill.format(q,!1)})}else this.quill.removeFormat(L,p.default.sources.USER)},direction:function(I){var L=this.quill.getFormat().align;I==="rtl"&&L==null?this.quill.format("align","right",p.default.sources.USER):!I&&L==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",I,p.default.sources.USER)},indent:function(I){var L=this.quill.getSelection(),F=this.quill.getFormat(L),q=parseInt(F.indent||0);if(I==="+1"||I==="-1"){var M=I==="+1"?1:-1;F.direction==="rtl"&&(M*=-1),this.quill.format("indent",q+M,p.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,p.default.sources.USER)},list:function(I){var L=this.quill.getSelection(),F=this.quill.getFormat(L);I==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",I,p.default.sources.USER)}}},r.default=N,r.addControls=D},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),s=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var _=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.label.innerHTML=b,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),_}return o(y,[{key:"buildItem",value:function(b){var _=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return _.style.backgroundColor=b.getAttribute("value")||"",_}},{key:"selectItem",value:function(b,_){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,_);var E=this.label.querySelector(".ql-color-label"),x=b&&b.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=x:E.style.fill=x)}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),s=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var _=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=b[E.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return o(y,[{key:"selectItem",value:function(b,_){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,_),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function s(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){var f=this;s(this,l),this.quill=h,this.boundsContainer=c||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,p=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>m.right&&(y=m.right-g.right,this.root.style.left=f+y+"px"),g.left<m.left&&(y=m.left-g.left,this.root.style.left=f+y+"px"),g.bottom>m.bottom){var w=g.bottom-g.top,b=c.bottom-c.top+w;this.root.style.top=p-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function P(A,I){var L=[],F=!0,q=!1,M=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(L.push(Y.value),!(I&&L.length===I));F=!0);}catch(H){q=!0,M=H}finally{try{!F&&B.return&&B.return()}finally{if(q)throw M}}return L}return function(A,I){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return P(A,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function P(A,I,L){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,I);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:P(q,I,L)}else{if("value"in F)return F.value;var M=F.get;return M===void 0?void 0:M.call(L)}},a=function(){function P(A,I){for(var L=0;L<I.length;L++){var F=I[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,I,L){return I&&P(A.prototype,I),L&&P(A,L),A}}(),l=i(3),h=E(l),c=i(8),f=E(c),p=i(43),m=E(p),g=i(27),y=E(g),w=i(15),b=i(41),_=E(b);function E(P){return P&&P.__esModule?P:{default:P}}function x(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function k(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:P}function O(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(P){O(A,P);function A(I,L){x(this,A),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=N);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,L));return F.quill.container.classList.add("ql-snow"),F}return a(A,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),_.default),this.tooltip=new D(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,q){L.handlers.link.call(L,!q.format.link)})}}]),A}(m.default);C.DEFAULTS=(0,h.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var I=this.quill.getSelection();if(I==null||I.length==0)return;var L=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var F=this.quill.theme.tooltip;F.edit("link",L)}else this.quill.format("link",!1)}}}}});var D=function(P){O(A,P);function A(I,L){x(this,A);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,L));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(A,[{key:"listen",value:function(){var L=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(L.linkRange!=null){var q=L.linkRange;L.restoreFocus(),L.quill.formatText(q,"link",!1,f.default.sources.USER),delete L.linkRange}F.preventDefault(),L.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(F,q,M){if(F!=null){if(F.length===0&&M===f.default.sources.USER){var B=L.quill.scroll.descendant(y.default,F.index),Y=o(B,2),H=Y[0],j=Y[1];if(H!=null){L.linkRange=new w.Range(F.index-j,H.length());var U=y.default.formats(H.domNode);L.preview.textContent=U,L.preview.setAttribute("href",U),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(p.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=he(o),a=i(36),l=i(38),h=i(64),c=i(65),f=he(c),p=i(66),m=he(p),g=i(67),y=he(g),w=i(37),b=i(26),_=i(39),E=i(40),x=i(56),k=he(x),O=i(68),N=he(O),C=i(27),D=he(C),P=i(69),A=he(P),I=i(70),L=he(I),F=i(71),q=he(F),M=i(72),B=he(M),Y=i(73),H=he(Y),j=i(13),U=he(j),V=i(74),z=he(V),K=i(75),X=he(K),W=i(57),J=he(W),Z=i(41),te=he(Z),le=i(28),pe=he(le),ge=i(59),Ce=he(ge),Fe=i(60),De=he(Fe),nt=i(61),Qe=he(nt),ce=i(108),fe=he(ce),we=i(62),_e=he(we);function he($e){return $e&&$e.__esModule?$e:{default:$e}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":E.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":_.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":U.default,"formats/header":m.default,"formats/list":y.default,"formats/bold":k.default,"formats/code":j.Code,"formats/italic":N.default,"formats/link":D.default,"formats/script":A.default,"formats/strike":L.default,"formats/underline":q.default,"formats/image":B.default,"formats/video":H.default,"formats/list/item":g.ListItem,"modules/formula":z.default,"modules/syntax":X.default,"modules/toolbar":J.default,"themes/bubble":fe.default,"themes/snow":_e.default,"ui/icons":te.default,"ui/picker":pe.default,"ui/icon-picker":De.default,"ui/color-picker":Ce.default,"ui/tooltip":Qe.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(w,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,_){return b&&y(w.prototype,b),_&&y(w,_),w}}(),s=function y(w,b,_){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:y(x,b,_)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(_)}},a=i(0),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(_,E){if(E==="+1"||E==="-1"){var x=this.value(_)||0;E=E==="+1"?x+1:x-1}return E===0?(this.remove(_),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,_,E)}},{key:"canAdd",value:function(_,E){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,E)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,parseInt(E))}},{key:"value",value:function(_){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,_))||void 0}}]),w}(l.default.Attributor.Class),g=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,w){return y&&m(g.prototype,y),w&&m(g,w),g}}(),s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){f(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function x(k,O){for(var N=0;N<O.length;N++){var C=O[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,O,N){return O&&x(k.prototype,O),N&&x(k,N),k}}(),s=function x(k,O,N){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,O);if(C===void 0){var D=Object.getPrototypeOf(k);return D===null?void 0:x(D,O,N)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(N)}},a=i(0),l=m(a),h=i(4),c=m(h),f=i(25),p=m(f);function m(x){return x&&x.__esModule?x:{default:x}}function g(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}function y(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function w(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:x}function b(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}var _=function(x){b(k,x);function k(){return y(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"format",value:function(N,C){N===E.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,N,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,C){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,C),this):(this.parent.unwrap(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,N,C))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:s(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,N)}}]),k}(c.default);_.blotName="list-item",_.tagName="LI";var E=function(x){b(k,x),o(k,null,[{key:"create",value:function(N){var C=N==="ordered"?"OL":"UL",D=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,C);return(N==="checked"||N==="unchecked")&&D.setAttribute("data-checked",N==="checked"),D}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(O){y(this,k);var N=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,O)),C=function(P){if(P.target.parentNode===O){var A=N.statics.formats(O),I=l.default.find(P.target);A==="checked"?I.format("list","unchecked"):A==="unchecked"&&I.format("list","checked")}};return O.addEventListener("touchstart",C),O.addEventListener("mousedown",C),N}return o(k,[{key:"format",value:function(N,C){this.children.length>0&&this.children.tail.format(N,C)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,C){if(N instanceof _)s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,N,C);else{var D=C==null?this.length():C.offset(this),P=this.split(D);P.parent.insertBefore(N,P)}}},{key:"optimize",value:function(N){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,N);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);N.moveChildren(C),this.appendChild(C)}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,N)}}]),k}(p.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[_],r.ListItem=_,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),s=function g(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(b,_){for(var E=0;E<_.length;E++){var x=_[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),s=function w(b,_,E){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,_);if(x===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(E)}},a=i(0),l=c(a),h=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["alt","height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(E,x){g.indexOf(E)>-1?x?this.domNode.setAttribute(E,x):this.domNode.removeAttribute(E):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,x)}}],[{key:"create",value:function(E){var x=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return typeof E=="string"&&x.setAttribute("src",this.sanitize(E)),x}},{key:"formats",value:function(E){return g.reduce(function(x,k){return E.hasAttribute(k)&&(x[k]=E.getAttribute(k)),x},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,h.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(b,_){for(var E=0;E<_.length;E++){var x=_[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,_,E){return _&&w(b.prototype,_),E&&w(b,E),b}}(),s=function w(b,_,E){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,_);if(x===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,_,E)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(E)}},a=i(4),l=i(27),h=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(E,x){g.indexOf(E)>-1?x?this.domNode.setAttribute(E,x):this.domNode.removeAttribute(E):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,x)}}],[{key:"create",value:function(E){var x=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(E)),x}},{key:"formats",value:function(E){return g.reduce(function(x,k){return E.hasAttribute(k)&&(x[k]=E.getAttribute(k)),x},{})}},{key:"sanitize",value:function(E){return h.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function E(x,k){for(var O=0;O<k.length;O++){var N=k[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,k,O){return k&&E(x.prototype,k),O&&E(x,O),x}}(),s=function E(x,k,O){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,k);if(N===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:E(C,k,O)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(O)}},a=i(35),l=m(a),h=i(5),c=m(h),f=i(9),p=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function y(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function w(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var b=function(E){w(x,E);function x(){return g(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"create",value:function(O){var N=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",O)),N}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),x}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var _=function(E){w(x,E),o(x,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function x(){g(this,x);var k=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return x}(p.default);r.FormulaBlot=b,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(N,C){for(var D=0;D<C.length;D++){var P=C[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,C,D){return C&&O(N.prototype,C),D&&O(N,D),N}}(),s=function O(N,C,D){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,C);if(P===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:O(A,C,D)}else{if("value"in P)return P.value;var I=P.get;return I===void 0?void 0:I.call(D)}},a=i(0),l=y(a),h=i(5),c=y(h),f=i(9),p=y(f),m=i(13),g=y(m);function y(O){return O&&O.__esModule?O:{default:O}}function w(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function b(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:O}function _(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var E=function(O){_(N,O);function N(){return w(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),N}(g.default);E.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(O){_(N,O),o(N,null,[{key:"register",value:function(){c.default.register(x,!0),c.default.register(E,!0)}}]);function N(C,D){w(this,N);var P=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,D));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return P.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){P.highlight(),A=null},P.options.interval)}),P.highlight(),P}return o(N,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(A){A.highlight(D.options.highlight)}),this.quill.update(c.default.sources.SILENT),P!=null&&this.quill.setSelection(P,c.default.sources.SILENT)}}}]),N}(p.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var N=window.hljs.highlightAuto(O);return N.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=x,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function N(C,D,P){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,D);if(A===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:N(I,D,P)}else{if("value"in A)return A.value;var L=A.get;return L===void 0?void 0:L.call(P)}},s=function(){function N(C,D){for(var P=0;P<D.length;P++){var A=D[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,D,P){return D&&N(C.prototype,D),P&&N(C,P),C}}(),a=i(3),l=w(a),h=i(8),c=w(h),f=i(43),p=w(f),m=i(15),g=i(41),y=w(g);function w(N){return N&&N.__esModule?N:{default:N}}function b(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function _(N,C){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:N}function E(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(N,C):N.__proto__=C)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(N){E(C,N);function C(D,P){b(this,C),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=x);var A=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D,P));return A.quill.container.classList.add("ql-bubble"),A}return s(C,[{key:"extendToolbar",value:function(P){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),y.default)}}]),C}(p.default);k.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(N){E(C,N);function C(D,P){b(this,C);var A=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D,P));return A.quill.on(c.default.events.EDITOR_CHANGE,function(I,L,F,q){if(I===c.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&q===c.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var M=A.quill.getLines(L.index,L.length);if(M.length===1)A.position(A.quill.getBounds(L));else{var B=M[M.length-1],Y=A.quill.getIndex(B),H=Math.min(B.length()-1,L.index+L.length-Y),j=A.quill.getBounds(new m.Range(Y,H));A.position(j)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(C,[{key:"listen",value:function(){var P=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var A=P.quill.getSelection();A!=null&&P.position(P.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var A=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,P),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",A===0)return A;I.style.marginLeft=-1*A-I.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=k},function(n,r,i){n.exports=i(63)}]).default})}(Ip)),Ip.exports}var Bi,ZD;function hoe(){if(ZD)return Bi;ZD=1;var t=Bi&&Bi.__extends||function(){var c=function(f,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])},c(f,p)};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Bi&&Bi.__assign||function(){return e=Object.assign||function(c){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},e.apply(this,arguments)},n=Bi&&Bi.__spreadArrays||function(){for(var c=0,f=0,p=arguments.length;f<p;f++)c+=arguments[f].length;for(var m=Array(c),g=0,f=0;f<p;f++)for(var y=arguments[f],w=0,b=y.length;w<b;w++,g++)m[g]=y[w];return m},r=Bi&&Bi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},i=r(ng()),o=r(px()),s=r(coe()),a=r(foe()),l=function(c){t(f,c);function f(p){var m=c.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(y,w,b,_){var E,x,k,O;y==="text-change"?(x=(E=m).onEditorChangeText)===null||x===void 0||x.call(E,m.editor.root.innerHTML,w,_,m.unprivilegedEditor):y==="selection-change"&&((O=(k=m).onEditorChangeSelection)===null||O===void 0||O.call(k,w,_,m.unprivilegedEditor))};var g=m.isControlled()?p.value:p.defaultValue;return m.value=g??"",m}return f.prototype.validateProps=function(p){var m;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var g=i.default.Children.only(p.children);if(((m=g)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(p,m){var g=this,y;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var w=this.getEditorContents(),b=(y=p.value,y??"");this.isEqualValue(b,w)||this.setEditorContents(this.editor,b)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),n(this.cleanProps,this.dirtyProps).some(function(_){return!s.default(p[_],g.props[_])})},f.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(g){return!s.default(p[g],m.props[g])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(p,m){var g=this;if(this.editor&&this.shouldComponentRegenerate(p)){var y=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var b=this.regenerationSnapshot,y=b.delta,_=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var E=this.editor;E.setContents(y),h(function(){return g.setEditorSelection(E,_)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(p,m){var g=new a.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(g,m.tabIndex),this.hookEditor(g),g},f.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(p){return p&&p.ops},f.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?s.default(p.ops,m.ops):s.default(p,m)},f.prototype.setEditorContents=function(p,m){var g=this;this.value=m;var y=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),h(function(){return g.setEditorSelection(p,y)})},f.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var g=p.getLength();m.index=Math.max(0,Math.min(m.index,g-1)),m.length=Math.max(0,Math.min(m.length,g-1-m.index)),p.setSelection(m)}},f.prototype.setEditorTabIndex=function(p,m){var g,y;!((y=(g=p)===null||g===void 0?void 0:g.scroll)===null||y===void 0)&&y.domNode&&(p.scroll.domNode.tabIndex=m)},f.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},f.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=o.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},f.prototype.renderEditingArea=function(){var p=this,m=this.props,g=m.children,y=m.preserveWhitespace,w=this.state.generation,b={key:w,ref:function(_){p.editingArea=_}};return i.default.Children.count(g)?i.default.cloneElement(i.default.Children.only(g),b):y?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(p,m,g,y){var w,b;if(this.editor){var _=this.isDelta(this.value)?y.getContents():y.getHTML();_!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=_,(b=(w=this.props).onChange)===null||b===void 0||b.call(w,p,m,g,y))}},f.prototype.onEditorChangeSelection=function(p,m,g){var y,w,b,_,E,x;if(this.editor){var k=this.getEditorSelection(),O=!k&&p,N=k&&!p;s.default(p,k)||(this.selection=p,(w=(y=this.props).onChangeSelection)===null||w===void 0||w.call(y,p,m,g),O?(_=(b=this.props).onFocus)===null||_===void 0||_.call(b,p,m,g):N&&((x=(E=this.props).onBlur)===null||x===void 0||x.call(E,k,m,g)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=a.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(i.default.Component);function h(c){Promise.resolve().then(c)}return Bi=l,Bi}var poe=hoe();const moe=Zd(poe),F3=({placeholder:t,text:e,setText:n})=>{const r=Q.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large"]}],[{color:[]}],["italic","underline","blockquote","bold"],[{list:"ordered"},{list:"bullet"}],["link"]]}}),[]);return S.jsx(moe,{value:e,onChange:n,modules:r,placeholder:t,className:"mb-2 w-full rounded-xl border-0 bg-white scrollbar-hide"})};function goe({postType:t,post:e,collName:n}){const{onEditedSubmit:r,editedText:i,setEditedText:o}=rre({post:e,collName:n});return S.jsx(Di,{title:`${t} `,children:S.jsxs("form",{onSubmit:r,children:[S.jsx(F3,{placeholder:"  .",text:i,setText:o}),S.jsx(ft,{name:"",type:"submit",className:"ml-auto"})]})})}function voe({collName:t,postType:e,post:n}){const{showModal:r}=Yt(),i=()=>r({element:S.jsx(goe,{postType:e,post:n,collName:t})});return S.jsx(S.Fragment,{children:S.jsx("button",{onClick:i,children:S.jsx(kE,{fontSize:14,stroke:"#aaa"})})})}const $3=({collName:t,post:e,postType:n})=>S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(voe,{collName:t,post:e,postType:n}),S.jsx(Qre,{docId:e.id,collName:t})]}),yoe=({postId:t,postType:e})=>{const{uid:n}=Ve(Ot),r=Ve(ma),[i,o]=Q.useState({}),{docId:s,monthId:a}=t,{showModal:l}=Yt(),h=()=>{if(e==="")return Rr(a,zd);if(e===" ")return Rr(a,fE);if(e===" ")return Rr(a,Hd)};Q.useEffect(()=>{s&&lr(h(),s,o)},[]);const{thumbnail:c,title:f,createdAt:p,creatorId:m,text:g}=i,y=n===m,w=r==null?void 0:r.find(E=>E.id===m),b=y?"":w==null?void 0:w.displayName,_=()=>l({element:S.jsx(Di,{title:`${b} ${e}`,children:S.jsxs("div",{className:"overflow-scroll",children:[S.jsx(C3,{text:g}),S.jsx("div",{className:"mb-4 mt-10 flex justify-end",children:n===m&&S.jsx($3,{post:i,collName:h(),postType:e})}),S.jsx(dv,{createdAt:p,footerType:"likes",post:i})]})})});return S.jsx(S.Fragment,{children:Sl(i)&&S.jsx("button",{type:"button",onClick:_,children:S.jsx(On,{thumbnail:c,title:f,className:"w-full overflow-hidden"})})})};function woe({userRecords:t,postType:e}){const n=(t==null?void 0:t.subjects)||[],r=(t==null?void 0:t.hostReviews)||[],i=(t==null?void 0:t.reviews)||[],o={:n," ":i," ":r};return S.jsx("ul",{className:"grid grid-cols-7 gap-5 max-md:grid-cols-6 max-sm:grid-cols-4 max-sm:gap-4",children:o[e].length!==0?o[e].map(s=>S.jsx(yoe,{postId:s,postType:e},s.docId)):S.jsxs("span",{children:["  ",e," ."]})})}function boe({percentage:t}){return S.jsx("div",{className:"mt-2 flex items-center gap-4",children:S.jsx("div",{className:`flex h-[14px] w-full items-center rounded-2xl border p-0.5 ${t==="100%"?"border-green1":"border-yellow-600"}`,children:S.jsx("div",{style:{width:t},className:`relative h-full rounded-3xl ${t==="100%"?"w-full bg-green1":"bg-yellow-300"}`})})})}function ar({text:t,color:e="lightBlue",children:n,shape:r="square",className:i,onClick:o}){const s={lightGray:"bg-white text-gray1",lightGreen:"bg-green2 text-white",lightBlue:"bg-blue4 text-blue2",yellow:"bg-amber-100 text-yellow-700",purple:"bg-purple4 text-purple-700",green:"bg-green1 text-white",red:"bg-pointCoral text-white"},a={rounded:"rounded-full",square:"rounded-lg"};return o?S.jsx("button",{type:"button",onClick:o,className:"min-w-fit",children:S.jsxs("div",{className:`text-sm ${a[r]} ${s[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[S.jsx("span",{children:t&&t}),n&&n]})}):S.jsxs("div",{className:`min-w-fit text-sm ${a[r]} ${s[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[S.jsx("span",{children:t&&t}),n&&n]})}function Ao({authors:t,publisher:e}){return S.jsxs("span",{className:"line-clamp-1 truncate whitespace-pre-wrap text-sm tracking-tight text-gray1",children:[t.length!==0?S.jsxs("span",{children:[t[0],t.length!==1&&`( ${t.length-1})`]}):S.jsx("span",{className:"text-gray1",children:" "}),e&&S.jsxs("span",{children:["  ",e]})]})}function _oe({currentPage:t,wholePage:e}){const n=Sm(t,e);return S.jsxs("span",{className:`text-sm font-medium tracking-tighter ${n===100?"text-green2":"text-pointCoral"}`,children:[n===100?"":""," ",t," / ",e," (",n,"%)"]})}function xoe({docId:t,creatorId:e,challengeBook:n}){const{title:r,thumbnail:i,authors:o,publisher:s,wholePage:a,currentPage:l}=n,[h]=Q.useState(l),{uid:c}=Ve(Ot),{pathname:f}=Fr(),p=an(Jt,al,t),m=async()=>{window.confirm(" ?")&&await qg(p)},g=`${Sm(l,a)}%`;return S.jsxs("li",{className:`rounded-xl border bg-white px-4 pb-3 pt-4 shadow-card ${g==="100%"?"border-green1":"border-pointCoral opacity-50"}`,children:[S.jsxs("div",{className:"mb-2.5 flex flex-1",children:[S.jsxs("div",{className:"mr-4 flex flex-1 flex-col gap-1",children:[S.jsx(ar,{text:g==="100%"?"  ":"  ",color:g==="100%"?"green":"red",className:"mb-1.5 min-w-fit font-medium"}),S.jsx("h3",{className:"font-medium leading-5",children:r}),S.jsx(Ao,{authors:o,publisher:s}),f==="/challenge"&&c===e&&S.jsx("div",{className:"absolute right-3 top-3 flex gap-3",children:S.jsx("button",{type:"button",onClick:m,children:S.jsx(Of,{fontSize:15})})}),S.jsx(_oe,{currentPage:h,wholePage:a})]}),S.jsx(On,{title:r,thumbnail:i,className:"w-20"})]}),S.jsx(boe,{percentage:g})]})}const Go=({text:t,color:e="gray",icon:n=!0})=>{const r={red:"text-pointCoral stroke-pointCoral",green:"text-green1 stroke-green1",gray:"text-gray1 stroke-gray1"};return S.jsxs("div",{className:"mb-2 gap-1",children:[n&&(e==="red"?S.jsx(Tre,{className:`mb-0.5 inline text-base ${r[e]}`}):S.jsx(Bre,{className:`mb-0.5 inline text-base ${r[e]}`})),S.jsx("span",{className:`ml-1 text-base leading-6 ${r[e]}`,children:t})]})};function Soe(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h10v10"},child:[]},{tag:"path",attr:{d:"M7 17 17 7"},child:[]}]})(t)}function Eoe(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"},child:[]},{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function koe(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function Toe(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5.8 11.3 2 22l10.7-3.79"},child:[]},{tag:"path",attr:{d:"M4 3h.01"},child:[]},{tag:"path",attr:{d:"M22 8h.01"},child:[]},{tag:"path",attr:{d:"M15 2h.01"},child:[]},{tag:"path",attr:{d:"M22 20h.01"},child:[]},{tag:"path",attr:{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"},child:[]},{tag:"path",attr:{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"},child:[]},{tag:"path",attr:{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"},child:[]},{tag:"path",attr:{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"},child:[]}]})(t)}function tc({size:t=200,className:e=""}){return S.jsx("div",{className:`flex items-center justify-center ${e}`,children:S.jsxs("div",{className:"relative flex items-center justify-center rounded-full",style:{height:`${t}px`,width:`${t}px`},children:[S.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"11",fill:"none",className:"stroke-purple4"}),S.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:10,strokeLinecap:"round",strokeDasharray:"45 240",strokeDashoffset:"100",className:"origin-center animate-spin border stroke-purple2"})]}),S.jsx(Eoe,{className:"absolute size-[40%] text-purple2"})]})})}const Cm=({title:t,className:e})=>S.jsx("h3",{className:`flex w-fit items-center text-[17px] font-medium text-blue1 ${e}`,children:t});function Mt({children:t,title:e,titleBtn:n,className:r=""}){return S.jsxs("section",{className:`relative mb-20 mt-2.5 flex flex-col max-md:mb-16 ${r}`,children:[e&&(n?S.jsxs("div",{className:"mb-2 flex items-center justify-between px-1",children:[S.jsx(Cm,{title:e}),n]}):S.jsx(Cm,{title:e,className:"mb-2 pl-1"})),t]})}function Coe(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function B3(t,e){return new Promise(function(n,r){let i;return Ooe(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const Ooe=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const h=s+10;let c;switch(o.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(h+2,c)!==42)return n("TIFF header contains invalid version");const f=o.getUint32(h+4,c),p=h+f+2+12*o.getUint16(h+f,c);for(let m=h+f+2;m<p;m+=12)if(o.getUint16(m,c)==274){if(o.getUint16(m+2,c)!==3)return n("Orientation data type is invalid");if(o.getUint32(m+4,c)!==1)return n("Orientation data count is invalid");o.setUint16(m+8,1,c);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Om={},Noe={get exports(){return Om},set exports(t){Om=t}};(function(t){var e,n,r={};Noe.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,l=0,h={},c=new Uint8Array(i),f=c.length-4;a(c,f)!=101010256;)f--;l=f,l+=4;var p=s(c,l+=4);s(c,l+=2);var m=a(c,l+=2),g=a(c,l+=4);l+=4,l=g;for(var y=0;y<p;y++){a(c,l),l+=4,l+=4,l+=4,a(c,l+=4),m=a(c,l+=4);var w=a(c,l+=4),b=s(c,l+=4),_=s(c,l+2),E=s(c,l+4);l+=6;var x=a(c,l+=8);l+=4,l+=b+_+E,r._readLocal(c,x,h,m,w,o)}return h},r._readLocal=function(i,o,s,a,l,h){var c=r.bin.readUshort,f=r.bin.readUint;f(i,o),c(i,o+=4),c(i,o+=2);var p=c(i,o+=2);f(i,o+=2),f(i,o+=4),o+=4;var m=c(i,o+=8),g=c(i,o+=2);o+=2;var y=r.bin.readUTF8(i,o,m);if(o+=m,o+=g,h)s[y]={size:l,csize:a};else{var w=new Uint8Array(i.buffer,o);if(p==0)s[y]=new Uint8Array(w.buffer.slice(o,o+a));else{if(p!=8)throw"unknown compression method: "+p;var b=new Uint8Array(l);r.inflateRaw(w,b),s[y]=b}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var l=r.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,l=r.bin.writeUshort,h={};for(var c in i){var f=!r._noNeed(c)&&!o,p=i[c],m=r.crc.crc(p,0,p.length);h[c]={cpr:f,usize:p.length,crc:m,file:f?r.deflateRaw(p):p}}for(var c in h)s+=h[c].file.length+30+46+2*r.bin.sizeUTF8(c);s+=22;var g=new Uint8Array(s),y=0,w=[];for(var c in h){var b=h[c];w.push(y),y=r._writeHeader(g,y,c,b,0)}var _=0,E=y;for(var c in h)b=h[c],w.push(y),y=r._writeHeader(g,y,c,b,1,w[_++]);var x=y-E;return a(g,y,101010256),y+=4,l(g,y+=4,_),l(g,y+=2,_),a(g,y+=2,x),a(g,y+=4,E),y+=4,y+=2,g.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,l,h){var c=r.bin.writeUint,f=r.bin.writeUshort,p=a.file;return c(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),f(i,o,20),f(i,o+=2,0),f(i,o+=2,a.cpr?8:0),c(i,o+=2,0),c(i,o+=4,a.crc),c(i,o+=4,p.length),c(i,o+=4,a.usize),f(i,o+=4,r.bin.sizeUTF8(s)),f(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,c(i,o+=6,h),o+=4),o+=r.bin.writeUTF8(i,o,s),l==0&&(i.set(p,o),o+=p.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,l=0,h=o,c=o+s;h<c;){for(var f=Math.min(h+5552,c);h<f;)l+=a+=i[h++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",h=0;h<s;h++)l+="%"+r.bin.pad(i[o+h].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,h=0;h<a;h++){var c=s.charCodeAt(h);if((4294967168&c)==0)i[o+l]=c,l++;else if((4294965248&c)==0)i[o+l]=192|c>>6,i[o+l+1]=128|c>>0&63,l+=2;else if((4294901760&c)==0)i[o+l]=224|c>>12,i[o+l+1]=128|c>>6&63,i[o+l+2]=128|c>>0&63,l+=3;else{if((4292870144&c)!=0)throw"e";i[o+l]=240|c>>18,i[o+l+1]=128|c>>12&63,i[o+l+2]=128|c>>6&63,i[o+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if((4294967168&l)==0)s++;else if((4294965248&l)==0)s+=2;else if((4294901760&l)==0)s+=3;else{if((4292870144&l)!=0)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,p=0,m=s<<3,g=0,y=i.length;if(a==0){for(;p<y;)f(o,m,p+(A=Math.min(65535,y-p))==y?1:0),m=r.F._copyExact(i,p,A,o,m+8),p+=A;return m>>>3}var w=h.lits,b=h.strt,_=h.prev,E=0,x=0,k=0,O=0,N=0,C=0;for(y>2&&(b[C=r.F._hash(i,0)]=0),p=0;p<y;p++){if(N=C,p+1<y-2){C=r.F._hash(i,p+1);var D=p+1&32767;_[D]=b[C],b[C]=D}if(g<=p){(E>14e3||x>26697)&&y-p>100&&(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(p==y-1||g==y?1:0,w,E,O,i,k,p-k,o,m),E=x=O=0,k=p);var P=0;p<y-2&&(P=r.F._bestMatch(i,p,_,N,Math.min(l[2],y-p),l[3]));var A=P>>>16,I=65535&P;if(P!=0){I=65535&P;var L=c(A=P>>>16,h.of0);h.lhst[257+L]++;var F=c(I,h.df0);h.dhst[F]++,O+=h.exb[L]+h.dxb[F],w[E]=A<<23|p-g,w[E+1]=I<<16|L<<8|F,E+=2,g=p+A}else h.lhst[i[p]]++;x++}}for(k==p&&i.length!=0||(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(1,w,E,O,i,k,p-k,o,m),E=0,x=0,E=x=O=0,k=p);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,o,s,a,l,h){var c=32767&o,f=s[c],p=c-f+32768&32767;if(f==c||a!=r.F._hash(i,o-p))return 0;for(var m=0,g=0,y=Math.min(32767,o);p<=y&&--h!=0&&f!=c;){if(m==0||i[o+m]==i[o+m-p]){var w=r.F._howLong(i,o,p);if(w>m){if(g=p,(m=w)>=l)break;p+2<w&&(w=p+2);for(var b=0,_=0;_<w-2;_++){var E=o-p+_+32768&32767,x=E-s[E]+32768&32767;x>b&&(b=x,f=E)}}}p+=(c=f)-(f=s[c])+32768&32767}return m<<16|g},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,l,h,c,f,p){var m,g,y,w,b,_,E,x,k,O=r.F.U,N=r.F._putsF,C=r.F._putsE;O.lhst[256]++,g=(m=r.F.getTrees())[0],y=m[1],w=m[2],b=m[3],_=m[4],E=m[5],x=m[6],k=m[7];var D=32+((p+3&7)==0?0:8-(p+3&7))+(c<<3),P=a+r.F.contSize(O.fltree,O.lhst)+r.F.contSize(O.fdtree,O.dhst),A=a+r.F.contSize(O.ltree,O.lhst)+r.F.contSize(O.dtree,O.dhst);A+=14+3*E+r.F.contSize(O.itree,O.ihst)+(2*O.ihst[16]+3*O.ihst[17]+7*O.ihst[18]);for(var I=0;I<286;I++)O.lhst[I]=0;for(I=0;I<30;I++)O.dhst[I]=0;for(I=0;I<19;I++)O.ihst[I]=0;var L=D<P&&D<A?0:P<A?1:2;if(N(f,p,i),N(f,p+1,L),p+=3,L==0){for(;(7&p)!=0;)p++;p=r.F._copyExact(l,h,c,f,p)}else{var F,q;if(L==1&&(F=O.fltree,q=O.fdtree),L==2){r.F.makeCodes(O.ltree,g),r.F.revCodes(O.ltree,g),r.F.makeCodes(O.dtree,y),r.F.revCodes(O.dtree,y),r.F.makeCodes(O.itree,w),r.F.revCodes(O.itree,w),F=O.ltree,q=O.dtree,C(f,p,b-257),C(f,p+=5,_-1),C(f,p+=5,E-4),p+=4;for(var M=0;M<E;M++)C(f,p+3*M,O.itree[1+(O.ordr[M]<<1)]);p+=3*E,p=r.F._codeTiny(x,O.itree,f,p),p=r.F._codeTiny(k,O.itree,f,p)}for(var B=h,Y=0;Y<s;Y+=2){for(var H=o[Y],j=H>>>23,U=B+(8388607&H);B<U;)p=r.F._writeLit(l[B++],F,f,p);if(j!=0){var V=o[Y+1],z=V>>16,K=V>>8&255,X=255&V;C(f,p=r.F._writeLit(257+K,F,f,p),j-O.of0[K]),p+=O.exb[K],N(f,p=r.F._writeLit(X,q,f,p),z-O.df0[X]),p+=O.dxb[X],B+=j}}p=r.F._writeLit(256,F,f,p)}return p},r.F._copyExact=function(i,o,s,a,l){var h=l>>>3;return a[h]=s,a[h+1]=s>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(i.buffer,o,s),h),l+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),h=[],c=r.F._lenCodes(i.dtree,h),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<h.length;f+=2)i.ihst[h[f]]++;for(var p=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[o,s,p,l,c,m,a,h]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var h=i[l],c=i[l+1];a=r.F._writeLit(h,o,s,a);var f=h==16?2:h==17?3:7;h>15&&(r.F._putsE(s,a,c,f),a+=f)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],h=a+3<s?i[a+3]:-1,c=a+5<s?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&h==l&&c==l){for(var p=a+5;p+2<s&&i[p+2]==l;)p+=2;(m=Math.min(p+1-a>>>1,138))<11?o.push(17,m-3):o.push(18,m-11),a+=2*m-2}else if(l==f&&h==l&&c==l){for(p=a+5;p+2<s&&i[p+2]==l;)p+=2;var m=Math.min(p+1-a>>>1,6);o.push(16,m-3),a+=2*m-2}else o.push(l,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],l=i.length,h=o.length,c=0;for(c=0;c<h;c+=2)o[c]=0,o[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&a.push({lit:c,f:i[c]});var f=a.length,p=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return p=m==0?1:0,o[1+(m<<1)]=1,o[1+(p<<1)]=1,1}a.sort(function(x,k){return x.f-k.f});var g=a[0],y=a[1],w=0,b=1,_=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};b!=f-1;)g=w!=b&&(_==f||a[w].f<a[_].f)?a[w++]:a[_++],y=w!=b&&(_==f||a[w].f<a[_].f)?a[w++]:a[_++],a[b++]={lit:-1,f:g.f+y.f,l:g,r:y};var E=r.F.setDepth(a[b-1],0);for(E>s&&(r.F.restrictDepth(p,s,E),E=s),c=0;c<f;c++)o[1+(p[c].lit<<1)]=p[c].d;return E},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,h=0;for(i.sort(function(f,p){return p.d==f.d?f.f-p.f:p.d-f.d}),a=0;a<i.length&&i[a].d>o;a++){var c=i[a].d;i[a].d=o,h+=l-(1<<s-c)}for(h>>>=s-o;h>0;)(c=i[a].d)<o?(i[a].d++,h-=1<<o-c-1):a++;for(;a>=0;a--)i[a].d==o&&h<0&&(i[a].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,l=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,p=a.codes2map,m=a._get17,g=a.U,y=o==null;y&&(o=new s(i.length>>>2<<3));for(var w,b,_=0,E=0,x=0,k=0,O=0,N=0,C=0,D=0,P=0;_==0;)if(_=l(i,P,1),E=l(i,P+1,2),P+=3,E!=0){if(y&&(o=r.F._check(o,D+(1<<17))),E==1&&(w=g.flmap,b=g.fdmap,N=511,C=31),E==2){x=h(i,P,5)+257,k=h(i,P+5,5)+1,O=h(i,P+10,4)+4,P+=14;for(var A=0;A<38;A+=2)g.itree[A]=0,g.itree[A+1]=0;var I=1;for(A=0;A<O;A++){var L=h(i,P+3*A,3);g.itree[1+(g.ordr[A]<<1)]=L,L>I&&(I=L)}P+=3*O,f(g.itree,I),p(g.itree,I,g.imap),w=g.lmap,b=g.dmap,P=c(g.imap,(1<<I)-1,x+k,i,P,g.ttree);var F=a._copyOut(g.ttree,0,x,g.ltree);N=(1<<F)-1;var q=a._copyOut(g.ttree,x,k,g.dtree);C=(1<<q)-1,f(g.ltree,F),p(g.ltree,F,w),f(g.dtree,q),p(g.dtree,q,b)}for(;;){var M=w[m(i,P)&N];P+=15&M;var B=M>>>4;if(!(B>>>8))o[D++]=B;else{if(B==256)break;var Y=D+B-254;if(B>264){var H=g.ldef[B-257];Y=D+(H>>>3)+h(i,P,7&H),P+=7&H}var j=b[m(i,P)&C];P+=15&j;var U=j>>>4,V=g.ddef[U],z=(V>>>4)+l(i,P,15&V);for(P+=15&V,y&&(o=r.F._check(o,D+(1<<17)));D<Y;)o[D]=o[D++-z],o[D]=o[D++-z],o[D]=o[D++-z],o[D]=o[D++-z];D=Y}}}else{(7&P)!=0&&(P+=8-(7&P));var K=4+(P>>>3),X=i[K-4]|i[K-3]<<8;y&&(o=r.F._check(o,D+X)),o.set(new s(i.buffer,i.byteOffset+K,X),D),P=K+X<<3,D+=X}return o.length==D?o:o.slice(0,D)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,l,h){for(var c=r.F._bitsE,f=r.F._get17,p=0;p<s;){var m=i[f(a,l)&o];l+=15&m;var g=m>>>4;if(g<=15)h[p]=g,p++;else{var y=0,w=0;g==16?(w=3+c(a,l,2),l+=2,y=h[p-1]):g==17?(w=3+c(a,l,3),l+=3):g==18&&(w=11+c(a,l,7),l+=7);for(var b=p+w;p<b;)h[p]=y,p++}}return l},r.F._copyOut=function(i,o,s,a){for(var l=0,h=0,c=a.length>>>1;h<s;){var f=i[h+o];a[h<<1]=0,a[1+(h<<1)]=f,f>l&&(l=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return l},r.F.makeCodes=function(i,o){for(var s,a,l,h,c=r.F.U,f=i.length,p=c.bl_count,m=0;m<=o;m++)p[m]=0;for(m=1;m<f;m+=2)p[i[m]]++;var g=c.next_code;for(s=0,p[0]=0,a=1;a<=o;a++)s=s+p[a-1]<<1,g[a]=s;for(l=0;l<f;l+=2)(h=i[l+1])!=0&&(i[l]=g[h],g[h]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,l=r.F.U.rev15,h=0;h<a;h+=2)if(i[h+1]!=0)for(var c=h>>1,f=i[h+1],p=c<<4|f,m=o-f,g=i[h]<<m,y=g+(1<<m);g!=y;)s[l[g]>>>15-o]=p,g++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var h=i[l]<<o-i[l+1];i[l]=s[h]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,h,c){for(;h--!=0;)l.push(0,c)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Aoe=Coe({__proto__:null,default:Om},[Om]);const Vi=function(){var t={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,p){c[f]=p>>8&255,c[f+1]=255&p},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,p){c[f]=p>>24&255,c[f+1]=p>>16&255,c[f+2]=p>>8&255,c[f+3]=255&p},readASCII(c,f,p){let m="";for(let g=0;g<p;g++)m+=String.fromCharCode(c[f+g]);return m},writeASCII(c,f,p){for(let m=0;m<p.length;m++)c[f+m]=p.charCodeAt(m)},readBytes(c,f,p){const m=[];for(let g=0;g<p;g++)m.push(c[f+g]);return m},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,p){let m,g="";for(let y=0;y<p;y++)g+=`%${t.pad(c[f+y].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(c,f,p)}return m}};function e(c,f,p,m){const g=f*p,y=o(m),w=Math.ceil(f*y/8),b=new Uint8Array(4*g),_=new Uint32Array(b.buffer),{ctype:E}=m,{depth:x}=m,k=t.readUshort;if(E==6){const H=g<<2;if(x==8)for(var O=0;O<H;O+=4)b[O]=c[O],b[O+1]=c[O+1],b[O+2]=c[O+2],b[O+3]=c[O+3];if(x==16)for(O=0;O<H;O++)b[O]=c[O<<1]}else if(E==2){const H=m.tabs.tRNS;if(H==null){if(x==8)for(O=0;O<g;O++){var N=3*O;_[O]=255<<24|c[N+2]<<16|c[N+1]<<8|c[N]}if(x==16)for(O=0;O<g;O++)N=6*O,_[O]=255<<24|c[N+4]<<16|c[N+2]<<8|c[N]}else{var C=H[0];const j=H[1],U=H[2];if(x==8)for(O=0;O<g;O++){var D=O<<2;N=3*O,_[O]=255<<24|c[N+2]<<16|c[N+1]<<8|c[N],c[N]==C&&c[N+1]==j&&c[N+2]==U&&(b[D+3]=0)}if(x==16)for(O=0;O<g;O++)D=O<<2,N=6*O,_[O]=255<<24|c[N+4]<<16|c[N+2]<<8|c[N],k(c,N)==C&&k(c,N+2)==j&&k(c,N+4)==U&&(b[D+3]=0)}}else if(E==3){const H=m.tabs.PLTE,j=m.tabs.tRNS,U=j?j.length:0;if(x==1)for(var P=0;P<p;P++){var A=P*w,I=P*f;for(O=0;O<f;O++){D=I+O<<2;var L=3*(F=c[A+(O>>3)]>>7-((7&O)<<0)&1);b[D]=H[L],b[D+1]=H[L+1],b[D+2]=H[L+2],b[D+3]=F<U?j[F]:255}}if(x==2)for(P=0;P<p;P++)for(A=P*w,I=P*f,O=0;O<f;O++)D=I+O<<2,L=3*(F=c[A+(O>>2)]>>6-((3&O)<<1)&3),b[D]=H[L],b[D+1]=H[L+1],b[D+2]=H[L+2],b[D+3]=F<U?j[F]:255;if(x==4)for(P=0;P<p;P++)for(A=P*w,I=P*f,O=0;O<f;O++)D=I+O<<2,L=3*(F=c[A+(O>>1)]>>4-((1&O)<<2)&15),b[D]=H[L],b[D+1]=H[L+1],b[D+2]=H[L+2],b[D+3]=F<U?j[F]:255;if(x==8)for(O=0;O<g;O++){var F;D=O<<2,L=3*(F=c[O]),b[D]=H[L],b[D+1]=H[L+1],b[D+2]=H[L+2],b[D+3]=F<U?j[F]:255}}else if(E==4){if(x==8)for(O=0;O<g;O++){D=O<<2;var q=c[M=O<<1];b[D]=q,b[D+1]=q,b[D+2]=q,b[D+3]=c[M+1]}if(x==16)for(O=0;O<g;O++){var M;D=O<<2,q=c[M=O<<2],b[D]=q,b[D+1]=q,b[D+2]=q,b[D+3]=c[M+2]}}else if(E==0)for(C=m.tabs.tRNS?m.tabs.tRNS:-1,P=0;P<p;P++){const H=P*w,j=P*f;if(x==1)for(var B=0;B<f;B++){var Y=(q=255*(c[H+(B>>>3)]>>>7-(7&B)&1))==255*C?0:255;_[j+B]=Y<<24|q<<16|q<<8|q}else if(x==2)for(B=0;B<f;B++)Y=(q=85*(c[H+(B>>>2)]>>>6-((3&B)<<1)&3))==85*C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q;else if(x==4)for(B=0;B<f;B++)Y=(q=17*(c[H+(B>>>1)]>>>4-((1&B)<<2)&15))==17*C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q;else if(x==8)for(B=0;B<f;B++)Y=(q=c[H+B])==C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q;else if(x==16)for(B=0;B<f;B++)q=c[H+(B<<1)],Y=k(c,H+(B<<1))==C?0:255,_[j+B]=Y<<24|q<<16|q<<8|q}return b}function n(c,f,p,m){const g=o(c),y=Math.ceil(p*g/8),w=new Uint8Array((y+1+c.interlace)*m);return f=c.tabs.CgBI?i(f,w):r(f,w),c.interlace==0?f=s(f,c,0,p,m):c.interlace==1&&(f=function(_,E){const x=E.width,k=E.height,O=o(E),N=O>>3,C=Math.ceil(x*O/8),D=new Uint8Array(k*C);let P=0;const A=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const B=L[q],Y=F[q];let H=0,j=0,U=A[q];for(;U<k;)U+=B,j++;let V=I[q];for(;V<x;)V+=Y,H++;const z=Math.ceil(H*O/8);s(_,E,P,H,j);let K=0,X=A[q];for(;X<k;){let W=I[q],J=P+K*z<<3;for(;W<x;){var M;if(O==1&&(M=(M=_[J>>3])>>7-(7&J)&1,D[X*C+(W>>3)]|=M<<7-((7&W)<<0)),O==2&&(M=(M=_[J>>3])>>6-(7&J)&3,D[X*C+(W>>2)]|=M<<6-((3&W)<<1)),O==4&&(M=(M=_[J>>3])>>4-(7&J)&15,D[X*C+(W>>1)]|=M<<4-((1&W)<<2)),O>=8){const Z=X*C+W*N;for(let te=0;te<N;te++)D[Z+te]=_[(J>>3)+te]}J+=O,W+=Y}K++,X+=B}H*j!=0&&(P+=j*(1+z)),q+=1}return D}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,p){const m=Uint8Array;let g,y,w=0,b=0,_=0,E=0,x=0,k=0,O=0,N=0,C=0;if(f[0]==3&&f[1]==0)return p||new m(0);const D=c.H,P=D.b,A=D.e,I=D.R,L=D.n,F=D.A,q=D.Z,M=D.m,B=p==null;for(B&&(p=new m(f.length>>>2<<5));w==0;)if(w=P(f,C,1),b=P(f,C+1,2),C+=3,b!=0){if(B&&(p=c.H.W(p,N+(1<<17))),b==1&&(g=M.J,y=M.h,k=511,O=31),b==2){_=A(f,C,5)+257,E=A(f,C+5,5)+1,x=A(f,C+10,4)+4,C+=14;let H=1;for(var Y=0;Y<38;Y+=2)M.Q[Y]=0,M.Q[Y+1]=0;for(Y=0;Y<x;Y++){const V=A(f,C+3*Y,3);M.Q[1+(M.X[Y]<<1)]=V,V>H&&(H=V)}C+=3*x,L(M.Q,H),F(M.Q,H,M.u),g=M.w,y=M.d,C=I(M.u,(1<<H)-1,_+E,f,C,M.v);const j=D.V(M.v,0,_,M.C);k=(1<<j)-1;const U=D.V(M.v,_,E,M.D);O=(1<<U)-1,L(M.C,j),F(M.C,j,g),L(M.D,U),F(M.D,U,y)}for(;;){const H=g[q(f,C)&k];C+=15&H;const j=H>>>4;if(!(j>>>8))p[N++]=j;else{if(j==256)break;{let U=N+j-254;if(j>264){const W=M.q[j-257];U=N+(W>>>3)+A(f,C,7&W),C+=7&W}const V=y[q(f,C)&O];C+=15&V;const z=V>>>4,K=M.c[z],X=(K>>>4)+P(f,C,15&K);for(C+=15&K;N<U;)p[N]=p[N++-X],p[N]=p[N++-X],p[N]=p[N++-X],p[N]=p[N++-X];N=U}}}}else{(7&C)!=0&&(C+=8-(7&C));const H=4+(C>>>3),j=f[H-4]|f[H-3]<<8;B&&(p=c.H.W(p,N+j)),p.set(new m(f.buffer,f.byteOffset+H,j),N),C=H+j<<3,N+=j}return p.length==N?p:p.slice(0,N)},c.H.W=function(f,p){const m=f.length;if(p<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},c.H.R=function(f,p,m,g,y,w){const b=c.H.e,_=c.H.Z;let E=0;for(;E<m;){const x=f[_(g,y)&p];y+=15&x;const k=x>>>4;if(k<=15)w[E]=k,E++;else{let O=0,N=0;k==16?(N=3+b(g,y,2),y+=2,O=w[E-1]):k==17?(N=3+b(g,y,3),y+=3):k==18&&(N=11+b(g,y,7),y+=7);const C=E+N;for(;E<C;)w[E]=O,E++}}return y},c.H.V=function(f,p,m,g){let y=0,w=0;const b=g.length>>>1;for(;w<m;){const _=f[w+p];g[w<<1]=0,g[1+(w<<1)]=_,_>y&&(y=_),w++}for(;w<b;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},c.H.n=function(f,p){const m=c.H.m,g=f.length;let y,w,b,_;const E=m.j;for(var x=0;x<=p;x++)E[x]=0;for(x=1;x<g;x+=2)E[f[x]]++;const k=m.K;for(y=0,E[0]=0,w=1;w<=p;w++)y=y+E[w-1]<<1,k[w]=y;for(b=0;b<g;b+=2)_=f[b+1],_!=0&&(f[b]=k[_],k[_]++)},c.H.A=function(f,p,m){const g=f.length,y=c.H.m.r;for(let w=0;w<g;w+=2)if(f[w+1]!=0){const b=w>>1,_=f[w+1],E=b<<4|_,x=p-_;let k=f[w]<<x;const O=k+(1<<x);for(;k!=O;)m[y[k]>>>15-p]=E,k++}},c.H.l=function(f,p){const m=c.H.m.r,g=15-p;for(let y=0;y<f.length;y+=2){const w=f[y]<<p-f[y+1];f[y]=m[w]>>>g}},c.H.M=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8},c.H.I=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},c.H.e=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8)>>>(7&p)&(1<<m)-1},c.H.b=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)&(1<<m)-1},c.H.Z=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)},c.H.i=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16|f[3+(p>>>3)]<<24)>>>(7&p)},c.H.m=function(){const f=Uint16Array,p=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[p]=(g>>>16|g<<16)>>>17}function m(g,y,w){for(;y--!=0;)g.push(0,w)}for(p=0;p<32;p++)f.q[p]=f.S[p]<<3|f.T[p],f.c[p]=f.p[p]<<4|f.z[p];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),m(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),c.H.N}();function o(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function s(c,f,p,m,g){let y=o(f);const w=Math.ceil(m*y/8);let b,_;y=Math.ceil(y/8);let E=c[p],x=0;if(E>1&&(c[p]=[0,0,1][E-2]),E==3)for(x=y;x<w;x++)c[x+1]=c[x+1]+(c[x+1-y]>>>1)&255;for(let k=0;k<g;k++)if(b=p+k*w,_=b+k+1,E=c[_-1],x=0,E==0)for(;x<w;x++)c[b+x]=c[_+x];else if(E==1){for(;x<y;x++)c[b+x]=c[_+x];for(;x<w;x++)c[b+x]=c[_+x]+c[b+x-y]}else if(E==2)for(;x<w;x++)c[b+x]=c[_+x]+c[b+x-w];else if(E==3){for(;x<y;x++)c[b+x]=c[_+x]+(c[b+x-w]>>>1);for(;x<w;x++)c[b+x]=c[_+x]+(c[b+x-w]+c[b+x-y]>>>1)}else{for(;x<y;x++)c[b+x]=c[_+x]+a(0,c[b+x-w],0);for(;x<w;x++)c[b+x]=c[_+x]+a(c[b+x-y],c[b+x-w],c[b+x-y-w])}return c}function a(c,f,p){const m=c+f-p,g=m-c,y=m-f,w=m-p;return g*g<=y*y&&g*g<=w*w?c:y*y<=w*w?f:p}function l(c,f,p){p.width=t.readUint(c,f),f+=4,p.height=t.readUint(c,f),f+=4,p.depth=c[f],f++,p.ctype=c[f],f++,p.compress=c[f],f++,p.filter=c[f],f++,p.interlace=c[f],f++}function h(c,f,p,m,g,y,w,b,_){const E=Math.min(f,g),x=Math.min(p,y);let k=0,O=0;for(let q=0;q<x;q++)for(let M=0;M<E;M++)if(w>=0&&b>=0?(k=q*f+M<<2,O=(b+q)*g+w+M<<2):(k=(-b+q)*f-w+M<<2,O=q*g+M<<2),_==0)m[O]=c[k],m[O+1]=c[k+1],m[O+2]=c[k+2],m[O+3]=c[k+3];else if(_==1){var N=c[k+3]*.00392156862745098,C=c[k]*N,D=c[k+1]*N,P=c[k+2]*N,A=m[O+3]*(1/255),I=m[O]*A,L=m[O+1]*A,F=m[O+2]*A;const B=1-N,Y=N+A*B,H=Y==0?0:1/Y;m[O+3]=255*Y,m[O+0]=(C+I*B)*H,m[O+1]=(D+L*B)*H,m[O+2]=(P+F*B)*H}else if(_==2)N=c[k+3],C=c[k],D=c[k+1],P=c[k+2],A=m[O+3],I=m[O],L=m[O+1],F=m[O+2],N==A&&C==I&&D==L&&P==F?(m[O]=0,m[O+1]=0,m[O+2]=0,m[O+3]=0):(m[O]=C,m[O+1]=D,m[O+2]=P,m[O+3]=N);else if(_==3){if(N=c[k+3],C=c[k],D=c[k+1],P=c[k+2],A=m[O+3],I=m[O],L=m[O+1],F=m[O+2],N==A&&C==I&&D==L&&P==F)continue;if(N<220&&A>20)return!1}return!0}return{decode:function(f){const p=new Uint8Array(f);let m=8;const g=t,y=g.readUshort,w=g.readUint,b={tabs:{},frames:[]},_=new Uint8Array(p.length);let E,x=0,k=0;const O=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(p[N]!=O[N])throw"The input is not a PNG file!";for(;m<p.length;){const q=g.readUint(p,m);m+=4;const M=g.readASCII(p,m,4);if(m+=4,M=="IHDR")l(p,m,b);else if(M=="iCCP"){for(var C=m;p[C]!=0;)C++;g.readASCII(p,m,C-m),p[C+1];const B=p.slice(C+2,m+q);let Y=null;try{Y=r(B)}catch{Y=i(B)}b.tabs[M]=Y}else if(M=="CgBI")b.tabs[M]=p.slice(m,m+4);else if(M=="IDAT"){for(N=0;N<q;N++)_[x+N]=p[m+N];x+=q}else if(M=="acTL")b.tabs[M]={num_frames:w(p,m),num_plays:w(p,m+4)},E=new Uint8Array(p.length);else if(M=="fcTL"){k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height),k=0);const B={x:w(p,m+12),y:w(p,m+16),width:w(p,m+4),height:w(p,m+8)};let Y=y(p,m+22);Y=y(p,m+20)/(Y==0?100:Y);const H={rect:B,delay:Math.round(1e3*Y),dispose:p[m+24],blend:p[m+25]};b.frames.push(H)}else if(M=="fdAT"){for(N=0;N<q-4;N++)E[k+N]=p[m+N+4];k+=q-4}else if(M=="pHYs")b.tabs[M]=[g.readUint(p,m),g.readUint(p,m+4),p[m+8]];else if(M=="cHRM")for(b.tabs[M]=[],N=0;N<8;N++)b.tabs[M].push(g.readUint(p,m+4*N));else if(M=="tEXt"||M=="zTXt"){b.tabs[M]==null&&(b.tabs[M]={});var D=g.nextZero(p,m),P=g.readASCII(p,m,D-m),A=m+q-D-1;if(M=="tEXt")L=g.readASCII(p,D+1,A);else{var I=r(p.slice(D+2,D+2+A));L=g.readUTF8(I,0,I.length)}b.tabs[M][P]=L}else if(M=="iTXt"){b.tabs[M]==null&&(b.tabs[M]={}),D=0,C=m,D=g.nextZero(p,C),P=g.readASCII(p,C,D-C);const B=p[C=D+1];var L;p[C+1],C+=2,D=g.nextZero(p,C),g.readASCII(p,C,D-C),C=D+1,D=g.nextZero(p,C),g.readUTF8(p,C,D-C),A=q-((C=D+1)-m),B==0?L=g.readUTF8(p,C,A):(I=r(p.slice(C,C+A)),L=g.readUTF8(I,0,I.length)),b.tabs[M][P]=L}else if(M=="PLTE")b.tabs[M]=g.readBytes(p,m,q);else if(M=="hIST"){const B=b.tabs.PLTE.length/3;for(b.tabs[M]=[],N=0;N<B;N++)b.tabs[M].push(y(p,m+2*N))}else if(M=="tRNS")b.ctype==3?b.tabs[M]=g.readBytes(p,m,q):b.ctype==0?b.tabs[M]=y(p,m):b.ctype==2&&(b.tabs[M]=[y(p,m),y(p,m+2),y(p,m+4)]);else if(M=="gAMA")b.tabs[M]=g.readUint(p,m)/1e5;else if(M=="sRGB")b.tabs[M]=p[m];else if(M=="bKGD")b.ctype==0||b.ctype==4?b.tabs[M]=[y(p,m)]:b.ctype==2||b.ctype==6?b.tabs[M]=[y(p,m),y(p,m+2),y(p,m+4)]:b.ctype==3&&(b.tabs[M]=p[m]);else if(M=="IEND")break;m+=q,g.readUint(p,m),m+=4}var F;return k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height)),b.data=n(b,_,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(f){const p=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,p,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=p*m*4,w=new Uint8Array(y),b=new Uint8Array(y),_=new Uint8Array(y);for(let x=0;x<f.frames.length;x++){const k=f.frames[x],O=k.rect.x,N=k.rect.y,C=k.rect.width,D=k.rect.height,P=e(k.data,C,D,f);if(x!=0)for(var E=0;E<y;E++)_[E]=w[E];if(k.blend==0?h(P,C,D,w,p,m,O,N,0):k.blend==1&&h(P,C,D,w,p,m,O,N,1),g.push(w.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)h(b,C,D,w,p,m,O,N,0);else if(k.dispose==2)for(E=0;E<y;E++)w[E]=_[E]}}return g},_paeth:a,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=Vi,{_bin:e}=Vi,n=Vi._paeth;var r={table:function(){const C=new Uint32Array(256);for(let D=0;D<256;D++){let P=D;for(let A=0;A<8;A++)1&P?P=3988292384^P>>>1:P>>>=1;C[D]=P}return C}(),update(C,D,P,A){for(let I=0;I<A;I++)C=r.table[255&(C^D[P+I])]^C>>>8;return C},crc:(C,D,P)=>4294967295^r.update(4294967295,C,D,P)};function i(C,D,P,A){D[P]+=C[0]*A>>4,D[P+1]+=C[1]*A>>4,D[P+2]+=C[2]*A>>4,D[P+3]+=C[3]*A>>4}function o(C){return Math.max(0,Math.min(255,C))}function s(C,D){const P=C[0]-D[0],A=C[1]-D[1],I=C[2]-D[2],L=C[3]-D[3];return P*P+A*A+I*I+L*L}function a(C,D,P,A,I,L,F){F==null&&(F=1);const q=A.length,M=[];for(var B=0;B<q;B++){const X=A[B];M.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(B=0;B<q;B++){let X=4294967295;for(var Y=0,H=0;H<q;H++){var j=s(M[B],M[H]);H!=B&&j<X&&(X=j,Y=H)}}const U=new Uint32Array(I.buffer),V=new Int16Array(D*P*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<z.length;B++)z[B]=255*((z[B]+.5)/16-.5);for(let X=0;X<P;X++)for(let W=0;W<D;W++){var K;B=4*(X*D+W),F!=2?K=[o(C[B]+V[B]),o(C[B+1]+V[B+1]),o(C[B+2]+V[B+2]),o(C[B+3]+V[B+3])]:(j=z[4*(3&X)+(3&W)],K=[o(C[B]+j),o(C[B+1]+j),o(C[B+2]+j),o(C[B+3]+j)]),Y=0;let J=16777215;for(H=0;H<q;H++){const le=s(K,M[H]);le<J&&(J=le,Y=H)}const Z=M[Y],te=[K[0]-Z[0],K[1]-Z[1],K[2]-Z[2],K[3]-Z[3]];F==1&&(W!=D-1&&i(te,V,B+4,7),X!=P-1&&(W!=0&&i(te,V,B+4*D-4,3),i(te,V,B+4*D,5),W!=D-1&&i(te,V,B+4*D+4,1))),L[B>>2]=Y,U[B>>2]=A[Y]}}function l(C,D,P,A,I){I==null&&(I={});const{crc:L}=r,F=e.writeUint,q=e.writeUshort,M=e.writeASCII;let B=8;const Y=C.frames.length>1;let H,j=!1,U=33+(Y?20:0);if(I.sRGB!=null&&(U+=13),I.pHYs!=null&&(U+=21),I.iCCP!=null&&(H=pako.deflate(I.iCCP),U+=21+H.length+4),C.ctype==3){for(var V=C.plte.length,z=0;z<V;z++)C.plte[z]>>>24!=255&&(j=!0);U+=8+3*V+4+(j?8+1*V+4:0)}for(var K=0;K<C.frames.length;K++)Y&&(U+=38),U+=(Z=C.frames[K]).cimg.length+12,K!=0&&(U+=4);U+=12;const X=new Uint8Array(U),W=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)X[z]=W[z];if(F(X,B,13),B+=4,M(X,B,"IHDR"),B+=4,F(X,B,D),B+=4,F(X,B,P),B+=4,X[B]=C.depth,B++,X[B]=C.ctype,B++,X[B]=0,B++,X[B]=0,B++,X[B]=0,B++,F(X,B,L(X,B-17,17)),B+=4,I.sRGB!=null&&(F(X,B,1),B+=4,M(X,B,"sRGB"),B+=4,X[B]=I.sRGB,B++,F(X,B,L(X,B-5,5)),B+=4),I.iCCP!=null){const te=13+H.length;F(X,B,te),B+=4,M(X,B,"iCCP"),B+=4,M(X,B,"ICC profile"),B+=11,B+=2,X.set(H,B),B+=H.length,F(X,B,L(X,B-(te+4),te+4)),B+=4}if(I.pHYs!=null&&(F(X,B,9),B+=4,M(X,B,"pHYs"),B+=4,F(X,B,I.pHYs[0]),B+=4,F(X,B,I.pHYs[1]),B+=4,X[B]=I.pHYs[2],B++,F(X,B,L(X,B-13,13)),B+=4),Y&&(F(X,B,8),B+=4,M(X,B,"acTL"),B+=4,F(X,B,C.frames.length),B+=4,F(X,B,I.loop!=null?I.loop:0),B+=4,F(X,B,L(X,B-12,12)),B+=4),C.ctype==3){for(F(X,B,3*(V=C.plte.length)),B+=4,M(X,B,"PLTE"),B+=4,z=0;z<V;z++){const te=3*z,le=C.plte[z],pe=255&le,ge=le>>>8&255,Ce=le>>>16&255;X[B+te+0]=pe,X[B+te+1]=ge,X[B+te+2]=Ce}if(B+=3*V,F(X,B,L(X,B-3*V-4,3*V+4)),B+=4,j){for(F(X,B,V),B+=4,M(X,B,"tRNS"),B+=4,z=0;z<V;z++)X[B+z]=C.plte[z]>>>24&255;B+=V,F(X,B,L(X,B-V-4,V+4)),B+=4}}let J=0;for(K=0;K<C.frames.length;K++){var Z=C.frames[K];Y&&(F(X,B,26),B+=4,M(X,B,"fcTL"),B+=4,F(X,B,J++),B+=4,F(X,B,Z.rect.width),B+=4,F(X,B,Z.rect.height),B+=4,F(X,B,Z.rect.x),B+=4,F(X,B,Z.rect.y),B+=4,q(X,B,A[K]),B+=2,q(X,B,1e3),B+=2,X[B]=Z.dispose,B++,X[B]=Z.blend,B++,F(X,B,L(X,B-30,30)),B+=4);const te=Z.cimg;F(X,B,(V=te.length)+(K==0?0:4)),B+=4;const le=B;M(X,B,K==0?"IDAT":"fdAT"),B+=4,K!=0&&(F(X,B,J++),B+=4),X.set(te,B),B+=V,F(X,B,L(X,le,B-le)),B+=4}return F(X,B,0),B+=4,M(X,B,"IEND"),B+=4,F(X,B,L(X,B-4,4)),B+=4,X.buffer}function h(C,D,P){for(let A=0;A<C.frames.length;A++){const I=C.frames[A];I.rect.width;const L=I.rect.height,F=new Uint8Array(L*I.bpl+L);I.cimg=m(I.img,L,I.bpp,I.bpl,F,D,P)}}function c(C,D,P,A,I){const L=I[0],F=I[1],q=I[2],M=I[3],B=I[4],Y=I[5];let H=6,j=8,U=255;for(var V=0;V<C.length;V++){const nt=new Uint8Array(C[V]);for(var z=nt.length,K=0;K<z;K+=4)U&=nt[K+3]}const X=U!=255,W=function(Qe,ce,fe,we,_e,he){const $e=[];for(var Ie=0;Ie<Qe.length;Ie++){const ut=new Uint8Array(Qe[Ie]),qt=new Uint32Array(ut.buffer);var Ye;let Xn=0,Br=0,Cr=ce,se=fe,ie=we?1:0;if(Ie!=0){const be=he||we||Ie==1||$e[Ie-2].dispose!=0?1:2;let ke=0,Te=1e9;for(let Ne=0;Ne<be;Ne++){var Gt=new Uint8Array(Qe[Ie-1-Ne]);const Ge=new Uint32Array(Qe[Ie-1-Ne]);let Be=ce,He=fe,rt=-1,xt=-1;for(let Lt=0;Lt<fe;Lt++)for(let ln=0;ln<ce;ln++)qt[it=Lt*ce+ln]!=Ge[it]&&(ln<Be&&(Be=ln),ln>rt&&(rt=ln),Lt<He&&(He=Lt),Lt>xt&&(xt=Lt));rt==-1&&(Be=He=rt=xt=0),_e&&((1&Be)==1&&Be--,(1&He)==1&&He--);const An=(rt-Be+1)*(xt-He+1);An<Te&&(Te=An,ke=Ne,Xn=Be,Br=He,Cr=rt-Be+1,se=xt-He+1)}Gt=new Uint8Array(Qe[Ie-1-ke]),ke==1&&($e[Ie-1].dispose=2),Ye=new Uint8Array(Cr*se*4),t(Gt,ce,fe,Ye,Cr,se,-Xn,-Br,0),ie=t(ut,ce,fe,Ye,Cr,se,-Xn,-Br,3)?1:0,ie==1?p(ut,ce,fe,Ye,{x:Xn,y:Br,width:Cr,height:se}):t(ut,ce,fe,Ye,Cr,se,-Xn,-Br,0)}else Ye=ut.slice(0);$e.push({rect:{x:Xn,y:Br,width:Cr,height:se},img:Ye,blend:ie,dispose:0})}if(we)for(Ie=0;Ie<$e.length;Ie++){if(($r=$e[Ie]).blend==1)continue;const ut=$r.rect,qt=$e[Ie-1].rect,Xn=Math.min(ut.x,qt.x),Br=Math.min(ut.y,qt.y),Cr={x:Xn,y:Br,width:Math.max(ut.x+ut.width,qt.x+qt.width)-Xn,height:Math.max(ut.y+ut.height,qt.y+qt.height)-Br};$e[Ie-1].dispose=1,Ie-1!=0&&f(Qe,ce,fe,$e,Ie-1,Cr,_e),f(Qe,ce,fe,$e,Ie,Cr,_e)}let Nn=0;if(Qe.length!=1)for(var it=0;it<$e.length;it++){var $r;Nn+=($r=$e[it]).rect.width*$r.rect.height}return $e}(C,D,P,L,F,q),J={},Z=[],te=[];if(A!=0){const nt=[];for(K=0;K<W.length;K++)nt.push(W[K].img.buffer);const Qe=function(_e){let he=0;for(var $e=0;$e<_e.length;$e++)he+=_e[$e].byteLength;const Ie=new Uint8Array(he);let Ye=0;for($e=0;$e<_e.length;$e++){const Gt=new Uint8Array(_e[$e]),Nn=Gt.length;for(let it=0;it<Nn;it+=4){let $r=Gt[it],ut=Gt[it+1],qt=Gt[it+2];const Xn=Gt[it+3];Xn==0&&($r=ut=qt=0),Ie[Ye+it]=$r,Ie[Ye+it+1]=ut,Ie[Ye+it+2]=qt,Ie[Ye+it+3]=Xn}Ye+=Nn}return Ie.buffer}(nt),ce=y(Qe,A);for(K=0;K<ce.plte.length;K++)Z.push(ce.plte[K].est.rgba);let fe=0;for(K=0;K<W.length;K++){const we=(pe=W[K]).img.length;var le=new Uint8Array(ce.inds.buffer,fe>>2,we>>2);te.push(le);const _e=new Uint8Array(ce.abuf,fe,we);Y&&a(pe.img,pe.rect.width,pe.rect.height,Z,_e,le),pe.img.set(_e),fe+=we}}else for(V=0;V<W.length;V++){var pe=W[V];const nt=new Uint32Array(pe.img.buffer);var ge=pe.rect.width;for(z=nt.length,le=new Uint8Array(z),te.push(le),K=0;K<z;K++){const Qe=nt[K];if(K!=0&&Qe==nt[K-1])le[K]=le[K-1];else if(K>ge&&Qe==nt[K-ge])le[K]=le[K-ge];else{let ce=J[Qe];if(ce==null&&(J[Qe]=ce=Z.length,Z.push(Qe),Z.length>=300))break;le[K]=ce}}}const Ce=Z.length;for(Ce<=256&&B==0&&(j=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,j=Math.max(j,M)),V=0;V<W.length;V++){(pe=W[V]).rect.x,pe.rect.y,ge=pe.rect.width;const nt=pe.rect.height;let Qe=pe.img;new Uint32Array(Qe.buffer);let ce=4*ge,fe=4;if(Ce<=256&&B==0){ce=Math.ceil(j*ge/8);var Fe=new Uint8Array(ce*nt);const we=te[V];for(let _e=0;_e<nt;_e++){K=_e*ce;const he=_e*ge;if(j==8)for(var De=0;De<ge;De++)Fe[K+De]=we[he+De];else if(j==4)for(De=0;De<ge;De++)Fe[K+(De>>1)]|=we[he+De]<<4-4*(1&De);else if(j==2)for(De=0;De<ge;De++)Fe[K+(De>>2)]|=we[he+De]<<6-2*(3&De);else if(j==1)for(De=0;De<ge;De++)Fe[K+(De>>3)]|=we[he+De]<<7-1*(7&De)}Qe=Fe,H=3,fe=1}else if(X==0&&W.length==1){Fe=new Uint8Array(ge*nt*3);const we=ge*nt;for(K=0;K<we;K++){const _e=3*K,he=4*K;Fe[_e]=Qe[he],Fe[_e+1]=Qe[he+1],Fe[_e+2]=Qe[he+2]}Qe=Fe,H=2,fe=3,ce=3*ge}pe.img=Qe,pe.bpl=ce,pe.bpp=fe}return{ctype:H,depth:j,plte:Z,frames:W}}function f(C,D,P,A,I,L,F){const q=Uint8Array,M=Uint32Array,B=new q(C[I-1]),Y=new M(C[I-1]),H=I+1<C.length?new q(C[I+1]):null,j=new q(C[I]),U=new M(j.buffer);let V=D,z=P,K=-1,X=-1;for(let J=0;J<L.height;J++)for(let Z=0;Z<L.width;Z++){const te=L.x+Z,le=L.y+J,pe=le*D+te,ge=U[pe];ge==0||A[I-1].dispose==0&&Y[pe]==ge&&(H==null||H[4*pe+3]!=0)||(te<V&&(V=te),te>K&&(K=te),le<z&&(z=le),le>X&&(X=le))}K==-1&&(V=z=K=X=0),F&&((1&V)==1&&V--,(1&z)==1&&z--),L={x:V,y:z,width:K-V+1,height:X-z+1};const W=A[I];W.rect=L,W.blend=1,W.img=new Uint8Array(L.width*L.height*4),A[I-1].dispose==0?(t(B,D,P,W.img,L.width,L.height,-L.x,-L.y,0),p(j,D,P,W.img,L)):t(j,D,P,W.img,L.width,L.height,-L.x,-L.y,0)}function p(C,D,P,A,I){t(C,D,P,A,I.width,I.height,-I.x,-I.y,2)}function m(C,D,P,A,I,L,F){const q=[];let M,B=[0,1,2,3,4];L!=-1?B=[L]:(D*A>5e5||P==1)&&(B=[0]),F&&(M={level:0});const Y=Aoe;for(var H=0;H<B.length;H++){for(let V=0;V<D;V++)g(I,C,V,A,P,B[H]);q.push(Y.deflate(I,M))}let j,U=1e9;for(H=0;H<q.length;H++)q[H].length<U&&(j=H,U=q[H].length);return q[j]}function g(C,D,P,A,I,L){const F=P*A;let q=F+P;if(C[q]=L,q++,L==0)if(A<500)for(var M=0;M<A;M++)C[q+M]=D[F+M];else C.set(new Uint8Array(D.buffer,F,A),q);else if(L==1){for(M=0;M<I;M++)C[q+M]=D[F+M];for(M=I;M<A;M++)C[q+M]=D[F+M]-D[F+M-I]+256&255}else if(P==0){for(M=0;M<I;M++)C[q+M]=D[F+M];if(L==2)for(M=I;M<A;M++)C[q+M]=D[F+M];if(L==3)for(M=I;M<A;M++)C[q+M]=D[F+M]-(D[F+M-I]>>1)+256&255;if(L==4)for(M=I;M<A;M++)C[q+M]=D[F+M]-n(D[F+M-I],0,0)+256&255}else{if(L==2)for(M=0;M<A;M++)C[q+M]=D[F+M]+256-D[F+M-A]&255;if(L==3){for(M=0;M<I;M++)C[q+M]=D[F+M]+256-(D[F+M-A]>>1)&255;for(M=I;M<A;M++)C[q+M]=D[F+M]+256-(D[F+M-A]+D[F+M-I]>>1)&255}if(L==4){for(M=0;M<I;M++)C[q+M]=D[F+M]+256-n(0,D[F+M-A],0)&255;for(M=I;M<A;M++)C[q+M]=D[F+M]+256-n(D[F+M-I],D[F+M-A],D[F+M-I-A])&255}}}function y(C,D){const P=new Uint8Array(C),A=P.slice(0),I=new Uint32Array(A.buffer),L=w(A,D),F=L[0],q=L[1],M=P.length,B=new Uint8Array(M>>2);let Y;if(P.length<2e7)for(var H=0;H<M;H+=4)Y=b(F,j=P[H]*(1/255),U=P[H+1]*(1/255),V=P[H+2]*(1/255),z=P[H+3]*(1/255)),B[H>>2]=Y.ind,I[H>>2]=Y.est.rgba;else for(H=0;H<M;H+=4){var j=P[H]*.00392156862745098,U=P[H+1]*(1/255),V=P[H+2]*(1/255),z=P[H+3]*(1/255);for(Y=F;Y.left;)Y=_(Y.est,j,U,V,z)<=0?Y.left:Y.right;B[H>>2]=Y.ind,I[H>>2]=Y.est.rgba}return{abuf:A.buffer,inds:B,plte:q}}function w(C,D,P){P==null&&(P=1e-4);const A=new Uint32Array(C.buffer),I={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=k(C,I.i0,I.i1),I.est=O(I.bst);const L=[I];for(;L.length<D;){let q=0,M=0;for(var F=0;F<L.length;F++)L[F].est.L>q&&(q=L[F].est.L,M=F);if(q<P)break;const B=L[M],Y=E(C,A,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=Y||B.i1<=Y){B.est.L=0;continue}const H={i0:B.i0,i1:Y,bst:null,est:null,tdst:0,left:null,right:null};H.bst=k(C,H.i0,H.i1),H.est=O(H.bst);const j={i0:Y,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:B.bst.N-H.bst.N},F=0;F<16;F++)j.bst.R[F]=B.bst.R[F]-H.bst.R[F];for(F=0;F<4;F++)j.bst.m[F]=B.bst.m[F]-H.bst.m[F];j.est=O(j.bst),B.left=H,B.right=j,L[M]=H,L.push(j)}for(L.sort((q,M)=>M.bst.N-q.bst.N),F=0;F<L.length;F++)L[F].ind=F;return[I,L]}function b(C,D,P,A,I){if(C.left==null)return C.tdst=function(H,j,U,V,z){const K=j-H[0],X=U-H[1],W=V-H[2],J=z-H[3];return K*K+X*X+W*W+J*J}(C.est.q,D,P,A,I),C;const L=_(C.est,D,P,A,I);let F=C.left,q=C.right;L>0&&(F=C.right,q=C.left);const M=b(F,D,P,A,I);if(M.tdst<=L*L)return M;const B=b(q,D,P,A,I);return B.tdst<M.tdst?B:M}function _(C,D,P,A,I){const{e:L}=C;return L[0]*D+L[1]*P+L[2]*A+L[3]*I-C.eMq}function E(C,D,P,A,I,L){for(A-=4;P<A;){for(;x(C,P,I)<=L;)P+=4;for(;x(C,A,I)>L;)A-=4;if(P>=A)break;const F=D[P>>2];D[P>>2]=D[A>>2],D[A>>2]=F,P+=4,A-=4}for(;x(C,P,I)>L;)P-=4;return P+4}function x(C,D,P){return C[D]*P[0]+C[D+1]*P[1]+C[D+2]*P[2]+C[D+3]*P[3]}function k(C,D,P){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],L=P-D>>2;for(let F=D;F<P;F+=4){const q=C[F]*.00392156862745098,M=C[F+1]*(1/255),B=C[F+2]*(1/255),Y=C[F+3]*(1/255);I[0]+=q,I[1]+=M,I[2]+=B,I[3]+=Y,A[0]+=q*q,A[1]+=q*M,A[2]+=q*B,A[3]+=q*Y,A[5]+=M*M,A[6]+=M*B,A[7]+=M*Y,A[10]+=B*B,A[11]+=B*Y,A[15]+=Y*Y}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:I,N:L}}function O(C){const{R:D}=C,{m:P}=C,{N:A}=C,I=P[0],L=P[1],F=P[2],q=P[3],M=A==0?0:1/A,B=[D[0]-I*I*M,D[1]-I*L*M,D[2]-I*F*M,D[3]-I*q*M,D[4]-L*I*M,D[5]-L*L*M,D[6]-L*F*M,D[7]-L*q*M,D[8]-F*I*M,D[9]-F*L*M,D[10]-F*F*M,D[11]-F*q*M,D[12]-q*I*M,D[13]-q*L*M,D[14]-q*F*M,D[15]-q*q*M],Y=B,H=N;let j=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,V=0;if(A!=0)for(let K=0;K<16&&(j=H.multVec(Y,j),V=Math.sqrt(H.dot(j,j)),j=H.sml(1/V,j),!(K!=0&&Math.abs(V-U)<1e-9));K++)U=V;const z=[I*M,L*M,F*M,q*M];return{Cov:B,q:z,e:j,L:U,eMq255:H.dot(H.sml(255,z),j),eMq:H.dot(j,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var N={multVec:(C,D)=>[C[0]*D[0]+C[1]*D[1]+C[2]*D[2]+C[3]*D[3],C[4]*D[0]+C[5]*D[1]+C[6]*D[2]+C[7]*D[3],C[8]*D[0]+C[9]*D[1]+C[10]*D[2]+C[11]*D[3],C[12]*D[0]+C[13]*D[1]+C[14]*D[2]+C[15]*D[3]],dot:(C,D)=>C[0]*D[0]+C[1]*D[1]+C[2]*D[2]+C[3]*D[3],sml:(C,D)=>[C*D[0],C*D[1],C*D[2],C*D[3]]};Vi.encode=function(D,P,A,I,L,F,q){I==null&&(I=0),q==null&&(q=!1);const M=c(D,P,A,I,[!1,!1,!1,0,q,!1]);return h(M,-1),l(M,P,A,L,F)},Vi.encodeLL=function(D,P,A,I,L,F,q,M){const B={ctype:0+(I==1?0:2)+(L==0?0:4),depth:F,frames:[]},Y=(I+L)*F,H=Y*P;for(let j=0;j<D.length;j++)B.frames.push({rect:{x:0,y:0,width:P,height:A},img:new Uint8Array(D[j]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(H/8)});return h(B,0,!0),l(B,P,A,q,M)},Vi.encode.compress=c,Vi.encode.dither=a,Vi.quantize=y,Vi.quantize.getKDtree=w,Vi.quantize.getNearest=b})();const U3={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,l=a*r,h=122+l,c=new ArrayBuffer(h),f=new DataView(c),p=1<<20;let m,g,y,w,b=p,_=0,E=0,x=0;function k(C){f.setUint16(E,C,!0),E+=2}function O(C){f.setUint32(E,C,!0),E+=4}function N(C){E+=C}k(19778),O(h),N(4),O(122),O(108),O(n),O(-r>>>0),k(1),k(32),O(3),O(l),O(2835),O(2835),N(8),O(16711680),O(65280),O(255),O(4278190080),O(1466527264),function C(){for(;_<r&&b>0;){for(w=122+_*a,m=0;m<i;)b--,g=s[x++],y=g>>>24,f.setUint32(w+m,g<<8|y),m+=4;_++}x<s.length?(b=p,setTimeout(C,U3._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Gr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Doe={[Gr.CHROME]:16384,[Gr.FIREFOX]:11180,[Gr.DESKTOP_SAFARI]:16384,[Gr.IE]:8192,[Gr.IOS]:4096,[Gr.ETC]:8192};const PE=typeof window<"u",V3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Nm=PE&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ioe=(PE||V3)&&(Nm&&Nm.getOriginalSymbol(window,"File")||typeof File<"u"&&File),q3=(PE||V3)&&(Nm&&Nm.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function RE(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const h=new Blob([l],{type:o});h.name=e,h.lastModified=n,r(h)})}function H3(t){return new Promise((e,n)=>{const r=new q3;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function z3(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function $a(){if($a.cachedResult!==void 0)return $a.cachedResult;let t=Gr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Gr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Gr.IOS:/Safari/i.test(e)?t=Gr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Gr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Gr.IE),$a.cachedResult=t,$a.cachedResult}function W3(t,e){const n=$a(),r=Doe[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const l=(r+i)/2,h=(r+o)/2;l<h?(o=h,i=h*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function yv(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Y3(t,e){const{width:n,height:r}=W3(t.width,t.height),[i,o]=yv(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Pp(){return Pp.cachedResult!==void 0||(Pp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Pp.cachedResult}function Am(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=Y3(i,e.fileType||t.type),n([i,o])}catch(l){return r(l)}},a=function(l){try{var h=function(c){try{throw c}catch(f){return r(f)}};try{let c;return H3(t).then(function(f){try{return c=f,z3(c).then(function(p){try{return i=p,function(){try{return s()}catch(m){return r(m)}}()}catch(m){return h(m)}},h)}catch(p){return h(p)}},h)}catch(c){h(c)}}catch(c){return r(c)}};try{if(Pp()||[Gr.DESKTOP_SAFARI,Gr.MOBILE_SAFARI].includes($a()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function Dm(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let f,p,m;return f=t.getContext("2d"),{data:p}=f.getImageData(0,0,t.width,t.height),m=Vi.encode([p.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var h=f;if(e==="image/bmp")return new Promise(p=>U3.toBlob(t,p)).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return s(m)}}).bind(this),s);{let p=function(){return f.call(this)};var c=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,p.call(this)}catch(g){return s(g)}}).bind(this),s);{let m;return m=t.toDataURL(e,i),RE(m,n,r).then((function(g){try{return a=g,p.call(this)}catch(y){return s(y)}}).bind(this),s)}}}function l(){return o(a)}})}function oo(t){t.width=0,t.height=0}function ou(){return new Promise(function(t,e){let n,r,i,o;return ou.cachedResult!==void 0?t(ou.cachedResult):RE("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,Am(n).then(function(a){try{return r=a[1],Dm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,oo(r),Am(i).then(function(h){try{return o=h[0],ou.cachedResult=o.width===1&&o.height===2,t(ou.cachedResult)}catch(c){return e(c)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function G3(t){return new Promise((e,n)=>{const r=new q3;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const h=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,h);const c=o.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(o.getUint16(a+12*f,h)==274)return e(o.getUint16(a+12*f+8,h))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function K3(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=yv(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),oo(t)),s}function Q3(t,e){const{width:n}=t,{height:r}=t,[i,o]=yv(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),oo(t),i}function eI(t,e,n=0){return new Promise(function(r,i){let o,s,a,l,h,c,f,p,m,g,y,w,b,_,E,x,k,O,N,C;function D(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=A,e.onProgress(Math.min(o,100))}function P(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(A,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,D(),Am(t,e).then((function(A){try{return[,l]=A,D(),h=K3(l,e),D(),new Promise(function(I,L){var F;if(!(F=e.exifOrientation))return G3(t).then((function(M){try{return F=M,q.call(this)}catch(B){return L(B)}}).bind(this),L);function q(){return I(F)}return q.call(this)}).then((function(I){try{return c=I,D(),ou().then((function(L){try{return f=L?h:Q3(h,c),D(),p=e.initialQuality||1,m=e.fileType||t.type,Dm(f,m,t.name,t.lastModified,p).then((function(F){try{{let Y=function(){if(s--&&(E>a||E>b)){let j,U;return j=C?.95*N.width:N.width,U=C?.95*N.height:N.height,[k,O]=yv(j,U),O.drawImage(N,0,0,j,U),p*=m==="image/png"?.85:.95,Dm(k,m,t.name,t.lastModified,p).then(function(V){try{return x=V,oo(N),N=k,E=x.size,P(Math.min(99,Math.floor((_-E)/(_-a)*100))),Y}catch(z){return i(z)}},i)}return[1]},H=function(){return oo(N),oo(k),oo(h),oo(f),oo(l),P(100),r(x)};var M=Y,B=H;if(g=F,D(),y=g.size>a,w=g.size>t.size,!y&&!w)return P(100),r(g);var q;return b=t.size,_=g.size,E=_,N=f,C=!e.alwaysKeepResolution&&y,(q=(function(j){for(;j;){if(j.then)return void j.then(q,i);try{if(j.pop){if(j.length)return j.pop()?H.call(this):j;j=Y}else j=j.call(this)}catch(U){return i(U)}}}).bind(this))(Y)}}catch(Y){return i(Y)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)})}const Poe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let xb;function Roe(t,e){return new Promise((n,r)=>{xb||(xb=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(Poe));const i=new Worker(xb);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function tr(t,e){return new Promise(function(n,r){let i,o,s,a,l,h;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{s=m,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof Ioe))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||h)return eI(t,i).then((function(m){try{return o=m,p.call(this)}catch(g){return r(g)}}).bind(this),r);var c=(function(){try{return p.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return eI(t,i).then(function(g){try{return o=g,c()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Roe(t,i).then(function(m){try{return o=m,c()}catch{return f()}},f)}catch{f()}function p(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=B3(t,o))}catch{}return n(o)}})}tr.getDataUrlFromFile=H3,tr.getFilefromDataUrl=RE,tr.loadImage=z3,tr.drawImageInCanvas=Y3,tr.drawFileInCanvas=Am,tr.canvasToFile=Dm,tr.getExifOrientation=G3,tr.handleMaxWidthOrHeight=K3,tr.followExifOrientation=Q3,tr.cleanupCanvasMemory=oo,tr.isAutoOrientationInBrowser=ou,tr.approximateBelowMaximumCanvasSizeOfBrowser=W3,tr.copyExifWithoutOrientation=B3,tr.getBrowserName=$a,tr.version="2.0.2";function Moe({onImageChange:t,className:e=""}){const n=Q.useRef(null);return S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},className:`absolute bottom-2 right-3 flex size-11 cursor-pointer items-center justify-center rounded-full border-0 bg-purple2 max-sm:size-8 ${e}`,children:S.jsx($re,{fontSize:13,className:"size-4 text-white"})}),S.jsx("input",{type:"file",style:{display:"none"},accept:"image/jpg,image/png,image/jpeg",name:"profile_img",onChange:t,ref:n})]})}const X3=({isEditing:t,setNewUserImgUrl:e,imgUrl:n})=>{const[r,i]=Q.useState(!0),[o,s]=Q.useState(""),a=Ve(wE),l=async h=>{const{currentTarget:{files:c}}=h;if(!c||!c[0])return;const f=c[0],p=new FileReader,m={maxSizeMB:.1,useWebWorker:!0,maxWidthOrHeight:100,initialQuality:.8},g={maxSizeMB:1,useWebWorker:!0,maxWidthOrHeight:600,initialQuality:1},y=await tr(f,m),w=await tr(f,g);p.onload=b=>{const{target:{result:_}}=b;s(_)},e({compressed:y,original:f.size>1e5?w:f}),p.readAsDataURL(f),i(!1)};return S.jsxs("div",{className:"relative m-3 mx-auto flex w-fit items-center justify-center",children:[S.jsx("img",{src:r?n||a:o,alt:" ",onContextMenu:h=>h.preventDefault(),className:"size-52 min-h-52 min-w-52 rounded-full bg-white object-cover shadow-card max-sm:size-40"}),t&&S.jsx(Moe,{onImageChange:l})]})},Loe=()=>{var y;const[t,e]=Wt(k3),{state:n}=Fr(),{absenteeList:r}=Ve(y3(Vn)),{uid:i}=Ve(Ot),o=Ve(ma),s=o==null?void 0:o.find(w=>w.id===((n==null?void 0:n.userId)||i)),{id:a,favoriteBookField:l,userRecords:h,displayName:c,photoURL:f}=s||{},p=i===a,m=p?"":c,g=r==null?void 0:r.includes(n==null?void 0:n.userId);return Q.useEffect(()=>{(t==null?void 0:t.creatorId)!==a&&a&&lr(al,`2024-${a}`,e)},[a]),S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${m} `,backBtn:!p,backTo:"/bookshelf",children:p&&S.jsx(Ir,{to:"/setting",children:S.jsx(Vre,{fontSize:18})})}),s&&S.jsxs("main",{children:[S.jsxs(Mt,{children:[S.jsx(X3,{isEditing:!1,imgUrl:(f==null?void 0:f.original)||f}),S.jsx("span",{className:"mx-auto text-lg font-medium",children:c}),S.jsx("div",{className:"mt-3 flex flex-col items-center gap-1",children:g?S.jsx(ar,{text:"  ",color:"red",shape:"square"}):S.jsx(ar,{text:"  ",color:"lightGreen",shape:"square"})})]}),S.jsx(Mt,{title:`${m}   `,children:S.jsx("ul",{className:"flex min-h-14 flex-wrap gap-2",children:l&&(l==null?void 0:l.length)!==0?l.map(({id:w,name:b})=>S.jsx(ar,{text:b,color:"lightBlue",shape:"rounded"},w)):S.jsx(tc,{size:100,className:"h-[30vh] w-full"})})}),(t==null?void 0:t.books)&&S.jsx(Mt,{title:`${m} 2024  `,children:S.jsx("ul",{className:"grid grid-cols-2 gap-4 max-sm:flex max-sm:flex-col",children:(y=t==null?void 0:t.books)==null?void 0:y.map(w=>S.jsx(xoe,{challengeBook:w,creatorId:t.creatorId,docId:`2024-${t.creatorId}`},w.title))})}),[""," "," "].map(w=>S.jsxs(Mt,{title:`${m} ${w}`,children:[S.jsx(Go,{text:"2022 6   ."}),S.jsx(woe,{userRecords:h,postType:w})]},w))]})]})};function tI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ME(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:tI(e[n])&&tI(t[n])&&Object.keys(e[n]).length>0&&ME(t[n],e[n])})}const J3={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ki(){const t=typeof document<"u"?document:{};return ME(t,J3),t}const joe={document:J3,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Tr(){const t=typeof window<"u"?window:{};return ME(t,joe),t}function Rs(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Foe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Im(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Pm(){return Date.now()}function $oe(t){const e=Tr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Boe(t,e){e===void 0&&(e="x");const n=Tr();let r,i,o;const s=$oe(t);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(i==="none"?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function up(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Uoe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function si(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!Uoe(r)){const i=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,s=i.length;o<s;o+=1){const a=i[o],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(up(t[a])&&up(r[a])?r[a].__swiper__?t[a]=r[a]:si(t[a],r[a]):!up(t[a])&&up(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:si(t[a],r[a])):t[a]=r[a])}}}return t}function cp(t,e,n){t.style.setProperty(e,n)}function Z3(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Tr(),o=-e.translate;let s=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const h=n>o?"next":"prev",c=(p,m)=>h==="next"&&p>=m||h==="prev"&&p<=m,f=()=>{a=new Date().getTime(),s===null&&(s=a);const p=Math.max(Math.min((a-s)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let g=o+m*(n-o);if(c(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),c(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function yo(t,e){e===void 0&&(e="");const n=Tr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function Voe(t,e){var r,i;const n=[e];for(;n.length>0;){const o=n.shift();if(t===o)return!0;n.push(...o.children,...((r=o.shadowRoot)==null?void 0:r.children)||[],...((i=o.assignedElements)==null?void 0:i.call(o))||[])}}function qoe(t,e){const n=Tr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Voe(t,e))),r}function Rm(t){try{console.warn(t);return}catch{}}function Yd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Rs(e)),n}function Hoe(t){const e=Tr(),n=ki(),r=t.getBoundingClientRect(),i=n.body,o=t.clientTop||i.clientTop||0,s=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:r.top+a-o,left:r.left+l-s}}function zoe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Woe(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function qs(t,e){return Tr().getComputedStyle(t,null).getPropertyValue(e)}function Mm(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function e5(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function X_(t,e,n){const r=Tr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Bn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Sb;function Yoe(){const t=Tr(),e=ki();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function t5(){return Sb||(Sb=Yoe()),Sb}let Eb;function Goe(t){let{userAgent:e}=t===void 0?{}:t;const n=t5(),r=Tr(),i=r.navigator.platform,o=e||r.navigator.userAgent,s={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,h=o.match(/(Android);?[\s\/]+([\d.]+)?/);let c=o.match(/(iPad).*OS\s([\d_]+)/);const f=o.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let g=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(c=o.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),h&&!m&&(s.os="android",s.android=!0),(c||p||f)&&(s.os="ios",s.ios=!0),s}function n5(t){return t===void 0&&(t={}),Eb||(Eb=Goe(t)),Eb}let kb;function Koe(){const t=Tr(),e=n5();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,h]=a.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));n=l<16||l===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=r(),s=o||i&&e.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:s,isWebView:i}}function Qoe(){return kb||(kb=Koe()),kb}function Xoe(t){let{swiper:e,on:n,emit:r}=t;const i=Tr();let o=null,s=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(f=>{s=i.requestAnimationFrame(()=>{const{width:p,height:m}=e;let g=p,y=m;f.forEach(w=>{let{contentBoxSize:b,contentRect:_,target:E}=w;E&&E!==e.el||(g=_?_.width:(b[0]||b).inlineSize,y=_?_.height:(b[0]||b).blockSize)}),(g!==p||y!==m)&&a()})}),o.observe(e.el))},h=()=>{s&&i.cancelAnimationFrame(s),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},c=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),n("destroy",()=>{h(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Joe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o=[],s=Tr(),a=function(c,f){f===void 0&&(f={});const p=s.MutationObserver||s.WebkitMutationObserver,m=new p(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const y=function(){i("observerUpdate",g[0])};s.requestAnimationFrame?s.requestAnimationFrame(y):s.setTimeout(y,0)});m.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),o.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=e5(e.hostEl);for(let f=0;f<c.length;f+=1)a(c[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},h=()=>{o.forEach(c=>{c.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",h)}var Zoe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),r=t):(e=o[0].events,n=o[0].data,r=o[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(h=>{h.apply(r,n)})}),t}};function ese(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(qs(r,"padding-left")||0,10)-parseInt(qs(r,"padding-right")||0,10),n=n-parseInt(qs(r,"padding-top")||0,10)-parseInt(qs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function tse(){const t=this;function e(P,A){return parseFloat(P.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:o,rtlTranslate:s,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,c=yo(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let p=[];const m=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,_=t.slidesGrid.length;let E=n.spaceBetween,x=-y,k=0,O=0;if(typeof o>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*o:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,c.forEach(P=>{s?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(cp(r,"--swiper-centered-offset-before",""),cp(r,"--swiper-centered-offset-after",""));const N=n.grid&&n.grid.rows>1&&t.grid;N?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let C;const D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(P=>typeof n.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<f;P+=1){C=0;let A;if(c[P]&&(A=c[P]),N&&t.grid.updateSlide(P,A,c),!(c[P]&&qs(A,"display")==="none")){if(n.slidesPerView==="auto"){D&&(c[P].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(A),L=A.style.transform,F=A.style.webkitTransform;if(L&&(A.style.transform="none"),F&&(A.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?X_(A,"width"):X_(A,"height");else{const q=e(I,"width"),M=e(I,"padding-left"),B=e(I,"padding-right"),Y=e(I,"margin-left"),H=e(I,"margin-right"),j=I.getPropertyValue("box-sizing");if(j&&j==="border-box")C=q+Y+H;else{const{clientWidth:U,offsetWidth:V}=A;C=q+M+B+Y+H+(V-U)}}L&&(A.style.transform=L),F&&(A.style.webkitTransform=F),n.roundLengths&&(C=Math.floor(C))}else C=(o-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),c[P]&&(c[P].style[t.getDirectionLabel("width")]=`${C}px`);c[P]&&(c[P].swiperSlideSize=C),g.push(C),n.centeredSlides?(x=x+C/2+k/2+E,k===0&&P!==0&&(x=x-o/2-E),P===0&&(x=x-o/2-E),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),O%n.slidesPerGroup===0&&p.push(x),m.push(x)):(n.roundLengths&&(x=Math.floor(x)),(O-Math.min(t.params.slidesPerGroupSkip,O))%t.params.slidesPerGroup===0&&p.push(x),m.push(x),x=x+C+E),t.virtualSize+=C+E,k=C,O+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+w,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),N&&t.grid.updateWrapperSize(C,p),!n.centeredSlides){const P=[];for(let A=0;A<p.length;A+=1){let I=p[A];n.roundLengths&&(I=Math.floor(I)),p[A]<=t.virtualSize-o&&P.push(I)}p=P,Math.floor(t.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-o)}if(l&&n.loop){const P=g[0]+E;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),I=P*n.slidesPerGroup;for(let L=0;L<A;L+=1)p.push(p[p.length-1]+I)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+P),m.push(m[m.length-1]+P),t.virtualSize+=P}if(p.length===0&&(p=[0]),E!==0){const P=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");c.filter((A,I)=>!n.cssMode||n.loop?!0:I!==c.length-1).forEach(A=>{A.style[P]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let P=0;g.forEach(I=>{P+=I+(E||0)}),P-=E;const A=P>o?P-o:0;p=p.map(I=>I<=0?-y:I>A?A+w:I)}if(n.centerInsufficientSlides){let P=0;g.forEach(I=>{P+=I+(E||0)}),P-=E;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(P+A<o){const I=(o-P-A)/2;p.forEach((L,F)=>{p[F]=L-I}),m.forEach((L,F)=>{m[F]=L+I})}}if(Object.assign(t,{slides:c,snapGrid:p,slidesGrid:m,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){cp(r,"--swiper-centered-offset-before",`${-p[0]}px`),cp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const P=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+P),t.slidesGrid=t.slidesGrid.map(I=>I+A)}if(f!==h&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const P=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(P);f<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(P):A&&t.el.classList.remove(P)}}function nse(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const a=e.activeIndex+o;if(a>e.slides.length&&!r)break;n.push(s(a))}else n.push(s(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const a=n[o].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function rse(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const nI=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ise(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const h=r[l];let c=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const f=(s+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),p=(s-o[0]+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),m=-(s-c),g=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||g>1&&g<=e.size||m<=0&&g>=e.size;w&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l)),nI(h,w,n.slideVisibleClass),nI(h,y,n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-p:p}}function ose(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:s,progressLoop:a}=e;const l=o,h=s;if(r===0)i=0,o=!0,s=!0;else{i=(t-e.minTranslate())/r;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;o=c||i<=0,s=f||i>=1,c&&(i=0),f&&(i=1)}if(n.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[c],m=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?a=(y-p)/g:a=(y+g-m)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!l&&e.emit("reachBeginning toEdge"),s&&!h&&e.emit("reachEnd toEdge"),(l&&!o||h&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}const Tb=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function sse(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,o=t.virtual&&n.virtual.enabled,s=t.grid&&n.grid&&n.grid.rows>1,a=f=>yo(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,h,c;if(o)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else s?(l=e.find(f=>f.column===i),c=e.find(f=>f.column===i+1),h=e.find(f=>f.column===i-1)):l=e[i];l&&(s||(c=Woe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=e[0]),h=zoe(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(f=>{Tb(f,f===l,n.slideActiveClass),Tb(f,f===c,n.slideNextClass),Tb(f,f===h,n.slidePrevClass)}),t.emitSlidesClasses()}const Rp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Cb=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},J_=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=i,a=[s-e];a.push(...Array.from({length:e}).map((l,h)=>s+r+h)),t.slides.forEach((l,h)=>{a.includes(l.column)&&Cb(t,h)});return}const o=i+r-1;if(t.params.rewind||t.params.loop)for(let s=i-e;s<=o+e;s+=1){const a=(s%n+n)%n;(a<i||a>o)&&Cb(t,a)}else for(let s=Math.max(i-e,0);s<=Math.min(o+e,n-1);s+=1)s!==i&&(s>o||s<i)&&Cb(t,s)};function ase(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?i=o:r>=e[o]&&r<e[o+1]&&(i=o+1):r>=e[o]&&(i=o);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function lse(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:s,snapIndex:a}=e;let l=t,h;const c=m=>{let g=m-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=ase(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);h=m+Math.floor((l-m)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===o&&!e.params.loop){h!==a&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=c(l);else if(f){const m=e.slides.find(y=>y.column===l);let g=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(m),0)),p=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:h,previousRealIndex:s,realIndex:p,previousIndex:o,activeIndex:l}),e.initialized&&J_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function use(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let o=!1,s;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){o=!0,s=a;break}}if(i&&o)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=s;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var cse={updateSize:ese,updateSlides:tse,updateAutoHeight:nse,updateSlidesOffset:rse,updateSlidesProgress:ise,updateProgress:ose,updateSlidesClasses:sse,updateActiveIndex:lse,updateClickedSlide:use};function dse(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:o}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let s=Boe(o,t);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function fse(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:s}=n;let a=0,l=0;const h=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${a}px, ${l}px, ${h}px)`);let c;const f=n.maxTranslate()-n.minTranslate();f===0?c=0:c=(t-n.minTranslate())/f,c!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function hse(){return-this.snapGrid[0]}function pse(){return-this.snapGrid[this.snapGrid.length-1]}function mse(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),h=o.maxTranslate();let c;if(r&&t>l?c=l:r&&t<h?c=h:c=t,o.updateProgress(c),s.cssMode){const f=o.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-c;else{if(!o.support.smoothScroll)return Z3({swiper:o,targetPosition:-c,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(p){!o||o.destroyed||p.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var gse={getTranslate:dse,setTranslate:fse,minTranslate:hse,maxTranslate:pse,translateTo:mse};function vse(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function r5(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:o,previousIndex:s}=e;let a=r;if(a||(o>s?a="next":o<s?a="prev":a="reset"),e.emit(`transition${i}`),n&&o!==s){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function yse(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),r5({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function wse(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),r5({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var bse={setTransition:vse,transitionStart:yse,transitionEnd:wse};function _se(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:g}=o;if(!g&&!r&&!i||o.destroyed||o.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const y=Math.min(o.params.slidesPerGroupSkip,s);let w=y+Math.floor((s-y)/o.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let k=0;k<h.length;k+=1){const O=-Math.floor(b*100),N=Math.floor(h[k]*100),C=Math.floor(h[k+1]*100);typeof h[k+1]<"u"?O>=N&&O<C-(C-N)/2?s=k:O>=N&&O<C&&(s=k+1):O>=N&&(s=k)}if(o.initialized&&s!==f&&(!o.allowSlideNext&&(p?b>o.translate&&b>o.minTranslate():b<o.translate&&b<o.minTranslate())||!o.allowSlidePrev&&b>o.translate&&b>o.maxTranslate()&&(f||0)!==s))return!1;s!==(c||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(b);let _;s>f?_="next":s<f?_="prev":_="reset";const E=o.virtual&&o.params.virtual.enabled;if(!(E&&i)&&(p&&-b===o.translate||!p&&b===o.translate))return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),a.effect!=="slide"&&o.setTranslate(b),_!=="reset"&&(o.transitionStart(n,_),o.transitionEnd(n,_)),!1;if(a.cssMode){const k=o.isHorizontal(),O=p?b:-b;if(e===0)E&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),E&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[k?"scrollLeft":"scrollTop"]=O})):m[k?"scrollLeft":"scrollTop"]=O,E&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return Z3({swiper:o,targetPosition:O,side:k?"left":"top"}),!0;m.scrollTo({[k?"left":"top"]:O,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(b),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,_),e===0?o.transitionEnd(n,_):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(O){!o||o.destroyed||O.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,_))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function xse(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let s=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)s=s+i.virtual.slidesBefore;else{let a;if(o){const p=s*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=i.getSlideIndexByData(s);const l=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&c%2===0&&(c=c+1));let f=l-a<c;if(h&&(f=f||a<Math.ceil(c/2)),r&&h&&i.params.slidesPerView!=="auto"&&!o&&(f=!1),f){const p=h?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(o){const p=s*i.params.grid.rows;s=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else s=i.getSlideIndexByData(s)}return requestAnimationFrame(()=>{i.slideTo(s,e,n,r)}),i}function Sse(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:o,animating:s}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a,h=r.virtual&&o.virtual.enabled;if(o.loop){if(s&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function Ese(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:h}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const c=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(f),g=o.map(b=>p(b));let y=o[g.indexOf(m)-1];if(typeof y>"u"&&i.cssMode){let b;o.forEach((_,E)=>{m>=_&&(b=E)}),typeof b<"u"&&(y=o[b>0?b-1:b])}let w=0;if(typeof y<"u"&&(w=s.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function kse(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Tse(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let o=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const h=i.snapGrid[a],c=i.snapGrid[a+1];l-h>(c-h)*r&&(o+=i.params.slidesPerGroup)}else{const h=i.snapGrid[a-1],c=i.snapGrid[a];l-h<=(c-h)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)}function Cse(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,o;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(yo(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),Im(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(yo(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),Im(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var Ose={slideTo:_se,slideToLoop:xse,slideNext:Sse,slidePrev:Ese,slideReset:kse,slideToClosest:Tse,slideToClickedSlide:Cse};function Nse(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{yo(r,`.${n.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},o=e.grid&&n.grid&&n.grid.rows>1,s=n.slidesPerGroup*(o?n.grid.rows:1),a=e.slides.length%s!==0,l=o&&e.slides.length%n.grid.rows!==0,h=c=>{for(let f=0;f<c;f+=1){const p=e.isElement?Yd("swiper-slide",[n.slideBlankClass]):Yd("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const c=s-e.slides.length%s;h(c),e.recalcSlides(),e.updateSlides()}else Rm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const c=n.grid.rows-e.slides.length%n.grid.rows;h(c),e.recalcSlides(),e.updateSlides()}else Rm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Ase(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:o,byController:s,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:h,allowSlidePrev:c,allowSlideNext:f,slidesEl:p,params:m}=l,{centeredSlides:g}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=m.loopAdditionalSlides,l.loopedSlides=b;const _=l.grid&&m.grid&&m.grid.rows>1;h.length<y+b?Rm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&m.grid.fill==="row"&&Rm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],x=[];let k=l.activeIndex;typeof o>"u"?o=l.getSlideIndex(h.find(L=>L.classList.contains(m.slideActiveClass))):k=o;const O=r==="next"||!r,N=r==="prev"||!r;let C=0,D=0;const P=_?Math.ceil(h.length/m.grid.rows):h.length,I=(_?h[o].column:o)+(g&&typeof i>"u"?-y/2+.5:0);if(I<b){C=Math.max(b-I,w);for(let L=0;L<b-I;L+=1){const F=L-Math.floor(L/P)*P;if(_){const q=P-F-1;for(let M=h.length-1;M>=0;M-=1)h[M].column===q&&E.push(M)}else E.push(P-F-1)}}else if(I+y>P-b){D=Math.max(I-(P-b*2),w);for(let L=0;L<D;L+=1){const F=L-Math.floor(L/P)*P;_?h.forEach((q,M)=>{q.column===F&&x.push(M)}):x.push(F)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),N&&E.forEach(L=>{h[L].swiperLoopMoveDOM=!0,p.prepend(h[L]),h[L].swiperLoopMoveDOM=!1}),O&&x.forEach(L=>{h[L].swiperLoopMoveDOM=!0,p.append(h[L]),h[L].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():_&&(E.length>0&&N||x.length>0&&O)&&l.slides.forEach((L,F)=>{l.grid.updateSlide(F,L,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(E.length>0&&N){if(typeof e>"u"){const L=l.slidesGrid[k],q=l.slidesGrid[k+C]-L;a?l.setTranslate(l.translate-q):(l.slideTo(k+Math.ceil(C),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else if(i){const L=_?E.length/m.grid.rows:E.length;l.slideTo(l.activeIndex+L,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(x.length>0&&O)if(typeof e>"u"){const L=l.slidesGrid[k],q=l.slidesGrid[k-D]-L;a?l.setTranslate(l.translate-q):(l.slideTo(k-D,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else{const L=_?x.length/m.grid.rows:x.length;l.slideTo(l.activeIndex-L,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!s){const L={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(F=>{!F.destroyed&&F.params.loop&&F.loopFix({...L,slideTo:F.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...L,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Dse(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[o]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Ise={loopCreate:Nse,loopFix:Ase,loopDestroy:Dse};function Pse(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Rse(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Mse={setGrabCursor:Pse,unsetGrabCursor:Rse};function Lse(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ki()||r===Tr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function rI(t,e,n){const r=Tr(),{params:i}=t,o=i.edgeSwipeDetection,s=i.edgeSwipeThreshold;return o&&(n<=s||n>=r.innerWidth-s)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function jse(t){const e=this,n=ki();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){rI(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:s,enabled:a}=e;if(!a||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=r.target;if(o.touchEventsTarget==="wrapper"&&!qoe(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!o.noSwipingClass&&o.noSwipingClass!=="",c=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&c&&(l=c[0]);const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(p?Lse(f,l):l.closest(f))){e.allowClick=!0;return}if(o.swipeHandler&&!l.closest(o.swipeHandler))return;s.currentX=r.pageX,s.currentY=r.pageY;const m=s.currentX,g=s.currentY;if(!rI(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=m,s.startY=g,i.touchStartTime=Pm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let y=!0;l.matches(i.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Fse(t){const e=ki(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:s,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].find(k=>k.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=h.pageX,f=h.pageY;if(l.preventedByNestedSwiper){o.startX=c,o.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=Pm());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<o.startY&&n.translate<=n.maxTranslate()||f>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<o.startX&&n.translate<=n.maxTranslate()||c>o.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=c,o.currentY=f;const p=o.currentX-o.startX,m=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let k;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:p*p+m*m>=25&&(k=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?k>i.touchAngle:90-k>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?p:m,y=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(g=Math.abs(g)*(s?1:-1),y=Math.abs(y)*(s?1:-1)),o.diff=g,g*=i.touchRatio,s&&(g=-g,y=-y);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!i.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&_&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&b&&_&&Math.abs(g)>=1){Object.assign(o,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let E=!0,x=i.resistanceRatio;if(i.touchReleaseOnEdges&&(x=0),g>0?(b&&_&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**x))):g<0&&(b&&_&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**x))),E&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function $se(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(k=>k.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:s,touches:a,rtlTranslate:l,slidesGrid:h,enabled:c}=e;if(!c||!s.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Pm(),p=f-n.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Pm(),Im(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(s.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const g=m>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let k=0;k<h.length;k+=k<s.slidesPerGroupSkip?1:s.slidesPerGroup){const O=k<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof h[k+O]<"u"?(g||m>=h[k]&&m<h[k+O])&&(y=k,w=h[k+O]-h[k]):(g||m>=h[k])&&(y=k,w=h[h.length-1]-h[h.length-2])}let b=null,_=null;s.rewind&&(e.isBeginning?_=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const E=(m-h[y])/w,x=y<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(p>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?b:y+x):e.slideTo(y)),e.swipeDirection==="prev"&&(E>1-s.longSwipesRatio?e.slideTo(y+x):_!==null&&E<0&&Math.abs(E)>s.longSwipesRatio?e.slideTo(_):e.slideTo(y))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+x):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+x),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:y))}}function iI(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function Bse(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Use(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Vse(t){const e=this;Rp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function qse(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const i5=(t,e)=>{const n=ki(),{params:r,el:i,wrapperEl:o,device:s}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&o[l]("scroll",t.onScroll),r.updateOnWindowResize?t[h](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",iI,!0):t[h]("observerUpdate",iI,!0),i[l]("load",t.onLoad,{capture:!0}))};function Hse(){const t=this,{params:e}=t;t.onTouchStart=jse.bind(t),t.onTouchMove=Fse.bind(t),t.onTouchEnd=$se.bind(t),t.onDocumentTouchStart=qse.bind(t),e.cssMode&&(t.onScroll=Use.bind(t)),t.onClick=Bse.bind(t),t.onLoad=Vse.bind(t),i5(t,"on")}function zse(){i5(this,"off")}var Wse={attachEvents:Hse,detachEvents:zse};const oI=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Yse(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const s=ki(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:s.querySelector(r.breakpointsBase),h=t.getBreakpoint(o,a,l);if(!h||t.currentBreakpoint===h)return;const f=(h in o?o[h]:void 0)||t.originalParams,p=oI(t,r),m=oI(t,f),g=t.params.grabCursor,y=f.grabCursor,w=r.enabled;p&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(O=>{if(typeof f[O]>"u")return;const N=r[O]&&r[O].enabled,C=f[O]&&f[O].enabled;N&&!C&&t[O].disable(),!N&&C&&t[O].enable()});const b=f.direction&&f.direction!==r.direction,_=r.loop&&(f.slidesPerView!==r.slidesPerView||b),E=r.loop;b&&n&&t.changeDirection(),si(t.params,f);const x=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!x?t.disable():!w&&x&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",f),n&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&k?(t.loopCreate(e),t.updateSlides()):E&&!k&&t.loopDestroy()),t.emit("breakpoint",f)}function Gse(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Tr(),o=e==="window"?i.innerHeight:n.clientHeight,s=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:h}=s[a];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=n.clientWidth&&(r=l)}return r||"max"}var Kse={setBreakpoint:Yse,getBreakpoint:Gse};function Qse(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Xse(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:o}=t,s=Qse(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...s),i.classList.add(...e),t.emitContainerClasses()}function Jse(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Zse={addClasses:Xse,removeClasses:Jse};function eae(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var tae={checkOverflow:eae},Z_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function nae(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){si(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in o)){si(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),si(e,r)}}const Ob={eventsEmitter:Zoe,update:cse,translate:gse,transition:bse,slide:Ose,loop:Ise,grabCursor:Mse,events:Wse,breakpoints:Kse,checkOverflow:tae,classes:Zse},Nb={};let LE=class Bo{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=si({},n),e&&!n.el&&(n.el=e);const s=ki();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const c=[];return s.querySelectorAll(n.el).forEach(f=>{const p=si({},n,{el:f});c.push(new Bo(p))}),c}const a=this;a.__swiper__=!0,a.support=t5(),a.device=n5({userAgent:n.userAgent}),a.browser=Qoe(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(c=>{c({params:n,swiper:a,extendParams:nae(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const h=si({},Z_,l);return a.params=si({},h,Nb,n),a.originalParams=si({},a.params),a.passedParams=si({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=yo(n,`.${r.slideClass}, swiper-slide`),o=Mm(i[0]);return Mm(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=yo(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*e+i;r.translateTo(s,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:h}=r;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=o[h]?Math.ceil(o[h].swiperSlideSize):0,p;for(let m=h+1;m<o.length;m+=1)o[m]&&!p&&(f+=Math.ceil(o[m].swiperSlideSize),c+=1,f>l&&(p=!0));for(let m=h-1;m>=0;m-=1)o[m]&&!p&&(f+=o[m].swiperSlideSize,c+=1,f>l&&(p=!0))}else if(e==="current")for(let f=h+1;f<o.length;f+=1)(n?s[f]+a[f]-s[h]<l:s[f]-s[h]<l)&&(c+=1);else for(let f=h-1;f>=0;f-=1)s[h]-s[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&Rp(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const s=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(s.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):yo(r,i())[0];return!s&&n.params.createElements&&(s=Yd("div",n.params.wrapperClass),r.append(s),yo(r,`.${n.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(n,{el:r,wrapperEl:s,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||qs(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||qs(r,"direction")==="rtl"),wrongRTL:qs(s,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?Rp(n,o):o.addEventListener("load",s=>{Rp(n,s.target)})}),J_(n),n.initialized=!0,J_(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:o,wrapperEl:s,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),s&&s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Foe(r)),r.destroyed=!0),null}static extendDefaults(e){si(Nb,e)}static get extendedDefaults(){return Nb}static get defaults(){return Z_}static installModule(e){Bo.prototype.__modules__||(Bo.prototype.__modules__=[]);const n=Bo.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Bo.installModule(n)),Bo):(Bo.installModule(e),Bo)}};Object.keys(Ob).forEach(t=>{Object.keys(Ob[t]).forEach(e=>{LE.prototype[e]=Ob[t][e]})});LE.use([Xoe,Joe]);const o5=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ll(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function gu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ll(e[r])&&ll(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:gu(t[r],e[r]):t[r]=e[r]})}function s5(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function a5(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function l5(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function u5(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function rae(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function iae(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:o,prevEl:s,scrollbarEl:a,paginationEl:l}=t;const h=i.filter(D=>D!=="children"&&D!=="direction"&&D!=="wrapperClass"),{params:c,pagination:f,navigation:p,scrollbar:m,virtual:g,thumbs:y}=e;let w,b,_,E,x,k,O,N;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(b=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(_=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(c.scrollbar||c.scrollbar===!1)&&m&&!m.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||o)&&(c.navigation||c.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(x=!0);const C=D=>{e[D]&&(e[D].destroy(),D==="navigation"?(e.isElement&&(e[D].prevEl.remove(),e[D].nextEl.remove()),c[D].prevEl=void 0,c[D].nextEl=void 0,e[D].prevEl=void 0,e[D].nextEl=void 0):(e.isElement&&e[D].el.remove(),c[D].el=void 0,e[D].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!r.loop?k=!0:!c.loop&&r.loop?O=!0:N=!0),h.forEach(D=>{if(ll(c[D])&&ll(r[D]))Object.assign(c[D],r[D]),(D==="navigation"||D==="pagination"||D==="scrollbar")&&"enabled"in r[D]&&!r[D].enabled&&C(D);else{const P=r[D];(P===!0||P===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?P===!1&&C(D):c[D]=r[D]}}),h.includes("controller")&&!b&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&n&&g&&c.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&c.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&c.loop&&(N=!0),w&&y.init()&&y.update(!0),b&&(e.controller.control=c.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),x&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),e.el.appendChild(s))),o&&(c.navigation.nextEl=o),s&&(c.navigation.prevEl=s),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(k||N)&&e.loopDestroy(),(O||N)&&e.loopCreate(),e.update()}function oae(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};gu(n,Z_),n._emitClasses=!0,n.init=!1;const o={},s=o5.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?ll(t[l])?(n[l]={},i[l]={},gu(n[l],t[l]),gu(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:o[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:o,events:r}}function sae(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:o,scrollbarEl:s,swiper:a}=t;s5(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),a5(e)&&o&&(a.params.pagination.el=o,a.originalParams.pagination.el=o),l5(e)&&s&&(a.params.scrollbar.el=s,a.originalParams.scrollbar.el=s),a.init(n)}function aae(t,e,n,r,i){const o=[];if(!e)return o;const s=l=>{o.indexOf(l)<0&&o.push(l)};if(n&&r){const l=r.map(i),h=n.map(i);l.join("")!==h.join("")&&s("children"),r.length!==n.length&&s("children")}return o5.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ll(t[l])&&ll(e[l])){const h=Object.keys(t[l]),c=Object.keys(e[l]);h.length!==c.length?s(l):(h.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}))}else t[l]!==e[l]&&s(l)}),o}const lae=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lm.apply(this,arguments)}function c5(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function d5(t){const e=[];return oe.Children.toArray(t).forEach(n=>{c5(n)?e.push(n):n.props&&n.props.children&&d5(n.props.children).forEach(r=>e.push(r))}),e}function uae(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return oe.Children.toArray(t).forEach(r=>{if(c5(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=d5(r.props.children);i.length>0?i.forEach(o=>e.push(o)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function cae(t,e,n){if(!n)return null;const r=c=>{let f=c;return c<0?f=e.length+c:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:s}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,h=[];for(let c=a;c<l;c+=1)c>=o&&c<=s&&h.push(e[r(c)]);return h.map((c,f)=>oe.cloneElement(c,{swiper:t,style:i,key:c.props.virtualIndex||c.key||`slide-${f}`}))}function bd(t,e){return typeof window>"u"?Q.useEffect(t,e):Q.useLayoutEffect(t,e)}const sI=Q.createContext(null),dae=Q.createContext(null),f5=Q.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:o,onSwiper:s,...a}=t===void 0?{}:t,l=!1;const[h,c]=Q.useState("swiper"),[f,p]=Q.useState(null),[m,g]=Q.useState(!1),y=Q.useRef(!1),w=Q.useRef(null),b=Q.useRef(null),_=Q.useRef(null),E=Q.useRef(null),x=Q.useRef(null),k=Q.useRef(null),O=Q.useRef(null),N=Q.useRef(null),{params:C,passedParams:D,rest:P,events:A}=oae(a),{slides:I,slots:L}=uae(o),F=()=>{g(!m)};Object.assign(C.on,{_containerClasses(H,j){c(j)}});const q=()=>{Object.assign(C.on,A),l=!0;const H={...C};if(delete H.wrapperClass,b.current=new LE(H),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=I;const j={cache:!1,slides:I,renderExternal:p,renderExternalUpdate:!1};gu(b.current.params.virtual,j),gu(b.current.originalParams.virtual,j)}};w.current||q(),b.current&&b.current.on("_beforeBreakpoint",F);const M=()=>{l||!A||!b.current||Object.keys(A).forEach(H=>{b.current.on(H,A[H])})},B=()=>{!A||!b.current||Object.keys(A).forEach(H=>{b.current.off(H,A[H])})};Q.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",F)}),Q.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),bd(()=>{if(e&&(e.current=w.current),!!w.current)return b.current.destroyed&&q(),sae({el:w.current,nextEl:x.current,prevEl:k.current,paginationEl:O.current,scrollbarEl:N.current,swiper:b.current},C),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),bd(()=>{M();const H=aae(D,_.current,I,E.current,j=>j.key);return _.current=D,E.current=I,H.length&&b.current&&!b.current.destroyed&&iae({swiper:b.current,slides:I,passedParams:D,changedParams:H,nextEl:x.current,prevEl:k.current,scrollbarEl:N.current,paginationEl:O.current}),()=>{B()}}),bd(()=>{lae(b.current)},[f]);function Y(){return C.virtual?cae(b.current,I,f):I.map((H,j)=>oe.cloneElement(H,{swiper:b.current,swiperSlideIndex:j}))}return oe.createElement(r,Lm({ref:w,className:u5(`${h}${n?` ${n}`:""}`)},P),oe.createElement(dae.Provider,{value:b.current},L["container-start"],oe.createElement(i,{className:rae(C.wrapperClass)},L["wrapper-start"],Y(),L["wrapper-end"]),s5(C)&&oe.createElement(oe.Fragment,null,oe.createElement("div",{ref:k,className:"swiper-button-prev"}),oe.createElement("div",{ref:x,className:"swiper-button-next"})),l5(C)&&oe.createElement("div",{ref:N,className:"swiper-scrollbar"}),a5(C)&&oe.createElement("div",{ref:O,className:"swiper-pagination"}),L["container-end"]))});f5.displayName="Swiper";const nc=Q.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:o,zoom:s,lazy:a,virtualIndex:l,swiperSlideIndex:h,...c}=t===void 0?{}:t;const f=Q.useRef(null),[p,m]=Q.useState("swiper-slide"),[g,y]=Q.useState(!1);function w(x,k,O){k===f.current&&m(O)}bd(()=>{if(typeof h<"u"&&(f.current.swiperSlideIndex=h),e&&(e.current=f.current),!(!f.current||!o)){if(o.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return o.on("_slideClass",w),()=>{o&&o.off("_slideClass",w)}}}),bd(()=>{o&&f.current&&!o.destroyed&&m(o.getSlideClasses(f.current))},[o]);const b={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},_=()=>typeof r=="function"?r(b):r,E=()=>{y(!0)};return oe.createElement(n,Lm({ref:f,className:u5(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:E},c),s&&oe.createElement(sI.Provider,{value:b},oe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},_(),a&&!g&&oe.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&oe.createElement(sI.Provider,{value:b},_(),a&&!g&&oe.createElement("div",{className:"swiper-lazy-preloader"})))});nc.displayName="SwiperSlide";function fae(t){return dt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M235.24,84.38l-28.06,23.68,8.56,35.39a13.34,13.34,0,0,1-5.09,13.91,13.54,13.54,0,0,1-15,.69L164,139l-31.65,19.06a13.51,13.51,0,0,1-15-.69,13.32,13.32,0,0,1-5.1-13.91l8.56-35.39L92.76,84.38a13.39,13.39,0,0,1,7.66-23.58l36.94-2.92,14.21-33.66a13.51,13.51,0,0,1,24.86,0l14.21,33.66,36.94,2.92a13.39,13.39,0,0,1,7.66,23.58ZM88.11,111.89a8,8,0,0,0-11.32,0L18.34,170.34a8,8,0,0,0,11.32,11.32l58.45-58.45A8,8,0,0,0,88.11,111.89Zm-.5,61.19L34.34,226.34a8,8,0,0,0,11.32,11.32l53.26-53.27a8,8,0,0,0-11.31-11.31Zm73-1-54.29,54.28a8,8,0,0,0,11.32,11.32l54.28-54.28a8,8,0,0,0-11.31-11.32Z"},child:[]}]})(t)}function hae({bookWithRank:t}){const{counts:e,readers:n,title:r,thumbnail:i,authors:o,publisher:s,impressionList:a}=t;return S.jsxs(Di,{title:"  ",children:[S.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[S.jsx(On,{title:r,thumbnail:i,className:"float-left w-14"}),S.jsxs("div",{children:[S.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full font-medium",children:r}),S.jsx(Ao,{authors:o,publisher:s}),S.jsxs("div",{className:"mt-2 flex gap-1",children:[S.jsx(ar,{text:` ${e} `,color:"yellow",shape:"rounded",className:"!px-3 !py-1 text-sm"}),S.jsx(ar,{text:`${n} `,color:"lightBlue",shape:"rounded",className:"!px-3 !py-1 text-sm"})]})]})]}),S.jsx("h3",{className:"font-bold text-blue1",children:"  "}),S.jsx("ul",{className:"mt-2",children:a==null?void 0:a.map(({text:l,id:h,creatorId:c,createdAt:f})=>S.jsxs("li",{className:"mb-3 gap-2 border-l-4 border-gray3 pl-3",children:[S.jsx("p",{children:l}),S.jsxs("div",{className:"mt-3 flex justify-between",children:[S.jsx(ti,{userId:c}),S.jsx("span",{className:"text-gray2",children:new Date(f).toLocaleDateString()})]})]},h))})]})}function pae({bookWithRank:t,rank:e}){const{title:n,thumbnail:r}=t,{showModal:i}=Yt(),o=()=>{i({element:S.jsx(hae,{bookWithRank:t})})};return S.jsx("li",{className:"flex min-h-fit w-full items-center justify-center",children:S.jsxs("button",{type:"button",onClick:o,className:`relative self-center ${e===1?"max-sm:w-[67%]":"max-sm:w-[58%]"}`,children:[S.jsx(On,{title:n,thumbnail:r,className:"w-24"}),S.jsxs("div",{className:"absolute -bottom-4 -right-4",children:[S.jsx(fae,{className:"size-[90px] fill-yellow-400"}),S.jsx("span",{className:"absolute bottom-[42px] right-[27px] font-sans text-xl font-bold text-indigo-600",children:e})]})]})})}function mae({coll:t,onChallengeBookClick:e}){const[n,r]=Q.useState([]);return Q.useEffect(()=>{n.length===0&&Yn(t,r)},[]),S.jsx(S.Fragment,{children:n.map(({recommendedBook:i,text:o,creatorId:s})=>S.jsx("li",{children:S.jsx("button",{type:"button",className:"w-full",onClick:()=>e(i,o,s),children:S.jsx(On,{title:i.title,thumbnail:i.thumbnail})})},i.title))})}function gae({selectedBook:t,readers:e,counts:n,reason:r,recommendedUser:i,yearMonthId:o}){const s=Q.useRef(),{uid:a,displayName:l}=Ve(Ot),[h,c]=Q.useState(null),{anonymous:f}=ei("register");Q.useEffect(()=>{lr(al,`${Ct}-${a}`,c)},[a]);const{hideModal:p}=Yt(),{sendPushNotificationToAllUser:m}=Ji(),g=async E=>{E.preventDefault();try{if(s.current.value==="")return window.alert("  .");const x=h==null?void 0:h.creatorId,k=h[y],O=an(Jt,al,`${Ct}-${a}`),N={text:s.current.value,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:a},C={[y]:{yearMonthId:"",book:{title:y,thumbnail:w,authors:b,publisher:_},counts:1,impressionList:[{id:1,...N}]}};x?await hn(O,k?{[y]:{...k,counts:k.counts+1,impressionList:[...k.impressionList,{id:k.impressionList.length+1,...N}]}}:C):await Oo(O,{creatorId:a,...C}),alert("  .  !"),m({title:`${l}  !`,body:`${l} ${y}  .    !`,subPath:"/challenge"})}catch{window.alert("    .  .")}finally{p()}},{title:y,thumbnail:w,authors:b,publisher:_}=t;return S.jsx(Di,{title:" ",children:S.jsxs("div",{className:"overflow-scroll scrollbar-hide",children:[S.jsxs("div",{className:"mb-4",children:[S.jsx(On,{title:y,thumbnail:w,className:"float-left mb-3 mr-3 w-16"}),S.jsxs("div",{children:[o&&S.jsx(ar,{color:"purple",shape:"rounded",className:"!py-2",text:`${ht(o,"yyyy M")} `}),S.jsx("h2",{className:"mb-0.5 mt-1.5 w-full font-medium",children:y}),S.jsx(Ao,{authors:b,publisher:_}),i&&S.jsxs("div",{className:"mt-2 flex items-center",children:[S.jsx(ti,{userId:i,isLink:!1}),S.jsx("span",{className:"text-[15px]",children:" "})]}),r&&S.jsx("p",{className:"mt-2 border-l-4 border-gray3 pl-2 text-[15px]",children:r})]})]}),S.jsxs("div",{className:"mt-4 flex w-full flex-wrap gap-2",children:[S.jsx(ar,{text:` ${e}  `,color:"lightBlue",className:"!py-1.5"}),S.jsx(ar,{text:`  ${n} `,color:"yellow",className:"!py-1.5"})]}),S.jsxs("form",{onSubmit:g,className:"mt-5 flex flex-col gap-3",children:[S.jsx("textarea",{ref:s,placeholder:"    .",className:"min-h-32 resize-none rounded-xl border p-3 outline-none"}),S.jsx(ft,{name:"",color:"blue",type:"submit",className:"self-end",disabled:f}),f&&S.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})]})})}function vae({userRank:t}){const{creatorId:e,rank:n,rereadingBookList:r,totalRereadingCounts:i}=t;return S.jsxs("li",{className:`flex gap-x-4 rounded-xl bg-white p-4 shadow-card ${r.length!==0?"col-span-2":""}`,children:[S.jsxs("div",{className:`${r.length!==0?"w-[50%] min-w-32":"w-full"}`,children:[S.jsxs("div",{className:"mb-2 flex h-8 items-center justify-between",children:[i!==0&&S.jsxs("span",{className:"mr-1 text-3xl font-bold",children:[n===1&&"",n,S.jsx("span",{className:"pb-2 text-lg font-bold text-gray1",children:""})]}),S.jsx(ti,{userId:e,className:"text-lg"})]}),[{key:"  ",value:`${i}`},{key:" ",value:`${r.length}`}].map(({key:o,value:s})=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{children:o}),S.jsx("span",{children:s})]},o))]}),r.length!==0&&S.jsx("div",{className:"flex flex-1 gap-x-2 overflow-scroll px-2 py-1 scrollbar-hide",children:r.map(o=>S.jsx(On,{thumbnail:o.thumbnail,title:o.title,className:"w-14"},o.title))})]})}function jE({hyphenDate:t,isDateMark:e=!0,className:n}){return S.jsxs("div",{className:`flex items-center gap-x-1 ${n}`,children:[S.jsx("span",{className:"text-[15px] text-gray1",children:"D-DAY"}),S.jsxs("span",{className:"text-red-500",children:[": ",_m(t)]}),e&&S.jsx("span",{className:"ml-2 text-sm text-gray1",children:ht(t,"yyyy M d")})]})}function h5({selectedYear:t,handleChangeYear:e,buttonClassName:n=""}){return S.jsx("ul",{className:"flex flex-wrap gap-2",children:Ane.map(r=>S.jsx("li",{children:S.jsx(ft,{color:r===t?"blue":"gray",name:`${r}`,type:"button",handleClick:()=>e(r),className:n})},r))})}function FE(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=yo(t.el,`.${r[i]}`)[0];o||(o=Yd("div",r[i]),o.className=r[i],t.el.append(o)),n[i]=o,e[i]=o}}),n}function yae(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function s(g,y){const w=e.params.navigation;g=Bn(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){s(y,!1),s(g,!1);return}s(y,e.isBeginning&&!e.params.rewind),s(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const g=e.params.navigation;if(e.params.navigation=FE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=o(g.nextEl),w=o(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=Bn(y),w=Bn(w);const b=(_,E)=>{_&&_.addEventListener("click",E==="next"?h:l),!e.enabled&&_&&_.classList.add(...g.lockClass.split(" "))};y.forEach(_=>b(_,"next")),w.forEach(_=>b(_,"prev"))}function f(){let{nextEl:g,prevEl:y}=e.navigation;g=Bn(g),y=Bn(y);const w=(b,_)=>{b.removeEventListener("click",_==="next"?h:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>w(b,"next")),y.forEach(b=>w(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(c(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=Bn(g),y=Bn(y),e.enabled){a();return}[...g,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:w,prevEl:b}=e.navigation;w=Bn(w),b=Bn(b);const _=y.target;let E=b.includes(_)||w.includes(_);if(e.isElement&&!E){const x=y.path||y.composedPath&&y.composedPath();x&&(E=x.find(k=>w.includes(k)||b.includes(k)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let x;w.length?x=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(x=b[0].classList.contains(e.params.navigation.hiddenClass)),i(x===!0?"navigationShow":"navigationHide"),[...w,...b].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:c,destroy:f})}function tu(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function wae(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let s,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(_,E){const{bulletActiveClass:x}=e.params.pagination;_&&(_=_[`${E==="prev"?"previous":"next"}ElementSibling`],_&&(_.classList.add(`${x}-${E}`),_=_[`${E==="prev"?"previous":"next"}ElementSibling`],_&&_.classList.add(`${x}-${E}-${E}`)))}function c(_,E,x){if(_=_%x,E=E%x,E===_+1)return"next";if(E===_-1)return"previous"}function f(_){const E=_.target.closest(tu(e.params.pagination.bulletClass));if(!E)return;_.preventDefault();const x=Mm(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const k=c(e.realIndex,x,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function p(){const _=e.rtl,E=e.params.pagination;if(l())return;let x=e.pagination.el;x=Bn(x);let k,O;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(O=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,O=e.previousSnapIndex):(O=e.previousIndex||0,k=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const D=e.pagination.bullets;let P,A,I;if(E.dynamicBullets&&(s=X_(D[0],e.isHorizontal()?"width":"height"),x.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${s*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&O!==void 0&&(a+=k-(O||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(k-a,0),A=P+(Math.min(D.length,E.dynamicMainBullets)-1),I=(A+P)/2),D.forEach(L=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${E.bulletActiveClass}${q}`)].map(q=>typeof q=="string"&&q.includes(" ")?q.split(" "):q).flat();L.classList.remove(...F)}),x.length>1)D.forEach(L=>{const F=Mm(L);F===k?L.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),E.dynamicBullets&&(F>=P&&F<=A&&L.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),F===P&&h(L,"prev"),F===A&&h(L,"next"))});else{const L=D[k];if(L&&L.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&D.forEach((F,q)=>{F.setAttribute("part",q===k?"bullet-active":"bullet")}),E.dynamicBullets){const F=D[P],q=D[A];for(let M=P;M<=A;M+=1)D[M]&&D[M].classList.add(...`${E.bulletActiveClass}-main`.split(" "));h(F,"prev"),h(q,"next")}}if(E.dynamicBullets){const L=Math.min(D.length,E.dynamicMainBullets+4),F=(s*L-s)/2-I*s,q=_?"right":"left";D.forEach(M=>{M.style[e.isHorizontal()?q:"top"]=`${F}px`})}}x.forEach((D,P)=>{if(E.type==="fraction"&&(D.querySelectorAll(tu(E.currentClass)).forEach(A=>{A.textContent=E.formatFractionCurrent(k+1)}),D.querySelectorAll(tu(E.totalClass)).forEach(A=>{A.textContent=E.formatFractionTotal(C)})),E.type==="progressbar"){let A;E.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const I=(k+1)/C;let L=1,F=1;A==="horizontal"?L=I:F=I,D.querySelectorAll(tu(E.progressbarFillClass)).forEach(q=>{q.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${F})`,q.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(D.innerHTML=E.renderCustom(e,k+1,C),P===0&&i("paginationRender",D)):(P===0&&i("paginationRender",D),i("paginationUpdate",D)),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](E.lockClass)})}function m(){const _=e.params.pagination;if(l())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=Bn(x);let k="";if(_.type==="bullets"){let O=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&O>E&&(O=E);for(let N=0;N<O;N+=1)_.renderBullet?k+=_.renderBullet.call(e,N,_.bulletClass):k+=`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}_.type==="fraction"&&(_.renderFraction?k=_.renderFraction.call(e,_.currentClass,_.totalClass):k=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),_.type==="progressbar"&&(_.renderProgressbar?k=_.renderProgressbar.call(e,_.progressbarFillClass):k=`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(O=>{_.type!=="custom"&&(O.innerHTML=k||""),_.type==="bullets"&&e.pagination.bullets.push(...O.querySelectorAll(tu(_.bulletClass)))}),_.type!=="custom"&&i("paginationRender",x[0])}function g(){e.params.pagination=FE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let E;typeof _.el=="string"&&e.isElement&&(E=e.el.querySelector(_.el)),!E&&typeof _.el=="string"&&(E=[...document.querySelectorAll(_.el)]),E||(E=_.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof _.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(_.el)],E.length>1&&(E=E.find(x=>e5(x,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Bn(E),E.forEach(x=>{_.type==="bullets"&&_.clickable&&x.classList.add(...(_.clickableClass||"").split(" ")),x.classList.add(_.modifierClass+_.type),x.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(x.classList.add(`${_.modifierClass}${_.type}-dynamic`),a=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&x.classList.add(_.progressbarOppositeClass),_.clickable&&x.addEventListener("click",f),e.enabled||x.classList.add(_.lockClass)}))}function y(){const _=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=Bn(E),E.forEach(x=>{x.classList.remove(_.hiddenClass),x.classList.remove(_.modifierClass+_.type),x.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&(x.classList.remove(...(_.clickableClass||"").split(" ")),x.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(..._.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:E}=e.pagination;E=Bn(E),E.forEach(x=>{x.classList.remove(_.horizontalClass,_.verticalClass),x.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:_}=e.pagination;_&&(_=Bn(_),_.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(_,E)=>{const x=E.target,k=Bn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const O=k[0].classList.contains(e.params.pagination.hiddenClass);i(O===!0?"paginationShow":"paginationHide"),k.forEach(N=>N.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=Bn(_),_.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),g(),m(),p()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=Bn(_),_.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:b,render:m,update:p,init:g,destroy:y})}function bae(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o=ki();let s=!1,a=null,l=null,h,c,f,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:I,rtlTranslate:L}=e,{dragEl:F,el:q}=I,M=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress;let Y=c,H=(f-c)*B;L?(H=-H,H>0?(Y=c-H,H=0):-H+c>f&&(Y=f+H)):H<0?(Y=c+H,H=0):H+c>f&&(Y=f-H),e.isHorizontal()?(F.style.transform=`translate3d(${H}px, 0, 0)`,F.style.width=`${Y}px`):(F.style.transform=`translate3d(0px, ${H}px, 0)`,F.style.height=`${Y}px`),M.hide&&(clearTimeout(a),q.style.opacity=1,a=setTimeout(()=>{q.style.opacity=0,q.style.transitionDuration="400ms"},1e3))}function g(I){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${I}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:I}=e,{dragEl:L,el:F}=I;L.style.width="",L.style.height="",f=e.isHorizontal()?F.offsetWidth:F.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=f*p:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?L.style.width=`${c}px`:L.style.height=`${c}px`,p>=1?F.style.display="none":F.style.display="",e.params.scrollbar.hide&&(F.style.opacity=0),e.params.watchOverflow&&e.enabled&&I.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(I){return e.isHorizontal()?I.clientX:I.clientY}function b(I){const{scrollbar:L,rtlTranslate:F}=e,{el:q}=L;let M;M=(w(I)-Hoe(q)[e.isHorizontal()?"left":"top"]-(h!==null?h:c/2))/(f-c),M=Math.max(Math.min(M,1),0),F&&(M=1-M);const B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*M;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function _(I){const L=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:M,dragEl:B}=F;s=!0,h=I.target===B?w(I)-I.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,I.preventDefault(),I.stopPropagation(),q.style.transitionDuration="100ms",B.style.transitionDuration="100ms",b(I),clearTimeout(l),M.style.transitionDuration="0ms",L.hide&&(M.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",I)}function E(I){const{scrollbar:L,wrapperEl:F}=e,{el:q,dragEl:M}=L;s&&(I.preventDefault&&I.cancelable?I.preventDefault():I.returnValue=!1,b(I),F.style.transitionDuration="0ms",q.style.transitionDuration="0ms",M.style.transitionDuration="0ms",i("scrollbarDragMove",I))}function x(I){const L=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:M}=F;s&&(s=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",q.style.transitionDuration=""),L.hide&&(clearTimeout(l),l=Im(()=>{M.style.opacity=0,M.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",I),L.snapOnRelease&&e.slideToClosest())}function k(I){const{scrollbar:L,params:F}=e,q=L.el;if(!q)return;const M=q,B=F.passiveListeners?{passive:!1,capture:!1}:!1,Y=F.passiveListeners?{passive:!0,capture:!1}:!1;if(!M)return;const H=I==="on"?"addEventListener":"removeEventListener";M[H]("pointerdown",_,B),o[H]("pointermove",E,B),o[H]("pointerup",x,Y)}function O(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function N(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function C(){const{scrollbar:I,el:L}=e;e.params.scrollbar=FE(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const F=e.params.scrollbar;if(!F.el)return;let q;if(typeof F.el=="string"&&e.isElement&&(q=e.el.querySelector(F.el)),!q&&typeof F.el=="string"){if(q=o.querySelectorAll(F.el),!q.length)return}else q||(q=F.el);e.params.uniqueNavElements&&typeof F.el=="string"&&q.length>1&&L.querySelectorAll(F.el).length===1&&(q=L.querySelector(F.el)),q.length>0&&(q=q[0]),q.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass);let M;q&&(M=q.querySelector(tu(e.params.scrollbar.dragClass)),M||(M=Yd("div",e.params.scrollbar.dragClass),q.append(M))),Object.assign(I,{el:q,dragEl:M}),F.draggable&&O(),q&&q.classList[e.enabled?"remove":"add"](...Rs(e.params.scrollbar.lockClass))}function D(){const I=e.params.scrollbar,L=e.scrollbar.el;L&&L.classList.remove(...Rs(e.isHorizontal()?I.horizontalClass:I.verticalClass)),N()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const I=e.params.scrollbar;let{el:L}=e.scrollbar;L=Bn(L),L.forEach(F=>{F.classList.remove(I.horizontalClass,I.verticalClass),F.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?A():(C(),y(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{y()}),r("setTranslate",()=>{m()}),r("setTransition",(I,L)=>{g(L)}),r("enable disable",()=>{const{el:I}=e.scrollbar;I&&I.classList[e.enabled?"remove":"add"](...Rs(e.params.scrollbar.lockClass))}),r("destroy",()=>{D()});const P=()=>{e.el.classList.remove(...Rs(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Rs(e.params.scrollbar.scrollbarDisabledClass)),C(),y(),m()},A=()=>{e.el.classList.add(...Rs(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Rs(e.params.scrollbar.scrollbarDisabledClass)),D()};Object.assign(e.scrollbar,{enable:P,disable:A,updateSize:y,setTranslate:m,init:C,destroy:D})}function _ae(t){let{swiper:e,extendParams:n,on:r,emit:i,params:o}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,l=o&&o.autoplay?o.autoplay.delay:3e3,h=o&&o.autoplay?o.autoplay.delay:3e3,c,f=new Date().getTime(),p,m,g,y,w,b,_;function E(Y){!e||e.destroyed||!e.wrapperEl||Y.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(_||Y.detail&&Y.detail.bySwiperTouchMove)&&P())}const x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(h=c,p=!1);const Y=e.autoplay.paused?c:f+h-new Date().getTime();e.autoplay.timeLeft=Y,i("autoplayTimeLeft",Y,Y/l),a=requestAnimationFrame(()=>{x()})},k=()=>{let Y;return e.virtual&&e.params.virtual.enabled?Y=e.slides.find(j=>j.classList.contains("swiper-slide-active")):Y=e.slides[e.activeIndex],Y?parseInt(Y.getAttribute("data-swiper-autoplay"),10):void 0},O=Y=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),x();let H=typeof Y>"u"?e.params.autoplay.delay:Y;l=e.params.autoplay.delay,h=e.params.autoplay.delay;const j=k();!Number.isNaN(j)&&j>0&&typeof Y>"u"&&(H=j,l=j,h=j),c=H;const U=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,U,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,U,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{O()})))};return H>0?(clearTimeout(s),s=setTimeout(()=>{V()},H)):requestAnimationFrame(()=>{V()}),H},N=()=>{f=new Date().getTime(),e.autoplay.running=!0,O(),i("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),i("autoplayStop")},D=(Y,H)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),Y||(b=!0);const j=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):P()};if(e.autoplay.paused=!0,H){w&&(c=e.params.autoplay.delay),w=!1,j();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),j())},P=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,O(c)):O(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const Y=ki();Y.visibilityState==="hidden"&&(b=!0,D(!0)),Y.visibilityState==="visible"&&P()},I=Y=>{Y.pointerType==="mouse"&&(b=!0,_=!0,!(e.animating||e.autoplay.paused)&&D(!0))},L=Y=>{Y.pointerType==="mouse"&&(_=!1,e.autoplay.paused&&P())},F=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",L))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",L))},M=()=>{ki().addEventListener("visibilitychange",A)},B=()=>{ki().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(F(),M(),N())}),r("destroy",()=>{q(),B(),e.autoplay.running&&C()}),r("_freeModeStaticRelease",()=>{(g||b)&&P()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():D(!0,!0)}),r("beforeTransitionStart",(Y,H,j)=>{e.destroyed||!e.autoplay.running||(j||!e.params.autoplay.disableOnInteraction?D(!0,!0):C())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}m=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,D(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(s),e.params.autoplay.disableOnInteraction){g=!1,m=!1;return}g&&e.params.cssMode&&P(),g=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:N,stop:C,pause:D,resume:P})}function Nf({children:t,options:e}){const n={modules:[_ae,wae,yae,bae],spaceBetween:15,slidesPerView:"auto",speed:800,autoplay:{disableOnInteraction:!0},navigation:!0,pagination:{type:"bullets"},scrollbar:{draggable:!0},...e};return S.jsx(f5,{className:"sample-slider h-full",...n,children:t})}const xae={breakpoints:{1024:{slidesPerView:8},800:{slidesPerView:2},320:{slidesPerView:2}},pagination:!0,navigation:!1,scrollbar:!1,spaceBetween:4};function Sae(){const t=Ve(ma),[e,n]=Wt(Wre),[r,i]=Q.useState(!1),{showModal:o}=Yt(),{selectedYear:s,setSelectedYear:a,clubBookListByYear:l}=bE(),h=Q.useMemo(()=>{if(!e)return null;const g=e.map(y=>{const{creatorId:w,id:b,..._}=y;return Object.entries(_).map(([E,{book:x,counts:k,impressionList:O}])=>({...x,counts:k,id:b,impressionList:O.map(N=>({...N,creatorId:w}))}))}).flat();return Object.values(g.reduce((y,w)=>{const{title:b,counts:_}=w;return y[b]?(y[b].counts+=_,y[b].readers+=1):y[b]={...w,readers:1},y},{})).sort((y,w)=>{const b=w.readers-y.readers;return b!==0?b:w.counts-y.counts})},[e]),c=Q.useMemo(()=>{const y=t.map(({id:E})=>(e==null?void 0:e.find(({creatorId:k})=>k===E))||{id:E,creatorId:E}).map(E=>{const x=Object.entries(E).filter(([O])=>O!=="id"&&O!=="creatorId").map(([O,N])=>({...N.book,counts:N.counts})),k=x.reduce((O,N)=>O+N.counts,0);return{creatorId:E.creatorId,totalScore:k,rereadingBookList:x}}).sort((E,x)=>x.totalScore-E.totalScore);let w=0,b=-1,_=0;return y.map((E,x)=>{const{rereadingBookList:k,creatorId:O,totalScore:N}=E;b===N?_++:(w=x+1+_,_=0),b=N;const C=k.reduce((D,{counts:P})=>D+P,0);return{creatorId:O,rank:w,rereadingBookList:k,totalRereadingCounts:C}})},[e]);Q.useEffect(()=>{e||Yn(al,n)},[]);const p=(s===Ct?MN.filter(g=>+g<=+Qr):MN).map(g=>Rr(`${s}-${g}`,a3)),m=(g,y,w)=>{const b=h.find(({title:_})=>_===g.title);o({element:S.jsx(gae,{selectedBook:b||g,readers:(b==null?void 0:b.readers)||0,counts:(b==null?void 0:b.counts)||0,reason:y,recommendedUser:w,yearMonthId:g.yearMonthId})})};return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${Ct}  `,backBtn:!0}),S.jsxs("main",{children:[S.jsxs("header",{className:"mb-10 mt-2 flex gap-x-3",children:[S.jsxs("div",{className:"rounded-xl bg-white p-4 shadow-card",children:[S.jsxs("h4",{className:"mb-3.5 flex items-center gap-2",children:["2025 "," ",S.jsx("div",{className:"flex-1 border-t-2 border-dotted border-gray3"})]}),S.jsx("span",{className:"font-bold",children:"   !"})]}),S.jsx(jE,{hyphenDate:`${Ct}-12-21`,className:"flex w-44 flex-col items-center justify-center rounded-xl bg-indigo-200 p-2 text-xl font-bold text-indigo-700 shadow-card"})]}),S.jsxs(Mt,{title:" ",children:[S.jsx("p",{className:"mb-4 text-sm text-gray1",children:"        !      ?!"}),S.jsx(h5,{selectedYear:s,handleChangeYear:a,buttonClassName:"shadow-none"}),S.jsxs("ul",{className:"mt-5 grid grid-cols-10 gap-4 max-md:grid-cols-7 max-sm:grid-cols-4 max-sm:gap-4",children:[l.map(g=>S.jsx("li",{children:S.jsx("button",{type:"button",className:"w-full",onClick:()=>m(g),children:S.jsx(On,{title:g.title,thumbnail:g.thumbnail})})},g.datetime)),p.map(g=>S.jsx(mae,{coll:g,onChallengeBookClick:m},g))]})]}),h&&(h==null?void 0:h.length)>0&&S.jsxs(Mt,{className:"!mb-10 !mt-16",title:"      ?",children:[S.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/rank_stage.png",alt:""}),S.jsx(Nf,{options:xae,children:h.map((g,y)=>S.jsx(nc,{children:S.jsx(pae,{bookWithRank:g,rank:y+1})},g.title))})]}),S.jsx(Mt,{className:"!mt-10",title:"   ",children:(c==null?void 0:c.length)!==0&&S.jsxs(S.Fragment,{children:[S.jsx("ul",{className:"grid grid-cols-4 gap-5 max-sm:grid-cols-2",children:c==null?void 0:c.slice(0,r?void 0:4).map(g=>S.jsx(vae,{userRank:g},g.creatorId))}),S.jsx("button",{type:"button",className:"mt-7 flex items-center self-center rounded-full bg-gray4 px-6 py-2 text-sm text-blue3",onClick:()=>i(g=>!g),children:r?"":""})]})})]})]})}function aI({title:t,memberList:e}){return S.jsxs("div",{className:"rounded-card bg-white shadow-card",children:[S.jsxs("h3",{className:`rounded-t-card border-b-2 border-dotted px-4 pb-3 pt-4 text-[15px] font-medium ${t.includes("")?"border-green3 text-green1":"border-red-100 text-pointCoral"}`,children:[t.includes("")?"":""," ",t]}),e.length!==0?S.jsx("ul",{className:"mt-4 flex flex-wrap items-center gap-x-4 gap-y-3 px-4 pb-4",children:e.map(n=>S.jsx("li",{children:S.jsx(ti,{userId:n,isLink:!0})},n))}):S.jsx("span",{className:"mt-4 block px-4 pb-4 text-gray2",children:"  !"})]})}function p5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function or(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p5(t))&&(r&&(r+=" "),r+=e);return r}function Re(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function zi(t,e){const n=Re(t);return isNaN(e)?Bt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Qi(t,e){const n=Re(t);if(isNaN(e))return Bt(t,NaN);if(!e)return n;const r=n.getDate(),i=Bt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function $E(t,e){const n=+Re(t);return Bt(t,n+e)}const m5=6048e5,Eae=864e5,wv=6e4,bv=36e5,kae=1e3;function Tae(t,e){return $E(t,e*bv)}let Cae={};function kl(){return Cae}function ss(t,e){var a,l,h,c;const n=kl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Re(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Mu(t){return ss(t,{weekStartsOn:1})}function g5(t){const e=Re(t),n=e.getFullYear(),r=Bt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Mu(r),o=Bt(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Mu(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function ul(t){const e=Re(t);return e.setHours(0,0,0,0),e}function jm(t){const e=Re(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Lu(t,e){const n=ul(t),r=ul(e),i=+n-jm(n),o=+r-jm(r);return Math.round((i-o)/Eae)}function Oae(t){const e=g5(t),n=Bt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Mu(n)}function ex(t,e){return $E(t,e*wv)}function BE(t,e){const n=e*3;return Qi(t,n)}function Nae(t,e){return $E(t,e*1e3)}function Fm(t,e){const n=e*7;return zi(t,n)}function Ko(t,e){return Qi(t,e*12)}function lI(t){let e;return t.forEach(function(n){const r=Re(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function uI(t){let e;return t.forEach(n=>{const r=Re(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Aae(t,e){const n=ul(t),r=ul(e);return+n==+r}function Qo(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $m(t){if(!Qo(t)&&typeof t!="number")return!1;const e=Re(t);return!isNaN(Number(e))}function Bm(t,e){const n=Re(t),r=Re(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function za(t){const e=Re(t);return Math.trunc(e.getMonth()/3)+1}function Um(t,e){const n=Re(t),r=Re(e),i=n.getFullYear()-r.getFullYear(),o=za(n)-za(r);return i*4+o}function Vm(t,e){const n=Re(t),r=Re(e);return n.getFullYear()-r.getFullYear()}function Dae(t,e){const n=Re(t),r=Re(e),i=cI(n,r),o=Math.abs(Lu(n,r));n.setDate(n.getDate()-i*o);const s=+(cI(n,r)===-i),a=i*(o-s);return a===0?0:a}function cI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function v5(t){const e=Re(t);return e.setHours(23,59,59,999),e}function y5(t){const e=Re(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function tx(t){const e=Re(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function w5(t){const e=Re(t);return e.setDate(1),e.setHours(0,0,0,0),e}function b5(t){const e=Re(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function _v(t){const e=Re(t),n=Bt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Iae(t,e){var a,l;const n=kl(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=Re(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const Pae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rae=(t,e,n)=>{let r;const i=Pae[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ab(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Mae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fae={date:Ab({formats:Mae,defaultWidth:"full"}),time:Ab({formats:Lae,defaultWidth:"full"}),dateTime:Ab({formats:jae,defaultWidth:"full"})},$ae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bae=(t,e,n,r)=>$ae[t];function Yc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Uae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yae=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Gae={ordinalNumber:Yae,era:Yc({values:Uae,defaultWidth:"wide"}),quarter:Yc({values:Vae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yc({values:qae,defaultWidth:"wide"}),day:Yc({values:Hae,defaultWidth:"wide"}),dayPeriod:Yc({values:zae,defaultWidth:"wide",formattingValues:Wae,defaultFormattingWidth:"wide"})};function Gc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Qae(a,f=>f.test(s)):Kae(a,f=>f.test(s));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(s.length);return{value:h,rest:c}}}function Kae(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Qae(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Xae(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const Jae=/^(\d+)(th|st|nd|rd)?/i,Zae=/\d+/i,ele={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tle={any:[/^b/i,/^(a|c)/i]},nle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rle={any:[/1/i,/2/i,/3/i,/4/i]},ile={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ole={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ale={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ule={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cle={ordinalNumber:Xae({matchPattern:Jae,parsePattern:Zae,valueCallback:t=>parseInt(t,10)}),era:Gc({matchPatterns:ele,defaultMatchWidth:"wide",parsePatterns:tle,defaultParseWidth:"any"}),quarter:Gc({matchPatterns:nle,defaultMatchWidth:"wide",parsePatterns:rle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gc({matchPatterns:ile,defaultMatchWidth:"wide",parsePatterns:ole,defaultParseWidth:"any"}),day:Gc({matchPatterns:sle,defaultMatchWidth:"wide",parsePatterns:ale,defaultParseWidth:"any"}),dayPeriod:Gc({matchPatterns:lle,defaultMatchWidth:"any",parsePatterns:ule,defaultParseWidth:"any"})},_5={code:"en-US",formatDistance:Rae,formatLong:Fae,formatRelative:Bae,localize:Gae,match:cle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dle(t){const e=Re(t);return Lu(e,_v(e))+1}function UE(t){const e=Re(t),n=+Mu(e)-+Oae(e);return Math.round(n/m5)+1}function VE(t,e){var c,f,p,m;const n=Re(t),r=n.getFullYear(),i=kl(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=Bt(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=ss(s,e),l=Bt(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const h=ss(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function fle(t,e){var a,l,h,c;const n=kl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=VE(t,e),o=Bt(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),ss(o,e)}function x5(t,e){const n=Re(t),r=+ss(n,e)-+fle(n,e);return Math.round(r/m5)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ps={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ps.y(t,e)},Y:function(t,e,n,r){const i=VE(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return $t(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):$t(o,e.length)},R:function(t,e){const n=g5(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ps.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=x5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=UE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ps.d(t,e)},D:function(t,e,n){const r=dle(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return $t(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return $t(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xl.noon:r===0?i=Xl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xl.evening:r>=12?i=Xl.afternoon:r>=4?i=Xl.morning:i=Xl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ps.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ps.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ps.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ps.s(t,e)},S:function(t,e){return Ps.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hI(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return hI(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fI(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fI(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $t(r,e.length)},T:function(t,e,n){const r=t.getTime();return $t(r,e.length)}};function fI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+$t(o,2)}function hI(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),o=$t(r%60,2);return n+i+e+o}const pI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},S5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hle=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return pI(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",pI(r,e)).replace("{{time}}",S5(i,e))},qm={p:S5,P:hle},ple=/^D+$/,mle=/^Y+$/,gle=["D","DD","YY","YYYY"];function E5(t){return ple.test(t)}function k5(t){return mle.test(t)}function nx(t,e,n){const r=vle(t,e,n);if(console.warn(r),gle.includes(t))throw new RangeError(r)}function vle(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ble=/^'([^]*?)'?$/,_le=/''/g,xle=/[a-zA-Z]/;function mI(t,e,n){var c,f,p,m,g,y,w,b;const r=kl(),i=(n==null?void 0:n.locale)??r.locale??_5,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Re(t);if(!$m(a))throw new RangeError("Invalid time value");let l=e.match(wle).map(_=>{const E=_[0];if(E==="p"||E==="P"){const x=qm[E];return x(_,i.formatLong)}return _}).join("").match(yle).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:Sle(_)};if(dI[E])return{isToken:!0,value:_};if(E.match(xle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&k5(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&E5(E))&&nx(E,e,String(t));const x=dI[E[0]];return x(a,E,i.localize,h)}).join("")}function Sle(t){const e=t.match(ble);return e?e[1].replace(_le,"'"):t}function gI(t){return Re(t).getDate()}function Ele(t){return Re(t).getDay()}function kle(t){const e=Re(t),n=e.getFullYear(),r=e.getMonth(),i=Bt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Tle(){return Object.assign({},kl())}function So(t){return Re(t).getHours()}function Cle(t){let n=Re(t).getDay();return n===0&&(n=7),n}function Eo(t){return Re(t).getMinutes()}function Mr(t){return Re(t).getMonth()}function Xo(t){return Re(t).getSeconds()}function rx(t){return Re(t).getTime()}function vt(t){return Re(t).getFullYear()}function na(t,e){const n=Re(t),r=Re(e);return n.getTime()>r.getTime()}function cl(t,e){const n=Re(t),r=Re(e);return+n<+r}function Ole(t,e){const n=Re(t),r=Re(e);return+n==+r}function Nle(t,e){const n=e instanceof Date?Bt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const Ale=10;class T5{constructor(){Me(this,"subPriority",0)}validate(e,n){return!0}}class Dle extends T5{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Ile extends T5{constructor(){super(...arguments);Me(this,"priority",Ale);Me(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Bt(n,Nle(n,Date))}}class Pt{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new Dle(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class Ple extends Pt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const kn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ho={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function pn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function po(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*bv+o*wv+s*kae),rest:e.slice(n[0].length)}}function C5(t){return pn(kn.anyDigitsSigned,t)}function _n(t,e){switch(t){case 1:return pn(kn.singleDigit,e);case 2:return pn(kn.twoDigits,e);case 3:return pn(kn.threeDigits,e);case 4:return pn(kn.fourDigits,e);default:return pn(new RegExp("^\\d{1,"+t+"}"),e)}}function Hm(t,e){switch(t){case 1:return pn(kn.singleDigitSigned,e);case 2:return pn(kn.twoDigitsSigned,e);case 3:return pn(kn.threeDigitsSigned,e);case 4:return pn(kn.fourDigitsSigned,e);default:return pn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function qE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function O5(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function N5(t){return t%400===0||t%4===0&&t%100!==0}class Rle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return Tn(_n(4,n),o);case"yo":return Tn(i.ordinalNumber(n,{unit:"year"}),o);default:return Tn(_n(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=O5(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class Mle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Tn(_n(4,n),o);case"Yo":return Tn(i.ordinalNumber(n,{unit:"year"}),o);default:return Tn(_n(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=VE(n,o);if(i.isTwoDigitYear){const l=O5(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),ss(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),ss(n,o)}}class Lle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Hm(r==="R"?4:r.length,n)}set(n,r,i){const o=Bt(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Mu(o)}}class jle extends Pt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Hm(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Fle extends Pt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return _n(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class $le extends Pt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return _n(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Ble extends Pt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return Tn(pn(kn.month,n),o);case"MM":return Tn(_n(2,n),o);case"Mo":return Tn(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class Ule extends Pt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return Tn(pn(kn.month,n),o);case"LL":return Tn(_n(2,n),o);case"Lo":return Tn(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Vle(t,e,n){const r=Re(t),i=x5(r,n)-e;return r.setDate(r.getDate()-i*7),r}class qle extends Pt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return pn(kn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return ss(Vle(n,i,o),o)}}function Hle(t,e){const n=Re(t),r=UE(n)-e;return n.setDate(n.getDate()-r*7),n}class zle extends Pt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return pn(kn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Mu(Hle(n,i))}}const Wle=[31,28,31,30,31,30,31,31,30,31,30,31],Yle=[31,29,31,30,31,30,31,31,30,31,30,31];class Gle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return pn(kn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return _n(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=N5(i),s=n.getMonth();return o?r>=1&&r<=Yle[s]:r>=1&&r<=Wle[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Kle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return pn(kn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return _n(r.length,n)}}validate(n,r){const i=n.getFullYear();return N5(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function HE(t,e,n){var f,p,m,g;const r=kl(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,o=Re(t),s=o.getDay(),l=(e%7+7)%7,h=7-i,c=e<0||e>6?e-(s+h)%7:(l+h)%7-(s+h)%7;return zi(o,c)}class Qle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=HE(n,i,o),n.setHours(0,0,0,0),n}}class Xle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Tn(_n(r.length,n),s);case"eo":return Tn(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=HE(n,i,o),n.setHours(0,0,0,0),n}}class Jle extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Tn(_n(r.length,n),s);case"co":return Tn(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=HE(n,i,o),n.setHours(0,0,0,0),n}}function Zle(t,e){const n=Re(t),r=Cle(n),i=e-r;return zi(n,i)}class eue extends Pt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return _n(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Tn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Tn(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Tn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Tn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Zle(n,i),n.setHours(0,0,0,0),n}}class tue extends Pt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(qE(i),0,0,0),n}}class nue extends Pt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(qE(i),0,0,0),n}}class rue extends Pt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(qE(i),0,0,0),n}}class iue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return pn(kn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class oue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return pn(kn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class sue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return pn(kn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class aue extends Pt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return pn(kn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return _n(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class lue extends Pt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return pn(kn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class uue extends Pt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return pn(kn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return _n(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class cue extends Pt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Tn(_n(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class due extends Pt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return po(ho.basicOptionalMinutes,n);case"XX":return po(ho.basic,n);case"XXXX":return po(ho.basicOptionalSeconds,n);case"XXXXX":return po(ho.extendedOptionalSeconds,n);case"XXX":default:return po(ho.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Bt(n,n.getTime()-jm(n)-i)}}class fue extends Pt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return po(ho.basicOptionalMinutes,n);case"xx":return po(ho.basic,n);case"xxxx":return po(ho.basicOptionalSeconds,n);case"xxxxx":return po(ho.extendedOptionalSeconds,n);case"xxx":default:return po(ho.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Bt(n,n.getTime()-jm(n)-i)}}class hue extends Pt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(n){return C5(n)}set(n,r,i){return[Bt(n,i*1e3),{timestampIsSet:!0}]}}class pue extends Pt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(n){return C5(n)}set(n,r,i){return[Bt(n,i),{timestampIsSet:!0}]}}const mue={G:new Ple,y:new Rle,Y:new Mle,R:new Lle,u:new jle,Q:new Fle,q:new $le,M:new Ble,L:new Ule,w:new qle,I:new zle,d:new Gle,D:new Kle,E:new Qle,e:new Xle,c:new Jle,i:new eue,a:new tue,b:new nue,B:new rue,h:new iue,H:new oue,K:new sue,k:new aue,m:new lue,s:new uue,S:new cue,X:new due,x:new fue,t:new hue,T:new pue},gue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yue=/^'([^]*?)'?$/,wue=/''/g,bue=/\S/,_ue=/[a-zA-Z]/;function Db(t,e,n,r){var y,w,b,_,E,x,k,O;const i=Tle(),o=(r==null?void 0:r.locale)??i.locale??_5,s=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(b=i.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((x=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:x.weekStartsOn)??i.weekStartsOn??((O=(k=i.locale)==null?void 0:k.options)==null?void 0:O.weekStartsOn)??0;if(e==="")return t===""?Re(n):Bt(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},h=[new Ile],c=e.match(vue).map(N=>{const C=N[0];if(C in qm){const D=qm[C];return D(N,o.formatLong)}return N}).join("").match(gue),f=[];for(let N of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&k5(N)&&nx(N,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&E5(N)&&nx(N,e,t);const C=N[0],D=mue[C];if(D){const{incompatibleTokens:P}=D;if(Array.isArray(P)){const I=f.find(L=>P.includes(L.token)||L.token===C);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${N}\` at the same time`)}else if(D.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);f.push({token:C,fullToken:N});const A=D.run(t,N,o.match,l);if(!A)return Bt(n,NaN);h.push(A.setter),t=A.rest}else{if(C.match(_ue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(N==="''"?N="'":C==="'"&&(N=xue(N)),t.indexOf(N)===0)t=t.slice(N.length);else return Bt(n,NaN)}}if(t.length>0&&bue.test(t))return Bt(n,NaN);const p=h.map(N=>N.priority).sort((N,C)=>C-N).filter((N,C,D)=>D.indexOf(N)===C).map(N=>h.filter(C=>C.priority===N).sort((C,D)=>D.subPriority-C.subPriority)).map(N=>N[0]);let m=Re(n);if(isNaN(m.getTime()))return Bt(n,NaN);const g={};for(const N of p){if(!N.validate(m,l))return Bt(n,NaN);const C=N.set(m,g,l);Array.isArray(C)?(m=C[0],Object.assign(g,C[1])):m=C}return Bt(n,m)}function xue(t){return t.match(yue)[1].replace(wue,"'")}function Sue(t,e){const n=Re(t),r=Re(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Eue(t,e){const n=tx(t),r=tx(e);return+n==+r}function kue(t,e){const n=Re(t),r=Re(e);return n.getFullYear()===r.getFullYear()}function Gd(t,e){const n=+Re(t),[r,i]=[+Re(e.start),+Re(e.end)].sort((o,s)=>o-s);return n>=r&&n<=i}function Tue(t,e){return zi(t,-1)}function Cue(t,e){const r=Due(t);let i;if(r.date){const l=Iue(r.date,2);i=Pue(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=Rue(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=Mue(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),h=new Date(0);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return new Date(o+s+a)}const dp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Oue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Aue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Due(t){const e={},n=t.split(dp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],dp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(dp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=dp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Iue(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function Pue(t,e){if(e===null)return new Date(NaN);const n=t.match(Oue);if(!n)return new Date(NaN);const r=!!n[4],i=Kc(n[1]),o=Kc(n[2])-1,s=Kc(n[3]),a=Kc(n[4]),l=Kc(n[5])-1;if(r)return Bue(e,a,l)?Lue(e,a,l):new Date(NaN);{const h=new Date(0);return!Fue(e,o,s)||!$ue(e,i)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(i,s)),h)}}function Kc(t){return t?parseInt(t):1}function Rue(t){const e=t.match(Nue);if(!e)return NaN;const n=Ib(e[1]),r=Ib(e[2]),i=Ib(e[3]);return Uue(n,r,i)?n*bv+r*wv+i*1e3:NaN}function Ib(t){return t&&parseFloat(t.replace(",","."))||0}function Mue(t){if(t==="Z")return 0;const e=t.match(Aue);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Vue(r,i)?n*(r*bv+i*wv):NaN}function Lue(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const jue=[31,null,31,30,31,30,31,31,30,31,30,31];function A5(t){return t%400===0||t%4===0&&t%100!==0}function Fue(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jue[e]||(A5(t)?29:28))}function $ue(t,e){return e>=1&&e<=(A5(t)?366:365)}function Bue(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Uue(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Vue(t,e){return e>=0&&e<=59}function ai(t,e){const n=Re(t),r=n.getFullYear(),i=n.getDate(),o=Bt(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=kle(o);return n.setMonth(e,Math.min(i,s)),n}function que(t,e){let n=Re(t);return isNaN(+n)?Bt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ai(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Mp(t,e){const n=Re(t);return n.setHours(e),n}function Lp(t,e){const n=Re(t);return n.setMinutes(e),n}function nu(t,e){const n=Re(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return ai(n,n.getMonth()+i*3)}function jp(t,e){const n=Re(t);return n.setSeconds(e),n}function io(t,e){const n=Re(t);return isNaN(+n)?Bt(t,NaN):(n.setFullYear(e),n)}function Wa(t,e){return Qi(t,-e)}function D5(t,e){return BE(t,-1)}function vI(t,e){return Fm(t,-1)}function ju(t,e){return Ko(t,-e)}function xv(){return typeof window<"u"}function ra(t){return I5(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=(I5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function I5(t){return xv()?t instanceof Node||t instanceof ci(t).Node:!1}function Xr(t){return xv()?t instanceof Element||t instanceof ci(t).Element:!1}function No(t){return xv()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function yI(t){return!xv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function Af(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Hue(t){return["table","td","th"].includes(ra(t))}function zue(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function zE(t){const e=WE(),n=Xr(t)?pi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function P5(t){let e=Fu(t);for(;No(e)&&!Sv(e);){if(zE(e))return e;if(zue(e))return null;e=Fu(e)}return null}function WE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sv(t){return["html","body","#document"].includes(ra(t))}function pi(t){return ci(t).getComputedStyle(t)}function Ev(t){return Xr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fu(t){if(ra(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yI(t)&&t.host||us(t);return yI(e)?e.host:e}function R5(t){const e=Fu(t);return Sv(e)?t.ownerDocument?t.ownerDocument.body:t.body:No(e)&&Af(e)?e:R5(e)}function Kd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=R5(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=ci(i);if(o){const a=Wue(s);return e.concat(s,s.visualViewport||[],Af(i)?i:[],a&&n?Kd(a):[])}return e.concat(i,Kd(i,[],n))}function Wue(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const $u=Math.min,Ya=Math.max,zm=Math.round,fp=Math.floor,ia=t=>({x:t,y:t}),Yue={left:"right",right:"left",bottom:"top",top:"bottom"},Gue={start:"end",end:"start"};function Kue(t,e,n){return Ya(t,$u(e,n))}function kv(t,e){return typeof t=="function"?t(e):t}function Bu(t){return t.split("-")[0]}function Df(t){return t.split("-")[1]}function Que(t){return t==="x"?"y":"x"}function YE(t){return t==="y"?"height":"width"}function GE(t){return["top","bottom"].includes(Bu(t))?"y":"x"}function KE(t){return Que(GE(t))}function Xue(t,e,n){n===void 0&&(n=!1);const r=Df(t),i=KE(t),o=YE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Wm(s)),[s,Wm(s)]}function Jue(t){const e=Wm(t);return[ix(t),e,ix(e)]}function ix(t){return t.replace(/start|end/g,e=>Gue[e])}function Zue(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function ece(t,e,n,r){const i=Df(t);let o=Zue(Bu(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(ix)))),o}function Wm(t){return t.replace(/left|right|bottom|top/g,e=>Yue[e])}function tce(t){return{top:0,right:0,bottom:0,left:0,...t}}function M5(t){return typeof t!="number"?tce(t):{top:t,right:t,bottom:t,left:t}}function Ym(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function wI(t,e,n){let{reference:r,floating:i}=t;const o=GE(e),s=KE(e),a=YE(s),l=Bu(e),h=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-i.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Df(e)){case"start":m[s]-=p*(n&&h?-1:1);break;case"end":m[s]+=p*(n&&h?-1:1);break}return m}const nce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=wI(h,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x:_,y:E,data:x,reset:k}=await b({x:c,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:h,platform:s,elements:{reference:t,floating:e}});c=_??c,f=E??f,m={...m,[w]:{...m[w],...x}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(h=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:c,y:f}=wI(h,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:i,middlewareData:m}};async function rce(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=kv(e,t),g=M5(m),w=a[p?f==="floating"?"reference":"floating":f],b=Ym(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),_=f==="floating"?{...s.floating,x:r,y:i}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Ym(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:l}):_);return{top:(b.top-k.top+g.top)/x.y,bottom:(k.bottom-b.bottom+g.bottom)/x.y,left:(b.left-k.left+g.left)/x.x,right:(k.right-b.right+g.right)/x.x}}const ice=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:h,padding:c=0}=kv(t,e)||{};if(h==null)return{};const f=M5(c),p={x:n,y:r},m=KE(i),g=YE(m),y=await s.getDimensions(h),w=m==="y",b=w?"top":"left",_=w?"bottom":"right",E=w?"clientHeight":"clientWidth",x=o.reference[g]+o.reference[m]-p[m]-o.floating[g],k=p[m]-o.reference[m],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let N=O?O[E]:0;(!N||!await(s.isElement==null?void 0:s.isElement(O)))&&(N=a.floating[E]||o.floating[g]);const C=x/2-k/2,D=N/2-y[g]/2-1,P=$u(f[b],D),A=$u(f[_],D),I=P,L=N-y[g]-A,F=N/2-y[g]/2+C,q=Kue(I,F,L),M=!l.arrow&&Df(i)!=null&&F!==q&&o.reference[g]/2-(F<I?P:A)-y[g]/2<0,B=M?F<I?F-I:F-L:0;return{[m]:p[m]+B,data:{[m]:q,centerOffset:F-q-B,...M&&{alignmentOffset:B}},reset:M}}}),oce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=kv(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Bu(i),_=Bu(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(h.floating)),x=p||(_||!y?[Wm(a)]:Jue(a));!p&&g!=="none"&&x.push(...ece(a,y,g,E));const k=[a,...x],O=await rce(e,w),N=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&N.push(O[b]),f){const I=Xue(i,s,E);N.push(O[I[0]],O[I[1]])}if(C=[...C,{placement:i,overflows:N}],!N.every(I=>I<=0)){var D,P;const I=(((D=o.flip)==null?void 0:D.index)||0)+1,L=k[I];if(L)return{data:{index:I,overflows:C},reset:{placement:L}};let F=(P=C.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(m){case"bestFit":{var A;const q=(A=C.map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:A[0];q&&(F=q);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function sce(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Bu(n),a=Df(n),l=GE(n)==="y",h=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,f=kv(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*c,y:p*h}:{x:p*h,y:m*c}}const ace=function(t){return{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await sce(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function L5(t){const e=pi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=No(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=zm(n)!==o||zm(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function QE(t){return Xr(t)?t:t.contextElement}function vu(t){const e=QE(t);if(!No(e))return ia(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=L5(e);let s=(o?zm(n.width):n.width)/r,a=(o?zm(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const lce=ia(0);function j5(t){const e=ci(t);return!WE()||!e.visualViewport?lce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ci(t)?!1:e}function dl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=QE(t);let s=ia(1);e&&(r?Xr(r)&&(s=vu(r)):s=vu(t));const a=uce(o,n,r)?j5(o):ia(0);let l=(i.left+a.x)/s.x,h=(i.top+a.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const p=ci(o),m=r&&Xr(r)?ci(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=vu(g),w=g.getBoundingClientRect(),b=pi(g),_=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,h*=y.y,c*=y.x,f*=y.y,l+=_,h+=E,g=ci(g).frameElement}}return Ym({width:c,height:f,x:l,y:h})}const cce=[":popover-open",":modal"];function F5(t){let e=!1,n=0,r=0;function i(o){try{e=e||t.matches(o)}catch{}}if(cce.forEach(o=>{i(o)}),e){const o=P5(t);if(o){const s=o.getBoundingClientRect();n=s.x,r=s.y}}return[e,n,r]}function dce(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=us(r),[s]=e?F5(e.floating):[!1];if(r===o||s)return n;let a={scrollLeft:0,scrollTop:0},l=ia(1);const h=ia(0),c=No(r);if((c||!c&&i!=="fixed")&&((ra(r)!=="body"||Af(o))&&(a=Ev(r)),No(r))){const f=dl(r);l=vu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+h.x,y:n.y*l.y-a.scrollTop*l.y+h.y}}function fce(t){return Array.from(t.getClientRects())}function $5(t){return dl(us(t)).left+Ev(t).scrollLeft}function hce(t){const e=us(t),n=Ev(t),r=t.ownerDocument.body,i=Ya(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ya(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+$5(t);const a=-n.scrollTop;return pi(r).direction==="rtl"&&(s+=Ya(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function pce(t,e){const n=ci(t),r=us(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const h=WE();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function mce(t,e){const n=dl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=No(t)?vu(t):ia(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,h=r*o.y;return{width:s,height:a,x:l,y:h}}function bI(t,e,n){let r;if(e==="viewport")r=pce(t,n);else if(e==="document")r=hce(us(t));else if(Xr(e))r=mce(e,n);else{const i=j5(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ym(r)}function B5(t,e){const n=Fu(t);return n===e||!Xr(n)||Sv(n)?!1:pi(n).position==="fixed"||B5(n,e)}function gce(t,e){const n=e.get(t);if(n)return n;let r=Kd(t,[],!1).filter(a=>Xr(a)&&ra(a)!=="body"),i=null;const o=pi(t).position==="fixed";let s=o?Fu(t):t;for(;Xr(s)&&!Sv(s);){const a=pi(s),l=zE(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Af(s)&&!l&&B5(t,s))?r=r.filter(c=>c!==s):i=a,s=Fu(s)}return e.set(t,r),r}function vce(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?gce(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((h,c)=>{const f=bI(e,c,i);return h.top=Ya(f.top,h.top),h.right=$u(f.right,h.right),h.bottom=$u(f.bottom,h.bottom),h.left=Ya(f.left,h.left),h},bI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yce(t){const{width:e,height:n}=L5(t);return{width:e,height:n}}function wce(t,e,n,r){const i=No(e),o=us(e),s=n==="fixed",a=dl(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const h=ia(0);if(i||!i&&!s)if((ra(e)!=="body"||Af(o))&&(l=Ev(e)),i){const y=dl(e,!0,s,e);h.x=y.x+e.clientLeft,h.y=y.y+e.clientTop}else o&&(h.x=$5(o));let c=a.left+l.scrollLeft-h.x,f=a.top+l.scrollTop-h.y;const[p,m,g]=F5(r);return p&&(c+=m,f+=g,i&&(c+=e.clientLeft,f+=e.clientTop)),{x:c,y:f,width:a.width,height:a.height}}function _I(t,e){return!No(t)||pi(t).position==="fixed"?null:e?e(t):t.offsetParent}function U5(t,e){const n=ci(t);if(!No(t))return n;let r=_I(t,e);for(;r&&Hue(r)&&pi(r).position==="static";)r=_I(r,e);return r&&(ra(r)==="html"||ra(r)==="body"&&pi(r).position==="static"&&!zE(r))?n:r||P5(t)||n}const bce=async function(t){const e=this.getOffsetParent||U5,n=this.getDimensions;return{reference:wce(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function _ce(t){return pi(t).direction==="rtl"}const xce={convertOffsetParentRelativeRectToViewportRelativeRect:dce,getDocumentElement:us,getClippingRect:vce,getOffsetParent:U5,getElementRects:bce,getClientRects:fce,getDimensions:yce,getScale:vu,isElement:Xr,isRTL:_ce};function Sce(t,e){let n=null,r;const i=us(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:h,top:c,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=fp(c),g=fp(i.clientWidth-(h+f)),y=fp(i.clientHeight-(c+p)),w=fp(h),_={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ya(0,$u(1,l))||1};let E=!0;function x(k){const O=k[0].intersectionRatio;if(O!==l){if(!E)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(x,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,_)}n.observe(t)}return s(!0),o}function V5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=QE(t),c=i||o?[...h?Kd(h):[],...Kd(e)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=h&&a?Sce(h,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===h&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),h&&!l&&m.observe(h),m.observe(e));let g,y=l?dl(t):null;l&&w();function w(){const b=dl(t);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const Ece=oce,xI=ice,kce=(t,e,n)=>{const r=new Map,i={platform:xce,...n},o={...i.platform,_c:r};return nce(t,e,{...i,platform:o})};var Fp=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Gm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Gm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Gm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function q5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function SI(t,e){const n=q5(t);return Math.round(e*n)/n}function Pb(t){const e=Q.useRef(t);return Fp(()=>{e.current=t}),e}function Tce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:h}=t,[c,f]=Q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=Q.useState(r);Gm(p,r)||m(r);const[g,y]=Q.useState(null),[w,b]=Q.useState(null),_=Q.useCallback(Y=>{Y!==O.current&&(O.current=Y,y(Y))},[]),E=Q.useCallback(Y=>{Y!==N.current&&(N.current=Y,b(Y))},[]),x=o||g,k=s||w,O=Q.useRef(null),N=Q.useRef(null),C=Q.useRef(c),D=l!=null,P=Pb(l),A=Pb(i),I=Pb(h),L=Q.useCallback(()=>{if(!O.current||!N.current)return;const Y={placement:e,strategy:n,middleware:p};A.current&&(Y.platform=A.current),kce(O.current,N.current,Y).then(H=>{const j={...H,isPositioned:I.current!==!1};F.current&&!Gm(C.current,j)&&(C.current=j,mx.flushSync(()=>{f(j)}))})},[p,e,n,A,I]);Fp(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[h]);const F=Q.useRef(!1);Fp(()=>(F.current=!0,()=>{F.current=!1}),[]),Fp(()=>{if(x&&(O.current=x),k&&(N.current=k),x&&k){if(P.current)return P.current(x,k,L);L()}},[x,k,L,P,D]);const q=Q.useMemo(()=>({reference:O,floating:N,setReference:_,setFloating:E}),[_,E]),M=Q.useMemo(()=>({reference:x,floating:k}),[x,k]),B=Q.useMemo(()=>{const Y={position:n,left:0,top:0};if(!M.floating)return Y;const H=SI(M.floating,c.x),j=SI(M.floating,c.y);return a?{...Y,transform:"translate("+H+"px, "+j+"px)",...q5(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:j}},[n,a,M.floating,c.x,c.y]);return Q.useMemo(()=>({...c,update:L,refs:q,elements:M,floatingStyles:B}),[c,L,q,M,B])}const Cce=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xI({element:r.current,padding:i}).fn(n):{}:r?xI({element:r,padding:i}).fn(n):{}}}},Oce=(t,e)=>({...ace(t),options:[t,e]}),Nce=(t,e)=>({...Ece(t),options:[t,e]}),Ace=(t,e)=>({...Cce(t),options:[t,e]}),H5={...zp},Dce=H5.useInsertionEffect,Ice=Dce||(t=>t());function Pce(t){const e=Q.useRef(()=>{});return Ice(()=>{e.current=t}),Q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Km=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;let EI=!1,Rce=0;const kI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Rce++;function Mce(){const[t,e]=Q.useState(()=>EI?kI():void 0);return Km(()=>{t==null&&e(kI())},[]),Q.useEffect(()=>{EI=!0},[]),t}const Lce=H5.useId,z5=Lce||Mce,jce=Q.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:l=7,tipRadius:h=0,strokeWidth:c=0,staticOffset:f,stroke:p,d:m,style:{transform:g,...y}={},...w}=e,b=z5(),[_,E]=Q.useState(!1);if(Km(()=>{if(!i)return;pi(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[x,k]=r.split("-"),O=x==="top"||x==="bottom";let N=f;(O&&s!=null&&s.x||!O&&s!=null&&s.y)&&(N=null);const C=c*2,D=C/2,P=a/2*(h/-8+1),A=l/2*h/4,I=!!m,L=N&&k==="end"?"bottom":"top";let F=N&&k==="end"?"right":"left";N&&_&&(F=k==="end"?"left":"right");const q=(o==null?void 0:o.x)!=null?N||o.x:"",M=(o==null?void 0:o.y)!=null?N||o.y:"",B=m||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(l-A))+(" Q"+a/2+","+l+" "+P+","+(l-A))+" Z",Y={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[x];return S.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:I?a:a+C,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[F]:q,[L]:M,[x]:O||I?"100%":"calc(100% - "+C/2+"px)",transform:[Y,g].filter(H=>!!H).join(" "),...y},children:[C>0&&S.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:p,strokeWidth:C+(m?0:1),d:B}),S.jsx("path",{stroke:C&&!m?w.fill:"none",d:B}),S.jsx("clipPath",{id:b,children:S.jsx("rect",{x:-D,y:D*(I?-1:1),width:a+C,height:a})})]})});function Fce(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const $ce=Q.createContext(null),Bce=Q.createContext(null),Uce=()=>{var t;return((t=Q.useContext($ce))==null?void 0:t.id)||null},Vce=()=>Q.useContext(Bce);function qce(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=z5(),o=Q.useRef({}),[s]=Q.useState(()=>Fce()),a=Uce()!=null,[l,h]=Q.useState(r.reference),c=Pce((m,g,y)=>{o.current.openEvent=m?g:void 0,s.emit("openchange",{open:m,event:g,reason:y,nested:a}),n==null||n(m,g,y)}),f=Q.useMemo(()=>({setPositionReference:h}),[]),p=Q.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:o,open:e,onOpenChange:c,elements:p,events:s,floatingId:i,refs:f}),[e,c,p,s,i,f])}function Hce(t){t===void 0&&(t={});const{nodeId:e}=t,n=qce({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=Q.useState(null),[a,l]=Q.useState(null),c=(i==null?void 0:i.domReference)||o,f=Q.useRef(null),p=Vce();Km(()=>{c&&(f.current=c)},[c]);const m=Tce({...t,elements:{...i,...a&&{reference:a}}}),g=Q.useCallback(E=>{const x=Xr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(x),m.refs.setReference(x)},[m.refs]),y=Q.useCallback(E=>{(Xr(E)||E===null)&&(f.current=E,s(E)),(Xr(m.refs.reference.current)||m.refs.reference.current===null||E!==null&&!Xr(E))&&m.refs.setReference(E)},[m.refs]),w=Q.useMemo(()=>({...m.refs,setReference:y,setPositionReference:g,domReference:f}),[m.refs,y,g]),b=Q.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),_=Q.useMemo(()=>({...m,...r,refs:w,elements:b,nodeId:e}),[m,w,b,e,r]);return Km(()=>{r.dataRef.current.floatingContext=_;const E=p==null?void 0:p.nodesRef.current.find(x=>x.id===e);E&&(E.context=_)}),Q.useMemo(()=>({...m,context:_,refs:w,elements:b}),[m,w,b,_])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ox=function(e,n){return ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},ox(e,n)};function Qn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ox(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Et=function(){return Et=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Et.apply(this,arguments)};function wo(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var zce=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,o=t.className,s=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return oe.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},Wce=function(t,e){var n=Q.useRef(null),r=Q.useRef(t);r.current=t;var i=Q.useCallback(function(o){var s;n.current&&!n.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,o))},[e]);return Q.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Tv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,o=t.style,s=t.ignoreClass,a=Wce(n,s);return oe.createElement("div",{className:r,style:o,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ae;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ae||(Ae={}));function W5(){var t=typeof window<"u"?window:globalThis;return t}var If=12,Yce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ut(t){if(t==null)return new Date;var e=typeof t=="string"?Cue(t):Re(t);return Vo(e)?e:new Date}function Rb(t,e,n,r,i){var o,s=null,a=Ga(n)||Ga(_d()),l=!0;if(Array.isArray(e))return e.forEach(function(c){var f=Db(t,c,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Vo(f,i)&&t===on(f,c,n)),Vo(f,i)&&l&&(s=f)}),s;if(s=Db(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Vo(s)&&t===on(s,e,n);else if(!Vo(s)){var h=((o=e.match(Yce))!==null&&o!==void 0?o:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var p=qm[f];return a?p(c,a.formatLong):f}return c}).join("");t.length>0&&(s=Db(t,h.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Vo(s)||(s=new Date(t))}return Vo(s)&&l?s:null}function Vo(t,e){return $m(t)&&!cl(t,e??new Date("1/1/1800"))}function on(t,e,n){if(n==="en")return mI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ga(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&_d()&&Ga(_d())&&(r=Ga(_d())),mI(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xi(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&on(t,i,r)||""}function Gce(t,e,n){if(!t)return"";var r=xi(t,n),i=e?xi(e,n):"";return"".concat(r," - ").concat(i)}function Kce(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?xi(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=xi(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Mb(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return Mp(Lp(jp(t,a),o),r)}function Qce(t){return UE(t)}function Xce(t,e){return on(t,"ddd",e)}function $p(t){return ul(t)}function Qs(t,e,n){var r=Ga(e||_d());return ss(t,{locale:r,weekStartsOn:n})}function Jo(t){return w5(t)}function ud(t){return _v(t)}function TI(t){return tx(t)}function CI(){return ul(Ut())}function OI(t){return v5(t)}function Jce(t){return Iae(t)}function Zce(t){return y5(t)}function so(t,e){return t&&e?kue(t,e):!t&&!e}function Dr(t,e){return t&&e?Sue(t,e):!t&&!e}function Qm(t,e){return t&&e?Eue(t,e):!t&&!e}function _t(t,e){return t&&e?Aae(t,e):!t&&!e}function Ba(t,e){return t&&e?Ole(t,e):!t&&!e}function cd(t,e,n){var r,i=ul(e),o=v5(n);try{r=Gd(t,{start:i,end:o})}catch{r=!1}return r}function _d(){var t=W5();return t.__localeId__}function Ga(t){if(typeof t=="string"){var e=W5();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function ede(t,e,n){return e(on(t,"EEEE",n))}function tde(t,e){return on(t,"EEEEEE",e)}function nde(t,e){return on(t,"EEE",e)}function XE(t,e){return on(ai(Ut(),t),"LLLL",e)}function Y5(t,e){return on(ai(Ut(),t),"LLL",e)}function rde(t,e){return on(nu(Ut(),t),"QQQ",e)}function Si(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,h=n.filterDate;return Pf(t,{minDate:r,maxDate:i})||o&&o.some(function(c){return c instanceof Date?_t(t,c):_t(t,c.date)})||s&&s.some(function(c){var f=c.start,p=c.end;return Gd(t,{start:f,end:p})})||a&&!a.some(function(c){return _t(t,c)})||l&&!l.some(function(c){var f=c.start,p=c.end;return Gd(t,{start:f,end:p})})||h&&!h(Ut(t))||!1}function JE(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return Gd(t,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?_t(t,o):_t(t,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function G5(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return Pf(t,{minDate:r?w5(r):void 0,maxDate:i?y5(i):void 0})||(o==null?void 0:o.some(function(l){return Dr(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Dr(t,l)})||a&&!a(Ut(t))||!1}function hp(t,e,n,r){var i=vt(t),o=Mr(t),s=vt(e),a=Mr(e),l=vt(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:!1}function ide(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates;return Pf(t,{minDate:r,maxDate:i})||o&&o.some(function(a){return Dr(a instanceof Date?a:a.date,t)})||s&&!s.some(function(a){return Dr(a,t)})||!1}function pp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return Pf(t,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(l){return Qm(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Qm(t,l)})||a&&!a(Ut(t))||!1}function mp(t,e,n){if(!e||!n||!$m(e)||!$m(n))return!1;var r=vt(e),i=vt(n);return r<=t&&i>=t}function Bp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Pf(l,{minDate:r?_v(r):void 0,maxDate:i?b5(i):void 0})||(o==null?void 0:o.some(function(h){return so(l,h instanceof Date?h:h.date)}))||s&&!s.some(function(h){return so(l,h)})||a&&!a(Ut(l))||!1}function gp(t,e,n,r){var i=vt(t),o=za(t),s=vt(e),a=za(e),l=vt(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:!1}function Pf(t,e){var n,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(n=i&&Lu(t,i)<0||o&&Lu(t,o)>0)!==null&&n!==void 0?n:!1}function NI(t,e){return e.some(function(n){return So(n)===So(t)&&Eo(n)===Eo(t)&&Xo(n)===Xo(t)})}function AI(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&NI(t,r)||i&&!NI(t,i)||o&&!o(t)||!1}function DI(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ut();i=Mp(i,So(t)),i=Lp(i,Eo(t)),i=jp(i,Xo(t));var o=Ut();o=Mp(o,So(n)),o=Lp(o,Eo(n)),o=jp(o,Xo(n));var s=Ut();s=Mp(s,So(r)),s=Lp(s,Eo(r)),s=jp(s,Xo(r));var a;try{a=!Gd(i,{start:o,end:s})}catch{a=!1}return a}function II(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=Wa(t,1);return r&&Bm(r,o)>0||i&&i.every(function(s){return Bm(s,o)>0})||!1}function PI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Qi(t,1);return r&&Bm(o,r)>0||i&&i.every(function(s){return Bm(o,s)>0})||!1}function ode(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=_v(t),s=D5(o);return r&&Um(r,s)>0||i&&i.every(function(a){return Um(a,s)>0})||!1}function sde(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=b5(t),s=BE(o,1);return r&&Um(s,r)>0||i&&i.every(function(a){return Um(s,a)>0})||!1}function RI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=ju(t,1);return r&&Vm(r,o)>0||i&&i.every(function(s){return Vm(s,o)>0})||!1}function ade(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,o=i===void 0?If:i,s=ud(ju(t,o)),a=Hs(s,o).endPeriod,l=r&&vt(r);return l&&l>a||!1}function MI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Ko(t,1);return r&&Vm(o,r)>0||i&&i.every(function(s){return Vm(o,s)>0})||!1}function lde(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?If:i,s=Ko(t,o),a=Hs(s,o).startPeriod,l=r&&vt(r);return l&&l<a||!1}function K5(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Lu(i,e)>=0});return uI(r)}else return n?uI(n):e}function Q5(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Lu(i,e)<=0});return lI(r)}else return n?lI(n):e}function LI(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=t.length;i<o;i++){var s=t[i];if(Qo(s)){var a=on(s,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof s=="object"){var h=Object.keys(s),c=(n=h[0])!==null&&n!==void 0?n:"",f=s[c];if(typeof c=="string"&&Array.isArray(f))for(var p=0,m=f.length;p<m;p++){var g=f[p];if(g){var a=on(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function ude(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function cde(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,o=r.holidayName;if(Qo(i)){var s=on(i,"MM.dd.yyyy"),a=n.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&ude(a.holidayNames,[o]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?wo(wo([],l,!0),[o],!1):[o],n.set(s,a)}}}),n}function dde(t,e,n,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=t,h=i[a];h&&(l=Tae(l,So(h)),l=ex(l,Eo(h)),l=Nae(l,Xo(h)));var c=ex(t,(n+1)*r);na(l,e)&&cl(l,c)&&h!=null&&s.push(h)}return s}function jI(t){return t<10?"0".concat(t):"".concat(t)}function Hs(t,e){e===void 0&&(e=If);var n=Math.ceil(vt(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function fde(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function FI(t){var e=t.getSeconds(),n=t.getMilliseconds();return Re(t.getTime()-e*1e3-n)}function hde(t,e){return FI(t).getTime()===FI(e).getTime()}function $I(t){if(!Qo(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function BI(t,e){if(!Qo(t)||!Qo(e))throw new Error("Invalid date received");var n=$I(t),r=$I(e);return cl(n,r)}function X5(t){return t.key===Ae.Space}var pde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=oe.createRef(),r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),h=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),f=c[0],p=c[1];h.setHours(Number(f)),h.setMinutes(Number(p))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,h)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?Q.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):oe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){r.onTimeChange(h.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return oe.createElement("div",{className:"react-datepicker__input-time-container"},oe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),oe.createElement("div",{className:"react-datepicker-time__input-container"},oe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(Q.Component),mde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=Q.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return _t(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Si(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return JE(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return _t(n.props.day,Qs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&_t(r,Qs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=on(i,"MM.dd.yyyy");return o.get(s)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=on(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:cd(i,o,s)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,h=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||a||l)||!p||!h&&n.isDisabled()?!1:s&&f&&(cl(p,f)||Ba(p,f))?cd(o,p,f):a&&c&&(na(p,c)||Ba(p,c))||l&&c&&!f&&(na(p,c)||Ba(p,c))?cd(o,c,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?_t(o,l):_t(o,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.endDate,a=i.selectsEnd,l=i.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?_t(o,h):_t(o,s)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:_t(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:_t(s,i)},n.isWeekend=function(){var r=Ele(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Mr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Mr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ut())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return or("react-datepicker__day",i,"react-datepicker__day--"+Xce(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,h=n.isDisabled()||n.isExcluded()?l:s;return"".concat(h," ").concat(on(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,l=on(i,"MM.dd.yyyy"),h=[];return s.has(l)&&h.push.apply(h,s.get(l).holidayNames),n.isExcluded()&&h.push(a==null?void 0:a.filter(function(c){return c instanceof Date?_t(c,i):_t(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),h.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&_t(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(gI(n.props.day),n.props.day):gI(n.props.day)},n.render=function(){return oe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&oe.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(Q.Component),gde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=Q.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.props.date,n.props.selected)&&_t(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||_t(n.props.date,n.props.selected)&&_t(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,o=n.ariaLabelPrefix,s=o===void 0?e.defaultProps.ariaLabelPrefix:o,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&_t(this.props.date,this.props.selected)};return oe.createElement("div",{ref:this.weekNumberEl,className:or(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(Q.Component),vde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Si(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var s,a,l,h=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var p=!n.isDisabled(f);if(p){h=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(h,i,o),n.props.showWeekPicker&&n.handleDayClick(h,o),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):Qce(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=zi(r,6),o=new Date(r);o<=i;){if(!n.isDisabled(o))return!1;o=zi(o,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(oe.createElement(gde,Et({key:"W"},e.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(r,a);return oe.createElement(mde,Et({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Qs(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.startOfWeek(),n.props.selected)&&_t(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return oe.createElement("div",{className:or(n)},this.renderDays())},e}(Q.Component),Qc,yde=6,yu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lb=(Qc={},Qc[yu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qc[yu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qc[yu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qc),vp=1;function UI(t,e){return t?yu.FOUR_COLUMNS:e?yu.TWO_COLUMNS:yu.THREE_COLUMNS}var wde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=wo([],Array(12),!0).map(function(){return Q.createRef()}),n.QUARTER_REFS=wo([],Array(4),!0).map(function(){return Q.createRef()}),n.isDisabled=function(r){return Si(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return JE(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,s;(s=(o=n.props).onDayClick)===null||s===void 0||s.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Dr(ai(o,r),s)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Qm(nu(o,r),s)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Dr(ai(o,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Qm(nu(o,r),a)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,h=o.selectsRange,c=o.startDate,f=o.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?hp(p,f,r,s):l&&c||h&&c&&!f?hp(c,p,r,s):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.startDate,l=o.selectsStart,h=ai(s,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Dr(h,c):Dr(h,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.endDate,l=o.selectsEnd,h=o.selectsRange,c=ai(s,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||h?Dr(c,f):Dr(c,a)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,h=o.selectsRange,c=o.startDate,f=o.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?gp(p,f,r,s):l&&c||h&&c&&!f?gp(c,p,r,s):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=zi(r,6);return Dr(r,i)||Dr(o,i)},n.isCurrentMonth=function(r,i){return vt(r)===vt(Ut())&&i===Mr(Ut())},n.isCurrentQuarter=function(r,i){return vt(r)===vt(Ut())&&i===za(Ut())},n.isSelectedMonth=function(r,i,o){return Mr(o)===i&&vt(r)===vt(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(s){return n.isSelectedMonth(r,i,s)})},n.isSelectedQuarter=function(r,i,o){return za(r)===i&&vt(r)===vt(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,s=!1,a=Qs(Jo(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Qs(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},h=function(g){return n.props.showWeekPicker?Qs(g,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?h(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(oe.createElement(vde,Et({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:a,month:Mr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!s;){o++,a=Fm(a,1);var p=i&&o>=yde,m=!i&&!n.isWeekInMonth(a);if(p||m)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||n.handleDayClick(Jo(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||n.handleDayMouseEnter(Jo(s))},n.handleMonthNavigation=function(r,i){var o,s,a,l;(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,o){var s,a=n.props,l=a.selected,h=a.preSelection,c=a.setPreSelection,f=a.minDate,p=a.maxDate,m=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(h){var y=UI(m,g),w=n.getVerticalOffset(y),b=(s=Lb[y])===null||s===void 0?void 0:s.grid,_=function(N,C,D){var P,A,I=C,L=D;switch(N){case Ae.ArrowRight:I=Qi(C,vp),L=D===11?0:D+vp;break;case Ae.ArrowLeft:I=Wa(C,vp),L=D===0?11:D-vp;break;case Ae.ArrowUp:I=Wa(C,w),L=!((P=b==null?void 0:b[0])===null||P===void 0)&&P.includes(D)?D+12-w:D-w;break;case Ae.ArrowDown:I=Qi(C,w),L=!((A=b==null?void 0:b[b.length-1])===null||A===void 0)&&A.includes(D)?D-12+w:D+w;break}return{newCalculatedDate:I,newCalculatedMonth:L}},E=function(N,C,D){for(var P=40,A=N,I=!1,L=0,F=_(A,C,D),q=F.newCalculatedDate,M=F.newCalculatedMonth;!I;){if(L>=P){q=C,M=D;break}if(f&&q<f){A=Ae.ArrowRight;var B=_(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}if(p&&q>p){A=Ae.ArrowLeft;var B=_(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}if(ide(q,n.props)){var B=_(A,q,M);q=B.newCalculatedDate,M=B.newCalculatedMonth}else I=!0;L++}return{newCalculatedDate:q,newCalculatedMonth:M}};if(i===Ae.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),c==null||c(l));return}var x=E(i,h,o),k=x.newCalculatedDate,O=x.newCalculatedMonth;switch(i){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:n.handleMonthNavigation(O,k);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=Lb[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,l=r.key;l!==Ae.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var o=nu(n.props.day,i);pp(o,n.props)||n.handleDayClick(TI(o),r)},n.onQuarterMouseEnter=function(r){var i=nu(n.props.day,r);pp(i,n.props)||n.handleDayMouseEnter(TI(i))},n.handleQuarterNavigation=function(r,i){var o,s,a,l;n.isDisabled(i)||n.isExcluded(i)||((s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ae.Enter:n.onQuarterClick(r,i),(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,n.props.selected);break;case Ae.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,BE(n.props.preSelection,1));break;case Ae.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,D5(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,s=o.day,a=o.minDate,l=o.maxDate,h=o.excludeDates,c=o.includeDates,f=ai(s,r);return{isDisabled:(i=(a||l||h||c)&&G5(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,l=i.preSelection,h=i.monthClassName,c=h?h(ai(o,r)):void 0,f=n.getSelection();return or("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(o,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?hp(s,a,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Mr(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=za(n.props.preSelection),o=pp(n.props.day,n.props),s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,h=i.day,c=i.locale,f=ai(h,r),p=n.isDisabled(f)||n.isExcluded(f)?l:s;return"".concat(p," ").concat(on(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,l=i.selected,h=i.minDate,c=i.maxDate,f=i.excludeDates,p=i.includeDates,m=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,w=(h||c||f||p||m)&&pp(nu(o,r),n.props);return or("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(o,r,g)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?gp(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,l=i.day,h=Y5(r,a),c=XE(r,a);return s?s(r,h,c,l):o?c:h},n.getQuarterContent=function(r){var i,o=n.props,s=o.renderQuarterContent,a=o.locale,l=rde(r,a);return(i=s==null?void 0:s(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,h=(r=Lb[UI(s,o)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(c,f){return oe.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(p,m){return oe.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(g){n.onMonthClick(g,p)},onKeyDown:function(g){X5(g)&&(g.preventDefault(),g.key=Ae.Enter),n.onMonthKeyDown(g,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,s=[1,2,3,4];return oe.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,l){return oe.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(h){n.onQuarterClick(h,a)},onKeyDown:function(h){n.onQuarterKeyDown(h,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":o?n.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,h=r.showWeekPicker;return or("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":h})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,s=n.ariaLabelPrefix,a=s===void 0?"Month ":s,l=a?a.trim()+" ":"";return oe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(on(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(Q.Component),bde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return oe.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?oe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return oe.createElement(Tv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),_de=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return oe.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return oe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return oe.createElement(bde,Et({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Y5(o,n.props.locale)}:function(o){return XE(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return oe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(Q.Component);function xde(t,e){for(var n=[],r=Jo(t),i=Jo(e);!na(r,i);)n.push(Ut(r)),r=Qi(r,1);return n}var Sde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=rx(i),s=so(r.props.date,i)&&Dr(r.props.date,i);return oe.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?oe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",on(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:xde(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=or({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return oe.createElement(Tv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),Ede=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Jo(n.props.minDate),i=Jo(n.props.maxDate),o=[];!na(r,i);){var s=rx(r);o.push(oe.createElement("option",{key:s,value:s},on(r,n.props.dateFormat,n.props.locale))),r=Qi(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:rx(Jo(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=on(n.props.date,n.props.dateFormat,n.props.locale);return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return oe.createElement(Sde,Et({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Ut(r);so(n.props.date,i)&&Dr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(Q.Component),kde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&DI(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&AI(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&hde(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&DI(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&AI(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(So(r)*3600+Eo(r)*60+Xo(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,s;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&n.handleClick(i),(s=(o=n.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Ut(),l=$p(a),h=n.props.injectTimes&&n.props.injectTimes.sort(function(w,b){return w.getTime()-b.getTime()}),c=60*fde(a),f=c/s,p=0;p<f;p++){var m=ex(l,p*s);if(i.push(m),h){var g=dde(l,m,p,s,h);i=i.concat(g)}}var y=i.reduce(function(w,b){return b.getTime()<=a.getTime()?b:w},i[0]);return i.map(function(w){return oe.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(b){w===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},on(w,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?oe.createElement(oe.Fragment,null):oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},oe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return oe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),oe.createElement("div",{className:"react-datepicker__time"},oe.createElement("div",{className:"react-datepicker__time-box"},oe.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(Q.Component),VI=3,Tde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=wo([],Array(r.props.yearItemNumber),!0).map(function(){return Q.createRef()}),r.isDisabled=function(i){return Si(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return JE(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,l,h,c=r.props,f=c.date,p=c.yearItemNumber;if(!(f===void 0||p===void 0)){var m=Hs(f,p).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-m<0?r.updateFocusOnPaginate(p-(m-i)):i-m>=p?r.updateFocusOnPaginate(Math.abs(p-(i-m))):(h=(l=r.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||h===void 0||h.focus())}},r.isSameDay=function(i,o){return _t(i,o)},r.isCurrentYear=function(i){return i===vt(Ut())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&so(io(Ut(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&so(io(Ut(),i),r.props.endDate)},r.isInRange=function(i){return mp(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,h=o.startDate,c=o.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&c?mp(i,r.selectingDate(),c):a&&h||l&&h&&!c?mp(i,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,l=s.selectsStart,h=io(Ut(),i);return l?so(h,(o=r.selectingDate())!==null&&o!==void 0?o:null):so(h,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,l=s.selectsEnd,h=s.selectsRange,c=io(Ut(),i);return l||h?so(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):so(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,l=o.excludeDates,h=o.includeDates,c=o.filterDate,f=ud(io(r.props.date,i)),p=(s||a||l||h||c)&&Bp(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!_t(f,ud(r.props.selected))&&_t(f,ud(r.props.preSelection))&&!p}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(ud(io(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,l=i.key,h=r.props,c=h.date,f=h.yearItemNumber,p=h.handleOnKeyDown;if(l!==Ae.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Ko(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,ju(r.props.preSelection,1));break;case Ae.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var m=Hs(c,f).startPeriod,g=VI,y=o-g;if(y<m){var w=f%g;o>=m&&o<m+w?g=w:g+=w,y=o-g}r.handleYearNavigation(y,ju(r.props.preSelection,g));break}case Ae.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var b=Hs(c,f).endPeriod,g=VI,y=o+g;if(y>b){var w=f%g;o<=b&&o>b-w?g=w:g+=w,y=o+g}r.handleYearNavigation(y,Ko(r.props.preSelection,g));break}}p&&p(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,l=o.maxDate,h=o.selected,c=o.excludeDates,f=o.includeDates,p=o.filterDate,m=o.yearClassName;return or("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m==null?void 0:m(io(s,i)):void 0,{"react-datepicker__year-text--selected":h?i===vt(h):void 0,"react-datepicker__year-text--disabled":(a||l||c||f||p)&&Bp(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=vt(r.props.preSelection),s=Bp(i,r.props);return i===o&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var h=Hs(o,s),c=h.startPeriod,f=h.endPeriod,p=function(y){r.push(oe.createElement("div",{ref:m.YEAR_REFS[y-c],onClick:function(w){n.onYearClick(w,y)},onKeyDown:function(w){X5(w)&&(w.preventDefault(),w.key=Ae.Enter),n.onYearKeyDown(w,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return a(w,y)},onPointerEnter:m.props.usePointerEvent?function(w){return a(w,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return l(w,y)},onPointerLeave:m.props.usePointerEvent?function(w){return l(w,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,g=c;g<=f;g++)p(g);return oe.createElement("div",{className:"react-datepicker__year"},oe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(Q.Component);function Cde(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var s=t+e-o,a=!0;n&&(a=vt(n)<=s),r&&a&&(a=vt(r)>=s),a&&i.push(s)}return i}var Ode=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return oe.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?oe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),h=r.props.minDate?vt(r.props.minDate):null,c=r.props.maxDate?vt(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(oe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(f){return f===h}))&&l.push(oe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(h){return h+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:Cde(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=Q.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=or({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return oe.createElement(Tv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),Nde=function(t){Qn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?vt(n.props.minDate):1900,i=n.props.maxDate?vt(n.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push(oe.createElement("option",{key:s,value:s},s));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},oe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return oe.createElement(Ode,Et({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,s;(s=(o=n.props).onSelect)===null||s===void 0||s.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(Q.Component),Ade=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Dde=function(t){var e=(t.className||"").split(/\s+/);return Ade.some(function(n){return e.indexOf(n)>=0})},Ide=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;Dde(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=K5(r.props),h=Q5(r.props),c=Ut(),f=a||s||o;return f||(l&&cl(c,l)?l:h&&na(c,h)?h:c)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Qi(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Wa(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:io(Ut(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,s,a,l;(s=(o=r.props).onYearChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Si(i,r.props))return i;for(var o=Jo(i),s=Zce(i),a=Dae(s,o),l=null,h=0;h<=a;h++){var c=zi(o,h);if(!Si(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var o,s,a,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,s;(s=(o=r.props).onMonthChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:io(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:ai(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:io(ai(s,Mr(i)),vt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Qs(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(oe.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(o,a),h=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return oe.createElement("div",{key:a,"aria-label":on(l,"EEEE",r.props.locale),className:or("react-datepicker__day-name",c)},h)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?ede(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?nde(i,o):tde(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:ju(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,o,s;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,c=Wa(r.state.date,h),f;switch(!0){case r.props.showMonthYearPicker:f=RI(r.state.date,r.props);break;case r.props.showYearPicker:f=ade(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=ode(r.state.date,r.props);break;default:f=II(c,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,b=w.previousMonthButtonLabel,_=b===void 0?e.defaultProps.previousMonthButtonLabel:b,E=w.previousYearButtonLabel,x=E===void 0?e.defaultProps.previousYearButtonLabel:E,k=r.props,O=k.previousMonthAriaLabel,N=O===void 0?typeof _=="string"?_:"Previous Month":O,C=k.previousYearAriaLabel,D=C===void 0?typeof x=="string"?x:"Previous Year":C;return oe.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?D:N},oe.createElement("span",{className:p.join(" ")},y?x:_))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Ko(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=MI(r.state.date,r.props);break;case r.props.showYearPicker:o=lde(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=sde(r.state.date,r.props);break;default:o=PI(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,m=c.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=r.props,w=y.nextMonthAriaLabel,b=w===void 0?typeof p=="string"?p:"Next Month":w,_=y.nextYearAriaLabel,E=_===void 0?typeof g=="string"?g:"Next Year":_;return oe.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?E:b},oe.createElement("span",{className:a.join(" ")},h?g:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),oe.createElement("h2",{className:o.join(" ")},on(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return oe.createElement(Nde,Et({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return oe.createElement(_de,Et({},e.defaultProps,r.props,{month:Mr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return oe.createElement(Ede,Et({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(CI(),i),r.props.setPreSelection&&r.props.setPreSelection(CI())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return oe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return oe.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),oe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),oe.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=II(r.state.date,r.props),c=PI(r.state.date,r.props),f=RI(r.state.date,r.props),p=MI(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,Et(Et({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),m&&oe.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,h=l===void 0?e.defaultProps.yearItemNumber:l,c=Hs(o,h),f=c.startPeriod,p=c.endPeriod;return oe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):vt(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,l={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ko(r.state.date,l):Wa(r.state.date,l),c=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,f=0;f<a;++f){var p=f-c+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ko(h,p):Qi(h,p),g="month-".concat(f),y=f<a-1,w=f>0;s.push(oe.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:f}),oe.createElement(wde,Et({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return oe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),oe.createElement(Tde,Et({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return oe.createElement(kde,Et({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Vo(i)&&!!r.props.selected,s=o?"".concat(jI(i.getHours()),":").concat(jI(i.getMinutes())):"";if(r.props.showTimeInput)return oe.createElement(pde,Et({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Hs(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,l;return r.props.showYearPicker?l="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=vt(r.state.date):l="".concat(XE(Mr(r.state.date),r.props.locale)," ").concat(vt(r.state.date)),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return oe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=Q.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:If}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Dr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||zce;return oe.createElement(Tv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},oe.createElement(n,{className:or("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(Q.Component),Pde=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?oe.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):oe.isValidElement(e)?oe.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):oe.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},oe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},J5=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return gx.createPortal(this.props.children,this.el)},e}(Q.Component),Rde="[tabindex], a, button, input, select, textarea",Mde=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},Z5=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Rde),1,-1).filter(Mde)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=Q.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?oe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},oe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,oe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(Q.Component);function Lde(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=Q.useRef(null),s=Hce(Et({open:!i,whileElementsMounted:V5,placement:n.popperPlacement,middleware:wo([Nce({padding:15}),Oce(10),Ace({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=Et(Et({},n),{hidePopper:i,popperProps:Et(Et({},s),{arrowRef:o})});return oe.createElement(t,Et({},a))};return e}var jde=function(t){Qn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=n.popperComponent,l=n.targetComponent,h=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,m=n.popperProps,g=n.showArrow,y=void 0;if(!s){var w=or("react-datepicker-popper",r);y=oe.createElement(Z5,{enableTabLoop:h},oe.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},a,g&&oe.createElement(jce,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=Q.createElement(this.props.popperContainer,{},y)),f&&!s&&(y=oe.createElement(J5,{portalId:f,portalHost:p},y));var b=or("react-datepicker-wrapper",i);return oe.createElement(oe.Fragment,null,oe.createElement("div",{ref:m.refs.setReference,className:b},l),y)},e}(Q.Component),Fde=Lde(jde),qI="react-datepicker-ignore-onclickoutside";function $de(t,e){return t&&e?Mr(t)!==Mr(e)||vt(t)!==vt(e):t!==e}var jb="Date input not valid.",Bde=function(t){Qn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ut()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return Vo(a)?wo(wo([],o,!0),[Et(Et({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=K5(r.props),a=Q5(r.props),l=s&&cl(o,$p(s))?s:a&&na(o,OI(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:LI(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Et(Et({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Et(Et({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Fb},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Qo(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:Ude});var h=r.props,c=h.dateFormat,f=c===void 0?e.defaultProps.dateFormat:c,p=h.strictParsing,m=p===void 0?e.defaultProps.strictParsing:p,g=h.selectsRange,y=h.startDate,w=h.endDate,b=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(g){var _=b.split("-",2).map(function(P){return P.trim()}),E=_[0],x=_[1],k=Rb(E??"",f,r.props.locale,m),O=Rb(x??"",f,r.props.locale,m),N=(y==null?void 0:y.getTime())!==(k==null?void 0:k.getTime()),C=(w==null?void 0:w.getTime())!==(O==null?void 0:O.getTime());if(!N&&!C||k&&Si(k,r.props)||O&&Si(O,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[k,O],l)}else{var D=Rb(b,f,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&D&&!_t(D,r.props.selected)&&(D=que(r.props.selected,{hours:So(D),minutes:Eo(D),seconds:Xo(D)})),(D||!b)&&r.setSelected(D,l,!0)}}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,h=a.endDate;l&&!h&&(r.props.swapRange||!BI(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var l,h,c=i;if(r.props.showYearPicker){if(c!==null&&Bp(vt(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&G5(c,r.props))return}else if(c!==null&&Si(c,r.props))return;var f=r.props,p=f.onChange,m=f.selectsRange,g=f.startDate,y=f.endDate,w=f.selectsMultiple,b=f.selectedDates,_=f.minTime,E=f.swapRange;if(!Ba(r.props.selected,c)||r.props.allowSameDay||m||w)if(c!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Mb(c,{hour:So(r.props.selected),minute:Eo(r.props.selected),second:Xo(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(c=Mb(c,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var x=!g&&!y,k=g&&!y,O=g&&y;x?p==null||p([c,null],o):k&&(c===null?p==null||p([null,null],o):BI(c,g)?E?p==null||p([c,g],o):p==null||p([c,null],o):p==null||p([g,c],o)),O&&(p==null||p([c,null],o))}else if(w){if(c!==null)if(!(b!=null&&b.length))p==null||p([c],o);else{var N=b.some(function(D){return _t(D,c)});if(N){var C=b.filter(function(D){return!_t(D,c)});p==null||p(C,o)}else p==null||p(wo(wo([],b,!0),[c],!1),o)}}else p==null||p(c,o);s||((h=(l=r.props).onSelect)===null||h===void 0||h.call(l,c,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Qo(r.props.minDate),s=Qo(r.props.maxDate),a=!0;if(i){var l=$p(i);if(o&&s)a=cd(i,r.props.minDate,r.props.maxDate);else if(o){var h=$p(r.props.minDate);a=na(i,h)||Ba(l,h)}else if(s){var c=OI(r.props.maxDate);a=cl(i,c)||Ba(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Mb(a,{hour:So(i),minute:Eo(i)});r.setState({preSelection:l}),(s=(o=r.props).onChange)===null||s===void 0||s.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,l,h,c;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Ae.ArrowDown||f===Ae.ArrowUp||f===Ae.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Ae.ArrowDown||f===Ae.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=Ut(r.state.preSelection);f===Ae.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Fb?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===Ae.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Ae.Tab&&r.setOpen(!1),r.inputOk()||(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb})}},r.onPortalKeyDown=function(i){var o=i.key;o===Ae.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,l,h,c,f=r.props,p=f.minDate,m=f.maxDate,g=f.disabledKeyboardNavigation,y=f.showWeekPicker,w=f.shouldCloseOnSelect,b=f.locale,_=f.calendarStartDay,E=f.adjustDateOnChange,x=f.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!g){var k=i.key,O=i.shiftKey,N=Ut(r.state.preSelection),C=function(q,M){var B=M;switch(q){case Ae.ArrowRight:B=y?Fm(M,1):zi(M,1);break;case Ae.ArrowLeft:B=y?vI(M):Tue(M);break;case Ae.ArrowUp:B=vI(M);break;case Ae.ArrowDown:B=Fm(M,1);break;case Ae.PageUp:B=O?ju(M,1):Wa(M,1);break;case Ae.PageDown:B=O?Ko(M,1):Qi(M,1);break;case Ae.Home:B=Qs(M,b,_);break;case Ae.End:B=Jce(M);break}return B},D=function(q,M){for(var B=40,Y=q,H=!1,j=0,U=C(q,M);!H;){if(j>=B){U=M;break}p&&U<p&&(Y=Ae.ArrowRight,U=Si(p,r.props)?C(Y,U):p),m&&U>m&&(Y=Ae.ArrowLeft,U=Si(m,r.props)?C(Y,U):m),Si(U,r.props)?((Y===Ae.PageUp||Y===Ae.Home)&&(Y=Ae.ArrowRight),(Y===Ae.PageDown||Y===Ae.End)&&(Y=Ae.ArrowLeft),U=C(Y,U)):H=!0,j++}return U};if(k===Ae.Enter){i.preventDefault(),r.handleSelect(N,i),!w&&r.setPreSelection(N);return}else if(k===Ae.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:jb});return}var P=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:P=D(k,N);break}if(!P){(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:jb});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Fb}),E&&r.setSelected(P),r.setPreSelection(P),x){var A=Mr(N),I=Mr(P),L=vt(N),F=vt(P);A!==I||L!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===Ae.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:oe.createElement(Ide,Et({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:cde(r.modifyHolidays()),outsideClickIgnoreClass:qI,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,h=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(xi(r.props.startDate,{dateFormat:h,locale:a}),". ").concat(r.props.endDate?"End date: "+xi(r.props.endDate,{dateFormat:h,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(xi(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(xi(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(xi(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(xi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(xi(r.props.selected,{dateFormat:h,locale:a})),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,o,s,a=or(r.props.className,(i={},i[qI]=r.state.open,i)),l=r.props.customInput||oe.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,m=c.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Gce(r.props.startDate,r.props.endDate,{dateFormat:p,locale:m}):r.props.selectsMultiple?Kce((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:p,locale:m}):xi(r.props.selected,{dateFormat:p,locale:m});return Q.cloneElement(l,(o={},o[h]=function(y){r.input=y},o.value=g,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=or(l.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,h=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,m=i.ariaLabelClose,g=m===void 0?"Close":m,y=i.selectedDates;return o&&(a!=null||l!=null||h!=null||y!=null&&y.length)?oe.createElement("button",{type:"button",className:or("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:If,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,o,s,a;n.inline&&$de(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:LI(this.props.highlightDates)}),!r.focused&&!Ba(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,s=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),oe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&oe.createElement(Pde,Et({icon:i,className:or(s,!s&&o,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?oe.createElement(Z5,{enableTabLoop:this.props.enableTabLoop},oe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=oe.createElement(J5,Et({portalId:this.props.portalId},this.props),r)),oe.createElement("div",null,this.renderInputContainer(),r)}return oe.createElement(Fde,Et({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(Q.Component),Ude="input",Fb="navigate";function ko({text:t,htmlFor:e,className:n}){return S.jsx("label",{htmlFor:e||t,className:`flex flex-col py-1 pl-1 text-sm font-medium text-blue1 ${n}`,children:t})}function ZE({label:t,...e}){return S.jsxs("div",{className:"flex flex-col",children:[t&&S.jsx(ko,{text:t}),S.jsxs("div",{className:"relative",children:[S.jsx(SE,{className:"absolute left-3 top-3.5 z-[1] size-5"}),S.jsx(Bde,{...e,locale:i3,minDate:new Date,shouldCloseOnSelect:!0,popperPlacement:"bottom",timeCaption:"",timeInputLabel:":",timeFormat:"HH:mm",timeIntervals:10,onFocus:n=>n.target.blur(),className:`h-12 w-full rounded-xl border border-gray1 px-3 py-2 pl-10 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none ${e.className}`})]})]})}const mn=oe.forwardRef(function({iconName:t,inputType:e,label:n,errorMsg:r,containerClassName:i,children:o,tailIconChildren:s,...a},l){const h={FiMapPin:S.jsx(TE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiSearch:S.jsx(OE,{className:"absolute left-3 top-3.5 size-[20px]"}),FiHash:S.jsx(Lre,{className:"absolute left-3 top-3.5 size-[20px]"}),FiChevronsDown:S.jsx(S3,{className:"absolute left-3 top-3.5 size-[20px]"})},c="h-12 w-full rounded-xl border focus:border-purple2 border-gray1 focus:read-only:border-gray1 focus:read-only:border focus:border-2 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none py-2";return S.jsxs("div",{className:`relative flex w-full flex-col ${i}`,children:[n&&S.jsx(ko,{text:n}),t?S.jsxs("div",{className:"relative w-full",children:[h[t],S.jsx("input",{...a,ref:l,id:n||a.id,className:`pl-10 pr-3 ${c} ${a.className}`}),s]}):S.jsxs(S.Fragment,{children:[S.jsx("input",{...a,ref:l,id:n||a.id,className:`px-3 ${c} ${a.className}`}),s]}),r&&S.jsx("p",{className:"pl-2 pt-1 text-sm text-red-500",children:r}),o]})});function eF({title:t,currentValue:e,yearMonthId:n,registerBook:r}){var x;const i=Ve(Ot),o=Ve(Ai(n)),s=o?{...o.meeting,...e}:e,{currMeeting:a,onMeetingChange:l,savedPlaceList:h,onMeetingEdit:c,onNewBookClubSubmit:f}=w3(s,n),{anonymous:p}=ei("register"),{isPending:m}=Ji(),{hideModal:g}=Yt(),{errorMsg:y,handleErrorMsg:w}=_E(),b={place:[{condition:a.place==="",error:" ."}]},_=+n.slice(-2),E=async k=>{k.preventDefault();try{if(w(b))return;if(o)await c({meeting:a}),alert(`${_}   !`);else{const N={meeting:a,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i.uid,book:r};await f(N),alert(`${_}   !`)}}catch{window.alert("     .  .")}finally{g()}};return S.jsx(Di,{title:t,className:"max-w-96 max-sm:mt-[30%]",children:S.jsxs("form",{onSubmit:E,className:"flex flex-col gap-y-3",children:["time"in e&&S.jsx(ZE,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:new Date(a.time),dateFormat:"M d EEEE a hh:mm",onChange:k=>{l({time:ht(k,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0}),"place"in e&&S.jsx(mn,{label:"",value:a.place,onChange:k=>{l({place:k.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:y==null?void 0:y.place,children:S.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(x=h==null?void 0:h.place)==null?void 0:x.map(k=>S.jsx(ar,{text:k,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>l({place:k})},k))})}),S.jsx(ft,{type:"submit",name:o!=null&&o.meeting?"":`${_}  `,className:"ml-auto",disabled:m||p,color:"blue"}),p&&S.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function tF({label:t,value:e,editable:n}){const{showModal:r}=Yt(),i={:S.jsx(TE,{className:"inline"}),:S.jsx(SE,{className:"inline"}),:S.jsx(Tm,{className:"inline"}),:S.jsx(Tm,{className:"inline"})};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"relative flex h-full items-center overflow-hidden rounded-card bg-white px-4 py-2 shadow-card max-sm:px-4",children:[S.jsxs("h4",{className:"flex min-w-20 items-center gap-0.5 tracking-tight text-gray2",children:[i[t],t]}),S.jsxs("div",{className:"flex w-full flex-1 py-1",children:[e&&S.jsxs(S.Fragment,{children:[typeof e!="string"&&(e.includes("no_host")?S.jsx("span",{children:" "}):e==null?void 0:e.map(o=>S.jsx(ti,{userId:o,className:"mr-1"},o))),typeof e=="string"&&e&&S.jsx("span",{className:"tracking-tight",children:t===""?ht(e,"M d a h:mm"):e})]}),!e&&S.jsx("span",{className:"text-center text-sm text-gray2 max-sm:text-start",children:"  "})]}),n&&S.jsx("button",{type:"button",onClick:()=>r({element:typeof e=="string"&&S.jsx(eF,{title:t,currentValue:t===""?{time:e}:{place:e},yearMonthId:Vn})}),className:"absolute bottom-0 right-0 p-3",children:S.jsx(E3,{stroke:"#aaa",size:16})})]})})}function nF({yearMonthId:t,event:e,className:n=""}){var a,l,h;const r=Ve(Ai(t)),i=r&&[{label:"",value:(a=r.meeting)==null?void 0:a.place},{label:"",value:(l=r.meeting)==null?void 0:l.time},{label:"",value:(h=r.meeting.eventMonth)==null?void 0:h.hosts}],o=+t.slice(-2),{pathname:s}=Fr();return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:`flex flex-col justify-between rounded-card bg-white px-6 py-5 shadow-card ${n}`,children:[s==="/"&&S.jsx(ar,{text:`${o} `,color:+o==+Qr?"green":"purple",shape:"rounded",className:"mb-3 font-medium shadow-2xl"}),S.jsx("h1",{className:"mb-1.5 line-clamp-2 w-full text-lg font-medium leading-6",children:e.eventMonth.title}),S.jsxs("span",{className:"text-gray1",children:["  ",e.eventMonth.contents.length,""]})]}),S.jsx("ul",{className:"col-span-2 mt-4 flex flex-col gap-6 max-sm:gap-4",children:i.map(({label:c,value:f})=>S.jsx("li",{children:S.jsx(tF,{label:c,value:f,editable:!1})},c))})]})}function rF({time:t,place:e,className:n}){return S.jsxs("div",{className:n,children:[S.jsxs("div",{className:"mb-1 flex items-start gap-x-1",children:[S.jsx(SE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),S.jsx("span",{className:"text-[15px]",children:t?ht(t,"M d a h:mm"):"   ."})]}),S.jsxs("div",{className:"flex items-start gap-x-1",children:[S.jsx(TE,{className:"mt-[3px] min-w-fit text-[15px] text-gray1"}),S.jsx("span",{className:"text-[15px]",children:e||"   ."})]})]})}function iF({bookClub:t,className:e=""}){const{meeting:{place:n,time:r},book:i,id:o}=t;return i?S.jsxs("div",{className:`flex gap-x-4 rounded-card bg-white p-5 shadow-card ${e}`,children:[S.jsx(On,{thumbnail:i.thumbnail,title:i.title,url:i.url,className:"w-28"}),S.jsxs("div",{className:"flex w-full flex-col justify-between",children:[S.jsx("h1",{className:"line-clamp-2 pr-1 text-lg font-medium leading-5",children:i.title}),i.authors&&S.jsx(Ao,{authors:i.authors,publisher:i.publisher}),S.jsx(rF,{time:r,place:n,className:"mt-3.5"})]})]}):S.jsx(nF,{yearMonthId:o,event:t.meeting})}function oF({month:t,book:e,bookFields:n,className:r=""}){const{title:i,thumbnail:o,authors:s,publisher:a,url:l}=e;return S.jsxs("div",{className:`flex justify-between gap-x-2 rounded-card bg-white px-4 py-5 shadow-card ${r}`,children:[S.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[S.jsx(ar,{text:`${t} `,color:+t==+Qr?"lightBlue":"purple",shape:"rounded",className:"font-medium"}),S.jsxs("div",{className:"ml-1",children:[S.jsx("h1",{className:"mb-0.5 mt-2.5 line-clamp-2 w-full text-lg font-medium leading-[22px]",children:i}),S.jsx(Ao,{authors:s,publisher:a}),S.jsxs("div",{className:"mt-2 flex flex-1 items-center gap-x-0.5",children:[S.jsx(Nre,{className:"text-[15px] text-purple2"}),S.jsx("span",{className:"text-[15px] text-purple2",children:n})]})]})]}),S.jsx(On,{title:i,thumbnail:o,url:l,className:"w-[84px]"})]})}function Do({text:t,children:e,createBtnTitle:n,onCreateClick:r}){return S.jsxs("div",{className:"flex h-full min-h-[200px] w-full flex-col items-center justify-center gap-5 rounded-card bg-white p-4 shadow-card max-md:h-[200px]",children:[S.jsx("span",{className:"text-sm text-gray1",children:t}),r&&S.jsx(ft,{name:n,color:"purple",handleClick:r,tailChildren:S.jsx(Soe,{size:18})}),e]})}function sF(){var l,h;const t=Ve(Ai(Vn)),[e,n]=Wt(cv),{pathname:r}=Fr(),i=kr(),{bookFieldAndHostList:o}=e,s=o==null?void 0:o.find(({month:c})=>c===+Qr);Q.useEffect(()=>{e.bookFieldAndHostList.length===0&&lr(Ci,Wd,n)},[]);const a=t&&[{label:"",value:(l=t.meeting)==null?void 0:l.time,editable:r==="/bookclub"},{label:"",value:(h=t.meeting)==null?void 0:h.place,editable:r==="/bookclub"},{label:"",value:s==null?void 0:s.hosts}];return S.jsx(S.Fragment,{children:t&&(t!=null&&t.book)?S.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[S.jsx(oF,{month:`${+Qr}`,book:t.book,bookFields:s==null?void 0:s.field,className:"col-span-1"}),S.jsx("div",{className:"col-span-1 flex flex-col gap-4",children:a.map(({label:c,value:f,editable:p})=>S.jsx(tF,{label:c,value:f,editable:p},c))})]}):S.jsx(Do,{text:"    .",createBtnTitle:"  ",onCreateClick:()=>i("/search",{state:{registerYearMonth:Vn}})})})}function Vde(){const t=ea(Jj),e=Ve(k3),n=Ve(Xj),{uid:r}=Ve(Ot),[i,o]=Q.useState({wholePage:0,currentPage:0}),s=e,{title:a,thumbnail:l,authors:h,publisher:c}=n,{anonymous:f,alertAskJoinMember:p}=ei("write"),{hideModal:m}=Yt(),g=async w=>{var E;if(w.preventDefault(),f)return p();if(Number.isNaN(i.currentPage)||Number.isNaN(i.wholePage))return alert(" .");if(i.wholePage===0)return alert("   0   .   !");if(i.currentPage>i.wholePage)return alert("       .   !");if((E=s==null?void 0:s.books)==null?void 0:E.find(x=>x.title===n.title))return alert("    .");const _=s?{...s,books:[...s.books,{...n,...i}]}:{createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r,books:[{...n,...i}]};await Oo(an(Jt,al,r),_),t([]),m(),alert("2024    !   !")},y=(w,b)=>{const{value:_}=w.target,E=b==="wholePage"?{wholePage:+_}:{currentPage:+_};o({...i,...E})};return S.jsxs("form",{onSubmit:g,children:[S.jsx("h3",{children:"  "}),S.jsxs("div",{children:[S.jsx(On,{title:a,thumbnail:l}),S.jsxs("div",{children:[S.jsx("h4",{children:a}),S.jsx(Ao,{authors:h,publisher:c})]})]}),S.jsxs("div",{children:[S.jsx(mn,{label:"  ",name:"wholePage",value:`${i.wholePage}`,placeholder:"   .",onChange:w=>y(w,"wholePage")}),S.jsx(mn,{label:"  ",name:"currentPage",value:`${i.currentPage}`,placeholder:"   .",onChange:w=>y(w,"currentPage")})]}),S.jsx(ft,{type:"submit",name:" "})]})}function Cv({book:t,className:e}){const{authors:n,publisher:r,thumbnail:i,title:o}=t;return S.jsxs("div",{className:`flex w-full items-center gap-3 py-1 ${e}`,children:[S.jsx(On,{thumbnail:i,title:o,className:"ml-1 w-8"}),S.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-start",children:[S.jsx("h5",{className:"line-clamp-1 truncate whitespace-pre-wrap text-start",children:o}),n&&r&&S.jsx(Ao,{authors:n,publisher:r})]})]})}function qde(){const[t,e]=Q.useState(""),{uid:n}=Ve(Ot),r=Ve(Ai(Vn)),i=Ve(dE),{sendPostPushNotification:o,isPending:s}=Ji(),{book:a}=r,{title:l,thumbnail:h,authors:c,url:f,publisher:p}=i,m=Rr(Vn,a3),g={text:t,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:n,title:a.title,thumbnail:a.thumbnail,recommendedBook:{title:l,thumbnail:h,url:f,authors:c,publisher:p}},{onAddDocSubmit:y,onChange:w}=vE({setText:e,collName:m,docData:g}),{hideModal:b}=Yt(),_=async E=>{if(E.preventDefault(),l==="")return window.alert("    .");if(g.text==="")return window.alert("  .");try{await y(E),await o("")}catch{window.alert("    .  .")}finally{b()}};return S.jsxs("form",{onSubmit:_,children:[S.jsx("textarea",{placeholder:"   .",onChange:w,value:t,className:"h-32 w-full resize-none rounded-xl border border-gray2 p-3 outline-none"}),S.jsxs("div",{className:"mt-3 flex items-end justify-between gap-3",children:[h&&S.jsx(Cv,{book:i,className:"h-14"}),S.jsx(ft,{name:"",type:"submit",className:"ml-auto h-fit min-w-max",disabled:s})]})]})}function aF(){return S.jsx("div",{className:"border-b-2 border-dotted border-gray2"})}function lF({searchList:t,onSelectBtnClick:e}){return S.jsx("ul",{className:"mt-2 h-64 overflow-scroll",children:t.map((n,r)=>S.jsxs(Q.Fragment,{children:[S.jsx("li",{className:"py-2",children:S.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-x-2",onClick:()=>e(n),children:[S.jsx(Cv,{book:n,className:"h-14"}),S.jsx(x3,{className:"text-lg text-blue1"})]})}),(t==null?void 0:t.length)-1!==r&&S.jsx(aF,{})]},`${n.title}-${n.isbn}`))})}function Hde({title:t}){const e=ea(dE),n=ea(Xj),[r,i]=Q.useState(1),{searchInputRef:o,onBookQueryChange:s,searchList:a}=xE();Q.useEffect(()=>{o&&!a.length&&o.current.focus()},[]);const l=c=>{h(2),t===" "?e(c):n(c)},h=c=>i(c);return S.jsxs(Di,{title:t,children:[r===1&&S.jsxs("div",{className:"relative mt-3 min-h-64 max-sm:mt-0",children:[S.jsx(mn,{ref:o,placeholder:`${t===" "?"":" "} .`,onChange:s,className:"bg-gray-50 pl-9",iconName:"FiSearch"}),(a==null?void 0:a.length)!==0&&S.jsx(lF,{searchList:a,onSelectBtnClick:l})]}),r===2&&(t===" "?S.jsx(qde,{}):S.jsx(Vde,{}))]})}const zde=()=>{const{showModal:t}=Yt();return S.jsx(S.Fragment,{children:S.jsxs("button",{className:"mb-[10px] flex w-1/2 items-center gap-1 rounded-full bg-white px-4 py-3 shadow-card max-sm:w-full",onClick:()=>t({element:S.jsx(Hde,{title:" "})}),children:[S.jsx(OE,{fontSize:18}),S.jsx("span",{className:"text-sm text-gray2",children:" "})]})})},uF=Cn({key:`subjectDocs/${zt()}`,default:null}),cF=Cn({key:`hostReviews/${zt()}`,default:null}),Wde=Cn({key:`meetingReviewDocs/${zt()}`,default:[]});function Yde(t){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function Gde(t){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"},child:[]}]})(t)}function Kde(t){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"m6.293 13.293 1.414 1.414L12 10.414l4.293 4.293 1.414-1.414L12 7.586z"},child:[]}]})(t)}function Qde(t){return dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.379-2.143-4.288-4.521-3.965C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.035C6.138 3.712 4 5.621 4 8c0 .173.012.347.035.521C2.802 9.215 2 10.535 2 12s.802 2.785 2.035 3.479A3.976 3.976 0 0 0 4 16c0 2.379 2.138 4.283 4.521 3.965C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.035C17.857 20.283 20 18.379 20 16c0-.173-.012-.347-.035-.521C21.198 14.785 22 13.465 22 12s-.802-2.785-2.035-3.479zm-9.01 7.895-3.667-3.714 1.424-1.404 2.257 2.286 4.327-4.294 1.408 1.42-5.749 5.706z"},child:[]}]})(t)}const Xde=({docMonth:t})=>{var g,y;const[e,n]=Q.useState(""),[r,i]=Q.useState(!1),o=Ve(Ai(Vn)),{uid:s}=Ve(Ot),a=Rr(t,fE),l={createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:s,text:e,title:(g=o==null?void 0:o.book)==null?void 0:g.title,thumbnail:(y=o==null?void 0:o.book)==null?void 0:y.thumbnail,isAnonymous:r},{onAddDocSubmit:h,onChange:c}=vE({setText:n,collName:a,docData:l}),{isPending:f,sendPostPushNotification:p}=Ji(),m=async w=>{if(w.preventDefault(),l.text!=="")try{await h(w),await p(" ")}catch{window.alert("     .  .")}};return S.jsx("form",{onSubmit:m,className:"mb-5 rounded-2xl bg-green3 p-4 shadow-card max-sm:p-4",children:S.jsxs("div",{className:"flex flex-col",children:[S.jsx("textarea",{placeholder:"     (  !).",value:e,onChange:c,className:"mb-1 min-h-40 w-full resize-none rounded-xl bg-white p-2.5 outline-none"}),S.jsxs("div",{className:"flex items-end",children:[S.jsxs("button",{type:"button",className:`flex items-center ${r?"text-blue3":"text-gray2"} py-1`,onClick:()=>i(w=>!w),children:[S.jsx(Yde,{}),S.jsx("span",{className:"pl-1",children:" "})]}),S.jsx(ft,{name:"",type:"submit",color:"blue",className:"ml-auto mt-2 !px-5 !py-2",disabled:f})]})]})})};function dF({creatorId:t,isAnonymous:e}){return S.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[S.jsx(qre,{fontSize:14}),S.jsx("span",{className:"mr-2 text-sm",children:""}),e?S.jsx("span",{className:"text-sm",children:" "}):S.jsx(ti,{userId:t,isLink:!1})]})}function fF({collName:t,post:e,postType:n}){const{uid:r}=Ve(Ot),{creatorId:i,isAnonymous:o}=e;return S.jsxs("header",{className:"flex items-center justify-between gap-1 rounded-xl",children:[S.jsx(dF,{creatorId:i,isAnonymous:o}),r===i&&t&&S.jsx($3,{post:e,collName:t,postType:n})]})}function ek({type:t,post:e,collName:n,className:r,children:i}){const{text:o}=e;return S.jsxs("article",{className:`flex min-h-[80px] w-full flex-col gap-2.5 ${r}`,children:[S.jsx(fF,{collName:n,post:e,postType:t}),S.jsx(C3,{text:o}),i]})}const Jde=({yearMonthId:t=Vn})=>{const[e,n]=Wt(Wde),r=Rr(t,fE);Q.useEffect(()=>{Yn(r,n)},[r]);const i=t===Vn;return S.jsxs("div",{className:`${!i&&e.length===0?"columns-1":"columns-2"} max-sm:columns-1`,children:[i&&S.jsx(Xde,{docMonth:t}),(e==null?void 0:e.length)!==0?S.jsx("ul",{children:e==null?void 0:e.map(o=>S.jsx("li",{className:"mb-6 flex w-full break-inside-avoid flex-col gap-4",children:S.jsx(ek,{type:" ",post:o,collName:r,className:"rounded-2xl bg-white p-4 shadow-card",children:S.jsx(dv,{createdAt:o.createdAt,footerType:"likes",post:o,collName:r})})},o.id))}):S.jsx(Do,{text:"   ."})]})};function sx({title:t,to:e,state:n,className:r="",onClick:i}){return S.jsxs(Ir,{to:e,state:n,className:`mt-3 flex items-center justify-end gap-1 text-sm text-gray1 ${r}`,onClick:i,children:[t&&S.jsx("span",{className:"font-medium",children:t}),S.jsx(EE,{className:""})]})}function Zde({to:t,name:e,state:n}){return S.jsxs(Ir,{to:t,state:n,className:"mb-2 flex items-center gap-1 rounded-xl px-4 py-3",children:[S.jsx(Ure,{className:"text-lg text-blue3"}),S.jsx("span",{className:"font-medium text-blue3",children:e})]})}const efe={spaceBetween:8,pagination:!1,scrollbar:!1,navigation:!1,autoplay:!1};function tfe({yearMonthId:t}){const[e,n]=Q.useState(""),[r,i]=Wt(cF),[o,s]=Wt(uF);Q.useEffect(()=>{Yn(Rr(t,Hd),i),Yn(Rr(t,zd),s)},[t,o==null?void 0:o.length]);const{pathname:a}=Fr(),l={:{postList:o,linkTo:"subjects",access:""}," ":{postList:r,linkTo:"host-review",access:""}},{postList:h,linkTo:c,access:f}=l[e],{blockLinkAndAlertJoinMember:p}=ei("see");return S.jsxs("div",{className:"w-full",children:[S.jsx("ul",{className:"flex gap-1",children:Object.keys(l).map(m=>S.jsx("li",{children:S.jsx("button",{onClick:()=>n(m),className:`rounded-t-xl px-3 py-2 ${m===e?"bg-blue4 font-medium text-blue3":"bg-white text-text"}`,children:m})},m))}),S.jsx("div",{className:`flex min-h-48 w-full flex-col items-center justify-center rounded-b-2xl rounded-tr-2xl p-4 shadow-card ${e?"bg-blue4":""}`,children:(h==null?void 0:h.length)!==0?S.jsxs(S.Fragment,{children:[S.jsx(Nf,{options:efe,children:h==null?void 0:h.map((m,g)=>S.jsx(nc,{className:`!mt-0 min-h-fit !py-0 ${h.length===1?"w-full":"max-w-[70vw]"}`,children:S.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-xl bg-white p-3",children:[S.jsx(ek,{type:e,post:m,className:"relative [&>p]:line-clamp-[6]"}),S.jsxs("span",{className:"absolute right-4 top-3 text-sm text-gray1",children:[g+1," / ",h.length]}),S.jsx(sx,{title:"",state:{postId:m.id},to:c,onClick:p,className:"bg-purple4 w-fit self-end rounded-xl px-4 py-3 !text-[15px] text-purple2 shadow-card"})]})},m.id))}),S.jsx(sx,{title:` ${e} `,to:c,onClick:p,className:"w-fit self-end px-2 !text-[15px] text-blue-500"})]}):S.jsx(S.Fragment,{children:a.includes("previous-club")?S.jsxs("span",{className:"text-sm text-blue3",children:[" ",e," "]}):S.jsxs(S.Fragment,{children:[S.jsx(Zde,{to:c,name:`${e}  `}),S.jsxs("span",{className:"text-sm text-gray1",children:[f,"   "]})]})})})]})}function nfe({collName:t,recommendedBookDetail:e}){const{creatorId:n,createdAt:r,text:i,title:o,thumbnail:s,recommendedBook:{url:a,authors:l,publisher:h,title:c,thumbnail:f}}=e;return S.jsxs(Di,{title:" ",className:"w-[40%]",children:[S.jsx(fF,{collName:t,post:e,postType:""}),S.jsxs("div",{className:"my-4 gap-2 overflow-scroll scrollbar-hide",children:[S.jsx(On,{title:c,thumbnail:f,url:a,className:"float-left mb-2 mr-4 w-20"}),S.jsx("h4",{className:"text-lg",children:S.jsx("span",{className:"pr-1",children:c})}),S.jsx(Ao,{authors:l,publisher:h}),S.jsxs("h3",{className:"mt-1 flex items-center border-t-2 border-dotted border-gray3 pt-2",children:[S.jsx(ti,{userId:n,isLink:!1}),"  "]}),S.jsx("p",{dangerouslySetInnerHTML:{__html:i},className:"mt-2 whitespace-pre-wrap break-all"}),S.jsx("h3",{className:"mt-10 text-sm text-gray1",children:"  "}),e.recommendedBook&&S.jsx(Cv,{book:{title:o,thumbnail:s},className:"mb-10 h-14"}),S.jsx(dv,{collName:t,createdAt:r,post:e,footerType:"likes"})]})]})}function rfe({docIds:{docId:t,monthId:e}}){var c,f;const[n,r]=Q.useState(),{showModal:i}=Yt(),s=`BookClub-${e.slice(0,4)}/${e}/RecommendedBooks/`;Q.useEffect(()=>{lr(s,t,r)},[]);const a=((c=n==null?void 0:n.recommendedBook)==null?void 0:c.title)||"",l=((f=n==null?void 0:n.recommendedBook)==null?void 0:f.thumbnail)||"",h=()=>i({element:S.jsx(nfe,{recommendedBookDetail:n,collName:s})});return S.jsx(S.Fragment,{children:n&&S.jsxs("button",{type:"button",onClick:h,className:"relative mx-2 mt-7 min-h-[102px] w-full rounded-xl bg-white px-6 py-3 shadow-card",children:[S.jsx(On,{title:a,thumbnail:l,className:"!absolute bottom-4 w-[80px]"}),S.jsxs("div",{className:"ml-[90px] flex h-full flex-col items-start",children:[S.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[S.jsx(Tm,{fontSize:14,className:"text-gray2"}),S.jsx("span",{className:"mr-2 text-sm text-gray2",children:""}),S.jsx(ti,{userId:n.creatorId})]}),S.jsxs("div",{className:"mb-1 mt-1.5 flex flex-1 flex-col items-start",children:[S.jsx("span",{className:"mb-1 line-clamp-2 text-start text-base font-medium leading-[20px]",children:a}),S.jsx(Ao,{authors:n.recommendedBook.authors,publisher:n.recommendedBook.publisher})]})]})]})})}const ife={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},500:{slidesPerView:1},320:{slidesPerView:1}},scrollbar:!1};function hF({yearMonthId:t}){const e=Ve(ma),n=Q.useMemo(()=>{const r=e.map(o=>{var s;return(s=o==null?void 0:o.userRecords)==null?void 0:s.recommendedBooks}).filter(o=>!!(o!=null&&o.length)).flat().sort(RN).slice(0,3),i=r.filter(o=>t?o.monthId===t:o).sort(RN);return t?i:r},[e,t]);return n.length!==0?S.jsx(Nf,{options:ife,children:n.map(r=>S.jsx(nc,{children:S.jsx(rfe,{docIds:r})},r.docId))}):S.jsx(Do,{text:"  ."})}const ofe=()=>{const t=AP(),e=(t==null?void 0:t.id)||Vn,n=e.slice(0,4),r=Ve(Ai(e)),[i,o]=Wt(El),s=ea(Zu),{absenteeList:a,participantList:l}=Ve(y3(e));Q.useEffect(()=>{r||Yn(Ci,s),i||lr(`BookClub-${n}`,Ru,o)},[n]);const h=e===Vn;return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${h?"":ht(e,"yyyy M")} `,backBtn:!h,backTo:"/previous-bookclub"}),Sl(e)?S.jsx("main",{children:r?S.jsxs(S.Fragment,{children:[S.jsx(Mt,{title:" ",children:h?S.jsx(sF,{}):S.jsx(iF,{bookClub:r,className:"w-full"})}),(h&&r||!h)&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"grid grid-cols-5 gap-x-6 max-sm:flex max-sm:flex-col [&>section:first-child]:col-span-2 [&>section:last-child]:col-span-3",children:[a&&S.jsx(Mt,{title:" ",children:S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx(aI,{title:`  ${l.length}`,memberList:l}),S.jsx(aI,{title:`  ${a.length}`,memberList:a})]})}),S.jsxs(Mt,{title:"  ",children:[h&&S.jsx(Go,{text:"  ,           .    ,            ."}),S.jsx(tfe,{yearMonthId:e})]})]}),S.jsxs(Mt,{title:h?" ":"",children:[h&&S.jsx(zde,{}),S.jsx(hF,{yearMonthId:e})]}),S.jsx(Mt,{title:" ",children:S.jsx(Jde,{yearMonthId:e})})]})]}):S.jsx(Do,{text:"   ."})}):S.jsx(tc,{size:150,className:"h-[80vh]"})]})};function sfe(){return S.jsx("footer",{className:"border-t border-gray3 bg-blue1 px-4 pb-40 pt-10",children:S.jsx("span",{className:"mb-10 text-white",children:"   All rights reserved"})})}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function afe(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pF(t){var e=afe(t,"string");return fl(e)=="symbol"?e:String(e)}function dd(t,e,n){return e=pF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){dd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t){if(Array.isArray(t))return t}function ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){h=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mF(t,e){if(t){if(typeof t=="string")return ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ax(t,e)}}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(t,e){return lfe(t)||ufe(t,e)||mF(t,e)||cfe()}function dfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cs(t,e){if(t==null)return{};var n=dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var ffe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function hfe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,s=o===void 0?null:o,a=t.inputValue,l=t.menuIsOpen,h=t.onChange,c=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,g=cs(t,ffe),y=Q.useState(a!==void 0?a:n),w=Zo(y,2),b=w[0],_=w[1],E=Q.useState(l!==void 0?l:i),x=Zo(E,2),k=x[0],O=x[1],N=Q.useState(m!==void 0?m:s),C=Zo(N,2),D=C[0],P=C[1],A=Q.useCallback(function(Y,H){typeof h=="function"&&h(Y,H),P(Y)},[h]),I=Q.useCallback(function(Y,H){var j;typeof c=="function"&&(j=c(Y,H)),_(j!==void 0?j:Y)},[c]),L=Q.useCallback(function(){typeof p=="function"&&p(),O(!0)},[p]),F=Q.useCallback(function(){typeof f=="function"&&f(),O(!1)},[f]),q=a!==void 0?a:b,M=l!==void 0?l:k,B=m!==void 0?m:D;return et(et({},g),{},{inputValue:q,menuIsOpen:M,onChange:A,onInputChange:I,onMenuClose:F,onMenuOpen:L,value:B})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pF(r.key),r)}}function mfe(t,e,n){return e&&zI(t.prototype,e),n&&zI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function gF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!t})()}function vfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yfe(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vfe(t)}function wfe(t){var e=gF();return function(){var r=Xm(t),i;if(e){var o=Xm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yfe(this,i)}}function bfe(t){if(Array.isArray(t))return ax(t)}function _fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tk(t){return bfe(t)||_fe(t)||mF(t)||xfe()}function Sfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Efe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var kfe=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Efe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Sfe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),mr="-ms-",Jm="-moz-",Nt="-webkit-",vF="comm",nk="rule",rk="decl",Tfe="@import",yF="@keyframes",Cfe="@layer",Ofe=Math.abs,Ov=String.fromCharCode,Nfe=Object.assign;function Afe(t,e){return rr(t,0)^45?(((e<<2^rr(t,0))<<2^rr(t,1))<<2^rr(t,2))<<2^rr(t,3):0}function wF(t){return t.trim()}function Dfe(t,e){return(t=e.exec(t))?t[0]:t}function At(t,e,n){return t.replace(e,n)}function ux(t,e){return t.indexOf(e)}function rr(t,e){return t.charCodeAt(e)|0}function Qd(t,e,n){return t.slice(e,n)}function ao(t){return t.length}function ik(t){return t.length}function yp(t,e){return e.push(t),t}function Ife(t,e){return t.map(e).join("")}var Nv=1,Uu=1,bF=0,Zr=0,Rn=0,rc="";function Av(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Nv,column:Uu,length:s,return:""}}function Xc(t,e){return Nfe(Av("",null,null,"",null,null,0),t,{length:-t.length},e)}function Pfe(){return Rn}function Rfe(){return Rn=Zr>0?rr(rc,--Zr):0,Uu--,Rn===10&&(Uu=1,Nv--),Rn}function di(){return Rn=Zr<bF?rr(rc,Zr++):0,Uu++,Rn===10&&(Uu=1,Nv++),Rn}function To(){return rr(rc,Zr)}function Up(){return Zr}function Rf(t,e){return Qd(rc,t,e)}function Xd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _F(t){return Nv=Uu=1,bF=ao(rc=t),Zr=0,[]}function xF(t){return rc="",t}function Vp(t){return wF(Rf(Zr-1,cx(t===91?t+2:t===40?t+1:t)))}function Mfe(t){for(;(Rn=To())&&Rn<33;)di();return Xd(t)>2||Xd(Rn)>3?"":" "}function Lfe(t,e){for(;--e&&di()&&!(Rn<48||Rn>102||Rn>57&&Rn<65||Rn>70&&Rn<97););return Rf(t,Up()+(e<6&&To()==32&&di()==32))}function cx(t){for(;di();)switch(Rn){case t:return Zr;case 34:case 39:t!==34&&t!==39&&cx(Rn);break;case 40:t===41&&cx(t);break;case 92:di();break}return Zr}function jfe(t,e){for(;di()&&t+Rn!==57;)if(t+Rn===84&&To()===47)break;return"/*"+Rf(e,Zr-1)+"*"+Ov(t===47?t:di())}function Ffe(t){for(;!Xd(To());)di();return Rf(t,Zr)}function $fe(t){return xF(qp("",null,null,null,[""],t=_F(t),0,[0],t))}function qp(t,e,n,r,i,o,s,a,l){for(var h=0,c=0,f=s,p=0,m=0,g=0,y=1,w=1,b=1,_=0,E="",x=i,k=o,O=r,N=E;w;)switch(g=_,_=di()){case 40:if(g!=108&&rr(N,f-1)==58){ux(N+=At(Vp(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:N+=Vp(_);break;case 9:case 10:case 13:case 32:N+=Mfe(g);break;case 92:N+=Lfe(Up()-1,7);continue;case 47:switch(To()){case 42:case 47:yp(Bfe(jfe(di(),Up()),e,n),l);break;default:N+="/"}break;case 123*y:a[h++]=ao(N)*b;case 125*y:case 59:case 0:switch(_){case 0:case 125:w=0;case 59+c:b==-1&&(N=At(N,/\f/g,"")),m>0&&ao(N)-f&&yp(m>32?YI(N+";",r,n,f-1):YI(At(N," ","")+";",r,n,f-2),l);break;case 59:N+=";";default:if(yp(O=WI(N,e,n,h,c,i,a,E,x=[],k=[],f),o),_===123)if(c===0)qp(N,e,O,O,x,o,f,a,k);else switch(p===99&&rr(N,3)===110?100:p){case 100:case 108:case 109:case 115:qp(t,O,O,r&&yp(WI(t,O,O,0,0,i,a,E,i,x=[],f),k),i,k,f,a,r?x:k);break;default:qp(N,O,O,O,[""],k,0,a,k)}}h=c=m=0,y=b=1,E=N="",f=s;break;case 58:f=1+ao(N),m=g;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&Rfe()==125)continue}switch(N+=Ov(_),_*y){case 38:b=c>0?1:(N+="\f",-1);break;case 44:a[h++]=(ao(N)-1)*b,b=1;break;case 64:To()===45&&(N+=Vp(di())),p=To(),c=f=ao(E=N+=Ffe(Up())),_++;break;case 45:g===45&&ao(N)==2&&(y=0)}}return o}function WI(t,e,n,r,i,o,s,a,l,h,c){for(var f=i-1,p=i===0?o:[""],m=ik(p),g=0,y=0,w=0;g<r;++g)for(var b=0,_=Qd(t,f+1,f=Ofe(y=s[g])),E=t;b<m;++b)(E=wF(y>0?p[b]+" "+_:At(_,/&\f/g,p[b])))&&(l[w++]=E);return Av(t,e,n,i===0?nk:a,l,h,c)}function Bfe(t,e,n){return Av(t,e,n,vF,Ov(Pfe()),Qd(t,2,-2),0)}function YI(t,e,n,r){return Av(t,e,n,rk,Qd(t,0,r),Qd(t,r+1,-1),r)}function wu(t,e){for(var n="",r=ik(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Ufe(t,e,n,r){switch(t.type){case Cfe:if(t.children.length)break;case Tfe:case rk:return t.return=t.return||t.value;case vF:return"";case yF:return t.return=t.value+"{"+wu(t.children,r)+"}";case nk:t.value=t.props.join(",")}return ao(n=wu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Vfe(t){var e=ik(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function qfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Hfe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var zfe=function(e,n,r){for(var i=0,o=0;i=o,o=To(),i===38&&o===12&&(n[r]=1),!Xd(o);)di();return Rf(e,Zr)},Wfe=function(e,n){var r=-1,i=44;do switch(Xd(i)){case 0:i===38&&To()===12&&(n[r]=1),e[r]+=zfe(Zr-1,n,r);break;case 2:e[r]+=Vp(i);break;case 4:if(i===44){e[++r]=To()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ov(i)}while(i=di());return e},Yfe=function(e,n){return xF(Wfe(_F(e),n))},GI=new WeakMap,Gfe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!GI.get(r))&&!i){GI.set(e,!0);for(var o=[],s=Yfe(n,o),a=r.props,l=0,h=0;l<s.length;l++)for(var c=0;c<a.length;c++,h++)e.props[h]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},Kfe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function SF(t,e){switch(Afe(t,e)){case 5103:return Nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+t+Jm+t+mr+t+t;case 6828:case 4268:return Nt+t+mr+t+t;case 6165:return Nt+t+mr+"flex-"+t+t;case 5187:return Nt+t+At(t,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+mr+"flex-$1$2")+t;case 5443:return Nt+t+mr+"flex-item-"+At(t,/flex-|-self/,"")+t;case 4675:return Nt+t+mr+"flex-line-pack"+At(t,/align-content|flex-|-self/,"")+t;case 5548:return Nt+t+mr+At(t,"shrink","negative")+t;case 5292:return Nt+t+mr+At(t,"basis","preferred-size")+t;case 6060:return Nt+"box-"+At(t,"-grow","")+Nt+t+mr+At(t,"grow","positive")+t;case 4554:return Nt+At(t,/([^-])(transform)/g,"$1"+Nt+"$2")+t;case 6187:return At(At(At(t,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),t,"")+t;case 5495:case 3959:return At(t,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return At(At(t,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+t+t;case 4095:case 3583:case 4068:case 2532:return At(t,/(.+)-inline(.+)/,Nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ao(t)-1-e>6)switch(rr(t,e+1)){case 109:if(rr(t,e+4)!==45)break;case 102:return At(t,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+Jm+(rr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ux(t,"stretch")?SF(At(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rr(t,e+1)!==115)break;case 6444:switch(rr(t,ao(t)-3-(~ux(t,"!important")&&10))){case 107:return At(t,":",":"+Nt)+t;case 101:return At(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nt+(rr(t,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+mr+"$2box$3")+t}break;case 5936:switch(rr(t,e+11)){case 114:return Nt+t+mr+At(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Nt+t+mr+At(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Nt+t+mr+At(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Nt+t+mr+t+t}return t}var Qfe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case rk:e.return=SF(e.value,e.length);break;case yF:return wu([Xc(e,{value:At(e.value,"@","@"+Nt)})],i);case nk:if(e.length)return Ife(e.props,function(o){switch(Dfe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wu([Xc(e,{props:[At(o,/:(read-\w+)/,":"+Jm+"$1")]})],i);case"::placeholder":return wu([Xc(e,{props:[At(o,/:(plac\w+)/,":"+Nt+"input-$1")]}),Xc(e,{props:[At(o,/:(plac\w+)/,":"+Jm+"$1")]}),Xc(e,{props:[At(o,/:(plac\w+)/,mr+"input-$1")]})],i)}return""})}},Xfe=[Qfe],Jfe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||Xfe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)o[w[b]]=!0;a.push(y)});var l,h=[Gfe,Kfe];{var c,f=[Ufe,qfe(function(y){c.insert(y)})],p=Vfe(h.concat(i,f)),m=function(w){return wu($fe(w),p)};l=function(w,b,_,E){c=_,m(w?w+"{"+b.styles+"}":b.styles),E&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new kfe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},$b={exports:{}},Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI;function Zfe(){if(KI)return Rt;KI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function E(k){if(typeof k=="object"&&k!==null){var O=k.$$typeof;switch(O){case e:switch(k=k.type,k){case l:case h:case r:case o:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case g:case m:case s:return k;default:return O}}case n:return O}}}function x(k){return E(k)===h}return Rt.AsyncMode=l,Rt.ConcurrentMode=h,Rt.ContextConsumer=a,Rt.ContextProvider=s,Rt.Element=e,Rt.ForwardRef=c,Rt.Fragment=r,Rt.Lazy=g,Rt.Memo=m,Rt.Portal=n,Rt.Profiler=o,Rt.StrictMode=i,Rt.Suspense=f,Rt.isAsyncMode=function(k){return x(k)||E(k)===l},Rt.isConcurrentMode=x,Rt.isContextConsumer=function(k){return E(k)===a},Rt.isContextProvider=function(k){return E(k)===s},Rt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Rt.isForwardRef=function(k){return E(k)===c},Rt.isFragment=function(k){return E(k)===r},Rt.isLazy=function(k){return E(k)===g},Rt.isMemo=function(k){return E(k)===m},Rt.isPortal=function(k){return E(k)===n},Rt.isProfiler=function(k){return E(k)===o},Rt.isStrictMode=function(k){return E(k)===i},Rt.isSuspense=function(k){return E(k)===f},Rt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===h||k===o||k===i||k===f||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===s||k.$$typeof===a||k.$$typeof===c||k.$$typeof===w||k.$$typeof===b||k.$$typeof===_||k.$$typeof===y)},Rt.typeOf=E,Rt}var QI;function ehe(){return QI||(QI=1,$b.exports=Zfe()),$b.exports}var Bb,XI;function the(){if(XI)return Bb;XI=1;var t=ehe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(g){return t.isMemo(g)?i:o[g.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(g,y,w){if(typeof y!="string"){if(p){var b=f(y);b&&b!==p&&m(g,b,w)}var _=l(y);h&&(_=_.concat(h(y)));for(var E=s(g),x=s(y),k=0;k<_.length;++k){var O=_[k];if(!n[O]&&!(w&&w[O])&&!(x&&x[O])&&!(E&&E[O])){var N=c(y,O);try{a(g,O,N)}catch{}}}}return g}return Bb=m,Bb}the();var nhe=!0;function rhe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var EF=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||nhe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ihe=function(e,n,r){EF(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function ohe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var she={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ahe=/[A-Z]|^ms/g,lhe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kF=function(e){return e.charCodeAt(1)===45},JI=function(e){return e!=null&&typeof e!="boolean"},Ub=Hfe(function(t){return kF(t)?t:t.replace(ahe,"-$&").toLowerCase()}),ZI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(lhe,function(r,i,o){return lo={name:i,styles:o,next:lo},i})}return she[e]!==1&&!kF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Jd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return lo={name:n.name,styles:n.styles,next:lo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)lo={name:r.name,styles:r.styles,next:lo},r=r.next;var i=n.styles+";";return i}return uhe(t,e,n)}case"function":{if(t!==void 0){var o=lo,s=n(t);return lo=o,Jd(t,e,s)}break}}return n}function uhe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Jd(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")JI(s)&&(r+=Ub(o)+":"+ZI(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&e==null)for(var a=0;a<s.length;a++)JI(s[a])&&(r+=Ub(o)+":"+ZI(o,s[a])+";");else{var l=Jd(t,e,s);switch(o){case"animation":case"animationName":{r+=Ub(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var eP=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lo,TF=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";lo=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Jd(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Jd(r,n,e[a]),i&&(o+=s[a]);eP.lastIndex=0;for(var l="",h;(h=eP.exec(o))!==null;)l+="-"+h[1];var c=ohe(o)+l;return{name:c,styles:o,next:lo}},che=function(e){return e()},dhe=zp.useInsertionEffect?zp.useInsertionEffect:!1,fhe=dhe||che,ok={}.hasOwnProperty,CF=Q.createContext(typeof HTMLElement<"u"?Jfe({key:"css"}):null);CF.Provider;var hhe=function(e){return Q.forwardRef(function(n,r){var i=Q.useContext(CF);return e(n,i,r)})},phe=Q.createContext({}),dx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mhe=function(e,n){var r={};for(var i in n)ok.call(n,i)&&(r[i]=n[i]);return r[dx]=e,r},ghe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return EF(n,r,i),fhe(function(){return ihe(n,r,i)}),null},vhe=hhe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[dx],o=[r],s="";typeof t.className=="string"?s=rhe(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=TF(o,void 0,Q.useContext(phe));s+=e.key+"-"+a.name;var l={};for(var h in t)ok.call(t,h)&&h!=="css"&&h!==dx&&(l[h]=t[h]);return l.ref=n,l.className=s,Q.createElement(Q.Fragment,null,Q.createElement(ghe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),Q.createElement(i,l))}),yhe=vhe,Xe=function(e,n){var r=arguments;if(n==null||!ok.call(n,"css"))return Q.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=yhe,o[1]=mhe(e,n);for(var s=2;s<i;s++)o[s]=r[s];return Q.createElement.apply(null,o)};function sk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return TF(e)}var whe=function(){var e=sk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function bhe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fx=Q.useLayoutEffect,_he=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Zm=function(){};function xhe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function She(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&o.push("".concat(xhe(t,s)));return o.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var tP=function(e){return Ihe(e)?e.filter(Boolean):fl(e)==="object"&&e!==null?[e]:[]},OF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=cs(e,_he);return et({},n)},yn=function(e,n,r){var i=e.cx,o=e.getStyles,s=e.getClassNames,a=e.className;return{css:o(n,e),className:i(r??{},s(n,e),a)}};function Dv(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Ehe(t){return Dv(t)?window.innerHeight:t.clientHeight}function NF(t){return Dv(t)?window.pageYOffset:t.scrollTop}function eg(t,e){if(Dv(t)){window.scrollTo(0,e);return}t.scrollTop=e}function khe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function The(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function wp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Zm,i=NF(t),o=e-i,s=10,a=0;function l(){a+=s;var h=The(a,i,o,n);eg(t,h),a<n?window.requestAnimationFrame(l):r(t)}l()}function nP(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?eg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&eg(t,Math.max(e.offsetTop-i,0))}function Che(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function rP(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Ohe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var AF=!1,Nhe={get passive(){return AF=!0}},bp=typeof window<"u"?window:{};bp.addEventListener&&bp.removeEventListener&&(bp.addEventListener("p",Zm,Nhe),bp.removeEventListener("p",Zm,!1));var Ahe=AF;function Dhe(t){return t!=null}function Ihe(t){return Array.isArray(t)}function _p(t,e,n){return t?e:n}var Phe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(s){var a=Zo(s,1),l=a[0];return!r.includes(l)});return o.reduce(function(s,a){var l=Zo(a,2),h=l[0],c=l[1];return s[h]=c,s},{})},Rhe=["children","innerProps"],Mhe=["children","innerProps"];function Lhe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,s=t.isFixedPosition,a=t.controlHeight,l=khe(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var c=l.getBoundingClientRect(),f=c.height,p=n.getBoundingClientRect(),m=p.bottom,g=p.height,y=p.top,w=n.offsetParent.getBoundingClientRect(),b=w.top,_=s?window.innerHeight:Ehe(l),E=NF(l),x=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),O=b-k,N=_-y,C=O+E,D=f-E-y,P=m-_+E+x,A=E+y-k,I=160;switch(i){case"auto":case"bottom":if(N>=g)return{placement:"bottom",maxHeight:e};if(D>=g&&!s)return o&&wp(l,P,I),{placement:"bottom",maxHeight:e};if(!s&&D>=r||s&&N>=r){o&&wp(l,P,I);var L=s?N-x:D-x;return{placement:"bottom",maxHeight:L}}if(i==="auto"||s){var F=e,q=s?O:C;return q>=r&&(F=Math.min(q-x-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return o&&eg(l,P),{placement:"bottom",maxHeight:e};break;case"top":if(O>=g)return{placement:"top",maxHeight:e};if(C>=g&&!s)return o&&wp(l,A,I),{placement:"top",maxHeight:e};if(!s&&C>=r||s&&O>=r){var M=e;return(!s&&C>=r||s&&O>=r)&&(M=s?O-k:C-k),o&&wp(l,A,I),{placement:"top",maxHeight:M}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function jhe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var DF=function(e){return e==="auto"?"bottom":e},Fhe=function(e,n){var r,i=e.placement,o=e.theme,s=o.borderRadius,a=o.spacing,l=o.colors;return et((r={label:"menu"},dd(r,jhe(i),"100%"),dd(r,"position","absolute"),dd(r,"width","100%"),dd(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},IF=Q.createContext(null),$he=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,h=Q.useContext(IF)||{},c=h.setPortalPlacement,f=Q.useRef(null),p=Q.useState(i),m=Zo(p,2),g=m[0],y=m[1],w=Q.useState(null),b=Zo(w,2),_=b[0],E=b[1],x=l.spacing.controlHeight;return fx(function(){var k=f.current;if(k){var O=s==="fixed",N=a&&!O,C=Lhe({maxHeight:i,menuEl:k,minHeight:r,placement:o,shouldScroll:N,isFixedPosition:O,controlHeight:x});y(C.maxHeight),E(C.placement),c==null||c(C.placement)}},[i,o,s,a,r,c,x]),n({ref:f,placerProps:et(et({},e),{},{placement:_||DF(o),maxHeight:g})})},Bhe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Xe("div",tt({},yn(e,"menu",{menu:!0}),{ref:r},i),n)},Uhe=Bhe,Vhe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return et({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},qhe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return Xe("div",tt({},yn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},PF=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return et({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Hhe=PF,zhe=PF,Whe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=cs(e,Rhe);return Xe("div",tt({},yn(et(et({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Yhe=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=cs(e,Mhe);return Xe("div",tt({},yn(et(et({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Ghe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Khe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,l=Q.useRef(null),h=Q.useRef(null),c=Q.useState(DF(s)),f=Zo(c,2),p=f[0],m=f[1],g=Q.useMemo(function(){return{setPortalPlacement:m}},[]),y=Q.useState(null),w=Zo(y,2),b=w[0],_=w[1],E=Q.useCallback(function(){if(i){var N=Che(i),C=a==="fixed"?0:window.pageYOffset,D=N[p]+C;(D!==(b==null?void 0:b.offset)||N.left!==(b==null?void 0:b.rect.left)||N.width!==(b==null?void 0:b.rect.width))&&_({offset:D,rect:N})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);fx(function(){E()},[E]);var x=Q.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&l.current&&(h.current=V5(i,l.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);fx(function(){x()},[x]);var k=Q.useCallback(function(N){l.current=N,x()},[x]);if(!n&&a!=="fixed"||!b)return null;var O=Xe("div",tt({ref:k},yn(et(et({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Xe(IF.Provider,{value:g},n?mx.createPortal(O,n):O)},Qhe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Xhe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return Xe("div",tt({},yn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},Jhe=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return et({alignItems:"center",display:i&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Zhe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return Xe("div",tt({},yn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},epe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},tpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},yn(e,"indicatorsContainer",{indicators:!0}),r),n)},iP,npe=["size"],rpe=["innerProps","isRtl","size"],ipe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},RF=function(e){var n=e.size,r=cs(e,npe);return Xe("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ipe},r))},ak=function(e){return Xe(RF,tt({size:20},e),Xe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},MF=function(e){return Xe(RF,tt({size:20},e),Xe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},LF=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,s=i.colors;return et({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2,":hover":{color:r?s.neutral80:s.neutral40}})},ope=LF,spe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},yn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Xe(MF,null))},ape=LF,lpe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},yn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Xe(ak,null))},upe=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,s=i.colors;return et({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:o*2,marginTop:o*2})},cpe=function(e){var n=e.innerProps;return Xe("span",tt({},n,yn(e,"indicatorSeparator",{"indicator-separator":!0})))},dpe=whe(iP||(iP=bhe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),fpe=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,s=o.colors,a=o.spacing.baseUnit;return et({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2})},Vb=function(e){var n=e.delay,r=e.offset;return Xe("span",{css:sk({animation:"".concat(dpe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},hpe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,s=cs(e,rpe);return Xe("div",tt({},yn(et(et({},s),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Xe(Vb,{delay:0,offset:r}),Xe(Vb,{delay:160,offset:!0}),Xe(Vb,{delay:320,offset:!r}))},ppe=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,s=o.colors,a=o.borderRadius,l=o.spacing;return et({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},mpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return Xe("div",tt({ref:o},yn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),s,{"aria-disabled":r||void 0}),n)},gpe=mpe,vpe=["data"],ype=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},wpe=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,s=e.Heading,a=e.headingProps,l=e.innerProps,h=e.label,c=e.theme,f=e.selectProps;return Xe("div",tt({},yn(e,"group",{group:!0}),l),Xe(s,tt({},a,{selectProps:f,theme:c,getStyles:i,getClassNames:o,cx:r}),h),Xe("div",null,n))},bpe=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return et({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},_pe=function(e){var n=OF(e);n.data;var r=cs(n,vpe);return Xe("div",tt({},yn(e,"groupHeading",{"group-heading":!0}),r))},xpe=wpe,Spe=["innerRef","isDisabled","isHidden","inputClassName"],Epe=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,s=o.spacing,a=o.colors;return et(et({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},kpe),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},jF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kpe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":et({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},jF)},Tpe=function(e){return et({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},jF)},Cpe=function(e){var n=e.cx,r=e.value,i=OF(e),o=i.innerRef,s=i.isDisabled,a=i.isHidden,l=i.inputClassName,h=cs(i,Spe);return Xe("div",tt({},yn(e,"input",{"input-container":!0}),{"data-value":r||""}),Xe("input",tt({className:n({input:!0},l),ref:o,style:Tpe(a),disabled:s},h)))},Ope=Cpe,Npe=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,s=r.colors;return et({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},Ape=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,s=e.cropWithEllipsis;return et({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Dpe=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,s=r.colors,a=e.isFocused;return et({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},FF=function(e){var n=e.children,r=e.innerProps;return Xe("div",r,n)},Ipe=FF,Ppe=FF;function Rpe(t){var e=t.children,n=t.innerProps;return Xe("div",tt({role:"button"},n),e||Xe(ak,{size:14}))}var Mpe=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,s=e.isDisabled,a=e.removeProps,l=e.selectProps,h=r.Container,c=r.Label,f=r.Remove;return Xe(h,{data:i,innerProps:et(et({},yn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:l},Xe(c,{data:i,innerProps:et({},yn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Xe(f,{data:i,innerProps:et(et({},yn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Lpe=Mpe,jpe=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,s=e.theme,a=s.spacing,l=s.colors;return et({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},Fpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,s=e.innerRef,a=e.innerProps;return Xe("div",tt({},yn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:s,"aria-disabled":r},a),n)},$pe=Fpe,Bpe=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return et({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Upe=function(e){var n=e.children,r=e.innerProps;return Xe("div",tt({},yn(e,"placeholder",{placeholder:!0}),r),n)},Vpe=Upe,qpe=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,s=i.colors;return et({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Hpe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Xe("div",tt({},yn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},zpe=Hpe,Wpe={ClearIndicator:lpe,Control:gpe,DropdownIndicator:spe,DownChevron:MF,CrossIcon:ak,Group:xpe,GroupHeading:_pe,IndicatorsContainer:tpe,IndicatorSeparator:cpe,Input:Ope,LoadingIndicator:hpe,Menu:Uhe,MenuList:qhe,MenuPortal:Khe,LoadingMessage:Yhe,NoOptionsMessage:Whe,MultiValue:Lpe,MultiValueContainer:Ipe,MultiValueLabel:Ppe,MultiValueRemove:Rpe,Option:$pe,Placeholder:Vpe,SelectContainer:Xhe,SingleValue:zpe,ValueContainer:Zhe},Ype=function(e){return et(et({},Wpe),e.components)},oP=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Gpe(t,e){return!!(t===e||oP(t)&&oP(e))}function Kpe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Gpe(t[n],e[n]))return!1;return!0}function Qpe(t,e){e===void 0&&(e=Kpe);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var Xpe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Jpe=function(e){return Xe("span",tt({css:Xpe},e))},sP=Jpe,Zpe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,s=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,s=o===void 0?"":o,a=e.selectValue,l=e.isDisabled,h=e.isSelected,c=e.isAppleDevice,f=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&a)return"value ".concat(s," focused, ").concat(f(a,r),".");if(n==="menu"&&c){var p=l?" disabled":"",m="".concat(h?" selected":"").concat(p);return"".concat(s).concat(m,", ").concat(f(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},eme=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,l=e.selectProps,h=e.id,c=e.isAppleDevice,f=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,g=l.isMulti,y=l.isOptionDisabled,w=l.isSearchable,b=l.menuIsOpen,_=l.options,E=l.screenReaderStatus,x=l.tabSelectsValue,k=l.isLoading,O=l["aria-label"],N=l["aria-live"],C=Q.useMemo(function(){return et(et({},Zpe),f||{})},[f]),D=Q.useMemo(function(){var q="";if(n&&C.onChange){var M=n.option,B=n.options,Y=n.removedValue,H=n.removedValues,j=n.value,U=function(Z){return Array.isArray(Z)?null:Z},V=Y||M||U(j),z=V?p(V):"",K=B||H||void 0,X=K?K.map(p):[],W=et({isDisabled:V&&y(V,a),label:z,labels:X},n);q=C.onChange(W)}return q},[n,C,y,a,p]),P=Q.useMemo(function(){var q="",M=r||i,B=!!(r&&a&&a.includes(r));if(M&&C.onFocus){var Y={focused:M,label:p(M),isDisabled:y(M,a),isSelected:B,options:o,context:M===r?"menu":"value",selectValue:a,isAppleDevice:c};q=C.onFocus(Y)}return q},[r,i,p,y,C,o,a,c]),A=Q.useMemo(function(){var q="";if(b&&_.length&&!k&&C.onFilter){var M=E({count:o.length});q=C.onFilter({inputValue:m,resultsMessage:M})}return q},[o,m,b,C,_,E,k]),I=(n==null?void 0:n.action)==="initial-input-focus",L=Q.useMemo(function(){var q="";if(C.guidance){var M=i?"value":b?"menu":"input";q=C.guidance({"aria-label":O,context:M,isDisabled:r&&y(r,a),isMulti:g,isSearchable:w,tabSelectsValue:x,isInitialFocus:I})}return q},[O,r,i,g,y,w,b,C,a,x,I]),F=Xe(Q.Fragment,null,Xe("span",{id:"aria-selection"},D),Xe("span",{id:"aria-focused"},P),Xe("span",{id:"aria-results"},A),Xe("span",{id:"aria-guidance"},L));return Xe(Q.Fragment,null,Xe(sP,{id:h},I&&F),Xe(sP,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!I&&F))},tme=eme,hx=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],nme=new RegExp("["+hx.map(function(t){return t.letters}).join("")+"]","g"),$F={};for(var qb=0;qb<hx.length;qb++)for(var Hb=hx[qb],zb=0;zb<Hb.letters.length;zb++)$F[Hb.letters[zb]]=Hb.base;var BF=function(e){return e.replace(nme,function(n){return $F[n]})},rme=Qpe(BF),aP=function(e){return e.replace(/^\s+|\s+$/g,"")},ime=function(e){return"".concat(e.label," ").concat(e.value)},ome=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=et({ignoreCase:!0,ignoreAccents:!0,stringify:ime,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,s=i.ignoreAccents,a=i.stringify,l=i.trim,h=i.matchFrom,c=l?aP(r):r,f=l?aP(a(n)):a(n);return o&&(c=c.toLowerCase(),f=f.toLowerCase()),s&&(c=rme(c),f=BF(f)),h==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},sme=["innerRef"];function ame(t){var e=t.innerRef,n=cs(t,sme),r=Phe(n,"onExited","in","enter","exit","appear");return Xe("input",tt({ref:e},r,{css:sk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var lme=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function ume(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,s=Q.useRef(!1),a=Q.useRef(!1),l=Q.useRef(0),h=Q.useRef(null),c=Q.useCallback(function(w,b){if(h.current!==null){var _=h.current,E=_.scrollTop,x=_.scrollHeight,k=_.clientHeight,O=h.current,N=b>0,C=x-k-E,D=!1;C>b&&s.current&&(r&&r(w),s.current=!1),N&&a.current&&(o&&o(w),a.current=!1),N&&b>C?(n&&!s.current&&n(w),O.scrollTop=x,D=!0,s.current=!0):!N&&-b>E&&(i&&!a.current&&i(w),O.scrollTop=0,D=!0,a.current=!0),D&&lme(w)}},[n,r,i,o]),f=Q.useCallback(function(w){c(w,w.deltaY)},[c]),p=Q.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=Q.useCallback(function(w){var b=l.current-w.changedTouches[0].clientY;c(w,b)},[c]),g=Q.useCallback(function(w){if(w){var b=Ahe?{passive:!1}:!1;w.addEventListener("wheel",f,b),w.addEventListener("touchstart",p,b),w.addEventListener("touchmove",m,b)}},[m,p,f]),y=Q.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,f]);return Q.useEffect(function(){if(e){var w=h.current;return g(w),function(){y(w)}}},[e,g,y]),function(w){h.current=w}}var lP=["boxSizing","height","overflow","paddingRight","position"],uP={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function cP(t){t.preventDefault()}function dP(t){t.stopPropagation()}function fP(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function hP(){return"ontouchstart"in window||navigator.maxTouchPoints}var pP=!!(typeof window<"u"&&window.document&&window.document.createElement),Jc=0,Jl={capture:!1,passive:!1};function cme(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=Q.useRef({}),o=Q.useRef(null),s=Q.useCallback(function(l){if(pP){var h=document.body,c=h&&h.style;if(r&&lP.forEach(function(g){var y=c&&c[g];i.current[g]=y}),r&&Jc<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(uP).forEach(function(g){var y=uP[g];c&&(c[g]=y)}),c&&(c.paddingRight="".concat(m,"px"))}h&&hP()&&(h.addEventListener("touchmove",cP,Jl),l&&(l.addEventListener("touchstart",fP,Jl),l.addEventListener("touchmove",dP,Jl))),Jc+=1}},[r]),a=Q.useCallback(function(l){if(pP){var h=document.body,c=h&&h.style;Jc=Math.max(Jc-1,0),r&&Jc<1&&lP.forEach(function(f){var p=i.current[f];c&&(c[f]=p)}),h&&hP()&&(h.removeEventListener("touchmove",cP,Jl),l&&(l.removeEventListener("touchstart",fP,Jl),l.removeEventListener("touchmove",dP,Jl)))}},[r]);return Q.useEffect(function(){if(e){var l=o.current;return s(l),function(){a(l)}}},[e,s,a]),function(l){o.current=l}}var dme=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},fme={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function hme(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,s=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,h=ume({isEnabled:i,onBottomArrive:o,onBottomLeave:s,onTopArrive:a,onTopLeave:l}),c=cme({isEnabled:n}),f=function(m){h(m),c(m)};return Xe(Q.Fragment,null,n&&Xe("div",{onClick:dme,css:fme}),e(f))}var pme={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},mme=function(e){var n=e.name,r=e.onFocus;return Xe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:pme,value:"",onChange:function(){}})},gme=mme;function lk(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function vme(){return lk(/^iPhone/i)}function UF(){return lk(/^Mac/i)}function yme(){return lk(/^iPad/i)||UF()&&navigator.maxTouchPoints>1}function wme(){return vme()||yme()}function bme(){return UF()||wme()}var _me=function(e){return e.label},xme=function(e){return e.label},Sme=function(e){return e.value},Eme=function(e){return!!e.isDisabled},kme={clearIndicator:ape,container:Qhe,control:ppe,dropdownIndicator:ope,group:ype,groupHeading:bpe,indicatorsContainer:epe,indicatorSeparator:upe,input:Epe,loadingIndicator:fpe,loadingMessage:zhe,menu:Fhe,menuList:Vhe,menuPortal:Ghe,multiValue:Npe,multiValueLabel:Ape,multiValueRemove:Dpe,noOptionsMessage:Hhe,option:jpe,placeholder:Bpe,singleValue:qpe,valueContainer:Jhe},Tme={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Cme=4,VF=4,Ome=38,Nme=VF*2,Ame={baseUnit:VF,controlHeight:Ome,menuGutter:Nme},Wb={borderRadius:Cme,colors:Tme,spacing:Ame},Dme={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:rP(),captureMenuScroll:!rP(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ome(),formatGroupLabel:_me,getOptionLabel:xme,getOptionValue:Sme,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Eme,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Ohe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function mP(t,e,n,r){var i=zF(t,e,n),o=WF(t,e,n),s=HF(t,e),a=tg(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:s,value:a,index:r}}function Hp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,a){return mP(t,s,e,a)}).filter(function(s){return vP(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=mP(t,n,e,r);return vP(t,o)?o:void 0}).filter(Dhe)}function qF(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,tk(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function gP(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,tk(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Ime(t,e){return qF(Hp(t,e))}function vP(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,s=e.label,a=e.value;return(!GF(t)||!o)&&YF(t,{label:s,value:a,data:i},r)}function Pme(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function Rme(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Yb=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},HF=function(e,n){return e.getOptionLabel(n)},tg=function(e,n){return e.getOptionValue(n)};function zF(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function WF(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=tg(t,e);return n.some(function(i){return tg(t,i)===r})}function YF(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var GF=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Mme=1,KF=function(t){gfe(n,t);var e=wfe(n);function n(r){var i;if(pfe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=bme(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,h){var c=i.props,f=c.onChange,p=c.name;h.name=p,i.ariaOnChange(l,h),f(l,h)},i.setValue=function(l,h,c){var f=i.props,p=f.closeMenuOnSelect,m=f.isMulti,g=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:h,option:c})},i.selectOption=function(l){var h=i.props,c=h.blurInputOnSelect,f=h.isMulti,p=h.name,m=i.state.selectValue,g=f&&i.isOptionSelected(l,m),y=i.isOptionDisabled(l,m);if(g){var w=i.getOptionValue(l);i.setValue(m.filter(function(b){return i.getOptionValue(b)!==w}),"deselect-option",l)}else if(!y)f?i.setValue([].concat(tk(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:p});return}c&&i.blurInput()},i.removeValue=function(l){var h=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),p=c.filter(function(g){return i.getOptionValue(g)!==f}),m=_p(h,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(_p(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,h=i.state.selectValue,c=h[h.length-1],f=h.slice(0,h.length-1),p=_p(l,f,f[0]||null);i.onChange(p,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return Yb(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return gP(Hp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,h=new Array(l),c=0;c<l;c++)h[c]=arguments[c];return She.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(l){return HF(i.props,l)},i.getOptionValue=function(l){return tg(i.props,l)},i.getStyles=function(l,h){var c=i.props.unstyled,f=kme[l](h,c);f.boxSizing="border-box";var p=i.props.styles[l];return p?p(f,h):f},i.getClassNames=function(l,h){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,h)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return Ype(i.props)},i.buildCategorizedOptions=function(){return Hp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return qF(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,h){i.setState({ariaSelection:et({value:l},h)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var h=i.props,c=h.isMulti,f=h.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Dv(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var h=l.touches,c=h&&h.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var h=l.touches,c=h&&h.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),p=Math.abs(c.clientY-i.initialTouchY),m=5;i.userIsDragging=f>m||p>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var h=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var h=i.getFocusableOptions(),c=h.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return GF(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var h=i.props,c=h.isMulti,f=h.backspaceRemovesValue,p=h.escapeClearsValue,m=h.inputValue,g=h.isClearable,y=h.isDisabled,w=h.menuIsOpen,b=h.onKeyDown,_=h.tabSelectsValue,E=h.openMenuOnFocus,x=i.state,k=x.focusedOption,O=x.focusedValue,N=x.selectValue;if(!y&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||m)return;i.focusValue("previous");break;case"ArrowRight":if(!c||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(O)i.removeValue(O);else{if(!f)return;c?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!w||!_||!k||E&&i.isOptionSelected(k,N))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(w){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):g&&p&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Mme),i.state.selectValue=tP(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),s=i.buildFocusableOptions(),a=s.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=s[a],i.state.focusedOptionId=Yb(o,s[a])}return i}return mfe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&nP(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isDisabled,a=o.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(nP(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,s=this.state,a=s.selectValue,l=s.isFocused,h=this.buildFocusableOptions(),c=i==="first"?0:h.length-1;if(!this.props.isMulti){var f=h.indexOf(a[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[c],focusedOptionId:this.getFocusedOptionId(h[c])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,s=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(a);a||(l=-1);var h=s.length-1,c=-1;if(s.length){switch(i){case"previous":l===0?c=0:l===-1?c=h:c=l-1;break;case"next":l>-1&&l<h&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,h=a.indexOf(s);s||(h=-1),i==="up"?l=h>0?h-1:a.length-1:i==="down"?l=(h+1)%a.length:i==="pageup"?(l=h-o,l<0&&(l=0)):i==="pagedown"?(l=h+o,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Wb):et(et({},Wb),this.props.theme):Wb}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,s=this.getStyles,a=this.getClassNames,l=this.getValue,h=this.selectOption,c=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:i,cx:o,getStyles:s,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:g,selectOption:h,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,s=i.isMulti;return o===void 0?s:o}},{key:"isOptionDisabled",value:function(i,o){return zF(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return WF(this.props,i,o)}},{key:"filterOption",value:function(i,o){return YF(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:s,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,s=i.isSearchable,a=i.inputId,l=i.inputValue,h=i.tabIndex,c=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),g=m.Input,y=this.state,w=y.inputIsHidden,b=y.ariaSelection,_=this.commonProps,E=a||this.getElementId("input"),x=et(et(et({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?Q.createElement(g,tt({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:o,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:c,type:"text",value:l},x)):Q.createElement(ame,tt({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Zm,onFocus:this.onInputFocus,disabled:o,tabIndex:h,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),s=o.MultiValue,a=o.MultiValueContainer,l=o.MultiValueLabel,h=o.MultiValueRemove,c=o.SingleValue,f=o.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,y=m.isDisabled,w=m.isMulti,b=m.inputValue,_=m.placeholder,E=this.state,x=E.selectValue,k=E.focusedValue,O=E.isFocused;if(!this.hasValue()||!g)return b?null:Q.createElement(f,tt({},p,{key:"placeholder",isDisabled:y,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),_);if(w)return x.map(function(C,D){var P=C===k,A="".concat(i.getOptionLabel(C),"-").concat(i.getOptionValue(C));return Q.createElement(s,tt({},p,{components:{Container:a,Label:l,Remove:h},isFocused:P,isDisabled:y,key:A,index:D,removeProps:{onClick:function(){return i.removeValue(C)},onTouchEnd:function(){return i.removeValue(C)},onMouseDown:function(L){L.preventDefault()}},data:C}),i.formatOptionLabel(C,"value"))});if(b)return null;var N=x[0];return Q.createElement(c,tt({},p,{data:N,isDisabled:y}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||h)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Q.createElement(o,tt({},s,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!o||!h)return null;var f={"aria-hidden":"true"};return Q.createElement(o,tt({},s,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,s=i.IndicatorSeparator;if(!o||!s)return null;var a=this.commonProps,l=this.props.isDisabled,h=this.state.isFocused;return Q.createElement(s,tt({},a,{isDisabled:l,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var s=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Q.createElement(o,tt({},s,{innerProps:h,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),s=o.Group,a=o.GroupHeading,l=o.Menu,h=o.MenuList,c=o.MenuPortal,f=o.LoadingMessage,p=o.NoOptionsMessage,m=o.Option,g=this.commonProps,y=this.state.focusedOption,w=this.props,b=w.captureMenuScroll,_=w.inputValue,E=w.isLoading,x=w.loadingMessage,k=w.minMenuHeight,O=w.maxMenuHeight,N=w.menuIsOpen,C=w.menuPlacement,D=w.menuPosition,P=w.menuPortalTarget,A=w.menuShouldBlockScroll,I=w.menuShouldScrollIntoView,L=w.noOptionsMessage,F=w.onMenuScrollToTop,q=w.onMenuScrollToBottom;if(!N)return null;var M=function(z,K){var X=z.type,W=z.data,J=z.isDisabled,Z=z.isSelected,te=z.label,le=z.value,pe=y===W,ge=J?void 0:function(){return i.onOptionHover(W)},Ce=J?void 0:function(){return i.selectOption(W)},Fe="".concat(i.getElementId("option"),"-").concat(K),De={id:Fe,onClick:Ce,onMouseMove:ge,onMouseOver:ge,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return Q.createElement(m,tt({},g,{innerProps:De,data:W,isDisabled:J,isSelected:Z,key:Fe,label:te,type:X,value:le,isFocused:pe,innerRef:pe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(z.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var z=V.data,K=V.options,X=V.index,W="".concat(i.getElementId("group"),"-").concat(X),J="".concat(W,"-heading");return Q.createElement(s,tt({},g,{key:W,data:z,options:K,Heading:a,headingProps:{id:J,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(Z){return M(Z,"".concat(X,"-").concat(Z.index))}))}else if(V.type==="option")return M(V,"".concat(V.index))});else if(E){var Y=x({inputValue:_});if(Y===null)return null;B=Q.createElement(f,g,Y)}else{var H=L({inputValue:_});if(H===null)return null;B=Q.createElement(p,g,H)}var j={minMenuHeight:k,maxMenuHeight:O,menuPlacement:C,menuPosition:D,menuShouldScrollIntoView:I},U=Q.createElement($he,tt({},g,j),function(V){var z=V.ref,K=V.placerProps,X=K.placement,W=K.maxHeight;return Q.createElement(l,tt({},g,j,{innerRef:z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:X}),Q.createElement(hme,{captureEnabled:b,onTopArrive:F,onBottomArrive:q,lockEnabled:A},function(J){return Q.createElement(h,tt({},g,{innerRef:function(te){i.getMenuListRef(te),J(te)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:W,focusedOption:y}),B)}))});return P||D==="fixed"?Q.createElement(c,tt({},g,{appendTo:P,controlElement:this.controlRef,menuPlacement:C,menuPosition:D}),U):U}},{key:"renderFormField",value:function(){var i=this,o=this.props,s=o.delimiter,a=o.isDisabled,l=o.isMulti,h=o.name,c=o.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!a)return Q.createElement(gme,{name:h,onFocus:this.onValueInputFocus});if(!(!h||a))if(l)if(s){var p=f.map(function(y){return i.getOptionValue(y)}).join(s);return Q.createElement("input",{name:h,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,w){return Q.createElement("input",{key:"i-".concat(w),name:h,type:"hidden",value:i.getOptionValue(y)})}):Q.createElement("input",{name:h,type:"hidden",value:""});return Q.createElement("div",null,m)}else{var g=f[0]?this.getOptionValue(f[0]):"";return Q.createElement("input",{name:h,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,s=o.ariaSelection,a=o.focusedOption,l=o.focusedValue,h=o.isFocused,c=o.selectValue,f=this.getFocusableOptions();return Q.createElement(tme,tt({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:a,focusedValue:l,isFocused:h,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,s=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,h=this.props,c=h.className,f=h.id,p=h.isDisabled,m=h.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return Q.createElement(a,tt({},y,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),Q.createElement(o,tt({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),Q.createElement(l,tt({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),Q.createElement(s,tt({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var s=o.prevProps,a=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,h=o.ariaSelection,c=o.isFocused,f=o.prevWasFocused,p=o.instancePrefix,m=i.options,g=i.value,y=i.menuIsOpen,w=i.inputValue,b=i.isMulti,_=tP(g),E={};if(s&&(g!==s.value||m!==s.options||y!==s.menuIsOpen||w!==s.inputValue)){var x=y?Ime(i,_):[],k=y?gP(Hp(i,_),"".concat(p,"-option")):[],O=a?Pme(o,_):null,N=Rme(o,x),C=Yb(k,N);E={selectValue:_,focusedOption:N,focusedOptionId:C,focusableOptionsWithIds:k,focusedValue:O,clearFocusValueOnUpdate:!1}}var D=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},P=h,A=c&&f;return c&&!A&&(P={value:_p(b,_,_[0]||null),options:_,action:"initial-input-focus"},A=!f),(h==null?void 0:h.action)==="initial-input-focus"&&(P=null),et(et(et({},E),D),{},{prevProps:i,ariaSelection:P,prevWasFocused:A})}}]),n}(Q.Component);KF.defaultProps=Dme;var Lme=Q.forwardRef(function(t,e){var n=hfe(t);return Q.createElement(KF,tt({ref:e},n))}),QF=Lme;function XF({msg:t}){return S.jsx("p",{className:"pl-1 pt-1 text-sm text-red-500",children:t})}const jme={id:"no_host",displayName:" "};function JF({label:t,selectedHosts:e,onChange:n,errorMsg:r}){const o=[...Ve(ma),jme].map(a=>({value:a.id,label:a.displayName})),s=o.filter(({value:a})=>e==null?void 0:e.includes(a));return S.jsxs("div",{className:"flex flex-col",children:[S.jsx(ko,{text:t}),S.jsx(QF,{className:"h-12 shadow-none shadow-purple2 focus-within:border-pointCoral [&>div:nth-child(3)]:h-full [&>div:nth-child(3)]:rounded-xl [&>div:nth-child(3)]:border-gray1",menuPosition:"fixed",name:"host",placeholder:`${t} `,defaultValue:s.length?[...s]:[],isMulti:!0,options:o,isClearable:!1,isSearchable:!1,onChange:a=>n(a)}),r&&S.jsx(XF,{msg:r})]})}const Gb=2;function Fme({title:t,currentValue:e,yearMonthId:n}){var F,q;const r=Ve(Ot),[i,o]=Q.useState(1),[s,a]=Q.useState({id:"",isEditing:!1}),l=Ve(Ai(n)),h=l?{...l.meeting,...e}:e,{currMeeting:c,onMeetingChange:f,savedPlaceList:p}=w3(h,n),{anonymous:m}=ei("register"),g=+n.slice(-2),{isPending:y,sendPushNotificationToAllUser:w}=Ji(),{hideModal:b}=Yt(),{errorMsg:_,handleErrorMsg:E}=_E(),{eventMonth:x,time:k,place:O}=c,N={place:[{condition:i===1&&O==="",error:" ."}],eventTitle:[{condition:i===1&&x.title==="",error:"  ."}],hosts:[{condition:i===2&&x.hosts.length===0,error:"  ."}],contents:[{condition:i===2&&x.contents.some(({title:M})=>M===""),error:"  ."}]},C=async()=>{const M=an(Jt,Ci,n);await hn(M,{meeting:c}),alert(`${g}   !`),await w({title:`${c.eventMonth.title}  `,body:`${ht(k,"M d EEEE a h mm")} ${O} `})},D=async()=>{const M={meeting:c,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r.uid};await pE(Ci,n,M),alert(`${g}   !`),await w({title:`${c.eventMonth.title}  `,body:`${g}  ! ${ht(k,"M d EEEE a h mm")} ${O} `})},P=async M=>{M.preventDefault();try{if(E(N))return;l?C():D()}catch{window.alert("     .  .")}finally{b()}},A=(M,B)=>{if(M==="next"&&!E(N)){const H=i===Gb?i:i+1;o(H)}if(M==="prev"){const Y=i===1?i:i-1;o(Y)}},I=M=>{const B=document.getElementById(M);B==null||B.focus()},L=M=>s.id===M&&s.isEditing;return S.jsx(Di,{title:t,className:"max-w-96",children:S.jsxs("form",{onSubmit:P,className:"flex flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[i===1&&S.jsxs(S.Fragment,{children:["eventMonth"in e&&S.jsx(mn,{label:" ",placeholder:"  .",value:x.title,onChange:M=>{f({eventMonth:{...x,title:M.target.value}})},errorMsg:_==null?void 0:_.eventTitle}),"time"in e&&S.jsx(ZE,{id:"",label:"",selectsEnd:!0,selected:new Date(k),dateFormat:"M d EEEE a hh:mm",onChange:M=>{f({time:ht(M,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0,placeholderText:"  ."}),"place"in e&&S.jsx(mn,{label:"",value:O,onChange:M=>{f({place:M.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:_==null?void 0:_.place,children:S.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(F=p==null?void 0:p.place)==null?void 0:F.map(M=>S.jsx(ar,{text:M,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>f({place:M})},M))})})]}),i===2&&S.jsx(S.Fragment,{children:"eventMonth"in e&&S.jsxs(S.Fragment,{children:[S.jsx(JF,{label:" ",selectedHosts:e.eventMonth.hosts,onChange:M=>{const B=M.map(({value:Y})=>Y);f({eventMonth:{...x,hosts:B}})},errorMsg:_.hosts}),S.jsxs("div",{className:"flex h-[40vh] flex-col gap-y-3 overflow-y-scroll scrollbar-hide",children:[(x==null?void 0:x.contents.length)>0&&S.jsx("ul",{className:"flex flex-col gap-y-3",children:(q=x==null?void 0:x.contents)==null?void 0:q.map(({id:M,title:B},Y)=>S.jsx("li",{children:S.jsx(mn,{label:Y===0&&"  ",readOnly:!L(M),id:M,iconName:"FiHash",value:B,placeholder:L(M)?"  .":"",className:"bg-blue-50 !pr-16 font-medium read-only:cursor-default read-only:border-gray1 read-only:bg-white",onChange:H=>{const j=x.contents.map(U=>M===U.id?{...U,title:H.target.value}:U);f({eventMonth:{...x,contents:j}})},errorMsg:B===""&&_.contents,tailIconChildren:S.jsxs("div",{className:"absolute right-3 top-[15px] flex items-center gap-2",children:[L(M)?S.jsx(x3,{onClick:()=>{a({id:"",isEditing:!1})},className:"!size-[17px]"}):S.jsx(E3,{onClick:()=>{a({id:M,isEditing:!0}),I(M)},className:"!size-[18px]"}),Y>2&&S.jsx(Of,{className:"!size-[18px]",onClick:()=>{if(Y===0)return;const H=x.contents.filter(j=>j.id!==M);f({eventMonth:{...x,contents:H}})}})]})})},M))}),S.jsx("button",{type:"button",onClick:()=>{f({eventMonth:{...x,contents:[...x.contents,{id:zt(),title:"",detail:""}]}})},className:"flex min-h-12 w-full items-center justify-center rounded-xl border border-gray1",children:S.jsx(CE,{className:"size-5 text-blue1"})})]})]})}),S.jsxs("div",{className:"ml-auto mt-4 flex gap-x-2",children:[S.jsx(ft,{type:"button",name:"",handleClick:()=>A("prev"),disabled:i===1,className:"!shadow-none",color:"gray"}),Gb!==i&&S.jsx(ft,{type:"button",name:"",handleClick:()=>A("next"),className:"!shadow-none"}),Gb===i&&S.jsx(ft,{type:"submit",name:l!=null&&l.meeting?"":`${g}  `,className:"ml-auto",disabled:y||m,color:"blue"})]}),m&&S.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function $me(){const t=Ve(fre),e=Ve(Ai(dw)),{book:n,id:r}=e||{},{field:i}=t||{},o={place:" ",time:ht(s3(+Ct,+PN,11,0),"yyyy-MM-dd'T'HH:mm:ss"),eventMonth:{title:"",contents:[{id:zt(),title:`${Sne}  `,detail:""},{id:zt(),title:`${Ct}   `,detail:""},{id:zt(),title:`${Ct}   ?`,detail:""},{id:zt(),title:`${Ct}  ?`,detail:""}],hosts:[]}},{showModal:s}=Yt(),a=kr(),l=()=>a("/search",{state:{registerYearMonth:dw}}),h=async()=>{s({element:S.jsx(Fme,{title:`${PN}  `,currentValue:o,yearMonthId:dw})})};return S.jsx(S.Fragment,{children:e?n?S.jsx(oF,{month:ht(r,"M"),book:n,bookFields:i,className:"!mb-0 h-full"}):S.jsx(nF,{yearMonthId:r,event:e.meeting,className:"!mb-0 h-full"}):S.jsx(Do,{text:"    .",children:S.jsxs("div",{className:"flex gap-x-3",children:[S.jsx(ft,{name:" ",color:"lightBlue",handleClick:l,children:S.jsx(koe,{className:"mr-2"})}),S.jsx(ft,{name:" ",color:"purple",handleClick:h,children:S.jsx(Toe,{className:"mr-2"})})]})})})}const ZF=({voteDetail:t})=>{const{id:e,title:n,voteItems:r,deadline:i}=t;return S.jsxs("div",{className:"flex w-fit flex-col justify-between rounded-card bg-white px-7 py-5 shadow-card max-sm:w-full",children:[S.jsxs("h4",{className:"mb-3 flex items-center gap-1 font-medium",children:[S.jsx(NE,{className:"text-base"}),n]}),S.jsx("ul",{className:"flex gap-6",children:r.map(({id:o,book:s})=>S.jsx("li",{children:S.jsx(On,{thumbnail:s.thumbnail,title:s.title,className:"w-16"})},o))}),S.jsxs("div",{className:"mt-5 flex items-end justify-between gap-2",children:[S.jsx(jE,{hyphenDate:i,isDateMark:!1}),S.jsxs(Ir,{to:`/vote/${e}`,state:{collName:Pu,docId:e},className:"flex items-center justify-end gap-0.5 py-0.5",children:[S.jsx("span",{className:"text-sm text-gray1",children:" "}),S.jsx(EE,{className:"text-sm text-gray1"})]})]})]})},Bme=()=>{const[t,e]=Wt(yE),n=t==null?void 0:t.filter(o=>o.deadline>=xm);Q.useEffect(()=>{t!=null&&t.length||Yn(Pu,e)},[]);const r=kr(),i={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},320:{slidesPerView:1}}};return S.jsx(S.Fragment,{children:n!=null&&n.length?S.jsx(Nf,{options:i,children:n==null?void 0:n.map(o=>S.jsx(nc,{children:S.jsx(ZF,{voteDetail:o})},o.id))}):S.jsx(Do,{text:"  .",onCreateClick:()=>r("/vote"),createBtnTitle:"  "})})},Ume=()=>{const t=kr(),e=ea(Zu);Q.useEffect(()=>{Yn(Ci,e)},[]);const n=[{name:" ",onClick:()=>t("/monthlyinfo",{state:"fieldAndHost"}),color:"blue"},{name:"",onClick:()=>t("/monthlyinfo",{state:"absence"}),color:"blue"},{name:"",onClick:()=>t("/challenge"),color:"blue"},{name:"",onClick:()=>t("/yearClosingEvent"),color:"gray"}];return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:" "}),S.jsxs("main",{children:[S.jsxs("div",{className:"my-2.5 mb-16 grid grid-cols-3 gap-x-6 max-md:flex max-md:flex-col max-md:gap-y-16",children:[S.jsx(Mt,{title:" ",className:"col-span-2 !my-0",children:S.jsx(sF,{})}),S.jsx(Mt,{title:" ",className:"col-span-1 !my-0 size-full",children:S.jsx($me,{})})]}),S.jsx(Mt,{className:"!my-28 grid w-full grid-cols-4 gap-4 max-sm:my-20 max-sm:grid-cols-2 max-sm:gap-2.5",children:n.map(({name:r,onClick:i,color:o})=>S.jsx(ft,{name:`${Ct} ${r}`,className:"h-fit w-full rounded-xl !px-0 py-4",color:o,handleClick:i},r))}),S.jsx(Mt,{title:"   ",children:S.jsx(hF,{})}),S.jsx(Mt,{title:" ",children:S.jsx(Bme,{})})]}),S.jsx(sfe,{})]})},Kb=({isLoggedIn:t})=>{var l;const e=(l=Ht.currentUser)==null?void 0:l.isAnonymous,{currEmail:n,currPassword:r,onSubmit:i,onChange:o,onAnonymousLoginClick:s}=yre(t),a=kr();return S.jsx(S.Fragment,{children:S.jsxs("main",{className:"mx-auto flex h-screen w-[50%] flex-col items-center justify-center max-sm:w-[90%]",children:[S.jsxs("header",{className:"mt-[45%] flex w-full flex-col items-center",children:[S.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-40"}),S.jsx("h1",{className:"text-lg font-medium",children:" "})]}),S.jsxs("form",{onSubmit:i,className:"mt-5 flex w-full flex-col gap-3",children:[S.jsx(mn,{name:"email",type:"email",value:n.email,placeholder:"  .",onChange:o,autoComplete:"email",errorMsg:n.error}),S.jsx(mn,{name:"password",type:"password",placeholder:" .",value:r.password,onChange:o,autoComplete:"current-password",errorMsg:r.error}),S.jsx(ft,{type:"submit",name:"",color:"blue",className:"w-full"}),S.jsx(ft,{type:"button",handleClick:()=>a("/create_account"),name:"",className:"w-full"}),!e&&S.jsx(ft,{type:"button",color:"blue",name:" ",handleClick:s,className:"w-full"})]}),S.jsx(Ir,{to:"/find_pw",className:"mt-7 text-[13px] text-gray1",children:" "})]})})};function Aa({isMulti:t=!1,data:e,label:n}){const r="px-1.5 py-4 text-center text-sm";return S.jsxs(S.Fragment,{children:[t&&S.jsx("td",{className:`${r}`,children:S.jsx("ul",{className:"flex flex-wrap items-center justify-center gap-3",children:e!=null&&e.length&&e?e.map(i=>i==="no_host"?S.jsx("span",{className:"text-gray2",children:" "},i):S.jsx(ti,{userId:i},i)):S.jsx("span",{className:"text-gray2",children:""})})}),!t&&S.jsxs(S.Fragment,{children:[n===""&&S.jsxs("td",{className:`${r} !text-[15px] ${+Qr===e?"font-semibold text-blue-700":"text-blue-400"}`,children:[e,""]}),(n===""||n==="")&&S.jsx("td",{className:`${r}`,children:e?n===""?"":"":""}),n!==""&&n!==""&&n!==""&&S.jsx("td",{className:`${r}`,children:e||S.jsx("span",{className:"text-gray2",children:""})})]})]})}function uk({color:t="blue",labels:e,rowDataList:n,isEditable:r,onEditClick:i}){const o={blue:"bg-blue4",yellow:"bg-yellow2"};return S.jsx("div",{className:"relative overflow-hidden rounded-xl bg-white shadow-card",children:S.jsxs("table",{className:"w-full",children:[S.jsxs("colgroup",{children:[e.includes("")&&S.jsx("col",{width:"18%"}),S.jsx("col",{width:"40%"}),S.jsx("col",{width:"40%"}),r&&S.jsx("col",{width:"10%"})]}),S.jsx("thead",{children:S.jsxs("tr",{className:`${o[t]} relative rounded-t-xl`,children:[e.map(s=>S.jsx("th",{className:"py-3 font-medium text-blue3",children:s},s)),r&&S.jsx("th",{"aria-label":""})]})}),S.jsx("tbody",{children:n==null?void 0:n.map(s=>S.jsx(Q.Fragment,{children:S.jsxs("tr",{className:"border-b border-[#f0f0f0] last:border-0",children:["month"in s&&e.includes("")&&S.jsx(Aa,{label:"",data:s.month}),"field"in s&&S.jsx(Aa,{label:"",data:s.field}),"hosts"in s&&S.jsx(Aa,{isMulti:!0,label:"",data:s.hosts}),"onceAbsenceMembers"in s&&S.jsx(Aa,{isMulti:!0,label:"",data:s.onceAbsenceMembers}),"breakMembers"in s&&S.jsx(Aa,{isMulti:!0,label:"",data:s.breakMembers}),"onceAbsenceMonth"in s&&S.jsx(Aa,{label:"",data:s.onceAbsenceMonth}),"breakMonth"in s&&S.jsx(Aa,{label:"",data:s.breakMonth}),r&&"month"in s&&S.jsx("td",{className:"px-4 text-center",children:S.jsx("button",{type:"button",onClick:()=>i(s.month),children:S.jsx(kE,{className:"stroke-gray2"})})})]})},s.month))})]})})}function Vme({isMonth:t,isEditable:e}){const[n,r]=Wt(El);Q.useEffect(()=>{Sl(n)||lr(Ci,Ru,r)},[]);const i=["",""],o=t?["",...i]:i,s=async()=>{await Oo(an(Jt,Ci,Ru),One)};return S.jsx(S.Fragment,{children:n!=null&&n.absenceMembers?S.jsx(uk,{labels:o,rowDataList:n==null?void 0:n.absenceMembers,isEditable:e}):S.jsx(Do,{text:"    .",createBtnTitle:`${Ct}    `,onCreateClick:s})})}function qme({field:t,setSelectedValues:e,errorMsg:n}){const r=wd.map(s=>({value:`${s.id}`,label:s.name})),i=r.find(({label:s})=>s===t),o=s=>{const a=s.label;e(l=>({...l,field:a}))};return S.jsxs("div",{children:[S.jsx(ko,{text:""}),S.jsx(QF,{className:"h-12 [&>div]:h-full [&>div]:rounded-xl [&>div]:border-gray1",menuPosition:"fixed",options:r,isSearchable:!1,defaultValue:i||r[12],onChange:o}),n&&S.jsx(XF,{msg:n})]})}function Hme({month:t}){const{errorMsg:e,fieldAndHostList:n,onSubmit:r,setSelectedValues:i}=hre(),o=n.find(l=>l.month===t),{field:s,hosts:a}=o;return Q.useEffect(()=>{i(o)},[]),S.jsx(Di,{title:`${t}   `,children:S.jsxs("form",{onSubmit:l=>r(l,t),className:"flex flex-col gap-y-4",children:[S.jsx(qme,{field:s,setSelectedValues:i,errorMsg:e==null?void 0:e.field}),S.jsx(JF,{label:"",selectedHosts:a,onChange:l=>{const h=l.map(({value:c})=>c);i(c=>({...c,hosts:h}))},errorMsg:e==null?void 0:e.hosts}),S.jsx(ft,{type:"submit",name:"",className:"self-end"})]})})}const zme=({isMonth:t=!1,isEditable:e=!1})=>{const{bookFieldAndHostList:n}=Ve(cv),{showModal:r}=Yt(),i=a=>{r({element:S.jsx(Hme,{month:a})})},o=async()=>{pE(`BookClub-${Ct}`,Wd,Nne)},s=t?["","",""]:["",""];return S.jsx(S.Fragment,{children:n?S.jsx(uk,{labels:s,rowDataList:n,onEditClick:i,isEditable:e}):S.jsx(Do,{text:"     .",createBtnTitle:`${Ct}      `,onCreateClick:o})})};function Wme(){const{uid:t}=Ve(Ot),{state:e}=Fr(),r={fieldAndHost:" ",absence:""}[e];return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${Ct} ${r} `,backBtn:!0}),S.jsxs("main",{children:[r===""&&S.jsxs(Mt,{children:[S.jsx(Vme,{isMonth:!0}),S.jsx(sx,{title:"   ",to:"/setting/absence",state:{userId:t},className:"pt-3"})]}),r===" "&&S.jsx(Mt,{title:"  ",children:S.jsx(zme,{isEditable:!0,isMonth:!0})})]})]})}const Yme=({document:t})=>{const{id:e,book:n,meeting:{time:r,place:i}}=t,o=ht(e,"M");return S.jsxs("div",{className:"relative flex h-full w-full cursor-pointer flex-col items-center justify-between gap-1 rounded-card bg-white px-4 py-5 shadow-card",children:[S.jsx(ar,{color:e===Vn?"lightBlue":"purple",shape:"rounded",text:`${o} `,className:"font-medium"}),n?S.jsxs(S.Fragment,{children:[S.jsx(On,{thumbnail:n.thumbnail,title:n.title,className:"mt-4 w-1/2 max-sm:w-1/4"}),S.jsx("h3",{className:"my-2 text-center text-lg font-medium leading-6",children:n.title})]}):S.jsx("h3",{className:"my-2 text-center text-lg font-medium",children:t.meeting.eventMonth.title}),S.jsx(rF,{time:r,place:i,className:"flex flex-col items-center"})]})};function Gme(){const{clubByYear:t,selectedYear:e,setSelectedYear:n}=bE();return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:" "}),S.jsxs("main",{children:[S.jsx(h5,{selectedYear:e,handleChangeYear:n,buttonClassName:"!shadow-sm !px-3 !py-2"}),S.jsx(Mt,{title:`${e} `,className:"!mt-10",children:t.length!==0?S.jsx("ul",{className:"grid grid-cols-4 gap-5 max-md:grid-cols-3 max-sm:mt-2 max-sm:flex max-sm:flex-col [&>div]:col-span-4",children:t.map(r=>S.jsx(Ir,{to:`/bookclub${Vn===r.id?"":`/${r.id}`}`,children:S.jsx(Yme,{document:r})},r.id))}):S.jsx(Do,{text:"    ."})})]})]})}const Kme=({searchedBook:t,registerYearMonth:e})=>{const n=Ve(Ai(e)),[r,i]=Q.useState(!1),o=e.slice(-2),{showModal:s}=Yt(),a={place:" ",time:ht(s3(+Ct,+o,11,0),"yyyy-MM-dd'T'HH:mm:ss")},l=async()=>{s({element:S.jsx(eF,{title:`${o}  `,currentValue:a,yearMonthId:e,registerBook:t})})};return Q.useEffect(()=>{n&&i(!0)},[r]),S.jsx(S.Fragment,{children:r&&t.title===(n==null?void 0:n.book.title)?S.jsx(ft,{name:" ",disabled:!0,className:"ml-auto py-2"}):S.jsx(ft,{name:`${o}  ${n!=null&&n.book?"":""}`,type:"button",handleClick:l,color:"blue",className:"ml-auto py-2"})})},Qme=({searchedBook:t})=>{const[e,n]=Q.useState(!1),{state:r}=Fr(),i=()=>n(g=>!g),{thumbnail:o,title:s,authors:a,publisher:l,url:h,datetime:c,price:f,contents:p}=t,m="size-5 w-[10%] text-gray1";return S.jsxs(S.Fragment,{children:[S.jsxs("button",{type:"button",onClick:i,className:"flex w-full items-center justify-between gap-1 rounded-xl bg-white px-3 py-2 text-text shadow-card",children:[S.jsx(Cv,{book:t,className:"mr-1 h-14 w-[90%] items-center"}),e?S.jsx(Kde,{className:m}):S.jsx(Gde,{className:m})]}),S.jsx("div",{className:`-m-2 overflow-hidden p-2 transition-[max-height] duration-500 ease-in-out ${e?"max-h-[1000px]":"max-h-0"}`,children:S.jsxs("div",{className:"mb-4 mt-2 rounded-xl bg-white p-4 shadow-card",children:[S.jsx(On,{thumbnail:o,title:s,url:h,className:"float-left mr-3 w-28"}),S.jsxs("div",{className:"mb-4 h-full [&>div]:text-text",children:[S.jsx("h1",{className:"mb-1 text-lg font-medium",children:s!==""?` ${s} `:""}),a&&S.jsx(Ao,{authors:a,publisher:l}),c&&S.jsxs("div",{className:"mb-0.5 mt-3",children:[S.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",ht(c,"yyyy M d")]}),f&&S.jsxs("div",{className:"mb-0.5",children:[S.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",t.price.toLocaleString(),""]}),p&&S.jsxs("p",{className:"my-3",children:[p,"..."]})]}),S.jsx(Kme,{searchedBook:t,registerYearMonth:r==null?void 0:r.registerYearMonth})]})})]})},Xme=()=>{const{onBookQueryChange:t,searchList:e,setSearchList:n}=xE(),r=Q.useRef(null);return Q.useEffect(()=>{n([]),r.current.focus()},[]),S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:" ",backBtn:!0}),S.jsx("main",{children:S.jsxs(Mt,{title:" ",children:[S.jsxs("form",{className:"mb-8 flex w-1/2 gap-3 max-sm:mb-4 max-sm:w-full",children:[S.jsx(mn,{ref:r,placeholder:"  .",onChange:t,className:"flex-1"}),S.jsx(ft,{name:"",className:"min-w-fit"})]}),S.jsxs("span",{children:[" ",e.length,""," ",S.jsx("span",{className:"text-gray1",children:"( 10 .)"})]}),S.jsx("ul",{className:"mt-4 columns-2 gap-x-4 max-sm:mt-2 max-sm:columns-1 max-sm:gap-x-0",children:e.map((i,o)=>S.jsx("li",{className:"mb-4 w-full items-center justify-between",children:S.jsx(Qme,{searchedBook:i})},`${i.isbn}-${o}`))})]})})]})},Jme=()=>{const{anonymous:t}=ei("see"),e=kr(),n=()=>{if(t)return window.alert(" !");window.confirm("  ?")===!0&&(Ht.signOut(),e("/"))};return S.jsx("button",{className:"border-none bg-transparent",onClick:n,children:""})},Zme=()=>{var o;const{email:t}=Ve(Ot),{blockLinkAndAlertJoinMember:e}=ei("see"),n=[{to:"edit-profile",name:" "},{to:"edit-password",name:" "},{to:"absence",name:""}],r=[{to:"",name:""},{to:"delete-account",name:""}],i=(o=Ht.currentUser)==null?void 0:o.isAnonymous;return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:"",backBtn:!0,showDesktop:!1,backTo:"/bookshelf"}),S.jsxs("main",{children:[S.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:" "}),S.jsxs("ul",{className:"mb-14 divide-y divide-gray3",children:[n.map(({to:s,name:a})=>S.jsx("li",{className:"py-3",children:S.jsx(Ir,{to:s,onClick:e,children:a})},s)),!i&&S.jsx("li",{className:"py-3",children:S.jsx(Ir,{to:"notification",children:""})})]}),S.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:""}),S.jsxs("ul",{className:"divide-y divide-gray3",children:[r.map(({to:s,name:a})=>S.jsx("li",{className:"py-3",children:s===""?S.jsx(Jme,{}):S.jsx(Ir,{to:s,onClick:e,children:a})},s)),t===hE&&S.jsx("li",{className:"py-3",children:S.jsx(Ir,{to:"developer",children:""})})]})]})]})};function ege({voteId:t,book:e,onCreateClick:n,onDeleteClick:r}){return S.jsxs("div",{className:"relative min-w-fit",children:[e.title===""?S.jsx("button",{type:"button",className:"flex aspect-[0.68/1] w-[70px] items-center justify-center rounded-r-lg border border-gray1 shadow-card",onClick:n,children:S.jsx(OE,{className:"size-[28px] text-gray2"})}):S.jsx(On,{thumbnail:e.thumbnail,title:e.title,className:"w-[70px]"}),t>2&&S.jsx("button",{type:"button",onClick:()=>r(t),className:"absolute -right-1.5 -top-1.5 p-0.5",children:S.jsx(Of,{className:"size-[25px] rounded bg-white p-0.5 text-2xl shadow-card"})})]})}function tge({label:t,containerClassName:e,...n}){return S.jsxs("div",{className:`relative flex flex-col ${e}`,children:[t&&S.jsx(ko,{text:t}),S.jsx("textarea",{...n,className:`h-32 w-full resize-none rounded-xl border border-gray1 p-3 outline-none hover:bg-blue-50 ${n.className}`})]})}const nge={isOpenSearchBook:!1,itemId:1},rge=()=>{const[t,e]=Q.useState(nge),[n,r]=Q.useState(!1),{newVote:i,setNewVote:o,onNewVoteSubmit:s,onVoteTitleChange:a,onDateChange:l,onAddVoteItemBtn:h,onDeleteVoteItemClick:c,isPending:f}=lre(),{searchInputRef:p,onBookQueryChange:m,searchList:g,resetSearchList:y}=xE(),w=O=>{y(),e(({isOpenSearchBook:N,itemId:C})=>({itemId:O||C,isOpenSearchBook:!N}))},b=()=>r(O=>!O),_=O=>{const{title:N,url:C,thumbnail:D}=O,P={title:N,url:C,thumbnail:D},A=i.voteItems.map(I=>I.id===t.itemId?{...I,book:P}:I);o({...i,voteItems:A}),b()},E=O=>{const{value:N}=O.currentTarget,C={...i,voteItems:i.voteItems.map(D=>D.id===t.itemId?{...D,selectReason:N}:D)};o(C)},{title:x,voteItems:k}=i;return S.jsxs(Di,{title:"  ",className:"max-w-[500px]",children:[!t.isOpenSearchBook&&S.jsxs("form",{onSubmit:s,className:"flex flex-col gap-4 overflow-y-scroll scrollbar-hide",children:[S.jsx(mn,{label:"",type:"text",placeholder:": 1  ",value:x,onChange:a,required:!0}),S.jsxs("div",{children:[S.jsx("span",{className:"py-1 pl-1 text-sm font-medium text-blue1",children:"  "}),S.jsxs("ul",{className:"flex gap-x-3 overflow-x-scroll py-1 scrollbar-hide",children:[k.map(({id:O,book:N})=>S.jsx(ege,{voteId:O,book:N,onCreateClick:()=>w(O),onDeleteClick:()=>c(O)},O)),S.jsx("button",{type:"button",onClick:h,disabled:k.length>=4,className:"flex h-[inherit] items-center justify-center px-2 text-blue1 disabled:text-gray2",children:S.jsx(CE,{className:"text-xl"})})]})]}),S.jsx(ZE,{id:" ",label:" ",selected:new Date(i.deadline),onChange:l,selectsEnd:!0,endDate:new Date(i.deadline),dateFormat:"yyyy MM dd"}),S.jsx(ft,{type:"submit",name:"  ",className:"mt-3 self-end",disabled:f,color:"blue"})]}),t.isOpenSearchBook&&(n?S.jsxs(S.Fragment,{children:[S.jsx(tge,{label:" 2",id:"select-reason",placeholder:"      .",value:k[t.itemId-1].selectReason,onChange:E}),S.jsx(ft,{type:"button",name:" ",handleClick:()=>{b(),w()},className:"mt-3 self-end"})]}):S.jsxs(S.Fragment,{children:[S.jsx(mn,{id:"search-book",label:" ",ref:p,placeholder:"  .",onChange:m,iconName:"FiSearch"}),S.jsx(lF,{searchList:g,onSelectBtnClick:_})]}))]})};function ige({vote:t,collName:e}){const[n,r]=Q.useState([]),{voteItems:i,title:o,id:s,createdAt:a,creatorId:l}=t;return Q.useEffect(()=>{n!=null&&n.length||Yn(`${e}/VoteId-${s}/${Q_}`,r)},[]),S.jsxs("div",{className:"group relative flex w-full flex-col justify-between rounded-card bg-white bg-opacity-65 p-4 opacity-80 shadow-card",children:[S.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[S.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium text-gray1",children:[S.jsx(NE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),Uee(o,40)]}),S.jsx(ti,{userId:l})]}),S.jsx("ul",{className:"my-3 flex items-center justify-center gap-x-5",children:i.map(({book:{title:h,thumbnail:c},id:f})=>S.jsx("li",{className:"relative",children:S.jsx(On,{title:h,thumbnail:c,className:"w-16"})},f))}),S.jsx(Ir,{to:`/vote/${s}`,state:{collName:e,docId:s},"aria-label":"",className:"absolute right-4 top-[40%] flex size-12 items-center justify-center rounded-full border bg-blue1 opacity-20 group-hover:opacity-100",children:S.jsx(EE,{className:"text-xl text-white"})}),S.jsx("span",{className:"text-end text-sm text-gray1",children:new Date(a).toLocaleDateString()})]})}const oge=()=>{const[t,e]=Wt(yE),{showModal:n}=Yt();Q.useEffect(()=>{t!=null&&t.length||Yn(Pu,e)},[]);const r=t==null?void 0:t.filter(o=>o.deadline>=xm),i=t==null?void 0:t.filter(o=>o.deadline<xm);return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:" "}),S.jsxs("main",{children:[S.jsx(Mt,{title:" ",titleBtn:S.jsx("button",{type:"button",onClick:()=>n({element:S.jsx(rge,{})}),children:S.jsx(CE,{className:"text-lg text-blue1"})}),children:r&&(r==null?void 0:r.length)!==0?S.jsx("ul",{className:"flex gap-6 max-sm:flex-col",children:r==null?void 0:r.map(o=>S.jsx(ZF,{voteDetail:o},o.id))}):S.jsx(Do,{text:"   ."})}),S.jsx(Mt,{title:"  ",children:(i==null?void 0:i.length)!==0&&S.jsx("ul",{className:"grid grid-cols-3 gap-7 max-md:grid-cols-2 max-sm:flex max-sm:flex-col max-sm:gap-5",children:i==null?void 0:i.map(o=>S.jsx(ige,{vote:o,collName:Pu},o.id))})})]})]})},Iv=Cn({key:`currUserFcm/${zt()}`,default:null});Cn({key:`notification/${zt()}`,default:"default"});function yP({voteItem:t,children:e,selected:n}){const{book:{title:r,thumbnail:i}}=t;return S.jsxs("div",{className:`flex h-full w-40 flex-col items-center gap-3 overflow-hidden rounded-card bg-white shadow-card max-sm:w-[45%] max-sm:gap-2 ${e?"pt-4":"py-5"}`,children:[S.jsxs("div",{className:"relative flex w-full justify-center max-sm:px-3",children:[n&&S.jsx(Qde,{className:"absolute -top-2 right-0 z-10 size-12 rounded-full bg-white text-pointCoral"}),S.jsx(On,{thumbnail:i,title:r,className:"w-24 max-sm:w-20"})]}),S.jsxs("span",{className:"mt-2 line-clamp-2 h-fit w-4/5 text-center leading-5",children:["",r,""]}),e]})}const sge=({vote:t,onVoteDeleteClick:e})=>{const{creatorId:n,createdAt:r,title:i}=t,{uid:o}=Ve(Ot);return S.jsxs("header",{className:"flex flex-col items-center justify-between pb-3 max-sm:pb-0 max-sm:pt-3",children:[S.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[i&&S.jsx("h3",{className:"text-xl font-medium max-sm:text-lg",children:i}),o===n&&S.jsx("button",{type:"button",onClick:e,children:S.jsx(Of,{})})]}),S.jsxs("div",{className:"flex w-full justify-between gap-2",children:[S.jsx(dF,{creatorId:n}),S.jsx("span",{className:"text-gray1 max-sm:text-sm",children:ht(r,"M d HH:mm")})]})]})};function age({voteItems:t}){const[e,n]=Q.useState(!1),r=()=>n(i=>!i);return S.jsxs("div",{className:"mb-10 mt-3 rounded-xl bg-white p-4 shadow-card max-sm:py-2.5",children:[S.jsxs("button",{type:"button",onClick:r,className:"flex w-full items-center gap-1",children:[S.jsx("span",{className:"block flex-1 text-start",children:"    "}),e?S.jsx(Pre,{className:"text-gray1"}):S.jsx(S3,{className:"text-gray1"})]}),S.jsx("ul",{className:`flex gap-4 overflow-hidden transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${e?"max-h-[5000px]":"max-h-0"}`,children:t.map(({selectReason:i,id:o,book:s})=>S.jsxs("li",{className:"mt-2 flex w-full flex-col px-2 pt-2 max-sm:px-0",children:[S.jsxs("span",{className:"mb-2 bg-green3 py-0.5 font-medium",children:[" ",s.title]}),i?S.jsx("p",{children:i}):S.jsx("span",{children:" ."}),S.jsx(T3,{url:s.url,title:"  ",className:"text-purple2"})]},o))})]})}function lge(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function uge(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function cge({selected:t,onVoteItemClick:e}){return S.jsx("button",{type:"button",onClick:e,className:"flex w-full flex-col items-center justify-center bg-green1 py-5 text-white",children:t?S.jsx(lge,{className:"size-5"}):S.jsx(uge,{className:"size-5"})})}const dge=()=>{const{state:t}=Fr(),{email:e}=Ve(Ot),n=Ve(Iv),r=kr();Q.useEffect(()=>{(!(t!=null&&t.collName)||!(t!=null&&t.docId))&&r("/vote")},[]);const{currentVote:i,votedItemsByMember:o,voteCountsById:s,totalVoteCount:a,selectedItem:l,onVotingSubmit:h,onVoteItemClick:c,myVotedItems:f,onVoteDeleteClick:p,isRevote:m,onToggleRevoteClick:g}=vre({collName:t==null?void 0:t.collName,docId:t==null?void 0:t.docId}),{sendPushNotificationToUser:y,sendPushNotificationToAllUser:w,isPending:b}=Ji(),_=(i==null?void 0:i.deadline)<xm,E=s==null?void 0:s.filter((O,N,C)=>O.voteCount===Math.max(...C.map(D=>D.voteCount))),x=O=>!!E.find(N=>N.title===O),k=_m(i.deadline);return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${_?" ":""} `,backBtn:!0}),(i==null?void 0:i.voteItems)&&S.jsxs("main",{children:[S.jsx(sge,{vote:i,onVoteDeleteClick:p}),S.jsx(age,{voteItems:i.voteItems}),_||f&&!m?S.jsxs(S.Fragment,{children:[S.jsx("ul",{className:"mb-6 mt-2 flex h-full flex-wrap items-center justify-center gap-5 max-sm:mb-10",children:i.voteItems.map(O=>S.jsx(yP,{voteItem:O,selected:x(O.book.title)},O.id))}),s.map(({id:O,title:N,voteCount:C})=>S.jsxs("div",{className:"relative mx-auto mt-2 flex w-2/3 overflow-hidden rounded-xl bg-white px-3 py-1 shadow-sm max-sm:w-full",children:[S.jsx("div",{style:{width:`${Sm(C,a)}%`},className:`absolute inset-y-0 left-0 z-0 rounded-r-lg ${x(N)?"bg-pointCoral":"bg-gray3"}`}),S.jsx("span",{className:`z-10 inline-block w-full pt-[1px] text-[15px] ${x(N)?"font-medium text-white":"text-gray2"}`,children:N}),S.jsxs("span",{className:`z-10 pt-[1px] text-sm ${x(N)?"font-medium text-pointCoral":"text-gray2"}`,children:[Sm(C,a),"%"]})]},O)),S.jsxs("div",{className:"mt-14 flex items-center justify-center gap-4 max-sm:mb-12",children:[S.jsx(ft,{name:" ",disabled:!0,color:"gray",className:"px-8"}),!_&&S.jsx(ft,{disabled:_,type:"button",name:" ",handleClick:g})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(Go,{text:"  "}),S.jsxs("form",{onSubmit:h,className:"mb-10 flex flex-col items-center",children:[S.jsx("ul",{className:"mb-8 flex flex-wrap items-center gap-4 max-sm:justify-center",children:i.voteItems.map(O=>S.jsx(yP,{voteItem:O,children:S.jsx(cge,{selected:!!l(O.id),onVoteItemClick:()=>c(O.id)})},O.id))}),S.jsx(ft,{type:"submit",name:"",className:"px-10 py-2 max-sm:px-6"})]})]}),!_&&S.jsx(jE,{hyphenDate:i.deadline}),S.jsxs("div",{className:"mt-10",children:[S.jsxs("h4",{className:"flex items-center gap-2",children:[S.jsx(Hre,{}),`: ${o==null?void 0:o.length}`]}),S.jsx("ul",{className:"mt-2 flex flex-wrap gap-x-3 gap-y-2",children:o.map(O=>S.jsx("li",{children:S.jsx(ti,{userId:O.id})},O.id))})]}),e===hE&&+k>=0&&S.jsx(ft,{className:"mt-10",color:"blue",name:`  : ${+k>0?`${k}`:" "}`,handleClick:async()=>{const O={title:"   !",body:`${+k>0?`${k} `:" "}  .     `,notification:n.notification};await y(O),await w(O),window.alert("     !")},disabled:b})]})]})};function fge(){var s;const t=Ve(ma),e=Ve(El),{clubBookListByYear:n}=bE(),r=new Set((s=e==null?void 0:e.absenceMembers)==null?void 0:s.map(({breakMembers:a,onceAbsenceMembers:l})=>[...a,...l]).flat()),i=t.filter(({id:a})=>!r.has(a)),o={breakpoints:{1024:{slidesPerView:11},800:{slidesPerView:8},500:{slidesPerView:7},320:{slidesPerView:4}},loop:!0,centeredSlides:!0,spaceBetween:5,navigation:!1,pagination:!1,scrollbar:!1,speed:100};return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${Ct}  `,backBtn:!0}),S.jsxs("main",{children:[S.jsx("span",{className:"font-sans",children:"1 2 3"}),S.jsxs("div",{className:"relative mb-14 mt-2 rounded-2xl bg-white p-5 shadow-card",children:[S.jsxs("h2",{className:"font-GiantsInline italic leading-5",children:[S.jsx("span",{className:"text-3xl tracking-tighter text-purple1",children:Ct})," ",S.jsx("br",{}),S.jsx("span",{className:"text-3xl tracking-tighter text-pointCoral",children:n.length}),"  ."]}),S.jsx("div",{className:"-mx-5 mt-2",children:S.jsx(Nf,{options:o,children:n.map(a=>S.jsx(nc,{children:S.jsx(On,{title:a.title,thumbnail:a.thumbnail,className:"w-[80px]"})},a.isbn))})})]}),S.jsx(Mt,{title:"2025  ",children:S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("ul",{className:"w-full rounded-xl bg-white p-4 shadow-card",children:[S.jsx("h2",{className:"mb-2 font-medium text-gray1",children:"  "}),i.map(({id:a})=>S.jsx(ti,{userId:a},a))]}),S.jsx("ul",{className:"w-full rounded-xl bg-white p-4 shadow-card",children:S.jsx("h2",{className:"mb-2 font-medium text-gray1",children:"  "})})]})}),S.jsx(Mt,{title:"2025    ",children:S.jsx("ul",{className:"rounded-xl bg-white p-4 shadow-card",children:S.jsx("span",{children:"hi"})})})]})]})}function hge({className:t=""}){return S.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:`${t}`})}function wP({type:t}){const{pathname:e}=Fr(),{blockLinkAndAlertJoinMember:n}=ei("see"),r="text-[15px]",i=location.pathname.match(/\/bookclub\/(\d{4}-\d{2})(?:\/|$)/),o=i?i[1]:null,s=[{name:"",to:"/",icon:S.jsx(Fre,{className:`${r}`}),active:e==="/"},{name:" ",to:"/previous-bookclub",icon:S.jsx(Cre,{className:`${r}`}),active:!!(e.includes("previous-bookclub")||e.includes("/bookclub")&&o)},{name:" ",to:"/bookclub",icon:S.jsx(Rre,{className:`${r}`}),active:e.includes("/bookclub")&&!o},{name:"",to:"/vote",icon:S.jsx(NE,{className:`${r}`}),active:e.includes("vote")},{name:" ",to:"/bookshelf",icon:S.jsx(Tm,{className:`${r}`}),onClick:n,active:e==="/bookshelf"}];return S.jsxs(S.Fragment,{children:[t==="top"&&!e.includes("create_account")&&e!=="/login"&&S.jsxs("nav",{className:"header mb-4 flex items-center justify-between py-8 max-sm:hidden",children:[S.jsxs(Ir,{to:"/",className:"flex items-center gap-1",children:[S.jsx(hge,{className:"size-6"}),S.jsx("span",{className:"text-[17px] font-medium",children:" "})]}),S.jsx("ul",{className:"flex gap-x-8",children:s.map(({name:a,to:l,state:h,onClick:c,active:f})=>S.jsx("li",{children:S.jsx(Ir,{to:l,state:h,onClick:c,children:S.jsx("span",{className:`${f?"font-semibold text-text":"text-gray1"}`,children:a})})},l))})]}),t==="bottom"&&e!=="/login"&&!e.includes("setting")&&S.jsx("nav",{className:"fixed bottom-0 left-0 z-10 hidden w-full rounded-t-2xl bg-white py-3.5 shadow-card max-sm:block",children:S.jsx("ul",{className:"flex justify-evenly",children:s.map(({to:a,name:l,icon:h,state:c,onClick:f,active:p})=>S.jsx("li",{className:`flex w-[20%] cursor-pointer flex-col items-center justify-center text-[10px] ${p?"text-text":"text-gray2"}`,children:S.jsxs(Ir,{to:a,state:c,onClick:f,className:"flex w-full flex-col items-center justify-center gap-1",children:[h,S.jsx("span",{children:l})]})},a))})})]})}const pge=({bookFieldName:t,checkedBoxHandler:e,bookFields:n})=>{const[r,i]=Q.useState(!1),o=async s=>{const{currentTarget:{checked:a}}=s;i(l=>!l),e(n,a)};return S.jsxs("div",{children:[S.jsx(ko,{text:t}),S.jsx("input",{id:t,type:"checkbox",name:"bookFields",checked:r,onChange:o})]})},bP=()=>{const{currentStep:t,keyword:e,onFirstStepChange:n,onFirstStepSubmit:r,email:i,password:o,checkPassword:s,showErrorMsg:a,onSecondStepChange:l,onSecondStepSubmit:h,username:c,onThirdStepChange:f,onThirdStepSubmit:p,checkedBoxHandler:m}=ore();return S.jsxs(S.Fragment,{children:[S.jsx(jn,{showDesktop:!0,title:" ",backBtn:!0}),S.jsxs("main",{children:[S.jsxs("header",{children:[S.jsx(ar,{color:"lightBlue",shape:"rounded",text:`${t.step} / ${l3.length}`,className:"mb-2"}),S.jsx(Cm,{title:t.stepName,className:"mb-2"})]}),t.step===1&&S.jsxs("form",{onSubmit:r,children:[S.jsx(Go,{text:"     ."}),S.jsx(mn,{label:" ",type:"text",placeholder:" ",value:e,onChange:n,required:!0}),S.jsx(ft,{type:"submit",name:"",className:"mx-auto mt-10 !px-6"})]}),t.step===2&&S.jsxs("form",{onSubmit:h,className:"flex flex-col gap-3",children:[S.jsxs("div",{children:[S.jsx(Go,{text:"    ."}),i&&S.jsx(Go,{text:"           .     ."})]}),S.jsx(mn,{name:"email",type:"email",placeholder:"    .",value:i,autoComplete:"email",onChange:l}),S.jsx(mn,{name:"password",type:"password",autoComplete:"current-password",placeholder:" 8  .",value:o,onChange:l}),S.jsx(mn,{name:"checkPassword",type:"password",autoComplete:"current-password",placeholder:"   .",value:s,onChange:l}),a&&S.jsx("span",{className:"text-sm text-pointCoral",children:a}),S.jsx(ft,{type:"submit",name:" ",className:"mx-auto mt-4"})]}),t.step===3&&S.jsxs("form",{onSubmit:p,children:[S.jsx(mn,{label:"",name:"username",value:c,placeholder:" .",onChange:f}),S.jsx(ko,{htmlFor:"gender",text:""}),S.jsx("fieldset",{children:Cne.map(g=>S.jsxs("div",{children:[S.jsx(ko,{text:g}),S.jsx("input",{id:g,type:"radio",name:"gender",value:g,onChange:f,required:!0})]},g))}),S.jsx(ko,{htmlFor:"bookFields",text:" "}),S.jsx("fieldset",{className:"bookfield",children:wd.map(g=>S.jsx(pge,{bookFieldName:g.name,bookFields:g,checkedBoxHandler:m},g.id))}),a&&S.jsx("span",{children:a}),S.jsx(ft,{type:"submit",name:""})]})]})]})},mge=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState(!1),i=s=>{s.preventDefault(),_9(Ht,t).catch(a=>{console.log(a)}),r(!0),e("")},o=s=>{r(!1),e(s.currentTarget.value)};return S.jsxs(S.Fragment,{children:[S.jsx(jn,{showDesktop:!0,title:" ",backBtn:!0}),S.jsxs("main",{children:[S.jsx(Cm,{title:"  ?",className:"mb-2"}),S.jsx("p",{children:"     ."}),S.jsxs("form",{onSubmit:i,className:"mb-3 mt-1 flex w-full gap-x-3",children:[S.jsx(mn,{name:"email",type:"email",value:t,placeholder:"  .",onChange:o,autoComplete:"email",className:"min-w-10 flex-grow whitespace-nowrap"}),S.jsx(ft,{type:"submit",name:""})]}),n?S.jsxs("span",{children:["     .",S.jsx("br",{}),"      ."]}):S.jsx(S.Fragment,{})]})]})};function gge(){const{pathname:t}=Fr();return Q.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const vge=({postType:t})=>{const[e,n]=Q.useState(""),r=Ve(Ai(Vn)),{uid:i}=Ve(Ot),{sendPostPushNotification:o,isPending:s}=Ji(),{id:a,book:{thumbnail:l,title:h}}=r,c=t===""?Rr(a,zd):Rr(a,Hd),f={text:e,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i,title:h,thumbnail:l},{onAddDocSubmit:p}=vE({setText:n,collName:c,docData:f}),{hideModal:m}=Yt(),g=async y=>{if(f.text!=="")try{await p(y),await o(t),m()}catch{window.alert("   .")}};return S.jsx(Di,{title:`${t} `,children:S.jsxs("form",{onSubmit:g,className:"flex-1 overflow-scroll pb-1 scrollbar-hide",children:[S.jsx(F3,{placeholder:`${t} `,text:e,setText:n}),S.jsx(ft,{name:" ",type:"submit",className:"ml-auto px-7 !shadow-none max-sm:px-4",disabled:s,color:"blue"})]})})};function _P(){var O;const[t,e]=Wt(Zu),[n,r]=Wt(cF),[i,o]=Wt(uF),{showModal:s}=Yt(),{pathname:a,state:l}=Fr(),h=AP(),c=(h==null?void 0:h.id)??Vn,f=a.includes("host-review")?" ":"",p=(l==null?void 0:l.postId)??"",m=c.slice(0,4);Q.useEffect(()=>{Yn(`BookClub-${m}`,e),Yn(Rr(c,Hd),r),Yn(Rr(c,zd),o)},[]);const g=t==null?void 0:t.find(N=>N.id===c),{alertAskJoinMember:y,anonymous:w}=ei("write"),b=()=>{if(w)return y();s({element:S.jsx(vge,{postType:f})})},_={:{postList:i,collName:Rr(c,zd)}," ":{postList:n,collName:Rr(c,Hd)}},{postList:E,collName:x}=_[f],k=p?E.filter(N=>N.id===p):E;return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:`${c===Vn?"":ht(c,"yyyy M")}  ${f}`,backBtn:!0}),S.jsxs("main",{children:[g&&S.jsx(iF,{bookClub:g}),!(h!=null&&h.id)&&S.jsx(ft,{type:"button",color:"blue",name:`${f} `,handleClick:b,className:"mt-5 w-full !py-3"}),(O=_[f])!=null&&O.postList?(k==null?void 0:k.length)!==0&&k.map((N,C)=>S.jsxs(Q.Fragment,{children:[S.jsx(ek,{type:f,post:N,collName:x,className:"relative mt-4 max-sm:pb-4",children:S.jsx(dv,{createdAt:N.createdAt,footerType:"likes",post:N,collName:x})}),k.length-1!==C&&S.jsx(aF,{})]},N.id)):S.jsx(tc,{size:150,className:"h-[55vh]"})]})]})}function yge({label:t,checked:e,checkedBoxHandler:n,detail:r}){const i=async o=>{const{currentTarget:{checked:s}}=o;n(t,s)};return S.jsxs("div",{className:"flex items-start gap-1",children:[S.jsx("input",{type:"checkbox",id:t,checked:e,onChange:i,className:"mt-1 size-[15px]"}),S.jsxs("div",{className:"flex-1",children:[S.jsx(ko,{text:t,className:"py-0 !text-base"}),r&&S.jsx(Go,{color:"gray",text:r})]})]})}function wge({month:t}){const e=Ve(El),{uid:n}=Ve(Ot),{onSubmit:r,selectedValues:i,setSelectedValues:o}=dre();Q.useEffect(()=>{const{absenceMembers:a}=e,l=a==null?void 0:a.find(m=>m.month===t);if(!l)return;const{breakMembers:h,onceAbsenceMembers:c}=l,f=h==null?void 0:h.find(m=>m===n),p=c==null?void 0:c.find(m=>m===n);o({month:t,breakMonth:!!f,onceAbsenceMonth:!!p})},[t]);const s=(a,l)=>{const h=a==="  "&&l&&i.breakMonth||a===" "&&l&&i.onceAbsenceMonth;o(h?{...a===" "?{month:t,onceAbsenceMonth:!l,breakMonth:l}:{month:t,breakMonth:!l,onceAbsenceMonth:l}}:{...i,...a===" "?{breakMonth:l}:{onceAbsenceMonth:l}})};return S.jsxs("form",{onSubmit:a=>r(a,t),className:"mt-4 flex flex-col gap-2.5",children:[["  "," "].map(a=>S.jsx(yge,{label:a,checked:a===" "?i.breakMonth:i.onceAbsenceMonth,checkedBoxHandler:s,detail:a===" "?"      .(  X)":"     .(  O)"},a)),S.jsx(ft,{type:"submit",name:"",className:"!ml-auto !py-0"})]})}function bge({userId:t,isEditable:e=!1}){var a;const[n,r]=Wt(El);Q.useEffect(()=>{Sl(n)||lr(Ci,Ru,r)},[n]);const i=(a=n==null?void 0:n.absenceMembers)==null?void 0:a.map(({month:l,onceAbsenceMembers:h,breakMembers:c})=>({month:l,onceAbsenceMonth:h.includes(t),breakMonth:c.includes(t)})),{showModal:o}=Yt(),s=async l=>{o({element:S.jsx(Di,{title:`${l}   `,children:S.jsx(wge,{month:l})})})};return S.jsx(S.Fragment,{children:n?S.jsx(uk,{labels:["","",""],rowDataList:i,onEditClick:s,isEditable:e}):S.jsx(tc,{size:150,className:"h-[60vh]"})})}function _ge(){const{uid:t}=Ve(Ot);return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:` ${Ct}   `,backBtn:!0}),S.jsxs("main",{children:[S.jsx(Go,{text:"     "}),S.jsx(bge,{userId:t,isEditable:!0})]})]})}const xge=()=>{const t=Ht==null?void 0:Ht.currentUser,{onSubmit:e,originPassword:n,onOriginChange:r,newPassword:i,onNewChange:o,checkNewPassword:s,onCheckNewChange:a}=ire();return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:" ",backBtn:!0}),S.jsx("main",{children:S.jsxs("form",{onSubmit:e,className:"flex flex-col gap-y-3",children:[S.jsx("input",{hidden:!0,type:"text",autoComplete:"username",defaultValue:t==null?void 0:t.email}),S.jsx(mn,{name:"password",type:"password",value:n,placeholder:"  .",onChange:r,autoComplete:"current-password"}),S.jsx(mn,{name:"password",type:"password",value:i,placeholder:"  .",onChange:o,autoComplete:"new-password"}),S.jsx(mn,{name:"password",type:"password",value:s,placeholder:"    .",onChange:a,autoComplete:"new-password"}),S.jsx(ft,{type:"submit",name:"",className:"mx-auto mt-5"})]})})]})},Sge=()=>{const{onDeleteSubmit:t,showMessage:e,password:n,onChange:r}=ure();return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:"",backBtn:!0}),S.jsxs("main",{children:[S.jsx(Go,{text:"       ,   ."}),S.jsxs("form",{className:"gap-1",onSubmit:t,children:[e&&S.jsx("span",{className:"text-sm",children:"  ."}),S.jsx(mn,{label:" ",name:"password",type:"password",placeholder:"  .",value:n,onChange:r,autoComplete:"current-password"}),S.jsx(ft,{type:"submit",name:"",className:"my-2 ml-auto !h-8 py-1"})]})]})]})};function Ege(){const{email:t}=Ve(Ot),e=Ve(Iv),n=Ve(Ai(Vn)),[r,i]=Q.useState([]),{sendPushNotificationToUser:o,sendPushNotificationToAllUser:s,isPending:a}=Ji(),l=kr();Q.useEffect(()=>{t!==hE&&l(-1),Yn(qd,i)},[]);const h=_m(n.meeting.time),c=_m("2025-12-21");return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:"",backBtn:!0}),S.jsxs("main",{children:[S.jsx(Mt,{title:" ",children:S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx(ft,{name:" ",handleClick:async()=>{const f={title:"",body:"  ",notification:e.notification};(await o(f)).result==="success"&&window.alert(" !")},disabled:a}),S.jsx(ft,{color:"purple",name:"  ",handleClick:async()=>{const f={title:"",body:"  ?"};await o({...f,notification:e.notification}),await s(f),window.alert(" !")},disabled:a})]})}),S.jsx(Mt,{title:"   ",children:S.jsx("ul",{className:"flex flex-wrap gap-3",children:r.map(f=>S.jsx("li",{children:S.jsx(ft,{color:"blue",name:" ",handleClick:async()=>{const p={title:" ",body:"  ?",notification:e.notification},m=await o(p,f);(m==null?void 0:m.result)==="success"&&window.alert(" !")},disabled:a,children:S.jsx(ti,{userId:f.id,isLink:!1})})},f.id))})}),S.jsx(Mt,{title:"  ",children:S.jsx(ft,{name:`${+Qr}   `,handleClick:async()=>{const f={title:`${+Qr}  `,body:" .       ",notification:e.notification};await o(f),await s(f),window.alert("     !")},disabled:a})}),S.jsx(Mt,{title:"  ",children:S.jsx(ft,{name:`${+Qr}    DDAY: ${h}`,handleClick:async()=>{const f={title:`${+Qr}  !`,body:`${h}   .  `,notification:e.notification};await o(f),await s(f),window.alert("     !")},disabled:a})}),S.jsx(Mt,{title:"  ",children:S.jsx(ft,{name:`${+Ct}  DDAY: ${c}`,handleClick:async()=>{const f={title:`${+Ct}   DDAY `,body:`  ${c} .   !`,notification:e.notification};await o(f),await s(f),window.alert("    !")},disabled:a})})]})]})}function xP({onClick:t,disabled:e,className:n=""}){return S.jsx("button",{type:"button",onClick:t,disabled:e,className:`flex size-[26px] items-center justify-center p-1 disabled:text-gray2 ${n}`,children:S.jsx(kE,{className:"size-full"})})}const kge=()=>{var m,g,y;const{displayName:t,email:e}=Ve(Ot),{isEditing:n,onToggleEditClick:r,userDoc:i,setNewUserImgUrl:o,newDisplayName:s,setNewDisplayName:a,onHandleFieldClick:l,onProfileSubmit:h,onDisplayNameChange:c,isSelected:f}=gre();Q.useEffect(()=>{s||a(t)},[]);const p=[{name:"",data:S.jsx("span",{className:"w-full",children:e}),form:S.jsx("span",{className:"w-full text-gray1",children:e})},{name:"",data:S.jsx("span",{children:t}),form:S.jsx(mn,{onChange:c,placeholder:" ",value:s||""})},{name:" ",data:S.jsx("ul",{className:"flex flex-wrap gap-2",children:(m=i==null?void 0:i.favoriteBookField)==null?void 0:m.map(w=>S.jsx(ar,{text:w.name,color:"lightBlue",shape:"rounded"},w.id))}),form:S.jsxs("ul",{className:"flex flex-wrap gap-2",children:[wd==null?void 0:wd.map(({id:w,name:b})=>S.jsx("button",{type:"button",name:b,onClick:_=>l(w,_),children:S.jsx(ar,{text:b,color:f(w)?"lightBlue":"lightGray",shape:"rounded"})},w)),((g=i==null?void 0:i.favoriteBookField)==null?void 0:g.length)===0&&S.jsx("span",{className:"block w-full text-end text-sm text-pointCoral",children:"    "})]})}];return S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:" ",backBtn:!0,backTo:"/setting",children:S.jsx(xP,{onClick:r,disabled:n})}),i!=null&&i.displayName?S.jsxs("main",{className:"flex items-start gap-x-4 max-sm:flex-col",children:[S.jsx(X3,{imgUrl:(y=i.photoURL)==null?void 0:y.original,isEditing:n,setNewUserImgUrl:o}),S.jsxs("div",{className:"flex-1",children:[S.jsx(xP,{onClick:r,disabled:n,className:"ml-auto max-sm:hidden"}),n?S.jsxs("form",{onSubmit:h,className:"mt-8",children:[S.jsx("ul",{className:"flex flex-col gap-4",children:p.map(({name:w,form:b})=>S.jsxs("li",{className:"flex justify-between gap-6",children:[S.jsx("h3",{className:"min-w-24",children:w}),b]},w))}),S.jsx(ft,{name:"",type:"submit",className:"mx-auto mt-12"})]}):S.jsx("ul",{className:"mt-10 flex w-full flex-col gap-y-5",children:p.map(({name:w,data:b})=>S.jsxs("li",{className:"flex gap-6",children:[S.jsx("h3",{className:"min-w-24",children:w}),b]},w))})]})]}):S.jsx(tc,{size:150,className:"h-[80vh]"})]})};function Tge(){var g;const[t,e]=Q.useState(!1),[n,r]=Q.useState(!1),[i,o]=Wt(Iv),{uid:s}=Ve(Ot),a=(g=Ht.currentUser)==null?void 0:g.isAnonymous,{sendPushNotificationToUser:l,isPending:h}=Ji(),c=async()=>{var _,E;const y=await vm();if((_=i==null?void 0:i.tokens)!=null&&_.includes(y))return;const w=an(Jt,qd,s),b={createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),notification:!0,tokens:i.tokens&&((E=i.tokens)==null?void 0:E.length)>0?[...i==null?void 0:i.tokens,y]:[y]};i.notification||await Oo(w,b),i.notification&&await hn(w,b),o(b)},f=async()=>{if(!("Notification"in window)){alert("    .");return}if(a){alert("     .");return}if(Notification.permission==="denied")return alert("   .        .        .   .");const y={title:"  ",body:"     ",notification:!0};Notification.permission==="granted"?(await c(),await l(y)):await Notification.requestPermission()==="granted"&&(await c(),await l(y)),e(!0),r(!1)},p=async()=>{const y=an(Jt,qd,s),w={notification:!1,createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss")};await Oo(y,w),e(b=>!b),r(!1)},m=()=>{r(!0),t?p():f()};return Q.useEffect(()=>{i!=null&&i.notification&&Notification.permission==="granted"&&e(!0)},[i==null?void 0:i.notification]),S.jsxs(S.Fragment,{children:[S.jsx(jn,{title:"",backBtn:!0}),S.jsxs("main",{className:"flex justify-between",children:[S.jsx("h3",{className:"font-medium text-gray1",children:""}),S.jsx("button",{type:"button",className:`flex h-7 w-12 items-center rounded-full p-1 disabled:opacity-20 ${t?"bg-green-500":"bg-gray3"}`,"aria-label":"  ",onClick:m,disabled:h||n,children:S.jsx("div",{className:`size-5 rounded-full shadow-md transition-transform ${t?"translate-x-5 bg-white":"translate-x-0 bg-gray4"}`})})]})]})}function Cge({isLoggedIn:t}){var i;const e=(i=Ht.currentUser)==null?void 0:i.isAnonymous,n=Ve(Qj),{hideModal:r}=Yt();return S.jsxs(eU,{basename:"/han-bookclub-app",children:[S.jsx(gge,{}),t?S.jsxs(S.Fragment,{children:[S.jsx(wP,{type:"top"}),S.jsxs(n2,{children:[S.jsx(Qt,{path:"/",element:S.jsx(Ume,{})}),S.jsx(Qt,{path:"/monthlyinfo",element:S.jsx(Wme,{})}),S.jsx(Qt,{path:"/challenge",element:S.jsx(Sae,{})}),S.jsx(Qt,{path:"/yearClosingEvent",element:S.jsx(fge,{})}),S.jsx(Qt,{path:"/search",element:S.jsx(Xme,{})}),S.jsx(Qt,{path:"/previous-bookclub",element:S.jsx(Gme,{})}),S.jsx(Qt,{path:"/bookclub/:id?",element:S.jsx(ofe,{})}),S.jsx(Qt,{path:"/bookclub/:id?/subjects",element:S.jsx(_P,{})}),S.jsx(Qt,{path:"/bookclub/:id?/host-review",element:S.jsx(_P,{})}),S.jsx(Qt,{path:"/vote",element:S.jsx(oge,{})}),S.jsx(Qt,{path:"/vote/:id",element:S.jsx(dge,{})}),S.jsx(Qt,{path:"/bookshelf/:username?",element:S.jsx(Loe,{})}),S.jsx(Qt,{path:"/setting",element:S.jsx(Zme,{})}),S.jsx(Qt,{path:"/setting/absence",element:S.jsx(_ge,{})}),S.jsx(Qt,{path:"/setting/edit-profile",element:S.jsx(kge,{})}),S.jsx(Qt,{path:"/setting/edit-password",element:S.jsx(xge,{})}),S.jsx(Qt,{path:"/setting/delete-account",element:S.jsx(Sge,{})}),S.jsx(Qt,{path:"/setting/developer",element:S.jsx(Ege,{})}),S.jsx(Qt,{path:"/setting/notification",element:S.jsx(Tge,{})}),e&&S.jsxs(S.Fragment,{children:[S.jsx(Qt,{path:"/login",element:S.jsx(Kb,{isLoggedIn:t})}),S.jsx(Qt,{path:"/create_account",element:S.jsx(bP,{})})]})]}),S.jsx(wP,{type:"bottom"})]}):S.jsxs(n2,{children:[S.jsx(Qt,{path:"/",element:S.jsx(Kb,{isLoggedIn:t})}),S.jsx(Qt,{path:"/find_pw",element:S.jsx(mge,{})}),S.jsx(Qt,{path:"/*",element:S.jsx(Kb,{isLoggedIn:t})}),S.jsx(Qt,{path:"/create_account",element:S.jsx(bP,{})})]}),n.length>0&&n.map(({key:o,element:s,hideDim:a,dimUnclickable:l})=>S.jsxs(Q.Fragment,{children:[!a&&S.jsx("div",{role:"presentation",className:`fixed inset-0 z-10 size-full ${l?"cursor-default":"cursor-pointer"} bg-black opacity-60`,onClick:o?()=>r(o):()=>r()}),s]},o||"modal"))]})}function Oge(){const[t,e]=Q.useState(!1),[n,r]=Wt(Ot),[i,o]=Wt(Iv),s=ea(wE),a=async()=>{const l=U_(V_,"avatars/.jpeg");B_(l).then(h=>{s(h)})};return Q.useEffect(()=>{const l=ug(),h=sg(l,c=>{if(c){const{uid:f,displayName:p,email:m,photoURL:g}=c;r({uid:f,displayName:p,email:m,photoURL:g}),a()}else r(null);e(!0)});return()=>h()},[]),Q.useEffect(()=>{n!=null&&n.uid&&lr(qd,n.uid,o)},[n==null?void 0:n.uid]),Q.useEffect(()=>{t&&(i==null?void 0:i.notification)===!0&&(async()=>{var h,c;if(Notification.permission==="granted"){const f=await vm(),p=(h=i==null?void 0:i.tokens)==null?void 0:h.find(m=>m===f);if(p)return;if(!p&&(n!=null&&n.uid)){const m=an(Jt,qd,n.uid),g={createdAt:ht(new Date,"yyyy-MM-dd'T'HH:mm:ss"),tokens:((c=i==null?void 0:i.tokens)==null?void 0:c.length)!==0?[...i==null?void 0:i.tokens,f]:[f]};await hn(m,g)}}})()},[i]),t?S.jsx(Cge,{isLoggedIn:!!n}):S.jsx(tc,{size:120,className:"h-screen"})}const Nge=iB.createRoot(document.getElementById("root"));Nge.render(S.jsx(Ree,{children:S.jsx(Oge,{})}));
