var nB=Object.defineProperty;var rB=(t,e,n)=>e in t?nB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Le=(t,e,n)=>rB(t,typeof e!="symbol"?e+"":e,n);function iB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S0={exports:{}},$c={},E0={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function sB(){if(Q2)return vt;Q2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function w(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}w.prototype.isReactComponent={},w.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=w.prototype;function x(j,U,V){this.props=j,this.context=U,this.refs=y,this.updater=V||m}var E=x.prototype=new b;E.constructor=x,g(E,w.prototype),E.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function C(j,U,V){var H,Q={},X=null,W=null;if(U!=null)for(H in U.ref!==void 0&&(W=U.ref),U.key!==void 0&&(X=""+U.key),U)k.call(U,H)&&!O.hasOwnProperty(H)&&(Q[H]=U[H]);var J=arguments.length-2;if(J===1)Q.children=V;else if(1<J){for(var Z=Array(J),te=0;te<J;te++)Z[te]=arguments[te+2];Q.children=Z}if(j&&j.defaultProps)for(H in J=j.defaultProps,J)Q[H]===void 0&&(Q[H]=J[H]);return{$$typeof:t,type:j,key:X,ref:W,props:Q,_owner:N.current}}function I(j,U){return{$$typeof:t,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function A(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return U[V]})}var D=/\/+/g;function M(j,U){return typeof j=="object"&&j!==null&&j.key!=null?A(""+j.key):U.toString(36)}function F(j,U,V,H,Q){var X=typeof j;(X==="undefined"||X==="boolean")&&(j=null);var W=!1;if(j===null)W=!0;else switch(X){case"string":case"number":W=!0;break;case"object":switch(j.$$typeof){case t:case e:W=!0}}if(W)return W=j,Q=Q(W),j=H===""?"."+M(W,0):H,S(Q)?(V="",j!=null&&(V=j.replace(D,"$&/")+"/"),F(Q,U,V,"",function(te){return te})):Q!=null&&(R(Q)&&(Q=I(Q,V+(!Q.key||W&&W.key===Q.key?"":(""+Q.key).replace(D,"$&/")+"/")+j)),U.push(Q)),1;if(W=0,H=H===""?".":H+":",S(j))for(var J=0;J<j.length;J++){X=j[J];var Z=H+M(X,J);W+=F(X,U,V,Z,Q)}else if(Z=p(j),typeof Z=="function")for(j=Z.call(j),J=0;!(X=j.next()).done;)X=X.value,Z=H+M(X,J++),W+=F(X,U,V,Z,Q);else if(X==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return W}function q(j,U,V){if(j==null)return j;var H=[],Q=0;return F(j,H,"","",function(X){return U.call(V,X,Q++)}),H}function L(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var B={current:null},Y={transition:null},z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Y,ReactCurrentOwner:N};return vt.Children={map:q,forEach:function(j,U,V){q(j,function(){U.apply(this,arguments)},V)},count:function(j){var U=0;return q(j,function(){U++}),U},toArray:function(j){return q(j,function(U){return U})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},vt.Component=w,vt.Fragment=n,vt.Profiler=i,vt.PureComponent=x,vt.StrictMode=r,vt.Suspense=l,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,vt.cloneElement=function(j,U,V){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var H=g({},j.props),Q=j.key,X=j.ref,W=j._owner;if(U!=null){if(U.ref!==void 0&&(X=U.ref,W=N.current),U.key!==void 0&&(Q=""+U.key),j.type&&j.type.defaultProps)var J=j.type.defaultProps;for(Z in U)k.call(U,Z)&&!O.hasOwnProperty(Z)&&(H[Z]=U[Z]===void 0&&J!==void 0?J[Z]:U[Z])}var Z=arguments.length-2;if(Z===1)H.children=V;else if(1<Z){J=Array(Z);for(var te=0;te<Z;te++)J[te]=arguments[te+2];H.children=J}return{$$typeof:t,type:j.type,key:Q,ref:X,props:H,_owner:W}},vt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},vt.createElement=C,vt.createFactory=function(j){var U=C.bind(null,j);return U.type=j,U},vt.createRef=function(){return{current:null}},vt.forwardRef=function(j){return{$$typeof:a,render:j}},vt.isValidElement=R,vt.lazy=function(j){return{$$typeof:c,_payload:{_status:-1,_result:j},_init:L}},vt.memo=function(j,U){return{$$typeof:h,type:j,compare:U===void 0?null:U}},vt.startTransition=function(j){var U=Y.transition;Y.transition={};try{j()}finally{Y.transition=U}},vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.useCallback=function(j,U){return B.current.useCallback(j,U)},vt.useContext=function(j){return B.current.useContext(j)},vt.useDebugValue=function(){},vt.useDeferredValue=function(j){return B.current.useDeferredValue(j)},vt.useEffect=function(j,U){return B.current.useEffect(j,U)},vt.useId=function(){return B.current.useId()},vt.useImperativeHandle=function(j,U,V){return B.current.useImperativeHandle(j,U,V)},vt.useInsertionEffect=function(j,U){return B.current.useInsertionEffect(j,U)},vt.useLayoutEffect=function(j,U){return B.current.useLayoutEffect(j,U)},vt.useMemo=function(j,U){return B.current.useMemo(j,U)},vt.useReducer=function(j,U,V){return B.current.useReducer(j,U,V)},vt.useRef=function(j){return B.current.useRef(j)},vt.useState=function(j){return B.current.useState(j)},vt.useSyncExternalStore=function(j,U,V){return B.current.useSyncExternalStore(j,U,V)},vt.useTransition=function(){return B.current.useTransition()},vt.version="18.2.0",vt}var X2;function ag(){return X2||(X2=1,E0.exports=sB()),E0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function oB(){if(J2)return $c;J2=1;var t=ag(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,h){var c,f={},p=null,m=null;h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(f[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return $c.Fragment=n,$c.jsx=o,$c.jsxs=o,$c}var Z2;function aB(){return Z2||(Z2=1,S0.exports=oB()),S0.exports}var _=aB(),Kh={},k0={exports:{}},Kr={},T0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function lB(){return eC||(eC=1,function(t){function e(Y,z){var j=Y.length;Y.push(z);e:for(;0<j;){var U=j-1>>>1,V=Y[U];if(0<i(V,z))Y[U]=z,Y[j]=V,j=U;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var z=Y[0],j=Y.pop();if(j!==z){Y[0]=j;e:for(var U=0,V=Y.length,H=V>>>1;U<H;){var Q=2*(U+1)-1,X=Y[Q],W=Q+1,J=Y[W];if(0>i(X,j))W<V&&0>i(J,X)?(Y[U]=J,Y[W]=j,U=W):(Y[U]=X,Y[Q]=j,U=Q);else if(W<V&&0>i(J,j))Y[U]=J,Y[W]=j,U=W;else break e}}return z}function i(Y,z){var j=Y.sortIndex-z.sortIndex;return j!==0?j:Y.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=Y)r(h),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(h)}}function S(Y){if(y=!1,E(Y),!g)if(n(l)!==null)g=!0,L(k);else{var z=n(h);z!==null&&B(S,z.startTime-Y)}}function k(Y,z){g=!1,y&&(y=!1,b(C),C=-1),m=!0;var j=p;try{for(E(z),f=n(l);f!==null&&(!(f.expirationTime>z)||Y&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var V=U(f.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),E(z)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var Q=n(h);Q!==null&&B(S,Q.startTime-z),H=!1}return H}finally{f=null,p=j,m=!1}}var N=!1,O=null,C=-1,I=5,R=-1;function A(){return!(t.unstable_now()-R<I)}function D(){if(O!==null){var Y=t.unstable_now();R=Y;var z=!0;try{z=O(!0,Y)}finally{z?M():(N=!1,O=null)}}else N=!1}var M;if(typeof x=="function")M=function(){x(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=D,M=function(){q.postMessage(null)}}else M=function(){w(D,0)};function L(Y){O=Y,N||(N=!0,M())}function B(Y,z){C=w(function(){Y(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,L(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var j=p;p=z;try{return Y()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=p;p=Y;try{return z()}finally{p=j}},t.unstable_scheduleCallback=function(Y,z,j){var U=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,Y={id:c++,callback:z,priorityLevel:Y,startTime:j,expirationTime:V,sortIndex:-1},j>U?(Y.sortIndex=j,e(h,Y),n(l)===null&&Y===n(h)&&(y?(b(C),C=-1):y=!0,B(S,j-U))):(Y.sortIndex=V,e(l,Y),g||m||(g=!0,L(k))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var z=p;return function(){var j=p;p=z;try{return Y.apply(this,arguments)}finally{p=j}}}}(C0)),C0}var tC;function uB(){return tC||(tC=1,T0.exports=lB()),T0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function cB(){if(nC)return Kr;nC=1;var t=ag(),e=uB();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},f={};function p(u){return l.call(f,u)?!0:l.call(c,u)?!1:h.test(u)?f[u]=!0:(c[u]=!0,!1)}function m(u,d,v,T){if(v!==null&&v.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return T?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function g(u,d,v,T){if(d===null||typeof d>"u"||m(u,d,v,T))return!0;if(T)return!1;if(v!==null)switch(v.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(u,d,v,T,P,$,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=P,this.mustUseProperty=v,this.propertyName=u,this.type=d,this.sanitizeURL=$,this.removeEmptyString=G}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];w[d]=new y(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(b,x);w[d]=new y(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function E(u,d,v,T){var P=w.hasOwnProperty(d)?w[d]:null;(P!==null?P.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(g(d,v,P,T)&&(v=null),T||P===null?p(d)&&(v===null?u.removeAttribute(d):u.setAttribute(d,""+v)):P.mustUseProperty?u[P.propertyName]=v===null?P.type===3?!1:"":v:(d=P.attributeName,T=P.attributeNamespace,v===null?u.removeAttribute(d):(P=P.type,v=P===3||P===4&&v===!0?"":""+v,T?u.setAttributeNS(T,d,v):u.setAttribute(d,v))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.iterator;function z(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var j=Object.assign,U;function V(u){if(U===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+u}var H=!1;function Q(u,d){if(!u||H)return"";H=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var T=de}Reflect.construct(u,[],d)}else{try{d.call()}catch(de){T=de}u.call(d.prototype)}else{try{throw Error()}catch(de){T=de}u()}}catch(de){if(de&&T&&typeof de.stack=="string"){for(var P=de.stack.split(`
`),$=T.stack.split(`
`),G=P.length-1,ee=$.length-1;1<=G&&0<=ee&&P[G]!==$[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(P[G]!==$[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||P[G]!==$[ee]){var ne=`
`+P[G].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=G&&0<=ee);break}}}finally{H=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?V(u):""}function X(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=Q(u.type,!1),u;case 11:return u=Q(u.type.render,!1),u;case 1:return u=Q(u.type,!0),u;default:return""}}function W(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case O:return"Fragment";case N:return"Portal";case I:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case A:return(u.displayName||"Context")+".Consumer";case R:return(u._context.displayName||"Context")+".Provider";case D:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return d=u.displayName||null,d!==null?d:W(u.type)||"Memo";case L:d=u._payload,u=u._init;try{return W(u(d))}catch{}}return null}function J(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(d);case 8:return d===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function le(u){var d=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),T=""+u[d];if(!u.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var P=v.get,$=v.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return P.call(this)},set:function(G){T=""+G,$.call(this,G)}}),Object.defineProperty(u,d,{enumerable:v.enumerable}),{getValue:function(){return T},setValue:function(G){T=""+G},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function pe(u){u._valueTracker||(u._valueTracker=le(u))}function ge(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var v=d.getValue(),T="";return u&&(T=te(u)?u.checked?"true":"false":u.value),u=T,u!==v?(d.setValue(u),!0):!1}function Ce(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function $e(u,d){var v=d.checked;return j({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function De(u,d){var v=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;v=Z(d.value!=null?d.value:v),u._wrapperState={initialChecked:T,initialValue:v,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function nt(u,d){d=d.checked,d!=null&&E(u,"checked",d,!1)}function Xe(u,d){nt(u,d);var v=Z(d.value),T=d.type;if(v!=null)T==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?fe(u,d.type,v):d.hasOwnProperty("defaultValue")&&fe(u,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function ce(u,d,v){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,v||d===u.value||(u.value=d),u.defaultValue=d}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function fe(u,d,v){(d!=="number"||Ce(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var we=Array.isArray;function xe(u,d,v,T){if(u=u.options,d){d={};for(var P=0;P<v.length;P++)d["$"+v[P]]=!0;for(v=0;v<u.length;v++)P=d.hasOwnProperty("$"+u[v].value),u[v].selected!==P&&(u[v].selected=P),P&&T&&(u[v].defaultSelected=!0)}else{for(v=""+Z(v),d=null,P=0;P<u.length;P++){if(u[P].value===v){u[P].selected=!0,T&&(u[P].defaultSelected=!0);return}d!==null||u[P].disabled||(d=u[P])}d!==null&&(d.selected=!0)}}function he(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Be(u,d){var v=d.value;if(v==null){if(v=d.children,d=d.defaultValue,v!=null){if(d!=null)throw Error(n(92));if(we(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),v=d}u._wrapperState={initialValue:Z(v)}}function Ie(u,d){var v=Z(d.value),T=Z(d.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),d.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),T!=null&&(u.defaultValue=""+T)}function Ye(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Ht(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function On(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Ht(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var it,Ur=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,v,T,P){MSApp.execUnsafeLocalFunction(function(){return u(d,v,T,P)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=it.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function ct(u,d){if(d){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=d;return}}u.textContent=d}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jn=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(u){Jn.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),zt[d]=zt[u]})});function Vr(u,d,v){return d==null||typeof d=="boolean"||d===""?"":v||typeof d!="number"||d===0||zt.hasOwnProperty(u)&&zt[u]?(""+d).trim():d+"px"}function Dr(u,d){u=u.style;for(var v in d)if(d.hasOwnProperty(v)){var T=v.indexOf("--")===0,P=Vr(v,d[v],T);v==="float"&&(v="cssFloat"),T?u.setProperty(v,P):u[v]=P}}var oe=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(u,d){if(d){if(oe[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function be(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Te(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oe=null,Ge=null,Ue=null;function ze(u){if(u=Ec(u)){if(typeof Oe!="function")throw Error(n(280));var d=u.stateNode;d&&(d=uh(d),Oe(u.stateNode,u.type,d))}}function rt(u){Ge?Ue?Ue.push(u):Ue=[u]:Ge=u}function Et(){if(Ge){var u=Ge,d=Ue;if(Ue=Ge=null,ze(u),d)for(u=0;u<d.length;u++)ze(d[u])}}function An(u,d){return u(d)}function jt(){}var ln=!1;function qr(u,d,v){if(ln)return u(d,v);ln=!0;try{return An(u,d,v)}finally{ln=!1,(Ge!==null||Ue!==null)&&(jt(),Et())}}function gi(u,d){var v=u.stateNode;if(v===null)return null;var T=uh(v);if(T===null)return null;v=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var fo=!1;if(a)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){fo=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{fo=!1}function va(u,d,v,T,P,$,G,ee,ne){var de=Array.prototype.slice.call(arguments,3);try{d.apply(v,de)}catch(ye){this.onError(ye)}}var sc=!1,Uf=null,Vf=!1,Vv=null,u6={onError:function(u){sc=!0,Uf=u}};function c6(u,d,v,T,P,$,G,ee,ne){sc=!1,Uf=null,va.apply(u6,arguments)}function d6(u,d,v,T,P,$,G,ee,ne){if(c6.apply(this,arguments),sc){if(sc){var de=Uf;sc=!1,Uf=null}else throw Error(n(198));Vf||(Vf=!0,Vv=de)}}function ya(u){var d=u,v=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(v=d.return),u=d.return;while(u)}return d.tag===3?v:null}function yk(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function wk(u){if(ya(u)!==u)throw Error(n(188))}function f6(u){var d=u.alternate;if(!d){if(d=ya(u),d===null)throw Error(n(188));return d!==u?null:u}for(var v=u,T=d;;){var P=v.return;if(P===null)break;var $=P.alternate;if($===null){if(T=P.return,T!==null){v=T;continue}break}if(P.child===$.child){for($=P.child;$;){if($===v)return wk(P),u;if($===T)return wk(P),d;$=$.sibling}throw Error(n(188))}if(v.return!==T.return)v=P,T=$;else{for(var G=!1,ee=P.child;ee;){if(ee===v){G=!0,v=P,T=$;break}if(ee===T){G=!0,T=P,v=$;break}ee=ee.sibling}if(!G){for(ee=$.child;ee;){if(ee===v){G=!0,v=$,T=P;break}if(ee===T){G=!0,T=$,v=P;break}ee=ee.sibling}if(!G)throw Error(n(189))}}if(v.alternate!==T)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:d}function bk(u){return u=f6(u),u!==null?xk(u):null}function xk(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=xk(u);if(d!==null)return d;u=u.sibling}return null}var _k=e.unstable_scheduleCallback,Sk=e.unstable_cancelCallback,h6=e.unstable_shouldYield,p6=e.unstable_requestPaint,Sn=e.unstable_now,m6=e.unstable_getCurrentPriorityLevel,qv=e.unstable_ImmediatePriority,Ek=e.unstable_UserBlockingPriority,qf=e.unstable_NormalPriority,g6=e.unstable_LowPriority,kk=e.unstable_IdlePriority,zf=null,Xi=null;function v6(u){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(zf,u,void 0,(u.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:b6,y6=Math.log,w6=Math.LN2;function b6(u){return u>>>=0,u===0?32:31-(y6(u)/w6|0)|0}var Hf=64,Wf=4194304;function oc(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Yf(u,d){var v=u.pendingLanes;if(v===0)return 0;var T=0,P=u.suspendedLanes,$=u.pingedLanes,G=v&268435455;if(G!==0){var ee=G&~P;ee!==0?T=oc(ee):($&=G,$!==0&&(T=oc($)))}else G=v&~P,G!==0?T=oc(G):$!==0&&(T=oc($));if(T===0)return 0;if(d!==0&&d!==T&&(d&P)===0&&(P=T&-T,$=d&-d,P>=$||P===16&&($&4194240)!==0))return d;if((T&4)!==0&&(T|=v&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=T;0<d;)v=31-Ii(d),P=1<<v,T|=u[v],d&=~P;return T}function x6(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _6(u,d){for(var v=u.suspendedLanes,T=u.pingedLanes,P=u.expirationTimes,$=u.pendingLanes;0<$;){var G=31-Ii($),ee=1<<G,ne=P[G];ne===-1?((ee&v)===0||(ee&T)!==0)&&(P[G]=x6(ee,d)):ne<=d&&(u.expiredLanes|=ee),$&=~ee}}function zv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Tk(){var u=Hf;return Hf<<=1,(Hf&4194240)===0&&(Hf=64),u}function Hv(u){for(var d=[],v=0;31>v;v++)d.push(u);return d}function ac(u,d,v){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Ii(d),u[d]=v}function S6(u,d){var v=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<v;){var P=31-Ii(v),$=1<<P;d[P]=0,T[P]=-1,u[P]=-1,v&=~$}}function Wv(u,d){var v=u.entangledLanes|=d;for(u=u.entanglements;v;){var T=31-Ii(v),P=1<<T;P&d|u[T]&d&&(u[T]|=d),v&=~P}}var Ft=0;function Ck(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Nk,Yv,Ok,Ak,Dk,Gv=!1,Gf=[],ho=null,po=null,mo=null,lc=new Map,uc=new Map,go=[],E6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ik(u,d){switch(u){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":lc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(d.pointerId)}}function cc(u,d,v,T,P,$){return u===null||u.nativeEvent!==$?(u={blockedOn:d,domEventName:v,eventSystemFlags:T,nativeEvent:$,targetContainers:[P]},d!==null&&(d=Ec(d),d!==null&&Yv(d)),u):(u.eventSystemFlags|=T,d=u.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),u)}function k6(u,d,v,T,P){switch(d){case"focusin":return ho=cc(ho,u,d,v,T,P),!0;case"dragenter":return po=cc(po,u,d,v,T,P),!0;case"mouseover":return mo=cc(mo,u,d,v,T,P),!0;case"pointerover":var $=P.pointerId;return lc.set($,cc(lc.get($)||null,u,d,v,T,P)),!0;case"gotpointercapture":return $=P.pointerId,uc.set($,cc(uc.get($)||null,u,d,v,T,P)),!0}return!1}function Rk(u){var d=wa(u.target);if(d!==null){var v=ya(d);if(v!==null){if(d=v.tag,d===13){if(d=yk(v),d!==null){u.blockedOn=d,Dk(u.priority,function(){Ok(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Kf(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var v=Qv(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var T=new v.constructor(v.type,v);ke=T,v.target.dispatchEvent(T),ke=null}else return d=Ec(v),d!==null&&Yv(d),u.blockedOn=v,!1;d.shift()}return!0}function Pk(u,d,v){Kf(u)&&v.delete(d)}function T6(){Gv=!1,ho!==null&&Kf(ho)&&(ho=null),po!==null&&Kf(po)&&(po=null),mo!==null&&Kf(mo)&&(mo=null),lc.forEach(Pk),uc.forEach(Pk)}function dc(u,d){u.blockedOn===d&&(u.blockedOn=null,Gv||(Gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,T6)))}function fc(u){function d(P){return dc(P,u)}if(0<Gf.length){dc(Gf[0],u);for(var v=1;v<Gf.length;v++){var T=Gf[v];T.blockedOn===u&&(T.blockedOn=null)}}for(ho!==null&&dc(ho,u),po!==null&&dc(po,u),mo!==null&&dc(mo,u),lc.forEach(d),uc.forEach(d),v=0;v<go.length;v++)T=go[v],T.blockedOn===u&&(T.blockedOn=null);for(;0<go.length&&(v=go[0],v.blockedOn===null);)Rk(v),v.blockedOn===null&&go.shift()}var Nl=S.ReactCurrentBatchConfig,Qf=!0;function C6(u,d,v,T){var P=Ft,$=Nl.transition;Nl.transition=null;try{Ft=1,Kv(u,d,v,T)}finally{Ft=P,Nl.transition=$}}function N6(u,d,v,T){var P=Ft,$=Nl.transition;Nl.transition=null;try{Ft=4,Kv(u,d,v,T)}finally{Ft=P,Nl.transition=$}}function Kv(u,d,v,T){if(Qf){var P=Qv(u,d,v,T);if(P===null)hy(u,d,T,Xf,v),Ik(u,T);else if(k6(P,u,d,v,T))T.stopPropagation();else if(Ik(u,T),d&4&&-1<E6.indexOf(u)){for(;P!==null;){var $=Ec(P);if($!==null&&Nk($),$=Qv(u,d,v,T),$===null&&hy(u,d,T,Xf,v),$===P)break;P=$}P!==null&&T.stopPropagation()}else hy(u,d,T,null,v)}}var Xf=null;function Qv(u,d,v,T){if(Xf=null,u=Te(T),u=wa(u),u!==null)if(d=ya(u),d===null)u=null;else if(v=d.tag,v===13){if(u=yk(d),u!==null)return u;u=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Xf=u,null}function Mk(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m6()){case qv:return 1;case Ek:return 4;case qf:case g6:return 16;case kk:return 536870912;default:return 16}default:return 16}}var vo=null,Xv=null,Jf=null;function Lk(){if(Jf)return Jf;var u,d=Xv,v=d.length,T,P="value"in vo?vo.value:vo.textContent,$=P.length;for(u=0;u<v&&d[u]===P[u];u++);var G=v-u;for(T=1;T<=G&&d[v-T]===P[$-T];T++);return Jf=P.slice(u,1<T?1-T:void 0)}function Zf(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function eh(){return!0}function jk(){return!1}function ni(u){function d(v,T,P,$,G){this._reactName=v,this._targetInst=P,this.type=T,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(v=u[ee],this[ee]=v?v($):$[ee]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?eh:jk,this.isPropagationStopped=jk,this}return j(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),d}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jv=ni(Ol),hc=j({},Ol,{view:0,detail:0}),O6=ni(hc),Zv,ey,pc,th=j({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==pc&&(pc&&u.type==="mousemove"?(Zv=u.screenX-pc.screenX,ey=u.screenY-pc.screenY):ey=Zv=0,pc=u),Zv)},movementY:function(u){return"movementY"in u?u.movementY:ey}}),Fk=ni(th),A6=j({},th,{dataTransfer:0}),D6=ni(A6),I6=j({},hc,{relatedTarget:0}),ty=ni(I6),R6=j({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),P6=ni(R6),M6=j({},Ol,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),L6=ni(M6),j6=j({},Ol,{data:0}),$k=ni(j6),F6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U6(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=B6[u])?!!d[u]:!1}function ny(){return U6}var V6=j({},hc,{key:function(u){if(u.key){var d=F6[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Zf(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?$6[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(u){return u.type==="keypress"?Zf(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Zf(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),q6=ni(V6),z6=j({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bk=ni(z6),H6=j({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny}),W6=ni(H6),Y6=j({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),G6=ni(Y6),K6=j({},th,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Q6=ni(K6),X6=[9,13,27,32],ry=a&&"CompositionEvent"in window,mc=null;a&&"documentMode"in document&&(mc=document.documentMode);var J6=a&&"TextEvent"in window&&!mc,Uk=a&&(!ry||mc&&8<mc&&11>=mc),Vk=" ",qk=!1;function zk(u,d){switch(u){case"keyup":return X6.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hk(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Al=!1;function Z6(u,d){switch(u){case"compositionend":return Hk(d);case"keypress":return d.which!==32?null:(qk=!0,Vk);case"textInput":return u=d.data,u===Vk&&qk?null:u;default:return null}}function e$(u,d){if(Al)return u==="compositionend"||!ry&&zk(u,d)?(u=Lk(),Jf=Xv=vo=null,Al=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Uk&&d.locale!=="ko"?null:d.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wk(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!t$[u.type]:d==="textarea"}function Yk(u,d,v,T){rt(T),d=oh(d,"onChange"),0<d.length&&(v=new Jv("onChange","change",null,v,T),u.push({event:v,listeners:d}))}var gc=null,vc=null;function n$(u){dT(u,0)}function nh(u){var d=Ml(u);if(ge(d))return u}function r$(u,d){if(u==="change")return d}var Gk=!1;if(a){var iy;if(a){var sy="oninput"in document;if(!sy){var Kk=document.createElement("div");Kk.setAttribute("oninput","return;"),sy=typeof Kk.oninput=="function"}iy=sy}else iy=!1;Gk=iy&&(!document.documentMode||9<document.documentMode)}function Qk(){gc&&(gc.detachEvent("onpropertychange",Xk),vc=gc=null)}function Xk(u){if(u.propertyName==="value"&&nh(vc)){var d=[];Yk(d,vc,u,Te(u)),qr(n$,d)}}function i$(u,d,v){u==="focusin"?(Qk(),gc=d,vc=v,gc.attachEvent("onpropertychange",Xk)):u==="focusout"&&Qk()}function s$(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return nh(vc)}function o$(u,d){if(u==="click")return nh(d)}function a$(u,d){if(u==="input"||u==="change")return nh(d)}function l$(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ri=typeof Object.is=="function"?Object.is:l$;function yc(u,d){if(Ri(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var v=Object.keys(u),T=Object.keys(d);if(v.length!==T.length)return!1;for(T=0;T<v.length;T++){var P=v[T];if(!l.call(d,P)||!Ri(u[P],d[P]))return!1}return!0}function Jk(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Zk(u,d){var v=Jk(u);u=0;for(var T;v;){if(v.nodeType===3){if(T=u+v.textContent.length,u<=d&&T>=d)return{node:v,offset:d-u};u=T}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Jk(v)}}function eT(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?eT(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function tT(){for(var u=window,d=Ce();d instanceof u.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)u=d.contentWindow;else break;d=Ce(u.document)}return d}function oy(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function u$(u){var d=tT(),v=u.focusedElem,T=u.selectionRange;if(d!==v&&v&&v.ownerDocument&&eT(v.ownerDocument.documentElement,v)){if(T!==null&&oy(v)){if(d=T.start,u=T.end,u===void 0&&(u=d),"selectionStart"in v)v.selectionStart=d,v.selectionEnd=Math.min(u,v.value.length);else if(u=(d=v.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var P=v.textContent.length,$=Math.min(T.start,P);T=T.end===void 0?$:Math.min(T.end,P),!u.extend&&$>T&&(P=T,T=$,$=P),P=Zk(v,$);var G=Zk(v,T);P&&G&&(u.rangeCount!==1||u.anchorNode!==P.node||u.anchorOffset!==P.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),u.removeAllRanges(),$>T?(u.addRange(d),u.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),u.addRange(d)))}}for(d=[],u=v;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<d.length;v++)u=d[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var c$=a&&"documentMode"in document&&11>=document.documentMode,Dl=null,ay=null,wc=null,ly=!1;function nT(u,d,v){var T=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ly||Dl==null||Dl!==Ce(T)||(T=Dl,"selectionStart"in T&&oy(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),wc&&yc(wc,T)||(wc=T,T=oh(ay,"onSelect"),0<T.length&&(d=new Jv("onSelect","select",null,d,v),u.push({event:d,listeners:T}),d.target=Dl)))}function rh(u,d){var v={};return v[u.toLowerCase()]=d.toLowerCase(),v["Webkit"+u]="webkit"+d,v["Moz"+u]="moz"+d,v}var Il={animationend:rh("Animation","AnimationEnd"),animationiteration:rh("Animation","AnimationIteration"),animationstart:rh("Animation","AnimationStart"),transitionend:rh("Transition","TransitionEnd")},uy={},rT={};a&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function ih(u){if(uy[u])return uy[u];if(!Il[u])return u;var d=Il[u],v;for(v in d)if(d.hasOwnProperty(v)&&v in rT)return uy[u]=d[v];return u}var iT=ih("animationend"),sT=ih("animationiteration"),oT=ih("animationstart"),aT=ih("transitionend"),lT=new Map,uT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(u,d){lT.set(u,d),s(d,[u])}for(var cy=0;cy<uT.length;cy++){var dy=uT[cy],d$=dy.toLowerCase(),f$=dy[0].toUpperCase()+dy.slice(1);yo(d$,"on"+f$)}yo(iT,"onAnimationEnd"),yo(sT,"onAnimationIteration"),yo(oT,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(aT,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function cT(u,d,v){var T=u.type||"unknown-event";u.currentTarget=v,d6(T,d,void 0,u),u.currentTarget=null}function dT(u,d){d=(d&4)!==0;for(var v=0;v<u.length;v++){var T=u[v],P=T.event;T=T.listeners;e:{var $=void 0;if(d)for(var G=T.length-1;0<=G;G--){var ee=T[G],ne=ee.instance,de=ee.currentTarget;if(ee=ee.listener,ne!==$&&P.isPropagationStopped())break e;cT(P,ee,de),$=ne}else for(G=0;G<T.length;G++){if(ee=T[G],ne=ee.instance,de=ee.currentTarget,ee=ee.listener,ne!==$&&P.isPropagationStopped())break e;cT(P,ee,de),$=ne}}}if(Vf)throw u=Vv,Vf=!1,Vv=null,u}function Xt(u,d){var v=d[wy];v===void 0&&(v=d[wy]=new Set);var T=u+"__bubble";v.has(T)||(fT(d,u,2,!1),v.add(T))}function fy(u,d,v){var T=0;d&&(T|=4),fT(v,u,T,d)}var sh="_reactListening"+Math.random().toString(36).slice(2);function xc(u){if(!u[sh]){u[sh]=!0,r.forEach(function(v){v!=="selectionchange"&&(h$.has(v)||fy(v,!1,u),fy(v,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[sh]||(d[sh]=!0,fy("selectionchange",!1,d))}}function fT(u,d,v,T){switch(Mk(d)){case 1:var P=C6;break;case 4:P=N6;break;default:P=Kv}v=P.bind(null,d,v,u),P=void 0,!fo||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),T?P!==void 0?u.addEventListener(d,v,{capture:!0,passive:P}):u.addEventListener(d,v,!0):P!==void 0?u.addEventListener(d,v,{passive:P}):u.addEventListener(d,v,!1)}function hy(u,d,v,T,P){var $=T;if((d&1)===0&&(d&2)===0&&T!==null)e:for(;;){if(T===null)return;var G=T.tag;if(G===3||G===4){var ee=T.stateNode.containerInfo;if(ee===P||ee.nodeType===8&&ee.parentNode===P)break;if(G===4)for(G=T.return;G!==null;){var ne=G.tag;if((ne===3||ne===4)&&(ne=G.stateNode.containerInfo,ne===P||ne.nodeType===8&&ne.parentNode===P))return;G=G.return}for(;ee!==null;){if(G=wa(ee),G===null)return;if(ne=G.tag,ne===5||ne===6){T=$=G;continue e}ee=ee.parentNode}}T=T.return}qr(function(){var de=$,ye=Te(v),_e=[];e:{var ve=lT.get(u);if(ve!==void 0){var Re=Jv,Ve=u;switch(u){case"keypress":if(Zf(v)===0)break e;case"keydown":case"keyup":Re=q6;break;case"focusin":Ve="focus",Re=ty;break;case"focusout":Ve="blur",Re=ty;break;case"beforeblur":case"afterblur":Re=ty;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=D6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=W6;break;case iT:case sT:case oT:Re=P6;break;case aT:Re=G6;break;case"scroll":Re=O6;break;case"wheel":Re=Q6;break;case"copy":case"cut":case"paste":Re=L6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Bk}var qe=(d&4)!==0,En=!qe&&u==="scroll",ae=qe?ve!==null?ve+"Capture":null:ve;qe=[];for(var re=de,ue;re!==null;){ue=re;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,ae!==null&&(Ee=gi(re,ae),Ee!=null&&qe.push(_c(re,Ee,ue)))),En)break;re=re.return}0<qe.length&&(ve=new Re(ve,Ve,null,v,ye),_e.push({event:ve,listeners:qe}))}}if((d&7)===0){e:{if(ve=u==="mouseover"||u==="pointerover",Re=u==="mouseout"||u==="pointerout",ve&&v!==ke&&(Ve=v.relatedTarget||v.fromElement)&&(wa(Ve)||Ve[Is]))break e;if((Re||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(Ve=v.relatedTarget||v.toElement,Re=de,Ve=Ve?wa(Ve):null,Ve!==null&&(En=ya(Ve),Ve!==En||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Re=null,Ve=de),Re!==Ve)){if(qe=Fk,Ee="onMouseLeave",ae="onMouseEnter",re="mouse",(u==="pointerout"||u==="pointerover")&&(qe=Bk,Ee="onPointerLeave",ae="onPointerEnter",re="pointer"),En=Re==null?ve:Ml(Re),ue=Ve==null?ve:Ml(Ve),ve=new qe(Ee,re+"leave",Re,v,ye),ve.target=En,ve.relatedTarget=ue,Ee=null,wa(ye)===de&&(qe=new qe(ae,re+"enter",Ve,v,ye),qe.target=ue,qe.relatedTarget=En,Ee=qe),En=Ee,Re&&Ve)t:{for(qe=Re,ae=Ve,re=0,ue=qe;ue;ue=Rl(ue))re++;for(ue=0,Ee=ae;Ee;Ee=Rl(Ee))ue++;for(;0<re-ue;)qe=Rl(qe),re--;for(;0<ue-re;)ae=Rl(ae),ue--;for(;re--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Rl(qe),ae=Rl(ae)}qe=null}else qe=null;Re!==null&&hT(_e,ve,Re,qe,!1),Ve!==null&&En!==null&&hT(_e,En,Ve,qe,!0)}}e:{if(ve=de?Ml(de):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var He=r$;else if(Wk(ve))if(Gk)He=a$;else{He=s$;var Ze=i$}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(He=o$);if(He&&(He=He(u,de))){Yk(_e,He,v,ye);break e}Ze&&Ze(u,ve,de),u==="focusout"&&(Ze=ve._wrapperState)&&Ze.controlled&&ve.type==="number"&&fe(ve,"number",ve.value)}switch(Ze=de?Ml(de):window,u){case"focusin":(Wk(Ze)||Ze.contentEditable==="true")&&(Dl=Ze,ay=de,wc=null);break;case"focusout":wc=ay=Dl=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,nT(_e,v,ye);break;case"selectionchange":if(c$)break;case"keydown":case"keyup":nT(_e,v,ye)}var et;if(ry)e:{switch(u){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Al?zk(u,v)&&(st="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(st="onCompositionStart");st&&(Uk&&v.locale!=="ko"&&(Al||st!=="onCompositionStart"?st==="onCompositionEnd"&&Al&&(et=Lk()):(vo=ye,Xv="value"in vo?vo.value:vo.textContent,Al=!0)),Ze=oh(de,st),0<Ze.length&&(st=new $k(st,u,null,v,ye),_e.push({event:st,listeners:Ze}),et?st.data=et:(et=Hk(v),et!==null&&(st.data=et)))),(et=J6?Z6(u,v):e$(u,v))&&(de=oh(de,"onBeforeInput"),0<de.length&&(ye=new $k("onBeforeInput","beforeinput",null,v,ye),_e.push({event:ye,listeners:de}),ye.data=et))}dT(_e,d)})}function _c(u,d,v){return{instance:u,listener:d,currentTarget:v}}function oh(u,d){for(var v=d+"Capture",T=[];u!==null;){var P=u,$=P.stateNode;P.tag===5&&$!==null&&(P=$,$=gi(u,v),$!=null&&T.unshift(_c(u,$,P)),$=gi(u,d),$!=null&&T.push(_c(u,$,P))),u=u.return}return T}function Rl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function hT(u,d,v,T,P){for(var $=d._reactName,G=[];v!==null&&v!==T;){var ee=v,ne=ee.alternate,de=ee.stateNode;if(ne!==null&&ne===T)break;ee.tag===5&&de!==null&&(ee=de,P?(ne=gi(v,$),ne!=null&&G.unshift(_c(v,ne,ee))):P||(ne=gi(v,$),ne!=null&&G.push(_c(v,ne,ee)))),v=v.return}G.length!==0&&u.push({event:d,listeners:G})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function pT(u){return(typeof u=="string"?u:""+u).replace(p$,`
`).replace(m$,"")}function ah(u,d,v){if(d=pT(d),pT(u)!==d&&v)throw Error(n(425))}function lh(){}var py=null,my=null;function gy(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var vy=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(u){return mT.resolve(null).then(u).catch(y$)}:vy;function y$(u){setTimeout(function(){throw u})}function yy(u,d){var v=d,T=0;do{var P=v.nextSibling;if(u.removeChild(v),P&&P.nodeType===8)if(v=P.data,v==="/$"){if(T===0){u.removeChild(P),fc(d);return}T--}else v!=="$"&&v!=="$?"&&v!=="$!"||T++;v=P}while(v);fc(d)}function wo(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function gT(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return u;d--}else v==="/$"&&d++}u=u.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Ji="__reactFiber$"+Pl,Sc="__reactProps$"+Pl,Is="__reactContainer$"+Pl,wy="__reactEvents$"+Pl,w$="__reactListeners$"+Pl,b$="__reactHandles$"+Pl;function wa(u){var d=u[Ji];if(d)return d;for(var v=u.parentNode;v;){if(d=v[Is]||v[Ji]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(u=gT(u);u!==null;){if(v=u[Ji])return v;u=gT(u)}return d}u=v,v=u.parentNode}return null}function Ec(u){return u=u[Ji]||u[Is],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ml(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function uh(u){return u[Sc]||null}var by=[],Ll=-1;function bo(u){return{current:u}}function Jt(u){0>Ll||(u.current=by[Ll],by[Ll]=null,Ll--)}function Wt(u,d){Ll++,by[Ll]=u.current,u.current=d}var xo={},dr=bo(xo),zr=bo(!1),ba=xo;function jl(u,d){var v=u.type.contextTypes;if(!v)return xo;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var P={},$;for($ in v)P[$]=d[$];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=P),P}function Hr(u){return u=u.childContextTypes,u!=null}function ch(){Jt(zr),Jt(dr)}function vT(u,d,v){if(dr.current!==xo)throw Error(n(168));Wt(dr,d),Wt(zr,v)}function yT(u,d,v){var T=u.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return v;T=T.getChildContext();for(var P in T)if(!(P in d))throw Error(n(108,J(u)||"Unknown",P));return j({},v,T)}function dh(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||xo,ba=dr.current,Wt(dr,u),Wt(zr,zr.current),!0}function wT(u,d,v){var T=u.stateNode;if(!T)throw Error(n(169));v?(u=yT(u,d,ba),T.__reactInternalMemoizedMergedChildContext=u,Jt(zr),Jt(dr),Wt(dr,u)):Jt(zr),Wt(zr,v)}var Rs=null,fh=!1,xy=!1;function bT(u){Rs===null?Rs=[u]:Rs.push(u)}function x$(u){fh=!0,bT(u)}function _o(){if(!xy&&Rs!==null){xy=!0;var u=0,d=Ft;try{var v=Rs;for(Ft=1;u<v.length;u++){var T=v[u];do T=T(!0);while(T!==null)}Rs=null,fh=!1}catch(P){throw Rs!==null&&(Rs=Rs.slice(u+1)),_k(qv,_o),P}finally{Ft=d,xy=!1}}return null}var Fl=[],$l=0,hh=null,ph=0,vi=[],yi=0,xa=null,Ps=1,Ms="";function _a(u,d){Fl[$l++]=ph,Fl[$l++]=hh,hh=u,ph=d}function xT(u,d,v){vi[yi++]=Ps,vi[yi++]=Ms,vi[yi++]=xa,xa=u;var T=Ps;u=Ms;var P=32-Ii(T)-1;T&=~(1<<P),v+=1;var $=32-Ii(d)+P;if(30<$){var G=P-P%5;$=(T&(1<<G)-1).toString(32),T>>=G,P-=G,Ps=1<<32-Ii(d)+P|v<<P|T,Ms=$+u}else Ps=1<<$|v<<P|T,Ms=u}function _y(u){u.return!==null&&(_a(u,1),xT(u,1,0))}function Sy(u){for(;u===hh;)hh=Fl[--$l],Fl[$l]=null,ph=Fl[--$l],Fl[$l]=null;for(;u===xa;)xa=vi[--yi],vi[yi]=null,Ms=vi[--yi],vi[yi]=null,Ps=vi[--yi],vi[yi]=null}var ri=null,ii=null,un=!1,Pi=null;function _T(u,d){var v=_i(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=u,d=u.deletions,d===null?(u.deletions=[v],u.flags|=16):d.push(v)}function ST(u,d){switch(u.tag){case 5:var v=u.type;return d=d.nodeType!==1||v.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,ri=u,ii=wo(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,ri=u,ii=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(v=xa!==null?{id:Ps,overflow:Ms}:null,u.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=_i(18,null,null,0),v.stateNode=d,v.return=u,u.child=v,ri=u,ii=null,!0):!1;default:return!1}}function Ey(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ky(u){if(un){var d=ii;if(d){var v=d;if(!ST(u,d)){if(Ey(u))throw Error(n(418));d=wo(v.nextSibling);var T=ri;d&&ST(u,d)?_T(T,v):(u.flags=u.flags&-4097|2,un=!1,ri=u)}}else{if(Ey(u))throw Error(n(418));u.flags=u.flags&-4097|2,un=!1,ri=u}}}function ET(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ri=u}function mh(u){if(u!==ri)return!1;if(!un)return ET(u),un=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!gy(u.type,u.memoizedProps)),d&&(d=ii)){if(Ey(u))throw kT(),Error(n(418));for(;d;)_T(u,d),d=wo(d.nextSibling)}if(ET(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(d===0){ii=wo(u.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++}u=u.nextSibling}ii=null}}else ii=ri?wo(u.stateNode.nextSibling):null;return!0}function kT(){for(var u=ii;u;)u=wo(u.nextSibling)}function Bl(){ii=ri=null,un=!1}function Ty(u){Pi===null?Pi=[u]:Pi.push(u)}var _$=S.ReactCurrentBatchConfig;function Mi(u,d){if(u&&u.defaultProps){d=j({},d),u=u.defaultProps;for(var v in u)d[v]===void 0&&(d[v]=u[v]);return d}return d}var gh=bo(null),vh=null,Ul=null,Cy=null;function Ny(){Cy=Ul=vh=null}function Oy(u){var d=gh.current;Jt(gh),u._currentValue=d}function Ay(u,d,v){for(;u!==null;){var T=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),u===v)break;u=u.return}}function Vl(u,d){vh=u,Cy=Ul=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Wr=!0),u.firstContext=null)}function wi(u){var d=u._currentValue;if(Cy!==u)if(u={context:u,memoizedValue:d,next:null},Ul===null){if(vh===null)throw Error(n(308));Ul=u,vh.dependencies={lanes:0,firstContext:u}}else Ul=Ul.next=u;return d}var Sa=null;function Dy(u){Sa===null?Sa=[u]:Sa.push(u)}function TT(u,d,v,T){var P=d.interleaved;return P===null?(v.next=v,Dy(d)):(v.next=P.next,P.next=v),d.interleaved=v,Ls(u,T)}function Ls(u,d){u.lanes|=d;var v=u.alternate;for(v!==null&&(v.lanes|=d),v=u,u=u.return;u!==null;)u.childLanes|=d,v=u.alternate,v!==null&&(v.childLanes|=d),v=u,u=u.return;return v.tag===3?v.stateNode:null}var So=!1;function Iy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function js(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function Eo(u,d,v){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(kt&2)!==0){var P=T.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),T.pending=d,Ls(u,v)}return P=T.interleaved,P===null?(d.next=d,Dy(T)):(d.next=P.next,P.next=d),T.interleaved=d,Ls(u,v)}function yh(u,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,Wv(u,v)}}function NT(u,d){var v=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,v===T)){var P=null,$=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};$===null?P=$=G:$=$.next=G,v=v.next}while(v!==null);$===null?P=$=d:$=$.next=d}else P=$=d;v={baseState:T.baseState,firstBaseUpdate:P,lastBaseUpdate:$,shared:T.shared,effects:T.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=d}function wh(u,d,v,T){var P=u.updateQueue;So=!1;var $=P.firstBaseUpdate,G=P.lastBaseUpdate,ee=P.shared.pending;if(ee!==null){P.shared.pending=null;var ne=ee,de=ne.next;ne.next=null,G===null?$=de:G.next=de,G=ne;var ye=u.alternate;ye!==null&&(ye=ye.updateQueue,ee=ye.lastBaseUpdate,ee!==G&&(ee===null?ye.firstBaseUpdate=de:ee.next=de,ye.lastBaseUpdate=ne))}if($!==null){var _e=P.baseState;G=0,ye=de=ne=null,ee=$;do{var ve=ee.lane,Re=ee.eventTime;if((T&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Re,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ve=u,qe=ee;switch(ve=d,Re=v,qe.tag){case 1:if(Ve=qe.payload,typeof Ve=="function"){_e=Ve.call(Re,_e,ve);break e}_e=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=qe.payload,ve=typeof Ve=="function"?Ve.call(Re,_e,ve):Ve,ve==null)break e;_e=j({},_e,ve);break e;case 2:So=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,ve=P.effects,ve===null?P.effects=[ee]:ve.push(ee))}else Re={eventTime:Re,lane:ve,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ye===null?(de=ye=Re,ne=_e):ye=ye.next=Re,G|=ve;if(ee=ee.next,ee===null){if(ee=P.shared.pending,ee===null)break;ve=ee,ee=ve.next,ve.next=null,P.lastBaseUpdate=ve,P.shared.pending=null}}while(!0);if(ye===null&&(ne=_e),P.baseState=ne,P.firstBaseUpdate=de,P.lastBaseUpdate=ye,d=P.shared.interleaved,d!==null){P=d;do G|=P.lane,P=P.next;while(P!==d)}else $===null&&(P.shared.lanes=0);Ta|=G,u.lanes=G,u.memoizedState=_e}}function OT(u,d,v){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var T=u[d],P=T.callback;if(P!==null){if(T.callback=null,T=v,typeof P!="function")throw Error(n(191,P));P.call(T)}}}var AT=new t.Component().refs;function Ry(u,d,v,T){d=u.memoizedState,v=v(T,d),v=v==null?d:j({},d,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var bh={isMounted:function(u){return(u=u._reactInternals)?ya(u)===u:!1},enqueueSetState:function(u,d,v){u=u._reactInternals;var T=Rr(),P=No(u),$=js(T,P);$.payload=d,v!=null&&($.callback=v),d=Eo(u,$,P),d!==null&&(Fi(d,u,P,T),yh(d,u,P))},enqueueReplaceState:function(u,d,v){u=u._reactInternals;var T=Rr(),P=No(u),$=js(T,P);$.tag=1,$.payload=d,v!=null&&($.callback=v),d=Eo(u,$,P),d!==null&&(Fi(d,u,P,T),yh(d,u,P))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var v=Rr(),T=No(u),P=js(v,T);P.tag=2,d!=null&&(P.callback=d),d=Eo(u,P,T),d!==null&&(Fi(d,u,T,v),yh(d,u,T))}};function DT(u,d,v,T,P,$,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,$,G):d.prototype&&d.prototype.isPureReactComponent?!yc(v,T)||!yc(P,$):!0}function IT(u,d,v){var T=!1,P=xo,$=d.contextType;return typeof $=="object"&&$!==null?$=wi($):(P=Hr(d)?ba:dr.current,T=d.contextTypes,$=(T=T!=null)?jl(u,P):xo),d=new d(v,$),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bh,u.stateNode=d,d._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=P,u.__reactInternalMemoizedMaskedChildContext=$),d}function RT(u,d,v,T){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,T),d.state!==u&&bh.enqueueReplaceState(d,d.state,null)}function Py(u,d,v,T){var P=u.stateNode;P.props=v,P.state=u.memoizedState,P.refs=AT,Iy(u);var $=d.contextType;typeof $=="object"&&$!==null?P.context=wi($):($=Hr(d)?ba:dr.current,P.context=jl(u,$)),P.state=u.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(Ry(u,d,$,v),P.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&bh.enqueueReplaceState(P,P.state,null),wh(u,v,P,T),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308)}function kc(u,d,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var T=v.stateNode}if(!T)throw Error(n(147,u));var P=T,$=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===$?d.ref:(d=function(G){var ee=P.refs;ee===AT&&(ee=P.refs={}),G===null?delete ee[$]:ee[$]=G},d._stringRef=$,d)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function xh(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function PT(u){var d=u._init;return d(u._payload)}function MT(u){function d(ae,re){if(u){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function v(ae,re){if(!u)return null;for(;re!==null;)d(ae,re),re=re.sibling;return null}function T(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function P(ae,re){return ae=Ao(ae,re),ae.index=0,ae.sibling=null,ae}function $(ae,re,ue){return ae.index=ue,u?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function G(ae){return u&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,re,ue,Ee){return re===null||re.tag!==6?(re=v0(ue,ae.mode,Ee),re.return=ae,re):(re=P(re,ue),re.return=ae,re)}function ne(ae,re,ue,Ee){var He=ue.type;return He===O?ye(ae,re,ue.props.children,Ee,ue.key):re!==null&&(re.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===L&&PT(He)===re.type)?(Ee=P(re,ue.props),Ee.ref=kc(ae,re,ue),Ee.return=ae,Ee):(Ee=Bh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=kc(ae,re,ue),Ee.return=ae,Ee)}function de(ae,re,ue,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=y0(ue,ae.mode,Ee),re.return=ae,re):(re=P(re,ue.children||[]),re.return=ae,re)}function ye(ae,re,ue,Ee,He){return re===null||re.tag!==7?(re=Aa(ue,ae.mode,Ee,He),re.return=ae,re):(re=P(re,ue),re.return=ae,re)}function _e(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=v0(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return ue=Bh(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=kc(ae,null,re),ue.return=ae,ue;case N:return re=y0(re,ae.mode,ue),re.return=ae,re;case L:var Ee=re._init;return _e(ae,Ee(re._payload),ue)}if(we(re)||z(re))return re=Aa(re,ae.mode,ue,null),re.return=ae,re;xh(ae,re)}return null}function ve(ae,re,ue,Ee){var He=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return He!==null?null:ee(ae,re,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===He?ne(ae,re,ue,Ee):null;case N:return ue.key===He?de(ae,re,ue,Ee):null;case L:return He=ue._init,ve(ae,re,He(ue._payload),Ee)}if(we(ue)||z(ue))return He!==null?null:ye(ae,re,ue,Ee,null);xh(ae,ue)}return null}function Re(ae,re,ue,Ee,He){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(ue)||null,ee(re,ae,""+Ee,He);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,ne(re,ae,Ee,He);case N:return ae=ae.get(Ee.key===null?ue:Ee.key)||null,de(re,ae,Ee,He);case L:var Ze=Ee._init;return Re(ae,re,ue,Ze(Ee._payload),He)}if(we(Ee)||z(Ee))return ae=ae.get(ue)||null,ye(re,ae,Ee,He,null);xh(re,Ee)}return null}function Ve(ae,re,ue,Ee){for(var He=null,Ze=null,et=re,st=re=0,Yn=null;et!==null&&st<ue.length;st++){et.index>st?(Yn=et,et=null):Yn=et.sibling;var Nt=ve(ae,et,ue[st],Ee);if(Nt===null){et===null&&(et=Yn);break}u&&et&&Nt.alternate===null&&d(ae,et),re=$(Nt,re,st),Ze===null?He=Nt:Ze.sibling=Nt,Ze=Nt,et=Yn}if(st===ue.length)return v(ae,et),un&&_a(ae,st),He;if(et===null){for(;st<ue.length;st++)et=_e(ae,ue[st],Ee),et!==null&&(re=$(et,re,st),Ze===null?He=et:Ze.sibling=et,Ze=et);return un&&_a(ae,st),He}for(et=T(ae,et);st<ue.length;st++)Yn=Re(et,ae,st,ue[st],Ee),Yn!==null&&(u&&Yn.alternate!==null&&et.delete(Yn.key===null?st:Yn.key),re=$(Yn,re,st),Ze===null?He=Yn:Ze.sibling=Yn,Ze=Yn);return u&&et.forEach(function(Do){return d(ae,Do)}),un&&_a(ae,st),He}function qe(ae,re,ue,Ee){var He=z(ue);if(typeof He!="function")throw Error(n(150));if(ue=He.call(ue),ue==null)throw Error(n(151));for(var Ze=He=null,et=re,st=re=0,Yn=null,Nt=ue.next();et!==null&&!Nt.done;st++,Nt=ue.next()){et.index>st?(Yn=et,et=null):Yn=et.sibling;var Do=ve(ae,et,Nt.value,Ee);if(Do===null){et===null&&(et=Yn);break}u&&et&&Do.alternate===null&&d(ae,et),re=$(Do,re,st),Ze===null?He=Do:Ze.sibling=Do,Ze=Do,et=Yn}if(Nt.done)return v(ae,et),un&&_a(ae,st),He;if(et===null){for(;!Nt.done;st++,Nt=ue.next())Nt=_e(ae,Nt.value,Ee),Nt!==null&&(re=$(Nt,re,st),Ze===null?He=Nt:Ze.sibling=Nt,Ze=Nt);return un&&_a(ae,st),He}for(et=T(ae,et);!Nt.done;st++,Nt=ue.next())Nt=Re(et,ae,st,Nt.value,Ee),Nt!==null&&(u&&Nt.alternate!==null&&et.delete(Nt.key===null?st:Nt.key),re=$(Nt,re,st),Ze===null?He=Nt:Ze.sibling=Nt,Ze=Nt);return u&&et.forEach(function(tB){return d(ae,tB)}),un&&_a(ae,st),He}function En(ae,re,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var He=ue.key,Ze=re;Ze!==null;){if(Ze.key===He){if(He=ue.type,He===O){if(Ze.tag===7){v(ae,Ze.sibling),re=P(Ze,ue.props.children),re.return=ae,ae=re;break e}}else if(Ze.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===L&&PT(He)===Ze.type){v(ae,Ze.sibling),re=P(Ze,ue.props),re.ref=kc(ae,Ze,ue),re.return=ae,ae=re;break e}v(ae,Ze);break}else d(ae,Ze);Ze=Ze.sibling}ue.type===O?(re=Aa(ue.props.children,ae.mode,Ee,ue.key),re.return=ae,ae=re):(Ee=Bh(ue.type,ue.key,ue.props,null,ae.mode,Ee),Ee.ref=kc(ae,re,ue),Ee.return=ae,ae=Ee)}return G(ae);case N:e:{for(Ze=ue.key;re!==null;){if(re.key===Ze)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){v(ae,re.sibling),re=P(re,ue.children||[]),re.return=ae,ae=re;break e}else{v(ae,re);break}else d(ae,re);re=re.sibling}re=y0(ue,ae.mode,Ee),re.return=ae,ae=re}return G(ae);case L:return Ze=ue._init,En(ae,re,Ze(ue._payload),Ee)}if(we(ue))return Ve(ae,re,ue,Ee);if(z(ue))return qe(ae,re,ue,Ee);xh(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(v(ae,re.sibling),re=P(re,ue),re.return=ae,ae=re):(v(ae,re),re=v0(ue,ae.mode,Ee),re.return=ae,ae=re),G(ae)):v(ae,re)}return En}var ql=MT(!0),LT=MT(!1),Tc={},Zi=bo(Tc),Cc=bo(Tc),Nc=bo(Tc);function Ea(u){if(u===Tc)throw Error(n(174));return u}function My(u,d){switch(Wt(Nc,d),Wt(Cc,u),Wt(Zi,Tc),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:On(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=On(d,u)}Jt(Zi),Wt(Zi,d)}function zl(){Jt(Zi),Jt(Cc),Jt(Nc)}function jT(u){Ea(Nc.current);var d=Ea(Zi.current),v=On(d,u.type);d!==v&&(Wt(Cc,u),Wt(Zi,v))}function Ly(u){Cc.current===u&&(Jt(Zi),Jt(Cc))}var hn=bo(0);function _h(u){for(var d=u;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var jy=[];function Fy(){for(var u=0;u<jy.length;u++)jy[u]._workInProgressVersionPrimary=null;jy.length=0}var Sh=S.ReactCurrentDispatcher,$y=S.ReactCurrentBatchConfig,ka=0,pn=null,$n=null,Hn=null,Eh=!1,Oc=!1,Ac=0,S$=0;function fr(){throw Error(n(321))}function By(u,d){if(d===null)return!1;for(var v=0;v<d.length&&v<u.length;v++)if(!Ri(u[v],d[v]))return!1;return!0}function Uy(u,d,v,T,P,$){if(ka=$,pn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Sh.current=u===null||u.memoizedState===null?C$:N$,u=v(T,P),Oc){$=0;do{if(Oc=!1,Ac=0,25<=$)throw Error(n(301));$+=1,Hn=$n=null,d.updateQueue=null,Sh.current=O$,u=v(T,P)}while(Oc)}if(Sh.current=Ch,d=$n!==null&&$n.next!==null,ka=0,Hn=$n=pn=null,Eh=!1,d)throw Error(n(300));return u}function Vy(){var u=Ac!==0;return Ac=0,u}function es(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?pn.memoizedState=Hn=u:Hn=Hn.next=u,Hn}function bi(){if($n===null){var u=pn.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var d=Hn===null?pn.memoizedState:Hn.next;if(d!==null)Hn=d,$n=u;else{if(u===null)throw Error(n(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Hn===null?pn.memoizedState=Hn=u:Hn=Hn.next=u}return Hn}function Dc(u,d){return typeof d=="function"?d(u):d}function qy(u){var d=bi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=$n,P=T.baseQueue,$=v.pending;if($!==null){if(P!==null){var G=P.next;P.next=$.next,$.next=G}T.baseQueue=P=$,v.pending=null}if(P!==null){$=P.next,T=T.baseState;var ee=G=null,ne=null,de=$;do{var ye=de.lane;if((ka&ye)===ye)ne!==null&&(ne=ne.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),T=de.hasEagerState?de.eagerState:u(T,de.action);else{var _e={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ne===null?(ee=ne=_e,G=T):ne=ne.next=_e,pn.lanes|=ye,Ta|=ye}de=de.next}while(de!==null&&de!==$);ne===null?G=T:ne.next=ee,Ri(T,d.memoizedState)||(Wr=!0),d.memoizedState=T,d.baseState=G,d.baseQueue=ne,v.lastRenderedState=T}if(u=v.interleaved,u!==null){P=u;do $=P.lane,pn.lanes|=$,Ta|=$,P=P.next;while(P!==u)}else P===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function zy(u){var d=bi(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var T=v.dispatch,P=v.pending,$=d.memoizedState;if(P!==null){v.pending=null;var G=P=P.next;do $=u($,G.action),G=G.next;while(G!==P);Ri($,d.memoizedState)||(Wr=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),v.lastRenderedState=$}return[$,T]}function FT(){}function $T(u,d){var v=pn,T=bi(),P=d(),$=!Ri(T.memoizedState,P);if($&&(T.memoizedState=P,Wr=!0),T=T.queue,Hy(VT.bind(null,v,T,u),[u]),T.getSnapshot!==d||$||Hn!==null&&Hn.memoizedState.tag&1){if(v.flags|=2048,Ic(9,UT.bind(null,v,T,P,d),void 0,null),Wn===null)throw Error(n(349));(ka&30)!==0||BT(v,d,P)}return P}function BT(u,d,v){u.flags|=16384,u={getSnapshot:d,value:v},d=pn.updateQueue,d===null?(d={lastEffect:null,stores:null},pn.updateQueue=d,d.stores=[u]):(v=d.stores,v===null?d.stores=[u]:v.push(u))}function UT(u,d,v,T){d.value=v,d.getSnapshot=T,qT(d)&&zT(u)}function VT(u,d,v){return v(function(){qT(d)&&zT(u)})}function qT(u){var d=u.getSnapshot;u=u.value;try{var v=d();return!Ri(u,v)}catch{return!0}}function zT(u){var d=Ls(u,1);d!==null&&Fi(d,u,1,-1)}function HT(u){var d=es();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:u},d.queue=u,u=u.dispatch=T$.bind(null,pn,u),[d.memoizedState,u]}function Ic(u,d,v,T){return u={tag:u,create:d,destroy:v,deps:T,next:null},d=pn.updateQueue,d===null?(d={lastEffect:null,stores:null},pn.updateQueue=d,d.lastEffect=u.next=u):(v=d.lastEffect,v===null?d.lastEffect=u.next=u:(T=v.next,v.next=u,u.next=T,d.lastEffect=u)),u}function WT(){return bi().memoizedState}function kh(u,d,v,T){var P=es();pn.flags|=u,P.memoizedState=Ic(1|d,v,void 0,T===void 0?null:T)}function Th(u,d,v,T){var P=bi();T=T===void 0?null:T;var $=void 0;if($n!==null){var G=$n.memoizedState;if($=G.destroy,T!==null&&By(T,G.deps)){P.memoizedState=Ic(d,v,$,T);return}}pn.flags|=u,P.memoizedState=Ic(1|d,v,$,T)}function YT(u,d){return kh(8390656,8,u,d)}function Hy(u,d){return Th(2048,8,u,d)}function GT(u,d){return Th(4,2,u,d)}function KT(u,d){return Th(4,4,u,d)}function QT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function XT(u,d,v){return v=v!=null?v.concat([u]):null,Th(4,4,QT.bind(null,d,u),v)}function Wy(){}function JT(u,d){var v=bi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&By(d,T[1])?T[0]:(v.memoizedState=[u,d],u)}function ZT(u,d){var v=bi();d=d===void 0?null:d;var T=v.memoizedState;return T!==null&&d!==null&&By(d,T[1])?T[0]:(u=u(),v.memoizedState=[u,d],u)}function e2(u,d,v){return(ka&21)===0?(u.baseState&&(u.baseState=!1,Wr=!0),u.memoizedState=v):(Ri(v,d)||(v=Tk(),pn.lanes|=v,Ta|=v,u.baseState=!0),d)}function E$(u,d){var v=Ft;Ft=v!==0&&4>v?v:4,u(!0);var T=$y.transition;$y.transition={};try{u(!1),d()}finally{Ft=v,$y.transition=T}}function t2(){return bi().memoizedState}function k$(u,d,v){var T=No(u);if(v={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null},n2(u))r2(d,v);else if(v=TT(u,d,v,T),v!==null){var P=Rr();Fi(v,u,T,P),i2(v,d,T)}}function T$(u,d,v){var T=No(u),P={lane:T,action:v,hasEagerState:!1,eagerState:null,next:null};if(n2(u))r2(d,P);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var G=d.lastRenderedState,ee=$(G,v);if(P.hasEagerState=!0,P.eagerState=ee,Ri(ee,G)){var ne=d.interleaved;ne===null?(P.next=P,Dy(d)):(P.next=ne.next,ne.next=P),d.interleaved=P;return}}catch{}finally{}v=TT(u,d,P,T),v!==null&&(P=Rr(),Fi(v,u,T,P),i2(v,d,T))}}function n2(u){var d=u.alternate;return u===pn||d!==null&&d===pn}function r2(u,d){Oc=Eh=!0;var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}function i2(u,d,v){if((v&4194240)!==0){var T=d.lanes;T&=u.pendingLanes,v|=T,d.lanes=v,Wv(u,v)}}var Ch={readContext:wi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},C$={readContext:wi,useCallback:function(u,d){return es().memoizedState=[u,d===void 0?null:d],u},useContext:wi,useEffect:YT,useImperativeHandle:function(u,d,v){return v=v!=null?v.concat([u]):null,kh(4194308,4,QT.bind(null,d,u),v)},useLayoutEffect:function(u,d){return kh(4194308,4,u,d)},useInsertionEffect:function(u,d){return kh(4,2,u,d)},useMemo:function(u,d){var v=es();return d=d===void 0?null:d,u=u(),v.memoizedState=[u,d],u},useReducer:function(u,d,v){var T=es();return d=v!==void 0?v(d):d,T.memoizedState=T.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},T.queue=u,u=u.dispatch=k$.bind(null,pn,u),[T.memoizedState,u]},useRef:function(u){var d=es();return u={current:u},d.memoizedState=u},useState:HT,useDebugValue:Wy,useDeferredValue:function(u){return es().memoizedState=u},useTransition:function(){var u=HT(!1),d=u[0];return u=E$.bind(null,u[1]),es().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,v){var T=pn,P=es();if(un){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),Wn===null)throw Error(n(349));(ka&30)!==0||BT(T,d,v)}P.memoizedState=v;var $={value:v,getSnapshot:d};return P.queue=$,YT(VT.bind(null,T,$,u),[u]),T.flags|=2048,Ic(9,UT.bind(null,T,$,v,d),void 0,null),v},useId:function(){var u=es(),d=Wn.identifierPrefix;if(un){var v=Ms,T=Ps;v=(T&~(1<<32-Ii(T)-1)).toString(32)+v,d=":"+d+"R"+v,v=Ac++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=S$++,d=":"+d+"r"+v.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},N$={readContext:wi,useCallback:JT,useContext:wi,useEffect:Hy,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:ZT,useReducer:qy,useRef:WT,useState:function(){return qy(Dc)},useDebugValue:Wy,useDeferredValue:function(u){var d=bi();return e2(d,$n.memoizedState,u)},useTransition:function(){var u=qy(Dc)[0],d=bi().memoizedState;return[u,d]},useMutableSource:FT,useSyncExternalStore:$T,useId:t2,unstable_isNewReconciler:!1},O$={readContext:wi,useCallback:JT,useContext:wi,useEffect:Hy,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:ZT,useReducer:zy,useRef:WT,useState:function(){return zy(Dc)},useDebugValue:Wy,useDeferredValue:function(u){var d=bi();return $n===null?d.memoizedState=u:e2(d,$n.memoizedState,u)},useTransition:function(){var u=zy(Dc)[0],d=bi().memoizedState;return[u,d]},useMutableSource:FT,useSyncExternalStore:$T,useId:t2,unstable_isNewReconciler:!1};function Hl(u,d){try{var v="",T=d;do v+=X(T),T=T.return;while(T);var P=v}catch($){P=`
Error generating stack: `+$.message+`
`+$.stack}return{value:u,source:d,stack:P,digest:null}}function Yy(u,d,v){return{value:u,source:null,stack:v??null,digest:d??null}}function Gy(u,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var A$=typeof WeakMap=="function"?WeakMap:Map;function s2(u,d,v){v=js(-1,v),v.tag=3,v.payload={element:null};var T=d.value;return v.callback=function(){Ph||(Ph=!0,u0=T),Gy(u,d)},v}function o2(u,d,v){v=js(-1,v),v.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var P=d.value;v.payload=function(){return T(P)},v.callback=function(){Gy(u,d)}}var $=u.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(v.callback=function(){Gy(u,d),typeof T!="function"&&(To===null?To=new Set([this]):To.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),v}function a2(u,d,v){var T=u.pingCache;if(T===null){T=u.pingCache=new A$;var P=new Set;T.set(d,P)}else P=T.get(d),P===void 0&&(P=new Set,T.set(d,P));P.has(v)||(P.add(v),u=z$.bind(null,u,d,v),d.then(u,u))}function l2(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function u2(u,d,v,T,P){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=js(-1,1),d.tag=2,Eo(v,d,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=P,u)}var D$=S.ReactCurrentOwner,Wr=!1;function Ir(u,d,v,T){d.child=u===null?LT(d,null,v,T):ql(d,u.child,v,T)}function c2(u,d,v,T,P){v=v.render;var $=d.ref;return Vl(d,P),T=Uy(u,d,v,T,$,P),v=Vy(),u!==null&&!Wr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~P,Fs(u,d,P)):(un&&v&&_y(d),d.flags|=1,Ir(u,d,T,P),d.child)}function d2(u,d,v,T,P){if(u===null){var $=v.type;return typeof $=="function"&&!g0($)&&$.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=$,f2(u,d,$,T,P)):(u=Bh(v.type,null,T,d,d.mode,P),u.ref=d.ref,u.return=d,d.child=u)}if($=u.child,(u.lanes&P)===0){var G=$.memoizedProps;if(v=v.compare,v=v!==null?v:yc,v(G,T)&&u.ref===d.ref)return Fs(u,d,P)}return d.flags|=1,u=Ao($,T),u.ref=d.ref,u.return=d,d.child=u}function f2(u,d,v,T,P){if(u!==null){var $=u.memoizedProps;if(yc($,T)&&u.ref===d.ref)if(Wr=!1,d.pendingProps=T=$,(u.lanes&P)!==0)(u.flags&131072)!==0&&(Wr=!0);else return d.lanes=u.lanes,Fs(u,d,P)}return Ky(u,d,v,T,P)}function h2(u,d,v){var T=d.pendingProps,P=T.children,$=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Yl,si),si|=v;else{if((v&1073741824)===0)return u=$!==null?$.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Wt(Yl,si),si|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:v,Wt(Yl,si),si|=T}else $!==null?(T=$.baseLanes|v,d.memoizedState=null):T=v,Wt(Yl,si),si|=T;return Ir(u,d,P,v),d.child}function p2(u,d){var v=d.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function Ky(u,d,v,T,P){var $=Hr(v)?ba:dr.current;return $=jl(d,$),Vl(d,P),v=Uy(u,d,v,T,$,P),T=Vy(),u!==null&&!Wr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~P,Fs(u,d,P)):(un&&T&&_y(d),d.flags|=1,Ir(u,d,v,P),d.child)}function m2(u,d,v,T,P){if(Hr(v)){var $=!0;dh(d)}else $=!1;if(Vl(d,P),d.stateNode===null)Oh(u,d),IT(d,v,T),Py(d,v,T,P),T=!0;else if(u===null){var G=d.stateNode,ee=d.memoizedProps;G.props=ee;var ne=G.context,de=v.contextType;typeof de=="object"&&de!==null?de=wi(de):(de=Hr(v)?ba:dr.current,de=jl(d,de));var ye=v.getDerivedStateFromProps,_e=typeof ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";_e||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==T||ne!==de)&&RT(d,G,T,de),So=!1;var ve=d.memoizedState;G.state=ve,wh(d,T,G,P),ne=d.memoizedState,ee!==T||ve!==ne||zr.current||So?(typeof ye=="function"&&(Ry(d,v,ye,T),ne=d.memoizedState),(ee=So||DT(d,v,ee,T,ve,ne,de))?(_e||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=ne),G.props=T,G.state=ne,G.context=de,T=ee):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{G=d.stateNode,CT(u,d),ee=d.memoizedProps,de=d.type===d.elementType?ee:Mi(d.type,ee),G.props=de,_e=d.pendingProps,ve=G.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=wi(ne):(ne=Hr(v)?ba:dr.current,ne=jl(d,ne));var Re=v.getDerivedStateFromProps;(ye=typeof Re=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==_e||ve!==ne)&&RT(d,G,T,ne),So=!1,ve=d.memoizedState,G.state=ve,wh(d,T,G,P);var Ve=d.memoizedState;ee!==_e||ve!==Ve||zr.current||So?(typeof Re=="function"&&(Ry(d,v,Re,T),Ve=d.memoizedState),(de=So||DT(d,v,de,T,ve,Ve,ne)||!1)?(ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(T,Ve,ne),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(T,Ve,ne)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Ve),G.props=T,G.state=Ve,G.context=ne,T=de):(typeof G.componentDidUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&ve===u.memoizedState||(d.flags|=1024),T=!1)}return Qy(u,d,v,T,$,P)}function Qy(u,d,v,T,P,$){p2(u,d);var G=(d.flags&128)!==0;if(!T&&!G)return P&&wT(d,v,!1),Fs(u,d,$);T=d.stateNode,D$.current=d;var ee=G&&typeof v.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,u!==null&&G?(d.child=ql(d,u.child,null,$),d.child=ql(d,null,ee,$)):Ir(u,d,ee,$),d.memoizedState=T.state,P&&wT(d,v,!0),d.child}function g2(u){var d=u.stateNode;d.pendingContext?vT(u,d.pendingContext,d.pendingContext!==d.context):d.context&&vT(u,d.context,!1),My(u,d.containerInfo)}function v2(u,d,v,T,P){return Bl(),Ty(P),d.flags|=256,Ir(u,d,v,T),d.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Jy(u){return{baseLanes:u,cachePool:null,transitions:null}}function y2(u,d,v){var T=d.pendingProps,P=hn.current,$=!1,G=(d.flags&128)!==0,ee;if((ee=G)||(ee=u!==null&&u.memoizedState===null?!1:(P&2)!==0),ee?($=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(P|=1),Wt(hn,P&1),u===null)return ky(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=T.children,u=T.fallback,$?(T=d.mode,$=d.child,G={mode:"hidden",children:G},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=Uh(G,T,0,null),u=Aa(u,T,v,null),$.return=d,u.return=d,$.sibling=u,d.child=$,d.child.memoizedState=Jy(v),d.memoizedState=Xy,u):Zy(d,G));if(P=u.memoizedState,P!==null&&(ee=P.dehydrated,ee!==null))return I$(u,d,G,T,ee,P,v);if($){$=T.fallback,G=d.mode,P=u.child,ee=P.sibling;var ne={mode:"hidden",children:T.children};return(G&1)===0&&d.child!==P?(T=d.child,T.childLanes=0,T.pendingProps=ne,d.deletions=null):(T=Ao(P,ne),T.subtreeFlags=P.subtreeFlags&14680064),ee!==null?$=Ao(ee,$):($=Aa($,G,v,null),$.flags|=2),$.return=d,T.return=d,T.sibling=$,d.child=T,T=$,$=d.child,G=u.child.memoizedState,G=G===null?Jy(v):{baseLanes:G.baseLanes|v,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=u.childLanes&~v,d.memoizedState=Xy,T}return $=u.child,u=$.sibling,T=Ao($,{mode:"visible",children:T.children}),(d.mode&1)===0&&(T.lanes=v),T.return=d,T.sibling=null,u!==null&&(v=d.deletions,v===null?(d.deletions=[u],d.flags|=16):v.push(u)),d.child=T,d.memoizedState=null,T}function Zy(u,d){return d=Uh({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Nh(u,d,v,T){return T!==null&&Ty(T),ql(d,u.child,null,v),u=Zy(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function I$(u,d,v,T,P,$,G){if(v)return d.flags&256?(d.flags&=-257,T=Yy(Error(n(422))),Nh(u,d,G,T)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):($=T.fallback,P=d.mode,T=Uh({mode:"visible",children:T.children},P,0,null),$=Aa($,P,G,null),$.flags|=2,T.return=d,$.return=d,T.sibling=$,d.child=T,(d.mode&1)!==0&&ql(d,u.child,null,G),d.child.memoizedState=Jy(G),d.memoizedState=Xy,$);if((d.mode&1)===0)return Nh(u,d,G,null);if(P.data==="$!"){if(T=P.nextSibling&&P.nextSibling.dataset,T)var ee=T.dgst;return T=ee,$=Error(n(419)),T=Yy($,T,void 0),Nh(u,d,G,T)}if(ee=(G&u.childLanes)!==0,Wr||ee){if(T=Wn,T!==null){switch(G&-G){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(T.suspendedLanes|G))!==0?0:P,P!==0&&P!==$.retryLane&&($.retryLane=P,Ls(u,P),Fi(T,u,P,-1))}return m0(),T=Yy(Error(n(421))),Nh(u,d,G,T)}return P.data==="$?"?(d.flags|=128,d.child=u.child,d=H$.bind(null,u),P._reactRetry=d,null):(u=$.treeContext,ii=wo(P.nextSibling),ri=d,un=!0,Pi=null,u!==null&&(vi[yi++]=Ps,vi[yi++]=Ms,vi[yi++]=xa,Ps=u.id,Ms=u.overflow,xa=d),d=Zy(d,T.children),d.flags|=4096,d)}function w2(u,d,v){u.lanes|=d;var T=u.alternate;T!==null&&(T.lanes|=d),Ay(u.return,d,v)}function e0(u,d,v,T,P){var $=u.memoizedState;$===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:v,tailMode:P}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=v,$.tailMode=P)}function b2(u,d,v){var T=d.pendingProps,P=T.revealOrder,$=T.tail;if(Ir(u,d,T.children,v),T=hn.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&w2(u,v,d);else if(u.tag===19)w2(u,v,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(Wt(hn,T),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(v=d.child,P=null;v!==null;)u=v.alternate,u!==null&&_h(u)===null&&(P=v),v=v.sibling;v=P,v===null?(P=d.child,d.child=null):(P=v.sibling,v.sibling=null),e0(d,!1,P,v,$);break;case"backwards":for(v=null,P=d.child,d.child=null;P!==null;){if(u=P.alternate,u!==null&&_h(u)===null){d.child=P;break}u=P.sibling,P.sibling=v,v=P,P=u}e0(d,!0,v,null,$);break;case"together":e0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Oh(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function Fs(u,d,v){if(u!==null&&(d.dependencies=u.dependencies),Ta|=d.lanes,(v&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,v=Ao(u,u.pendingProps),d.child=v,v.return=d;u.sibling!==null;)u=u.sibling,v=v.sibling=Ao(u,u.pendingProps),v.return=d;v.sibling=null}return d.child}function R$(u,d,v){switch(d.tag){case 3:g2(d),Bl();break;case 5:jT(d);break;case 1:Hr(d.type)&&dh(d);break;case 4:My(d,d.stateNode.containerInfo);break;case 10:var T=d.type._context,P=d.memoizedProps.value;Wt(gh,T._currentValue),T._currentValue=P;break;case 13:if(T=d.memoizedState,T!==null)return T.dehydrated!==null?(Wt(hn,hn.current&1),d.flags|=128,null):(v&d.child.childLanes)!==0?y2(u,d,v):(Wt(hn,hn.current&1),u=Fs(u,d,v),u!==null?u.sibling:null);Wt(hn,hn.current&1);break;case 19:if(T=(v&d.childLanes)!==0,(u.flags&128)!==0){if(T)return b2(u,d,v);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Wt(hn,hn.current),T)break;return null;case 22:case 23:return d.lanes=0,h2(u,d,v)}return Fs(u,d,v)}var x2,t0,_2,S2;x2=function(u,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},t0=function(){},_2=function(u,d,v,T){var P=u.memoizedProps;if(P!==T){u=d.stateNode,Ea(Zi.current);var $=null;switch(v){case"input":P=$e(u,P),T=$e(u,T),$=[];break;case"select":P=j({},P,{value:void 0}),T=j({},T,{value:void 0}),$=[];break;case"textarea":P=he(u,P),T=he(u,T),$=[];break;default:typeof P.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=lh)}ie(v,T);var G;v=null;for(de in P)if(!T.hasOwnProperty(de)&&P.hasOwnProperty(de)&&P[de]!=null)if(de==="style"){var ee=P[de];for(G in ee)ee.hasOwnProperty(G)&&(v||(v={}),v[G]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?$||($=[]):($=$||[]).push(de,null));for(de in T){var ne=T[de];if(ee=P!=null?P[de]:void 0,T.hasOwnProperty(de)&&ne!==ee&&(ne!=null||ee!=null))if(de==="style")if(ee){for(G in ee)!ee.hasOwnProperty(G)||ne&&ne.hasOwnProperty(G)||(v||(v={}),v[G]="");for(G in ne)ne.hasOwnProperty(G)&&ee[G]!==ne[G]&&(v||(v={}),v[G]=ne[G])}else v||($||($=[]),$.push(de,v)),v=ne;else de==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&($=$||[]).push(de,ne)):de==="children"?typeof ne!="string"&&typeof ne!="number"||($=$||[]).push(de,""+ne):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(ne!=null&&de==="onScroll"&&Xt("scroll",u),$||ee===ne||($=[])):($=$||[]).push(de,ne))}v&&($=$||[]).push("style",v);var de=$;(d.updateQueue=de)&&(d.flags|=4)}},S2=function(u,d,v,T){v!==T&&(d.flags|=4)};function Rc(u,d){if(!un)switch(u.tailMode){case"hidden":d=u.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function hr(u){var d=u.alternate!==null&&u.alternate.child===u.child,v=0,T=0;if(d)for(var P=u.child;P!==null;)v|=P.lanes|P.childLanes,T|=P.subtreeFlags&14680064,T|=P.flags&14680064,P.return=u,P=P.sibling;else for(P=u.child;P!==null;)v|=P.lanes|P.childLanes,T|=P.subtreeFlags,T|=P.flags,P.return=u,P=P.sibling;return u.subtreeFlags|=T,u.childLanes=v,d}function P$(u,d,v){var T=d.pendingProps;switch(Sy(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(d),null;case 1:return Hr(d.type)&&ch(),hr(d),null;case 3:return T=d.stateNode,zl(),Jt(zr),Jt(dr),Fy(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(mh(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Pi!==null&&(f0(Pi),Pi=null))),t0(u,d),hr(d),null;case 5:Ly(d);var P=Ea(Nc.current);if(v=d.type,u!==null&&d.stateNode!=null)_2(u,d,v,T,P),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(n(166));return hr(d),null}if(u=Ea(Zi.current),mh(d)){T=d.stateNode,v=d.type;var $=d.memoizedProps;switch(T[Ji]=d,T[Sc]=$,u=(d.mode&1)!==0,v){case"dialog":Xt("cancel",T),Xt("close",T);break;case"iframe":case"object":case"embed":Xt("load",T);break;case"video":case"audio":for(P=0;P<bc.length;P++)Xt(bc[P],T);break;case"source":Xt("error",T);break;case"img":case"image":case"link":Xt("error",T),Xt("load",T);break;case"details":Xt("toggle",T);break;case"input":De(T,$),Xt("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Xt("invalid",T);break;case"textarea":Be(T,$),Xt("invalid",T)}ie(v,$),P=null;for(var G in $)if($.hasOwnProperty(G)){var ee=$[G];G==="children"?typeof ee=="string"?T.textContent!==ee&&($.suppressHydrationWarning!==!0&&ah(T.textContent,ee,u),P=["children",ee]):typeof ee=="number"&&T.textContent!==""+ee&&($.suppressHydrationWarning!==!0&&ah(T.textContent,ee,u),P=["children",""+ee]):i.hasOwnProperty(G)&&ee!=null&&G==="onScroll"&&Xt("scroll",T)}switch(v){case"input":pe(T),ce(T,$,!0);break;case"textarea":pe(T),Ye(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=lh)}T=P,d.updateQueue=T,T!==null&&(d.flags|=4)}else{G=P.nodeType===9?P:P.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ht(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=G.createElement(v,{is:T.is}):(u=G.createElement(v),v==="select"&&(G=u,T.multiple?G.multiple=!0:T.size&&(G.size=T.size))):u=G.createElementNS(u,v),u[Ji]=d,u[Sc]=T,x2(u,d,!1,!1),d.stateNode=u;e:{switch(G=be(v,T),v){case"dialog":Xt("cancel",u),Xt("close",u),P=T;break;case"iframe":case"object":case"embed":Xt("load",u),P=T;break;case"video":case"audio":for(P=0;P<bc.length;P++)Xt(bc[P],u);P=T;break;case"source":Xt("error",u),P=T;break;case"img":case"image":case"link":Xt("error",u),Xt("load",u),P=T;break;case"details":Xt("toggle",u),P=T;break;case"input":De(u,T),P=$e(u,T),Xt("invalid",u);break;case"option":P=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},P=j({},T,{value:void 0}),Xt("invalid",u);break;case"textarea":Be(u,T),P=he(u,T),Xt("invalid",u);break;default:P=T}ie(v,P),ee=P;for($ in ee)if(ee.hasOwnProperty($)){var ne=ee[$];$==="style"?Dr(u,ne):$==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Ur(u,ne)):$==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&ct(u,ne):typeof ne=="number"&&ct(u,""+ne):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ne!=null&&$==="onScroll"&&Xt("scroll",u):ne!=null&&E(u,$,ne,G))}switch(v){case"input":pe(u),ce(u,T,!1);break;case"textarea":pe(u),Ye(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Z(T.value));break;case"select":u.multiple=!!T.multiple,$=T.value,$!=null?xe(u,!!T.multiple,$,!1):T.defaultValue!=null&&xe(u,!!T.multiple,T.defaultValue,!0);break;default:typeof P.onClick=="function"&&(u.onclick=lh)}switch(v){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return hr(d),null;case 6:if(u&&d.stateNode!=null)S2(u,d,u.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(n(166));if(v=Ea(Nc.current),Ea(Zi.current),mh(d)){if(T=d.stateNode,v=d.memoizedProps,T[Ji]=d,($=T.nodeValue!==v)&&(u=ri,u!==null))switch(u.tag){case 3:ah(T.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&ah(T.nodeValue,v,(u.mode&1)!==0)}$&&(d.flags|=4)}else T=(v.nodeType===9?v:v.ownerDocument).createTextNode(T),T[Ji]=d,d.stateNode=T}return hr(d),null;case 13:if(Jt(hn),T=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(un&&ii!==null&&(d.mode&1)!==0&&(d.flags&128)===0)kT(),Bl(),d.flags|=98560,$=!1;else if($=mh(d),T!==null&&T.dehydrated!==null){if(u===null){if(!$)throw Error(n(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[Ji]=d}else Bl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;hr(d),$=!1}else Pi!==null&&(f0(Pi),Pi=null),$=!0;if(!$)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=v,d):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(hn.current&1)!==0?Bn===0&&(Bn=3):m0())),d.updateQueue!==null&&(d.flags|=4),hr(d),null);case 4:return zl(),t0(u,d),u===null&&xc(d.stateNode.containerInfo),hr(d),null;case 10:return Oy(d.type._context),hr(d),null;case 17:return Hr(d.type)&&ch(),hr(d),null;case 19:if(Jt(hn),$=d.memoizedState,$===null)return hr(d),null;if(T=(d.flags&128)!==0,G=$.rendering,G===null)if(T)Rc($,!1);else{if(Bn!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(G=_h(u),G!==null){for(d.flags|=128,Rc($,!1),T=G.updateQueue,T!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=v,v=d.child;v!==null;)$=v,u=T,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=u,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,u=G.dependencies,$.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Wt(hn,hn.current&1|2),d.child}u=u.sibling}$.tail!==null&&Sn()>Gl&&(d.flags|=128,T=!0,Rc($,!1),d.lanes=4194304)}else{if(!T)if(u=_h(G),u!==null){if(d.flags|=128,T=!0,v=u.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),Rc($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!un)return hr(d),null}else 2*Sn()-$.renderingStartTime>Gl&&v!==1073741824&&(d.flags|=128,T=!0,Rc($,!1),d.lanes=4194304);$.isBackwards?(G.sibling=d.child,d.child=G):(v=$.last,v!==null?v.sibling=G:d.child=G,$.last=G)}return $.tail!==null?(d=$.tail,$.rendering=d,$.tail=d.sibling,$.renderingStartTime=Sn(),d.sibling=null,v=hn.current,Wt(hn,T?v&1|2:v&1),d):(hr(d),null);case 22:case 23:return p0(),T=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(d.flags|=8192),T&&(d.mode&1)!==0?(si&1073741824)!==0&&(hr(d),d.subtreeFlags&6&&(d.flags|=8192)):hr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function M$(u,d){switch(Sy(d),d.tag){case 1:return Hr(d.type)&&ch(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return zl(),Jt(zr),Jt(dr),Fy(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return Ly(d),null;case 13:if(Jt(hn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Bl()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Jt(hn),null;case 4:return zl(),null;case 10:return Oy(d.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var Ah=!1,pr=!1,L$=typeof WeakSet=="function"?WeakSet:Set,je=null;function Wl(u,d){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(T){vn(u,d,T)}else v.current=null}function n0(u,d,v){try{v()}catch(T){vn(u,d,T)}}var E2=!1;function j$(u,d){if(py=Qf,u=tT(),oy(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var T=v.getSelection&&v.getSelection();if(T&&T.rangeCount!==0){v=T.anchorNode;var P=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{v.nodeType,$.nodeType}catch{v=null;break e}var G=0,ee=-1,ne=-1,de=0,ye=0,_e=u,ve=null;t:for(;;){for(var Re;_e!==v||P!==0&&_e.nodeType!==3||(ee=G+P),_e!==$||T!==0&&_e.nodeType!==3||(ne=G+T),_e.nodeType===3&&(G+=_e.nodeValue.length),(Re=_e.firstChild)!==null;)ve=_e,_e=Re;for(;;){if(_e===u)break t;if(ve===v&&++de===P&&(ee=G),ve===$&&++ye===T&&(ne=G),(Re=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Re}v=ee===-1||ne===-1?null:{start:ee,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(my={focusedElem:u,selectionRange:v},Qf=!1,je=d;je!==null;)if(d=je,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,je=u;else for(;je!==null;){d=je;try{var Ve=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var qe=Ve.memoizedProps,En=Ve.memoizedState,ae=d.stateNode,re=ae.getSnapshotBeforeUpdate(d.elementType===d.type?qe:Mi(d.type,qe),En);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ee){vn(d,d.return,Ee)}if(u=d.sibling,u!==null){u.return=d.return,je=u;break}je=d.return}return Ve=E2,E2=!1,Ve}function Pc(u,d,v){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var P=T=T.next;do{if((P.tag&u)===u){var $=P.destroy;P.destroy=void 0,$!==void 0&&n0(d,v,$)}P=P.next}while(P!==T)}}function Dh(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&u)===u){var T=v.create;v.destroy=T()}v=v.next}while(v!==d)}}function r0(u){var d=u.ref;if(d!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof d=="function"?d(u):d.current=u}}function k2(u){var d=u.alternate;d!==null&&(u.alternate=null,k2(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[Ji],delete d[Sc],delete d[wy],delete d[w$],delete d[b$])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function T2(u){return u.tag===5||u.tag===3||u.tag===4}function C2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||T2(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function i0(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.nodeType===8?v.parentNode.insertBefore(u,d):v.insertBefore(u,d):(v.nodeType===8?(d=v.parentNode,d.insertBefore(u,v)):(d=v,d.appendChild(u)),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=lh));else if(T!==4&&(u=u.child,u!==null))for(i0(u,d,v),u=u.sibling;u!==null;)i0(u,d,v),u=u.sibling}function s0(u,d,v){var T=u.tag;if(T===5||T===6)u=u.stateNode,d?v.insertBefore(u,d):v.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(s0(u,d,v),u=u.sibling;u!==null;)s0(u,d,v),u=u.sibling}var Zn=null,Li=!1;function ko(u,d,v){for(v=v.child;v!==null;)N2(u,d,v),v=v.sibling}function N2(u,d,v){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(zf,v)}catch{}switch(v.tag){case 5:pr||Wl(v,d);case 6:var T=Zn,P=Li;Zn=null,ko(u,d,v),Zn=T,Li=P,Zn!==null&&(Li?(u=Zn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):Zn.removeChild(v.stateNode));break;case 18:Zn!==null&&(Li?(u=Zn,v=v.stateNode,u.nodeType===8?yy(u.parentNode,v):u.nodeType===1&&yy(u,v),fc(u)):yy(Zn,v.stateNode));break;case 4:T=Zn,P=Li,Zn=v.stateNode.containerInfo,Li=!0,ko(u,d,v),Zn=T,Li=P;break;case 0:case 11:case 14:case 15:if(!pr&&(T=v.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){P=T=T.next;do{var $=P,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&n0(v,d,G),P=P.next}while(P!==T)}ko(u,d,v);break;case 1:if(!pr&&(Wl(v,d),T=v.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=v.memoizedProps,T.state=v.memoizedState,T.componentWillUnmount()}catch(ee){vn(v,d,ee)}ko(u,d,v);break;case 21:ko(u,d,v);break;case 22:v.mode&1?(pr=(T=pr)||v.memoizedState!==null,ko(u,d,v),pr=T):ko(u,d,v);break;default:ko(u,d,v)}}function O2(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new L$),d.forEach(function(T){var P=W$.bind(null,u,T);v.has(T)||(v.add(T),T.then(P,P))})}}function ji(u,d){var v=d.deletions;if(v!==null)for(var T=0;T<v.length;T++){var P=v[T];try{var $=u,G=d,ee=G;e:for(;ee!==null;){switch(ee.tag){case 5:Zn=ee.stateNode,Li=!1;break e;case 3:Zn=ee.stateNode.containerInfo,Li=!0;break e;case 4:Zn=ee.stateNode.containerInfo,Li=!0;break e}ee=ee.return}if(Zn===null)throw Error(n(160));N2($,G,P),Zn=null,Li=!1;var ne=P.alternate;ne!==null&&(ne.return=null),P.return=null}catch(de){vn(P,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)A2(d,u),d=d.sibling}function A2(u,d){var v=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ji(d,u),ts(u),T&4){try{Pc(3,u,u.return),Dh(3,u)}catch(qe){vn(u,u.return,qe)}try{Pc(5,u,u.return)}catch(qe){vn(u,u.return,qe)}}break;case 1:ji(d,u),ts(u),T&512&&v!==null&&Wl(v,v.return);break;case 5:if(ji(d,u),ts(u),T&512&&v!==null&&Wl(v,v.return),u.flags&32){var P=u.stateNode;try{ct(P,"")}catch(qe){vn(u,u.return,qe)}}if(T&4&&(P=u.stateNode,P!=null)){var $=u.memoizedProps,G=v!==null?v.memoizedProps:$,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&$.type==="radio"&&$.name!=null&&nt(P,$),be(ee,G);var de=be(ee,$);for(G=0;G<ne.length;G+=2){var ye=ne[G],_e=ne[G+1];ye==="style"?Dr(P,_e):ye==="dangerouslySetInnerHTML"?Ur(P,_e):ye==="children"?ct(P,_e):E(P,ye,_e,de)}switch(ee){case"input":Xe(P,$);break;case"textarea":Ie(P,$);break;case"select":var ve=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!$.multiple;var Re=$.value;Re!=null?xe(P,!!$.multiple,Re,!1):ve!==!!$.multiple&&($.defaultValue!=null?xe(P,!!$.multiple,$.defaultValue,!0):xe(P,!!$.multiple,$.multiple?[]:"",!1))}P[Sc]=$}catch(qe){vn(u,u.return,qe)}}break;case 6:if(ji(d,u),ts(u),T&4){if(u.stateNode===null)throw Error(n(162));P=u.stateNode,$=u.memoizedProps;try{P.nodeValue=$}catch(qe){vn(u,u.return,qe)}}break;case 3:if(ji(d,u),ts(u),T&4&&v!==null&&v.memoizedState.isDehydrated)try{fc(d.containerInfo)}catch(qe){vn(u,u.return,qe)}break;case 4:ji(d,u),ts(u);break;case 13:ji(d,u),ts(u),P=u.child,P.flags&8192&&($=P.memoizedState!==null,P.stateNode.isHidden=$,!$||P.alternate!==null&&P.alternate.memoizedState!==null||(l0=Sn())),T&4&&O2(u);break;case 22:if(ye=v!==null&&v.memoizedState!==null,u.mode&1?(pr=(de=pr)||ye,ji(d,u),pr=de):ji(d,u),ts(u),T&8192){if(de=u.memoizedState!==null,(u.stateNode.isHidden=de)&&!ye&&(u.mode&1)!==0)for(je=u,ye=u.child;ye!==null;){for(_e=je=ye;je!==null;){switch(ve=je,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:Pc(4,ve,ve.return);break;case 1:Wl(ve,ve.return);var Ve=ve.stateNode;if(typeof Ve.componentWillUnmount=="function"){T=ve,v=ve.return;try{d=T,Ve.props=d.memoizedProps,Ve.state=d.memoizedState,Ve.componentWillUnmount()}catch(qe){vn(T,v,qe)}}break;case 5:Wl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){R2(_e);continue}}Re!==null?(Re.return=ve,je=Re):R2(_e)}ye=ye.sibling}e:for(ye=null,_e=u;;){if(_e.tag===5){if(ye===null){ye=_e;try{P=_e.stateNode,de?($=P.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ee=_e.stateNode,ne=_e.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=Vr("display",G))}catch(qe){vn(u,u.return,qe)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(qe){vn(u,u.return,qe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ji(d,u),ts(u),T&4&&O2(u);break;case 21:break;default:ji(d,u),ts(u)}}function ts(u){var d=u.flags;if(d&2){try{e:{for(var v=u.return;v!==null;){if(T2(v)){var T=v;break e}v=v.return}throw Error(n(160))}switch(T.tag){case 5:var P=T.stateNode;T.flags&32&&(ct(P,""),T.flags&=-33);var $=C2(u);s0(u,$,P);break;case 3:case 4:var G=T.stateNode.containerInfo,ee=C2(u);i0(u,ee,G);break;default:throw Error(n(161))}}catch(ne){vn(u,u.return,ne)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function F$(u,d,v){je=u,D2(u)}function D2(u,d,v){for(var T=(u.mode&1)!==0;je!==null;){var P=je,$=P.child;if(P.tag===22&&T){var G=P.memoizedState!==null||Ah;if(!G){var ee=P.alternate,ne=ee!==null&&ee.memoizedState!==null||pr;ee=Ah;var de=pr;if(Ah=G,(pr=ne)&&!de)for(je=P;je!==null;)G=je,ne=G.child,G.tag===22&&G.memoizedState!==null?P2(P):ne!==null?(ne.return=G,je=ne):P2(P);for(;$!==null;)je=$,D2($),$=$.sibling;je=P,Ah=ee,pr=de}I2(u)}else(P.subtreeFlags&8772)!==0&&$!==null?($.return=P,je=$):I2(u)}}function I2(u){for(;je!==null;){var d=je;if((d.flags&8772)!==0){var v=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:pr||Dh(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!pr)if(v===null)T.componentDidMount();else{var P=d.elementType===d.type?v.memoizedProps:Mi(d.type,v.memoizedProps);T.componentDidUpdate(P,v.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=d.updateQueue;$!==null&&OT(d,$,T);break;case 3:var G=d.updateQueue;if(G!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=d.child.stateNode;break;case 1:v=d.child.stateNode}OT(d,G,v)}break;case 5:var ee=d.stateNode;if(v===null&&d.flags&4){v=ee;var ne=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&fc(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pr||d.flags&512&&r0(d)}catch(ve){vn(d,d.return,ve)}}if(d===u){je=null;break}if(v=d.sibling,v!==null){v.return=d.return,je=v;break}je=d.return}}function R2(u){for(;je!==null;){var d=je;if(d===u){je=null;break}var v=d.sibling;if(v!==null){v.return=d.return,je=v;break}je=d.return}}function P2(u){for(;je!==null;){var d=je;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{Dh(4,d)}catch(ne){vn(d,v,ne)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var P=d.return;try{T.componentDidMount()}catch(ne){vn(d,P,ne)}}var $=d.return;try{r0(d)}catch(ne){vn(d,$,ne)}break;case 5:var G=d.return;try{r0(d)}catch(ne){vn(d,G,ne)}}}catch(ne){vn(d,d.return,ne)}if(d===u){je=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,je=ee;break}je=d.return}}var $$=Math.ceil,Ih=S.ReactCurrentDispatcher,o0=S.ReactCurrentOwner,xi=S.ReactCurrentBatchConfig,kt=0,Wn=null,Dn=null,er=0,si=0,Yl=bo(0),Bn=0,Mc=null,Ta=0,Rh=0,a0=0,Lc=null,Yr=null,l0=0,Gl=1/0,$s=null,Ph=!1,u0=null,To=null,Mh=!1,Co=null,Lh=0,jc=0,c0=null,jh=-1,Fh=0;function Rr(){return(kt&6)!==0?Sn():jh!==-1?jh:jh=Sn()}function No(u){return(u.mode&1)===0?1:(kt&2)!==0&&er!==0?er&-er:_$.transition!==null?(Fh===0&&(Fh=Tk()),Fh):(u=Ft,u!==0||(u=window.event,u=u===void 0?16:Mk(u.type)),u)}function Fi(u,d,v,T){if(50<jc)throw jc=0,c0=null,Error(n(185));ac(u,v,T),((kt&2)===0||u!==Wn)&&(u===Wn&&((kt&2)===0&&(Rh|=v),Bn===4&&Oo(u,er)),Gr(u,T),v===1&&kt===0&&(d.mode&1)===0&&(Gl=Sn()+500,fh&&_o()))}function Gr(u,d){var v=u.callbackNode;_6(u,d);var T=Yf(u,u===Wn?er:0);if(T===0)v!==null&&Sk(v),u.callbackNode=null,u.callbackPriority=0;else if(d=T&-T,u.callbackPriority!==d){if(v!=null&&Sk(v),d===1)u.tag===0?x$(L2.bind(null,u)):bT(L2.bind(null,u)),v$(function(){(kt&6)===0&&_o()}),v=null;else{switch(Ck(T)){case 1:v=qv;break;case 4:v=Ek;break;case 16:v=qf;break;case 536870912:v=kk;break;default:v=qf}v=z2(v,M2.bind(null,u))}u.callbackPriority=d,u.callbackNode=v}}function M2(u,d){if(jh=-1,Fh=0,(kt&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Kl()&&u.callbackNode!==v)return null;var T=Yf(u,u===Wn?er:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||d)d=$h(u,T);else{d=T;var P=kt;kt|=2;var $=F2();(Wn!==u||er!==d)&&($s=null,Gl=Sn()+500,Na(u,d));do try{V$();break}catch(ee){j2(u,ee)}while(!0);Ny(),Ih.current=$,kt=P,Dn!==null?d=0:(Wn=null,er=0,d=Bn)}if(d!==0){if(d===2&&(P=zv(u),P!==0&&(T=P,d=d0(u,P))),d===1)throw v=Mc,Na(u,0),Oo(u,T),Gr(u,Sn()),v;if(d===6)Oo(u,T);else{if(P=u.current.alternate,(T&30)===0&&!B$(P)&&(d=$h(u,T),d===2&&($=zv(u),$!==0&&(T=$,d=d0(u,$))),d===1))throw v=Mc,Na(u,0),Oo(u,T),Gr(u,Sn()),v;switch(u.finishedWork=P,u.finishedLanes=T,d){case 0:case 1:throw Error(n(345));case 2:Oa(u,Yr,$s);break;case 3:if(Oo(u,T),(T&130023424)===T&&(d=l0+500-Sn(),10<d)){if(Yf(u,0)!==0)break;if(P=u.suspendedLanes,(P&T)!==T){Rr(),u.pingedLanes|=u.suspendedLanes&P;break}u.timeoutHandle=vy(Oa.bind(null,u,Yr,$s),d);break}Oa(u,Yr,$s);break;case 4:if(Oo(u,T),(T&4194240)===T)break;for(d=u.eventTimes,P=-1;0<T;){var G=31-Ii(T);$=1<<G,G=d[G],G>P&&(P=G),T&=~$}if(T=P,T=Sn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*$$(T/1960))-T,10<T){u.timeoutHandle=vy(Oa.bind(null,u,Yr,$s),T);break}Oa(u,Yr,$s);break;case 5:Oa(u,Yr,$s);break;default:throw Error(n(329))}}}return Gr(u,Sn()),u.callbackNode===v?M2.bind(null,u):null}function d0(u,d){var v=Lc;return u.current.memoizedState.isDehydrated&&(Na(u,d).flags|=256),u=$h(u,d),u!==2&&(d=Yr,Yr=v,d!==null&&f0(d)),u}function f0(u){Yr===null?Yr=u:Yr.push.apply(Yr,u)}function B$(u){for(var d=u;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var T=0;T<v.length;T++){var P=v[T],$=P.getSnapshot;P=P.value;try{if(!Ri($(),P))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Oo(u,d){for(d&=~a0,d&=~Rh,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var v=31-Ii(d),T=1<<v;u[v]=-1,d&=~T}}function L2(u){if((kt&6)!==0)throw Error(n(327));Kl();var d=Yf(u,0);if((d&1)===0)return Gr(u,Sn()),null;var v=$h(u,d);if(u.tag!==0&&v===2){var T=zv(u);T!==0&&(d=T,v=d0(u,T))}if(v===1)throw v=Mc,Na(u,0),Oo(u,d),Gr(u,Sn()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Oa(u,Yr,$s),Gr(u,Sn()),null}function h0(u,d){var v=kt;kt|=1;try{return u(d)}finally{kt=v,kt===0&&(Gl=Sn()+500,fh&&_o())}}function Ca(u){Co!==null&&Co.tag===0&&(kt&6)===0&&Kl();var d=kt;kt|=1;var v=xi.transition,T=Ft;try{if(xi.transition=null,Ft=1,u)return u()}finally{Ft=T,xi.transition=v,kt=d,(kt&6)===0&&_o()}}function p0(){si=Yl.current,Jt(Yl)}function Na(u,d){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,g$(v)),Dn!==null)for(v=Dn.return;v!==null;){var T=v;switch(Sy(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&ch();break;case 3:zl(),Jt(zr),Jt(dr),Fy();break;case 5:Ly(T);break;case 4:zl();break;case 13:Jt(hn);break;case 19:Jt(hn);break;case 10:Oy(T.type._context);break;case 22:case 23:p0()}v=v.return}if(Wn=u,Dn=u=Ao(u.current,null),er=si=d,Bn=0,Mc=null,a0=Rh=Ta=0,Yr=Lc=null,Sa!==null){for(d=0;d<Sa.length;d++)if(v=Sa[d],T=v.interleaved,T!==null){v.interleaved=null;var P=T.next,$=v.pending;if($!==null){var G=$.next;$.next=P,T.next=G}v.pending=T}Sa=null}return u}function j2(u,d){do{var v=Dn;try{if(Ny(),Sh.current=Ch,Eh){for(var T=pn.memoizedState;T!==null;){var P=T.queue;P!==null&&(P.pending=null),T=T.next}Eh=!1}if(ka=0,Hn=$n=pn=null,Oc=!1,Ac=0,o0.current=null,v===null||v.return===null){Bn=1,Mc=d,Dn=null;break}e:{var $=u,G=v.return,ee=v,ne=d;if(d=er,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var de=ne,ye=ee,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Re=l2(G);if(Re!==null){Re.flags&=-257,u2(Re,G,ee,$,d),Re.mode&1&&a2($,de,d),d=Re,ne=de;var Ve=d.updateQueue;if(Ve===null){var qe=new Set;qe.add(ne),d.updateQueue=qe}else Ve.add(ne);break e}else{if((d&1)===0){a2($,de,d),m0();break e}ne=Error(n(426))}}else if(un&&ee.mode&1){var En=l2(G);if(En!==null){(En.flags&65536)===0&&(En.flags|=256),u2(En,G,ee,$,d),Ty(Hl(ne,ee));break e}}$=ne=Hl(ne,ee),Bn!==4&&(Bn=2),Lc===null?Lc=[$]:Lc.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var ae=s2($,ne,d);NT($,ae);break e;case 1:ee=ne;var re=$.type,ue=$.stateNode;if(($.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(To===null||!To.has(ue)))){$.flags|=65536,d&=-d,$.lanes|=d;var Ee=o2($,ee,d);NT($,Ee);break e}}$=$.return}while($!==null)}B2(v)}catch(He){d=He,Dn===v&&v!==null&&(Dn=v=v.return);continue}break}while(!0)}function F2(){var u=Ih.current;return Ih.current=Ch,u===null?Ch:u}function m0(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Wn===null||(Ta&268435455)===0&&(Rh&268435455)===0||Oo(Wn,er)}function $h(u,d){var v=kt;kt|=2;var T=F2();(Wn!==u||er!==d)&&($s=null,Na(u,d));do try{U$();break}catch(P){j2(u,P)}while(!0);if(Ny(),kt=v,Ih.current=T,Dn!==null)throw Error(n(261));return Wn=null,er=0,Bn}function U$(){for(;Dn!==null;)$2(Dn)}function V$(){for(;Dn!==null&&!h6();)$2(Dn)}function $2(u){var d=q2(u.alternate,u,si);u.memoizedProps=u.pendingProps,d===null?B2(u):Dn=d,o0.current=null}function B2(u){var d=u;do{var v=d.alternate;if(u=d.return,(d.flags&32768)===0){if(v=P$(v,d,si),v!==null){Dn=v;return}}else{if(v=M$(v,d),v!==null){v.flags&=32767,Dn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Bn=6,Dn=null;return}}if(d=d.sibling,d!==null){Dn=d;return}Dn=d=u}while(d!==null);Bn===0&&(Bn=5)}function Oa(u,d,v){var T=Ft,P=xi.transition;try{xi.transition=null,Ft=1,q$(u,d,v,T)}finally{xi.transition=P,Ft=T}return null}function q$(u,d,v,T){do Kl();while(Co!==null);if((kt&6)!==0)throw Error(n(327));v=u.finishedWork;var P=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var $=v.lanes|v.childLanes;if(S6(u,$),u===Wn&&(Dn=Wn=null,er=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Mh||(Mh=!0,z2(qf,function(){return Kl(),null})),$=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||$){$=xi.transition,xi.transition=null;var G=Ft;Ft=1;var ee=kt;kt|=4,o0.current=null,j$(u,v),A2(v,u),u$(my),Qf=!!py,my=py=null,u.current=v,F$(v),p6(),kt=ee,Ft=G,xi.transition=$}else u.current=v;if(Mh&&(Mh=!1,Co=u,Lh=P),$=u.pendingLanes,$===0&&(To=null),v6(v.stateNode),Gr(u,Sn()),d!==null)for(T=u.onRecoverableError,v=0;v<d.length;v++)P=d[v],T(P.value,{componentStack:P.stack,digest:P.digest});if(Ph)throw Ph=!1,u=u0,u0=null,u;return(Lh&1)!==0&&u.tag!==0&&Kl(),$=u.pendingLanes,($&1)!==0?u===c0?jc++:(jc=0,c0=u):jc=0,_o(),null}function Kl(){if(Co!==null){var u=Ck(Lh),d=xi.transition,v=Ft;try{if(xi.transition=null,Ft=16>u?16:u,Co===null)var T=!1;else{if(u=Co,Co=null,Lh=0,(kt&6)!==0)throw Error(n(331));var P=kt;for(kt|=4,je=u.current;je!==null;){var $=je,G=$.child;if((je.flags&16)!==0){var ee=$.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var de=ee[ne];for(je=de;je!==null;){var ye=je;switch(ye.tag){case 0:case 11:case 15:Pc(8,ye,$)}var _e=ye.child;if(_e!==null)_e.return=ye,je=_e;else for(;je!==null;){ye=je;var ve=ye.sibling,Re=ye.return;if(k2(ye),ye===de){je=null;break}if(ve!==null){ve.return=Re,je=ve;break}je=Re}}}var Ve=$.alternate;if(Ve!==null){var qe=Ve.child;if(qe!==null){Ve.child=null;do{var En=qe.sibling;qe.sibling=null,qe=En}while(qe!==null)}}je=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,je=G;else e:for(;je!==null;){if($=je,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Pc(9,$,$.return)}var ae=$.sibling;if(ae!==null){ae.return=$.return,je=ae;break e}je=$.return}}var re=u.current;for(je=re;je!==null;){G=je;var ue=G.child;if((G.subtreeFlags&2064)!==0&&ue!==null)ue.return=G,je=ue;else e:for(G=re;je!==null;){if(ee=je,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Dh(9,ee)}}catch(He){vn(ee,ee.return,He)}if(ee===G){je=null;break e}var Ee=ee.sibling;if(Ee!==null){Ee.return=ee.return,je=Ee;break e}je=ee.return}}if(kt=P,_o(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(zf,u)}catch{}T=!0}return T}finally{Ft=v,xi.transition=d}}return!1}function U2(u,d,v){d=Hl(v,d),d=s2(u,d,1),u=Eo(u,d,1),d=Rr(),u!==null&&(ac(u,1,d),Gr(u,d))}function vn(u,d,v){if(u.tag===3)U2(u,u,v);else for(;d!==null;){if(d.tag===3){U2(d,u,v);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(To===null||!To.has(T))){u=Hl(v,u),u=o2(d,u,1),d=Eo(d,u,1),u=Rr(),d!==null&&(ac(d,1,u),Gr(d,u));break}}d=d.return}}function z$(u,d,v){var T=u.pingCache;T!==null&&T.delete(d),d=Rr(),u.pingedLanes|=u.suspendedLanes&v,Wn===u&&(er&v)===v&&(Bn===4||Bn===3&&(er&130023424)===er&&500>Sn()-l0?Na(u,0):a0|=v),Gr(u,d)}function V2(u,d){d===0&&((u.mode&1)===0?d=1:(d=Wf,Wf<<=1,(Wf&130023424)===0&&(Wf=4194304)));var v=Rr();u=Ls(u,d),u!==null&&(ac(u,d,v),Gr(u,v))}function H$(u){var d=u.memoizedState,v=0;d!==null&&(v=d.retryLane),V2(u,v)}function W$(u,d){var v=0;switch(u.tag){case 13:var T=u.stateNode,P=u.memoizedState;P!==null&&(v=P.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(d),V2(u,v)}var q2;q2=function(u,d,v){if(u!==null)if(u.memoizedProps!==d.pendingProps||zr.current)Wr=!0;else{if((u.lanes&v)===0&&(d.flags&128)===0)return Wr=!1,R$(u,d,v);Wr=(u.flags&131072)!==0}else Wr=!1,un&&(d.flags&1048576)!==0&&xT(d,ph,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;Oh(u,d),u=d.pendingProps;var P=jl(d,dr.current);Vl(d,v),P=Uy(null,d,T,u,P,v);var $=Vy();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Hr(T)?($=!0,dh(d)):$=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Iy(d),P.updater=bh,d.stateNode=P,P._reactInternals=d,Py(d,T,u,v),d=Qy(null,d,T,!0,$,v)):(d.tag=0,un&&$&&_y(d),Ir(null,d,P,v),d=d.child),d;case 16:T=d.elementType;e:{switch(Oh(u,d),u=d.pendingProps,P=T._init,T=P(T._payload),d.type=T,P=d.tag=G$(T),u=Mi(T,u),P){case 0:d=Ky(null,d,T,u,v);break e;case 1:d=m2(null,d,T,u,v);break e;case 11:d=c2(null,d,T,u,v);break e;case 14:d=d2(null,d,T,Mi(T.type,u),v);break e}throw Error(n(306,T,""))}return d;case 0:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),Ky(u,d,T,P,v);case 1:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),m2(u,d,T,P,v);case 3:e:{if(g2(d),u===null)throw Error(n(387));T=d.pendingProps,$=d.memoizedState,P=$.element,CT(u,d),wh(d,T,null,v);var G=d.memoizedState;if(T=G.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){P=Hl(Error(n(423)),d),d=v2(u,d,T,v,P);break e}else if(T!==P){P=Hl(Error(n(424)),d),d=v2(u,d,T,v,P);break e}else for(ii=wo(d.stateNode.containerInfo.firstChild),ri=d,un=!0,Pi=null,v=LT(d,null,T,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Bl(),T===P){d=Fs(u,d,v);break e}Ir(u,d,T,v)}d=d.child}return d;case 5:return jT(d),u===null&&ky(d),T=d.type,P=d.pendingProps,$=u!==null?u.memoizedProps:null,G=P.children,gy(T,P)?G=null:$!==null&&gy(T,$)&&(d.flags|=32),p2(u,d),Ir(u,d,G,v),d.child;case 6:return u===null&&ky(d),null;case 13:return y2(u,d,v);case 4:return My(d,d.stateNode.containerInfo),T=d.pendingProps,u===null?d.child=ql(d,null,T,v):Ir(u,d,T,v),d.child;case 11:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),c2(u,d,T,P,v);case 7:return Ir(u,d,d.pendingProps,v),d.child;case 8:return Ir(u,d,d.pendingProps.children,v),d.child;case 12:return Ir(u,d,d.pendingProps.children,v),d.child;case 10:e:{if(T=d.type._context,P=d.pendingProps,$=d.memoizedProps,G=P.value,Wt(gh,T._currentValue),T._currentValue=G,$!==null)if(Ri($.value,G)){if($.children===P.children&&!zr.current){d=Fs(u,d,v);break e}}else for($=d.child,$!==null&&($.return=d);$!==null;){var ee=$.dependencies;if(ee!==null){G=$.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===T){if($.tag===1){ne=js(-1,v&-v),ne.tag=2;var de=$.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?ne.next=ne:(ne.next=ye.next,ye.next=ne),de.pending=ne}}$.lanes|=v,ne=$.alternate,ne!==null&&(ne.lanes|=v),Ay($.return,v,d),ee.lanes|=v;break}ne=ne.next}}else if($.tag===10)G=$.type===d.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=v,ee=G.alternate,ee!==null&&(ee.lanes|=v),Ay(G,v,d),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===d){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}Ir(u,d,P.children,v),d=d.child}return d;case 9:return P=d.type,T=d.pendingProps.children,Vl(d,v),P=wi(P),T=T(P),d.flags|=1,Ir(u,d,T,v),d.child;case 14:return T=d.type,P=Mi(T,d.pendingProps),P=Mi(T.type,P),d2(u,d,T,P,v);case 15:return f2(u,d,d.type,d.pendingProps,v);case 17:return T=d.type,P=d.pendingProps,P=d.elementType===T?P:Mi(T,P),Oh(u,d),d.tag=1,Hr(T)?(u=!0,dh(d)):u=!1,Vl(d,v),IT(d,T,P),Py(d,T,P,v),Qy(null,d,T,!0,u,v);case 19:return b2(u,d,v);case 22:return h2(u,d,v)}throw Error(n(156,d.tag))};function z2(u,d){return _k(u,d)}function Y$(u,d,v,T){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(u,d,v,T){return new Y$(u,d,v,T)}function g0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function G$(u){if(typeof u=="function")return g0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===D)return 11;if(u===q)return 14}return 2}function Ao(u,d){var v=u.alternate;return v===null?(v=_i(u.tag,d,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=d,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,d=u.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Bh(u,d,v,T,P,$){var G=2;if(T=u,typeof u=="function")g0(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case O:return Aa(v.children,P,$,d);case C:G=8,P|=8;break;case I:return u=_i(12,v,d,P|2),u.elementType=I,u.lanes=$,u;case M:return u=_i(13,v,d,P),u.elementType=M,u.lanes=$,u;case F:return u=_i(19,v,d,P),u.elementType=F,u.lanes=$,u;case B:return Uh(v,P,$,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case R:G=10;break e;case A:G=9;break e;case D:G=11;break e;case q:G=14;break e;case L:G=16,T=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=_i(G,v,d,P),d.elementType=u,d.type=T,d.lanes=$,d}function Aa(u,d,v,T){return u=_i(7,u,T,d),u.lanes=v,u}function Uh(u,d,v,T){return u=_i(22,u,T,d),u.elementType=B,u.lanes=v,u.stateNode={isHidden:!1},u}function v0(u,d,v){return u=_i(6,u,null,d),u.lanes=v,u}function y0(u,d,v){return d=_i(4,u.children!==null?u.children:[],u.key,d),d.lanes=v,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function K$(u,d,v,T,P){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hv(0),this.expirationTimes=Hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.identifierPrefix=T,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function w0(u,d,v,T,P,$,G,ee,ne){return u=new K$(u,d,v,ee,ne),d===1?(d=1,$===!0&&(d|=8)):d=0,$=_i(3,null,null,d),u.current=$,$.stateNode=u,$.memoizedState={element:T,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy($),u}function Q$(u,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:T==null?null:""+T,children:u,containerInfo:d,implementation:v}}function H2(u){if(!u)return xo;u=u._reactInternals;e:{if(ya(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Hr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(Hr(v))return yT(u,v,d)}return d}function W2(u,d,v,T,P,$,G,ee,ne){return u=w0(v,T,!0,u,P,$,G,ee,ne),u.context=H2(null),v=u.current,T=Rr(),P=No(v),$=js(T,P),$.callback=d??null,Eo(v,$,P),u.current.lanes=P,ac(u,P,T),Gr(u,T),u}function Vh(u,d,v,T){var P=d.current,$=Rr(),G=No(P);return v=H2(v),d.context===null?d.context=v:d.pendingContext=v,d=js($,G),d.payload={element:u},T=T===void 0?null:T,T!==null&&(d.callback=T),u=Eo(P,d,G),u!==null&&(Fi(u,P,G,$),yh(u,P,G)),G}function qh(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function Y2(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<d?v:d}}function b0(u,d){Y2(u,d),(u=u.alternate)&&Y2(u,d)}function X$(){return null}var G2=typeof reportError=="function"?reportError:function(u){console.error(u)};function x0(u){this._internalRoot=u}zh.prototype.render=x0.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));Vh(u,d,null,null)},zh.prototype.unmount=x0.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Ca(function(){Vh(null,u,null,null)}),d[Is]=null}};function zh(u){this._internalRoot=u}zh.prototype.unstable_scheduleHydration=function(u){if(u){var d=Ak();u={blockedOn:null,target:u,priority:d};for(var v=0;v<go.length&&d!==0&&d<go[v].priority;v++);go.splice(v,0,u),v===0&&Rk(u)}};function _0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Hh(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function K2(){}function J$(u,d,v,T,P){if(P){if(typeof T=="function"){var $=T;T=function(){var de=qh(G);$.call(de)}}var G=W2(d,T,u,0,null,!1,!1,"",K2);return u._reactRootContainer=G,u[Is]=G.current,xc(u.nodeType===8?u.parentNode:u),Ca(),G}for(;P=u.lastChild;)u.removeChild(P);if(typeof T=="function"){var ee=T;T=function(){var de=qh(ne);ee.call(de)}}var ne=w0(u,0,!1,null,null,!1,!1,"",K2);return u._reactRootContainer=ne,u[Is]=ne.current,xc(u.nodeType===8?u.parentNode:u),Ca(function(){Vh(d,ne,v,T)}),ne}function Wh(u,d,v,T,P){var $=v._reactRootContainer;if($){var G=$;if(typeof P=="function"){var ee=P;P=function(){var ne=qh(G);ee.call(ne)}}Vh(d,G,u,P)}else G=J$(v,d,u,P,T);return qh(G)}Nk=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var v=oc(d.pendingLanes);v!==0&&(Wv(d,v|1),Gr(d,Sn()),(kt&6)===0&&(Gl=Sn()+500,_o()))}break;case 13:Ca(function(){var T=Ls(u,1);if(T!==null){var P=Rr();Fi(T,u,1,P)}}),b0(u,1)}},Yv=function(u){if(u.tag===13){var d=Ls(u,134217728);if(d!==null){var v=Rr();Fi(d,u,134217728,v)}b0(u,134217728)}},Ok=function(u){if(u.tag===13){var d=No(u),v=Ls(u,d);if(v!==null){var T=Rr();Fi(v,u,d,T)}b0(u,d)}},Ak=function(){return Ft},Dk=function(u,d){var v=Ft;try{return Ft=u,d()}finally{Ft=v}},Oe=function(u,d,v){switch(d){case"input":if(Xe(u,v),d=v.name,v.type==="radio"&&d!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<v.length;d++){var T=v[d];if(T!==u&&T.form===u.form){var P=uh(T);if(!P)throw Error(n(90));ge(T),Xe(T,P)}}}break;case"textarea":Ie(u,v);break;case"select":d=v.value,d!=null&&xe(u,!!v.multiple,d,!1)}},An=h0,jt=Ca;var Z$={usingClientEntryPoint:!1,Events:[Ec,Ml,uh,rt,Et,h0]},Fc={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eB={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=bk(u),u===null?null:u.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||X$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{zf=Yh.inject(eB),Xi=Yh}catch{}}return Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z$,Kr.createPortal=function(u,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_0(d))throw Error(n(200));return Q$(u,d,null,v)},Kr.createRoot=function(u,d){if(!_0(u))throw Error(n(299));var v=!1,T="",P=G2;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=w0(u,1,!1,null,null,v,!1,T,P),u[Is]=d.current,xc(u.nodeType===8?u.parentNode:u),new x0(d)},Kr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=bk(d),u=u===null?null:u.stateNode,u},Kr.flushSync=function(u){return Ca(u)},Kr.hydrate=function(u,d,v){if(!Hh(d))throw Error(n(200));return Wh(null,u,d,!0,v)},Kr.hydrateRoot=function(u,d,v){if(!_0(u))throw Error(n(405));var T=v!=null&&v.hydratedSources||null,P=!1,$="",G=G2;if(v!=null&&(v.unstable_strictMode===!0&&(P=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(G=v.onRecoverableError)),d=W2(d,null,u,1,v??null,P,!1,$,G),u[Is]=d.current,xc(u),T)for(u=0;u<T.length;u++)v=T[u],P=v._getVersion,P=P(v._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[v,P]:d.mutableSourceEagerHydrationData.push(v,P);return new zh(d)},Kr.render=function(u,d,v){if(!Hh(d))throw Error(n(200));return Wh(null,u,d,!1,v)},Kr.unmountComponentAtNode=function(u){if(!Hh(u))throw Error(n(40));return u._reactRootContainer?(Ca(function(){Wh(null,null,u,!1,function(){u._reactRootContainer=null,u[Is]=null})}),!0):!1},Kr.unstable_batchedUpdates=h0,Kr.unstable_renderSubtreeIntoContainer=function(u,d,v,T){if(!Hh(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Wh(u,d,v,!1,T)},Kr.version="18.2.0-next-9e3b772b8-20220608",Kr}var rC;function __(){if(rC)return k0.exports;rC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),k0.exports=cB(),k0.exports}var iC;function dB(){if(iC)return Kh;iC=1;var t=__();return Kh.createRoot=t.createRoot,Kh.hydrateRoot=t.hydrateRoot,Kh}var fB=dB();const hB=ef(fB);var K=ag();const se=ef(K),Qp=iB({__proto__:null,default:se},[K]);var S_=__();const E_=ef(S_);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ed.apply(this,arguments)}var Vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vo||(Vo={}));const sC="popstate";function pB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ix("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xp(i)}return gB(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mB(){return Math.random().toString(36).substr(2,8)}function oC(t,e){return{usr:t.state,key:t.key,idx:e}}function ix(t,e,n,r){return n===void 0&&(n=null),Ed({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zu(e):e,{state:n,key:e&&e.key||r||mB()})}function Xp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Vo.Pop,l=null,h=c();h==null&&(h=0,o.replaceState(Ed({},o.state,{idx:h}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Vo.Pop;let w=c(),b=w==null?null:w-h;h=w,l&&l({action:a,location:y.location,delta:b})}function p(w,b){a=Vo.Push;let x=ix(y.location,w,b);h=c()+1;let E=oC(x,h),S=y.createHref(x);try{o.pushState(E,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function m(w,b){a=Vo.Replace;let x=ix(y.location,w,b);h=c();let E=oC(x,h),S=y.createHref(x);o.replaceState(E,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:Xp(w);return Ln(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sC,f),l=w,()=>{i.removeEventListener(sC,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(w){return o.go(w)}};return y}var aC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aC||(aC={}));function vB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zu(e):e,i=T_(r.pathname||"/",n);if(i==null)return null;let s=AR(t);yB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=CB(s[a],AB(i));return o}function AR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=Yo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),AR(s.children,e,c,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:kB(h,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of DR(s.path))i(s,o,l)}),e}function DR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wB=/^:[\w-]+$/,bB=3,xB=2,_B=1,SB=10,EB=-2,lC=t=>t==="*";function kB(t,e){let n=t.split("/"),r=n.length;return n.some(lC)&&(r+=EB),e&&(r+=xB),n.filter(i=>!lC(i)).reduce((i,s)=>i+(wB.test(s)?bB:s===""?_B:SB),r)}function TB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",c=NB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Yo([i,c.pathname]),pathnameBase:MB(Yo([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Yo([i,c.pathnameBase]))}return s}function NB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?h[p]=void 0:h[p]=DB(g||"",p),h},{}),pathname:s,pathnameBase:o,pattern:t}}function OB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),k_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AB(t){try{return decodeURI(t)}catch(e){return k_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DB(t,e){try{return decodeURIComponent(t)}catch(n){return k_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function T_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zu(t):t;return{pathname:n?n.startsWith("/")?n:RB(n,e):e,search:LB(r),hash:jB(i)}}function RB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function N0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IR(t,e){let n=PB(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zu(t):(i=Ed({},t),Ln(!i.pathname||!i.pathname.includes("?"),N0("?","pathname","search",i)),Ln(!i.pathname||!i.pathname.includes("#"),N0("#","pathname","hash",i)),Ln(!i.search||!i.search.includes("#"),N0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=IB(i,a),h=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}const Yo=t=>t.join("/").replace(/\/\/+/g,"/"),MB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PR=["post","put","patch","delete"];new Set(PR);const $B=["get",...PR];new Set($B);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(this,arguments)}const C_=K.createContext(null),BB=K.createContext(null),ml=K.createContext(null),lg=K.createContext(null),oa=K.createContext({outlet:null,matches:[],isDataRoute:!1}),MR=K.createContext(null);function UB(t,e){let{relative:n}=e===void 0?{}:e;tf()||Ln(!1);let{basename:r,navigator:i}=K.useContext(ml),{hash:s,pathname:o,search:a}=jR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Yo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function tf(){return K.useContext(lg)!=null}function ur(){return tf()||Ln(!1),K.useContext(lg).location}function LR(t){K.useContext(ml).static||K.useLayoutEffect(t)}function Br(){let{isDataRoute:t}=K.useContext(oa);return t?e9():VB()}function VB(){tf()||Ln(!1);let t=K.useContext(C_),{basename:e,future:n,navigator:r}=K.useContext(ml),{matches:i}=K.useContext(oa),{pathname:s}=ur(),o=JSON.stringify(IR(i,n.v7_relativeSplatPath)),a=K.useRef(!1);return LR(()=>{a.current=!0}),K.useCallback(function(h,c){if(c===void 0&&(c={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let f=RR(h,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function N_(){let{matches:t}=K.useContext(oa),e=t[t.length-1];return e?e.params:{}}function jR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(ml),{matches:i}=K.useContext(oa),{pathname:s}=ur(),o=JSON.stringify(IR(i,r.v7_relativeSplatPath));return K.useMemo(()=>RR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qB(t,e){return zB(t,e)}function zB(t,e,n,r){tf()||Ln(!1);let{navigator:i}=K.useContext(ml),{matches:s}=K.useContext(oa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let h=ur(),c;if(e){var f;let w=typeof e=="string"?zu(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ln(!1),c=w}else c=h;let p=c.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",g=vB(t,{pathname:m}),y=KB(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Yo([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Yo([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&y?K.createElement(lg.Provider,{value:{location:kd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Vo.Pop}},y):y}function HB(){let t=ZB(),e=FB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,null)}const WB=K.createElement(HB,null);class YB extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(oa.Provider,{value:this.props.routeContext},K.createElement(MR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GB(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(C_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(oa.Provider,{value:e},r)}function KB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ln(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let m,g=!1,y=null,w=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||WB,l&&(h<0&&p===0?(t9("route-fallback"),g=!0,w=null):h===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),x=()=>{let E;return m?E=y:g?E=w:f.route.Component?E=K.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,K.createElement(GB,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?K.createElement(YB,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var FR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FR||{}),$R=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($R||{});function QB(t){let e=K.useContext(C_);return e||Ln(!1),e}function XB(t){let e=K.useContext(BB);return e||Ln(!1),e}function JB(t){let e=K.useContext(oa);return e||Ln(!1),e}function BR(t){let e=JB(),n=e.matches[e.matches.length-1];return n.route.id||Ln(!1),n.route.id}function ZB(){var t;let e=K.useContext(MR),n=XB(),r=BR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function e9(){let{router:t}=QB(FR.UseNavigateStable),e=BR($R.UseNavigateStable),n=K.useRef(!1);return LR(()=>{n.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kd({fromRouteId:e},s)))},[t,e])}const uC={};function t9(t,e,n){uC[t]||(uC[t]=!0)}function Yt(t){Ln(!1)}function n9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vo.Pop,navigator:s,static:o=!1,future:a}=t;tf()&&Ln(!1);let l=e.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:l,navigator:s,static:o,future:kd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=zu(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,y=K.useMemo(()=>{let w=T_(c,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return y==null?null:K.createElement(ml.Provider,{value:h},K.createElement(lg.Provider,{children:n,value:y}))}function cC(t){let{children:e,location:n}=t;return qB(sx(e),n)}new Promise(()=>{});function sx(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){n.push.apply(n,sx(r.props.children,s));return}r.type!==Yt&&Ln(!1),!r.props.index||!r.props.children||Ln(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sx(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}function r9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s9(t,e){return t.button===0&&(!e||e==="_self")&&!i9(t)}const o9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],a9="6";try{window.__reactRouterVersion=a9}catch{}const l9="startTransition",dC=Qp[l9];function u9(t){let{basename:e,children:n,future:r,window:i}=t,s=K.useRef();s.current==null&&(s.current=pB({window:i,v5Compat:!0}));let o=s.current,[a,l]=K.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},c=K.useCallback(f=>{h&&dC?dC(()=>l(f)):l(f)},[l,h]);return K.useLayoutEffect(()=>o.listen(c),[o,c]),K.createElement(n9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const c9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=K.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:c,unstable_viewTransition:f}=e,p=r9(e,o9),{basename:m}=K.useContext(ml),g,y=!1;if(typeof h=="string"&&d9.test(h)&&(g=h,c9))try{let E=new URL(window.location.href),S=h.startsWith("//")?new URL(E.protocol+h):new URL(h),k=T_(S.pathname,m);S.origin===E.origin&&k!=null?h=k+S.search+S.hash:y=!0}catch{}let w=UB(h,{relative:i}),b=f9(h,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function x(E){r&&r(E),E.defaultPrevented||b(E)}return K.createElement("a",ox({},p,{href:g||w,onClick:y||s?r:x,ref:n,target:l}))});var fC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fC||(fC={}));var hC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hC||(hC={}));function f9(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Br(),h=ur(),c=jR(t,{relative:o});return K.useCallback(f=>{if(s9(f,n)){f.preventDefault();let p=r!==void 0?r:Xp(h)===Xp(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[h,l,c,r,i,n,t,s,o,a])}var pC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|h>>6,m=h&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||f==null)throw new p9;const p=s<<2|a>>4;if(r.push(p),h!==64){const m=a<<4&240|h>>2;if(r.push(m),f!==64){const g=h<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m9=function(t){const e=UR(t);return VR.encodeByteArray(e,!0)},Jp=function(t){return m9(t).replace(/\./g,"")},qR=function(t){try{return VR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=()=>g9().__FIREBASE_DEFAULTS__,y9=()=>{if(typeof process>"u"||typeof pC>"u")return;const t=pC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qR(t[1]);return e&&JSON.parse(e)},ug=()=>{try{return v9()||y9()||w9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zR=t=>{var e,n;return(n=(e=ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},O_=t=>{const e=zR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HR=()=>{var t;return(t=ug())===null||t===void 0?void 0:t.config},WR=t=>{var e;return(e=ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jp(JSON.stringify(n)),Jp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function _9(){var t;const e=(t=ug())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k9(){const t=kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function KR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function T9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="FirebaseError";class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C9,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?N9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Oi(i,a,r)}}function N9(t,e){return t.replace(O9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O9=/\{\$([^}]+)}/g;function A9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mC(s)&&mC(o)){if(!Zp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function D9(t,e){const n=new I9(t,e);return n.subscribe.bind(n)}class I9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=O0),i.error===void 0&&(i.error=O0),i.complete===void 0&&(i.complete=O0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function O0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L9(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:M9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M9(t){return t===Ia?void 0:t}function L9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const F9={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},$9=Ot.INFO,B9={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},U9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=B9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A_{constructor(e){this.name=e,this._logLevel=$9,this._logHandler=U9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const V9=(t,e)=>e.some(n=>t instanceof n);let gC,vC;function q9(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z9(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QR=new WeakMap,ax=new WeakMap,XR=new WeakMap,A0=new WeakMap,D_=new WeakMap;function H9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QR.set(n,t)}).catch(()=>{}),D_.set(e,t),e}function W9(t){if(ax.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ax.set(t,e)}let lx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ax.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y9(t){lx=t(lx)}function G9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(D0(this),e,...n);return XR.set(r,e.sort?e.sort():[e]),Go(r)}:z9().includes(t)?function(...e){return t.apply(D0(this),e),Go(QR.get(this))}:function(...e){return Go(t.apply(D0(this),e))}}function K9(t){return typeof t=="function"?G9(t):(t instanceof IDBTransaction&&W9(t),V9(t,q9())?new Proxy(t,lx):t)}function Go(t){if(t instanceof IDBRequest)return H9(t);if(A0.has(t))return A0.get(t);const e=K9(t);return e!==t&&(A0.set(t,e),D_.set(e,t)),e}const D0=t=>D_.get(t);function Q9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Go(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Go(o.result),l.oldVersion,l.newVersion,Go(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const X9=["get","getKey","getAll","getAllKeys","count"],J9=["put","add","delete","clear"],I0=new Map;function yC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(I0.get(e))return I0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return I0.set(e,s),s}Y9(t=>({...t,get:(e,n,r)=>yC(e,n)||t.get(e,n,r),has:(e,n)=>!!yC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ux="@firebase/app",wC="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new A_("@firebase/app"),tU="@firebase/app-compat",nU="@firebase/analytics-compat",rU="@firebase/analytics",iU="@firebase/app-check-compat",sU="@firebase/app-check",oU="@firebase/auth",aU="@firebase/auth-compat",lU="@firebase/database",uU="@firebase/database-compat",cU="@firebase/functions",dU="@firebase/functions-compat",fU="@firebase/installations",hU="@firebase/installations-compat",pU="@firebase/messaging",mU="@firebase/messaging-compat",gU="@firebase/performance",vU="@firebase/performance-compat",yU="@firebase/remote-config",wU="@firebase/remote-config-compat",bU="@firebase/storage",xU="@firebase/storage-compat",_U="@firebase/firestore",SU="@firebase/firestore-compat",EU="firebase",kU="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="[DEFAULT]",TU={[ux]:"fire-core",[tU]:"fire-core-compat",[rU]:"fire-analytics",[nU]:"fire-analytics-compat",[sU]:"fire-app-check",[iU]:"fire-app-check-compat",[oU]:"fire-auth",[aU]:"fire-auth-compat",[lU]:"fire-rtdb",[uU]:"fire-rtdb-compat",[cU]:"fire-fn",[dU]:"fire-fn-compat",[fU]:"fire-iid",[hU]:"fire-iid-compat",[pU]:"fire-fcm",[mU]:"fire-fcm-compat",[gU]:"fire-perf",[vU]:"fire-perf-compat",[yU]:"fire-rc",[wU]:"fire-rc-compat",[bU]:"fire-gcs",[xU]:"fire-gcs-compat",[_U]:"fire-fst",[SU]:"fire-fst-compat","fire-js":"fire-js",[EU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,dx=new Map;function CU(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ni(t){const e=t.name;if(dx.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;dx.set(e,t);for(const n of em.values())CU(n,t);return!0}function aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ko=new gl("app","Firebase",NU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=kU;function JR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(n||(n=HR()),!n)throw Ko.create("no-options");const s=em.get(i);if(s){if(Zp(n,s.options)&&Zp(r,s.config))return s;throw Ko.create("duplicate-app",{appName:i})}const o=new j9(i);for(const l of dx.values())o.addComponent(l);const a=new OU(n,r,o);return em.set(i,a),a}function rf(t=cx){const e=em.get(t);if(!e&&t===cx&&HR())return JR();if(!e)throw Ko.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=TU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(a.join(" "));return}Ni(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="firebase-heartbeat-database",DU=1,Td="firebase-heartbeat-store";let R0=null;function ZR(){return R0||(R0=Q9(AU,DU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Td)}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),R0}async function IU(t){try{return await(await ZR()).transaction(Td).objectStore(Td).get(eP(t))}catch(e){if(e instanceof Oi)Qa.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}async function bC(t,e){try{const r=(await ZR()).transaction(Td,"readwrite");await r.objectStore(Td).put(e,eP(t)),await r.done}catch(n){if(n instanceof Oi)Qa.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qa.warn(r.message)}}}function eP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=1024,PU=30*24*60*60*1e3;class MU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=PU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xC(),{heartbeatsToSend:n,unsentEntries:r}=LU(this._heartbeatsCache.heartbeats),i=Jp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function xC(){return new Date().toISOString().substring(0,10)}function LU(t,e=RU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_C(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_C(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?KR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await IU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _C(t){return Jp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){Ni(new fi("platform-logger",e=>new Z9(e),"PRIVATE")),Ni(new fi("heartbeat",e=>new MU(e),"PRIVATE")),xr(ux,wC,t),xr(ux,wC,"esm2017"),xr("fire-js","")}FU("");var $U="firebase",BU="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr($U,BU,"app");function I_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UU=tP,nP=new gl("auth","Firebase",tP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new A_("@firebase/auth");function VU(t,...e){tm.logLevel<=Ot.WARN&&tm.warn(`Auth (${vl}): ${t}`,...e)}function Cp(t,...e){tm.logLevel<=Ot.ERROR&&tm.error(`Auth (${vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,...e){throw R_(t,...e)}function vs(t,...e){return R_(t,...e)}function qU(t,e,n){const r=Object.assign(Object.assign({},UU()),{[e]:n});return new gl("auth","Firebase",r).create(e,{appName:t.name})}function R_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nP.create(t,...e)}function at(t,e,...n){if(!t)throw R_(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function eo(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zU(){return SC()==="http:"||SC()==="https:"}function SC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zU()||S9()||"connection"in navigator)?navigator.onLine:!0}function WU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=x9()||E9()}get(){return HU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new sf(3e4,6e4);function yl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function la(t,e,n,r,i={}){return iP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rP.fetch()(sP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function iP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YU),e);try{const i=new KU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Qh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw qU(t,c,h);Hi(t,c)}}catch(i){if(i instanceof Oi)throw i;Hi(t,"network-request-failed",{message:String(i)})}}async function of(t,e,n,r,i={}){const s=await la(t,e,n,r,i);return"mfaPendingCredential"in s&&Hi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`}class KU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),GU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e){return la(t,"POST","/v1/accounts:delete",e)}async function XU(t,e){return la(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JU(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=M_(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pd(P0(i.auth_time)),issuedAtTime:pd(P0(i.iat)),expirationTime:pd(P0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function P0(t){return Number(t)*1e3}function M_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=qR(n);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZU(t){const e=M_(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oi&&eV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xa(t,XU(n,{idToken:r}));at(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iV(s.providerUserInfo):[],a=rV(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?h:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function nV(t){const e=Pt(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iV(t){return t.map(e=>{var{providerId:n}=e,r=I_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){const n=await iP(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return at(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cd;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=I_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JU(this,e)}reload(){return nV(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xa(this,QU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:S,isAnonymous:k,providerData:N,stsTokenManager:O}=n;at(E&&O,e,"internal-error");const C=Cd.fromJSON(this.name,O);at(typeof E=="string",e,"internal-error"),Io(f,e.name),Io(p,e.name),at(typeof S=="boolean",e,"internal-error"),at(typeof k=="boolean",e,"internal-error"),Io(m,e.name),Io(g,e.name),Io(y,e.name),Io(w,e.name),Io(b,e.name),Io(x,e.name);const I=new Va({uid:E,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:C,createdAt:b,lastLoginAt:x});return N&&Array.isArray(N)&&(I.providerData=N.map(R=>Object.assign({},R))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cd;i.updateFromServerResponse(n);const s=new Va({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Map;function zs(t){eo(t instanceof Function,"Expected a class definition");let e=EC.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aP.type="NONE";const kC=aP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e,n){return`firebase:${t}:${e}:${n}`}class lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,s),this.fullPersistenceKey=Np("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Va._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lu(zs(kC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||zs(kC);const o=Np(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const c=await h._get(o);if(c){const f=Va._fromJSON(e,c);h!==s&&(a=f),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new lu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fP(e))return"Blackberry";if(hP(e))return"Webos";if(L_(e))return"Safari";if((e.includes("chrome/")||uP(e))&&!e.includes("edge/"))return"Chrome";if(dP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lP(t=kr()){return/firefox\//i.test(t)}function L_(t=kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uP(t=kr()){return/crios\//i.test(t)}function cP(t=kr()){return/iemobile/i.test(t)}function dP(t=kr()){return/android/i.test(t)}function fP(t=kr()){return/blackberry/i.test(t)}function hP(t=kr()){return/webos/i.test(t)}function cg(t=kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oV(t=kr()){var e;return cg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aV(){return k9()&&document.documentMode===10}function pP(t=kr()){return cg(t)||dP(t)||hP(t)||fP(t)||/windows phone/i.test(t)||cP(t)}function lV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e=[]){let n;switch(t){case"Browser":n=TC(kr());break;case"Worker":n=`${TC(kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${r}`}async function gP(t,e){return la(t,"GET","/v2/recaptchaConfig",yl(t,e))}function CC(t){return t!==void 0&&t.enterprise!==void 0}class vP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function yP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uV().appendChild(r)})}function cV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dV="https://www.google.com/recaptcha/enterprise.js?render=",fV="recaptcha-enterprise",hV="NO_RECAPTCHA";class wP{constructor(e){this.type=fV,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new vP(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;CC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(hV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&CC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}yP(dV+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Su(t,e,n,r=!1){const i=new wP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NC(this),this.idTokenSubscription=new NC(this),this.beforeStateQueue=new pV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pt(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}async initializeRecaptchaConfig(){const e=await gP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new vP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new wP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zs(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return at(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ua(t){return Pt(t)}class NC{constructor(e){this.auth=e,this.observer=null,this.addObserver=D9(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){const n=aa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zp(s,e??{}))return i;Hi(i,"already-initialized")}return n.initialize({options:e})}function vV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yV(t,e,n){const r=ua(t);at(r._canInitEmulator,r,"emulator-config-failed"),at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bP(e),{host:o,port:a}=wV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),bV()}function bP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wV(t){const e=bP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OC(o)}}}function OC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function xP(t,e){return la(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",yl(t,e))}async function xV(t,e){return la(t,"POST","/v1/accounts:sendOobCode",yl(t,e))}async function L0(t,e){return xV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}async function SV(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends j_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Su(e,r,"signInWithPassword");return M0(e,i)}else return M0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Su(e,r,"signInWithPassword");return M0(e,s)}else return Promise.reject(i)});case"emailLink":return _V(e,{email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return xP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return SV(e,{idToken:n,email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="http://localhost";class Ja extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=I_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ja(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uu(e,n)}buildRequest(){const e={requestUri:EV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TV(t){const e=ed(td(t)).link,n=e?ed(td(e)).deep_link_id:null,r=ed(td(t)).deep_link_id;return(r?ed(td(r)).link:null)||r||n||e||t}class F_{constructor(e){var n,r,i,s,o,a;const l=ed(td(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=kV((i=l.mode)!==null&&i!==void 0?i:null);at(h&&c&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=TV(e);try{return new F_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return Nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=F_.parseLink(n);return at(r,"argument-error"),Nd._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends _P{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends af{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends af{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends af{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t,e){return of(t,"POST","/v1/accounts:signUp",yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Va._fromIdTokenResponse(e,r,i),o=AC(r);return new to({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=AC(r);return new to({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function AC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t){var e;const n=ua(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new to({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Op(n,{returnSecureToken:!0}),i=await to._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Oi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rm(e,n,r,i)}}function SP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,s,e,r):s})}async function NV(t,e,n=!1){const r=await Xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Xa(t,SP(r,i,e,t),n);at(s.idToken,r,"internal-error");const o=M_(s.idToken);at(o,r,"internal-error");const{sub:a}=o;return at(t.uid===a,r,"user-mismatch"),to._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(t,e,n=!1){const r="signIn",i=await SP(t,r,e),s=await to._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OV(t,e){return kP(ua(t),e)}async function TP(t,e){return EP(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t,e,n){var r;const i=ua(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Su(i,s,"getOobCode",!0);await L0(i,o)}else await L0(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Su(i,s,"getOobCode",!0);await L0(i,a)}else return Promise.reject(o)})}async function DV(t,e,n){var r;const i=ua(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await Su(i,s,"signUpPassword");o=Op(i,h)}else o=Op(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Su(i,s,"signUpPassword");return Op(i,c)}else return Promise.reject(h)});const a=await o.catch(h=>Promise.reject(h)),l=await to._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function IV(t,e,n){return OV(Pt(t),ca.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return la(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Pt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xa(r,RV(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function PV(t,e){return MV(Pt(t),null,e)}async function MV(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Xa(t,xP(r,s));await t._updateTokensIfNecessary(o,!0)}function LV(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function jV(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function dg(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}async function FV(t){return Pt(t).delete()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){const t=kr();return L_(t)||cg(t)}const BV=1e3,UV=10;class NP extends CP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$V()&&lV(),this.fallbackToPolling=pP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);aV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NP.type="LOCAL";const VV=NP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP extends CP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OP.type="SESSION";const AP=OP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await qV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=$_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function HV(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function WV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GV(){return DP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="firebaseLocalStorageDb",KV=1,sm="firebaseLocalStorage",RP="fbase_key";class lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hg(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function QV(){const t=indexedDB.deleteDatabase(IP);return new lf(t).toPromise()}function hx(){const t=indexedDB.open(IP,KV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sm,{keyPath:RP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),await QV(),e(await hx()))})})}async function IC(t,e,n){const r=hg(t,!0).put({[RP]:e,value:n});return new lf(r).toPromise()}async function XV(t,e){const n=hg(t,!1).get(e),r=await new lf(n).toPromise();return r===void 0?null:r.value}function RC(t,e){const n=hg(t,!0).delete(e);return new lf(n).toPromise()}const JV=800,ZV=3;class PP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fg._getInstance(GV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WV(),!this.activeServiceWorker)return;this.sender=new zV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hx();return await IC(e,im,"1"),await RC(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hg(i,!1).getAll();return new lf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PP.type="LOCAL";const e8=PP;new sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t,e){return e?zs(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n8(t){return kP(t.auth,new B_(t),t.bypassAuthState)}function r8(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),EP(n,new B_(t),t.bypassAuthState)}async function i8(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),NV(n,new B_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n8;case"linkViaPopup":case"linkViaRedirect":return i8;case"reauthViaPopup":case"reauthViaRedirect":return r8;default:Hi(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=new sf(2e3,1e4);class su extends MP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,su.currentPopupAction&&su.currentPopupAction.cancel(),su.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=$_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,su.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s8.get())};e()}}su.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="pendingRedirect",Ap=new Map;class a8 extends MP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ap.get(this.auth._key());if(!e){try{const r=await l8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ap.set(this.auth._key(),e)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l8(t,e){const n=d8(e),r=c8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function u8(t,e){Ap.set(t._key(),e)}function c8(t){return zs(t._redirectPersistence)}function d8(t){return Np(o8,t.config.apiKey,t.name)}async function f8(t,e,n=!1){const r=ua(t),i=t8(r,e),o=await new a8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=10*60*1e3;class p8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h8&&this.cachedEventUids.clear(),this.cachedEventUids.has(PC(e))}saveEventToCache(e){this.cachedEventUids.add(PC(e)),this.lastProcessedEventTime=Date.now()}}function PC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e={}){return la(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y8=/^https?/;async function w8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g8(t);for(const n of e)try{if(b8(n))return}catch{}Hi(t,"unauthorized-domain")}function b8(t){const e=fx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!y8.test(n))return!1;if(v8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new sf(3e4,6e4);function MC(){const t=ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _8(t){return new Promise((e,n)=>{var r,i,s;function o(){MC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MC(),n(vs(t,"network-request-failed"))},timeout:x8.get()})}if(!((i=(r=ys().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ys().gapi)===null||s===void 0)&&s.load)o();else{const a=cV("iframefcb");return ys()[a]=()=>{gapi.load?o():n(vs(t,"network-request-failed"))},yP(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dp=null,e})}let Dp=null;function S8(t){return Dp=Dp||_8(t),Dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new sf(5e3,15e3),k8="__/auth/iframe",T8="emulator/auth/iframe",C8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O8(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,T8):`https://${t.config.authDomain}/${k8}`,r={apiKey:e.apiKey,appName:t.name,v:vl},i=N8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nf(r).slice(1)}`}async function A8(t){const e=await S8(t),n=ys().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:O8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vs(t,"network-request-failed"),a=ys().setTimeout(()=>{s(o)},E8.get());function l(){ys().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I8=500,R8=600,P8="_blank",M8="http://localhost";class LC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L8(t,e,n,r=I8,i=R8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},D8),{width:r.toString(),height:i.toString(),top:s,left:o}),h=kr().toLowerCase();n&&(a=uP(h)?P8:n),lP(h)&&(e=e||M8,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(oV(h)&&a!=="_self")return j8(e||"",a),new LC(null);const f=window.open(e||"",a,c);at(f,t,"popup-blocked");try{f.focus()}catch{}return new LC(f)}function j8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="__/auth/handler",$8="emulator/auth/handler",B8=encodeURIComponent("fac");async function jC(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vl,eventId:i};if(e instanceof _P){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",A9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof af){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),h=l?`#${B8}=${encodeURIComponent(l)}`:"";return`${U8(t)}?${nf(a).slice(1)}${h}`}function U8({config:t}){return t.emulator?P_(t,$8):`https://${t.authDomain}/${F8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="webStorageSupport";class V8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AP,this._completeRedirectFn=f8,this._overrideRedirectResult=u8}async _openPopup(e,n,r,i){var s;eo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jC(e,n,r,fx(),i);return L8(e,o,$_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jC(e,n,r,fx(),i);return HV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(eo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await A8(e),r=new p8(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(j0,{type:j0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[j0];o!==void 0&&n(!!o),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pP()||L_()||cg()}}const q8=V8;var FC="@firebase/auth",$C="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function W8(t){Ni(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mP(t)},h=new mV(r,i,s,l);return vV(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ni(new fi("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new z8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(FC,$C,H8(t)),xr(FC,$C,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=5*60,G8=WR("authIdTokenMaxAge")||Y8;let BC=null;const K8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G8)return;const i=n==null?void 0:n.token;BC!==i&&(BC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pg(t=rf()){const e=aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gV(t,{popupRedirectResolver:q8,persistence:[e8,VV,AP]}),r=WR("authTokenSyncURL");if(r){const s=K8(r);jV(n,s,()=>s(n.currentUser)),LV(n,o=>s(o))}const i=zR("auth");return i&&yV(n,`http://${i}`),n}W8("Browser");var Q8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne,U_=U_||{},ut=Q8||self;function mg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function X8(t,e,n){return t.call.apply(t.bind,arguments)}function J8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function _r(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_r=X8:_r=J8,_r.apply(null,arguments)}function Xh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function da(){this.s=this.s,this.o=this.o}var Z8=0;da.prototype.s=!1;da.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Z8!=0)};da.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function V_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function UC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Sr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Sr.prototype.h=function(){this.defaultPrevented=!0};var eq=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ut.addEventListener("test",()=>{},e),ut.removeEventListener("test",()=>{},e)}catch{}return t}();function Od(t){return/^[\s\xa0]*$/.test(t)}function vg(){var t=ut.navigator;return t&&(t=t.userAgent)?t:""}function as(t){return vg().indexOf(t)!=-1}function q_(t){return q_[" "](t),t}q_[" "]=function(){};function tq(t,e){var n=Gq;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nq=as("Opera"),Eu=as("Trident")||as("MSIE"),FP=as("Edge"),px=FP||Eu,$P=as("Gecko")&&!(vg().toLowerCase().indexOf("webkit")!=-1&&!as("Edge"))&&!(as("Trident")||as("MSIE"))&&!as("Edge"),rq=vg().toLowerCase().indexOf("webkit")!=-1&&!as("Edge");function BP(){var t=ut.document;return t?t.documentMode:void 0}var mx;e:{var F0="",$0=function(){var t=vg();if($P)return/rv:([^\);]+)(\)|;)/.exec(t);if(FP)return/Edge\/([\d\.]+)/.exec(t);if(Eu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rq)return/WebKit\/(\S+)/.exec(t);if(nq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if($0&&(F0=$0?$0[1]:""),Eu){var B0=BP();if(B0!=null&&B0>parseFloat(F0)){mx=String(B0);break e}}mx=F0}var gx;if(ut.document&&Eu){var VC=BP();gx=VC||parseInt(mx,10)||void 0}else gx=void 0;var iq=gx;function Ad(t,e){if(Sr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($P){e:{try{q_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ad.$.h.call(this)}}Qn(Ad,Sr);var sq={2:"touch",3:"pen",4:"mouse"};Ad.prototype.h=function(){Ad.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yg="closure_listenable_"+(1e6*Math.random()|0),oq=0;function aq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oq,this.fa=this.ia=!1}function wg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function z_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function UP(t){const e={};for(const n in t)e[n]=t[n];return e}const qC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<qC.length;s++)n=qC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bg(t){this.src=t,this.g={},this.h=0}bg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=yx(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new aq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function vx(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=jP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yx(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var H_="closure_lm_"+(1e6*Math.random()|0),U0={};function qP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qP(t,e[s],n,r,i);return null}return n=WP(n),t&&t[yg]?t.O(e,n,gg(r)?!!r.capture:!1,i):uq(t,e,n,!1,r,i)}function uq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gg(i)?!!i.capture:!!i,a=Y_(t);if(a||(t[H_]=a=new bg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=cq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(HP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cq(){function t(n){return e.call(t.src,t.listener,n)}const e=dq;return t}function zP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zP(t,e[s],n,r,i);else r=gg(r)?!!r.capture:!!r,n=WP(n),t&&t[yg]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=yx(s,n,r,i),-1<n&&(wg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Y_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yx(e,n,r,i)),(n=-1<t?e[t]:null)&&W_(n))}function W_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yg])vx(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(HP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Y_(e))?(vx(n,t),n.h==0&&(n.src=null,e[H_]=null)):wg(t)}}}function HP(t){return t in U0?U0[t]:U0[t]="on"+t}function dq(t,e){if(t.fa)t=!0;else{e=new Ad(e,this);var n=t.listener,r=t.la||t.src;t.ia&&W_(t),t=n.call(r,e)}return t}function Y_(t){return t=t[H_],t instanceof bg?t:null}var V0="__closure_events_fn_"+(1e9*Math.random()>>>0);function WP(t){return typeof t=="function"?t:(t[V0]||(t[V0]=function(e){return t.handleEvent(e)}),t[V0])}function Kn(){da.call(this),this.i=new bg(this),this.S=this,this.J=null}Qn(Kn,da);Kn.prototype[yg]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){zP(this,t,e,n,r)};function ar(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Sr(e,t);else if(e instanceof Sr)e.target=e.target||t;else{var i=e;e=new Sr(r,t),VP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jh(o,r,!0,e)&&i}if(o=e.g=t,i=Jh(o,r,!0,e)&&i,i=Jh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Jh(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wg(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&vx(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var G_=ut.JSON.stringify;class fq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hq(){var t=K_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pq{constructor(){this.h=this.g=null}add(e,n){const r=YP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var YP=new fq(()=>new mq,t=>t.reset());class mq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vq(t){ut.setTimeout(()=>{throw t},0)}let Dd,Id=!1,K_=new pq,GP=()=>{const t=ut.Promise.resolve(void 0);Dd=()=>{t.then(yq)}};var yq=()=>{for(var t;t=hq();){try{t.h.call(t.g)}catch(n){vq(n)}var e=YP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Id=!1};function xg(t,e){Kn.call(this),this.h=t||1,this.g=e||ut,this.j=_r(this.qb,this),this.l=Date.now()}Qn(xg,Kn);Ne=xg.prototype;Ne.ga=!1;Ne.T=null;Ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ar(this,"tick"),this.ga&&(Q_(this),this.start()))}};Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Q_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ne.N=function(){xg.$.N.call(this),Q_(this),delete this.g};function X_(t,e,n){if(typeof t=="function")n&&(t=_r(t,n));else if(t&&typeof t.handleEvent=="function")t=_r(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ut.setTimeout(t,e||0)}function KP(t){t.g=X_(()=>{t.g=null,t.i&&(t.i=!1,KP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wq extends da{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KP(this)}N(){super.N(),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rd(t){da.call(this),this.h=t,this.g={}}Qn(Rd,da);var zC=[];function QP(t,e,n,r){Array.isArray(n)||(n&&(zC[0]=n.toString()),n=zC);for(var i=0;i<n.length;i++){var s=qP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XP(t){z_(t.g,function(e,n){this.g.hasOwnProperty(n)&&W_(e)},t),t.g={}}Rd.prototype.N=function(){Rd.$.N.call(this),XP(this)};Rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _g(){this.g=!0}_g.prototype.Ea=function(){this.g=!1};function bq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+h+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function xq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ou(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Sq(t,n)+(r?" "+r:"")})}function _q(t,e){t.info(function(){return"TIMEOUT: "+e})}_g.prototype.info=function(){};function Sq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return G_(n)}catch{return e}}var wl={},HC=null;function Sg(){return HC=HC||new Kn}wl.Ta="serverreachability";function JP(t){Sr.call(this,wl.Ta,t)}Qn(JP,Sr);function Pd(t){const e=Sg();ar(e,new JP(e))}wl.STAT_EVENT="statevent";function ZP(t,e){Sr.call(this,wl.STAT_EVENT,t),this.stat=e}Qn(ZP,Sr);function Lr(t){const e=Sg();ar(e,new ZP(e,t))}wl.Ua="timingevent";function eM(t,e){Sr.call(this,wl.Ua,t),this.size=e}Qn(eM,Sr);function uf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){t()},e)}var Eg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function J_(){}J_.prototype.h=null;function WC(t){return t.h||(t.h=t.i())}function nM(){}var cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Z_(){Sr.call(this,"d")}Qn(Z_,Sr);function eS(){Sr.call(this,"c")}Qn(eS,Sr);var wx;function kg(){}Qn(kg,J_);kg.prototype.g=function(){return new XMLHttpRequest};kg.prototype.i=function(){return{}};wx=new kg;function df(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rd(this),this.P=Eq,t=px?125:void 0,this.V=new xg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rM}function rM(){this.i=null,this.g="",this.h=!1}var Eq=45e3,bx={},om={};Ne=df.prototype;Ne.setTimeout=function(t){this.P=t};function xx(t,e,n){t.L=1,t.v=Cg(no(e)),t.s=n,t.S=!0,iM(t,null)}function iM(t,e){t.G=Date.now(),ff(t),t.A=no(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),fM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new rM,t.g=RM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wq(_r(t.Pa,t,t.g),t.O)),QP(t.U,t.g,"readystatechange",t.nb),e=t.I?UP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pd(),bq(t.j,t.u,t.A,t.m,t.W,t.s)}Ne.nb=function(t){t=t.target;const e=this.M;e&&fs(t)==3?e.l():this.Pa(t)};Ne.Pa=function(t){try{if(t==this.g)e:{const c=fs(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||px||this.g&&(this.h.h||this.g.ja()||QC(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Pd(3):Pd(2)),Tg(this);var n=this.g.da();this.ca=n;t:if(sM(this)){var r=QC(this.g);t="";var i=r.length,s=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){La(this),md(this);var o="";break t}this.h.i=new ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,xq(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Od(a)){var h=a;break t}}h=null}if(n=h)ou(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_x(this,n);else{this.i=!1,this.o=3,Lr(12),La(this),md(this);break e}}this.S?(oM(this,c,o),px&&this.i&&c==3&&(QP(this.U,this.V,"tick",this.mb),this.V.start())):(ou(this.j,this.m,o,null),_x(this,o)),c==4&&La(this),this.i&&!this.J&&(c==4?OM(this.l,this):(this.i=!1,ff(this)))}else Hq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),La(this),md(this)}}}catch{}finally{}};function sM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function oM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=kq(t,n),i==om){e==4&&(t.o=4,Lr(14),r=!1),ou(t.j,t.m,null,"[Incomplete Response]");break}else if(i==bx){t.o=4,Lr(15),ou(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ou(t.j,t.m,i,null),_x(t,i);sM(t)&&i!=om&&i!=bx&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Lr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oS(e),e.M=!0,Lr(11))):(ou(t.j,t.m,n,"[Invalid Chunked Response]"),La(t),md(t))}Ne.mb=function(){if(this.g){var t=fs(this.g),e=this.g.ja();this.C<e.length&&(Tg(this),oM(this,t,e),this.i&&t!=4&&ff(this))}};function kq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?om:(n=Number(e.substring(n,r)),isNaN(n)?bx:(r+=1,r+n>e.length?om:(e=e.slice(r,r+n),t.C=r+n,e)))}Ne.cancel=function(){this.J=!0,La(this)};function ff(t){t.Y=Date.now()+t.P,aM(t,t.P)}function aM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=uf(_r(t.lb,t),e)}function Tg(t){t.B&&(ut.clearTimeout(t.B),t.B=null)}Ne.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(_q(this.j,this.A),this.L!=2&&(Pd(),Lr(17)),La(this),this.o=2,md(this)):aM(this,this.Y-t)};function md(t){t.l.H==0||t.J||OM(t.l,t)}function La(t){Tg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Q_(t.V),XP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _x(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sx(n.i,t))){if(!t.K&&Sx(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)um(n),Ag(n);else break e;sS(n),Lr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=uf(_r(n.ib,n),6e3));if(1>=mM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ja(n,11)}else if((t.K||n.g==t)&&um(n),!Od(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const c=h[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=h[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=h[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(tS(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Zt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IM(r,r.J?r.pa:null,r.Y),o.K){gM(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Tg(a),ff(a)),r.g=o}else CM(r);0<n.j.length&&Dg(n)}else h[0]!="stop"&&h[0]!="close"||ja(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?ja(n,7):iS(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Pd(4)}catch{}}function Tq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(mg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Cq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function lM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(mg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Cq(t),r=Tq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var uM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qa){this.h=t.h,am(this,t.j),this.s=t.s,this.g=t.g,lm(this,t.m),this.l=t.l;var e=t.i,n=new Md;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YC(this,n),this.o=t.o}else t&&(e=String(t).match(uM))?(this.h=!1,am(this,e[1]||"",!0),this.s=nd(e[2]||""),this.g=nd(e[3]||"",!0),lm(this,e[4]),this.l=nd(e[5]||"",!0),YC(this,e[6]||"",!0),this.o=nd(e[7]||"")):(this.h=!1,this.i=new Md(null,this.h))}qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rd(e,GC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rd(e,GC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rd(n,n.charAt(0)=="/"?Dq:Aq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rd(n,Rq)),t.join("")};function no(t){return new qa(t)}function am(t,e,n){t.j=n?nd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YC(t,e,n){e instanceof Md?(t.i=e,Pq(t.i,t.h)):(n||(e=rd(e,Iq)),t.i=new Md(e,t.h))}function Zt(t,e,n){t.i.set(e,n)}function Cg(t){return Zt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Oq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GC=/[#\/\?@]/g,Aq=/[#\?:]/g,Dq=/[#\?]/g,Iq=/[#\?@]/g,Rq=/#/g;function Md(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fa(t){t.g||(t.g=new Map,t.h=0,t.i&&Nq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ne=Md.prototype;Ne.add=function(t,e){fa(this),this.i=null,t=Hu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cM(t,e){fa(t),e=Hu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dM(t,e){return fa(t),e=Hu(t,e),t.g.has(e)}Ne.forEach=function(t,e){fa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ne.ta=function(){fa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ne.Z=function(t){fa(this);let e=[];if(typeof t=="string")dM(this,t)&&(e=e.concat(this.g.get(Hu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ne.set=function(t,e){return fa(this),this.i=null,t=Hu(this,t),dM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fM(t,e,n){cM(t,e),0<n.length&&(t.i=null,t.g.set(Hu(t,e),V_(n)),t.h+=n.length)}Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Hu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Pq(t,e){e&&!t.j&&(fa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cM(this,r),fM(this,i,n))},t)),t.j=e}var Mq=class{constructor(t,e){this.g=t,this.map=e}};function hM(t){this.l=t||Lq,ut.PerformanceNavigationTiming?(t=ut.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ut.g&&ut.g.Ka&&ut.g.Ka()&&ut.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lq=10;function pM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mM(t){return t.h?1:t.g?t.g.size:0}function Sx(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tS(t,e){t.g?t.g.add(e):t.h=e}function gM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hM.prototype.cancel=function(){if(this.i=vM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function vM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return V_(t.i)}var jq=class{stringify(t){return ut.JSON.stringify(t,void 0)}parse(t){return ut.JSON.parse(t,void 0)}};function Fq(){this.g=new jq}function $q(t,e,n){const r=n||"";try{lM(t,function(i,s){let o=i;gg(i)&&(o=G_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bq(t,e){const n=new _g;if(ut.Image){const r=new Image;r.onload=Xh(Zh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xh(Zh,n,r,"TestLoadImage: error",!1,e),r.onabort=Xh(Zh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xh(Zh,n,r,"TestLoadImage: timeout",!1,e),ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hf(t){this.l=t.fc||null,this.j=t.ob||!1}Qn(hf,J_);hf.prototype.g=function(){return new Ng(this.l,this.j)};hf.prototype.i=function(t){return function(){return t}}({});function Ng(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qn(Ng,Kn);var nS=0;Ne=Ng.prototype;Ne.open=function(t,e){if(this.readyState!=nS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ld(this)};Ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pf(this)),this.readyState=nS};Ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ld(this)),this.g&&(this.readyState=3,Ld(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ut.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pf(this):Ld(this),this.readyState==3&&yM(this)}};Ne.Za=function(t){this.g&&(this.response=this.responseText=t,pf(this))};Ne.Ya=function(t){this.g&&(this.response=t,pf(this))};Ne.ka=function(){this.g&&pf(this)};function pf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ld(t)}Ne.setRequestHeader=function(t,e){this.v.append(t,e)};Ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ld(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Uq=ut.JSON.parse;function wn(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wM,this.L=this.M=!1}Qn(wn,Kn);var wM="",Vq=/^https?$/i,qq=["POST","PUT"];Ne=wn.prototype;Ne.Oa=function(t){this.M=t};Ne.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wx.g(),this.C=this.u?WC(this.u):WC(wx),this.g.onreadystatechange=_r(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){KC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ut.FormData&&t instanceof ut.FormData,!(0<=jP(qq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_M(this),0<this.B&&((this.L=zq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.ua,this)):this.A=X_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KC(this,s)}};function zq(t){return Eu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ne.ua=function(){typeof U_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))};function KC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bM(t),Og(t)}function bM(t){t.F||(t.F=!0,ar(t,"complete"),ar(t,"error"))}Ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ar(this,"complete"),ar(this,"abort"),Og(this))};Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Og(this,!0)),wn.$.N.call(this)};Ne.La=function(){this.s||(this.G||this.v||this.l?xM(this):this.kb())};Ne.kb=function(){xM(this)};function xM(t){if(t.h&&typeof U_<"u"&&(!t.C[1]||fs(t)!=4||t.da()!=2)){if(t.v&&fs(t)==4)X_(t.La,0,t);else if(ar(t,"readystatechange"),fs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(uM)[1]||null;!i&&ut.self&&ut.self.location&&(i=ut.self.location.protocol.slice(0,-1)),r=!Vq.test(i?i.toLowerCase():"")}n=r}if(n)ar(t,"complete"),ar(t,"success");else{t.m=6;try{var s=2<fs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bM(t)}}finally{Og(t)}}}}function Og(t,e){if(t.g){_M(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ar(t,"ready");try{n.onreadystatechange=r}catch{}}}function _M(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ut.clearTimeout(t.A),t.A=null)}Ne.isActive=function(){return!!this.g};function fs(t){return t.g?t.g.readyState:0}Ne.da=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}};Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Uq(e)}};function QC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Hq(t){const e={};t=(t.g&&2<=fs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Od(t[r]))continue;var n=gq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}lq(e,function(r){return r.join(", ")})}Ne.Ia=function(){return this.m};Ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SM(t){let e="";return z_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Zt(t,e,n))}function Bc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function EM(t){this.Ga=0,this.j=[],this.l=new _g,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bc("baseRetryDelayMs",5e3,t),this.hb=Bc("retryDelaySeedMs",1e4,t),this.eb=Bc("forwardChannelMaxRetries",2,t),this.xa=Bc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hM(t&&t.concurrentRequestLimit),this.Ja=new Fq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ne=EM.prototype;Ne.ra=8;Ne.H=1;function iS(t){if(kM(t),t.H==3){var e=t.W++,n=no(t.I);if(Zt(n,"SID",t.K),Zt(n,"RID",e),Zt(n,"TYPE","terminate"),mf(t,n),e=new df(t,t.l,e),e.L=2,e.v=Cg(no(n)),n=!1,ut.navigator&&ut.navigator.sendBeacon)try{n=ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ut.Image&&(new Image().src=e.v,n=!0),n||(e.g=RM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ff(e)}DM(t)}function Ag(t){t.g&&(oS(t),t.g.cancel(),t.g=null)}function kM(t){Ag(t),t.u&&(ut.clearTimeout(t.u),t.u=null),um(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ut.clearTimeout(t.m),t.m=null)}function Dg(t){if(!pM(t.i)&&!t.m){t.m=!0;var e=t.Na;Dd||GP(),Id||(Dd(),Id=!0),K_.add(e,t),t.C=0}}function Wq(t,e){return mM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=uf(_r(t.Na,t,e),AM(t,t.C)),t.C++,!0)}Ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new df(this,this.l,t);let s=this.s;if(this.U&&(s?(s=UP(s),VP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TM(this,i,e),n=no(this.I),Zt(n,"RID",t),Zt(n,"CVER",22),this.F&&Zt(n,"X-HTTP-Session-Id",this.F),mf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(SM(s)))+"&"+e:this.o&&rS(n,this.o,s)),tS(this.i,i),this.bb&&Zt(n,"TYPE","init"),this.P?(Zt(n,"$req",e),Zt(n,"SID","null"),i.aa=!0,xx(i,n,null)):xx(i,n,e),this.H=2}}else this.H==3&&(t?XC(this,t):this.j.length==0||pM(this.i)||XC(this))};function XC(t,e){var n;e?n=e.m:n=t.W++;const r=no(t.I);Zt(r,"SID",t.K),Zt(r,"RID",n),Zt(r,"AID",t.V),mf(t,r),t.o&&t.s&&rS(r,t.o,t.s),n=new df(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=TM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tS(t.i,n),xx(n,r,e)}function mf(t,e){t.na&&z_(t.na,function(n,r){Zt(e,r,n)}),t.h&&lM({},function(n,r){Zt(e,r,n)})}function TM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?_r(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let h=i[l].g;const c=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),a=!1;else try{$q(c,o,"req"+h+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dd||GP(),Id||(Dd(),Id=!0),K_.add(e,t),t.A=0}}function sS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=uf(_r(t.Ma,t),AM(t,t.A)),t.A++,!0)}Ne.Ma=function(){if(this.u=null,NM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=uf(_r(this.jb,this),t)}};Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lr(10),Ag(this),NM(this))};function oS(t){t.B!=null&&(ut.clearTimeout(t.B),t.B=null)}function NM(t){t.g=new df(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=no(t.wa);Zt(e,"RID","rpc"),Zt(e,"SID",t.K),Zt(e,"AID",t.V),Zt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Zt(e,"TO",t.qa),Zt(e,"TYPE","xmlhttp"),mf(t,e),t.o&&t.s&&rS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Cg(no(e)),n.s=null,n.S=!0,iM(n,t)}Ne.ib=function(){this.v!=null&&(this.v=null,Ag(this),sS(this),Lr(19))};function um(t){t.v!=null&&(ut.clearTimeout(t.v),t.v=null)}function OM(t,e){var n=null;if(t.g==e){um(t),oS(t),t.g=null;var r=2}else if(Sx(t.i,e))n=e.F,gM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Sg(),ar(r,new eM(r,n)),Dg(t)}else CM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Wq(t,e)||r==2&&sS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ja(t,5);break;case 4:ja(t,10);break;case 3:ja(t,6);break;default:ja(t,2)}}}function AM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ja(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=_r(t.pb,t);n||(n=new qa("//www.google.com/images/cleardot.gif"),ut.location&&ut.location.protocol=="http"||am(n,"https"),Cg(n)),Bq(n.toString(),r)}else Lr(2);t.H=0,t.h&&t.h.za(e),DM(t),kM(t)}Ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Lr(2)):(this.l.info("Failed to ping google.com"),Lr(1))};function DM(t){if(t.H=0,t.ma=[],t.h){const e=vM(t.i);(e.length!=0||t.j.length!=0)&&(UC(t.ma,e),UC(t.ma,t.j),t.i.i.length=0,V_(t.j),t.j.length=0),t.h.ya()}}function IM(t,e,n){var r=n instanceof qa?no(n):new qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),lm(r,r.m);else{var i=ut.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qa(null);r&&am(s,r),e&&(s.g=e),i&&lm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Zt(r,n,e),Zt(r,"VER",t.ra),mf(t,r),r}function RM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new wn(new hf({ob:!0})):new wn(t.va),e.Oa(t.J),e}Ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function PM(){}Ne=PM.prototype;Ne.Ba=function(){};Ne.Aa=function(){};Ne.za=function(){};Ne.ya=function(){};Ne.isActive=function(){return!0};Ne.Va=function(){};function cm(){if(Eu&&!(10<=Number(iq)))throw Error("Environmental error: no available transport.")}cm.prototype.g=function(t,e){return new hi(t,e)};function hi(t,e){Kn.call(this),this.g=new EM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Od(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Od(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wu(this)}Qn(hi,Kn);hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Lr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IM(t,null,t.Y),Dg(t)};hi.prototype.close=function(){iS(this.g)};hi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=G_(t),t=n);e.j.push(new Mq(e.fb++,t)),e.H==3&&Dg(e)};hi.prototype.N=function(){this.g.h=null,delete this.j,iS(this.g),delete this.g,hi.$.N.call(this)};function MM(t){Z_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qn(MM,Z_);function LM(){eS.call(this),this.status=1}Qn(LM,eS);function Wu(t){this.g=t}Qn(Wu,PM);Wu.prototype.Ba=function(){ar(this.g,"a")};Wu.prototype.Aa=function(t){ar(this.g,new MM(t))};Wu.prototype.za=function(t){ar(this.g,new LM)};Wu.prototype.ya=function(){ar(this.g,"b")};function Yq(){this.blockSize=-1}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Qn(Wi,Yq);Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function q0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Wi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)q0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){q0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){q0(this,r),i=0;break}}this.h=i,this.i+=e};Wi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function qt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Gq={};function aS(t){return-128<=t&&128>t?tq(t,function(e){return new qt([e|0],0>e?-1:0)}):new qt([t|0],0>t?-1:0)}function hs(t){if(isNaN(t)||!isFinite(t))return cu;if(0>t)return sr(hs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ex;return new qt(e,0)}function jM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return sr(jM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hs(Math.pow(e,8)),r=cu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=hs(Math.pow(e,s)),r=r.R(s).add(hs(o))):(r=r.R(n),r=r.add(hs(o)))}return r}var Ex=4294967296,cu=aS(0),kx=aS(1),JC=aS(16777216);Ne=qt.prototype;Ne.ea=function(){if(ki(this))return-sr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ex+r)*e,e*=Ex}return t};Ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hs(this))return"0";if(ki(this))return"-"+sr(this).toString(t);for(var e=hs(Math.pow(t,6)),n=this,r="";;){var i=fm(n,e).g;n=dm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ki(t){return t.h==-1}Ne.X=function(t){return t=dm(this,t),ki(t)?-1:Hs(t)?0:1};function sr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new qt(n,~t.h).add(kx)}Ne.abs=function(){return ki(this)?sr(this):this};Ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new qt(n,n[n.length-1]&-2147483648?-1:0)};function dm(t,e){return t.add(sr(e))}Ne.R=function(t){if(Hs(this)||Hs(t))return cu;if(ki(this))return ki(t)?sr(this).R(sr(t)):sr(sr(this).R(t));if(ki(t))return sr(this.R(sr(t)));if(0>this.X(JC)&&0>t.X(JC))return hs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,ep(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ep(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ep(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ep(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new qt(n,0)};function ep(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uc(t,e){this.g=t,this.h=e}function fm(t,e){if(Hs(e))throw Error("division by zero");if(Hs(t))return new Uc(cu,cu);if(ki(t))return e=fm(sr(t),e),new Uc(sr(e.g),sr(e.h));if(ki(e))return e=fm(t,sr(e)),new Uc(sr(e.g),e.h);if(30<t.g.length){if(ki(t)||ki(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kx,r=e;0>=r.X(t);)n=ZC(n),r=ZC(r);var i=Ql(n,1),s=Ql(r,1);for(r=Ql(r,2),n=Ql(n,2);!Hs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ql(r,1),n=Ql(n,1)}return e=dm(t,i.R(e)),new Uc(i,e)}for(i=cu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=hs(n),o=s.R(e);ki(o)||0<o.X(t);)n-=r,s=hs(n),o=s.R(e);Hs(s)&&(s=kx),i=i.add(s),t=dm(t,o)}return new Uc(i,t)}Ne.gb=function(t){return fm(this,t).h};Ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new qt(n,this.h&t.h)};Ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new qt(n,this.h|t.h)};Ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new qt(n,this.h^t.h)};function ZC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new qt(n,t.h)}function Ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new qt(i,t.h)}cm.prototype.createWebChannel=cm.prototype.g;hi.prototype.send=hi.prototype.u;hi.prototype.open=hi.prototype.m;hi.prototype.close=hi.prototype.close;Eg.NO_ERROR=0;Eg.TIMEOUT=8;Eg.HTTP_ERROR=6;tM.COMPLETE="complete";nM.EventType=cf;cf.OPEN="a";cf.CLOSE="b";cf.ERROR="c";cf.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;wn.prototype.listenOnce=wn.prototype.P;wn.prototype.getLastError=wn.prototype.Sa;wn.prototype.getLastErrorCode=wn.prototype.Ia;wn.prototype.getStatus=wn.prototype.da;wn.prototype.getResponseJson=wn.prototype.Wa;wn.prototype.getResponseText=wn.prototype.ja;wn.prototype.send=wn.prototype.ha;wn.prototype.setWithCredentials=wn.prototype.Oa;Wi.prototype.digest=Wi.prototype.l;Wi.prototype.reset=Wi.prototype.reset;Wi.prototype.update=Wi.prototype.j;qt.prototype.add=qt.prototype.add;qt.prototype.multiply=qt.prototype.R;qt.prototype.modulo=qt.prototype.gb;qt.prototype.compare=qt.prototype.X;qt.prototype.toNumber=qt.prototype.ea;qt.prototype.toString=qt.prototype.toString;qt.prototype.getBits=qt.prototype.D;qt.fromNumber=hs;qt.fromString=jM;var Kq=function(){return new cm},Qq=function(){return Sg()},z0=Eg,Xq=tM,Jq=wl,eN={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zq=hf,tp=nM,e7=wn,t7=Wi,du=qt;const tN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new A_("@firebase/firestore");function nN(){return Za.logLevel}function We(t,...e){if(Za.logLevel<=Ot.DEBUG){const n=e.map(lS);Za.debug(`Firestore (${Yu}): ${t}`,...n)}}function ro(t,...e){if(Za.logLevel<=Ot.ERROR){const n=e.map(lS);Za.error(`Firestore (${Yu}): ${t}`,...n)}}function ku(t,...e){if(Za.logLevel<=Ot.WARN){const n=e.map(lS);Za.warn(`Firestore (${Yu}): ${t}`,...n)}}function lS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t="Unexpected state"){const e=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: `+t;throw ro(e),new Error(e)}function rn(t,e){t||lt()}function pt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vr.UNAUTHENTICATED))}shutdown(){}}let r7=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class i7{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new za;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new za,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new za)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn(typeof r.accessToken=="string"),new FM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string"),new vr(e)}}class s7{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class o7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new s7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l7{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rn(typeof n.token=="string"),this.T=n.token,new a7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function Tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new Vn(0,0))}static max(){return new dt(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r){n===void 0?n=0:n>e.length&&lt(),r===void 0?r=e.length-n:r>e.length-n&&lt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class en extends jd{construct(e,n,r){return new en(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new en(n)}static emptyPath(){return new en([])}}const c7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends jd{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return c7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(en.fromString(e))}static fromName(e){return new Qe(en.fromString(e).popFirst(5))}static empty(){return new Qe(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new en(e.slice()))}}function d7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new Zo(i,Qe.empty(),e)}function f7(t){return new Zo(t.readTime,t.key,-1)}class Zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zo(dt.min(),Qe.empty(),-1)}static max(){return new Zo(dt.max(),Qe.empty(),-1)}}function h7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Qe.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==p7)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(c=>{o[h]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}uS.ct=-1;function Ig(t){return t==null}function hm(t){return t===0&&1/t==-1/0}function g7(t){return typeof t=="number"&&Number.isInteger(t)&&!hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new np(this.root,e,this.comparator,!1)}getReverseIterator(){return new np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new np(this.root,e,this.comparator,!0)}}class np{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=s??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new rr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iN(this.data.getIterator())}getIteratorFrom(e){return new iN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Er(this.comparator);return n.data=e,n}}class iN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new li([])}unionWith(e){let n=new Er(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UM("Invalid base64 string: "+i):i}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const v7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(rn(!!t),typeof t=="string"){let e=0;const n=v7.exec(t);if(rn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function el(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dS(t){const e=t.mapValue.fields.__previous_value__;return cS(e)?dS(e):e}function Fd(t){const e=ea(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class $d{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp={mapValue:{}};function tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cS(t)?4:w7(t)?9007199254740991:10:lt()}function Es(t,e){if(t===e)return!0;const n=tl(t);if(n!==tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ea(r.timestampValue),o=ea(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return el(r.bytesValue).isEqual(el(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Rn(r.geoPointValue.latitude)===Rn(i.geoPointValue.latitude)&&Rn(r.geoPointValue.longitude)===Rn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Rn(r.integerValue)===Rn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Rn(r.doubleValue),o=Rn(i.doubleValue);return s===o?hm(s)===hm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(rN(s)!==rN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Es(s[a],o[a])))return!1;return!0}(t,e);default:return lt()}}function Bd(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function Cu(t,e){if(t===e)return 0;const n=tl(t),r=tl(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Rn(i.integerValue||i.doubleValue),a=Rn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return sN(t.timestampValue,e.timestampValue);case 4:return sN(Fd(t),Fd(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(i,s){const o=el(i),a=el(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const h=It(o[l],a[l]);if(h!==0)return h}return It(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=It(Rn(i.latitude),Rn(s.latitude));return o!==0?o:It(Rn(i.longitude),Rn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const h=Cu(o[l],a[l]);if(h)return h}return It(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===rp.mapValue&&s===rp.mapValue)return 0;if(i===rp.mapValue)return 1;if(s===rp.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let c=0;c<a.length&&c<h.length;++c){const f=It(a[c],h[c]);if(f!==0)return f;const p=Cu(o[a[c]],l[h[c]]);if(p!==0)return p}return It(a.length,h.length)}(t.mapValue,e.mapValue);default:throw lt()}}function sN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=ea(t),r=ea(e),i=It(n.seconds,r.seconds);return i!==0?i:It(n.nanos,r.nanos)}function Nu(t){return Tx(t)}function Tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ea(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?el(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Qe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Tx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Tx(r.fields[a])}`;return s+"}"}(t.mapValue):lt();var e,n}function oN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cx(t){return!!t&&"integerValue"in t}function fS(t){return!!t&&"arrayValue"in t}function aN(t){return!!t&&"nullValue"in t}function lN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ip(t){return!!t&&"mapValue"in t}function gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xr(gd(this.value))}}function VM(t){const e=[];return bl(t.fields,(n,r)=>{const i=new wr([n]);if(Ip(r)){const s=VM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,dt.min(),dt.min(),dt.min(),Xr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,dt.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,dt.min(),dt.min(),Xr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,dt.min(),dt.min(),Xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.position=e,this.inclusive=n}}function uN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Qe.comparator(Qe.fromName(o.referenceValue),n.key):r=Cu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function b7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class Mn extends qM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _7(e,n,r):n==="array-contains"?new k7(e,r):n==="in"?new T7(e,r):n==="not-in"?new C7(e,r):n==="array-contains-any"?new N7(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S7(e,r):new E7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cu(n,this.value)):n!==null&&tl(this.value)===tl(n)&&this.matchesComparison(Cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Yi extends qM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Yi(e,n)}matches(e){return zM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function zM(t){return t.op==="and"}function HM(t){return x7(t)&&zM(t)}function x7(t){for(const e of t.filters)if(e instanceof Yi)return!1;return!0}function Nx(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Nu(t.value);if(HM(t))return t.filters.map(e=>Nx(e)).join(",");{const e=t.filters.map(n=>Nx(n)).join(",");return`${t.op}(${e})`}}function WM(t,e){return t instanceof Mn?function(n,r){return r instanceof Mn&&n.op===r.op&&n.field.isEqual(r.field)&&Es(n.value,r.value)}(t,e):t instanceof Yi?function(n,r){return r instanceof Yi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&WM(s,r.filters[o]),!0):!1}(t,e):void lt()}function YM(t){return t instanceof Mn?function(e){return`${e.field.canonicalString()} ${e.op} ${Nu(e.value)}`}(t):t instanceof Yi?function(e){return e.op.toString()+" {"+e.getFilters().map(YM).join(" ,")+"}"}(t):"Filter"}class _7 extends Mn{constructor(e,n,r){super(e,n,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S7 extends Mn{constructor(e,n){super(e,"in",n),this.keys=GM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E7 extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=GM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class k7 extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fS(n)&&Bd(n.arrayValue,this.value)}}class T7 extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bd(this.value.arrayValue,n)}}class C7 extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bd(this.value.arrayValue,n)}}class N7 extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function dN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new O7(t,e,n,r,i,s,o)}function hS(t){const e=pt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nu(r)).join(",")),e.dt=n}return e.dt}function pS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cN(t.startAt,e.startAt)&&cN(t.endAt,e.endAt)}function Ox(t){return Qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function A7(t,e,n,r,i,s,o,a){return new Gu(t,e,n,r,i,s,o,a)}function mS(t){return new Gu(t)}function fN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Rg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function KM(t){return t.collectionGroup!==null}function hu(t){const e=pt(t);if(e.wt===null){e.wt=[];const n=Rg(e),r=gS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new fu(n)),e.wt.push(new fu(wr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new fu(wr.keyField(),s))}}}return e.wt}function io(t){const e=pt(t);if(!e._t)if(e.limitType==="F")e._t=dN(e.path,e.collectionGroup,hu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of hu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new fu(s.field,o))}const r=e.endAt?new pm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pm(e.startAt.position,e.startAt.inclusive):null;e._t=dN(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ax(t,e){e.getFirstInequalityField(),Rg(t);const n=t.filters.concat([e]);return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dx(t,e,n){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pg(t,e){return pS(io(t),io(e))&&t.limitType===e.limitType}function QM(t){return`${hS(io(t))}|lt:${t.limitType}`}function Ix(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>YM(r)).join(", ")}]`),Ig(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nu(r)).join(",")),`Target(${n})`}(io(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Qe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of hu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=uN(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,hu(n),r)||n.endAt&&!function(i,s,o){const a=uN(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,hu(n),r))}(t,e)}function D7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XM(t){return(e,n)=>{let r=!1;for(const i of hu(t)){const s=I7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I7(t,e,n){const r=t.field.isKeyField()?Qe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Cu(a,l):lt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=new gn(Qe.comparator);function so(){return R7}const JM=new gn(Qe.comparator);function id(...t){let e=JM;for(const n of t)e=e.insert(n.key,n);return e}function ZM(t){let e=JM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return vd()}function eL(){return vd()}function vd(){return new Ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const P7=new gn(Qe.comparator),M7=new Er(Qe.comparator);function yt(...t){let e=M7;for(const n of t)e=e.add(n);return e}const L7=new Er(It);function j7(){return L7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(e)?"-0":e}}function nL(t){return{integerValue:""+t}}function F7(t,e){return g7(e)?nL(e):tL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this._=void 0}}function $7(t,e,n){return t instanceof mm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&cS(i)&&(i=dS(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ud?iL(t,e):t instanceof Vd?sL(t,e):function(r,i){const s=rL(r,i),o=hN(s)+hN(r.gt);return Cx(s)&&Cx(r.gt)?nL(o):tL(r.serializer,o)}(t,e)}function B7(t,e,n){return t instanceof Ud?iL(t,e):t instanceof Vd?sL(t,e):n}function rL(t,e){return t instanceof gm?Cx(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class mm extends Lg{}class Ud extends Lg{constructor(e){super(),this.elements=e}}function iL(t,e){const n=oL(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vd extends Lg{constructor(e){super(),this.elements=e}}function sL(t,e){let n=oL(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class gm extends Lg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function hN(t){return Rn(t.integerValue||t.doubleValue)}function oL(t){return fS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U7(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ud&&r instanceof Ud||n instanceof Vd&&r instanceof Vd?Tu(n.elements,r.elements,Es):n instanceof gm&&r instanceof gm?Es(n.gt,r.gt):n instanceof mm&&r instanceof mm}(t.transform,e.transform)}class V7{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jg{}function aL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vS(t.key,Vi.none()):new yf(t.key,t.data,Vi.none());{const n=t.data,r=Xr.empty();let i=new Er(wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ha(t.key,r,new li(i.toArray()),Vi.none())}}function q7(t,e,n){t instanceof yf?function(r,i,s){const o=r.value.clone(),a=mN(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ha?function(r,i,s){if(!Rp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mN(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(lL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yd(t,e,n,r){return t instanceof yf?function(i,s,o,a){if(!Rp(i.precondition,s))return o;const l=i.value.clone(),h=gN(i.fieldTransforms,a,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ha?function(i,s,o,a){if(!Rp(i.precondition,s))return o;const l=gN(i.fieldTransforms,a,s),h=s.data;return h.setAll(lL(i)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Rp(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function z7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rL(r.transform,i||null);s!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,s))}return n||null}function pN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Tu(n,r,(i,s)=>U7(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends jg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ha extends jg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mN(t,e,n){const r=new Map;rn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,B7(o,a,n[i]))}return r}function gN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$7(s,o,e))}return r}class vS extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H7 extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=aL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(n,r)=>pN(n,r))&&Tu(this.baseMutations,e.baseMutations,(n,r)=>pN(n,r))}}class yS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rn(e.mutations.length===r.length);let i=P7;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,bt;function K7(t){switch(t){default:return lt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function uL(t){if(t===void 0)return ro("GRPC error has no .code"),me.UNKNOWN;switch(t){case In.OK:return me.OK;case In.CANCELLED:return me.CANCELLED;case In.UNKNOWN:return me.UNKNOWN;case In.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case In.INTERNAL:return me.INTERNAL;case In.UNAVAILABLE:return me.UNAVAILABLE;case In.UNAUTHENTICATED:return me.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case In.NOT_FOUND:return me.NOT_FOUND;case In.ALREADY_EXISTS:return me.ALREADY_EXISTS;case In.PERMISSION_DENIED:return me.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case In.ABORTED:return me.ABORTED;case In.OUT_OF_RANGE:return me.OUT_OF_RANGE;case In.UNIMPLEMENTED:return me.UNIMPLEMENTED;case In.DATA_LOSS:return me.DATA_LOSS;default:return lt()}}(bt=In||(In={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ip}static getOrCreateInstance(){return ip===null&&(ip=new wS),ip}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ip=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new du([4294967295,4294967295],0);function vN(t){const e=Q7().encode(t),n=new t7;return n.update(e),new Uint8Array(n.digest())}function yN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new du([n,r],0),new du([i,s],0)]}class bS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sd(`Invalid padding: ${n}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=du.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(du.fromNumber(r)));return i.compare(X7)===1&&(i=new du([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=vN(e),[r,i]=yN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=vN(e),[r,i]=yN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fg(dt.min(),i,new gn(It),so(),yt())}}class wf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class cL{constructor(e,n){this.targetId=e,this.Vt=n}}class dL{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wN{constructor(){this.St=0,this.Dt=xN(),this.Ct=Tr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yt(),n=yt(),r=yt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new wf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=xN()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class J7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=so(),this.zt=bN(),this.Wt=new gn(It)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ox(o))if(i===0){const a=new Qe(o.path);this.Yt(r,a,yr.newNoDocument(a,dt.min()))}else rn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,h)}(n=wS.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,c,f){var p,m,g,y,w,b;const x={localCacheCount:c,existenceFilterCount:f.count},E=f.unchangedNames;return E&&(x.bloomFilter={applied:h===0,hashCount:(p=E==null?void 0:E.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(g=(m=E==null?void 0:E.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0,padding:(b=(w=E==null?void 0:E.bits)===null||w===void 0?void 0:w.padding)!==null&&b!==void 0?b:0}),x}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,h;try{l=el(s).toUint8Array()}catch(c){if(c instanceof UM)return ku("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{h=new bS(l,o,a)}catch(c){return ku(c instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return h.It===0?1:i!==n-this.oe(e.targetId,h)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ox(a.target)){const l=new Qe(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,yr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=yt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.se(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Fg(e,n,this.Wt,this.jt,r);return this.jt=so(),this.zt=bN(),this.Wt=new gn(It),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new wN,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Er(It),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wN),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function bN(){return new gn(Qe.comparator)}function xN(){return new gn(Qe.comparator)}const Z7={asc:"ASCENDING",desc:"DESCENDING"},ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tz={and:"AND",or:"OR"};class nz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rx(t,e){return t.useProto3Json||Ig(e)?e:{value:e}}function vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rz(t,e){return vm(t,e.toTimestamp())}function ws(t){return rn(!!t),dt.fromTimestamp(function(e){const n=ea(e);return new Vn(n.seconds,n.nanos)}(t))}function xS(t,e){return function(n){return new en(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function hL(t){const e=en.fromString(t);return rn(vL(e)),e}function Px(t,e){return xS(t.databaseId,e.path)}function H0(t,e){const n=hL(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qe(pL(n))}function Mx(t,e){return xS(t.databaseId,e)}function iz(t){const e=hL(t);return e.length===4?en.emptyPath():pL(e)}function Lx(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pL(t){return rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _N(t,e,n){return{name:Px(t,e),fields:n.value.mapValue.fields}}function sz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:lt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(rn(h===void 0||typeof h=="string"),Tr.fromBase64String(h||"")):(rn(h===void 0||h instanceof Uint8Array),Tr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?me.UNKNOWN:uL(l.code);return new Fe(h,l.message||"")}(o);n=new dL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=H0(t,r.document.name),s=ws(r.document.updateTime),o=r.document.createTime?ws(r.document.createTime):dt.min(),a=new Xr({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),h=r.targetIds||[],c=r.removedTargetIds||[];n=new Pp(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=H0(t,r.document),s=r.readTime?ws(r.readTime):dt.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=H0(t,r.document),s=r.removedTargetIds||[];n=new Pp([],s,i,null)}else{if(!("filter"in e))return lt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new G7(i,s),a=r.targetId;n=new cL(a,o)}}return n}function oz(t,e){let n;if(e instanceof yf)n={update:_N(t,e.key,e.value)};else if(e instanceof vS)n={delete:Px(t,e.key)};else if(e instanceof ha)n={update:_N(t,e.key,e.data),updateMask:mz(e.fieldMask)};else{if(!(e instanceof H7))return lt();n={verify:Px(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ud)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw lt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rz(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:lt()}(t,e.precondition)),n}function az(t,e){return t&&t.length>0?(rn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ws(r.updateTime):ws(i);return s.isEqual(dt.min())&&(s=ws(i)),new V7(s,r.transformResults||[])}(n,e))):[]}function lz(t,e){return{documents:[Mx(t,e.path)]}}function uz(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Mx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return gL(Yi.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(c){return{field:tu(c.field),direction:fz(c.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Rx(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function cz(t){let e=iz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=mL(c);return f instanceof Yi&&HM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new fu(nu(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Ig(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,p=c.values||[];return new pm(p,f)}(n.startAt));let h=null;return n.endAt&&(h=function(c){const f=!c.before,p=c.values||[];return new pm(p,f)}(n.endAt)),A7(e,i,o,s,a,"F",l,h)}function dz(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=nu(e.unaryFilter.field);return Mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=nu(e.unaryFilter.field);return Mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nu(e.unaryFilter.field);return Mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nu(e.unaryFilter.field);return Mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(t):t.fieldFilter!==void 0?function(e){return Mn.create(nu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Yi.create(e.compositeFilter.filters.map(n=>mL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(t):lt()}function fz(t){return Z7[t]}function hz(t){return ez[t]}function pz(t){return tz[t]}function tu(t){return{fieldPath:t.canonicalString()}}function nu(t){return wr.fromServerFormat(t.fieldPath)}function gL(t){return t instanceof Mn?function(e){if(e.op==="=="){if(lN(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NAN"}};if(aN(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lN(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NOT_NAN"}};if(aN(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(e.field),op:hz(e.op),value:e.value}}}(t):t instanceof Yi?function(e){const n=e.getFilters().map(r=>gL(r));return n.length===1?n[0]:{compositeFilter:{op:pz(e.op),filters:n}}}(t):lt()}function mz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r,i,s=dt.min(),o=dt.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.fe=e}}function vz(t){const e=cz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.rn=new wz}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Zo.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class wz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Er(en.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Er(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ou(0)}static Mn(){return new Ou(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.changes=new Ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _z=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yd(r.mutation,i,li.empty(),Vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=id();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=so();const o=vd(),a=vd();return n.forEach((l,h)=>{const c=r.get(h.key);i.has(h.key)&&(c===void 0||c.mutation instanceof ha)?s=s.insert(h.key,h):c!==void 0?(o.set(h.key,c.mutation.getFieldMask()),yd(c.mutation,h,c.mutation.getFieldMask(),Vn.now())):o.set(h.key,li.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,c)=>o.set(h,c)),n.forEach((h,c)=>{var f;return a.set(h,new xz(c,(f=o.get(h))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vd();let i=new gn((o,a)=>o-a),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let c=r.get(l)||li.empty();c=a.applyToLocalView(h,c),r.set(l,c);const f=(i.get(a.batchId)||yt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,c=l.value,f=eL();c.forEach(p=>{if(!s.has(p)){const m=aL(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Qe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Se.resolve(Fa());let a=-1,l=s;return o.next(h=>Se.forEach(h,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Se.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,yt())).next(c=>({batchId:a,changes:ZM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=id();return this.indexManager.getCollectionParents(e,i).next(o=>Se.forEach(o,a=>{const l=function(h,c){return new Gu(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,yr.newInvalidDocument(h)))});let o=id();return s.forEach((a,l)=>{const h=i.get(a);h!==void 0&&yd(h.mutation,l,li.empty(),Vn.now()),Mg(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ws(r.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:vz(r.bundledQuery),readTime:ws(r.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.overlays=new gn(Qe.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return Se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,o=new Qe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gn((h,c)=>h-c);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let c=s.get(h.largestBatchId);c===null&&(c=Fa(),s=s.insert(h.largestBatchId,c)),c.set(h.getKey(),h)}}const a=Fa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,c)=>a.set(h,c)),!(a.size()>=i)););return Se.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y7(n,r));let s=this.ls.get(n);s===void 0&&(s=yt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.fs=new Er(Gn.ds),this.ws=new Er(Gn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Gn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Qe(new en([])),r=new Gn(n,e),i=new Gn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Qe(new en([])),r=new Gn(n,e),i=new Gn(n,e+1);let s=yt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Qe.comparator(e.key,n.key)||It(e.As,n.As)}static _s(e,n){return It(e.As,n.As)||Qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Er(Gn.ds)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Er(It);return n.forEach(i=>{const s=new Gn(i,0),o=new Gn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Qe.isDocumentKey(s)||(s=s.child(""));const o=new Gn(new Qe(s),0);let a=new Er(It);return this.Rs.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.As)),!0)},o),Se.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Se.forEach(n.mutations,i=>{const s=new Gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Rs.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.Ds=e,this.docs=new gn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=so();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=so();const o=n.path,a=new Qe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:c}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||h7(f7(c),r)<=0||(i.has(c.key)||Mg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){lt()}Cs(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cz(this)}getSize(e){return Se.resolve(this.size)}}class Cz extends bz{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.persistence=e,this.xs=new Ku(n=>hS(n),pS),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new _S,this.targetCount=0,this.Ms=Ou.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ou(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n){this.$s={},this.overlays={},this.Os=new uS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nz(this),this.indexManager=new yz,this.remoteDocumentCache=function(r){return new Tz(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new gz(n),this.qs=new Sz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ez,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new kz(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new Az(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Az extends m7{constructor(e){super(),this.currentSequenceNumber=e}}class SS{constructor(e){this.persistence=e,this.Qs=new _S,this.js=null}static zs(e){return new SS(e)}get Ws(){if(this.js)return this.js;throw lt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,r=>{const i=Qe.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,dt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=yt(),i=yt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ES(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(fN(n))return Se.resolve(null);let r=io(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dx(n,null,"F"),r=io(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=yt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ji(n,a);return this.zi(n,h,o,l.readTime)?this.Ki(e,Dx(n,null,"F")):this.Wi(e,h,n,l)}))})))}Gi(e,n,r,i){return fN(n)||i.isEqual(dt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(nN()<=Ot.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ix(n)),this.Wi(e,o,n,d7(i,-1)))})}ji(e,n){let r=new Er(XM(e));return n.forEach((i,s)=>{Mg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return nN()<=Ot.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Ix(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new gn(It),this.Yi=new Ku(s=>hS(s),pS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _z(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Rz(t,e,n,r){return new Iz(t,e,n,r)}async function yL(t,e){const n=pt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=yt();for(const h of i){o.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}for(const h of s){a.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(h=>({er:h,removedBatchIds:o,addedBatchIds:a}))})})}function Pz(t,e){const n=pt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,h){const c=l.batch,f=c.keys();let p=Se.resolve();return f.forEach(m=>{p=p.next(()=>h.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);rn(y!==null),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),h.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=yt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wL(t){const e=pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Mz(t,e){const n=pt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Tr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Bs.updateTargetData(s,m))});let l=so(),h=yt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Lz(s,o,e.documentUpdates).next(c=>{l=c.nr,h=c.sr})),!r.isEqual(dt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Lz(t,e,n){let r=yt(),i=yt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=so();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(dt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):We("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{nr:o,sr:i}})}function jz(t,e){const n=pt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fz(t,e){const n=pt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new qo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function jx(t,e,n){const r=pt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vf(o))throw o;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function SN(t,e,n){const r=pt(t);let i=dt.min(),s=yt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,h){const c=pt(a),f=c.Yi.get(h);return f!==void 0?Se.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,h)}(r,o,io(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:dt.min(),n?s:yt())).next(a=>($z(r,D7(e),a),{documents:a,ir:s})))}function $z(t,e,n){let r=t.Xi.get(e)||dt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class EN{constructor(){this.activeTargetIds=j7()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bz{constructor(){this.Hr=new EN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp=null;function W0(){return sp===null?sp=268435456+Math.round(2147483648*Math.random()):sp++,"0x"+sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class zz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=W0(),a=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(h=>(We("RestConnection",`Received RPC '${e}' ${o}: `,h),h),h=>{throw ku("RestConnection",`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=Vz[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=W0();return new Promise((o,a)=>{const l=new e7;l.setWithCredentials(!0),l.listenOnce(Xq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case z0.NO_ERROR:const c=l.getResponseJson();We(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case z0.TIMEOUT:We(mr,`RPC '${e}' ${s} timed out`),a(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case z0.HTTP_ERROR:const f=l.getStatus();if(We(mr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(m.status);a(new Fe(g,m.message))}else a(new Fe(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{We(mr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);We(mr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Ro(e,n,r){const i=W0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kq(),a=Qq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new Zq({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");We(mr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,m=!1;const g=new qz({ro:w=>{m?We(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(We(mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),We(mr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},oo:()=>f.close()}),y=(w,b,x)=>{w.listen(b,E=>{try{x(E)}catch(S){setTimeout(()=>{throw S},0)}})};return y(f,tp.EventType.OPEN,()=>{m||We(mr,`RPC '${e}' stream ${i} transport opened.`)}),y(f,tp.EventType.CLOSE,()=>{m||(m=!0,We(mr,`RPC '${e}' stream ${i} transport closed`),g.wo())}),y(f,tp.EventType.ERROR,w=>{m||(m=!0,ku(mr,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),y(f,tp.EventType.MESSAGE,w=>{var b;if(!m){const x=w.data[0];rn(!!x);const E=x,S=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(S){We(mr,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let N=function(C){const I=In[C];if(I!==void 0)return uL(I)}(k),O=S.message;N===void 0&&(N=me.INTERNAL,O="Unknown error status: "+k+" with message "+S.message),m=!0,g.wo(new Fe(N,O)),f.close()}else We(mr,`RPC '${e}' stream ${i} received:`,x),g._o(x)}}),y(a,Jq.STAT_EVENT,w=>{w.stat===eN.PROXY?We(mr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===eN.NOPROXY&&We(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function Y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return new nz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bL(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ro(n.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hz extends xL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=sz(this.serializer,e),r=function(i){if(!("targetChange"in i))return dt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?dt.min():s.readTime?ws(s.readTime):dt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Lx(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ox(a)?{documents:lz(i,a)}:{query:uz(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=fL(i,s.resumeToken);const l=Rx(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(dt.min())>0){o.readTime=vm(i,s.snapshotVersion.toTimestamp());const l=Rx(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=dz(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Lx(this.serializer),n.removeTarget=e,this.Wo(n)}}class Wz extends xL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=az(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.cu(r,n)}return rn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Lx(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oz(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Gz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ro(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{xl(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pt(a);l.vu.add(4),await bf(l),l.bu.set("Unknown"),l.vu.delete(4),await Bg(l)}(this))})}),this.bu=new Gz(r,i)}}async function Bg(t){if(xl(t))for(const e of t.Ru)await e(!0)}async function bf(t){for(const e of t.Ru)await e(!1)}function _L(t,e){const n=pt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),CS(n)?TS(n):Qu(n).Ko()&&kS(n,e))}function SL(t,e){const n=pt(t),r=Qu(n);n.Au.delete(e),r.Ko()&&EL(n,e),n.Au.size===0&&(r.Ko()?r.jo():xl(n)&&n.bu.set("Unknown"))}function kS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qu(t).su(e)}function EL(t,e){t.Vu.qt(e),Qu(t).iu(e)}function TS(t){t.Vu=new J7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Qu(t).start(),t.bu.gu()}function CS(t){return xl(t)&&!Qu(t).Uo()&&t.Au.size>0}function xl(t){return pt(t).vu.size===0}function kL(t){t.Vu=void 0}async function Qz(t){t.Au.forEach((e,n)=>{kS(t,e)})}async function Xz(t,e){kL(t),CS(t)?(t.bu.Iu(e),TS(t)):t.bu.set("Unknown")}async function Jz(t,e,n){if(t.bu.set("Online"),e instanceof dL&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ym(t,r)}else if(e instanceof Pp?t.Vu.Ht(e):e instanceof cL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(dt.min()))try{const r=await wL(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.Au.get(l);h&&i.Au.set(l,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const h=i.Au.get(a);if(!h)return;i.Au.set(a,h.withResumeToken(Tr.EMPTY_BYTE_STRING,h.snapshotVersion)),EL(i,a);const c=new qo(h.target,a,l,h.sequenceNumber);kS(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await ym(t,r)}}async function ym(t,e,n){if(!vf(e))throw e;t.vu.add(1),await bf(t),t.bu.set("Offline"),n||(n=()=>wL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Bg(t)})}function TL(t,e){return e().catch(n=>ym(t,n,e))}async function Ug(t){const e=pt(t),n=ta(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Zz(e);)try{const i=await jz(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,eH(e,i)}catch(i){await ym(e,i)}CL(e)&&NL(e)}function Zz(t){return xl(t)&&t.Eu.length<10}function eH(t,e){t.Eu.push(e);const n=ta(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function CL(t){return xl(t)&&!ta(t).Uo()&&t.Eu.length>0}function NL(t){ta(t).start()}async function tH(t){ta(t).hu()}async function nH(t){const e=ta(t);for(const n of t.Eu)e.uu(n.mutations)}async function rH(t,e,n){const r=t.Eu.shift(),i=yS.from(r,e,n);await TL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ug(t)}async function iH(t,e){e&&ta(t).ou&&await async function(n,r){if(i=r.code,K7(i)&&i!==me.ABORTED){const s=n.Eu.shift();ta(n).Qo(),await TL(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ug(n)}var i}(t,e),CL(t)&&NL(t)}async function TN(t,e){const n=pt(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=xl(n);n.vu.add(3),await bf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Bg(n)}async function sH(t,e){const n=pt(t);e?(n.vu.delete(2),await Bg(n)):e||(n.vu.add(2),await bf(n),n.bu.set("Unknown"))}function Qu(t){return t.Su||(t.Su=function(e,n,r){const i=pt(e);return i.fu(),new Hz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Qz.bind(null,t),ao:Xz.bind(null,t),nu:Jz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),CS(t)?TS(t):t.bu.set("Unknown")):(await t.Su.stop(),kL(t))})),t.Su}function ta(t){return t.Du||(t.Du=function(e,n,r){const i=pt(e);return i.fu(),new Wz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tH.bind(null,t),ao:iH.bind(null,t),au:nH.bind(null,t),cu:rH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ug(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new NS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OS(t,e){if(ro("AsyncQueue",`${e}: ${t}`),vf(t))return new Fe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=id(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new pu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Cu=new gn(Qe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):lt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Au{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Au(e,n,pu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.Nu=void 0,this.listeners=[]}}class aH{constructor(){this.queries=new Ku(e=>QM(e),Pg),this.onlineState="Unknown",this.ku=new Set}}async function lH(t,e){const n=pt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new oH),i)try{s.Nu=await n.onListen(r)}catch(o){const a=OS(o,`Initialization of query '${Ix(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&AS(n)}async function uH(t,e){const n=pt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cH(t,e){const n=pt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&AS(n)}function dH(t,e,n){const r=pt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function AS(t){t.ku.forEach(e=>{e.next()})}class fH{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.key=e}}class AL{constructor(e){this.key=e}}class hH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yt(),this.mutatedKeys=yt(),this.tc=XM(e),this.ec=new pu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new CN,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=Mg(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.rc(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.tc(m,l)>0||h&&this.tc(m,h)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||h)&&(a=!0)),w&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((h,c)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return m(f)-m(p)}(h.type,c.type)||this.tc(h.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Au(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new CN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new AL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new OL(r))}),n}hc(e){this.Yu=e.ir,this.Zu=yt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class pH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mH{constructor(e){this.key=e,this.fc=!1}}class gH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ku(a=>QM(a),Pg),this._c=new Map,this.mc=new Set,this.gc=new gn(Qe.comparator),this.yc=new Map,this.Ic=new _S,this.Tc={},this.Ec=new Map,this.Ac=Ou.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function vH(t,e){const n=CH(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Fz(n.localStore,io(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await yH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&_L(n.remoteStore,o)}return i}async function yH(t,e,n,r,i){t.Rc=(f,p,m)=>async function(g,y,w,b){let x=y.view.sc(w);x.zi&&(x=await SN(g.localStore,y.query,!1).then(({documents:k})=>y.view.sc(k,x)));const E=b&&b.targetChanges.get(y.targetId),S=y.view.applyChanges(x,g.isPrimaryClient,E);return ON(g,y.targetId,S.cc),S.snapshot}(t,f,p,m);const s=await SN(t.localStore,e,!0),o=new hH(e,s.ir),a=o.sc(s.documents),l=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);ON(t,n,h.cc);const c=new pH(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),h.snapshot}async function wH(t,e){const n=pt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Pg(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jx(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),SL(n.remoteStore,r.targetId),Fx(n,r.targetId)}).catch(gf)):(Fx(n,r.targetId),await jx(n.localStore,r.targetId,!0))}async function bH(t,e,n){const r=NH(t);try{const i=await function(s,o){const a=pt(s),l=Vn.now(),h=o.reduce((p,m)=>p.add(m.key),yt());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=so(),g=yt();return a.Zi.getEntries(p,h).next(y=>{m=y,m.forEach((w,b)=>{b.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(y=>{c=y;const w=[];for(const b of o){const x=z7(b,c.get(b.key).overlayedDocument);x!=null&&w.push(new ha(b.key,x,VM(x.value.mapValue),Vi.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,w,o)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:ZM(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new gn(It)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await xf(r,i.changes),await Ug(r.remoteStore)}catch(i){const s=OS(i,"Failed to persist write");n.reject(s)}}async function DL(t,e){const n=pt(t);try{const r=await Mz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?rn(o.fc):i.removedDocuments.size>0&&(rn(o.fc),o.fc=!1))}),await xf(n,r,e)}catch(r){await gf(r)}}function NN(t,e,n){const r=pt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=pt(s);a.onlineState=o;let l=!1;a.queries.forEach((h,c)=>{for(const f of c.listeners)f.Mu(o)&&(l=!0)}),l&&AS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xH(t,e,n){const r=pt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new gn(Qe.comparator);o=o.insert(s,yr.newNoDocument(s,dt.min()));const a=yt().add(s),l=new Fg(dt.min(),new Map,new gn(It),o,a);await DL(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),DS(r)}else await jx(r.localStore,e,!1).then(()=>Fx(r,e,n)).catch(gf)}async function _H(t,e){const n=pt(t),r=e.batch.batchId;try{const i=await Pz(n.localStore,e);RL(n,r,null),IL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,i)}catch(i){await gf(i)}}async function SH(t,e,n){const r=pt(t);try{const i=await function(s,o){const a=pt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(rn(c!==null),h=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(r.localStore,e);RL(r,e,n),IL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,i)}catch(i){await gf(i)}}function IL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function RL(t,e,n){const r=pt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Fx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||PL(t,r)})}function PL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(SL(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),DS(t))}function ON(t,e,n){for(const r of n)r instanceof OL?(t.Ic.addReference(r.key,e),EH(t,r)):r instanceof AL?(We("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||PL(t,r.key)):lt()}function EH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(We("SyncEngine","New document in limbo: "+n),t.mc.add(r),DS(t))}function DS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Qe(en.fromString(e)),r=t.Ac.next();t.yc.set(r,new mH(n)),t.gc=t.gc.insert(n,r),_L(t.remoteStore,new qo(io(mS(n.path)),r,"TargetPurposeLimboResolution",uS.ct))}}async function xf(t,e,n){const r=pt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const c=ES.Li(l.targetId,h);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const h=pt(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(l,f=>Se.forEach(f.Fi,p=>h.persistence.referenceDelegate.addReference(c,f.targetId,p)).next(()=>Se.forEach(f.Bi,p=>h.persistence.referenceDelegate.removeReference(c,f.targetId,p)))))}catch(c){if(!vf(c))throw c;We("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const p=h.Ji.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.Ji=h.Ji.insert(f,g)}}}(r.localStore,s))}async function kH(t,e){const n=pt(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await yL(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Fe(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.er)}}function TH(t,e){const n=pt(t),r=n.yc.get(e);if(r&&r.fc)return yt().add(r.key);{let i=yt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function CH(t){const e=pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xH.bind(null,e),e.dc.nu=cH.bind(null,e.eventManager),e.dc.Pc=dH.bind(null,e.eventManager),e}function NH(t){const e=pt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_H.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SH.bind(null,e),e}class AN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$g(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Rz(this.persistence,new Dz,e.initialUser,this.serializer)}createPersistence(e){return new Oz(SS.zs,this.serializer)}createSharedClientState(e){return new Bz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OH{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kH.bind(null,this.syncEngine),await sH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aH}createDatastore(e){const n=$g(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new zz(i));var i;return function(s,o,a,l){return new Yz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>NN(this.syncEngine,a,0),o=kN.D()?new kN:new Uz,new Kz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,h){const c=new gH(r,i,s,o,a,l);return h&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pt(e);We("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await bf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=$M.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{We("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(We("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=OS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function G0(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RH(t);We("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TN(e.remoteStore,s)),t._onlineComponents=e}function IH(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function RH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await G0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!IH(n))throw n;ku("Error using user provided cache. Falling back to memory cache: "+n),await G0(t,new AN)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await G0(t,new AN);return t._offlineComponents}async function ML(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await DN(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await DN(t,new OH))),t._onlineComponents}function PH(t){return ML(t).then(e=>e.syncEngine)}async function IN(t){const e=await ML(t),n=e.eventManager;return n.onListen=vH.bind(null,e.syncEngine),n.onUnlisten=wH.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e,n){if(!n)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MH(t,e,n,r){if(e===!0&&r===!0)throw new Fe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PN(t){if(!Qe.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MN(t){if(Qe.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt()}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vg(t);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class qg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LN(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new n7;switch(n.type){case"firstParty":return new o7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=RN.get(e);n&&(We("ComponentProvider","Removing Datastore"),RN.delete(e),n.terminate())}(this),Promise.resolve()}}function LH(t,e,n,r={}){var i;const s=(t=Ys(t,qg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vr.MOCK_USER;else{a=YR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vr(h)}t._authCredentials=new r7(new FM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class _l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class Qo extends _l{constructor(e,n,r){super(e,n,mS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Qe(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function FL(t,e,...n){if(t=Pt(t),jL("collection","path",e),t instanceof qg){const r=en.fromString(e,...n);return MN(r),new Qo(t,null,r)}{if(!(t instanceof Fr||t instanceof Qo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return MN(r),new Qo(t.firestore,null,r)}}function dn(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=$M.A()),jL("doc","path",e),t instanceof qg){const r=en.fromString(e,...n);return PN(r),new Fr(t,null,new Qe(r))}{if(!(t instanceof Fr||t instanceof Qo))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return PN(r),new Fr(t.firestore,t instanceof Qo?t.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bL(this,"async_queue_retry"),this.Xc=()=>{const n=Y0();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Y0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Y0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new za;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!vf(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ro("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=NS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&lt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function jN(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Du extends qg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BL(this),this._firestoreClient.terminate()}}function FH(t,e){const n=rf(),r="(default)",i=aa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=O_("firestore");s&&LH(i,...s)}return i}function $L(t){return t._firestoreClient||BL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BL(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,h){return new y7(o,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new DH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Iu(Tr.fromBase64String(e))}catch(n){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Iu(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=/^__.*__$/;class BH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class UL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class PS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new PS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(VL(this.ca)&&$H.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class UH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$g(e)}ya(e,n,r,i=!1){return new PS({ca:e,methodName:n,ga:r,path:wr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MS(t){const e=t._freezeSettings(),n=$g(t._databaseId);return new UH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VH(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);LS("Data must be an object, but it was:",o,r);const a=qL(r,o);let l,h;if(s.merge)l=new li(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=$x(e,f,n);if(!o.contains(p))throw new Fe(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);HL(c,p)||c.push(p)}l=new li(c),h=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=o.fieldTransforms;return new BH(new Xr(a),l,h)}class Hg extends IS{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hg}}function qH(t,e,n,r){const i=t.ya(1,e,n);LS("Data must be an object, but it was:",i,r);const s=[],o=Xr.empty();bl(r,(l,h)=>{const c=jS(e,l,n);h=Pt(h);const f=i.da(c);if(h instanceof Hg)s.push(c);else{const p=_f(h,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new li(s);return new UL(o,a,i.fieldTransforms)}function zH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[$x(e,r,n)],l=[i];if(s.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push($x(e,s[p])),l.push(s[p+1]);const h=[],c=Xr.empty();for(let p=a.length-1;p>=0;--p)if(!HL(h,a[p])){const m=a[p];let g=l[p];g=Pt(g);const y=o.da(m);if(g instanceof Hg)h.push(m);else{const w=_f(g,y);w!=null&&(h.push(m),c.set(m,w))}}const f=new li(h);return new UL(c,f,o.fieldTransforms)}function HH(t,e,n,r=!1){return _f(n,t.ya(r?4:3,e))}function _f(t,e){if(zL(t=Pt(t)))return LS("Unsupported field value:",e,t),qL(t,e);if(t instanceof IS)return function(n,r){if(!VL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=_f(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return F7(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Vn.fromDate(n);return{timestampValue:vm(r.serializer,i)}}if(n instanceof Vn){const i=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vm(r.serializer,i)}}if(n instanceof RS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Iu)return{bytesValue:fL(r.serializer,n._byteString)};if(n instanceof Fr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Vg(n)}`)}(t,e)}function qL(t,e){const n={};return BM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(r,i)=>{const s=_f(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof RS||t instanceof Iu||t instanceof Fr||t instanceof IS)}function LS(t,e,n){if(!zL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Vg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function $x(t,e,n){if((e=Pt(e))instanceof zg)return e._internalPath;if(typeof e=="string")return jS(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const WH=new RegExp("[~\\*/\\[\\]]");function jS(t,e,n){if(e.search(WH)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zg(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Fe(me.INVALID_ARGUMENT,a+t+l)}function HL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YH extends WL{data(){return super.data()}}function Wg(t,e){return typeof e=="string"?jS(t,e):e instanceof zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FS{}class YL extends FS{}function K0(t,e,...n){let r=[];e instanceof FS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof $S).length,o=i.filter(a=>a instanceof Yg).length;if(s>1||s>0&&o>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yg extends YL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){const n=this._parse(e);return GL(e._query,n),new _l(e.firestore,e.converter,Ax(e._query,n))}_parse(e){const n=MS(e.firestore);return function(i,s,o,a,l,h,c){let f;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){BN(c,h);const p=[];for(const m of c)p.push($N(a,i,m));f={arrayValue:{values:p}}}else f=$N(a,i,c)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||BN(c,h),f=HH(o,s,c,h==="in"||h==="not-in");return Mn.create(l,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FN(t,e,n){const r=e,i=Wg("where",t);return Yg._create(i,r,n)}class $S extends FS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $S(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)GL(s,a),s=Ax(s,a)}(e._query,n),new _l(e.firestore,e.converter,Ax(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class BS extends YL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new BS(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new fu(i,s);return function(a,l){if(gS(a)===null){const h=Rg(a);h!==null&&KL(a,h,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new _l(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Gu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function KH(t,e="asc"){const n=e,r=Wg("orderBy",t);return BS._create(r,n)}function $N(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KM(e)&&n.indexOf("/")!==-1)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(en.fromString(n));if(!Qe.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oN(t,new Qe(r))}if(n instanceof Fr)return oN(t,n._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vg(n)}.`)}function BN(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GL(t,e){if(e.isInequality()){const r=Rg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=gS(t);s!==null&&KL(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function KL(t,e,n){if(!n.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class QH{convertValue(e,n="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new RS(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=ea(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);rn(vL(r));const i=new $d(r.get(1),r.get(3)),s=new Qe(r.popFirst(5));return i.isEqual(n)||ro(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QL extends WL{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mp extends QL{data(e={}){return super.data(e)}}class JH{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mp(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Mp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new od(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Mp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new od(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:ZH(o.type),doc:a,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}class XL extends QH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,n)}}function ks(t,e,n){t=Ys(t,Fr);const r=Ys(t.firestore,Du),i=XH(t.converter,e);return US(r,[VH(MS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vi.none())])}function kn(t,e,n,...r){t=Ys(t,Fr);const i=Ys(t.firestore,Du),s=MS(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof zg?zH(s,"updateDoc",t._key,e,n,r):qH(s,"updateDoc",t._key,e),US(i,[o.toMutation(t._key,Vi.exists(!0))])}function Gg(t){return US(Ys(t.firestore,Du),[new vS(t._key,Vi.none())])}function JL(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||jN(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(jN(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,h,c;if(t instanceof Fr)h=Ys(t.firestore,Du),c=mS(t._key.path),l={next:f=>{e[o]&&e[o](eW(h,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ys(t,_l);h=Ys(f.firestore,Du),c=f._query;const p=new XL(h);l={next:m=>{e[o]&&e[o](new JH(h,p,f,m))},error:e[o+1],complete:e[o+2]},GH(t._query)}return function(f,p,m,g){const y=new AH(g),w=new fH(p,y,m);return f.asyncQueue.enqueueAndForget(async()=>lH(await IN(f),w)),()=>{y.Dc(),f.asyncQueue.enqueueAndForget(async()=>uH(await IN(f),w))}}($L(h),c,a,l)}function US(t,e){return function(n,r){const i=new za;return n.asyncQueue.enqueueAndForget(async()=>bH(await PH(n),r,i)),i.promise}($L(t),e)}function eW(t,e,n){const r=n.docs.get(e._key),i=new XL(t);return new QL(t,i,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Yu=n})(vl),Ni(new fi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Du(new i7(n.getProvider("auth-internal")),new l7(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xr(tN,"3.13.0",t),xr(tN,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="type.googleapis.com/google.protobuf.Int64Value",nW="type.googleapis.com/google.protobuf.UInt64Value";function ZL(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Bx(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Bx(e));if(typeof t=="function"||typeof t=="object")return ZL(t,e=>Bx(e));throw new Error("Data cannot be encoded in JSON: "+t)}function bm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case tW:case nW:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>bm(e)):typeof t=="function"||typeof t=="object"?ZL(t,e=>bm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mu extends Oi{constructor(e,n,r){super(`${VS}/${e}`,n||""),this.details=r}}function rW(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function iW(t,e){let n=rW(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!UN[o])return new mu("internal","internal");n=UN[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=bm(i))}}catch{}return n==="ok"?null:new mu(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="us-central1";function oW(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new mu("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class aW{constructor(e,n,r,i,s=Ux,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new sW(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=Ux}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function lW(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function uW(t,e,n){return r=>dW(t,e,r,{})}async function cW(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function dW(t,e,n,r){const i=t._url(e);return fW(t,i,n,r)}async function fW(t,e,n,r){n=Bx(n);const i={data:n},s={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=oW(a),h=await Promise.race([cW(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!h)throw new mu("cancelled","Firebase Functions instance was deleted.");const c=iW(h.status,h.json);if(c)throw c;if(!h.json)throw new mu("internal","Response is not valid JSON object.");let f=h.json.data;if(typeof f>"u"&&(f=h.json.result),typeof f>"u")throw new mu("internal","Response is missing data field.");return{data:bm(f)}}const VN="@firebase/functions",qN="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW="auth-internal",pW="app-check-internal",mW="messaging-internal";function gW(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(hW),a=r.getProvider(mW),l=r.getProvider(pW);return new aW(s,o,a,l,i,t)};Ni(new fi(VS,n,"PUBLIC").setMultipleInstances(!0)),xr(VN,qN,e),xr(VN,qN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t=rf(),e=Ux){const r=aa(Pt(t),VS).getImmediate({identifier:e}),i=O_("functions");return i&&yW(r,...i),r}function yW(t,e,n){lW(Pt(t),e,n)}function e4(t,e,n){return uW(Pt(t),e)}gW(fetch.bind(self));const wW=(t,e)=>e.some(n=>t instanceof n);let zN,HN;function bW(){return zN||(zN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xW(){return HN||(HN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t4=new WeakMap,Vx=new WeakMap,n4=new WeakMap,Q0=new WeakMap,qS=new WeakMap;function _W(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&t4.set(n,t)}).catch(()=>{}),qS.set(e,t),e}function SW(t){if(Vx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vx.set(t,e)}let qx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EW(t){qx=t(qx)}function kW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(X0(this),e,...n);return n4.set(r,e.sort?e.sort():[e]),Xo(r)}:xW().includes(t)?function(...e){return t.apply(X0(this),e),Xo(t4.get(this))}:function(...e){return Xo(t.apply(X0(this),e))}}function TW(t){return typeof t=="function"?kW(t):(t instanceof IDBTransaction&&SW(t),wW(t,bW())?new Proxy(t,qx):t)}function Xo(t){if(t instanceof IDBRequest)return _W(t);if(Q0.has(t))return Q0.get(t);const e=TW(t);return e!==t&&(Q0.set(t,e),qS.set(e,t)),e}const X0=t=>qS.get(t);function CW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xo(o.result),l.oldVersion,l.newVersion,Xo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const NW=["get","getKey","getAll","getAllKeys","count"],OW=["put","add","delete","clear"],J0=new Map;function WN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J0.get(e))return J0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NW.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return J0.set(e,s),s}EW(t=>({...t,get:(e,n,r)=>WN(e,n)||t.get(e,n,r),has:(e,n)=>!!WN(e,n)||t.has(e,n)}));const r4="@firebase/installations",zS="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1e4,s4=`w:${zS}`,o4="FIS_v2",AW="https://firebaseinstallations.googleapis.com/v1",DW=60*60*1e3,IW="installations",RW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nl=new gl(IW,RW,PW);function a4(t){return t instanceof Oi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4({projectId:t}){return`${AW}/projects/${t}/installations`}function u4(t){return{token:t.token,requestStatus:2,expiresIn:LW(t.expiresIn),creationTime:Date.now()}}async function c4(t,e){const r=(await e.json()).error;return nl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function d4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MW(t,{refreshToken:e}){const n=d4(t);return n.append("Authorization",jW(e)),n}async function f4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function LW(t){return Number(t.replace("s","000"))}function jW(t){return`${o4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=l4(t),i=d4(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:o4,appId:t.appId,sdkVersion:s4},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await f4(()=>fetch(r,a));if(l.ok){const h=await l.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:u4(h.authToken)}}else throw await c4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=/^[cdef][\w-]{21}$/,zx="";function UW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=VW(t);return BW.test(n)?n:zx}catch{return zx}}function VW(t){return $W(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;function m4(t,e){const n=Kg(t);g4(n,e),qW(n,e)}function g4(t,e){const n=p4.get(t);if(n)for(const r of n)r(e)}function qW(t,e){const n=zW();n&&n.postMessage({key:t,fid:e}),HW()}let $a=null;function zW(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=t=>{g4(t.data.key,t.data.fid)}),$a}function HW(){p4.size===0&&$a&&($a.close(),$a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="firebase-installations-database",YW=1,rl="firebase-installations-store";let Z0=null;function HS(){return Z0||(Z0=CW(WW,YW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),Z0}async function xm(t,e){const n=Kg(t),i=(await HS()).transaction(rl,"readwrite"),s=i.objectStore(rl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&m4(t,e.fid),e}async function v4(t){const e=Kg(t),r=(await HS()).transaction(rl,"readwrite");await r.objectStore(rl).delete(e),await r.done}async function Qg(t,e){const n=Kg(t),i=(await HS()).transaction(rl,"readwrite"),s=i.objectStore(rl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&m4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t){let e;const n=await Qg(t.appConfig,r=>{const i=GW(r),s=KW(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===zx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GW(t){const e=t||{fid:UW(),registrationStatus:0};return y4(e)}function KW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(nl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=QW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XW(t)}:{installationEntry:e}}async function QW(t,e){try{const n=await FW(t,e);return xm(t.appConfig,n)}catch(n){throw a4(n)&&n.customData.serverCode===409?await v4(t.appConfig):await xm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XW(t){let e=await YN(t.appConfig);for(;e.registrationStatus===1;)await h4(100),e=await YN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await WS(t);return r||n}return e}function YN(t){return Qg(t,e=>{if(!e)throw nl.create("installation-not-found");return y4(e)})}function y4(t){return JW(t)?{fid:t.fid,registrationStatus:0}:t}function JW(t){return t.registrationStatus===1&&t.registrationTime+i4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW({appConfig:t,heartbeatServiceProvider:e},n){const r=eY(t,n),i=MW(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:s4,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await f4(()=>fetch(r,a));if(l.ok){const h=await l.json();return u4(h)}else throw await c4("Generate Auth Token",l)}function eY(t,{fid:e}){return`${l4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e=!1){let n;const r=await Qg(t.appConfig,s=>{if(!w4(s))throw nl.create("not-registered");const o=s.authToken;if(!e&&rY(o))return s;if(o.requestStatus===1)return n=tY(t,e),s;{if(!navigator.onLine)throw nl.create("app-offline");const a=sY(s);return n=nY(t,a),a}});return n?await n:r.authToken}async function tY(t,e){let n=await GN(t.appConfig);for(;n.authToken.requestStatus===1;)await h4(100),n=await GN(t.appConfig);const r=n.authToken;return r.requestStatus===0?YS(t,e):r}function GN(t){return Qg(t,e=>{if(!w4(e))throw nl.create("not-registered");const n=e.authToken;return oY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nY(t,e){try{const n=await ZW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xm(t.appConfig,r),n}catch(n){if(a4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xm(t.appConfig,r)}throw n}}function w4(t){return t!==void 0&&t.registrationStatus===2}function rY(t){return t.requestStatus===2&&!iY(t)}function iY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+DW}function sY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oY(t){return t.requestStatus===1&&t.requestTime+i4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t){const e=t,{installationEntry:n,registrationPromise:r}=await WS(e);return r?r.catch(console.error):YS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lY(t,e=!1){const n=t;return await uY(n),(await YS(n,e)).token}async function uY(t){const{registrationPromise:e}=await WS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t){if(!t||!t.options)throw ew("App Configuration");if(!t.name)throw ew("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ew(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ew(t){return nl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="installations",dY="installations-internal",fY=t=>{const e=t.getProvider("app").getImmediate(),n=cY(e),r=aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hY=t=>{const e=t.getProvider("app").getImmediate(),n=aa(e,b4).getImmediate();return{getId:()=>aY(n),getToken:i=>lY(n,i)}};function pY(){Ni(new fi(b4,fY,"PUBLIC")),Ni(new fi(dY,hY,"PRIVATE"))}pY();xr(r4,zS);xr(r4,zS,"esm2017");const mY=(t,e)=>e.some(n=>t instanceof n);let KN,QN;function gY(){return KN||(KN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vY(){return QN||(QN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x4=new WeakMap,Hx=new WeakMap,_4=new WeakMap,tw=new WeakMap,GS=new WeakMap;function yY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x4.set(n,t)}).catch(()=>{}),GS.set(e,t),e}function wY(t){if(Hx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hx.set(t,e)}let Wx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bY(t){Wx=t(Wx)}function xY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nw(this),e,...n);return _4.set(r,e.sort?e.sort():[e]),Gs(r)}:vY().includes(t)?function(...e){return t.apply(nw(this),e),Gs(x4.get(this))}:function(...e){return Gs(t.apply(nw(this),e))}}function _Y(t){return typeof t=="function"?xY(t):(t instanceof IDBTransaction&&wY(t),mY(t,gY())?new Proxy(t,Wx):t)}function Gs(t){if(t instanceof IDBRequest)return yY(t);if(tw.has(t))return tw.get(t);const e=_Y(t);return e!==t&&(tw.set(t,e),GS.set(e,t)),e}const nw=t=>GS.get(t);function S4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function rw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Gs(n).then(()=>{})}const SY=["get","getKey","getAll","getAllKeys","count"],EY=["put","add","delete","clear"],iw=new Map;function XN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iw.get(e))return iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return iw.set(e,s),s}bY(t=>({...t,get:(e,n,r)=>XN(e,n)||t.get(e,n,r),has:(e,n)=>!!XN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="/firebase-messaging-sw.js",TY="/firebase-cloud-messaging-push-scope",E4="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",CY="https://fcmregistrations.googleapis.com/v1",k4="google.c.a.c_id",NY="google.c.a.c_l",OY="google.c.a.ts",AY="google.c.a.e";var JN;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(JN||(JN={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var qd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(qd||(qd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function DY(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="fcm_token_details_db",IY=5,ZN="fcm_token_object_Store";async function RY(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(sw))return null;let e=null;return(await S4(sw,IY,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(ZN))return;const l=o.objectStore(ZN),h=await l.index("fcmSenderId").get(t);if(await l.clear(),!!h){if(i===2){const c=h;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Us(c.vapidKey)}}}else if(i===3){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Us(c.auth),p256dh:Us(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Us(c.vapidKey)}}}else if(i===4){const c=h;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Us(c.auth),p256dh:Us(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Us(c.vapidKey)}}}}}})).close(),await rw(sw),await rw("fcm_vapid_details_db"),await rw("undefined"),PY(e)?e:null}function PY(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY="firebase-messaging-database",LY=1,il="firebase-messaging-store";let ow=null;function KS(){return ow||(ow=S4(MY,LY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),ow}async function T4(t){const e=XS(t),r=await(await KS()).transaction(il).objectStore(il).get(e);if(r)return r;{const i=await RY(t.appConfig.senderId);if(i)return await QS(t,i),i}}async function QS(t,e){const n=XS(t),i=(await KS()).transaction(il,"readwrite");return await i.objectStore(il).put(e,n),await i.done,e}async function jY(t){const e=XS(t),r=(await KS()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}function XS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},$r=new gl("messaging","Messaging",FY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y(t,e){const n=await ZS(t),r=N4(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(JS(t.appConfig),i)).json()}catch(o){throw $r.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw $r.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw $r.create("token-subscribe-no-token");return s.token}async function BY(t,e){const n=await ZS(t),r=N4(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${JS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw $r.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw $r.create("token-update-failed",{errorInfo:o})}if(!s.token)throw $r.create("token-update-no-token");return s.token}async function C4(t,e){const r={method:"DELETE",headers:await ZS(t)};try{const s=await(await fetch(`${JS(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw $r.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw $r.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function JS({projectId:t}){return`${CY}/projects/${t}/registrations`}async function ZS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function N4({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==E4&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=7*24*60*60*1e3;async function VY(t){const e=await HY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Us(e.getKey("auth")),p256dh:Us(e.getKey("p256dh"))},r=await T4(t.firebaseDependencies);if(r){if(WY(r.subscriptionOptions,n))return Date.now()>=r.createTime+UY?zY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await C4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return eO(t.firebaseDependencies,n)}else return eO(t.firebaseDependencies,n)}async function qY(t){const e=await T4(t.firebaseDependencies);e&&(await C4(t.firebaseDependencies,e.token),await jY(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function zY(t,e){try{const n=await BY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await QS(t.firebaseDependencies,r),n}catch(n){throw await qY(t),n}}async function eO(t,e){const r={token:await $Y(t,e),createTime:Date.now(),subscriptionOptions:e};return await QS(t,r),r.token}async function HY(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:DY(e)})}function WY(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return YY(e,t),GY(e,t),KY(e,t),e}function YY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function GY(t,e){e.data&&(t.data=e.data)}function KY(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){return typeof t=="object"&&!!t&&k4 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */O4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");O4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function O4(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t){if(!t||!t.options)throw aw("App Configuration Object");if(!t.name)throw aw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw aw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function aw(t){return $r.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=XY(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t){try{t.swRegistration=await navigator.serviceWorker.register(kY,{scope:TY}),t.swRegistration.update().catch(()=>{})}catch(e){throw $r.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e){if(!e&&!t.swRegistration&&await ZY(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw $r.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=E4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){if(!navigator)throw $r.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw $r.create("permission-blocked");return await tG(t,e==null?void 0:e.vapidKey),await eG(t,e==null?void 0:e.serviceWorkerRegistration),VY(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e,n){const r=rG(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[k4],message_name:n[NY],message_time:n[OY],message_device_time:Math.floor(Date.now()/1e3)})}function rG(t){switch(t){case qd.NOTIFICATION_CLICKED:return"notification_open";case qd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===qd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(tO(n)):t.onMessageHandler.next(tO(n)));const r=n.data;QY(r)&&r[AY]==="1"&&await nG(t,n.messageType,r)}const nO="@firebase/messaging",rO="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=t=>{const e=new JY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>iG(e,n)),e},oG=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>A4(e,r)}};function aG(){Ni(new fi("messaging",sG,"PUBLIC")),Ni(new fi("messaging-internal",oG,"PRIVATE")),xr(nO,rO),xr(nO,rO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(){try{await KR()}catch{return!1}return typeof window<"u"&&GR()&&T9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t=rf()){return lG().then(e=>{if(!e)throw $r.create("unsupported-browser")},e=>{throw $r.create("indexed-db-unsupported")}),aa(Pt(t),"messaging").getImmediate()}async function cG(t,e){return t=Pt(t),A4(t,e)}aG();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="firebasestorage.googleapis.com",I4="storageBucket",dG=2*60*1e3,fG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends Oi{constructor(e,n,r=0){super(lw(e),`Firebase Storage: ${n} (${lw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bn||(bn={}));function lw(t){return"storage/"+t}function eE(){const t="An unknown error occurred, please check the error payload for server response.";return new _n(bn.UNKNOWN,t)}function hG(t){return new _n(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pG(t){return new _n(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(bn.UNAUTHENTICATED,t)}function gG(){return new _n(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vG(t){return new _n(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yG(){return new _n(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wG(){return new _n(bn.CANCELED,"User canceled the upload/download.")}function bG(t){return new _n(bn.INVALID_URL,"Invalid URL '"+t+"'.")}function xG(t){return new _n(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _G(){return new _n(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I4+"' property when initializing the app?")}function SG(){return new _n(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EG(){return new _n(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kG(t){return new _n(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yx(t){return new _n(bn.INVALID_ARGUMENT,t)}function R4(){return new _n(bn.APP_DELETED,"The Firebase app was deleted.")}function TG(t){return new _n(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wd(t,e){return new _n(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vc(t){throw new _n(bn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw xG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===D4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let S=0;S<E.length;S++){const k=E[S],N=k.regex.exec(e);if(N){const O=N[k.indices.bucket];let C=N[k.indices.path];C||(C=""),r=new ui(O,C),k.postModify(r);break}}if(r==null)throw bG(e);return r}}class CG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let h=!1;function c(...w){h||(h=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(m,l())},w)}function p(){s&&clearTimeout(s)}function m(w,...b){if(h){p();return}if(w){p(),c.call(null,w,...b);return}if(l()||o){p(),c.call(null,w,...b);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function y(w){g||(g=!0,p(),!h&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function OG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){return t!==void 0}function DG(t){return typeof t=="object"&&!Array.isArray(t)}function tE(t){return typeof t=="string"||t instanceof String}function iO(t){return nE()&&t instanceof Blob}function nE(){return typeof Blob<"u"&&!_9()}function sO(t,e,n,r){if(r<e)throw Yx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Yx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function P4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n,r,i,s,o,a,l,h,c,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new op(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ha.NO_ERROR,l=s.getStatus();if(!a||IG(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ha.ABORT;r(!1,new op(!1,null,c));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new op(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=eE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?R4():wG();o(l)}else{const l=yG();o(l)}};this.canceled_?n(!1,new op(!1,null,!0)):this.backoffId_=NG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class op{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FG(t,e,n,r,i,s,o=!0){const a=P4(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return LG(h,e),PG(h,n),MG(h,s),jG(h,r),new RG(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BG(...t){const e=$G();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(nE())return new Blob(t);throw new _n(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t){if(typeof atob>"u")throw kG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uw{constructor(e,n){this.data=e,this.contentType=n||null}}function qG(t,e){switch(t){case ps.RAW:return new uw(M4(e));case ps.BASE64:case ps.BASE64URL:return new uw(L4(t,e));case ps.DATA_URL:return new uw(HG(e),WG(e))}throw eE()}function M4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zG(t){let e;try{e=decodeURIComponent(t)}catch{throw wd(ps.DATA_URL,"Malformed data URL.")}return M4(e)}function L4(t,e){switch(t){case ps.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ps.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VG(e)}catch(i){throw i.message.includes("polyfill")?i:wd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class j4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wd(ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=YG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function HG(t){const e=new j4(t);return e.base64?L4(ps.BASE64,e.rest):zG(e.rest)}function WG(t){return new j4(t).contentType}function YG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){let r=0,i="";iO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(iO(this.data_)){const r=this.data_,i=UG(r,e,n);return i===null?null:new Uo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Uo(r,!0)}}static getBlob(...e){if(nE()){const n=e.map(r=>r instanceof Uo?r.data_:r);return new Uo(BG.apply(null,n))}else{const n=e.map(o=>tE(o)?qG(ps.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Uo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){let e;try{e=JSON.parse(t)}catch{return null}return DG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(t,e){return e}class Pr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||QG}}let ap=null;function XG(t){return!tE(t)||t.length<2?t:$4(t)}function B4(){if(ap)return ap;const t=[];t.push(new Pr("bucket")),t.push(new Pr("generation")),t.push(new Pr("metageneration")),t.push(new Pr("name","fullPath",!0));function e(s,o){return XG(o)}const n=new Pr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Pr("size");return i.xform=r,t.push(i),t.push(new Pr("timeCreated")),t.push(new Pr("updated")),t.push(new Pr("md5Hash",null,!0)),t.push(new Pr("cacheControl",null,!0)),t.push(new Pr("contentDisposition",null,!0)),t.push(new Pr("contentEncoding",null,!0)),t.push(new Pr("contentLanguage",null,!0)),t.push(new Pr("contentType",null,!0)),t.push(new Pr("metadata","customMetadata",!0)),ap=t,ap}function JG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ui(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ZG(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return JG(r,t),r}function U4(t,e,n){const r=F4(e);return r===null?null:ZG(t,r,n)}function eK(t,e,n,r){const i=F4(e);if(i===null||!tE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const c=t.bucket,f=t.fullPath,p="/b/"+o(c)+"/o/"+o(f),m=rE(p,n,r),g=P4({alt:"media",token:h});return m+g})[0]}function tK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class V4{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){if(!t)throw eE()}function nK(t,e){function n(r,i){const s=U4(t,i,e);return q4(s!==null),s}return n}function rK(t,e){function n(r,i){const s=U4(t,i,e);return q4(s!==null),eK(s,i,t.host,t._protocol)}return n}function z4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gG():i=mG():n.getStatus()===402?i=pG(t.bucket):n.getStatus()===403?i=vG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iK(t){const e=z4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=hG(t.path)),s.serverResponse=i.serverResponse,s}return n}function sK(t,e,n){const r=e.fullServerUrl(),i=rE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new V4(i,s,rK(t,n),o);return a.errorHandler=iK(e),a}function oK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oK(null,e)),r}function lK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let S=0;S<2;S++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const h=aK(e,r,i),c=tK(h,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Uo.getBlob(f,r,p);if(m===null)throw SG();const g={name:h.fullPath},y=rE(s,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,x=new V4(y,w,nK(t,n),b);return x.urlParams=g,x.headers=o,x.body=m.uploadData(),x.errorHandler=z4(e),x}class uK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cK extends uK{initXhr(){this.xhr_.responseType="text"}}function H4(){return new cK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sl(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $4(this._location.path)}get storage(){return this._service}get parent(){const e=GG(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TG(e)}}function dK(t,e,n){t._throwIfRoot("uploadBytes");const r=lK(t.storage,t._location,B4(),new Uo(e,!0),n);return t.storage.makeRequestWithTokens(r,H4).then(i=>({metadata:i,ref:t}))}function fK(t){t._throwIfRoot("getDownloadURL");const e=sK(t.storage,t._location,B4());return t.storage.makeRequestWithTokens(e,H4).then(n=>{if(n===null)throw EG();return n})}function hK(t,e){const n=KG(t._location.path,e),r=new ui(t._location.bucket,n);return new sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t){return/^[A-Za-z]+:\/\//.test(t)}function mK(t,e){return new sl(t,e)}function W4(t,e){if(t instanceof iE){const n=t;if(n._bucket==null)throw _G();const r=new sl(n,n._bucket);return e!=null?W4(r,e):r}else return e!==void 0?hK(t,e):t}function gK(t,e){if(e&&pK(e)){if(t instanceof iE)return mK(t,e);throw Yx("To use ref(service, url), the first argument must be a Storage instance.")}else return W4(t,e)}function oO(t,e){const n=e==null?void 0:e[I4];return n==null?null:ui.makeFromBucketSpec(n,t)}function vK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:YR(i,t.app.options.projectId))}class iE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=D4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dG,this._maxUploadRetryTime=fG,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=oO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=oO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new CG(R4());{const o=FG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aO="@firebase/storage",lO="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="storage";function uO(t,e,n){return t=Pt(t),dK(t,e,n)}function Gx(t){return t=Pt(t),fK(t)}function Kx(t,e){return t=Pt(t),gK(t,e)}function yK(t=rf(),e){t=Pt(t);const r=aa(t,Y4).getImmediate({identifier:e}),i=O_("storage");return i&&wK(r,...i),r}function wK(t,e,n,r={}){vK(t,e,n,r)}function bK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new iE(n,r,i,e,vl)}function xK(){Ni(new fi(Y4,bK,"PUBLIC").setMultipleInstances(!0)),xr(aO,lO,""),xr(aO,lO,"esm2017")}xK();const _K={apiKey:"AIzaSyA6HW3pwkb-agsEpSYWGmlYSuvFiJDxp5c",authDomain:"han-bookclub.firebaseapp.com",projectId:"han-bookclub",storageBucket:"han-bookclub.appspot.com",messagingSenderId:"1033530409448",appId:"1:1033530409448:web:aff6942a34c0a48c81645d",measurementId:"G-925LMFR6FK"},SK=JR(_K),Qt=pg(),sn=FH(),Qx=yK(),EK=uG(SK),G4=vW(),_m=async()=>cG(EK,{vapidKey:"BDj5rPznBXENjg3_ufDJ6BLBU1igiHvQTiBDYOUMRbVQTcQpQRh6erEWWBQyg1SVuC3yAvzgM4xarrhpqwM26ag",serviceWorkerRegistration:await navigator.serviceWorker.register("/han-bookclub-app/firebase-messaging-sw.js")}),cw=e4(G4,"sendUnicast"),cO=e4(G4,"sendMulticast");var K4={};function kK(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var TK=kK,mt=TK;function CK(t){return!!t&&typeof t.then=="function"}var tn=CK;function NK(t,e){if(t!=null)return t;throw mt(e??"Got unexpected null or undefined")}var cn=NK;function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Xg{getValue(){throw mt("BaseLoadable")}toPromise(){throw mt("BaseLoadable")}valueMaybe(){throw mt("BaseLoadable")}valueOrThrow(){throw mt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw mt("BaseLoadable")}promiseOrThrow(){throw mt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw mt("BaseLoadable")}errorOrThrow(){throw mt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw mt("BaseLoadable")}}class OK extends Xg{constructor(e){super(),ft(this,"state","hasValue"),ft(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return tn(n)?ol(n):Ru(n)?n:Sf(n)}catch(n){return tn(n)?ol(n.next(()=>this.map(e))):Jg(n)}}}class AK extends Xg{constructor(e){super(),ft(this,"state","hasError"),ft(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Q4 extends Xg{constructor(e){super(),ft(this,"state","loading"),ft(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ol(this.contents.then(n=>{const r=e(n);if(Ru(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(tn(n))return n.then(()=>this.map(e).contents);throw n}))}}function Sf(t){return Object.freeze(new OK(t))}function Jg(t){return Object.freeze(new AK(t))}function ol(t){return Object.freeze(new Q4(t))}function X4(){return Object.freeze(new Q4(new Promise(()=>{})))}function DK(t){return t.every(e=>e.state==="hasValue")?Sf(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Jg(cn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ol(Promise.all(t.map(e=>e.contents)))}function J4(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Ru(i)?i:tn(i)?ol(i):Sf(i)),r=DK(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Ru(t){return t instanceof Xg}const IK={of:t=>tn(t)?ol(t):Ru(t)?t:Sf(t),error:t=>Jg(t),loading:()=>X4(),all:J4,isLoadable:Ru};var Sl={loadableWithValue:Sf,loadableWithError:Jg,loadableWithPromise:ol,loadableLoading:X4,loadableAll:J4,isLoadable:Ru,RecoilLoadable:IK},RK=Sl.loadableWithValue,PK=Sl.loadableWithError,MK=Sl.loadableWithPromise,LK=Sl.loadableLoading,jK=Sl.loadableAll,FK=Sl.isLoadable,$K=Sl.RecoilLoadable,Ef=Object.freeze({__proto__:null,loadableWithValue:RK,loadableWithError:PK,loadableWithPromise:MK,loadableLoading:LK,loadableAll:jK,isLoadable:FK,RecoilLoadable:$K});const Xx={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function BK(t,e){var n,r;const i=(n=K4[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw mt(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function UK(t,e){var n;const r=(n=K4[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function VK(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(BK("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Xx.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),UK("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Xx.RECOIL_GKS_ENABLED.add(n)})}))}VK();var kf=Xx;function Zg(t){return kf.RECOIL_GKS_ENABLED.has(t)}Zg.setPass=t=>{kf.RECOIL_GKS_ENABLED.add(t)};Zg.setFail=t=>{kf.RECOIL_GKS_ENABLED.delete(t)};Zg.clear=()=>{kf.RECOIL_GKS_ENABLED.clear()};var Gt=Zg;function qK(t,e,{error:n}={}){return null}var zK=qK,ei=zK,dw,fw,hw;const HK=(dw=se.createMutableSource)!==null&&dw!==void 0?dw:se.unstable_createMutableSource,Z4=(fw=se.useMutableSource)!==null&&fw!==void 0?fw:se.unstable_useMutableSource,sE=(hw=se.useSyncExternalStore)!==null&&hw!==void 0?hw:se.unstable_useSyncExternalStore;let dO=!1;function WK(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null;return sE&&!i&&!dO&&(dO=!0,ei()),i}function YK(){return Gt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Gt("recoil_sync_external_store")&&sE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Gt("recoil_mutable_source")&&Z4!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Gt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Gt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var oE={createMutableSource:HK,useMutableSource:Z4,useSyncExternalStore:sE,currentRendererSupportsUseSyncExternalStore:WK,reactMode:YK};class aE{constructor(e){ft(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class ej extends aE{}class tj extends aE{}function GK(t){return t instanceof ej||t instanceof tj}var ev={AbstractRecoilValue:aE,RecoilState:ej,RecoilValueReadOnly:tj,isRecoilValue:GK},KK=ev.AbstractRecoilValue,QK=ev.RecoilState,XK=ev.RecoilValueReadOnly,JK=ev.isRecoilValue,al=Object.freeze({__proto__:null,AbstractRecoilValue:KK,RecoilState:QK,RecoilValueReadOnly:XK,isRecoilValue:JK});function ZK(t,...e){}var eQ=ZK,nj=eQ;function tQ(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var tv=tQ;class rj{}const nQ=new rj,Pu=new Map,lE=new Map;function rQ(t){return tv(t,e=>cn(lE.get(e)))}function iQ(t){if(Pu.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function sQ(t){kf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&iQ(t.key),Pu.set(t.key,t);const e=t.set==null?new al.RecoilValueReadOnly(t.key):new al.RecoilState(t.key);return lE.set(t.key,e),e}class oQ extends Error{}function aQ(t){const e=Pu.get(t);if(e==null)throw new oQ(`Missing definition for RecoilValue: "${t}""`);return e}function lQ(t){return Pu.get(t)}const Sm=new Map;function uQ(t){var e;if(!Gt("recoil_memory_managament_2020"))return;const n=Pu.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Pu.delete(t),(r=ij(t))===null||r===void 0||r(),Sm.delete(t)}}function cQ(t,e){Gt("recoil_memory_managament_2020")&&(e===void 0?Sm.delete(t):Sm.set(t,e))}function ij(t){return Sm.get(t)}var Ai={recoilValues:lE,registerNode:sQ,getNode:aQ,getNodeMaybe:lQ,deleteNodeConfigIfPossible:uQ,setConfigDeletionHandler:cQ,getConfigDeletionHandler:ij,recoilValuesForKeys:rQ,DefaultValue:rj,DEFAULT_VALUE:nQ};function dQ(t,e){e()}var fQ={enqueueExecution:dQ};function hQ(t,e){return e={exports:{}},t(e,e.exports),e.exports}var pQ=hQ(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},h=function(ie){return function(){return ie}},c=n.hash=function(oe){var ie=typeof oe>"u"?"undefined":e(oe);if(ie==="number")return oe;ie!=="string"&&(oe+="");for(var be=0,ke=0,Te=oe.length;ke<Te;++ke){var Oe=oe.charCodeAt(ke);be=(be<<5)-be+Oe|0}return be},f=function(ie){return ie-=ie>>1&1431655765,ie=(ie&858993459)+(ie>>2&858993459),ie=ie+(ie>>4)&252645135,ie+=ie>>8,ie+=ie>>16,ie&127},p=function(ie,be){return be>>>ie&s},m=function(ie){return 1<<ie},g=function(ie,be){return f(ie&be-1)},y=function(ie,be,ke,Te){var Oe=Te;if(!ie){var Ge=Te.length;Oe=new Array(Ge);for(var Ue=0;Ue<Ge;++Ue)Oe[Ue]=Te[Ue]}return Oe[be]=ke,Oe},w=function(ie,be,ke){var Te=ke.length-1,Oe=0,Ge=0,Ue=ke;if(ie)Oe=Ge=be;else for(Ue=new Array(Te);Oe<be;)Ue[Ge++]=ke[Oe++];for(++Oe;Oe<=Te;)Ue[Ge++]=ke[Oe++];return ie&&(Ue.length=Te),Ue},b=function(ie,be,ke,Te){var Oe=Te.length;if(ie){for(var Ge=Oe;Ge>=be;)Te[Ge--]=Te[Ge];return Te[be]=ke,Te}for(var Ue=0,ze=0,rt=new Array(Oe+1);Ue<be;)rt[ze++]=Te[Ue++];for(rt[be]=ke;Ue<Oe;)rt[++ze]=Te[Ue++];return rt},x=1,E=2,S=3,k=4,N={__hamt_isEmpty:!0},O=function(ie){return ie===N||ie&&ie.__hamt_isEmpty},C=function(ie,be,ke,Te){return{type:x,edit:ie,hash:be,key:ke,value:Te,_modify:Y}},I=function(ie,be,ke){return{type:E,edit:ie,hash:be,children:ke,_modify:z}},R=function(ie,be,ke){return{type:S,edit:ie,mask:be,children:ke,_modify:j}},A=function(ie,be,ke){return{type:k,edit:ie,size:be,children:ke,_modify:U}},D=function(ie){return ie===N||ie.type===x||ie.type===E},M=function(ie,be,ke,Te,Oe){for(var Ge=[],Ue=Te,ze=0,rt=0;Ue;++rt)Ue&1&&(Ge[rt]=Oe[ze++]),Ue>>>=1;return Ge[be]=ke,A(ie,ze+1,Ge)},F=function(ie,be,ke,Te){for(var Oe=new Array(be-1),Ge=0,Ue=0,ze=0,rt=Te.length;ze<rt;++ze)if(ze!==ke){var Et=Te[ze];Et&&!O(Et)&&(Oe[Ge++]=Et,Ue|=1<<ze)}return R(ie,Ue,Oe)},q=function oe(ie,be,ke,Te,Oe,Ge){if(ke===Oe)return I(ie,ke,[Ge,Te]);var Ue=p(be,ke),ze=p(be,Oe);return R(ie,m(Ue)|m(ze),Ue===ze?[oe(ie,be+r,ke,Te,Oe,Ge)]:Ue<ze?[Te,Ge]:[Ge,Te])},L=function(ie,be,ke,Te,Oe,Ge,Ue,ze){for(var rt=Oe.length,Et=0;Et<rt;++Et){var An=Oe[Et];if(ke(Ue,An.key)){var jt=An.value,ln=Ge(jt);return ln===jt?Oe:ln===l?(--ze.value,w(ie,Et,Oe)):y(ie,Et,C(be,Te,Ue,ln),Oe)}}var qr=Ge();return qr===l?Oe:(++ze.value,y(ie,rt,C(be,Te,Ue,qr),Oe))},B=function(ie,be){return ie===be.edit},Y=function(ie,be,ke,Te,Oe,Ge,Ue){if(be(Ge,this.key)){var ze=Te(this.value);return ze===this.value?this:ze===l?(--Ue.value,N):B(ie,this)?(this.value=ze,this):C(ie,Oe,Ge,ze)}var rt=Te();return rt===l?this:(++Ue.value,q(ie,ke,this.hash,this,Oe,C(ie,Oe,Ge,rt)))},z=function(ie,be,ke,Te,Oe,Ge,Ue){if(Oe===this.hash){var ze=B(ie,this),rt=L(ze,ie,be,this.hash,this.children,Te,Ge,Ue);return rt===this.children?this:rt.length>1?I(ie,this.hash,rt):rt[0]}var Et=Te();return Et===l?this:(++Ue.value,q(ie,ke,this.hash,this,Oe,C(ie,Oe,Ge,Et)))},j=function(ie,be,ke,Te,Oe,Ge,Ue){var ze=this.mask,rt=this.children,Et=p(ke,Oe),An=m(Et),jt=g(ze,An),ln=ze&An,qr=ln?rt[jt]:N,gi=qr._modify(ie,be,ke+r,Te,Oe,Ge,Ue);if(qr===gi)return this;var fo=B(ie,this),Di=ze,va=void 0;if(ln&&O(gi)){if(Di&=~An,!Di)return N;if(rt.length<=2&&D(rt[jt^1]))return rt[jt^1];va=w(fo,jt,rt)}else if(!ln&&!O(gi)){if(rt.length>=o)return M(ie,Et,gi,ze,rt);Di|=An,va=b(fo,jt,gi,rt)}else va=y(fo,jt,gi,rt);return fo?(this.mask=Di,this.children=va,this):R(ie,Di,va)},U=function(ie,be,ke,Te,Oe,Ge,Ue){var ze=this.size,rt=this.children,Et=p(ke,Oe),An=rt[Et],jt=(An||N)._modify(ie,be,ke+r,Te,Oe,Ge,Ue);if(An===jt)return this;var ln=B(ie,this),qr=void 0;if(O(An)&&!O(jt))++ze,qr=y(ln,Et,jt,rt);else if(!O(An)&&O(jt)){if(--ze,ze<=a)return F(ie,ze,Et,rt);qr=y(ln,Et,N,rt)}else qr=y(ln,Et,jt,rt);return ln?(this.size=ze,this.children=qr,this):A(ie,ze,qr)};N._modify=function(oe,ie,be,ke,Te,Oe,Ge){var Ue=ke();return Ue===l?N:(++Ge.value,C(oe,Te,Oe,Ue))};function V(oe,ie,be,ke,Te){this._editable=oe,this._edit=ie,this._config=be,this._root=ke,this._size=Te}V.prototype.setTree=function(oe,ie){return this._editable?(this._root=oe,this._size=ie,this):oe===this._root?this:new V(this._editable,this._edit,this._config,oe,ie)};var H=n.tryGetHash=function(oe,ie,be,ke){for(var Te=ke._root,Oe=0,Ge=ke._config.keyEq;;)switch(Te.type){case x:return Ge(be,Te.key)?Te.value:oe;case E:{if(ie===Te.hash)for(var Ue=Te.children,ze=0,rt=Ue.length;ze<rt;++ze){var Et=Ue[ze];if(Ge(be,Et.key))return Et.value}return oe}case S:{var An=p(Oe,ie),jt=m(An);if(Te.mask&jt){Te=Te.children[g(Te.mask,jt)],Oe+=r;break}return oe}case k:{if(Te=Te.children[p(Oe,ie)],Te){Oe+=r;break}return oe}default:return oe}};V.prototype.tryGetHash=function(oe,ie,be){return H(oe,ie,be,this)};var Q=n.tryGet=function(oe,ie,be){return H(oe,be._config.hash(ie),ie,be)};V.prototype.tryGet=function(oe,ie){return Q(oe,ie,this)};var X=n.getHash=function(oe,ie,be){return H(void 0,oe,ie,be)};V.prototype.getHash=function(oe,ie){return X(oe,ie,this)},n.get=function(oe,ie){return H(void 0,ie._config.hash(oe),oe,ie)},V.prototype.get=function(oe,ie){return Q(ie,oe,this)};var W=n.has=function(oe,ie,be){return H(l,oe,ie,be)!==l};V.prototype.hasHash=function(oe,ie){return W(oe,ie,this)};var J=n.has=function(oe,ie){return W(ie._config.hash(oe),oe,ie)};V.prototype.has=function(oe){return J(oe,this)};var Z=function(ie,be){return ie===be};n.make=function(oe){return new V(0,0,{keyEq:oe&&oe.keyEq||Z,hash:oe&&oe.hash||c},N,0)},n.empty=n.make();var te=n.isEmpty=function(oe){return oe&&!!O(oe._root)};V.prototype.isEmpty=function(){return te(this)};var le=n.modifyHash=function(oe,ie,be,ke){var Te={value:ke._size},Oe=ke._root._modify(ke._editable?ke._edit:NaN,ke._config.keyEq,0,oe,ie,be,Te);return ke.setTree(Oe,Te.value)};V.prototype.modifyHash=function(oe,ie,be){return le(be,oe,ie,this)};var pe=n.modify=function(oe,ie,be){return le(oe,be._config.hash(ie),ie,be)};V.prototype.modify=function(oe,ie){return pe(ie,oe,this)};var ge=n.setHash=function(oe,ie,be,ke){return le(h(be),oe,ie,ke)};V.prototype.setHash=function(oe,ie,be){return ge(oe,ie,be,this)};var Ce=n.set=function(oe,ie,be){return ge(be._config.hash(oe),oe,ie,be)};V.prototype.set=function(oe,ie){return Ce(oe,ie,this)};var $e=h(l),De=n.removeHash=function(oe,ie,be){return le($e,oe,ie,be)};V.prototype.removeHash=V.prototype.deleteHash=function(oe,ie){return De(oe,ie,this)};var nt=n.remove=function(oe,ie){return De(ie._config.hash(oe),oe,ie)};V.prototype.remove=V.prototype.delete=function(oe){return nt(oe,this)};var Xe=n.beginMutation=function(oe){return new V(oe._editable+1,oe._edit+1,oe._config,oe._root,oe._size)};V.prototype.beginMutation=function(){return Xe(this)};var ce=n.endMutation=function(oe){return oe._editable=oe._editable&&oe._editable-1,oe};V.prototype.endMutation=function(){return ce(this)};var fe=n.mutate=function(oe,ie){var be=Xe(ie);return oe(be),ce(be)};V.prototype.mutate=function(oe){return fe(oe,this)};var we=function(ie){return ie&&xe(ie[0],ie[1],ie[2],ie[3],ie[4])},xe=function(ie,be,ke,Te,Oe){for(;ke<ie;){var Ge=be[ke++];if(Ge&&!O(Ge))return he(Ge,Te,[ie,be,ke,Te,Oe])}return we(Oe)},he=function(ie,be,ke){switch(ie.type){case x:return{value:be(ie),rest:ke};case E:case k:case S:var Te=ie.children;return xe(Te.length,Te,0,be,ke);default:return we(ke)}},Be={done:!0};function Ie(oe){this.v=oe}Ie.prototype.next=function(){if(!this.v)return Be;var oe=this.v;return this.v=we(oe.rest),oe},Ie.prototype[Symbol.iterator]=function(){return this};var Ye=function(ie,be){return new Ie(he(ie._root,be))},Ht=function(ie){return[ie.key,ie.value]},On=n.entries=function(oe){return Ye(oe,Ht)};V.prototype.entries=V.prototype[Symbol.iterator]=function(){return On(this)};var it=function(ie){return ie.key},Ur=n.keys=function(oe){return Ye(oe,it)};V.prototype.keys=function(){return Ur(this)};var ct=function(ie){return ie.value},zt=n.values=V.prototype.values=function(oe){return Ye(oe,ct)};V.prototype.values=function(){return zt(this)};var Jn=n.fold=function(oe,ie,be){var ke=be._root;if(ke.type===x)return oe(ie,ke.value,ke.key);for(var Te=[ke.children],Oe=void 0;Oe=Te.pop();)for(var Ge=0,Ue=Oe.length;Ge<Ue;){var ze=Oe[Ge++];ze&&ze.type&&(ze.type===x?ie=oe(ie,ze.value,ze.key):Te.push(ze.children))}return ie};V.prototype.fold=function(oe,ie){return Jn(oe,ie,this)};var Vr=n.forEach=function(oe,ie){return Jn(function(be,ke,Te){return oe(ke,Te,ie)},null,ie)};V.prototype.forEach=function(oe){return Vr(oe,this)};var Dr=n.count=function(oe){return oe._size};V.prototype.count=function(){return Dr(this)},Object.defineProperty(V.prototype,"size",{get:V.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class mQ{constructor(e){ft(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return cE(this)}toMap(){return new Map(this._map)}}class uE{constructor(e){if(ft(this,"_hamt",pQ.empty.beginMutation()),e instanceof uE){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return cE(this)}toMap(){return new Map(this._hamt)}}function cE(t){return Gt("recoil_hamt_2020")?new uE(t):new mQ(t)}var gQ={persistentMap:cE},vQ=gQ.persistentMap,yQ=Object.freeze({__proto__:null,persistentMap:vQ});function wQ(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var fO=wQ;function bQ(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var hO=bQ;function xQ(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function _Q(t){return{nodeDeps:hO(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:hO(t.nodeToNodeSubscriptions,e=>new Set(e))}}function pw(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:fO(e,o);for(const l of a)s.has(l)||s.set(l,new Set),cn(s.get(l)).add(t);if(o){const l=fO(o,e);for(const h of l){if(!s.has(h))return;const c=cn(s.get(h));c.delete(t),c.size===0&&s.delete(h)}}}function SQ(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||r===((s=l.previousTree)===null||s===void 0?void 0:s.version)||ei();const h=n.getGraph(r);if(pw(t,e,h),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const f=n.getGraph(l.currentTree.version);pw(t,e,f,h)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const p=n.getGraph(f);pw(t,e,p,h)}}}var Tf={cloneGraph:_Q,graph:xQ,saveDepsToStore:SQ};let EQ=0;const kQ=()=>EQ++;let TQ=0;const CQ=()=>TQ++;let NQ=0;const OQ=()=>NQ++;var nv={getNextTreeStateVersion:kQ,getNextStoreID:CQ,getNextComponentID:OQ};const{persistentMap:pO}=yQ,{graph:AQ}=Tf,{getNextTreeStateVersion:sj}=nv;function DQ(){const t=sj();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:pO(),nonvalidatedAtoms:pO()}}function IQ(){const t=DQ();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,AQ()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var oj={makeEmptyStoreState:IQ,getNextTreeStateVersion:sj};class RQ{}var dE={RetentionZone:RQ};function PQ(t,e){const n=new Set(t);return n.add(e),n}var MQ={setByAddingToSet:PQ};function*LQ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var fE=LQ;function jQ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var aj=jQ;const{getNode:Cf,getNodeMaybe:FQ,recoilValuesForKeys:mO}=Ai,{RetentionZone:gO}=dE,{setByAddingToSet:$Q}=MQ,BQ=Object.freeze(new Set);class UQ extends Error{}function VQ(t,e,n){if(!Gt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof gO)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Gt("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof gO)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function hE(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Cf(n),o=VQ(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function qQ(t,e,n){hE(t,t.getState().currentTree,e,n)}function zQ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function HQ(t,e,n){return hE(t,e,n,"get"),Cf(n).get(t,e)}function lj(t,e,n){return Cf(n).peek(t,e)}function WQ(t,e,n){var r;const i=FQ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:$Q(t.dirtyAtoms,e)}}function YQ(t,e,n,r){const i=Cf(n);if(i.set==null)throw new UQ(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return hE(t,e,n,"set"),s(t,e,r)}function GQ(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Cf(n).nodeType;return aj({type:s},{loadable:()=>lj(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return mO((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:mO(fE(uj(t,e,new Set([n])),l=>l!==n)),components:tv((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function uj(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:BQ;for(const h of l)r.has(h)||i.push(h)}return r}var El={getNodeLoadable:HQ,peekNodeLoadable:lj,setNodeValue:YQ,initializeNode:qQ,cleanUpNode:zQ,setUnvalidatedAtomValue_DEPRECATED:WQ,peekNodeInfo:GQ,getDownstreamNodes:uj};let cj=null;function KQ(t){cj=t}function QQ(){var t;(t=cj)===null||t===void 0||t()}var dj={setInvalidateMemoizedSnapshot:KQ,invalidateMemoizedSnapshot:QQ};const{getDownstreamNodes:XQ,getNodeLoadable:fj,setNodeValue:JQ}=El,{getNextComponentID:ZQ}=nv,{getNode:eX,getNodeMaybe:hj}=Ai,{DefaultValue:pE}=Ai,{reactMode:tX}=oE,{AbstractRecoilValue:nX,RecoilState:eve,RecoilValueReadOnly:tve,isRecoilValue:nve}=al,{invalidateMemoizedSnapshot:rX}=dj;function iX(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||n.version===((i=s.previousTree)===null||i===void 0?void 0:i.version)||ei();const o=fj(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function sX(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof pE?n.delete(i):n.set(i,r)}),n}function oX(t,e,{key:n},r){if(typeof r=="function"){const i=fj(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ei(),mt(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function aX(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=oX(t,e,i,s),a=JQ(t,e,i.key,o);for(const[l,h]of a.entries())Jx(e,l,h)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Jx(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=hj(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else ei(`Unknown action ${n.type}`)}function Jx(t,e,n){n.state==="hasValue"&&n.contents instanceof pE?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function pj(t,e){t.replaceState(n=>{const r=mj(n);for(const i of e)aX(t,r,i);return gj(t,r),rX(),r})}function rv(t,e){if(bd.length){const n=bd[bd.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else pj(t,[e])}const bd=[];function lX(){const t=new Map;return bd.push(t),()=>{for(const[n,r]of t)pj(n,r);bd.pop()!==t&&ei()}}function mj(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function gj(t,e){const n=XQ(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=hj(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function vj(t,e,n){rv(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function uX(t,e,n){if(n instanceof pE)return vj(t,e,n);rv(t,{type:"setLoadable",recoilValue:e,loadable:n})}function cX(t,e){rv(t,{type:"markModified",recoilValue:e})}function dX(t,e,n){rv(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function fX(t,{key:e},n,r=null){const i=ZQ(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),cn(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=tX();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);if(l===void 0||!l.has(i)){ei();return}l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e)}}}function hX(t,e){var n;const{currentTree:r}=t.getState(),i=eX(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var ao={AbstractRecoilValue:nX,getRecoilValueAsLoadable:iX,setRecoilValue:vj,setRecoilValueLoadable:uX,markRecoilValueModified:cX,setUnvalidatedRecoilValue:dX,subscribeToRecoilValue:fX,applyAtomValueWrites:sX,batchStart:lX,writeLoadableToTreeState:Jx,invalidateDownstreams:gj,copyTreeState:mj,refreshRecoilValue:hX};function pX(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var mX=pX;const{cleanUpNode:gX}=El,{deleteNodeConfigIfPossible:vX,getNode:yj}=Ai,{RetentionZone:wj}=dE,yX=12e4,bj=new Set;function xj(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree){ei();return}const i=new Set;for(const o of e)if(o instanceof wj)for(const a of _X(n,o))i.add(a);else i.add(o);const s=wX(t,i);for(const o of s)xX(t,r,o)}function wX(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const h=new Set,c=bX(t,r,l,s,o);for(const g of c){var f;if(yj(g).retainedBy==="recoilRoot"){o.add(g);continue}if(((f=n.retention.referenceCounts.get(g))!==null&&f!==void 0?f:0)>0){o.add(g);continue}if(_j(g).some(w=>n.retention.referenceCounts.get(w))){o.add(g);continue}const y=i.nodeToNodeSubscriptions.get(g);if(y&&mX(y,w=>o.has(w))){o.add(g);continue}s.add(g),h.add(g)}const p=new Set;for(const g of h)for(const y of(m=i.nodeDeps.get(g))!==null&&m!==void 0?m:bj){var m;s.has(y)||p.add(y)}p.size&&a(p)}}function bX(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(cn(n.values().next().value));return o;function l(h){if(r.has(h)||i.has(h)){n.delete(h);return}if(a.has(h))return;const c=s.nodeToNodeSubscriptions.get(h);if(c)for(const f of c)l(f);a.add(h),n.delete(h),o.push(h)}}function xX(t,e,n){if(!Gt("recoil_memory_managament_2020"))return;gX(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=_j(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const h of l){var a;(a=o.nodeToNodeSubscriptions.get(h))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}vX(n)}function _X(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:bj}function _j(t){const e=yj(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof wj?[e]:e}function SX(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):xj(t,new Set([e]))}function EX(t,e,n){var r;if(!Gt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?kX(t,e):i.set(e,s)}function kX(t,e){if(!Gt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),SX(t,e)}function TX(t){if(!Gt("recoil_memory_managament_2020"))return;const e=t.getState();xj(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function CX(t){return t===void 0?"recoilRoot":t}var Xu={SUSPENSE_TIMEOUT_MS:yX,updateRetainCount:EX,releaseScheduledRetainablesNow:TX,retainedByOptionWithDefault:CX};const{unstable_batchedUpdates:NX}=E_;var OX={unstable_batchedUpdates:NX};const{unstable_batchedUpdates:AX}=OX;var DX={unstable_batchedUpdates:AX};const{batchStart:IX}=ao,{unstable_batchedUpdates:RX}=DX;let PX=RX||(t=>t());const MX=t=>{PX(()=>{let e=()=>{};try{e=IX(),t()}finally{e()}})};var mE={batchUpdates:MX};function*LX(t){for(const e of t)for(const n of e)yield n}var Sj=LX;const jX=typeof Window>"u"||typeof window>"u";var gE={isSSR:jX};function FX(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var $X={memoizeOneWithArgsHashAndInvalidation:FX};const{batchUpdates:Zx}=mE,{initializeNode:BX,peekNodeInfo:UX}=El,{graph:VX}=Tf,{getNextStoreID:qX}=nv,{DEFAULT_VALUE:zX,recoilValues:vO,recoilValuesForKeys:yO}=Ai,{AbstractRecoilValue:HX,getRecoilValueAsLoadable:WX,setRecoilValue:wO,setUnvalidatedRecoilValue:YX}=ao,{updateRetainCount:Lp}=Xu,{setInvalidateMemoizedSnapshot:GX}=dj,{getNextTreeStateVersion:KX,makeEmptyStoreState:QX}=oj,{isSSR:XX}=gE,{memoizeOneWithArgsHashAndInvalidation:JX}=$X;class iv{constructor(e,n){ft(this,"_store",void 0),ft(this,"_refCount",1),ft(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),WX(this._store,r))),ft(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ft(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return yO(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?vO.values():r.isInitialized===!0?yO(Sj([i,s])):fE(vO.values(),({key:o})=>!i.has(o)&&!s.has(o))}),ft(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),UX(this._store,this._store.getState().currentTree,r))),ft(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new e_(this,Zx);return r(i),i}),ft(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new e_(this,Zx);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:qX(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return cn(i.get(r));const s=VX();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw mt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)BX(this._store,r,"get"),Lp(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&ei(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){XX||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Gt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Gt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Ej(t,e,n=!1){const r=t.getState(),i=n?KX():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(tv(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function ZX(t){const e=new iv(QX());return t!=null?e.map(t):e}const[bO,kj]=JX((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:cn(r.previousTree);return new iv(Ej(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});GX(kj);function eJ(t,e="latest"){const n=bO(t,e);return n.isRetained()?n:(kj(),bO(t,e))}class e_ extends iv{constructor(e,n){super(Ej(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ft(this,"_batch",void 0),ft(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Lp(s,r.key,1),wO(this.getStore_INTERNAL(),r,i)})}),ft(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Lp(i,r.key,1),wO(this.getStore_INTERNAL(),r,zX)})}),ft(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Zx(()=>{for(const[s,o]of r.entries())Lp(i,s,1),YX(i,new HX(s),o)})}),this._batch=n}}var sv={Snapshot:iv,MutableSnapshot:e_,freshSnapshot:ZX,cloneSnapshot:eJ},tJ=sv.Snapshot,nJ=sv.MutableSnapshot,rJ=sv.freshSnapshot,iJ=sv.cloneSnapshot,ov=Object.freeze({__proto__:null,Snapshot:tJ,MutableSnapshot:nJ,freshSnapshot:rJ,cloneSnapshot:iJ});function sJ(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var oJ=sJ;const{useRef:aJ}=se;function lJ(t){const e=aJ(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var xO=lJ;const{getNextTreeStateVersion:uJ,makeEmptyStoreState:Tj}=oj,{cleanUpNode:cJ,getDownstreamNodes:dJ,initializeNode:fJ,setNodeValue:hJ,setUnvalidatedAtomValue_DEPRECATED:pJ}=El,{graph:mJ}=Tf,{cloneGraph:gJ}=Tf,{getNextStoreID:Cj}=nv,{createMutableSource:mw,reactMode:Nj}=oE,{applyAtomValueWrites:vJ}=ao,{releaseScheduledRetainablesNow:Oj}=Xu,{freshSnapshot:yJ}=ov,{useCallback:wJ,useContext:Aj,useEffect:t_,useMemo:bJ,useRef:xJ,useState:_J}=se;function qc(){throw mt("This component must be used inside a <RecoilRoot> component.")}const Dj=Object.freeze({storeID:Cj(),getState:qc,replaceState:qc,getGraph:qc,subscribeToTransactions:qc,addTransactionMetadata:qc});let n_=!1;function _O(t){if(n_)throw mt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Gt("recoil_memory_managament_2020")&&Gt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Oj(t);const n=e.currentTree.version,r=uJ();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,gJ(cn(e.graphsByVersion.get(n))))}}const Ij=se.createContext({current:Dj}),vE=()=>Aj(Ij),Rj=se.createContext(null);function SJ(){const t=Aj(Rj);return t==null&&nj(),t}function Pj(t,e,n){const r=dJ(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function EJ(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!Nj().early||e.suspendedComponentResolvers.size>0)&&(Pj(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function kJ(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,EJ(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):ei("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Gt("recoil_memory_managament_2020")&&n==null&&Oj(t)}finally{e.commitDepth--}}function TJ({setNotifyBatcherOfChange:t}){const e=vE(),[,n]=_J([]);return t(()=>n({})),t_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),t_(()=>{fQ.enqueueExecution("Batcher",()=>{kJ(e.current)})}),null}function CJ(t,e){const n=Tj();return e({set:(r,i)=>{const s=n.currentTree,o=hJ(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const h of a)l.delete(h);n.currentTree={...s,dirtyAtoms:oJ(s.dirtyAtoms,a),atomValues:vJ(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=pJ(n.currentTree,s,i)})}}),n}function NJ(t){const e=yJ(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let SO=0;function OJ({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=m=>{const g=i.current.graphsByVersion;if(g.has(m))return cn(g.get(m));const y=mJ();return g.set(m,y),y},o=(m,g)=>{if(g==null){const{transactionSubscriptions:y}=f.current.getState(),w=SO++;return y.set(w,m),{release:()=>{y.delete(w)}}}else{const{nodeTransactionSubscriptions:y}=f.current.getState();y.has(g)||y.set(g,new Map);const w=SO++;return cn(y.get(g)).set(w,m),{release:()=>{const b=y.get(g);b&&(b.delete(w),b.size===0&&y.delete(g))}}}},a=m=>{_O(f.current);for(const g of Object.keys(m))cn(f.current.getState().nextTree).transactionMetadata[g]=m[g]},l=m=>{_O(f.current);const g=cn(i.current.nextTree);let y;try{n_=!0,y=m(g)}finally{n_=!1}y!==g&&(i.current.nextTree=y,Nj().early&&Pj(f.current,i.current,y),cn(h.current)())},h=xJ(null),c=wJ(m=>{h.current=m},[h]),f=xO(()=>n??{storeID:Cj(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(f.current=n),i=xO(()=>t!=null?CJ(f.current,t):e!=null?NJ(e):Tj());const p=bJ(()=>mw==null?void 0:mw(i,()=>i.current.currentTree.version),[i]);return t_(()=>{const m=f.current;for(const g of new Set(m.getState().knownAtoms))fJ(m,g,"get");return()=>{for(const g of m.getState().knownAtoms)cJ(m,g)}},[f]),se.createElement(Ij.Provider,{value:f},se.createElement(Rj.Provider,{value:p},se.createElement(TJ,{setNotifyBatcherOfChange:c}),r))}function AJ(t){const{override:e,...n}=t,r=vE();return e===!1&&r.current!==Dj?t.children:se.createElement(OJ,n)}var yE={RecoilRoot:AJ,useStoreRef:vE,useRecoilMutableSource:SJ};function DJ(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var IJ=DJ;const{useEffect:RJ,useRef:PJ}=se;function MJ(t){const e=PJ();return RJ(()=>{e.current=t}),e.current}var LJ=MJ;const{useStoreRef:jJ}=yE,{SUSPENSE_TIMEOUT_MS:FJ}=Xu,{updateRetainCount:zc}=Xu,{RetentionZone:$J}=dE,{useEffect:BJ,useRef:UJ}=se,{isSSR:EO}=gE;function VJ(t){if(Gt("recoil_memory_managament_2020"))return qJ(t)}function qJ(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof $J?o:o.key),r=jJ();BJ(()=>{if(!Gt("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!EO)window.clearTimeout(i.current),i.current=null;else for(const a of n)zc(o,a,1);return()=>{for(const a of n)zc(o,a,-1)}},[r,...n]);const i=UJ(),s=LJ(n);if(!EO&&(s===void 0||!IJ(s,n))){const o=r.current;for(const a of n)zc(o,a,1);if(s)for(const a of s)zc(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)zc(o,a,-1)},FJ)}}var zJ=VJ;function HJ(){return"<component name not available>"}var av=HJ;const{currentRendererSupportsUseSyncExternalStore:WJ,reactMode:Nf,useMutableSource:YJ,useSyncExternalStore:GJ}=oE,{useRecoilMutableSource:KJ,useStoreRef:Ju}=yE,{isRecoilValue:rve}=al,{getRecoilValueAsLoadable:lv,setRecoilValue:QJ,subscribeToRecoilValue:uv}=ao,{useCallback:qi,useEffect:Em,useMemo:XJ,useRef:Mj,useState:Lj}=se,{isSSR:JJ}=gE;function ZJ(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),JJ&&tn(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:mt(`Invalid value of loadable atom "${e.key}"`)}function eZ(t){const e=Ju(),n=av(),r=qi(()=>{var a;const l=e.current,h=l.getState(),c=Nf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return{loadable:lv(l,t,c),key:t.key}},[e,t]),i=qi(a=>{let l;return()=>{var h,c;const f=a();return(h=l)!==null&&h!==void 0&&h.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),s=XJ(()=>i(r),[r,i]),o=qi(a=>{const l=e.current;return uv(l,t,a,n).release},[e,t,n]);return GJ(o,s,s).loadable}function tZ(t){const e=Ju(),n=qi(()=>{var h;const c=e.current,f=c.getState(),p=Nf().early&&(h=f.nextTree)!==null&&h!==void 0?h:f.currentTree;return lv(c,t,p)},[e,t]),r=qi(()=>n(),[n]),i=av(),s=qi((h,c)=>{const f=e.current;return uv(f,t,()=>{if(!Gt("recoil_suppress_rerender_in_callback"))return c();const m=n();l.current.is(m)||c(),l.current=m},i).release},[e,t,i,n]),o=KJ();if(o==null)throw mt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=YJ(o,r,s),l=Mj(a);return Em(()=>{l.current=a}),a}function kO(t){const e=Ju(),n=av(),r=qi(()=>{var l;const h=e.current,c=h.getState(),f=Nf().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return lv(h,t,f)},[e,t]),i=qi(()=>({loadable:r(),key:t.key}),[r,t.key]),s=qi(l=>{const h=i();return l.loadable.is(h.loadable)&&l.key===h.key?l:h},[i]);Em(()=>{const l=uv(e.current,t,h=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Lj(i);return o.key!==t.key?i().loadable:o.loadable}function nZ(t){const e=Ju(),[,n]=Lj([]),r=av(),i=qi(()=>{var a;const l=e.current,h=l.getState(),c=Nf().early&&(a=h.nextTree)!==null&&a!==void 0?a:h.currentTree;return lv(l,t,c)},[e,t]),s=i(),o=Mj(s);return Em(()=>{o.current=s}),Em(()=>{const a=e.current,l=a.getState(),h=uv(a,t,f=>{var p;if(!Gt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=o.current)!==null&&p!==void 0&&p.is(m)||n(m),o.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Gt("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(c=o.current)!==null&&c!==void 0&&c.is(f)||n(f),o.current=f}return h.release},[r,i,t,e]),s}function rZ(t){return Gt("recoil_memory_managament_2020")&&zJ(t),{TRANSITION_SUPPORT:kO,SYNC_EXTERNAL_STORE:WJ()?eZ:kO,MUTABLE_SOURCE:tZ,LEGACY:nZ}[Nf().mode](t)}function jj(t){const e=Ju(),n=rZ(t);return ZJ(n,t,e)}function Fj(t){const e=Ju();return qi(n=>{QJ(e.current,t,n)},[e,t])}function iZ(t){return[jj(t),Fj(t)]}var sZ={useRecoilState:iZ,useRecoilValue:jj,useSetRecoilState:Fj};const{batchUpdates:oZ}=mE,{DEFAULT_VALUE:aZ,getNode:lZ}=Ai,{AbstractRecoilValue:uZ,setRecoilValueLoadable:cZ}=ao,{cloneSnapshot:ive}=ov,{useCallback:sve,useEffect:ove,useRef:ave,useState:lve}=se;function dZ(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;oZ(()=>{const o=new Set;for(const h of[i.atomValues.keys(),s.atomValues.keys()])for(const c of h){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&lZ(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(h=>{cZ(t,new uZ(h),s.atomValues.has(h)?cn(s.atomValues.get(h)):aZ)}),t.replaceState(h=>({...h,stateID:e.getID()}))})}var fZ={gotoSnapshot:dZ};const{useMemo:uve}=se,{loadableWithValue:hZ}=Ef,{initializeNode:pZ}=El,{DEFAULT_VALUE:mZ,getNode:gZ}=Ai,{copyTreeState:vZ,getRecoilValueAsLoadable:yZ,invalidateDownstreams:wZ,writeLoadableToTreeState:bZ}=ao;function TO(t){return gZ(t.key).nodeType==="atom"}class xZ{constructor(e,n){ft(this,"_store",void 0),ft(this,"_treeState",void 0),ft(this,"_changes",void 0),ft(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!TO(r))throw mt("Reading selectors within atomicUpdate is not supported");const i=yZ(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:mt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ft(this,"set",(r,i)=>{if(!TO(r))throw mt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else pZ(this._store,r.key,"set"),this._changes.set(r.key,i)}),ft(this,"reset",r=>{this.set(r,mZ)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=vZ(this._treeState);for(const[n,r]of this._changes)bZ(e,n,hZ(r));return wZ(this._store,e),e}}function _Z(t){return e=>{t.replaceState(n=>{const r=new xZ(t,n);return e(r),r.newTreeState_INTERNAL()})}}var SZ={atomicUpdater:_Z},EZ=SZ.atomicUpdater,$j=Object.freeze({__proto__:null,atomicUpdater:EZ});function kZ(t,e){if(!t)throw new Error(e)}var TZ=kZ,ad=TZ;const{atomicUpdater:CZ}=$j,{batchUpdates:NZ}=mE,{DEFAULT_VALUE:OZ}=Ai,{refreshRecoilValue:AZ,setRecoilValue:CO}=ao,{cloneSnapshot:DZ}=ov,{gotoSnapshot:IZ}=fZ,{useCallback:cve}=se;class Bj{}const RZ=new Bj;function PZ(t,e,n,r){let i=RZ,s;if(NZ(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw mt(a);const l=aj({...r??{},set:(c,f)=>CO(t,c,f),reset:c=>CO(t,c,OZ),refresh:c=>AZ(t,c),gotoSnapshot:c=>IZ(t,c),transact_UNSTABLE:c=>CZ(t)(c)},{snapshot:()=>{const c=DZ(t);return s=c.retain(),c}}),h=e(l);if(typeof h!="function")throw mt(a);i=h(...n)}),i instanceof Bj&&ad(!1),tn(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}var MZ={recoilCallback:PZ};const{useCallback:dve}=se,{atomicUpdater:fve}=$j,{useMemo:hve}=se;class LZ{constructor(e){ft(this,"value",void 0),this.value=e}}var jZ={WrappedValue:LZ},FZ=jZ.WrappedValue,Uj=Object.freeze({__proto__:null,WrappedValue:FZ});class NO extends Error{}class $Z{constructor(e){var n,r,i;ft(this,"_name",void 0),ft(this,"_numLeafs",void 0),ft(this,"_root",void 0),ft(this,"_onHit",void 0),ft(this,"_onSet",void 0),ft(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let h,c;for(const[w,b]of e){var f,p,m;const x=this._root;if((x==null?void 0:x.type)==="leaf")throw this.invalidCacheError();const E=h;if(h=E?E.branches.get(c):x,h=(f=h)!==null&&f!==void 0?f:{type:"branch",nodeKey:w,parent:E,branches:new Map,branchKey:c},h.type!=="branch"||h.nodeKey!==w)throw this.invalidCacheError();E==null||E.branches.set(c,h),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,h),c=this._mapNodeValue(b),this._root=(m=this._root)!==null&&m!==void 0?m:h}const g=h?(s=h)===null||s===void 0?void 0:s.branches.get(c):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==c))throw this.invalidCacheError();const y={type:"leaf",value:n,parent:h,branchKey:c};(o=h)===null||o===void 0||o.branches.set(c,y),this._root=(a=this._root)!==null&&a!==void 0?a:y,this._numLeafs++,this._onSet(y),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,y)};try{i()}catch(s){if(s instanceof NO)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw ei("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new NO}}var BZ={TreeCache:$Z},UZ=BZ.TreeCache,Vj=Object.freeze({__proto__:null,TreeCache:UZ});class VZ{constructor(e){var n;ft(this,"_maxSize",void 0),ft(this,"_size",void 0),ft(this,"_head",void 0),ft(this,"_tail",void 0),ft(this,"_map",void 0),ft(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=cn(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var qZ={LRUCache:VZ},zZ=qZ.LRUCache,qj=Object.freeze({__proto__:null,LRUCache:zZ});const{LRUCache:HZ}=qj,{TreeCache:WZ}=Vj;function YZ({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new HZ({maxSize:e}),i=new WZ({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var OO=YZ;function Bi(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw mt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(tn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Bi(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Bi(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Bi(s,e)]=o;return Bi(i,e,n)}return t instanceof Set?Bi(Array.from(t).sort((i,s)=>Bi(i,e).localeCompare(Bi(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Bi(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Bi(i,e)}:${Bi(t[i],e,i)}`).join(",")}}`}function GZ(t,e={allowFunctions:!1}){return Bi(t,e)}var cv=GZ;const{TreeCache:KZ}=Vj,lp={equality:"reference",eviction:"keep-all",maxSize:1/0};function QZ({equality:t=lp.equality,eviction:e=lp.eviction,maxSize:n=lp.maxSize}=lp,r){const i=XZ(t);return JZ(e,n,i,r)}function XZ(t){switch(t){case"reference":return e=>e;case"value":return e=>cv(e)}throw mt(`Unrecognized equality policy ${t}`)}function JZ(t,e,n,r){switch(t){case"keep-all":return new KZ({name:r,mapNodeValue:n});case"lru":return OO({name:r,maxSize:cn(e),mapNodeValue:n});case"most-recent":return OO({name:r,maxSize:1,mapNodeValue:n})}throw mt(`Unrecognized eviction policy ${t}`)}var ZZ=QZ;const{isLoadable:eee,loadableWithError:up,loadableWithPromise:tee,loadableWithValue:gw}=Ef,{WrappedValue:zj}=Uj,{getNodeLoadable:cp,peekNodeLoadable:nee,setNodeValue:ree}=El,{saveDepsToStore:iee}=Tf,{DEFAULT_VALUE:see,getConfigDeletionHandler:oee,getNode:aee,registerNode:AO}=Ai,{isRecoilValue:lee}=al,{markRecoilValueModified:DO}=ao,{retainedByOptionWithDefault:uee}=Xu,{recoilCallback:cee}=MZ;class Hj{}const Hc=new Hj,Wc=[],dp=new Map,dee=(()=>{let t=0;return()=>t++})();function Wj(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=ZZ(i??{equality:"reference",eviction:"keep-all"},n),l=uee(t.retainedBy_UNSTABLE),h=new Map;let c=0;function f(){return!Gt("recoil_memory_managament_2020")||c>0}function p(V){return V.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return oee(n)!==void 0&&!f()}function g(V,H,Q,X,W){L(H,X,W),y(V,Q)}function y(V,H){F(V,H)&&M(V),b(H,!0)}function w(V,H){F(V,H)&&(cn(R(V)).stateVersions.clear(),b(H,!1))}function b(V,H){const Q=dp.get(V);if(Q!=null){for(const X of Q)DO(X,cn(e));H&&dp.delete(V)}}function x(V,H){let Q=dp.get(H);Q==null&&dp.set(H,Q=new Set),Q.add(V)}function E(V,H,Q,X,W,J){return H.then(Z=>{if(!f())throw M(V),Hc;const te=gw(Z);return g(V,Q,W,te,X),Z}).catch(Z=>{if(!f())throw M(V),Hc;if(tn(Z))return S(V,Z,Q,X,W,J);const te=up(Z);throw g(V,Q,W,te,X),Z})}function S(V,H,Q,X,W,J){return H.then(Z=>{if(!f())throw M(V),Hc;J.loadingDepKey!=null&&J.loadingDepPromise===H?Q.atomValues.set(J.loadingDepKey,gw(Z)):V.getState().knownSelectors.forEach(ge=>{Q.atomValues.delete(ge)});const te=O(V,Q);if(te&&te.state!=="loading"){if((F(V,W)||R(V)==null)&&y(V,W),te.state==="hasValue")return te.contents;throw te.contents}if(!F(V,W)){const ge=I(V,Q);if(ge!=null)return ge.loadingLoadable.contents}const[le,pe]=N(V,Q,W);if(le.state!=="loading"&&g(V,Q,W,le,pe),le.state==="hasError")throw le.contents;return le.contents}).catch(Z=>{if(Z instanceof Hj)throw Hc;if(!f())throw M(V),Hc;const te=up(Z);throw g(V,Q,W,te,X),Z})}function k(V,H,Q,X){var W,J,Z,te;if(F(V,X)||H.version===((W=V.getState())===null||W===void 0||(J=W.currentTree)===null||J===void 0?void 0:J.version)||H.version===((Z=V.getState())===null||Z===void 0||(te=Z.nextTree)===null||te===void 0?void 0:te.version)){var le,pe,ge;iee(n,Q,V,(le=(pe=V.getState())===null||pe===void 0||(ge=pe.nextTree)===null||ge===void 0?void 0:ge.version)!==null&&le!==void 0?le:V.getState().currentTree.version)}for(const Ce of Q)o.add(Ce)}function N(V,H,Q){let X=!0,W=!0;const J=()=>{W=!1};let Z,te=!1,le;const pe={loadingDepKey:null,loadingDepPromise:null},ge=new Map;function Ce({key:De}){const nt=cp(V,H,De);switch(ge.set(De,nt),X||(k(V,H,new Set(ge.keys()),Q),w(V,Q)),nt.state){case"hasValue":return nt.contents;case"hasError":throw nt.contents;case"loading":throw pe.loadingDepKey=De,pe.loadingDepPromise=nt.contents,nt.contents}throw mt("Invalid Loadable state")}const $e=De=>(...nt)=>{if(W)throw mt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&ad(!1),cee(V,De,nt,{node:e})};try{Z=r({get:Ce,getCallback:$e}),Z=lee(Z)?Ce(Z):Z,eee(Z)&&(Z.state==="hasError"&&(te=!0),Z=Z.contents),tn(Z)?Z=E(V,Z,H,ge,Q,pe).finally(J):J(),Z=Z instanceof zj?Z.value:Z}catch(De){Z=De,tn(Z)?Z=S(V,Z,H,ge,Q,pe).finally(J):(te=!0,J())}return te?le=up(Z):tn(Z)?le=tee(Z):le=gw(Z),X=!1,D(V,Q,ge),k(V,H,new Set(ge.keys()),Q),[le,ge]}function O(V,H){let Q=H.atomValues.get(n);if(Q!=null)return Q;const X=new Set;try{Q=a.get(J=>(typeof J!="string"&&ad(!1),cp(V,H,J).contents),{onNodeVisit:J=>{J.type==="branch"&&J.nodeKey!==n&&X.add(J.nodeKey)}})}catch(J){throw mt(`Problem with cache lookup for selector "${n}": ${J.message}`)}if(Q){var W;H.atomValues.set(n,Q),k(V,H,X,(W=R(V))===null||W===void 0?void 0:W.executionID)}return Q}function C(V,H){const Q=O(V,H);if(Q!=null)return M(V),Q;const X=I(V,H);if(X!=null){var W;return((W=X.loadingLoadable)===null||W===void 0?void 0:W.state)==="loading"&&x(V,X.executionID),X.loadingLoadable}const J=dee(),[Z,te]=N(V,H,J);return Z.state==="loading"?(A(V,J,Z,te,H),x(V,J)):(M(V),L(H,Z,te)),Z}function I(V,H){const Q=Sj([h.has(V)?[cn(h.get(V))]:[],tv(fE(h,([W])=>W!==V),([,W])=>W)]);function X(W){for(const[J,Z]of W)if(!cp(V,H,J).is(Z))return!0;return!1}for(const W of Q){if(W.stateVersions.get(H.version)||!X(W.depValuesDiscoveredSoFarDuringAsyncWork))return W.stateVersions.set(H.version,!0),W;W.stateVersions.set(H.version,!1)}}function R(V){return h.get(V)}function A(V,H,Q,X,W){h.set(V,{depValuesDiscoveredSoFarDuringAsyncWork:X,executionID:H,loadingLoadable:Q,stateVersions:new Map([[W.version,!0]])})}function D(V,H,Q){if(F(V,H)){const X=R(V);X!=null&&(X.depValuesDiscoveredSoFarDuringAsyncWork=Q)}}function M(V){h.delete(V)}function F(V,H){var Q;return H===((Q=R(V))===null||Q===void 0?void 0:Q.executionID)}function q(V){return Array.from(V.entries()).map(([H,Q])=>[H,Q.contents])}function L(V,H,Q){V.atomValues.set(n,H);try{a.set(q(Q),H)}catch(X){throw mt(`Problem with setting cache for selector "${n}": ${X.message}`)}}function B(V){if(Wc.includes(n)){const H=`Recoil selector has circular dependencies: ${Wc.slice(Wc.indexOf(n)).join("  ")}`;return up(mt(H))}Wc.push(n);try{return V()}finally{Wc.pop()}}function Y(V,H){const Q=H.atomValues.get(n);return Q??a.get(X=>{var W;return typeof X!="string"&&ad(!1),(W=nee(V,H,X))===null||W===void 0?void 0:W.contents})}function z(V,H){return B(()=>C(V,H))}function j(V){V.atomValues.delete(n)}function U(V,H){e==null&&ad(!1);for(const X of o){var Q;const W=aee(X);(Q=W.clearCache)===null||Q===void 0||Q.call(W,V,H)}o.clear(),j(H),a.clear(),DO(V,e)}return s!=null?e=AO({key:n,nodeType:"selector",peek:Y,get:z,set:(H,Q,X)=>{let W=!1;const J=new Map;function Z({key:ge}){if(W)throw mt("Recoil: Async selector sets are not currently supported.");const Ce=cp(H,Q,ge);if(Ce.state==="hasValue")return Ce.contents;if(Ce.state==="loading"){const $e=`Getting value of asynchronous atom or selector "${ge}" in a pending state while setting selector "${n}" is not yet supported.`;throw ei(),mt($e)}else throw Ce.contents}function te(ge,Ce){if(W){const nt="Recoil: Async selector sets are not currently supported.";throw ei(),mt(nt)}const $e=typeof Ce=="function"?Ce(Z(ge)):Ce;ree(H,Q,ge.key,$e).forEach((nt,Xe)=>J.set(Xe,nt))}function le(ge){te(ge,see)}const pe=s({set:te,get:Z,reset:le},X);if(pe!==void 0)throw tn(pe)?mt("Recoil: Async selector sets are not currently supported."):mt("Recoil: selector set should be a void function.");return W=!0,J},init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=AO({key:n,nodeType:"selector",peek:Y,get:z,init:p,invalidate:j,clearCache:U,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Wj.value=t=>new zj(t);var Mu=Wj;const{isLoadable:fee,loadableWithError:vw,loadableWithPromise:yw,loadableWithValue:Xl}=Ef,{WrappedValue:Yj}=Uj,{peekNodeInfo:hee}=El,{DEFAULT_VALUE:Ma,DefaultValue:Lo,getConfigDeletionHandler:Gj,registerNode:pee,setConfigDeletionHandler:mee}=Ai,{isRecoilValue:gee}=al,{getRecoilValueAsLoadable:vee,markRecoilValueModified:yee,setRecoilValue:IO,setRecoilValueLoadable:wee}=ao,{retainedByOptionWithDefault:bee}=Xu,Yc=t=>t instanceof Yj?t.value:t;function xee(t){const{key:e,persistence_UNSTABLE:n}=t,r=bee(t.retainedBy_UNSTABLE);let i=0;function s(x){return yw(x.then(E=>(o=Xl(E),E)).catch(E=>{throw o=vw(E),E}))}let o=tn(t.default)?s(t.default):fee(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Xl(Yc(t.default));o.contents;let a;const l=new Map;function h(x){return x}function c(x,E){const S=E.then(k=>{var N,O;return((O=((N=x.getState().nextTree)!==null&&N!==void 0?N:x.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&IO(x,b,k),k}).catch(k=>{var N,O;throw((O=((N=x.getState().nextTree)!==null&&N!==void 0?N:x.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===S&&wee(x,b,vw(k)),k});return S}function f(x,E,S){var k;i++;const N=()=>{var R;i--,(R=l.get(x))===null||R===void 0||R.forEach(A=>A()),l.delete(x)};if(x.getState().knownAtoms.add(e),o.state==="loading"){const R=()=>{var A;((A=x.getState().nextTree)!==null&&A!==void 0?A:x.getState().currentTree).atomValues.has(e)||yee(x,b)};o.contents.finally(R)}const O=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(O!=null){let R=function(j){if(F&&j.key===e){const U=M;return U instanceof Lo?p(x,E):tn(U)?yw(U.then(V=>V instanceof Lo?o.toPromise():V)):Xl(U)}return vee(x,j)},A=function(j){return R(j).toPromise()},D=function(j){var U;const V=hee(x,(U=x.getState().nextTree)!==null&&U!==void 0?U:x.getState().currentTree,j.key);return F&&j.key===e&&!(M instanceof Lo)?{...V,isSet:!0,loadable:R(j)}:V},M=Ma,F=!0,q=!1,L=null;const B=j=>U=>{if(F){const V=R(b),H=V.state==="hasValue"?V.contents:Ma;M=typeof U=="function"?U(H):U,tn(M)&&(M=M.then(Q=>(L={effect:j,value:Q},Q)))}else{if(tn(U))throw mt("Setting atoms to async values is not implemented.");typeof U!="function"&&(L={effect:j,value:Yc(U)}),IO(x,b,typeof U=="function"?V=>{const H=Yc(U(V));return L={effect:j,value:H},H}:Yc(U))}},Y=j=>()=>B(j)(Ma),z=j=>U=>{var V;const{release:H}=x.subscribeToTransactions(Q=>{var X;let{currentTree:W,previousTree:J}=Q.getState();J||(ei(),J=W);const Z=(X=W.atomValues.get(e))!==null&&X!==void 0?X:o;if(Z.state==="hasValue"){var te,le,pe,ge;const Ce=Z.contents,$e=(te=J.atomValues.get(e))!==null&&te!==void 0?te:o,De=$e.state==="hasValue"?$e.contents:Ma;((le=L)===null||le===void 0?void 0:le.effect)!==j||((pe=L)===null||pe===void 0?void 0:pe.value)!==Ce?U(Ce,De,!W.atomValues.has(e)):((ge=L)===null||ge===void 0?void 0:ge.effect)===j&&(L=null)}},e);l.set(x,[...(V=l.get(x))!==null&&V!==void 0?V:[],H])};for(const j of O)try{const U=j({node:b,storeID:x.storeID,parentStoreID_UNSTABLE:x.parentStoreID,trigger:S,setSelf:B(j),resetSelf:Y(j),onSet:z(j),getPromise:A,getLoadable:R,getInfo_UNSTABLE:D});if(U!=null){var C;l.set(x,[...(C=l.get(x))!==null&&C!==void 0?C:[],U])}}catch(U){M=U,q=!0}if(F=!1,!(M instanceof Lo)){var I;const j=q?vw(M):tn(M)?yw(c(x,M)):Xl(Yc(M));j.contents,E.atomValues.set(e,j),(I=x.getState().nextTree)===null||I===void 0||I.atomValues.set(e,j)}}return N}function p(x,E){var S,k;return(S=(k=E.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&S!==void 0?S:o}function m(x,E){if(E.atomValues.has(e))return cn(E.atomValues.get(e));if(E.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return nj(),o;const S=E.nonvalidatedAtoms.get(e),k=n.validator(S,Ma);return a=k instanceof Lo?o:Xl(k),a}else return o}function g(){a=void 0}function y(x,E,S){if(E.atomValues.has(e)){const k=cn(E.atomValues.get(e));if(k.state==="hasValue"&&S===k.contents)return new Map}else if(!E.nonvalidatedAtoms.has(e)&&S instanceof Lo)return new Map;return a=void 0,new Map().set(e,Xl(S))}function w(){return Gj(e)!==void 0&&i<=0}const b=pee({key:e,nodeType:"atom",peek:p,get:m,set:y,init:f,invalidate:g,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return b}function wE(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return gee(n)?_ee({...e,default:n}):xee({...e,default:n})}function _ee(t){const e=wE({...t,default:Ma,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Lo?r:cn(t.persistence_UNSTABLE).validator(r,Ma)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Mu({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Lo?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return mee(n.key,Gj(t.key)),n}wE.value=t=>new Yj(t);var Kj=wE;class See{constructor(e){var n;ft(this,"_map",void 0),ft(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Eee={MapCache:See},kee=Eee.MapCache,Tee=Object.freeze({__proto__:null,MapCache:kee});const{LRUCache:RO}=qj,{MapCache:Cee}=Tee,fp={equality:"reference",eviction:"none",maxSize:1/0};function Nee({equality:t=fp.equality,eviction:e=fp.eviction,maxSize:n=fp.maxSize}=fp){const r=Oee(t);return Aee(e,n,r)}function Oee(t){switch(t){case"reference":return e=>e;case"value":return e=>cv(e)}throw mt(`Unrecognized equality policy ${t}`)}function Aee(t,e,n){switch(t){case"keep-all":return new Cee({mapKey:n});case"lru":return new RO({mapKey:n,maxSize:cn(e)});case"most-recent":return new RO({mapKey:n,maxSize:1})}throw mt(`Unrecognized eviction policy ${t}`)}var Qj=Nee;const{setConfigDeletionHandler:Dee}=Ai;function Iee(t){var e,n;const r=Qj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...h}=t,c="default"in t?t.default:new Promise(()=>{}),f=Kj({...h,key:`${t.key}__${(s=cv(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,f),Dee(f.key,()=>{r.delete(i)}),f}}var Ree=Iee;const{setConfigDeletionHandler:Pee}=Ai;let Mee=0;function Lee(t){var e,n;const r=Qj({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(p){throw mt(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=cv(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${Mee++}`,l=p=>t.get(i)(p),h=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const p=t.set;f=Mu({key:a,get:l,set:(g,y)=>p(i)(g,y),cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Mu({key:a,get:l,cachePolicy_UNSTABLE:h,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,f),Pee(f.key,()=>{r.delete(i)}),f}}var pa=Lee;pa({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});pa({key:"__error",get:t=>()=>{throw mt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:Xj,loadableWithPromise:Jj,loadableWithValue:Zj}=Ef;function dv(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function jee(t){return t!=null&&!tn(t)}function fv(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function r_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function gu(t,e,n){const r=n.map((i,s)=>i==null?Zj(e[s]):tn(i)?Jj(i):Xj(i));return r_(t,r)}function Fee(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}pa({key:"__waitForNone",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);return gu(t,r,i)},dangerouslyAllowMutability:!0});pa({key:"__waitForAny",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);return i.some(s=>!tn(s))?gu(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())tn(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(gu(t,r,i))}).catch(l=>{i[o]=l,s(gu(t,r,i))})})},dangerouslyAllowMutability:!0});pa({key:"__waitForAll",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);if(i.every(o=>o==null))return r_(t,r);const s=i.find(jee);if(s!=null)throw s;return Promise.all(i).then(o=>r_(t,Fee(r,o)))},dangerouslyAllowMutability:!0});pa({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=fv(t),[r,i]=dv(e,n);return i.every(s=>!tn(s))?gu(t,r,i):Promise.all(i.map((s,o)=>tn(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>gu(t,r,i))},dangerouslyAllowMutability:!0});pa({key:"__noWait",get:t=>({get:e})=>{try{return Mu.value(Zj(e(t)))}catch(n){return Mu.value(tn(n)?Jj(n):Xj(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:pve}=Ef,{RecoilRoot:$ee}=yE,{isRecoilValue:mve}=al,{freshSnapshot:gve}=ov,{useRecoilState:Bee,useRecoilValue:Uee,useSetRecoilState:Vee}=sZ;var ma={RecoilRoot:$ee,atom:Kj,selector:Mu,atomFamily:Ree,selectorFamily:pa,useRecoilValue:Uee,useRecoilState:Bee,useSetRecoilState:Vee},qee=ma.RecoilRoot,jn=ma.atom,zee=ma.selector,bE=ma.atomFamily,xE=ma.selectorFamily,Pe=ma.useRecoilValue,fn=ma.useRecoilState,Ts=ma.useSetRecoilState;const e3=jn({key:"modalList",default:[]});var hp,Hee=new Uint8Array(16);function Wee(){if(!hp&&(hp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hp(Hee)}const Yee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Gee(t){return typeof t=="string"&&Yee.test(t)}var tr=[];for(var ww=0;ww<256;++ww)tr.push((ww+256).toString(16).substr(1));function Kee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(tr[t[e+0]]+tr[t[e+1]]+tr[t[e+2]]+tr[t[e+3]]+"-"+tr[t[e+4]]+tr[t[e+5]]+"-"+tr[t[e+6]]+tr[t[e+7]]+"-"+tr[t[e+8]]+tr[t[e+9]]+"-"+tr[t[e+10]]+tr[t[e+11]]+tr[t[e+12]]+tr[t[e+13]]+tr[t[e+14]]+tr[t[e+15]]).toLowerCase();if(!Gee(n))throw TypeError("Stringified UUID is invalid");return n}function on(t,e,n){t=t||{};var r=t.random||(t.rng||Wee)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Kee(r)}const _E=jn({key:`recommendedBook/${on()}`,default:{thumbnail:"",title:"",authors:[],url:"",publisher:""}}),t3=jn({key:`bookDesc${on()}`,default:null}),n3=jn({key:`searchList${on()}`,default:[]}),xd=[{id:1,name:""},{id:2,name:""},{id:3,name:"/"},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:"/"},{id:12,name:""}];function r3(t,e){return t.length<e?t:`${t.slice(0,e)}...`}const i3=6048e5,Qee=864e5,PO=Symbol.for("constructDateFrom");function na(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&PO in t?t[PO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qi(t,e){return na(e||t,t)}let Xee={};function hv(){return Xee}function zd(t,e){var a,l,h,c;const n=hv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Qi(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function km(t,e){return zd(t,{...e,weekStartsOn:1})}function s3(t,e){const n=Qi(t,e==null?void 0:e.in),r=n.getFullYear(),i=na(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=km(i),o=na(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=km(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function MO(t){const e=Qi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Jee(t,...e){const n=na.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function LO(t,e){const n=Qi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Zee(t,e,n){const[r,i]=Jee(n==null?void 0:n.in,t,e),s=LO(r),o=LO(i),a=+s-MO(s),l=+o-MO(o);return Math.round((a-l)/Qee)}function ete(t,e){const n=s3(t,e),r=na(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),km(r)}function tte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nte(t){return!(!tte(t)&&typeof t!="number"||isNaN(+Qi(t)))}function rte(t,e){const n=Qi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ite={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ste=(t,e,n)=>{let r;const i=ite[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ote={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ate={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ute={date:vu({formats:ote,defaultWidth:"full"}),time:vu({formats:ate,defaultWidth:"full"}),dateTime:vu({formats:lte,defaultWidth:"full"})},cte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dte=(t,e,n,r)=>cte[t];function ls(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const fte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wte={ordinalNumber:yte,era:ls({values:fte,defaultWidth:"wide"}),quarter:ls({values:hte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ls({values:pte,defaultWidth:"wide"}),day:ls({values:mte,defaultWidth:"wide"}),dayPeriod:ls({values:gte,defaultWidth:"wide",formattingValues:vte,defaultFormattingWidth:"wide"})};function us(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?xte(a,f=>f.test(o)):bte(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function bte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function o3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const _te=/^(\d+)(th|st|nd|rd)?/i,Ste=/\d+/i,Ete={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kte={any:[/^b/i,/^(a|c)/i]},Tte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cte={any:[/1/i,/2/i,/3/i,/4/i]},Nte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ote={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ate={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ite={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pte={ordinalNumber:o3({matchPattern:_te,parsePattern:Ste,valueCallback:t=>parseInt(t,10)}),era:us({matchPatterns:Ete,defaultMatchWidth:"wide",parsePatterns:kte,defaultParseWidth:"any"}),quarter:us({matchPatterns:Tte,defaultMatchWidth:"wide",parsePatterns:Cte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:us({matchPatterns:Nte,defaultMatchWidth:"wide",parsePatterns:Ote,defaultParseWidth:"any"}),day:us({matchPatterns:Ate,defaultMatchWidth:"wide",parsePatterns:Dte,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:Ite,defaultMatchWidth:"any",parsePatterns:Rte,defaultParseWidth:"any"})},Mte={code:"en-US",formatDistance:ste,formatLong:ute,formatRelative:dte,localize:wte,match:Pte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lte(t,e){const n=Qi(t,e==null?void 0:e.in);return Zee(n,rte(n))+1}function jte(t,e){const n=Qi(t,e==null?void 0:e.in),r=+km(n)-+ete(n);return Math.round(r/i3)+1}function a3(t,e){var c,f,p,m;const n=Qi(t,e==null?void 0:e.in),r=n.getFullYear(),i=hv(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=na((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=zd(o,e),l=na((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=zd(l,e);return+n>=+a?r+1:+n>=+h?r:r-1}function Fte(t,e){var a,l,h,c;const n=hv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=a3(t,e),s=na((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),zd(s,e)}function $te(t,e){const n=Qi(t,e==null?void 0:e.in),r=+zd(n,e)-+Fte(n,e);return Math.round(r/i3)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ro={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},Jl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ro.y(t,e)},Y:function(t,e,n,r){const i=a3(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return $t(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,e.length)},R:function(t,e){const n=s3(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ro.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$te(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=jte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ro.d(t,e)},D:function(t,e,n){const r=Lte(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Jl.noon:r===0?i=Jl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Jl.evening:r>=12?i=Jl.afternoon:r>=4?i=Jl.morning:i=Jl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ro.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ro.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ro.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ro.s(t,e)},S:function(t,e){return Ro.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $O(r);case"XXXX":case"XX":return Ra(r);case"XXXXX":case"XXX":default:return Ra(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $O(r);case"xxxx":case"xx":return Ra(r);case"xxxxx":case"xxx":default:return Ra(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FO(r,":");case"OOOO":default:return"GMT"+Ra(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FO(r,":");case"zzzz":default:return"GMT"+Ra(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return $t(r,e.length)},T:function(t,e,n){return $t(+t,e.length)}};function FO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$t(s,2)}function $O(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Ra(t,e)}function Ra(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+i+e+s}const BO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},l3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BO(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BO(r,e)).replace("{{time}}",l3(i,e))},Ute={p:l3,P:Bte},Vte=/^D+$/,qte=/^Y+$/,zte=["D","DD","YY","YYYY"];function Hte(t){return Vte.test(t)}function Wte(t){return qte.test(t)}function Yte(t,e,n){const r=Gte(t,e,n);if(console.warn(r),zte.includes(t))throw new RangeError(r)}function Gte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xte=/^'([^]*?)'?$/,Jte=/''/g,Zte=/[a-zA-Z]/;function ene(t,e,n){var c,f,p,m,g,y,w,b;const r=hv(),i=(n==null?void 0:n.locale)??r.locale??Mte,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Qi(t,n==null?void 0:n.in);if(!nte(a))throw new RangeError("Invalid time value");let l=e.match(Qte).map(x=>{const E=x[0];if(E==="p"||E==="P"){const S=Ute[E];return S(x,i.formatLong)}return x}).join("").match(Kte).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:tne(x)};if(jO[E])return{isToken:!0,value:x};if(E.match(Zte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const E=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Wte(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Hte(E))&&Yte(E,e,String(t));const S=jO[E[0]];return S(a,E,i.localize,h)}).join("")}function tne(t){const e=t.match(Xte);return e?e[1].replace(Jte,"'"):t}const nne={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},rne=(t,e,n)=>{let r;const i=nne[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" ":r+" ":r},ine={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},sne={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},one={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},ane={date:vu({formats:ine,defaultWidth:"full"}),time:vu({formats:sne,defaultWidth:"full"}),dateTime:vu({formats:one,defaultWidth:"full"})},lne={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},une=(t,e,n,r)=>lne[t],cne={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},dne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},fne={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},hne={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},pne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},mne={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},gne=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"";default:return n+""}},vne={ordinalNumber:gne,era:ls({values:cne,defaultWidth:"wide"}),quarter:ls({values:dne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ls({values:fne,defaultWidth:"wide"}),day:ls({values:hne,defaultWidth:"wide"}),dayPeriod:ls({values:pne,defaultWidth:"wide",formattingValues:mne,defaultFormattingWidth:"wide"})},yne=/^(\d+)(|)?/i,wne=/\d+/i,bne={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},xne={any:[/^(bc|)/i,/^(ad|)/i]},_ne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},Sne={any:[/1/i,/2/i,/3/i,/4/i]},Ene={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},kne={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Tne={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Cne={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Nne={any:/^(am|pm|||||||)/i},One={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Ane={ordinalNumber:o3({matchPattern:yne,parsePattern:wne,valueCallback:t=>parseInt(t,10)}),era:us({matchPatterns:bne,defaultMatchWidth:"wide",parsePatterns:xne,defaultParseWidth:"any"}),quarter:us({matchPatterns:_ne,defaultMatchWidth:"wide",parsePatterns:Sne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:us({matchPatterns:Ene,defaultMatchWidth:"wide",parsePatterns:kne,defaultParseWidth:"any"}),day:us({matchPatterns:Tne,defaultMatchWidth:"wide",parsePatterns:Cne,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:Nne,defaultMatchWidth:"any",parsePatterns:One,defaultParseWidth:"any"})},u3={code:"ko",formatDistance:rne,formatLong:ane,formatRelative:une,localize:vne,match:Ane,options:{weekStartsOn:0,firstWeekContainsDate:1}},Zu=new Date,wt=(t,e="yy M d HH:mm")=>{try{const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("  ");return ene(n,e,{locale:u3})}catch(n){console.error("    :",n)}};function Lu(t){const e=new Date;e.setHours(0,0,0,0);const n=new Date(t);n.setHours(0,0,0,0);const r=+n-+e;return`${Math.floor(r/(1e3*60*60*24))}`}const c3=()=>{const t=new Date(wt(Zu,"yyyy-MM"));return t.setMonth(t.getMonth()+1),wt(t,"yyyy-MM")};function Dne(t=+_t,e=+Ws,n=0,r=0){const i=new Date(t,e-1,1);for(;i.getDay()!==0;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+14),i.setHours(n,r,0,0),i}const Nn=wt(Zu,"yyyy-MM"),_t=wt(Zu,"yyyy"),Ws=wt(Zu,"MM");wt(Zu,"dd");const d3=wt(c3(),"yyyy-MM"),f3=`${+_t+1}`;d3.slice(0,4);const Ine=wt(c3(),"MM"),Tm=wt(Zu,"yyyy-MM-dd");function Of(t){return t?!!Object.keys(t).length:{}}const Zr=(t,e)=>`${`BookClub-${t.slice(0,4)}`}/${t}/${e}`;function UO(t,e,n){return n==="latest"?t.monthId.localeCompare(e.monthId):e.monthId.localeCompare(t.monthId)}const Rne=(t,e)=>t==null?void 0:t.map(({id:r,book:{title:i}})=>{const s=e.map(({votedItem:a})=>a).flat(),o=s==null?void 0:s.filter(a=>(a==null?void 0:a.id)===r).length;return{id:r,voteCount:o,title:i}}),Cm=(t,e,n=0)=>t===0&&e===0?0:+(Math.round(t/e*1e4/10)/10).toFixed(n),lo=`BookClub-${_t}`,Pne=`BookClub-${f3}`,zo="BookVote",ll="Challenge",Mne="TagList",Hd="FCMNotification",Gi="User",i_="VotedItems",h3="RecommendedBooks",pv="HostReview",SE="Reviews",Af="Subjects",EE="BookFieldAndHost",ul="AbsenceMembers",Lne="MeetingPlace",p3=[{step:1,stepName:" "},{step:2,stepName:" "},{step:3,stepName:" "}],jne=["",""],Fne={absenceMembers:Array.from({length:12},(t,e)=>({month:e+1,breakMembers:[],onceAbsenceMembers:[]}))},VO=["01","02","03","04","05","06","07","08","09","10","11","12"],$ne=Array.from({length:+_t-2020},(t,e)=>`${+_t-e}`),kE="wowo6806@naver.com";function Cr(t,e,n){const r=JL(dn(sn,t,e),i=>{n({id:i.id,...i.data()})});m3(r)}function qn(t,e){const n=FL(sn,t),r=K0(n,FN("name","!=","")),i=K0(n,FN("__name__",">=",`${_t}-`)),s=K0(n,KH("createdAt","desc")),a=JL(t===Gi?r:t===ll?i:s,l=>{const h=l.docs.map(c=>({id:c.id,...c.data()}));e(h)});m3(a)}function m3(t){dg(Qt,e=>{e==null&&t()})}async function g3(t,e,n){const r=dn(sn,t,e);await ks(r,n)}var pp={exports:{}},bw,qO;function v3(){return qO||(qO=1,bw=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}}),bw}var xw,zO;function cr(){if(zO)return xw;zO=1;var t=v3(),e=Object.prototype.toString,n=function(L){return function(B){var Y=e.call(B);return L[Y]||(L[Y]=Y.slice(8,-1).toLowerCase())}}(Object.create(null));function r(L){return L=L.toLowerCase(),function(Y){return n(Y)===L}}function i(L){return Array.isArray(L)}function s(L){return typeof L>"u"}function o(L){return L!==null&&!s(L)&&L.constructor!==null&&!s(L.constructor)&&typeof L.constructor.isBuffer=="function"&&L.constructor.isBuffer(L)}var a=r("ArrayBuffer");function l(L){var B;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?B=ArrayBuffer.isView(L):B=L&&L.buffer&&a(L.buffer),B}function h(L){return typeof L=="string"}function c(L){return typeof L=="number"}function f(L){return L!==null&&typeof L=="object"}function p(L){if(n(L)!=="object")return!1;var B=Object.getPrototypeOf(L);return B===null||B===Object.prototype}var m=r("Date"),g=r("File"),y=r("Blob"),w=r("FileList");function b(L){return e.call(L)==="[object Function]"}function x(L){return f(L)&&b(L.pipe)}function E(L){var B="[object FormData]";return L&&(typeof FormData=="function"&&L instanceof FormData||e.call(L)===B||b(L.toString)&&L.toString()===B)}var S=r("URLSearchParams");function k(L){return L.trim?L.trim():L.replace(/^\s+|\s+$/g,"")}function N(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function O(L,B){if(!(L===null||typeof L>"u"))if(typeof L!="object"&&(L=[L]),i(L))for(var Y=0,z=L.length;Y<z;Y++)B.call(null,L[Y],Y,L);else for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&B.call(null,L[j],j,L)}function C(){var L={};function B(j,U){p(L[U])&&p(j)?L[U]=C(L[U],j):p(j)?L[U]=C({},j):i(j)?L[U]=j.slice():L[U]=j}for(var Y=0,z=arguments.length;Y<z;Y++)O(arguments[Y],B);return L}function I(L,B,Y){return O(B,function(j,U){Y&&typeof j=="function"?L[U]=t(j,Y):L[U]=j}),L}function R(L){return L.charCodeAt(0)===65279&&(L=L.slice(1)),L}function A(L,B,Y,z){L.prototype=Object.create(B.prototype,z),L.prototype.constructor=L,Y&&Object.assign(L.prototype,Y)}function D(L,B,Y){var z,j,U,V={};B=B||{};do{for(z=Object.getOwnPropertyNames(L),j=z.length;j-- >0;)U=z[j],V[U]||(B[U]=L[U],V[U]=!0);L=Object.getPrototypeOf(L)}while(L&&(!Y||Y(L,B))&&L!==Object.prototype);return B}function M(L,B,Y){L=String(L),(Y===void 0||Y>L.length)&&(Y=L.length),Y-=B.length;var z=L.indexOf(B,Y);return z!==-1&&z===Y}function F(L){if(!L)return null;var B=L.length;if(s(B))return null;for(var Y=new Array(B);B-- >0;)Y[B]=L[B];return Y}var q=function(L){return function(B){return L&&B instanceof L}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));return xw={isArray:i,isArrayBuffer:a,isBuffer:o,isFormData:E,isArrayBufferView:l,isString:h,isNumber:c,isObject:f,isPlainObject:p,isUndefined:s,isDate:m,isFile:g,isBlob:y,isFunction:b,isStream:x,isURLSearchParams:S,isStandardBrowserEnv:N,forEach:O,merge:C,extend:I,trim:k,stripBOM:R,inherits:A,toFlatObject:D,kindOf:n,kindOfTest:r,endsWith:M,toArray:F,isTypedArray:q,isFileList:w},xw}var _w,HO;function y3(){if(HO)return _w;HO=1;var t=cr();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return _w=function(r,i,s){if(!i)return r;var o;if(s)o=s(i);else if(t.isURLSearchParams(i))o=i.toString();else{var a=[];t.forEach(i,function(c,f){c===null||typeof c>"u"||(t.isArray(c)?f=f+"[]":c=[c],t.forEach(c,function(m){t.isDate(m)?m=m.toISOString():t.isObject(m)&&(m=JSON.stringify(m)),a.push(e(f)+"="+e(m))}))}),o=a.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},_w}var Sw,WO;function Bne(){if(WO)return Sw;WO=1;var t=cr();function e(){this.handlers=[]}return e.prototype.use=function(r,i,s){return this.handlers.push({fulfilled:r,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(s){s!==null&&r(s)})},Sw=e,Sw}var Ew,YO;function Une(){if(YO)return Ew;YO=1;var t=cr();return Ew=function(n,r){t.forEach(n,function(s,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=s,delete n[o])})},Ew}var kw,GO;function ec(){if(GO)return kw;GO=1;var t=cr();function e(i,s,o,a,l){Error.call(this),this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),a&&(this.request=a),l&&(this.response=l)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){r[i]={value:i}}),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(i,s,o,a,l,h){var c=Object.create(n);return t.toFlatObject(i,c,function(p){return p!==Error.prototype}),e.call(c,i.message,s,o,a,l),c.name=i.name,h&&Object.assign(c,h),c},kw=e,kw}var Tw,KO;function w3(){return KO||(KO=1,Tw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),Tw}var Cw,QO;function b3(){if(QO)return Cw;QO=1;var t=cr();function e(n,r){r=r||new FormData;var i=[];function s(a){return a===null?"":t.isDate(a)?a.toISOString():t.isArrayBuffer(a)||t.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function o(a,l){if(t.isPlainObject(a)||t.isArray(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+l);i.push(a),t.forEach(a,function(c,f){if(!t.isUndefined(c)){var p=l?l+"."+f:f,m;if(c&&!l&&typeof c=="object"){if(t.endsWith(f,"{}"))c=JSON.stringify(c);else if(t.endsWith(f,"[]")&&(m=t.toArray(c))){m.forEach(function(g){!t.isUndefined(g)&&r.append(p,s(g))});return}}o(c,p)}}),i.pop()}else r.append(l,s(a))}return o(n),r}return Cw=e,Cw}var Nw,XO;function Vne(){if(XO)return Nw;XO=1;var t=ec();return Nw=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Nw}var Ow,JO;function qne(){if(JO)return Ow;JO=1;var t=cr();return Ow=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ow}var Aw,ZO;function zne(){return ZO||(ZO=1,Aw=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Aw}var Dw,eA;function Hne(){return eA||(eA=1,Dw=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Dw}var Iw,tA;function x3(){if(tA)return Iw;tA=1;var t=zne(),e=Hne();return Iw=function(r,i){return r&&!t(i)?e(r,i):i},Iw}var Rw,nA;function Wne(){if(nA)return Rw;nA=1;var t=cr(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Rw=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(h){if(a=h.indexOf(":"),s=t.trim(h.substr(0,a)).toLowerCase(),o=t.trim(h.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Rw}var Pw,rA;function Yne(){if(rA)return Pw;rA=1;var t=cr();return Pw=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Pw}var Mw,iA;function mv(){if(iA)return Mw;iA=1;var t=ec(),e=cr();function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Mw=n,Mw}var Lw,sA;function Gne(){return sA||(sA=1,Lw=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Lw}var jw,oA;function aA(){if(oA)return jw;oA=1;var t=cr(),e=Vne(),n=qne(),r=y3(),i=x3(),s=Wne(),o=Yne(),a=w3(),l=ec(),h=mv(),c=Gne();return jw=function(p){return new Promise(function(g,y){var w=p.data,b=p.headers,x=p.responseType,E;function S(){p.cancelToken&&p.cancelToken.unsubscribe(E),p.signal&&p.signal.removeEventListener("abort",E)}t.isFormData(w)&&t.isStandardBrowserEnv()&&delete b["Content-Type"];var k=new XMLHttpRequest;if(p.auth){var N=p.auth.username||"",O=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";b.Authorization="Basic "+btoa(N+":"+O)}var C=i(p.baseURL,p.url);k.open(p.method.toUpperCase(),r(C,p.params,p.paramsSerializer),!0),k.timeout=p.timeout;function I(){if(k){var D="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,M=!x||x==="text"||x==="json"?k.responseText:k.response,F={data:M,status:k.status,statusText:k.statusText,headers:D,config:p,request:k};e(function(L){g(L),S()},function(L){y(L),S()},F),k=null}}if("onloadend"in k?k.onloadend=I:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(I)},k.onabort=function(){k&&(y(new l("Request aborted",l.ECONNABORTED,p,k)),k=null)},k.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,p,k,k)),k=null},k.ontimeout=function(){var M=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",F=p.transitional||a;p.timeoutErrorMessage&&(M=p.timeoutErrorMessage),y(new l(M,F.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,k)),k=null},t.isStandardBrowserEnv()){var R=(p.withCredentials||o(C))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;R&&(b[p.xsrfHeaderName]=R)}"setRequestHeader"in k&&t.forEach(b,function(M,F){typeof w>"u"&&F.toLowerCase()==="content-type"?delete b[F]:k.setRequestHeader(F,M)}),t.isUndefined(p.withCredentials)||(k.withCredentials=!!p.withCredentials),x&&x!=="json"&&(k.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&k.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(E=function(D){k&&(y(!D||D&&D.type?new h:D),k.abort(),k=null)},p.cancelToken&&p.cancelToken.subscribe(E),p.signal&&(p.signal.aborted?E():p.signal.addEventListener("abort",E))),w||(w=null);var A=c(C);if(A&&["http","https","file"].indexOf(A)===-1){y(new l("Unsupported protocol "+A+":",l.ERR_BAD_REQUEST,p));return}k.send(w)})},jw}var Fw,lA;function Kne(){return lA||(lA=1,Fw=null),Fw}var $w,uA;function TE(){if(uA)return $w;uA=1;var t=cr(),e=Une(),n=ec(),r=w3(),i=b3(),s={"Content-Type":"application/x-www-form-urlencoded"};function o(c,f){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=f)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=aA()),c}function l(c,f,p){if(t.isString(c))try{return(f||JSON.parse)(c),t.trim(c)}catch(m){if(m.name!=="SyntaxError")throw m}return(p||JSON.stringify)(c)}var h={transitional:r,adapter:a(),transformRequest:[function(f,p){if(e(p,"Accept"),e(p,"Content-Type"),t.isFormData(f)||t.isArrayBuffer(f)||t.isBuffer(f)||t.isStream(f)||t.isFile(f)||t.isBlob(f))return f;if(t.isArrayBufferView(f))return f.buffer;if(t.isURLSearchParams(f))return o(p,"application/x-www-form-urlencoded;charset=utf-8"),f.toString();var m=t.isObject(f),g=p&&p["Content-Type"],y;if((y=t.isFileList(f))||m&&g==="multipart/form-data"){var w=this.env&&this.env.FormData;return i(y?{"files[]":f}:f,w&&new w)}else if(m||g==="application/json")return o(p,"application/json"),l(f);return f}],transformResponse:[function(f){var p=this.transitional||h.transitional,m=p&&p.silentJSONParsing,g=p&&p.forcedJSONParsing,y=!m&&this.responseType==="json";if(y||g&&t.isString(f)&&f.length)try{return JSON.parse(f)}catch(w){if(y)throw w.name==="SyntaxError"?n.from(w,n.ERR_BAD_RESPONSE,this,null,this.response):w}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kne()},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(f){h.headers[f]={}}),t.forEach(["post","put","patch"],function(f){h.headers[f]=t.merge(s)}),$w=h,$w}var Bw,cA;function Qne(){if(cA)return Bw;cA=1;var t=cr(),e=TE();return Bw=function(r,i,s){var o=this||e;return t.forEach(s,function(l){r=l.call(o,r,i)}),r},Bw}var Uw,dA;function _3(){return dA||(dA=1,Uw=function(e){return!!(e&&e.__CANCEL__)}),Uw}var Vw,fA;function Xne(){if(fA)return Vw;fA=1;var t=cr(),e=Qne(),n=_3(),r=TE(),i=mv();function s(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new i}return Vw=function(a){s(a),a.headers=a.headers||{},a.data=e.call(a,a.data,a.headers,a.transformRequest),a.headers=t.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var l=a.adapter||r.adapter;return l(a).then(function(c){return s(a),c.data=e.call(a,c.data,c.headers,a.transformResponse),c},function(c){return n(c)||(s(a),c&&c.response&&(c.response.data=e.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},Vw}var qw,hA;function S3(){if(hA)return qw;hA=1;var t=cr();return qw=function(n,r){r=r||{};var i={};function s(f,p){return t.isPlainObject(f)&&t.isPlainObject(p)?t.merge(f,p):t.isPlainObject(p)?t.merge({},p):t.isArray(p)?p.slice():p}function o(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(n[f],r[f])}function a(f){if(!t.isUndefined(r[f]))return s(void 0,r[f])}function l(f){if(t.isUndefined(r[f])){if(!t.isUndefined(n[f]))return s(void 0,n[f])}else return s(void 0,r[f])}function h(f){if(f in r)return s(n[f],r[f]);if(f in n)return s(void 0,n[f])}var c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h};return t.forEach(Object.keys(n).concat(Object.keys(r)),function(p){var m=c[p]||o,g=m(p);t.isUndefined(g)&&m!==h||(i[p]=g)}),i},qw}var zw,pA;function E3(){return pA||(pA=1,zw={version:"0.27.2"}),zw}var Hw,mA;function Jne(){if(mA)return Hw;mA=1;var t=E3().version,e=ec(),n={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){n[s]=function(l){return typeof l===s||"a"+(o<1?"n ":" ")+s}});var r={};n.transitional=function(o,a,l){function h(c,f){return"[Axios v"+t+"] Transitional option '"+c+"'"+f+(l?". "+l:"")}return function(c,f,p){if(o===!1)throw new e(h(f," has been removed"+(a?" in "+a:"")),e.ERR_DEPRECATED);return a&&!r[f]&&(r[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),o?o(c,f,p):!0}};function i(s,o,a){if(typeof s!="object")throw new e("options must be an object",e.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(s),h=l.length;h-- >0;){var c=l[h],f=o[c];if(f){var p=s[c],m=p===void 0||f(p,c,s);if(m!==!0)throw new e("option "+c+" must be "+m,e.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new e("Unknown option "+c,e.ERR_BAD_OPTION)}}return Hw={assertOptions:i,validators:n},Hw}var Ww,gA;function Zne(){if(gA)return Ww;gA=1;var t=cr(),e=y3(),n=Bne(),r=Xne(),i=S3(),s=x3(),o=Jne(),a=o.validators;function l(h){this.defaults=h,this.interceptors={request:new n,response:new n}}return l.prototype.request=function(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var p=f.transitional;p!==void 0&&o.assertOptions(p,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=[],g=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(f)===!1||(g=g&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});var y=[];this.interceptors.response.forEach(function(N){y.push(N.fulfilled,N.rejected)});var w;if(!g){var b=[r,void 0];for(Array.prototype.unshift.apply(b,m),b=b.concat(y),w=Promise.resolve(f);b.length;)w=w.then(b.shift(),b.shift());return w}for(var x=f;m.length;){var E=m.shift(),S=m.shift();try{x=E(x)}catch(k){S(k);break}}try{w=r(x)}catch(k){return Promise.reject(k)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},l.prototype.getUri=function(c){c=i(this.defaults,c);var f=s(c.baseURL,c.url);return e(f,c.params,c.paramsSerializer)},t.forEach(["delete","get","head","options"],function(c){l.prototype[c]=function(f,p){return this.request(i(p||{},{method:c,url:f,data:(p||{}).data}))}}),t.forEach(["post","put","patch"],function(c){function f(p){return function(g,y,w){return this.request(i(w||{},{method:c,headers:p?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}l.prototype[c]=f(),l.prototype[c+"Form"]=f(!0)}),Ww=l,Ww}var Yw,vA;function ere(){if(vA)return Yw;vA=1;var t=mv();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},Yw=e,Yw}var Gw,yA;function tre(){return yA||(yA=1,Gw=function(e){return function(r){return e.apply(null,r)}}),Gw}var Kw,wA;function nre(){if(wA)return Kw;wA=1;var t=cr();return Kw=function(n){return t.isObject(n)&&n.isAxiosError===!0},Kw}var bA;function rre(){if(bA)return pp.exports;bA=1;var t=cr(),e=v3(),n=Zne(),r=S3(),i=TE();function s(a){var l=new n(a),h=e(n.prototype.request,l);return t.extend(h,n.prototype,l),t.extend(h,l),h.create=function(f){return s(r(a,f))},h}var o=s(i);return o.Axios=n,o.CanceledError=mv(),o.CancelToken=ere(),o.isCancel=_3(),o.VERSION=E3().version,o.toFormData=b3(),o.AxiosError=ec(),o.Cancel=o.CanceledError,o.all=function(l){return Promise.all(l)},o.spread=tre(),o.isAxiosError=nre(),pp.exports=o,pp.exports.default=o,pp.exports}var Qw,xA;function ire(){return xA||(xA=1,Qw=rre()),Qw}var sre=ire();const ore=ef(sre),are=ore.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK e8625f56dd420c3a1e0b08fa4e2550d4"}}),lre=t=>are.get("/v3/search/book",{params:t}),ure=async(t,e)=>{const n={query:t},{data:r}=await lre(n);e(r.documents)},cre=pg(),ga=jn({key:`allUsers/${on}`,default:[],effects:[({setSelf:t})=>{qn(Gi,t)}]}),Ct=jn({key:`currUser/${on}`,default:null,effects:[({setSelf:t})=>{const e=dg(cre,n=>{if(n){const{uid:r,email:i,displayName:s,photoURL:o}=n;t({uid:r??"",email:i??"",displayName:s??" ",photoURL:o??""})}else t(null)});return()=>{e()}}]}),CE=bE({key:`user/${on}`,default:{},effects:t=>[({setSelf:e})=>{t&&Cr(Gi,t,e)}]}),NE=({collName:t,initialDocData:e})=>{const[n,r]=K.useState(e),{uid:i}=Pe(Ct),[s,o]=fn(CE(i)),a=Ts(_E),{alertAskJoinMember:l}=mi("write");K.useEffect(()=>{i&&!Of(s)&&Cr(Gi,i,o)},[i]);const h=dn(FL(sn,t)),c=async m=>{m.preventDefault();try{if(n.text.length===0)return;await ks(h,{...n,createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss")});const g={monthId:Nn,docId:h.id};f(g),n!=null&&n.recommendedBook&&a({thumbnail:"",title:"",authors:[],url:"",publisher:""})}catch(g){console.error("Error adding document:",g)}},f=async m=>{var y,w,b,x,E;const g=dn(sn,Gi,i);t.includes("Sentence")&&await kn(g,{"userRecords.sentences":[...((y=s==null?void 0:s.userRecords)==null?void 0:y.sentences)??[],m]}),t.includes("Reviews")&&await kn(g,{"userRecords.reviews":[...((w=s==null?void 0:s.userRecords)==null?void 0:w.reviews)??[],m]}),t.includes("Subjects")&&await kn(g,{"userRecords.subjects":[...((b=s==null?void 0:s.userRecords)==null?void 0:b.subjects)??[],m]}),t.includes("RecommendedBooks")&&await kn(g,{"userRecords.recommendedBooks":[...((x=s==null?void 0:s.userRecords)==null?void 0:x.recommendedBooks)??[],{monthId:Nn,docId:h.id}]}),t.includes("HostReview")&&await kn(g,{"userRecords.hostReviews":[...((E=s==null?void 0:s.userRecords)==null?void 0:E.hostReviews)??[],m]})};return{onAddDocSubmit:c,onDataChange:async m=>{if(Qt.currentUser.isAnonymous)return l();r({...n,...m})},newDocData:n}},St=()=>{const[t,e]=fn(e3);return{modalList:t,showModal:i=>new Promise(s=>{const o={...i,isOpen:!0};e(a=>[...a,o]),s()}),hideModal:async i=>{if(typeof i=="string"&&i){const s=t.map(o=>o.key===i?{...o,isOpen:!1}:o);e(s)}else e([])}}},dre=({collName:t,docId:e})=>{const{uid:n}=Pe(Ct),[r,i]=fn(CE(n)),s=dn(sn,t,e),{hideModal:o}=St();K.useEffect(()=>{n&&!Of(r)&&Cr(Gi,n,i)},[n]);const a=async()=>{window.confirm(" ?")&&(await Gg(s),l(),o())},l=async()=>{const h=dn(sn,Gi,n),{reviews:c,subjects:f,recommendedBooks:p,hostReviews:m,sentences:g}=r.userRecords;if(t.includes("Reviews")){const y=c.filter(w=>w.docId!==s.id);await kn(h,{"userRecords.reviews":y})}if(t.includes("Subjects")){const y=f.filter(w=>w.docId!==s.id);await kn(h,{"userRecords.subjects":y})}if(t.includes("Recommended")){const y=p.filter(w=>w.docId!==s.id);await kn(h,{"userRecords.recommendedBooks":y})}if(t.includes("HostReview")){const y=m.filter(w=>w.docId!==s.id);await kn(h,{"userRecords.hostReviews":y})}if(t.includes("Sentence-2024")){const y=g.filter(w=>w.docId!==s.id);await kn(h,{"userRecords.sentences":y})}};return{onDeleteClick:a}},tc=({collName:t,docId:e,dataToUpdate:n})=>{const[r,i]=K.useState(n),{alertAskJoinMember:s,anonymous:o}=mi("see"),{hideModal:a}=St();return{editedData:r,setEditedData:i,onEditSubmit:async c=>{if(c.preventDefault(),o)return s();if((r==null?void 0:r.text)==="<p><br></p>")return alert("  .");const f=dn(sn,t,e);await kn(f,{...r,updatedAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss")}),a()},onEditSubmitClick:async c=>{if(o)return s();const f=dn(sn,t,e);await kn(f,c)}}},mi=t=>{var a;const e=Br(),n=(a=Qt.currentUser)==null?void 0:a.isAnonymous,{hideModal:r}=St(),i=()=>{switch(t){case"see":return"  ";case"edit":return"  ";case"register":return"  ";case"write":return"  "}};function s(){if(Qt.currentUser.isAnonymous){const l=window.confirm(`  ${i()}.  .`);if(r(),l)return e("/login")}}return{alertAskJoinMember:s,blockLinkAndAlertJoinMember:l=>{n&&(l.preventDefault(),s())},anonymous:n}},fre=()=>{var y;const[t,e]=K.useState(""),[n,r]=K.useState(""),[i,s]=K.useState(""),o=(y=Qt.currentUser)==null?void 0:y.isAnonymous,a=Qt==null?void 0:Qt.currentUser,l=Br(),h=w=>{if(w.preventDefault(),!t||!n||!i)return;const b=ca.credential(a==null?void 0:a.email,t);TP(a,b).then(()=>{if(n!==i){m();return}g()}).catch(x=>{if(console.error(x),x.message.includes("auth/missing-email"))return window.alert(" .")})},c=w=>{if(o)return alert(" !");r(w.currentTarget.value)},f=w=>{if(o)return alert(" !");e(w.currentTarget.value)},p=w=>{if(o)return alert(" !");s(w.currentTarget.value)};function m(){window.alert("   .   .")}function g(){PV(a,n).then(()=>{window.alert("  ."),e(""),r(""),s(""),l(-1)}).catch(w=>{console.error(w)})}return{onSubmit:h,originPassword:t,onOriginChange:f,newPassword:n,onNewChange:c,checkNewPassword:i,onCheckNewChange:p}},hre=()=>{const[t,e]=K.useState(p3[0]),[n,r]=K.useState(""),[i,s]=K.useState(""),[o,a]=K.useState(""),[l,h]=K.useState(""),[c,f]=K.useState(""),[p,m]=K.useState(""),[g,y]=K.useState(""),[w,b]=K.useState(new Set),x=Br();return{currentStep:t,keyword:n,onFirstStepChange:R=>{const{currentTarget:{value:A}}=R;r(A)},onFirstStepSubmit:R=>{R.preventDefault(),n===""?e({step:2,stepName:" "}):alert("  !")},email:i,password:o,checkPassword:l,showErrorMsg:c,onSecondStepChange:R=>{const{currentTarget:{name:A,value:D}}=R;switch(A){case"email":s(D);break;case"password":a(D),f("");break;case"checkPassword":h(D);break}},onSecondStepSubmit:async R=>{R.preventDefault();try{if(i.length===0)return f("  !");if(o.length<8)return f(" 8 .");if(o!==l)return f("  .");window.alert("      !"),e({step:3,stepName:" "})}catch(A){if(A.message.includes("email-already-in-use"))return f("    .   .")}},username:p,userGender:g,checkedBookField:w,onThirdStepChange:async R=>{const{currentTarget:{name:A,value:D}}=R;switch(A){case"username":m(D);break;case"gender":y(D);break}},onThirdStepSubmit:async R=>{var A;R.preventDefault();try{await DV(Qt,i,o),p&&g&&w.size!==0?(await ks(dn(sn,Gi,`${(A=Qt.currentUser)==null?void 0:A.uid}`),{favoriteBookField:Array.from(w),gender:g,name:p,displayName:"  ",photoURL:""}),window.alert("  .      !"),x("/")):alert("    .")}catch(D){if(D.message.includes("auth/invalid-email"))return f("   .");console.error(D.message)}},checkedBoxHandler:(R,A)=>{A?(w.add(R),b(w)):!A&&w.has(R)&&(w.delete(R),b(w))}}},pre={id:"",title:"",creatorId:"",createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),deadline:"",voteItems:[]},mre={id:0,selectReason:"",book:{title:"",thumbnail:"",url:""}},OE=jn({key:`bookVoteDocs/${on()}`,default:null}),gre=()=>{const{uid:t}=Pe(Ct),n=Pe(OE).length,r={id:1,book:{title:"",thumbnail:"",url:""},selectReason:""},i={id:`${(n+1).toString().padStart(3,"0")}`,title:"",createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:t,deadline:wt(new Date,"yyyy-MM-dd"),voteItems:[r,{...r,id:2}]},[s,o]=K.useState(i),{alertAskJoinMember:a,anonymous:l}=mi("register"),{sendPushNotificationToAllUser:h,isPending:c}=Ns(),f=async()=>{const x=dn(sn,zo,`VoteId-${s.id}`);await ks(x,s)},{hideModal:p}=St();return{newVote:s,setNewVote:o,onNewVoteSubmit:async x=>{if(x.preventDefault(),l)return a();if(s.title==="")return;if(s.voteItems.find(S=>S.book.title===""))return alert("    !");try{f(),window.alert("  !"),p(),h({title:"  ",body:`${s.title}  .    !`,subPath:"/vote"})}catch(S){console.error("Error adding document:",S)}},onVoteTitleChange:x=>{const E={...s,title:x.currentTarget.value};o(E)},onDateChange:x=>{const E={...s,deadline:wt(x,"yyyy-MM-dd")};o(E)},onAddVoteItemBtn:()=>{const x={voteItems:[...s.voteItems,{...mre,id:s.voteItems.length+1}]};o(E=>({...E,...x}))},onDeleteVoteItemClick:x=>{const E=s.voteItems.filter(({id:S})=>S!==x);o(S=>({...S,voteItems:E}))},isPending:c}},vre=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(!1),{uid:i}=Pe(Ct),s=Br();return{onDeleteSubmit:l=>{if(l.preventDefault(),t==="")return;const h=Qt.currentUser,c=ca.credential(h==null?void 0:h.email,t);try{window.confirm(" ?")===!0?TP(h,c).then(()=>{const p=dn(sn,Gi,i);Gg(p),FV(h),s("/")}).catch(p=>{p.message.includes("wrong-password")&&r(!0)}):window.alert(".")}catch(f){console.log(f)}},showMessage:n,password:t,onChange:l=>{var c;if((c=Qt.currentUser)==null?void 0:c.isAnonymous)return alert(" !");e(l.currentTarget.value)}}},AE=jn({key:`basePhotoAtom/${on()}`,default:null});jn({key:`selectedYearAtom/${on()}`,default:_t});const Df=jn({key:`clubByYearAtom/${on()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),k3=jn({key:`clubByNextYearAtom/${on()}`,default:[],effects:[({setSelf:t,onSet:e})=>{const n="clubByNextYear",r=localStorage.getItem(n);r!==null&&t(JSON.parse(r)),e((i,s,o)=>{o?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(i))})}]}),Nr=xE({key:"clubByMonthSelector",get:t=>({get:e})=>{const n=e(Df),r=e(k3);return(f3===t.slice(0,4)?r:n).find(({id:s})=>s===t)||null}}),If=()=>{const[t,e]=K.useState(_t),[n,r]=fn(Df);K.useEffect(()=>{qn(`BookClub-${t}`,r)},[t]);const i=K.useMemo(()=>n.filter(s=>s==null?void 0:s.book).filter(({book:s})=>s.thumbnail!=="").map(({book:{title:s,url:o,publisher:a,authors:l,thumbnail:h},id:c})=>({title:s,url:o,publisher:a,authors:l,thumbnail:h,yearMonthId:c})),[n]);return{clubByYear:n,selectedYear:t,setSelectedYear:e,clubBookListByYear:i}},kl=bE({key:`absence/${on()}`,default:null,effects:t=>[({setSelf:e})=>{(async()=>{Cr(`BookClub-${t}`,ul,e)})()}]}),T3=xE({key:"attendanceSelector",get:t=>({get:e})=>{const n=+t.slice(0,4),r=+t.slice(-2),i=e(ga),s=e(kl(`${n}`));if(!(s!=null&&s.absenceMembers))return{absenteeList:null,participantList:null};const a=(s==null?void 0:s.absenceMembers).find(({month:c})=>r===c),l=[...(a==null?void 0:a.breakMembers)||[],...(a==null?void 0:a.onceAbsenceMembers)||[]],h=i.filter(({membershipJoinTime:c})=>{const f=new Date(n,r-1);return new Date(c).getTime()<f.getTime()}).filter(c=>!l.includes(c.id)).map(c=>c.id);return{absenteeList:l,participantList:h}}}),yre={month:1,breakMonth:!1,onceAbsenceMonth:!1},wre=t=>{const{uid:e}=Pe(Ct),[n,r]=fn(kl(t)),[i,s]=K.useState(yre),o=dn(sn,lo,ul),a=(c,f)=>f?c.includes(e)?c:[...c,e]:c.filter(p=>p!==e),{hideModal:l}=St();return{onSubmit:async(c,f)=>{c.preventDefault();const{onceAbsenceMonth:p,breakMonth:m}=i,g=n.absenceMembers.map(w=>{const{breakMembers:b,onceAbsenceMembers:x}=w,E={...w,breakMembers:a(b,m),onceAbsenceMembers:a(x,p)};return w.month===f?E:w}),y={...n,absenceMembers:g};r(y),await kn(o,{absenceMembers:g}),l()},selectedValues:i,setSelectedValues:s}},DE=bE({key:`fieldAndHostAtomFamily/${on}`,default:{},effects:t=>[({setSelf:e})=>{(async()=>{Cr(`BookClub-${t}`,EE,e)})()}]}),IE=xE({key:"fieldAndHostSelector",get:t=>({get:e})=>{const n=t.slice(0,4),r=e(DE(n)),i=`${+t.slice(-2)}`;return r[i]||null}}),bre=({year:t,monthKey:e})=>{var y;const{id:n,...r}=Pe(DE(t)),i=r[e],[s,o]=K.useState(i),{alertAskJoinMember:a,anonymous:l}=mi("edit"),{hideModal:h}=St(),{errorMsg:c,handleErrorMsg:f}=C3(),p={field:[{condition:(s==null?void 0:s.field)==="",error:"  ."}],hosts:[{condition:((y=s==null?void 0:s.hosts)==null?void 0:y.length)===0,error:"   ."}]},m=dn(sn,`BookClub-${t}`,EE);return{fieldAndHostObj:r,fieldAndHost:i,onSubmit:async w=>{if(w.preventDefault(),l)return a();if(f(p))return;const x={[e]:s};await kn(m,x),h()},selectedValues:s,setSelectedValues:o,errorMsg:c}},C3=()=>{const[t,e]=K.useState({});return{errorMsg:t,handleErrorMsg:r=>{const i=a=>{var h;return((h=a==null?void 0:a.find(c=>c.condition))==null?void 0:h.error)||""},s=Object.fromEntries(Object.keys(r).map(a=>[a,i(r[a])]));return e(s),Object.values(s).some(a=>a!=="")}}},xre=({likes:t,likeUsers:e,docId:n,collName:r})=>{const[i,s]=K.useState(!1),[o,a]=K.useState(!1),{uid:l}=Pe(Ct),{onEditSubmitClick:h}=tc({collName:r,docId:n});return{like:i,setLike:s,onLikeClick:async()=>{r&&(i?(a(!1),await h({likes:t-1,likeUsers:e.filter(p=>p!==l)})):await h({likes:t+1,likeUsers:[...e,l]}),s(p=>!p))},showLikeUsers:o,toggleShowLikeUsers:()=>a(p=>!p)}},_re=jn({key:`penaltyDoc/${on()}`,default:{}});zee({key:`userPenaltyList/${on()}`,get:({get:t})=>{const e=t(_re),{createdAt:n,id:r,...i}=e;return Object.entries(i).map(([s,o])=>({[s]:o}))}});const Sre=()=>{const[t,e]=K.useState(!1),[{uid:n,displayName:r},i]=fn(Ct),[s,o]=fn(CE(n)),[a,l]=K.useState(null),[h,c]=K.useState(r),f=()=>{const k=pg().currentUser;i({uid:k.uid,email:k.email,displayName:k.displayName,photoURL:k.photoURL})},p=dn(sn,Gi,n),m=async()=>{const{original:k,compressed:N}=a,O=Kx(Qx,`avatars/${n}/original`),C=await uO(O,k),I=await Gx(C.ref),R=Kx(Qx,`avatars/${n}/compressed`),A=await uO(R,N),D=await Gx(A.ref);await DC(Qt.currentUser,{photoURL:I}),await kn(p,{photoURL:{original:I,compressed:D}}),f()},g=async()=>{const k={displayName:h};await DC(Qt.currentUser,k),await kn(p,k),f()},y=async()=>{await kn(p,{favoriteBookField:Array.from(s.favoriteBookField)})};return{isEditing:t,onToggleEditClick:()=>e(!0),onHandleFieldClick:(k,N)=>{const{name:O}=N.currentTarget,C={id:k,name:O};if(!s.favoriteBookField.some(R=>R.id===k)){const A=[...s.favoriteBookField,C].filter((D,M,F)=>M===F.findIndex(q=>q.id===D.id));return o(D=>({...D,favoriteBookField:A}))}o(R=>({...R,favoriteBookField:R.favoriteBookField.filter(A=>A.id!==k)}))},onProfileSubmit:async k=>{k.preventDefault();try{a&&m(),r!==h&&g(),y(),e(!1)}catch(N){console.error("Error adding document:",N)}},newUserImgUrl:a,setNewUserImgUrl:l,newDisplayName:h,setNewDisplayName:c,userDoc:s,onDisplayNameChange:k=>{c(k.currentTarget.value)},isSelected:k=>{var N;return(N=s==null?void 0:s.favoriteBookField)==null?void 0:N.some(O=>O.id===k)}}},Ere=(t,e)=>{const[n,r]=K.useState(t),[i,s]=K.useState(null),o=Pe(Nr(e)),a=Ts(Df),{hideModal:l}=St(),{sendPushNotificationToAllUser:h}=Ns(),c=+e.slice(-2),f=`BookClub-${e.slice(0,4)}`,p=async y=>{const w=dn(sn,f,e),{meeting:{time:b,place:x}}=y;if(t.time===b.toLocaleString()&&t.place===x)return l();await kn(w,y),a(E=>E.map(S=>o.id===e?{...S,...y}:S)),alert(`${c}   !`),await h({title:`${c}   `,body:`${c}  ! ${wt(b,"M d EEEE a h mm")} ${x}  `})},m=async y=>{await g3(f,e,y),alert(`${c}   !`)},g=y=>{r(w=>({...w,...y}))};return K.useEffect(()=>{var y;((y=i==null?void 0:i.place)==null?void 0:y.length)!==null&&Cr(Mne,Lne,s)},[]),{savedPlaceList:i,currMeeting:n,onMeetingChange:g,onMeetingEdit:p,onNewBookClubSubmit:m}},kre=({docId:t})=>{var k;const{uid:e}=Pe(Ct),[n,r]=K.useState(pre),[i,s]=K.useState([]),[o,a]=K.useState([]),[l,h]=K.useState(!1),c=()=>h(N=>!N),f=Br(),{anonymous:p,alertAskJoinMember:m}=mi("see");K.useEffect(()=>{t&&n.id===""&&Cr(zo,`VoteId-${t}`,r),n.id&&qn(`${zo}/VoteId-${n.id}/${i_}`,a)},[t,n.id,a]);const g=async()=>{if(window.confirm(" ?")){const O=dn(sn,zo,`VoteId-${t}`);await Gg(O),f(-1)}},y=async N=>{if(N.preventDefault(),p)return m();if(i.length===0)return window.alert("   .");try{const O=dn(sn,`${zo}/VoteId-${n.id}/${i_}`,e);await ks(O,{createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),votedItem:i}),window.alert(" !"),x&&c()}catch(O){console.error(O)}},w=N=>i.find(({id:O})=>O===N),b=N=>{const O=w(N);s(O?i.filter(({id:C})=>C!==N):[...i,{id:N}])},x=o==null?void 0:o.find(({id:N})=>N===e),E=Rne(n.voteItems,o),S=(k=E==null?void 0:E.map(N=>N.voteCount))==null?void 0:k.reduce((N,O)=>N+O,0);return{currentVote:n,votedItemsByMember:o,voteCountsById:E,totalVoteCount:S,selectedItem:w,onVotingSubmit:y,onVoteItemClick:b,myVotedItems:x,onVoteDeleteClick:g,isRevote:l,onToggleRevoteClick:c}},Tre=t=>{const[e,n]=K.useState({email:"",error:""}),[r,i]=K.useState({password:"",error:""}),s=Br(),o={email:{HAS_NOT_EMAIL:"  ."},password:{HAS_NOT_PASSWORD:"  .",NOT_CORRECT:"    ."}},a=(f,p)=>{f==="email"&&n(m=>({...m,error:p})),f==="password"&&i(m=>({...m,error:p}))};return{currEmail:e,currPassword:r,onSubmit:async f=>{f.preventDefault();const{email:p}=e,{password:m}=r,{email:{HAS_NOT_EMAIL:g},password:{HAS_NOT_PASSWORD:y,NOT_CORRECT:w}}=o;try{if(!p&&!m){a("email",g),a("password",y);return}if(!p){a("email",g);return}if(!m){a("password",y);return}await IV(Qt,p,m),s("/")}catch(b){b.message.includes("invalid-login-credentials")&&a("password",w)}},onChange:f=>{const{currentTarget:{name:p,value:m}}=f;p==="email"&&n({email:m,error:""}),p==="password"&&i({password:m,error:""})},onAnonymousLoginClick:()=>{if(!t)try{CV(Qt),dg(Qt,f=>{f&&s("/")})}catch(f){console.log(f)}}}},gv=()=>{var o;const[t,e]=fn(n3),n=K.useRef(null),r=(o=n==null?void 0:n.current)==null?void 0:o.value;return K.useEffect(()=>{if(r==="")return e([])},[]),{searchInputRef:n,onBookQueryChange:a=>{const{value:l}=a.currentTarget;l!==""?ure(l,e):e([])},searchList:t,setSearchList:e,resetSearchList:()=>e([])}},Ns=()=>{const[t,e]=K.useState(!1),{uid:n,displayName:r}=Pe(Ct),i=async(h,c)=>{e(!0);const{title:f,body:p,subPath:m,notification:g}=h,y=`https://talentforest.github.io/han-bookclub-app${m||""}`;try{if(!c){if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!g)return{result:"fail"};const w=await _m();return await cw({title:f,body:p,token:w,link:y}),{result:"success"}}if(c)return c!=null&&c.notification?(c.tokens.map(async w=>cw({title:f,body:p,token:w,link:y})),{result:"success"}):{result:"fail"}}catch(w){console.log(w)}finally{e(!1)}},s=async({title:h,body:c,subPath:f})=>{e(!0);try{const p=`https://talentforest.github.io/han-bookclub-app${f||""}`;await cO({title:h,body:c,link:p,uid:n})}catch(p){console.log(p)}finally{e(!1)}},o=async(h,c)=>{e(!0);try{if(!n||!h)return{result:"fail"};const f=+(c==null?void 0:c.slice(-2))||+Ws,p={:{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r} ${f}  .  ?`,subPath:"/bookclub"}," ":{title:"  ",body:`${r}  .  !`,subPath:"/bookclub"},:{title:"  ",body:`${r} ${f}  .`,subPath:"/bookclub"},:{title:" ",body:`${r}  .   !`,subPath:"/bookclub"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}},{title:m,body:g,subPath:y}=p[h],w=`https://talentforest.github.io/han-bookclub-app${y}`;return await cO({title:m,body:g,link:w,uid:n}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},a=(h,c)=>{const f=+(c==null?void 0:c.slice(-2))||+Ws,p=c?`/${c}`:"";return{:{title:"  ",body:`${r} ${f}  .  ?`,subPath:`/bookclub${p}/subjects`}," ":{title:"  ",body:`${r} ${f}   .  ?`,subPath:`/bookclub${p}/host-review`}," ":{title:"  ",body:`${r}  .  !`,subPath:`/bookclub${p}`},:{title:"  ",body:`${r} ${f}   .`,subPath:`/bookclub${p}`},:{title:" ",body:`${r}  .      ?!`,subPath:"/challenge"},"  ":{title:"   ",body:`${r}    .`,subPath:"/bookclub"}}[h]};return{sendTestToMe:async(h,c)=>{e(!0);try{if(Notification.permission==="denied")return alert("   .        ."),{result:"fail"};if(!n||!h)return{result:"fail"};const{title:f,body:p,subPath:m}=a(h,c),g=`http://localhost:3000/han-bookclub-app${m}`,y=await _m();return await cw({title:f,body:p,token:y,link:g}),{result:"success"}}catch(f){console.log(f)}finally{e(!1)}},sendPostPushNotification:o,sendPushNotificationToUser:i,sendPushNotificationToAllUser:s,isPending:t}},Cre=jn({key:`rereadingChallenge/${on()}`,default:null}),N3=jn({key:`completeReadingChallenge/${on()}`,default:null});jn({key:`sentences/${on()}`,default:null});const O3=()=>{const t=Pe(ga),[e,n]=fn(Cre);K.useEffect(()=>{e||qn(ll,n)},[]);const r=K.useMemo(()=>{if(!e)return null;const s=e.map(o=>{const{creatorId:a,id:l,...h}=o;return Object.entries(h).map(([c,{book:f,counts:p,impressionList:m}])=>({...f,counts:p,id:l,impressionList:m.map(g=>({...g,creatorId:a}))}))}).flat();return Object.values(s.reduce((o,a)=>{const{title:l,counts:h,impressionList:c}=a;return o[l]?(o[l].counts+=h,o[l].readers+=1,o[l].impressionList=[...o[l].impressionList??[],...c]):o[l]={...a,readers:1},o},{})).sort((o,a)=>a.counts+a.readers-(o.counts+o.readers))},[e]),i=K.useMemo(()=>{const o=t.map(({id:c})=>(e==null?void 0:e.find(({creatorId:p})=>p===c))||{id:c,creatorId:c}).map(c=>{const f=Object.entries(c).filter(([m])=>m!=="id"&&m!=="creatorId").map(([m,g])=>({...g.book,counts:g.counts})),p=f.reduce((m,g)=>m+g.counts,0);return{creatorId:c.creatorId,totalScore:p,rereadingBookList:f}}).sort((c,f)=>f.totalScore-c.totalScore);let a=0,l=null,h=0;return o.map((c,f)=>{const{rereadingBookList:p,creatorId:m,totalScore:g}=c;l===g?a=h:a=f+1,l=g,h=a;const y=p.reduce((w,{counts:b})=>w+b,0);return{creatorId:m,rank:a,rereadingBookList:p,totalRereadingCounts:y}})},[e]);return{bookWithRankList:r,userRankList:i}};var A3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_A=se.createContext&&se.createContext(A3),Nre=["attr","size","title"];function Ore(t,e){if(t==null)return{};var n=Are(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D3(t){return t&&t.map((e,n)=>se.createElement(e.tag,Om({key:n},e.attr),D3(e.child)))}function ot(t){return e=>se.createElement(Pre,Nm({attr:Om({},t.attr)},e),D3(t.child))}function Pre(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Ore(t,Nre),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),se.createElement("svg",Nm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Om(Om({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&se.createElement("title",null,s),t.children)};return _A!==void 0?se.createElement(_A.Consumer,null,n=>e(n)):e(A3)}function Mre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Lre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(t)}function jre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function Fre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(t)}function I3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function $re(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Bre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Ure(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function RE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Vre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function qre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(t)}function zre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function Hre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function PE(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Wre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function Yre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function Gre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Kre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Qre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function Xre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function R3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Jre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function vv(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function P3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function ME(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Zre(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Rf(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function eie(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Wd(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function tie(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function M3(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Fn({title:t,backBtn:e,showDesktop:n,children:r,backTo:i,className:s}){const o=Br(),a=()=>{o(i||-1)};return _.jsxs("header",{className:`header items-center gap-2 py-4 max-sm:flex ${n?"flex":"hidden"} ${s}`,children:[t===" "&&_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-[20px]"}),e&&_.jsx("button",{onClick:a,type:"button","aria-label":"",onKeyDown:a,children:_.jsx(Ure,{fontSize:22})}),_.jsx("span",{className:"mr-auto text-lg font-medium",children:t}),r]})}function Or({title:t,children:e,className:n,headerType:r="normal"}){const{hideModal:i}=St();K.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const s=document.getElementById("modal");return E_.createPortal(_.jsxs("section",{className:`fixed inset-0 z-10 m-auto flex h-fit max-h-[80vh] w-[55vw] flex-col rounded-2xl bg-white px-5 py-6 max-sm:w-[90%] ${n}`,children:[r!=="noHeader"&&_.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-medium",children:t}),r!=="onlyTitle"&&_.jsx("button",{type:"button",onClick:()=>i(),className:"px-1",children:_.jsx(M3,{size:20})})]}),e]}),s)}function nie(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(t)}function LE(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19a2 2 0 0 0 2-2v-4l-3-3zm1 7H5v-1h14v1zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36a.996.996 0 0 0 0-1.41L14.16 2.3a.975.975 0 0 0-1.4-.01L6.39 8.66a.996.996 0 0 0 0 1.41l4.95 4.95zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54 4.95-4.95z"},child:[]}]})(t)}function L3({url:t,title:e,className:n=""}){return _.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:`p-1.5 text-gray1 ${e?"flex items-center gap-1":"inline-block"} ${n}`,children:[_.jsx(Wre,{className:e?"":"size-full"}),e&&_.jsx("span",{className:"truncate text-[15px]",children:e})]})}function an({title:t,thumbnail:e,url:n,className:r="",iconName:i}){const s={MdEventAvailable:_.jsx(nie,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"}),FiPlus:_.jsx(P3,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-blue2 max-sm:w-[55%]"})},o="aspect-[0.68/1] h-fit shadow-book rounded-r-[8%]";return _.jsxs(_.Fragment,{children:[e&&_.jsxs("div",{className:`relative ${r}`,children:[_.jsx("img",{className:`size-full ${o} `,src:e,alt:`${t} `}),n&&_.jsx(L3,{url:n,className:"absolute bottom-1 right-1 flex size-7 items-center justify-center rounded-full bg-indigo-500 text-white opacity-50"})]}),!e&&_.jsx("div",{className:`flex items-center justify-center bg-gray4 ${o} ${r}`,children:i?s[i]:_.jsx(jre,{className:"mx-auto size-full max-h-[40px] max-w-[40px] text-gray2 max-sm:w-1/2"})})]})}function jE({text:t,lineClamp:e}){const n=`line-clamp-[${e}]`,r=t.replaceAll("","");return _.jsx("p",{className:`ql-editor min-h-12 w-full truncate whitespace-pre-line !p-0 leading-7 ${e?n:""}`,dangerouslySetInnerHTML:{__html:r}})}function rie({collName:t,like:e,onLikeClick:n}){return _.jsx("button",{type:"button",disabled:!t,onClick:n,className:"p-1",children:_.jsx(Gre,{stroke:t?"red":"#aaa",fill:t?e?"red":"transparent":"#aaa",fontSize:13})})}function zn({userId:t,className:e,size:n="md",isLink:r=!0}){const{uid:i}=Pe(Ct),s=Pe(AE),[o,a]=fn(ga),l=o==null?void 0:o.find(({id:g})=>g===t);K.useEffect(()=>{(o==null?void 0:o.length)===0&&qn(Gi,a)},[t,o,a]);const h=g=>(g.preventDefault(),g.stopPropagation(),!1),c={sm:"text-sm  [&>img]:size-[18px]",md:"text-base [&>img]:size-[20px]",lg:"text-lg [&>img]:size-[22px]"},f="aspect-square rounded-full shadow-card";if(!l)return _.jsx("span",{className:`${c[n]} ${e} text-gray2`,children:""});const m=`/bookshelf${i===(l==null?void 0:l.id)?"":`/${l==null?void 0:l.displayName}`}`;return r?_.jsxs(br,{to:m,state:{userId:l.id},className:`flex min-w-fit cursor-pointer items-center justify-between gap-x-1 ${c[n]} ${e}`,children:[_.jsx("img",{onContextMenu:h,src:l.photoURL.compressed||s,alt:`${l.displayName}  `,className:`aspect-square object-cover ${f}`}),_.jsx("span",{className:"min-w-fit",children:l.displayName})]}):_.jsxs("div",{className:`flex min-w-fit items-center justify-between gap-x-1 ${c[n]} ${e}`,children:[_.jsx("img",{onContextMenu:h,src:l.photoURL.compressed||s,alt:`${l.displayName}  `,className:`aspect-square object-cover ${f}`}),_.jsx("span",{className:"min-w-fit",children:l.displayName})]})}const iie=({post:t,collName:e})=>{var c,f,p;const{uid:n}=Pe(Ct),r=n===t.creatorId,{like:i,setLike:s,onLikeClick:o,showLikeUsers:a,toggleShowLikeUsers:l}=xre({likes:t.likes||0,likeUsers:t.likeUsers||[],docId:t.id,collName:e}),h=(c=t.likeUsers)==null?void 0:c.some(m=>m===n);return K.useEffect(()=>{h&&s(!0)},[]),_.jsxs("div",{className:"relative flex",children:[_.jsx("button",{type:"button",onClick:l,className:"px-1",children:a?_.jsx(Vre,{className:"text-gray1"}):_.jsx(Bre,{className:"text-gray1"})}),_.jsxs("span",{className:"text-sm",children:[((f=t==null?void 0:t.likeUsers)==null?void 0:f.length)||0," Likes"]}),!r&&_.jsx(rie,{collName:e,like:i,onLikeClick:o}),a&&_.jsxs("div",{className:"absolute bottom-7 right-0 rounded-xl border bg-white p-3",children:[_.jsx("h4",{className:"mb-2 min-w-20 text-sm text-gray1",children:" "}),_.jsx("ul",{className:"flex w-full flex-wrap gap-x-2 gap-y-1",children:(p=t==null?void 0:t.likeUsers)==null?void 0:p.map(m=>_.jsx(zn,{userId:m},m))})]})]})};function yv({post:t,createdAt:e,footerType:n,collName:r}){return _.jsxs("footer",{className:"mt-4 flex items-center justify-between",children:[_.jsx("span",{className:"min-w-fit text-sm text-gray1",children:wt(e)}),n==="likes"&&_.jsx(iie,{collName:r,post:t})]})}function sie({docId:t,collName:e}){const{onDeleteClick:n}=dre({docId:t,collName:e});return _.jsx("button",{onClick:n,children:_.jsx(Rf,{fontSize:15,stroke:"#aaa"})})}function ht({name:t,type:e="button",children:n,disabled:r,handleClick:i,color:s="blue",className:o="",tailChildren:a,size:l="md"}){const h={gray:"text-gray1 bg-gray4",blue:"text-white bg-blue1",purple:"text-white bg-purple2",lightBlue:"text-blue4 bg-blue2"},c={lg:"h-14 min-h-14 px-4 text-[17px]",md:"h-12 min-h-12 px-4 text-[15px]",sm:"h-9 min-h-4 px-2 text-[13px]"};return _.jsxs("button",{type:e,onClick:i,disabled:r,className:`flex w-fit min-w-max items-center justify-center rounded-lg shadow-lg disabled:bg-gray4 disabled:text-gray2 max-sm:px-4 ${c[l]} ${h[s]} ${o}`,children:[n,_.jsx("span",{className:"font-medium tracking-tight",children:t}),a]})}var Xw,EA;function oie(){if(EA)return Xw;EA=1;function t(){this.__data__=[],this.size=0}return Xw=t,Xw}var Jw,kA;function j3(){if(kA)return Jw;kA=1;function t(e,n){return e===n||e!==e&&n!==n}return Jw=t,Jw}var Zw,TA;function wv(){if(TA)return Zw;TA=1;var t=j3();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Zw=e,Zw}var e1,CA;function aie(){if(CA)return e1;CA=1;var t=wv(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return e1=r,e1}var t1,NA;function lie(){if(NA)return t1;NA=1;var t=wv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return t1=e,t1}var n1,OA;function uie(){if(OA)return n1;OA=1;var t=wv();function e(n){return t(this.__data__,n)>-1}return n1=e,n1}var r1,AA;function cie(){if(AA)return r1;AA=1;var t=wv();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return r1=e,r1}var i1,DA;function bv(){if(DA)return i1;DA=1;var t=oie(),e=aie(),n=lie(),r=uie(),i=cie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,i1=s,i1}var s1,IA;function die(){if(IA)return s1;IA=1;var t=bv();function e(){this.__data__=new t,this.size=0}return s1=e,s1}var o1,RA;function fie(){if(RA)return o1;RA=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return o1=t,o1}var a1,PA;function hie(){if(PA)return a1;PA=1;function t(e){return this.__data__.get(e)}return a1=t,a1}var l1,MA;function pie(){if(MA)return l1;MA=1;function t(e){return this.__data__.has(e)}return l1=t,l1}var u1,LA;function F3(){if(LA)return u1;LA=1;var t=typeof Gh=="object"&&Gh&&Gh.Object===Object&&Gh;return u1=t,u1}var c1,jA;function uo(){if(jA)return c1;jA=1;var t=F3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return c1=n,c1}var d1,FA;function FE(){if(FA)return d1;FA=1;var t=uo(),e=t.Symbol;return d1=e,d1}var f1,$A;function mie(){if($A)return f1;$A=1;var t=FE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var h=!0}catch{}var c=r.call(o);return h&&(a?o[i]=l:delete o[i]),c}return f1=s,f1}var h1,BA;function gie(){if(BA)return h1;BA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return h1=n,h1}var p1,UA;function xv(){if(UA)return p1;UA=1;var t=FE(),e=mie(),n=gie(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return p1=o,p1}var m1,VA;function $3(){if(VA)return m1;VA=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return m1=t,m1}var g1,qA;function B3(){if(qA)return g1;qA=1;var t=xv(),e=$3(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return g1=o,g1}var v1,zA;function vie(){if(zA)return v1;zA=1;var t=uo(),e=t["__core-js_shared__"];return v1=e,v1}var y1,HA;function yie(){if(HA)return y1;HA=1;var t=vie(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return y1=n,y1}var w1,WA;function U3(){if(WA)return w1;WA=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return w1=n,w1}var b1,YA;function wie(){if(YA)return b1;YA=1;var t=B3(),e=yie(),n=$3(),r=U3(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,h=a.hasOwnProperty,c=RegExp("^"+l.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=t(p)?c:s;return m.test(r(p))}return b1=f,b1}var x1,GA;function bie(){if(GA)return x1;GA=1;function t(e,n){return e==null?void 0:e[n]}return x1=t,x1}var _1,KA;function nc(){if(KA)return _1;KA=1;var t=wie(),e=bie();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return _1=n,_1}var S1,QA;function $E(){if(QA)return S1;QA=1;var t=nc(),e=uo(),n=t(e,"Map");return S1=n,S1}var E1,XA;function _v(){if(XA)return E1;XA=1;var t=nc(),e=t(Object,"create");return E1=e,E1}var k1,JA;function xie(){if(JA)return k1;JA=1;var t=_v();function e(){this.__data__=t?t(null):{},this.size=0}return k1=e,k1}var T1,ZA;function _ie(){if(ZA)return T1;ZA=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return T1=t,T1}var C1,eD;function Sie(){if(eD)return C1;eD=1;var t=_v(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return C1=i,C1}var N1,tD;function Eie(){if(tD)return N1;tD=1;var t=_v(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return N1=r,N1}var O1,nD;function kie(){if(nD)return O1;nD=1;var t=_v(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return O1=n,O1}var A1,rD;function Tie(){if(rD)return A1;rD=1;var t=xie(),e=_ie(),n=Sie(),r=Eie(),i=kie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,A1=s,A1}var D1,iD;function Cie(){if(iD)return D1;iD=1;var t=Tie(),e=bv(),n=$E();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return D1=r,D1}var I1,sD;function Nie(){if(sD)return I1;sD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return I1=t,I1}var R1,oD;function Sv(){if(oD)return R1;oD=1;var t=Nie();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return R1=e,R1}var P1,aD;function Oie(){if(aD)return P1;aD=1;var t=Sv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return P1=e,P1}var M1,lD;function Aie(){if(lD)return M1;lD=1;var t=Sv();function e(n){return t(this,n).get(n)}return M1=e,M1}var L1,uD;function Die(){if(uD)return L1;uD=1;var t=Sv();function e(n){return t(this,n).has(n)}return L1=e,L1}var j1,cD;function Iie(){if(cD)return j1;cD=1;var t=Sv();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return j1=e,j1}var F1,dD;function V3(){if(dD)return F1;dD=1;var t=Cie(),e=Oie(),n=Aie(),r=Die(),i=Iie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var h=o[a];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,F1=s,F1}var $1,fD;function Rie(){if(fD)return $1;fD=1;var t=bv(),e=$E(),n=V3(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return $1=i,$1}var B1,hD;function Pie(){if(hD)return B1;hD=1;var t=bv(),e=die(),n=fie(),r=hie(),i=pie(),s=Rie();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,B1=o,B1}var U1,pD;function Mie(){if(pD)return U1;pD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return U1=e,U1}var V1,mD;function Lie(){if(mD)return V1;mD=1;function t(e){return this.__data__.has(e)}return V1=t,V1}var q1,gD;function jie(){if(gD)return q1;gD=1;var t=V3(),e=Mie(),n=Lie();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,q1=r,q1}var z1,vD;function Fie(){if(vD)return z1;vD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return z1=t,z1}var H1,yD;function $ie(){if(yD)return H1;yD=1;function t(e,n){return e.has(n)}return H1=t,H1}var W1,wD;function q3(){if(wD)return W1;wD=1;var t=jie(),e=Fie(),n=$ie(),r=1,i=2;function s(o,a,l,h,c,f){var p=l&r,m=o.length,g=a.length;if(m!=g&&!(p&&g>m))return!1;var y=f.get(o),w=f.get(a);if(y&&w)return y==a&&w==o;var b=-1,x=!0,E=l&i?new t:void 0;for(f.set(o,a),f.set(a,o);++b<m;){var S=o[b],k=a[b];if(h)var N=p?h(k,S,b,a,o,f):h(S,k,b,o,a,f);if(N!==void 0){if(N)continue;x=!1;break}if(E){if(!e(a,function(O,C){if(!n(E,C)&&(S===O||c(S,O,l,h,f)))return E.push(C)})){x=!1;break}}else if(!(S===k||c(S,k,l,h,f))){x=!1;break}}return f.delete(o),f.delete(a),x}return W1=s,W1}var Y1,bD;function Bie(){if(bD)return Y1;bD=1;var t=uo(),e=t.Uint8Array;return Y1=e,Y1}var G1,xD;function Uie(){if(xD)return G1;xD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return G1=t,G1}var K1,_D;function Vie(){if(_D)return K1;_D=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return K1=t,K1}var Q1,SD;function qie(){if(SD)return Q1;SD=1;var t=FE(),e=Bie(),n=j3(),r=q3(),i=Uie(),s=Vie(),o=1,a=2,l="[object Boolean]",h="[object Date]",c="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",E=t?t.prototype:void 0,S=E?E.valueOf:void 0;function k(N,O,C,I,R,A,D){switch(C){case x:if(N.byteLength!=O.byteLength||N.byteOffset!=O.byteOffset)return!1;N=N.buffer,O=O.buffer;case b:return!(N.byteLength!=O.byteLength||!A(new e(N),new e(O)));case l:case h:case p:return n(+N,+O);case c:return N.name==O.name&&N.message==O.message;case m:case y:return N==O+"";case f:var M=i;case g:var F=I&o;if(M||(M=s),N.size!=O.size&&!F)return!1;var q=D.get(N);if(q)return q==O;I|=a,D.set(N,O);var L=r(M(N),M(O),I,R,A,D);return D.delete(N),L;case w:if(S)return S.call(N)==S.call(O)}return!1}return Q1=k,Q1}var X1,ED;function zie(){if(ED)return X1;ED=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return X1=t,X1}var J1,kD;function BE(){if(kD)return J1;kD=1;var t=Array.isArray;return J1=t,J1}var Z1,TD;function Hie(){if(TD)return Z1;TD=1;var t=zie(),e=BE();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return Z1=n,Z1}var eb,CD;function Wie(){if(CD)return eb;CD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return eb=t,eb}var tb,ND;function Yie(){if(ND)return tb;ND=1;function t(){return[]}return tb=t,tb}var nb,OD;function Gie(){if(OD)return nb;OD=1;var t=Wie(),e=Yie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return nb=s,nb}var rb,AD;function Kie(){if(AD)return rb;AD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return rb=t,rb}var ib,DD;function Ev(){if(DD)return ib;DD=1;function t(e){return e!=null&&typeof e=="object"}return ib=t,ib}var sb,ID;function Qie(){if(ID)return sb;ID=1;var t=xv(),e=Ev(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return sb=r,sb}var ob,RD;function Xie(){if(RD)return ob;RD=1;var t=Qie(),e=Ev(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return ob=s,ob}var ld={exports:{}},ab,PD;function Jie(){if(PD)return ab;PD=1;function t(){return!1}return ab=t,ab}ld.exports;var MD;function z3(){return MD||(MD=1,function(t,e){var n=uo(),r=Jie(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,h=l||r;t.exports=h}(ld,ld.exports)),ld.exports}var lb,LD;function Zie(){if(LD)return lb;LD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return lb=n,lb}var ub,jD;function H3(){if(jD)return ub;jD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return ub=e,ub}var cb,FD;function ese(){if(FD)return cb;FD=1;var t=xv(),e=H3(),n=Ev(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",h="[object Map]",c="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]",A={};A[x]=A[E]=A[S]=A[k]=A[N]=A[O]=A[C]=A[I]=A[R]=!0,A[r]=A[i]=A[w]=A[s]=A[b]=A[o]=A[a]=A[l]=A[h]=A[c]=A[f]=A[p]=A[m]=A[g]=A[y]=!1;function D(M){return n(M)&&e(M.length)&&!!A[t(M)]}return cb=D,cb}var db,$D;function tse(){if($D)return db;$D=1;function t(e){return function(n){return e(n)}}return db=t,db}var ud={exports:{}};ud.exports;var BD;function nse(){return BD||(BD=1,function(t,e){var n=F3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(ud,ud.exports)),ud.exports}var fb,UD;function W3(){if(UD)return fb;UD=1;var t=ese(),e=tse(),n=nse(),r=n&&n.isTypedArray,i=r?e(r):t;return fb=i,fb}var hb,VD;function rse(){if(VD)return hb;VD=1;var t=Kie(),e=Xie(),n=BE(),r=z3(),i=Zie(),s=W3(),o=Object.prototype,a=o.hasOwnProperty;function l(h,c){var f=n(h),p=!f&&e(h),m=!f&&!p&&r(h),g=!f&&!p&&!m&&s(h),y=f||p||m||g,w=y?t(h.length,String):[],b=w.length;for(var x in h)(c||a.call(h,x))&&!(y&&(x=="length"||m&&(x=="offset"||x=="parent")||g&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&w.push(x);return w}return hb=l,hb}var pb,qD;function ise(){if(qD)return pb;qD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return pb=e,pb}var mb,zD;function sse(){if(zD)return mb;zD=1;function t(e,n){return function(r){return e(n(r))}}return mb=t,mb}var gb,HD;function ose(){if(HD)return gb;HD=1;var t=sse(),e=t(Object.keys,Object);return gb=e,gb}var vb,WD;function ase(){if(WD)return vb;WD=1;var t=ise(),e=ose(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return vb=i,vb}var yb,YD;function lse(){if(YD)return yb;YD=1;var t=B3(),e=H3();function n(r){return r!=null&&e(r.length)&&!t(r)}return yb=n,yb}var wb,GD;function use(){if(GD)return wb;GD=1;var t=rse(),e=ase(),n=lse();function r(i){return n(i)?t(i):e(i)}return wb=r,wb}var bb,KD;function cse(){if(KD)return bb;KD=1;var t=Hie(),e=Gie(),n=use();function r(i){return t(i,n,e)}return bb=r,bb}var xb,QD;function dse(){if(QD)return xb;QD=1;var t=cse(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,h,c){var f=a&e,p=t(s),m=p.length,g=t(o),y=g.length;if(m!=y&&!f)return!1;for(var w=m;w--;){var b=p[w];if(!(f?b in o:r.call(o,b)))return!1}var x=c.get(s),E=c.get(o);if(x&&E)return x==o&&E==s;var S=!0;c.set(s,o),c.set(o,s);for(var k=f;++w<m;){b=p[w];var N=s[b],O=o[b];if(l)var C=f?l(O,N,b,o,s,c):l(N,O,b,s,o,c);if(!(C===void 0?N===O||h(N,O,a,l,c):C)){S=!1;break}k||(k=b=="constructor")}if(S&&!k){var I=s.constructor,R=o.constructor;I!=R&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof R=="function"&&R instanceof R)&&(S=!1)}return c.delete(s),c.delete(o),S}return xb=i,xb}var _b,XD;function fse(){if(XD)return _b;XD=1;var t=nc(),e=uo(),n=t(e,"DataView");return _b=n,_b}var Sb,JD;function hse(){if(JD)return Sb;JD=1;var t=nc(),e=uo(),n=t(e,"Promise");return Sb=n,Sb}var Eb,ZD;function pse(){if(ZD)return Eb;ZD=1;var t=nc(),e=uo(),n=t(e,"Set");return Eb=n,Eb}var kb,eI;function mse(){if(eI)return kb;eI=1;var t=nc(),e=uo(),n=t(e,"WeakMap");return kb=n,kb}var Tb,tI;function gse(){if(tI)return Tb;tI=1;var t=fse(),e=$E(),n=hse(),r=pse(),i=mse(),s=xv(),o=U3(),a="[object Map]",l="[object Object]",h="[object Promise]",c="[object Set]",f="[object WeakMap]",p="[object DataView]",m=o(t),g=o(e),y=o(n),w=o(r),b=o(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=p||e&&x(new e)!=a||n&&x(n.resolve())!=h||r&&x(new r)!=c||i&&x(new i)!=f)&&(x=function(E){var S=s(E),k=S==l?E.constructor:void 0,N=k?o(k):"";if(N)switch(N){case m:return p;case g:return a;case y:return h;case w:return c;case b:return f}return S}),Tb=x,Tb}var Cb,nI;function vse(){if(nI)return Cb;nI=1;var t=Pie(),e=q3(),n=qie(),r=dse(),i=gse(),s=BE(),o=z3(),a=W3(),l=1,h="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(y,w,b,x,E,S){var k=s(y),N=s(w),O=k?c:i(y),C=N?c:i(w);O=O==h?f:O,C=C==h?f:C;var I=O==f,R=C==f,A=O==C;if(A&&o(y)){if(!o(w))return!1;k=!0,I=!1}if(A&&!I)return S||(S=new t),k||a(y)?e(y,w,b,x,E,S):n(y,w,O,b,x,E,S);if(!(b&l)){var D=I&&m.call(y,"__wrapped__"),M=R&&m.call(w,"__wrapped__");if(D||M){var F=D?y.value():y,q=M?w.value():w;return S||(S=new t),E(F,q,b,x,S)}}return A?(S||(S=new t),r(y,w,b,x,E,S)):!1}return Cb=g,Cb}var Nb,rI;function yse(){if(rI)return Nb;rI=1;var t=vse(),e=Ev();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return Nb=n,Nb}var Ob,iI;function wse(){if(iI)return Ob;iI=1;var t=yse();function e(n,r){return t(n,r)}return Ob=e,Ob}var jp={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var bse=jp.exports,sI;function xse(){return sI||(sI=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:bse,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),h=i(46),c=i(47),f=i(48),p=i(49),m=i(12),g=i(32),y=i(33),w=i(31),b=i(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:h.default,Text:p.default,Attributor:{Attribute:m.default,Class:g.default,Style:y.default,Store:w.default}};r.default=x},function(n,r,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var E in x)x.hasOwnProperty(E)&&(b[E]=x[E])};return function(b,x){w(b,x);function E(){this.constructor=b}b.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){s(b,w);function b(x){var E=this;return x="[Parchment] "+x,E=w.call(this,x)||this,E.message=x,E.name=E.constructor.name,E}return b}(Error);r.ParchmentError=o;var a={},l={},h={},c={};r.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function p(w,b){var x=g(w);if(x==null)throw new o("Unable to create "+w+" blot");var E=x,S=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(b);return new E(S,b)}r.create=p;function m(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?m(w.parentNode,b):null}r.find=m;function g(w,b){b===void 0&&(b=f.ANY);var x;if(typeof w=="string")x=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)x=c.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?x=c.block:w&f.LEVEL&f.INLINE&&(x=c.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var S in E)if(x=l[E[S]],x)break;x=x||h[w.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}r.query=g;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(S){return y(S)});var x=w[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(c[x.blotName||x.attrName]=x,typeof x.keyName=="string")a[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(S){return S.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var E=Array.isArray(x.tagName)?x.tagName:[x.tagName];E.forEach(function(S){(h[S]==null||x.className==null)&&(h[S]=x)})}return x}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),h="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,p){var m={};return f.length===0?this:(m.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,p){if(f<=0)return this;var m={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},c.prototype.push=function(f){var p=this.ops.length,m=this.ops[p-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(f),this;if(o(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var p=[],m=[];return this.forEach(function(g){var y=f(g)?p:m;y.push(g)}),[p,m]},c.prototype.reduce=function(f,p){return this.ops.reduce(f,p)},c.prototype.changeLength=function(){return this.reduce(function(f,p){return p.insert?f+l.length(p):p.delete?f-p.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,p){return f+l.length(p)},0)},c.prototype.slice=function(f,p){f=f||0,typeof p!="number"&&(p=1/0);for(var m=[],g=l.iterator(this.ops),y=0;y<p&&g.hasNext();){var w;y<f?w=g.next(f-y):(w=g.next(p-y),m.push(w)),y+=l.length(w)}return new c(m)},c.prototype.compose=function(f){var p=l.iterator(this.ops),m=l.iterator(f.ops),g=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),g.push(p.next());y.retain-w>0&&m.next(y.retain-w)}for(var b=new c(g);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(p.peekType()==="delete")b.push(p.next());else{var x=Math.min(p.peekLength(),m.peekLength()),E=p.next(x),S=m.next(x);if(typeof S.retain=="number"){var k={};typeof E.retain=="number"?k.retain=x:k.insert=E.insert;var N=l.attributes.compose(E.attributes,S.attributes,typeof E.retain=="number");if(N&&(k.attributes=N),b.push(k),!m.hasNext()&&o(b.ops[b.ops.length-1],k)){var O=new c(p.rest());return b.concat(O).chop()}}else typeof S.delete=="number"&&typeof E.retain=="number"&&b.push(S)}return b.chop()},c.prototype.concat=function(f){var p=new c(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p},c.prototype.diff=function(f,p){if(this.ops===f.ops)return new c;var m=[this,f].map(function(x){return x.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:h;var S=x===f?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),g=new c,y=s(m[0],m[1],p),w=l.iterator(this.ops),b=l.iterator(f.ops);return y.forEach(function(x){for(var E=x[1].length;E>0;){var S=0;switch(x[0]){case s.INSERT:S=Math.min(b.peekLength(),E),g.push(b.next(S));break;case s.DELETE:S=Math.min(E,w.peekLength()),w.next(S),g.delete(S);break;case s.EQUAL:S=Math.min(w.peekLength(),b.peekLength(),E);var k=w.next(S),N=b.next(S);o(k.insert,N.insert)?g.retain(S,l.attributes.diff(k.attributes,N.attributes)):g.push(N).delete(S);break}E-=S}}),g.chop()},c.prototype.eachLine=function(f,p){p=p||`
`;for(var m=l.iterator(this.ops),g=new c,y=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),b=l.length(w)-m.peekLength(),x=typeof w.insert=="string"?w.insert.indexOf(p,b)-b:-1;if(x<0)g.push(m.next());else if(x>0)g.push(m.next(x));else{if(f(g,m.next(1).attributes||{},y)===!1)return;y+=1,g=new c}}g.length()>0&&f(g,{},y)},c.prototype.transform=function(f,p){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);for(var m=l.iterator(this.ops),g=l.iterator(f.ops),y=new c;m.hasNext()||g.hasNext();)if(m.peekType()==="insert"&&(p||g.peekType()!=="insert"))y.retain(l.length(m.next()));else if(g.peekType()==="insert")y.push(g.next());else{var w=Math.min(m.peekLength(),g.peekLength()),b=m.next(w),x=g.next(w);if(b.delete)continue;x.delete?y.push(x):y.retain(w,l.attributes.transform(b.attributes,x.attributes,p))}return y.chop()},c.prototype.transformPosition=function(f,p){p=!!p;for(var m=l.iterator(this.ops),g=0;m.hasNext()&&g<=f;){var y=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){f-=Math.min(y,f-g);continue}else w==="insert"&&(g<f||!p)&&(f+=y);g+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},h=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var g=i.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},c=function(m,g){o&&g.name==="__proto__"?o(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},f=function(m,g){if(g==="__proto__")if(i.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};n.exports=function p(){var m,g,y,w,b,x,E=arguments[0],S=1,k=arguments.length,N=!1;for(typeof E=="boolean"&&(N=E,E=arguments[1]||{},S=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});S<k;++S)if(m=arguments[S],m!=null)for(g in m)y=f(E,g),w=f(m,g),E!==w&&(N&&w&&(h(w)||(b=l(w)))?(b?(b=!1,x=y&&l(y)?y:[]):x=y&&h(y)?y:{},c(E,{name:g,newValue:p(N,x,w)})):typeof w<"u"&&c(E,{name:g,newValue:w}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(D,M){for(var F=0;F<M.length;F++){var q=M[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,M,F){return M&&A(D.prototype,M),F&&A(D,F),D}}(),o=function A(D,M,F){D===null&&(D=Function.prototype);var q=Object.getOwnPropertyDescriptor(D,M);if(q===void 0){var L=Object.getPrototypeOf(D);return L===null?void 0:A(L,M,F)}else{if("value"in q)return q.value;var B=q.get;return B===void 0?void 0:B.call(F)}},a=i(3),l=E(a),h=i(2),c=E(h),f=i(0),p=E(f),m=i(16),g=E(m),y=i(6),w=E(y),b=i(7),x=E(b);function E(A){return A&&A.__esModule?A:{default:A}}function S(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function k(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function N(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var O=1,C=function(A){N(D,A);function D(){return S(this,D),k(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"attach",value:function(){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,q){var L=p.default.query(F,p.default.Scope.BLOCK_ATTRIBUTE);L!=null&&this.attributes.attribute(L,q)}},{key:"formatAt",value:function(F,q,L,B){this.format(L,B)}},{key:"insertAt",value:function(F,q,L){if(typeof q=="string"&&q.endsWith(`
`)){var B=p.default.create(I.blotName);this.parent.insertBefore(B,F===0?this:this.next),B.insertAt(0,q.slice(0,-1))}else o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,L)}}]),D}(p.default.Embed);C.scope=p.default.Scope.BLOCK_BLOT;var I=function(A){N(D,A);function D(M){S(this,D);var F=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M));return F.cache={},F}return s(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(F,q){return q.length()===0?F:F.insert(q.value(),R(q))},new c.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,F,q),this.cache={}}},{key:"formatAt",value:function(F,q,L,B){q<=0||(p.default.query(L,p.default.Scope.BLOCK)?F+q===this.length()&&this.format(L,B):o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,F,Math.min(q,this.length()-F-1),L,B),this.cache={})}},{key:"insertAt",value:function(F,q,L){if(L!=null)return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,F,q,L);if(q.length!==0){var B=q.split(`
`),Y=B.shift();Y.length>0&&(F<this.length()-1||this.children.tail==null?o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var z=this;B.reduce(function(j,U){return z=z.split(j,!0),z.insertAt(0,U),U.length},F+Y.length)}}},{key:"insertBefore",value:function(F,q){var L=this.children.head;o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,F,q),L instanceof g.default&&L.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(F,q){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,F,q),this.cache={}}},{key:"optimize",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(F===0||F>=this.length()-O)){var L=this.clone();return F===0?(this.parent.insertBefore(L,this),this):(this.parent.insertBefore(L,this.next),L)}else{var B=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,F,q);return this.cache={},B}}}]),D}(p.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[w.default,p.default.Embed,x.default];function R(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(D=(0,l.default)(D,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?D:R(A.parent,D)}r.bubbleFormats=R,r.BlockEmbed=C,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(j,U){var V=[],H=!0,Q=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(H=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));H=!0);}catch(Z){Q=!0,X=Z}finally{try{!H&&W.return&&W.return()}finally{if(Q)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return z(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function z(j,U){for(var V=0;V<U.length;V++){var H=U[V];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(j,H.key,H)}}return function(j,U,V){return U&&z(j.prototype,U),V&&z(j,V),j}}();i(50);var l=i(2),h=R(l),c=i(14),f=R(c),p=i(8),m=R(p),g=i(9),y=R(g),w=i(0),b=R(w),x=i(15),E=R(x),S=i(3),k=R(S),N=i(10),O=R(N),C=i(34),I=R(C);function R(z){return z&&z.__esModule?z:{default:z}}function A(z,j,U){return j in z?Object.defineProperty(z,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):z[j]=U,z}function D(z,j){if(!(z instanceof j))throw new TypeError("Cannot call a class as a function")}var M=(0,O.default)("quill"),F=function(){a(z,null,[{key:"debug",value:function(U){U===!0&&(U="log"),O.default.level(U)}},{key:"find",value:function(U){return U.__quill||b.default.find(U)}},{key:"import",value:function(U){return this.imports[U]==null&&M.error("Cannot import "+U+". Are you sure it was registered?"),this.imports[U]}},{key:"register",value:function(U,V){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof U!="string"){var X=U.attrName||U.blotName;typeof X=="string"?this.register("formats/"+X,U,V):Object.keys(U).forEach(function(W){H.register(W,U[W],V)})}else this.imports[U]!=null&&!Q&&M.warn("Overwriting "+U+" with",V),this.imports[U]=V,(U.startsWith("blots/")||U.startsWith("formats/"))&&V.blotName!=="abstract"?b.default.register(V):U.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function z(j){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,z),this.options=q(j,V),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",j);this.options.debug&&z.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,W){var J=U.selection.lastRange,Z=J&&J.length===0?J.index:void 0;L.call(U,function(){return U.editor.update(null,W,Z)},X)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(z,[{key:"addContainer",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof U=="string"){var H=U;U=document.createElement("div"),U.classList.add(H)}return this.container.insertBefore(U,V),U}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(U,V,H){var Q=this,X=B(U,V,H),W=o(X,4);return U=W[0],V=W[1],H=W[3],L.call(this,function(){return Q.editor.deleteText(U,V)},H,U,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(U),this.container.classList.toggle("ql-disabled",!U)}},{key:"focus",value:function(){var U=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=U,this.scrollIntoView()}},{key:"format",value:function(U,V){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return L.call(this,function(){var X=H.getSelection(!0),W=new h.default;if(X==null)return W;if(b.default.query(U,b.default.Scope.BLOCK))W=H.editor.formatLine(X.index,X.length,A({},U,V));else{if(X.length===0)return H.selection.format(U,V),W;W=H.editor.formatText(X.index,X.length,A({},U,V))}return H.setSelection(X,m.default.sources.SILENT),W},Q)}},{key:"formatLine",value:function(U,V,H,Q,X){var W=this,J=void 0,Z=B(U,V,H,Q,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],L.call(this,function(){return W.editor.formatLine(U,V,J)},X,U,0)}},{key:"formatText",value:function(U,V,H,Q,X){var W=this,J=void 0,Z=B(U,V,H,Q,X),te=o(Z,4);return U=te[0],V=te[1],J=te[2],X=te[3],L.call(this,function(){return W.editor.formatText(U,V,J)},X,U,0)}},{key:"getBounds",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof U=="number"?H=this.selection.getBounds(U,V):H=this.selection.getBounds(U.index,U.length);var Q=this.container.getBoundingClientRect();return{bottom:H.bottom-Q.top,height:H.height,left:H.left-Q.left,right:H.right-Q.left,top:H.top-Q.top,width:H.width}}},{key:"getContents",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,H=B(U,V),Q=o(H,2);return U=Q[0],V=Q[1],this.editor.getContents(U,V)}},{key:"getFormat",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof U=="number"?this.editor.getFormat(U,V):this.editor.getFormat(U.index,U.length)}},{key:"getIndex",value:function(U){return U.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(U){return this.scroll.leaf(U)}},{key:"getLine",value:function(U){return this.scroll.line(U)}},{key:"getLines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof U!="number"?this.scroll.lines(U.index,U.length):this.scroll.lines(U,V)}},{key:"getModule",value:function(U){return this.theme.modules[U]}},{key:"getSelection",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return U&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-U,H=B(U,V),Q=o(H,2);return U=Q[0],V=Q[1],this.editor.getText(U,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(U,V,H){var Q=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return L.call(this,function(){return Q.editor.insertEmbed(U,V,H)},X,U)}},{key:"insertText",value:function(U,V,H,Q,X){var W=this,J=void 0,Z=B(U,0,H,Q,X),te=o(Z,4);return U=te[0],J=te[2],X=te[3],L.call(this,function(){return W.editor.insertText(U,V,J)},X,U,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(U,V,H){this.clipboard.dangerouslyPasteHTML(U,V,H)}},{key:"removeFormat",value:function(U,V,H){var Q=this,X=B(U,V,H),W=o(X,4);return U=W[0],V=W[1],H=W[3],L.call(this,function(){return Q.editor.removeFormat(U,V)},H,U)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(U){var V=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return L.call(this,function(){U=new h.default(U);var Q=V.getLength(),X=V.editor.deleteText(0,Q),W=V.editor.applyDelta(U),J=W.ops[W.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),W.delete(1));var Z=X.compose(W);return Z},H)}},{key:"setSelection",value:function(U,V,H){if(U==null)this.selection.setRange(null,V||z.sources.API);else{var Q=B(U,V,H),X=o(Q,4);U=X[0],V=X[1],H=X[3],this.selection.setRange(new x.Range(U,V),H),H!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,H=new h.default().insert(U);return this.setContents(H,V)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,V=this.scroll.update(U);return this.selection.update(U),V}},{key:"updateContents",value:function(U){var V=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return L.call(this,function(){return U=new h.default(U),V.editor.applyDelta(U,H)},H,!0)}}]),z}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=m.default.events,F.sources=m.default.sources,F.version="1.3.7",F.imports={delta:h.default,parchment:b.default,"core/module":y.default,"core/theme":I.default};function q(z,j){if(j=(0,k.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===F.DEFAULTS.theme)j.theme=I.default;else if(j.theme=F.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var U=(0,k.default)(!0,{},j.theme.DEFAULTS);[U,j].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(X){Q.modules[X]===!0&&(Q.modules[X]={})})});var V=Object.keys(U.modules).concat(Object.keys(j.modules)),H=V.reduce(function(Q,X){var W=F.import("modules/"+X);return W==null?M.error("Cannot load "+X+" module. Are you sure you registered it?"):Q[X]=W.DEFAULTS||{},Q},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,k.default)(!0,{},F.DEFAULTS,{modules:H},U,j),["bounds","container","scrollingContainer"].forEach(function(Q){typeof j[Q]=="string"&&(j[Q]=document.querySelector(j[Q]))}),j.modules=Object.keys(j.modules).reduce(function(Q,X){return j.modules[X]&&(Q[X]=j.modules[X]),Q},{}),j}function L(z,j,U,V){if(this.options.strict&&!this.isEnabled()&&j===m.default.sources.USER)return new h.default;var H=U==null?null:this.getSelection(),Q=this.editor.delta,X=z();if(H!=null&&(U===!0&&(U=H.index),V==null?H=Y(H,X,j):V!==0&&(H=Y(H,U,V,j)),this.setSelection(H,m.default.sources.SILENT)),X.length()>0){var W,J=[m.default.events.TEXT_CHANGE,X,Q,j];if((W=this.emitter).emit.apply(W,[m.default.events.EDITOR_CHANGE].concat(J)),j!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}return X}function B(z,j,U,V,H){var Q={};return typeof z.index=="number"&&typeof z.length=="number"?typeof j!="number"?(H=V,V=U,U=j,j=z.length,z=z.index):(j=z.length,z=z.index):typeof j!="number"&&(H=V,V=U,U=j,j=0),(typeof U>"u"?"undefined":s(U))==="object"?(Q=U,H=V):typeof U=="string"&&(V!=null?Q[U]=V:H=U),H=H||m.default.sources.API,[z,j,Q,H]}function Y(z,j,U,V){if(z==null)return null;var H=void 0,Q=void 0;if(j instanceof h.default){var X=[z.index,z.index+z.length].map(function(te){return j.transformPosition(te,V!==m.default.sources.USER)}),W=o(X,2);H=W[0],Q=W[1]}else{var J=[z.index,z.index+z.length].map(function(te){return te<j||te===j&&V===m.default.sources.USER?te:U>=0?te+U:Math.max(j,te+U)}),Z=o(J,2);H=Z[0],Q=Z[1]}return new x.Range(H,Q-H)}r.expandConfig=q,r.overload=B,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(7),l=f(a),h=i(0),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){g(b,w);function b(){return p(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(E,S,k,N){if(b.compare(this.statics.blotName,k)<0&&c.default.query(k,c.default.Scope.BLOT)){var O=this.isolate(E,S);N&&O.wrap(k,N)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,E,S,k,N)}},{key:"optimize",value:function(E){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(E,S){var k=b.order.indexOf(E),N=b.order.indexOf(S);return k>=0||N>=0?k-N:E===S?0:E<S?-1:1}}]),b}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(E,S){for(var k=0;k<S.length;k++){var N=S[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,S,k){return S&&x(E.prototype,S),k&&x(E,k),E}}(),o=function x(E,S,k){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,S);if(N===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:x(O,S,k)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(k)}},a=i(54),l=f(a),h=i(10),c=f(h);function f(x){return x&&x.__esModule?x:{default:x}}function p(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function m(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function g(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(x){document.addEventListener(x,function(){for(var E=arguments.length,S=Array(E),k=0;k<E;k++)S[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var O;(O=N.__quill.emitter).handleDOM.apply(O,S)}})})});var b=function(x){g(E,x);function E(){p(this,E);var S=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return S.listeners={},S.on("error",y.error),S}return s(E,[{key:"emit",value:function(){y.log.apply(y,arguments),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var N=arguments.length,O=Array(N>1?N-1:0),C=1;C<N;C++)O[C-1]=arguments[C];(this.listeners[k.type]||[]).forEach(function(I){var R=I.node,A=I.handler;(k.target===R||R.contains(k.target))&&A.apply(void 0,[k].concat(O))})}},{key:"listenDOM",value:function(k,N,O){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:N,handler:O})}}]),E}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=h};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(h){if(s.indexOf(h)<=s.indexOf(o)){for(var c,f=arguments.length,p=Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];(c=console)[h].apply(c,p)}}function l(h){return s.reduce(function(c,f){return c[f]=a.bind(console,f,h),c},{})}a.level=l.level=function(h){o=h},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(p,m,g){return g||(g={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?g.strict?p===m:p==m:f(p,m,g)};function h(p){return p==null}function c(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function f(p,m,g){var y,w;if(h(p)||h(m)||p.prototype!==m.prototype)return!1;if(a(p))return a(m)?(p=s.call(p),m=s.call(m),l(p,m,g)):!1;if(c(p)){if(!c(m)||p.length!==m.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==m[y])return!1;return!0}try{var b=o(p),x=o(m)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),y=b.length-1;y>=0;y--)if(b[y]!=x[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!l(p[w],m[w],g))return!1;return typeof p==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,h,c){c===void 0&&(c={}),this.attrName=l,this.keyName=h;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(h){return h.name})},a.prototype.add=function(l,h){return this.canAdd(l,h)?(l.setAttribute(this.keyName,h),!0):!1},a.prototype.canAdd=function(l,h){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var h=l.getAttribute(this.keyName);return this.canAdd(l,h)&&h?h:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function C(I,R){var A=[],D=!0,M=!1,F=void 0;try{for(var q=I[Symbol.iterator](),L;!(D=(L=q.next()).done)&&(A.push(L.value),!(R&&A.length===R));D=!0);}catch(B){M=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(M)throw F}}return A}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,R){for(var A=0;A<R.length;A++){var D=R[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,R,A){return R&&C(I.prototype,R),A&&C(I,A),I}}(),a=function C(I,R,A){I===null&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,R);if(D===void 0){var M=Object.getPrototypeOf(I);return M===null?void 0:C(M,R,A)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(A)}},l=i(2),h=x(l),c=i(0),f=x(c),p=i(4),m=x(p),g=i(6),y=x(g),w=i(7),b=x(w);function x(C){return C&&C.__esModule?C:{default:C}}function E(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function S(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function k(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var N=function(C){k(I,C);function I(){return E(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(y.default);N.blotName="code",N.tagName="CODE";var O=function(C){k(I,C);function I(){return E(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"delta",value:function(){var A=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(M,F){return M.insert(F).insert(`
`,A.formats())},new h.default)}},{key:"format",value:function(A,D){if(!(A===this.statics.blotName&&D)){var M=this.descendant(b.default,this.length()-1),F=s(M,1),q=F[0];q!=null&&q.deleteAt(q.length()-1,1),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,A,D)}}},{key:"formatAt",value:function(A,D,M,F){if(D!==0&&!(f.default.query(M,f.default.Scope.BLOCK)==null||M===this.statics.blotName&&F===this.statics.formats(this.domNode))){var q=this.newlineIndex(A);if(!(q<0||q>=A+D)){var L=this.newlineIndex(A,!0)+1,B=q-L+1,Y=this.isolate(L,B),z=Y.next;Y.format(M,F),z instanceof I&&z.formatAt(0,A-L+D-B,M,F)}}}},{key:"insertAt",value:function(A,D,M){if(M==null){var F=this.descendant(b.default,A),q=s(F,2),L=q[0],B=q[1];L.insertAt(B,D)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var M=this.domNode.textContent.slice(A).indexOf(`
`);return M>-1?A+M:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(A),D.moveChildren(this),D.remove())}},{key:"replace",value:function(A){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var M=f.default.find(D);M==null?D.parentNode.removeChild(D):M instanceof f.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(A){var D=a(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,A);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),I}(m.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=N,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(j,U){var V=[],H=!0,Q=!1,X=void 0;try{for(var W=j[Symbol.iterator](),J;!(H=(J=W.next()).done)&&(V.push(J.value),!(U&&V.length===U));H=!0);}catch(Z){Q=!0,X=Z}finally{try{!H&&W.return&&W.return()}finally{if(Q)throw X}}return V}return function(j,U){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return z(j,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function z(j,U){for(var V=0;V<U.length;V++){var H=U[V];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(j,H.key,H)}}return function(j,U,V){return U&&z(j.prototype,U),V&&z(j,V),j}}(),l=i(2),h=D(l),c=i(20),f=D(c),p=i(0),m=D(p),g=i(13),y=D(g),w=i(24),b=D(w),x=i(4),E=D(x),S=i(16),k=D(S),N=i(21),O=D(N),C=i(11),I=D(C),R=i(3),A=D(R);function D(z){return z&&z.__esModule?z:{default:z}}function M(z,j,U){return j in z?Object.defineProperty(z,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):z[j]=U,z}function F(z,j){if(!(z instanceof j))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,L=function(){function z(j){F(this,z),this.scroll=j,this.delta=this.getDelta()}return a(z,[{key:"applyDelta",value:function(U){var V=this,H=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),U=Y(U),U.reduce(function(X,W){var J=W.retain||W.delete||W.insert.length||1,Z=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var te=W.insert;te.endsWith(`
`)&&H&&(H=!1,te=te.slice(0,-1)),X>=Q&&!te.endsWith(`
`)&&(H=!0),V.scroll.insertAt(X,te);var le=V.scroll.line(X),pe=o(le,2),ge=pe[0],Ce=pe[1],$e=(0,A.default)({},(0,x.bubbleFormats)(ge));if(ge instanceof E.default){var De=ge.descendant(m.default.Leaf,Ce),nt=o(De,1),Xe=nt[0];$e=(0,A.default)($e,(0,x.bubbleFormats)(Xe))}Z=f.default.attributes.diff($e,Z)||{}}else if(s(W.insert)==="object"){var ce=Object.keys(W.insert)[0];if(ce==null)return X;V.scroll.insertAt(X,ce,W.insert[ce])}Q+=J}return Object.keys(Z).forEach(function(fe){V.scroll.formatAt(X,J,fe,Z[fe])}),X+J},0),U.reduce(function(X,W){return typeof W.delete=="number"?(V.scroll.deleteAt(X,W.delete),X):X+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(U)}},{key:"deleteText",value:function(U,V){return this.scroll.deleteAt(U,V),this.update(new h.default().retain(U).delete(V))}},{key:"formatLine",value:function(U,V){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(X){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[X])){var W=H.scroll.lines(U,Math.max(V,1)),J=V;W.forEach(function(Z){var te=Z.length();if(!(Z instanceof y.default))Z.format(X,Q[X]);else{var le=U-Z.offset(H.scroll),pe=Z.newlineIndex(le+J)-le+1;Z.formatAt(le,pe,X,Q[X])}J-=te})}}),this.scroll.optimize(),this.update(new h.default().retain(U).retain(V,(0,O.default)(Q)))}},{key:"formatText",value:function(U,V){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(X){H.scroll.formatAt(U,V,X,Q[X])}),this.update(new h.default().retain(U).retain(V,(0,O.default)(Q)))}},{key:"getContents",value:function(U,V){return this.delta.slice(U,U+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(U,V){return U.concat(V.delta())},new h.default)}},{key:"getFormat",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],Q=[];V===0?this.scroll.path(U).forEach(function(W){var J=o(W,1),Z=J[0];Z instanceof E.default?H.push(Z):Z instanceof m.default.Leaf&&Q.push(Z)}):(H=this.scroll.lines(U,V),Q=this.scroll.descendants(m.default.Leaf,U,V));var X=[H,Q].map(function(W){if(W.length===0)return{};for(var J=(0,x.bubbleFormats)(W.shift());Object.keys(J).length>0;){var Z=W.shift();if(Z==null)return J;J=B((0,x.bubbleFormats)(Z),J)}return J});return A.default.apply(A.default,X)}},{key:"getText",value:function(U,V){return this.getContents(U,V).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(U,V,H){return this.scroll.insertAt(U,V,H),this.update(new h.default().retain(U).insert(M({},V,H)))}},{key:"insertText",value:function(U,V){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(U,V),Object.keys(Q).forEach(function(X){H.scroll.formatAt(U,V.length,X,Q[X])}),this.update(new h.default().retain(U).insert(V,(0,O.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var U=this.scroll.children.head;return U.statics.blotName!==E.default.blotName||U.children.length>1?!1:U.children.head instanceof k.default}},{key:"removeFormat",value:function(U,V){var H=this.getText(U,V),Q=this.scroll.line(U+V),X=o(Q,2),W=X[0],J=X[1],Z=0,te=new h.default;W!=null&&(W instanceof y.default?Z=W.newlineIndex(J)-J+1:Z=W.length()-J,te=W.delta().slice(J,J+Z-1).insert(`
`));var le=this.getContents(U,V+Z),pe=le.diff(new h.default().insert(H).concat(te)),ge=new h.default().retain(U).concat(pe);return this.applyDelta(ge)}},{key:"update",value:function(U){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(q)&&m.default.find(V[0].target)){var X=m.default.find(V[0].target),W=(0,x.bubbleFormats)(X),J=X.offset(this.scroll),Z=V[0].oldValue.replace(b.default.CONTENTS,""),te=new h.default().insert(Z),le=new h.default().insert(X.value()),pe=new h.default().retain(J).concat(te.diff(le,H));U=pe.reduce(function(ge,Ce){return Ce.insert?ge.insert(Ce.insert,W):ge.push(Ce)},new h.default),this.delta=Q.compose(U)}else this.delta=this.getDelta(),(!U||!(0,I.default)(Q.compose(U),this.delta))&&(U=Q.diff(this.delta,H));return U}}]),z}();function B(z,j){return Object.keys(j).reduce(function(U,V){return z[V]==null||(j[V]===z[V]?U[V]=j[V]:Array.isArray(j[V])?j[V].indexOf(z[V])<0&&(U[V]=j[V].concat([z[V]])):U[V]=[j[V],z[V]]),U},{})}function Y(z){return z.reduce(function(j,U){if(U.insert===1){var V=(0,O.default)(U.attributes);return delete V.image,j.insert({image:U.attributes.image},V)}if(U.attributes!=null&&(U.attributes.list===!0||U.attributes.bullet===!0)&&(U=(0,O.default)(U),U.attributes.list?U.attributes.list="ordered":(U.attributes.list="bullet",delete U.attributes.bullet)),typeof U.insert=="string"){var H=U.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(H,U.attributes)}return j.push(U)},new h.default)}r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function C(I,R){var A=[],D=!0,M=!1,F=void 0;try{for(var q=I[Symbol.iterator](),L;!(D=(L=q.next()).done)&&(A.push(L.value),!(R&&A.length===R));D=!0);}catch(B){M=!0,F=B}finally{try{!D&&q.return&&q.return()}finally{if(M)throw F}}return A}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,R){for(var A=0;A<R.length;A++){var D=R[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,R,A){return R&&C(I.prototype,R),A&&C(I,A),I}}(),a=i(0),l=b(a),h=i(21),c=b(h),f=i(11),p=b(f),m=i(8),g=b(m),y=i(10),w=b(y);function b(C){return C&&C.__esModule?C:{default:C}}function x(C){if(Array.isArray(C)){for(var I=0,R=Array(C.length);I<C.length;I++)R[I]=C[I];return R}else return Array.from(C)}function E(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var S=(0,w.default)("quill:selection"),k=function C(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,C),this.index=I,this.length=R},N=function(){function C(I,R){var A=this;E(this,C),this.emitter=R,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(D,M){D===g.default.events.TEXT_CHANGE&&M.length()>0&&A.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var D=A.getNativeRange();D!=null&&D.start.node!==A.cursor.textNode&&A.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(D,M){if(M.range){var F=M.range,q=F.startNode,L=F.startOffset,B=F.endNode,Y=F.endOffset;A.setNativeRange(q,L,B,Y)}}),this.update(g.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var A=R.cursor.restore();if(!A)return;setTimeout(function(){R.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||l.default.query(R,l.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var M=l.default.find(D.start.node,!1);if(M==null)return;if(M instanceof l.default.Leaf){var F=M.split(D.start.offset);M.parent.insertBefore(this.cursor,F)}else M.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(R,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();R=Math.min(R,D-1),A=Math.min(R+A,D-1)-R;var M=void 0,F=this.scroll.leaf(R),q=s(F,2),L=q[0],B=q[1];if(L==null)return null;var Y=L.position(B,!0),z=s(Y,2);M=z[0],B=z[1];var j=document.createRange();if(A>0){j.setStart(M,B);var U=this.scroll.leaf(R+A),V=s(U,2);if(L=V[0],B=V[1],L==null)return null;var H=L.position(B,!0),Q=s(H,2);return M=Q[0],B=Q[1],j.setEnd(M,B),j.getBoundingClientRect()}else{var X="left",W=void 0;return M instanceof Text?(B<M.data.length?(j.setStart(M,B),j.setEnd(M,B+1)):(j.setStart(M,B-1),j.setEnd(M,B),X="right"),W=j.getBoundingClientRect()):(W=L.domNode.getBoundingClientRect(),B>0&&(X="right")),{bottom:W.top+W.height,height:W.height,left:W[X],right:W[X],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var A=R.getRangeAt(0);if(A==null)return null;var D=this.normalizeNative(A);return S.info("getNativeRange",D),D}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var A=this.normalizedToRange(R);return[A,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var A=this,D=[[R.start.node,R.start.offset]];R.native.collapsed||D.push([R.end.node,R.end.offset]);var M=D.map(function(L){var B=s(L,2),Y=B[0],z=B[1],j=l.default.find(Y,!0),U=j.offset(A.scroll);return z===0?U:j instanceof l.default.Container?U+j.length():U+j.index(Y,z)}),F=Math.min(Math.max.apply(Math,x(M)),this.scroll.length()-1),q=Math.min.apply(Math,[F].concat(x(M)));return new k(q,F-q)}},{key:"normalizeNative",value:function(R){if(!O(this.root,R.startContainer)||!R.collapsed&&!O(this.root,R.endContainer))return null;var A={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[A.start,A.end].forEach(function(D){for(var M=D.node,F=D.offset;!(M instanceof Text)&&M.childNodes.length>0;)if(M.childNodes.length>F)M=M.childNodes[F],F=0;else if(M.childNodes.length===F)M=M.lastChild,F=M instanceof Text?M.data.length:M.childNodes.length+1;else break;D.node=M,D.offset=F}),A}},{key:"rangeToNative",value:function(R){var A=this,D=R.collapsed?[R.index]:[R.index,R.index+R.length],M=[],F=this.scroll.length();return D.forEach(function(q,L){q=Math.min(F-1,q);var B=void 0,Y=A.scroll.leaf(q),z=s(Y,2),j=z[0],U=z[1],V=j.position(U,L!==0),H=s(V,2);B=H[0],U=H[1],M.push(B,U)}),M.length<2&&(M=M.concat(M)),M}},{key:"scrollIntoView",value:function(R){var A=this.lastRange;if(A!=null){var D=this.getBounds(A.index,A.length);if(D!=null){var M=this.scroll.length()-1,F=this.scroll.line(Math.min(A.index,M)),q=s(F,1),L=q[0],B=L;if(A.length>0){var Y=this.scroll.line(Math.min(A.index+A.length,M)),z=s(Y,1);B=z[0]}if(!(L==null||B==null)){var j=R.getBoundingClientRect();D.top<j.top?R.scrollTop-=j.top-D.top:D.bottom>j.bottom&&(R.scrollTop+=D.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(R,A){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",R,A,D,M),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||D.parentNode==null))){var q=document.getSelection();if(q!=null)if(R!=null){this.hasFocus()||this.root.focus();var L=(this.getNativeRange()||{}).native;if(L==null||F||R!==L.startContainer||A!==L.startOffset||D!==L.endContainer||M!==L.endOffset){R.tagName=="BR"&&(A=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),D.tagName=="BR"&&(M=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var B=document.createRange();B.setStart(R,A),B.setEnd(D,M),q.removeAllRanges(),q.addRange(B)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof A=="string"&&(D=A,A=!1),S.info("setRange",R),R!=null){var M=this.rangeToNative(R);this.setNativeRange.apply(this,x(M).concat([A]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,A=this.lastRange,D=this.getRange(),M=s(D,2),F=M[0],q=M[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(A,this.lastRange)){var L;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(A),R];if((L=this.emitter).emit.apply(L,[g.default.events.EDITOR_CHANGE].concat(B)),R!==g.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,B)}}}}]),C}();function O(C,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),C.contains(I)}r.Range=k,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(0),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(b,x){b.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),h=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.build(),g}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=c(g);m.insertBefore(y,m.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(m,g){if(m===0&&g===this.length())return this.remove();this.children.forEachAt(m,g,function(y,w,b){y.deleteAt(w,b)})},p.prototype.descendant=function(m,g){var y=this.children.find(g),w=y[0],b=y[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,b]:w instanceof p?w.descendant(m,b):[null,-1]},p.prototype.descendants=function(m,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(g,y,function(x,E,S){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&w.push(x),x instanceof p&&(w=w.concat(x.descendants(m,E,b))),b-=S}),w},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},p.prototype.formatAt=function(m,g,y,w){this.children.forEachAt(m,g,function(b,x,E){b.formatAt(x,E,y,w)})},p.prototype.insertAt=function(m,g,y){var w=this.children.find(m),b=w[0],x=w[1];if(b)b.insertAt(x,g,y);else{var E=y==null?l.create("text",g):l.create(g,y);this.appendChild(E)}},p.prototype.insertBefore=function(m,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return m instanceof y}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,g)},p.prototype.length=function(){return this.children.reduce(function(m,g){return m+g.length()},0)},p.prototype.moveChildren=function(m,g){this.children.forEach(function(y){m.insertBefore(y,g)})},p.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(m)}else this.remove()},p.prototype.path=function(m,g){g===void 0&&(g=!1);var y=this.children.find(m,g),w=y[0],b=y[1],x=[[this,m]];return w instanceof p?x.concat(w.path(b,g)):(w!=null&&x.push([w,b]),x)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),f.prototype.replace.call(this,m)},p.prototype.split=function(m,g){if(g===void 0&&(g=!1),!g){if(m===0)return this;if(m===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(m,this.length(),function(w,b,x){w=w.split(b,g),y.appendChild(w)}),y},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,g){var y=this,w=[],b=[];m.forEach(function(x){x.target===y.domNode&&x.type==="childList"&&(w.push.apply(w,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(x);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===y.domNode)&&E.detach()}}),w.filter(function(x){return x.parentNode==y.domNode}).sort(function(x,E){return x===E?0:x.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var E=null;x.nextSibling!=null&&(E=l.find(x.nextSibling));var S=c(x);(S.next!=E||S.next==null)&&(S.parent!=null&&S.parent.removeChild(y),y.insertBefore(S,E||void 0))})},p}(a.default);function c(f){var p=l.find(f);if(p==null)try{p=l.create(f)}catch{p=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){p.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(p.domNode,f),p.attach()}return p}r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),h=i(1),c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.attributes=new a.default(g.domNode),g}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,g){var y=h.query(m);y instanceof o.default?this.attributes.attribute(y,g):g&&y!=null&&(m!==this.statics.blotName||this.formats()[m]!==g)&&this.replaceWith(m,g)},p.prototype.formats=function(){var m=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(m[this.statics.blotName]=g),m},p.prototype.replaceWith=function(m,g){var y=f.prototype.replaceWith.call(this,m,g);return this.attributes.copy(y),y},p.prototype.update=function(m,g){var y=this;f.prototype.update.call(this,m,g),m.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,g){var y=f.prototype.wrap.call(this,m,g);return y instanceof p&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},p}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,p){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},c.prototype.position=function(f,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(h,c,f){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var p=o(!0,{},c);f||(p=Object.keys(p).reduce(function(g,y){return p[y]!=null&&(g[y]=p[y]),g},{}));for(var m in h)h[m]!==void 0&&c[m]===void 0&&(p[m]=h[m]);return Object.keys(p).length>0?p:void 0},diff:function(h,c){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var f=Object.keys(h).concat(Object.keys(c)).reduce(function(p,m){return s(h[m],c[m])||(p[m]=c[m]===void 0?null:c[m]),p},{});return Object.keys(f).length>0?f:void 0},transform:function(h,c,f){if(typeof h!="object")return c;if(typeof c=="object"){if(!f)return c;var p=Object.keys(c).reduce(function(m,g){return h[g]===void 0&&(m[g]=c[g]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(h){return new l(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function l(h){this.ops=h,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(h){h||(h=1/0);var c=this.ops[this.index];if(c){var f=this.offset,p=a.length(c);if(h>=p-f?(h=p-f,this.index+=1,this.offset=0):this.offset+=h,typeof c.delete=="number")return{delete:h};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=h:typeof c.insert=="string"?m.insert=c.insert.substr(f,h):m.insert=c.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,c=this.index,f=this.next(),p=this.ops.slice(this.index);return this.offset=h,this.index=c,[f].concat(p)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function h(y,w,b,x,E){typeof w=="object"&&(b=w.depth,x=w.prototype,E=w.includeNonEnumerable,w=w.circular);var S=[],k=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function O(C,I){if(C===null)return null;if(I===0)return C;var R,A;if(typeof C!="object")return C;if(s(C,o))R=new o;else if(s(C,a))R=new a;else if(s(C,l))R=new l(function(j,U){C.then(function(V){j(O(V,I-1))},function(V){U(O(V,I-1))})});else if(h.__isArray(C))R=[];else if(h.__isRegExp(C))R=new RegExp(C.source,g(C)),C.lastIndex&&(R.lastIndex=C.lastIndex);else if(h.__isDate(C))R=new Date(C.getTime());else{if(N&&Buffer.isBuffer(C))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(C.length):R=new Buffer(C.length),C.copy(R),R;s(C,Error)?R=Object.create(C):typeof x>"u"?(A=Object.getPrototypeOf(C),R=Object.create(A)):(R=Object.create(x),A=x)}if(w){var D=S.indexOf(C);if(D!=-1)return k[D];S.push(C),k.push(R)}s(C,o)&&C.forEach(function(j,U){var V=O(U,I-1),H=O(j,I-1);R.set(V,H)}),s(C,a)&&C.forEach(function(j){var U=O(j,I-1);R.add(U)});for(var M in C){var F;A&&(F=Object.getOwnPropertyDescriptor(A,M)),!(F&&F.set==null)&&(R[M]=O(C[M],I-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(C),M=0;M<q.length;M++){var L=q[M],B=Object.getOwnPropertyDescriptor(C,L);B&&!B.enumerable&&!E||(R[L]=O(C[L],I-1),B.enumerable||Object.defineProperty(R,L,{enumerable:!1}))}if(E)for(var Y=Object.getOwnPropertyNames(C),M=0;M<Y.length;M++){var z=Y[M],B=Object.getOwnPropertyDescriptor(C,z);B&&B.enumerable||(R[z]=O(C[z],I-1),Object.defineProperty(R,z,{enumerable:!1}))}return R}return O(y,b)}h.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(y){return Object.prototype.toString.call(y)}h.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}h.__isDate=f;function p(y){return typeof y=="object"&&c(y)==="[object Array]"}h.__isArray=p;function m(y){return typeof y=="object"&&c(y)==="[object RegExp]"}h.__isRegExp=m;function g(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return h.__getRegExpFlags=g,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function R(A,D){var M=[],F=!0,q=!1,L=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(M.push(Y.value),!(D&&M.length===D));F=!0);}catch(z){q=!0,L=z}finally{try{!F&&B.return&&B.return()}finally{if(q)throw L}}return M}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return R(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(A,D){for(var M=0;M<D.length;M++){var F=D[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,M){return D&&R(A.prototype,D),M&&R(A,M),A}}(),a=function R(A,D,M){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:R(q,D,M)}else{if("value"in F)return F.value;var L=F.get;return L===void 0?void 0:L.call(M)}},l=i(0),h=S(l),c=i(8),f=S(c),p=i(4),m=S(p),g=i(16),y=S(g),w=i(13),b=S(w),x=i(25),E=S(x);function S(R){return R&&R.__esModule?R:{default:R}}function k(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function N(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function O(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}function C(R){return R instanceof m.default||R instanceof p.BlockEmbed}var I=function(R){O(A,R);function A(D,M){k(this,A);var F=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D));return F.emitter=M.emitter,Array.isArray(M.whitelist)&&(F.whitelist=M.whitelist.reduce(function(q,L){return q[L]=!0,q},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(M,F){var q=this.line(M),L=s(q,2),B=L[0],Y=L[1],z=this.line(M+F),j=s(z,1),U=j[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,M,F),U!=null&&B!==U&&Y>0){if(B instanceof p.BlockEmbed||U instanceof p.BlockEmbed){this.optimize();return}if(B instanceof b.default){var V=B.newlineIndex(B.length(),!0);if(V>-1&&(B=B.split(V+1),B===U)){this.optimize();return}}else if(U instanceof b.default){var H=U.newlineIndex(0);H>-1&&U.split(H+1)}var Q=U.children.head instanceof y.default?null:U.children.head;B.moveChildren(U,Q),B.remove()}this.optimize()}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",M)}},{key:"formatAt",value:function(M,F,q,L){this.whitelist!=null&&!this.whitelist[q]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,M,F,q,L),this.optimize())}},{key:"insertAt",value:function(M,F,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[F])){if(M>=this.length())if(q==null||h.default.query(F,h.default.Scope.BLOCK)==null){var L=h.default.create(this.statics.defaultChild);this.appendChild(L),q==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),L.insertAt(0,F,q)}else{var B=h.default.create(F,q);this.appendChild(B)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,F,q);this.optimize()}}},{key:"insertBefore",value:function(M,F){if(M.statics.scope===h.default.Scope.INLINE_BLOT){var q=h.default.create(this.statics.defaultChild);q.appendChild(M),M=q}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,M,F)}},{key:"leaf",value:function(M){return this.path(M).pop()||[null,-1]}},{key:"line",value:function(M){return M===this.length()?this.line(M-1):this.descendant(C,M)}},{key:"lines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function L(B,Y,z){var j=[],U=z;return B.children.forEachAt(Y,z,function(V,H,Q){C(V)?j.push(V):V instanceof h.default.Container&&(j=j.concat(L(V,H,U))),U-=Q}),j};return q(this,M,F)}},{key:"optimize",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,M,F),M.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,M,F))}},{key:"path",value:function(M){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,M).slice(1)}},{key:"update",value:function(M){if(this.batch!==!0){var F=f.default.sources.USER;typeof M=="string"&&(F=M),Array.isArray(M)||(M=this.observer.takeRecords()),M.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,F,M),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,M.concat([])),M.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,F,M)}}}]),A}(h.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[m.default,p.BlockEmbed,E.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(J,Z){var te=[],le=!0,pe=!1,ge=void 0;try{for(var Ce=J[Symbol.iterator](),$e;!(le=($e=Ce.next()).done)&&(te.push($e.value),!(Z&&te.length===Z));le=!0);}catch(De){pe=!0,ge=De}finally{try{!le&&Ce.return&&Ce.return()}finally{if(pe)throw ge}}return te}return function(J,Z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return W(J,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(J,Z){for(var te=0;te<Z.length;te++){var le=Z[te];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,le.key,le)}}return function(J,Z,te){return Z&&W(J.prototype,Z),te&&W(J,te),J}}(),l=i(21),h=R(l),c=i(11),f=R(c),p=i(3),m=R(p),g=i(2),y=R(g),w=i(20),b=R(w),x=i(0),E=R(x),S=i(5),k=R(S),N=i(10),O=R(N),C=i(9),I=R(C);function R(W){return W&&W.__esModule?W:{default:W}}function A(W,J,Z){return J in W?Object.defineProperty(W,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):W[J]=Z,W}function D(W,J){if(!(W instanceof J))throw new TypeError("Cannot call a class as a function")}function M(W,J){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:W}function F(W,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}var q=(0,O.default)("quill:keyboard"),L=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(W){F(J,W),a(J,null,[{key:"match",value:function(te,le){return le=X(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!le[pe]!==te[pe]&&le[pe]!==null})?!1:le.key===(te.which||te.keyCode)}}]);function J(Z,te){D(this,J);var le=M(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,Z,te));return le.bindings={},Object.keys(le.options.bindings).forEach(function(pe){pe==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||le.options.bindings[pe]&&le.addBinding(le.options.bindings[pe])}),le.addBinding({key:J.keys.ENTER,shiftKey:null},V),le.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},z),le.addBinding({key:J.keys.DELETE},{collapsed:!0},j)):(le.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),le.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),le.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},U),le.addBinding({key:J.keys.DELETE},{collapsed:!1},U),le.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),le.listen(),le}return a(J,[{key:"addBinding",value:function(te){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=X(te);if(ge==null||ge.key==null)return q.warn("Attempted to add invalid keyboard binding",ge);typeof le=="function"&&(le={handler:le}),typeof pe=="function"&&(pe={handler:pe}),ge=(0,m.default)(ge,le,pe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var te=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var pe=le.which||le.keyCode,ge=(te.bindings[pe]||[]).filter(function(ct){return J.match(le,ct)});if(ge.length!==0){var Ce=te.quill.getSelection();if(!(Ce==null||!te.quill.hasFocus())){var $e=te.quill.getLine(Ce.index),De=o($e,2),nt=De[0],Xe=De[1],ce=te.quill.getLeaf(Ce.index),fe=o(ce,2),we=fe[0],xe=fe[1],he=Ce.length===0?[we,xe]:te.quill.getLeaf(Ce.index+Ce.length),Be=o(he,2),Ie=Be[0],Ye=Be[1],Ht=we instanceof E.default.Text?we.value().slice(0,xe):"",On=Ie instanceof E.default.Text?Ie.value().slice(Ye):"",it={collapsed:Ce.length===0,empty:Ce.length===0&&nt.length()<=1,format:te.quill.getFormat(Ce),offset:Xe,prefix:Ht,suffix:On},Ur=ge.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==it.collapsed||ct.empty!=null&&ct.empty!==it.empty||ct.offset!=null&&ct.offset!==it.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(zt){return it.format[zt]==null}))return!1}else if(s(ct.format)==="object"&&!Object.keys(ct.format).every(function(zt){return ct.format[zt]===!0?it.format[zt]!=null:ct.format[zt]===!1?it.format[zt]==null:(0,f.default)(ct.format[zt],it.format[zt])}))return!1;return ct.prefix!=null&&!ct.prefix.test(it.prefix)||ct.suffix!=null&&!ct.suffix.test(it.suffix)?!1:ct.handler.call(te,Ce,it)!==!0});Ur&&le.preventDefault()}}}})}}]),J}(I.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,Z){Z.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,k.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(J){this.quill.history.cutoff();var Z=new y.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(Z,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,k.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,Z){this.quill.format("list",!1,k.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=(0,m.default)({},le.formats(),{list:"checked"}),Ce=new y.default().retain(J.index).insert(`
`,ge).retain(le.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,Z){var te=this.quill.getLine(J.index),le=o(te,2),pe=le[0],ge=le[1],Ce=new y.default().retain(J.index).insert(`
`,Z.format).retain(pe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(Ce,k.default.sources.USER),this.quill.setSelection(J.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,Z){var te=Z.prefix.length,le=this.quill.getLine(J.index),pe=o(le,2),ge=pe[0],Ce=pe[1];if(Ce>te)return!0;var $e=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":$e="unchecked";break;case"[x]":$e="checked";break;case"-":case"*":$e="bullet";break;default:$e="ordered"}this.quill.insertText(J.index," ",k.default.sources.USER),this.quill.history.cutoff();var De=new y.default().retain(J.index-Ce).delete(te+1).retain(ge.length()-2-Ce).retain(1,{list:$e});this.quill.updateContents(De,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-te,k.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var Z=this.quill.getLine(J.index),te=o(Z,2),le=te[0],pe=te[1],ge=new y.default().retain(J.index+le.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Y(B.keys.LEFT,!1),"embed left shift":Y(B.keys.LEFT,!0),"embed right":Y(B.keys.RIGHT,!1),"embed right shift":Y(B.keys.RIGHT,!0)}};function Y(W,J){var Z,te=W===B.keys.LEFT?"prefix":"suffix";return Z={key:W,shiftKey:J,altKey:null},A(Z,te,/^$/),A(Z,"handler",function(pe){var ge=pe.index;W===B.keys.RIGHT&&(ge+=pe.length+1);var Ce=this.quill.getLeaf(ge),$e=o(Ce,1),De=$e[0];return De instanceof E.default.Embed?(W===B.keys.LEFT?J?this.quill.setSelection(pe.index-1,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index-1,k.default.sources.USER):J?this.quill.setSelection(pe.index,pe.length+1,k.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,k.default.sources.USER),!1):!0}),Z}function z(W,J){if(!(W.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(W.index),te=o(Z,1),le=te[0],pe={};if(J.offset===0){var ge=this.quill.getLine(W.index-1),Ce=o(ge,1),$e=Ce[0];if($e!=null&&$e.length()>1){var De=le.formats(),nt=this.quill.getFormat(W.index-1,1);pe=b.default.attributes.diff(De,nt)||{}}}var Xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(W.index-Xe,Xe,k.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(W.index-Xe,Xe,pe,k.default.sources.USER),this.quill.focus()}}function j(W,J){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(W.index>=this.quill.getLength()-Z)){var te={},le=0,pe=this.quill.getLine(W.index),ge=o(pe,1),Ce=ge[0];if(J.offset>=Ce.length()-1){var $e=this.quill.getLine(W.index+1),De=o($e,1),nt=De[0];if(nt){var Xe=Ce.formats(),ce=this.quill.getFormat(W.index,1);te=b.default.attributes.diff(Xe,ce)||{},le=nt.length()}}this.quill.deleteText(W.index,Z,k.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(W.index+le-1,Z,te,k.default.sources.USER)}}function U(W){var J=this.quill.getLines(W),Z={};if(J.length>1){var te=J[0].formats(),le=J[J.length-1].formats();Z=b.default.attributes.diff(le,te)||{}}this.quill.deleteText(W,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(W.index,1,Z,k.default.sources.USER),this.quill.setSelection(W.index,k.default.sources.SILENT),this.quill.focus()}function V(W,J){var Z=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var te=Object.keys(J.format).reduce(function(le,pe){return E.default.query(pe,E.default.Scope.BLOCK)&&!Array.isArray(J.format[pe])&&(le[pe]=J.format[pe]),le},{});this.quill.insertText(W.index,`
`,te,k.default.sources.USER),this.quill.setSelection(W.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(le){te[le]==null&&(Array.isArray(J.format[le])||le!=="link"&&Z.quill.format(le,J.format[le],k.default.sources.USER))})}function H(W){return{key:B.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(Z){var te=E.default.query("code-block"),le=Z.index,pe=Z.length,ge=this.quill.scroll.descendant(te,le),Ce=o(ge,2),$e=Ce[0],De=Ce[1];if($e!=null){var nt=this.quill.getIndex($e),Xe=$e.newlineIndex(De,!0)+1,ce=$e.newlineIndex(nt+De+pe),fe=$e.domNode.textContent.slice(Xe,ce).split(`
`);De=0,fe.forEach(function(we,xe){W?($e.insertAt(Xe+De,te.TAB),De+=te.TAB.length,xe===0?le+=te.TAB.length:pe+=te.TAB.length):we.startsWith(te.TAB)&&($e.deleteAt(Xe+De,te.TAB.length),De-=te.TAB.length,xe===0?le-=te.TAB.length:pe-=te.TAB.length),De+=we.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(le,pe,k.default.sources.SILENT)}}}}function Q(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(Z,te){this.quill.format(W,!te.format[W],k.default.sources.USER)}}}function X(W){if(typeof W=="string"||typeof W=="number")return X({key:W});if((typeof W>"u"?"undefined":s(W))==="object"&&(W=(0,h.default)(W,!1)),typeof W.key=="string")if(B.keys[W.key.toUpperCase()]!=null)W.key=B.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[L]=W.shortKey,delete W.shortKey),W}r.default=B,r.SHORTKEY=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(x,E){var S=[],k=!0,N=!1,O=void 0;try{for(var C=x[Symbol.iterator](),I;!(k=(I=C.next()).done)&&(S.push(I.value),!(E&&S.length===E));k=!0);}catch(R){N=!0,O=R}finally{try{!k&&C.return&&C.return()}finally{if(N)throw O}}return S}return function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(x,E,S){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:b(N,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=function(){function b(x,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,S){return E&&b(x.prototype,E),S&&b(x,S),x}}(),l=i(0),h=p(l),c=i(7),f=p(c);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function g(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function y(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var w=function(b){y(x,b),a(x,null,[{key:"value",value:function(){}}]);function x(E,S){m(this,x);var k=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E));return k.selection=S,k.textNode=document.createTextNode(x.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,k){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,S,k);for(var N=this,O=0;N!=null&&N.statics.scope!==h.default.Scope.BLOCK_BLOT;)O+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=x.CONTENTS.length,N.optimize(),N.formatAt(O,x.CONTENTS.length,S,k),this._length=0)}},{key:"index",value:function(S,k){return S===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,S,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,k=this.selection.getNativeRange(),N=void 0,O=void 0,C=void 0;if(k!=null&&k.start.node===S&&k.end.node===S){var I=[S,k.start.offset,k.end.offset];N=I[0],O=I[1],C=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var R=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(N=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=x.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var A=[O,C].map(function(M){return Math.max(0,Math.min(N.data.length,M-1))}),D=s(A,2);return O=D[0],C=D[1],{startNode:N,startOffset:O,endNode:N,endOffset:C}}}}},{key:"update",value:function(S,k){var N=this;if(S.some(function(C){return C.type==="characterData"&&C.target===N.textNode})){var O=this.restore();O&&(k.range=O)}}},{key:"value",value:function(){return""}}]),x}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=h(s),a=i(4),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(0),l=h(a);function h(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var m=function(w){p(b,w);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(E){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,E);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):S}}]),b}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=g,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(w,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,x){return b&&y(w.prototype,b),x&&y(w,x),w}}(),o=function y(w,b,x){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},a=i(6),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(x,E){if(x!==this.statics.blotName||!E)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,x,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(x){var E=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,x);return x=this.sanitize(x),E.setAttribute("href",x),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return g(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),w}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,w){var b=document.createElement("a");b.href=y;var x=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(x)>-1}r.default=m,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),a=i(23),l=f(a),h=i(107),c=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function g(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var x=this;p(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var E=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),x.hasAttribute("value")&&S.setAttribute("data-value",x.getAttribute("value")),x.textContent&&S.setAttribute("data-label",x.textContent),S.addEventListener("click",function(){E.selectItem(S,!0)}),S.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:E.selectItem(S,!0),k.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=c.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(S){var k=x.buildItem(S);E.appendChild(k),S.selected===!0&&x.selectItem(k)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(E){x.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(x!==S&&(S!=null&&S.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var S=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=q(s),a=i(5),l=q(a),h=i(4),c=q(h),f=i(16),p=q(f),m=i(25),g=q(m),y=i(24),w=q(y),b=i(35),x=q(b),E=i(6),S=q(E),k=i(22),N=q(k),O=i(7),C=q(O),I=i(55),R=q(I),A=i(42),D=q(A),M=i(23),F=q(M);function q(L){return L&&L.__esModule?L:{default:L}}l.default.register({"blots/block":c.default,"blots/block/embed":h.BlockEmbed,"blots/break":p.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":x.default,"blots/inline":S.default,"blots/scroll":N.default,"blots/text":C.default,"modules/clipboard":R.default,"modules/history":D.default,"modules/keyboard":F.default}),o.default.register(c.default,p.default,w.default,S.default,N.default,C.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?h=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?h=document.createElement(l):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,h){var c=this.isolate(l,h);c.remove()},a.prototype.formatAt=function(l,h,c,f){var p=this.isolate(l,h);if(s.query(c,s.Scope.BLOT)!=null&&f)p.wrap(c,f);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);p.wrap(m),m.format(c,f)}},a.prototype.insertAt=function(l,h,c){var f=c==null?s.create("text",h):s.create(h,c),p=this.split(l);this.parent.insertBefore(f,p)},a.prototype.insertInto=function(l,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,h),h!=null&&(c=h.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,h){var c=this.split(l);return c.split(h),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return c.replace(this),c},a.prototype.split=function(l,h){return l===0?this:this.next},a.prototype.update=function(l,h){},a.prototype.wrap=function(l,h){var c=typeof l=="string"?s.create(l,h):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),h=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,p){p?f.add(this.domNode,p)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var p=s.default.keys(this.domNode),m=o.default.keys(this.domNode),g=a.default.keys(this.domNode);p.concat(m).concat(g).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof s.default&&(f.attributes[w.attrName]=w)})},c.prototype.copy=function(f){var p=this;Object.keys(this.attributes).forEach(function(m){var g=p.attributes[m].value(p.domNode);f.format(m,g)})},c.prototype.move=function(f){var p=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=f.attributes[m].value(f.domNode),p},{})},c}();r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h,c){var f=h.getAttribute("class")||"";return f.split(/\s+/).filter(function(p){return p.indexOf(c+"-")===0})}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(this.remove(f),f.classList.add(this.keyName+"-"+p),!0):!1},c.prototype.remove=function(f){var p=a(f,this.keyName);p.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var p=a(f,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(h){var c=h.split("-"),f=c.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return c[0]+f}var l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.style[a(this.keyName)]=p,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var p=f.style[a(this.keyName)];return this.canAdd(f,p)?p:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){o(this,l),this.quill=h,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(x,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,S){return E&&b(x.prototype,E),S&&b(x,S),x}}(),o=function b(x,E,S){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:b(N,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=f(a),h=i(7),c=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y="\uFEFF",w=function(b){g(x,b);function x(E){p(this,x);var S=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(k){S.contentNode.appendChild(k)}),S.leftGuard=document.createTextNode(y),S.rightGuard=document.createTextNode(y),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return s(x,[{key:"index",value:function(S,k){return S===this.leftGuard?0:S===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,S,k)}},{key:"restore",value:function(S){var k=void 0,N=void 0,O=S.data.split(y).join("");if(S===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,O),k={startNode:this.prev.domNode,startOffset:C+O.length}}else N=document.createTextNode(O),this.parent.insertBefore(l.default.create(N),this),k={startNode:N,startOffset:O.length};else S===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,O),k={startNode:this.next.domNode,startOffset:O.length}):(N=document.createTextNode(O),this.parent.insertBefore(l.default.create(N),this.next),k={startNode:N,startOffset:O.length}));return S.data=y,k}},{key:"update",value:function(S,k){var N=this;S.forEach(function(O){if(O.type==="characterData"&&(O.target===N.leftGuard||O.target===N.rightGuard)){var C=N.restore(O.target);C&&(k.range=C)}})}}]),x}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=h,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=h,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function b(x,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,E,S){return E&&b(x.prototype,E),S&&b(x,S),x}}(),o=function b(x,E,S){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,E);if(k===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:b(N,E,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=h(a);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function p(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",m),y=function(b){p(x,b);function x(){return c(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(S){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),x}(l.default.Attributor.Style),w=new y("font","font-family",m);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=h},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function E(S,k){for(var N=0;N<k.length;N++){var O=k[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,N){return k&&E(S.prototype,k),N&&E(S,N),S}}(),o=i(0),a=p(o),l=i(5),h=p(l),c=i(9),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function m(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function y(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=function(E){y(S,E);function S(k,N){m(this,S);var O=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,N));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(h.default.events.EDITOR_CHANGE,function(C,I,R,A){C!==h.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||A===h.default.sources.USER?O.record(I,R):O.transform(I))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return s(S,[{key:"change",value:function(N,O){if(this.stack[N].length!==0){var C=this.stack[N].pop();this.stack[O].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[N],h.default.sources.USER),this.ignoreChange=!1;var I=x(C[N]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,O){if(N.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(O),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var R=this.stack.undo.pop();C=C.compose(R.undo),N=R.redo.compose(N)}else this.lastRecorded=I;this.stack.undo.push({redo:N,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(E){var S=E.ops[E.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function x(E){var S=E.reduce(function(N,O){return N+=O.delete||0,N},0),k=E.length()-S;return b(E)&&(k-=1),k}r.default=w,r.getLastChangeIndex=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(H,Q){for(var X=0;X<Q.length;X++){var W=Q[X];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(H,W.key,W)}}return function(H,Q,X){return Q&&V(H.prototype,Q),X&&V(H,X),H}}(),o=function V(H,Q,X){H===null&&(H=Function.prototype);var W=Object.getOwnPropertyDescriptor(H,Q);if(W===void 0){var J=Object.getPrototypeOf(H);return J===null?void 0:V(J,Q,X)}else{if("value"in W)return W.value;var Z=W.get;return Z===void 0?void 0:Z.call(X)}},a=i(3),l=I(a),h=i(2),c=I(h),f=i(8),p=I(f),m=i(23),g=I(m),y=i(34),w=I(y),b=i(59),x=I(b),E=i(60),S=I(E),k=i(28),N=I(k),O=i(61),C=I(O);function I(V){return V&&V.__esModule?V:{default:V}}function R(V,H){if(!(V instanceof H))throw new TypeError("Cannot call a class as a function")}function A(V,H){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:V}function D(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);V.prototype=Object.create(H&&H.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(V,H):V.__proto__=H)}var M=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],L=["1","2","3",!1],B=["small",!1,"large","huge"],Y=function(V){D(H,V);function H(Q,X){R(this,H);var W=A(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Q,X)),J=function Z(te){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",Z);W.tooltip!=null&&!W.tooltip.root.contains(te.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(le){le.container.contains(te.target)||le.close()})};return Q.emitter.listenDOM("click",document.body,J),W}return s(H,[{key:"addModule",value:function(X){var W=o(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(X,W){X.forEach(function(J){var Z=J.getAttribute("class")||"";Z.split(/\s+/).forEach(function(te){if(te.startsWith("ql-")&&(te=te.slice(3),W[te]!=null))if(te==="direction")J.innerHTML=W[te][""]+W[te].rtl;else if(typeof W[te]=="string")J.innerHTML=W[te];else{var le=J.value||"";le!=null&&W[te][le]&&(J.innerHTML=W[te][le])}})})}},{key:"buildPickers",value:function(X,W){var J=this;this.pickers=X.map(function(te){if(te.classList.contains("ql-align"))return te.querySelector("option")==null&&U(te,M),new S.default(te,W.align);if(te.classList.contains("ql-background")||te.classList.contains("ql-color")){var le=te.classList.contains("ql-background")?"background":"color";return te.querySelector("option")==null&&U(te,F,le==="background"?"#ffffff":"#000000"),new x.default(te,W[le])}else return te.querySelector("option")==null&&(te.classList.contains("ql-font")?U(te,q):te.classList.contains("ql-header")?U(te,L):te.classList.contains("ql-size")&&U(te,B)),new N.default(te)});var Z=function(){J.pickers.forEach(function(le){le.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,Z)}}]),H}(w.default);Y.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var X=new FileReader;X.onload=function(W){var J=H.quill.getSelection(!0);H.quill.updateContents(new c.default().retain(J.index).delete(J.length).insert({image:W.target.result}),p.default.sources.USER),H.quill.setSelection(J.index+1,p.default.sources.SILENT),Q.value=""},X.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(V){D(H,V);function H(Q,X){R(this,H);var W=A(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Q,X));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return s(H,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(W){g.default.match(W,"enter")?(X.save(),W.preventDefault()):g.default.match(W,"escape")&&(X.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,p.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":X=j(X);case"formula":{if(!X)break;var J=this.quill.getSelection(!0);if(J!=null){var Z=J.index+J.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),X,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",p.default.sources.USER),this.quill.setSelection(Z+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(C.default);function j(V){var H=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":V}function U(V,H){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(X){var W=document.createElement("option");X===Q?W.setAttribute("selected","selected"):W.setAttribute("value",X),V.appendChild(W)})}r.BaseTooltip=z,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,h=this.iterator();l=h();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,h=this.head;h!=null;){if(h===a)return l;l+=h.length(),h=h.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var h,c=this.iterator();h=c();){var f=h.length();if(a<f||l&&a===f&&(h.next==null||h.next.length()!==0))return[h,a];a-=f}return[null,0]},o.prototype.forEach=function(a){for(var l,h=this.iterator();l=h();)a(l)},o.prototype.forEachAt=function(a,l,h){if(!(l<=0))for(var c=this.find(a),f=c[0],p=c[1],m,g=a-p,y=this.iterator(f);(m=y())&&g<a+l;){var w=m.length();a>g?h(m,a-g,Math.min(l,g+w-a)):h(m,0,Math.min(w,a+l-g)),g+=w}},o.prototype.map=function(a){return this.reduce(function(l,h){return l.push(a(h)),l},[])},o.prototype.reduce=function(a,l){for(var h,c=this.iterator();h=c();)l=a(l,h);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,c=function(f){s(p,f);function p(m){var g=f.call(this,m)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,l),g.attach(),g}return p.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,g){this.update(),m===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,m,g)},p.prototype.formatAt=function(m,g,y,w){this.update(),f.prototype.formatAt.call(this,m,g,y,w)},p.prototype.insertAt=function(m,g,y){this.update(),f.prototype.insertAt.call(this,m,g,y)},p.prototype.optimize=function(m,g){var y=this;m===void 0&&(m=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var b=function(k,N){N===void 0&&(N=!0),!(k==null||k===y)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),N&&b(k.parent))},x=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(x),k.optimize(g))},E=m,S=0;E.length>0;S+=1){if(S>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(k){var N=a.find(k.target,!0);N!=null&&(N.domNode===k.target&&(k.type==="childList"?(b(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(O){var C=a.find(O,!1);b(C,!1),C instanceof o.default&&C.children.forEach(function(I){b(I,!1)})})):k.type==="attributes"&&b(N.prev)),b(N))}),this.children.forEach(x),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)m.push(w.pop())}},p.prototype.update=function(m,g){var y=this;g===void 0&&(g={}),m=m||this.observer.takeRecords(),m.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(m,g)},p.blotName="scroll",p.defaultChild="block",p.scope=a.Scope.BLOCK_BLOT,p.tagName="DIV",p}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var p in c)if(c[p]!==f[p])return!1;return!0}var h=function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(p){if(p.tagName!==f.tagName)return c.formats.call(this,p)},f.prototype.format=function(p,m){var g=this;p===this.statics.blotName&&!m?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(f.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,p,m)},f.prototype.formatAt=function(p,m,g,y){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(p,m);w.format(g,y)}else c.prototype.formatAt.call(this,p,m,g,y)},f.prototype.optimize=function(p){c.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(m,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(h){s(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){var p=a.query(c.blotName).tagName;if(f.tagName!==p)return h.formats.call(this,f)},c.prototype.format=function(f,p){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!p?this.replaceWith(c.blotName):h.prototype.format.call(this,f,p))},c.prototype.formatAt=function(f,p,m,g){a.query(m,a.Scope.BLOCK)!=null?this.format(m,g):h.prototype.formatAt.call(this,f,p,m,g)},c.prototype.insertAt=function(f,p,m){if(m==null||a.query(p,a.Scope.INLINE)!=null)h.prototype.insertAt.call(this,f,p,m);else{var g=this.split(f),y=a.create(p,m);g.parent.insertBefore(y,g)}},c.prototype.update=function(f,p){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,f,p)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(h,l);function h(){return l!==null&&l.apply(this,arguments)||this}return h.formats=function(c){},h.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},h.prototype.formatAt=function(c,f,p,m){c===0&&f===this.length()?this.format(p,m):l.prototype.formatAt.call(this,c,f,p,m)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])};return function(c,f){h(c,f);function p(){this.constructor=c}c.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(h){s(c,h);function c(f){var p=h.call(this,f)||this;return p.text=p.statics.value(p.domNode),p}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var p=f.data;return p.normalize&&(p=p.normalize()),p},c.prototype.deleteAt=function(f,p){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+p)},c.prototype.index=function(f,p){return this.domNode===f?p:-1},c.prototype.insertAt=function(f,p,m){m==null?(this.text=this.text.slice(0,f)+p+this.text.slice(f),this.domNode.data=this.text):h.prototype.insertAt.call(this,f,p,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,p){return[this.domNode,f]},c.prototype.split=function(f,p){if(p===void 0&&(p=!1),!p){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(f,p){var m=this;f.some(function(g){return g.type==="characterData"&&g.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var h=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>h.length)&&(l=h.length),l-=a.length;var c=h.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),c=h.length>>>0,f=arguments[1],p,m=0;m<c;m++)if(p=h[m],l.call(f,p,m,h))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(S,k,N){if(S==k)return S?[[o,S]]:[];(N<0||S.length<N)&&(N=null);var O=f(S,k),C=S.substring(0,O);S=S.substring(O),k=k.substring(O),O=p(S,k);var I=S.substring(S.length-O);S=S.substring(0,S.length-O),k=k.substring(0,k.length-O);var R=l(S,k);return C&&R.unshift([o,C]),I&&R.push([o,I]),g(R),N!=null&&(R=b(R,N)),R=x(R),R}function l(S,k){var N;if(!S)return[[s,k]];if(!k)return[[i,S]];var O=S.length>k.length?S:k,C=S.length>k.length?k:S,I=O.indexOf(C);if(I!=-1)return N=[[s,O.substring(0,I)],[o,C],[s,O.substring(I+C.length)]],S.length>k.length&&(N[0][0]=N[2][0]=i),N;if(C.length==1)return[[i,S],[s,k]];var R=m(S,k);if(R){var A=R[0],D=R[1],M=R[2],F=R[3],q=R[4],L=a(A,M),B=a(D,F);return L.concat([[o,q]],B)}return h(S,k)}function h(S,k){for(var N=S.length,O=k.length,C=Math.ceil((N+O)/2),I=C,R=2*C,A=new Array(R),D=new Array(R),M=0;M<R;M++)A[M]=-1,D[M]=-1;A[I+1]=0,D[I+1]=0;for(var F=N-O,q=F%2!=0,L=0,B=0,Y=0,z=0,j=0;j<C;j++){for(var U=-j+L;U<=j-B;U+=2){var V=I+U,H;U==-j||U!=j&&A[V-1]<A[V+1]?H=A[V+1]:H=A[V-1]+1;for(var Q=H-U;H<N&&Q<O&&S.charAt(H)==k.charAt(Q);)H++,Q++;if(A[V]=H,H>N)B+=2;else if(Q>O)L+=2;else if(q){var X=I+F-U;if(X>=0&&X<R&&D[X]!=-1){var W=N-D[X];if(H>=W)return c(S,k,H,Q)}}}for(var J=-j+Y;J<=j-z;J+=2){var X=I+J,W;J==-j||J!=j&&D[X-1]<D[X+1]?W=D[X+1]:W=D[X-1]+1;for(var Z=W-J;W<N&&Z<O&&S.charAt(N-W-1)==k.charAt(O-Z-1);)W++,Z++;if(D[X]=W,W>N)z+=2;else if(Z>O)Y+=2;else if(!q){var V=I+F-J;if(V>=0&&V<R&&A[V]!=-1){var H=A[V],Q=I+H-V;if(W=N-W,H>=W)return c(S,k,H,Q)}}}}return[[i,S],[s,k]]}function c(S,k,N,O){var C=S.substring(0,N),I=k.substring(0,O),R=S.substring(N),A=k.substring(O),D=a(C,I),M=a(R,A);return D.concat(M)}function f(S,k){if(!S||!k||S.charAt(0)!=k.charAt(0))return 0;for(var N=0,O=Math.min(S.length,k.length),C=O,I=0;N<C;)S.substring(I,C)==k.substring(I,C)?(N=C,I=N):O=C,C=Math.floor((O-N)/2+N);return C}function p(S,k){if(!S||!k||S.charAt(S.length-1)!=k.charAt(k.length-1))return 0;for(var N=0,O=Math.min(S.length,k.length),C=O,I=0;N<C;)S.substring(S.length-C,S.length-I)==k.substring(k.length-C,k.length-I)?(N=C,I=N):O=C,C=Math.floor((O-N)/2+N);return C}function m(S,k){var N=S.length>k.length?S:k,O=S.length>k.length?k:S;if(N.length<4||O.length*2<N.length)return null;function C(B,Y,z){for(var j=B.substring(z,z+Math.floor(B.length/4)),U=-1,V="",H,Q,X,W;(U=Y.indexOf(j,U+1))!=-1;){var J=f(B.substring(z),Y.substring(U)),Z=p(B.substring(0,z),Y.substring(0,U));V.length<Z+J&&(V=Y.substring(U-Z,U)+Y.substring(U,U+J),H=B.substring(0,z-Z),Q=B.substring(z+J),X=Y.substring(0,U-Z),W=Y.substring(U+J))}return V.length*2>=B.length?[H,Q,X,W,V]:null}var I=C(N,O,Math.ceil(N.length/4)),R=C(N,O,Math.ceil(N.length/2)),A;if(!I&&!R)return null;R?I?A=I[4].length>R[4].length?I:R:A=R:A=I;var D,M,F,q;S.length>k.length?(D=A[0],M=A[1],F=A[2],q=A[3]):(F=A[0],q=A[1],D=A[2],M=A[3]);var L=A[4];return[D,M,F,q,L]}function g(S){S.push([o,""]);for(var k=0,N=0,O=0,C="",I="",R;k<S.length;)switch(S[k][0]){case s:O++,I+=S[k][1],k++;break;case i:N++,C+=S[k][1],k++;break;case o:N+O>1?(N!==0&&O!==0&&(R=f(I,C),R!==0&&(k-N-O>0&&S[k-N-O-1][0]==o?S[k-N-O-1][1]+=I.substring(0,R):(S.splice(0,0,[o,I.substring(0,R)]),k++),I=I.substring(R),C=C.substring(R)),R=p(I,C),R!==0&&(S[k][1]=I.substring(I.length-R)+S[k][1],I=I.substring(0,I.length-R),C=C.substring(0,C.length-R))),N===0?S.splice(k-O,N+O,[s,I]):O===0?S.splice(k-N,N+O,[i,C]):S.splice(k-N-O,N+O,[i,C],[s,I]),k=k-N-O+(N?1:0)+(O?1:0)+1):k!==0&&S[k-1][0]==o?(S[k-1][1]+=S[k][1],S.splice(k,1)):k++,O=0,N=0,C="",I="";break}S[S.length-1][1]===""&&S.pop();var A=!1;for(k=1;k<S.length-1;)S[k-1][0]==o&&S[k+1][0]==o&&(S[k][1].substring(S[k][1].length-S[k-1][1].length)==S[k-1][1]?(S[k][1]=S[k-1][1]+S[k][1].substring(0,S[k][1].length-S[k-1][1].length),S[k+1][1]=S[k-1][1]+S[k+1][1],S.splice(k-1,1),A=!0):S[k][1].substring(0,S[k+1][1].length)==S[k+1][1]&&(S[k-1][1]+=S[k+1][1],S[k][1]=S[k][1].substring(S[k+1][1].length)+S[k+1][1],S.splice(k+1,1),A=!0)),k++;A&&g(S)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function w(S,k){if(k===0)return[o,S];for(var N=0,O=0;O<S.length;O++){var C=S[O];if(C[0]===i||C[0]===o){var I=N+C[1].length;if(k===I)return[O+1,S];if(k<I){S=S.slice();var R=k-N,A=[C[0],C[1].slice(0,R)],D=[C[0],C[1].slice(R)];return S.splice(O,1,A,D),[O+1,S]}else N=I}}throw new Error("cursor_pos is out of bounds!")}function b(S,k){var N=w(S,k),O=N[1],C=N[0],I=O[C],R=O[C+1];if(I==null)return S;if(I[0]!==o)return S;if(R!=null&&I[1]+R[1]===R[1]+I[1])return O.splice(C,2,R,I),E(O,C,2);if(R!=null&&R[1].indexOf(I[1])===0){O.splice(C,2,[R[0],I[1]],[0,I[1]]);var A=R[1].slice(I[1].length);return A.length>0&&O.splice(C+2,0,[R[0],A]),E(O,C,3)}else return S}function x(S){for(var k=!1,N=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},O=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},C=2;C<S.length;C+=1)S[C-2][0]===o&&O(S[C-2][1])&&S[C-1][0]===i&&N(S[C-1][1])&&S[C][0]===s&&N(S[C][1])&&(k=!0,S[C-1][1]=S[C-2][1].slice(-1)+S[C-1][1],S[C][1]=S[C-2][1].slice(-1)+S[C][1],S[C-2][1]=S[C-2][1].slice(0,-1));if(!k)return S;for(var I=[],C=0;C<S.length;C+=1)S[C][1].length>0&&I.push(S[C]);return I}function E(S,k,N){for(var O=k+N-1;O>=0&&O>=k-1;O--)if(O+1<S.length){var C=S[O],I=S[O+1];C[0]===I[1]&&S.splice(O,2,[C[0],C[1]+I[1]])}return S}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)i.call(f,p)&&c.push(s?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var p=s?s+c:c,m=this._events[p];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.emit=function(c,f,p,m,g,y){var w=s?s+c:c;if(!this._events[w])return!1;var b=this._events[w],x=arguments.length,E,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,y),!0}for(S=1,E=new Array(x-1);S<x;S++)E[S-1]=arguments[S];b.fn.apply(b.context,E)}else{var k=b.length,N;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),x){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,p);break;case 4:b[S].fn.call(b[S].context,f,p,m);break;default:if(!E)for(N=1,E=new Array(x-1);N<x;N++)E[N-1]=arguments[N];b[S].fn.apply(b[S].context,E)}}return!0},l.prototype.on=function(c,f,p){var m=new a(f,p||this),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.once=function(c,f,p){var m=new a(f,p||this,!0),g=s?s+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],m]:this._events[g].push(m):(this._events[g]=m,this._eventsCount++),this},l.prototype.removeListener=function(c,f,p,m){var g=s?s+c:c;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===f&&(!m||y.once)&&(!p||y.context===p)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var w=0,b=[],x=y.length;w<x;w++)(y[w].fn!==f||m&&!y[w].once||p&&y[w].context!==p)&&b.push(y[w]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=s?s+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},o=function(){function ce(fe,we){var xe=[],he=!0,Be=!1,Ie=void 0;try{for(var Ye=fe[Symbol.iterator](),Ht;!(he=(Ht=Ye.next()).done)&&(xe.push(Ht.value),!(we&&xe.length===we));he=!0);}catch(On){Be=!0,Ie=On}finally{try{!he&&Ye.return&&Ye.return()}finally{if(Be)throw Ie}}return xe}return function(fe,we){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ce(fe,we){for(var xe=0;xe<we.length;xe++){var he=we[xe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(fe,he.key,he)}}return function(fe,we,xe){return we&&ce(fe.prototype,we),xe&&ce(fe,xe),fe}}(),l=i(3),h=D(l),c=i(2),f=D(c),p=i(0),m=D(p),g=i(5),y=D(g),w=i(10),b=D(w),x=i(9),E=D(x),S=i(36),k=i(37),N=i(13),O=D(N),C=i(26),I=i(38),R=i(39),A=i(40);function D(ce){return ce&&ce.__esModule?ce:{default:ce}}function M(ce,fe,we){return fe in ce?Object.defineProperty(ce,fe,{value:we,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=we,ce}function F(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function q(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function L(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var B=(0,b.default)("quill:clipboard"),Y="__ql-matcher",z=[[Node.TEXT_NODE,Xe],[Node.TEXT_NODE,$e],["br",pe],[Node.ELEMENT_NODE,$e],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,nt],["li",Ce],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ge]],j=[S.AlignAttribute,I.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),U=[S.AlignStyle,k.BackgroundStyle,C.ColorStyle,I.DirectionStyle,R.FontStyle,A.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),V=function(ce){L(fe,ce);function fe(we,xe){F(this,fe);var he=q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,we,xe));return he.quill.root.addEventListener("paste",he.onPaste.bind(he)),he.container=he.quill.addContainer("ql-clipboard"),he.container.setAttribute("contenteditable",!0),he.container.setAttribute("tabindex",-1),he.matchers=[],z.concat(he.options.matchers).forEach(function(Be){var Ie=o(Be,2),Ye=Ie[0],Ht=Ie[1];!xe.matchVisual&&Ht===De||he.addMatcher(Ye,Ht)}),he}return a(fe,[{key:"addMatcher",value:function(xe,he){this.matchers.push([xe,he])}},{key:"convert",value:function(xe){if(typeof xe=="string")return this.container.innerHTML=xe.replace(/\>\r?\n +\</g,"><"),this.convert();var he=this.quill.getFormat(this.quill.selection.savedRange.index);if(he[O.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Be,M({},O.default.blotName,he[O.default.blotName]))}var Ie=this.prepareMatching(),Ye=o(Ie,2),Ht=Ye[0],On=Ye[1],it=J(this.container,Ht,On);return X(it,`
`)&&it.ops[it.ops.length-1].attributes==null&&(it=it.compose(new f.default().retain(it.length()-1).delete(1))),B.log("convert",this.container.innerHTML,it),this.container.innerHTML="",it}},{key:"dangerouslyPasteHTML",value:function(xe,he){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof xe=="string")this.quill.setContents(this.convert(xe),he),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ie=this.convert(he);this.quill.updateContents(new f.default().retain(xe).concat(Ie),Be),this.quill.setSelection(xe+Ie.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(xe){var he=this;if(!(xe.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),Ie=new f.default().retain(Be.index),Ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ie=Ie.concat(he.convert()).delete(Be.length),he.quill.updateContents(Ie,y.default.sources.USER),he.quill.setSelection(Ie.length()-Be.length,y.default.sources.SILENT),he.quill.scrollingContainer.scrollTop=Ye,he.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xe=this,he=[],Be=[];return this.matchers.forEach(function(Ie){var Ye=o(Ie,2),Ht=Ye[0],On=Ye[1];switch(Ht){case Node.TEXT_NODE:Be.push(On);break;case Node.ELEMENT_NODE:he.push(On);break;default:[].forEach.call(xe.container.querySelectorAll(Ht),function(it){it[Y]=it[Y]||[],it[Y].push(On)});break}}),[he,Be]}}]),fe}(E.default);V.DEFAULTS={matchers:[],matchVisual:!0};function H(ce,fe,we){return(typeof fe>"u"?"undefined":s(fe))==="object"?Object.keys(fe).reduce(function(xe,he){return H(xe,he,fe[he])},ce):ce.reduce(function(xe,he){return he.attributes&&he.attributes[fe]?xe.push(he):xe.insert(he.insert,(0,h.default)({},M({},fe,we),he.attributes))},new f.default)}function Q(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function X(ce,fe){for(var we="",xe=ce.ops.length-1;xe>=0&&we.length<fe.length;--xe){var he=ce.ops[xe];if(typeof he.insert!="string")break;we=he.insert+we}return we.slice(-1*fe.length)===fe}function W(ce){if(ce.childNodes.length===0)return!1;var fe=Q(ce);return["block","list-item"].indexOf(fe.display)>-1}function J(ce,fe,we){return ce.nodeType===ce.TEXT_NODE?we.reduce(function(xe,he){return he(ce,xe)},new f.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(xe,he){var Be=J(he,fe,we);return he.nodeType===ce.ELEMENT_NODE&&(Be=fe.reduce(function(Ie,Ye){return Ye(he,Ie)},Be),Be=(he[Y]||[]).reduce(function(Ie,Ye){return Ye(he,Ie)},Be)),xe.concat(Be)},new f.default):new f.default}function Z(ce,fe,we){return H(we,ce,!0)}function te(ce,fe){var we=m.default.Attributor.Attribute.keys(ce),xe=m.default.Attributor.Class.keys(ce),he=m.default.Attributor.Style.keys(ce),Be={};return we.concat(xe).concat(he).forEach(function(Ie){var Ye=m.default.query(Ie,m.default.Scope.ATTRIBUTE);Ye!=null&&(Be[Ye.attrName]=Ye.value(ce),Be[Ye.attrName])||(Ye=j[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Be[Ye.attrName]=Ye.value(ce)||void 0),Ye=U[Ie],Ye!=null&&(Ye.attrName===Ie||Ye.keyName===Ie)&&(Ye=U[Ie],Be[Ye.attrName]=Ye.value(ce)||void 0))}),Object.keys(Be).length>0&&(fe=H(fe,Be)),fe}function le(ce,fe){var we=m.default.query(ce);if(we==null)return fe;if(we.prototype instanceof m.default.Embed){var xe={},he=we.value(ce);he!=null&&(xe[we.blotName]=he,fe=new f.default().insert(xe,we.formats(ce)))}else typeof we.formats=="function"&&(fe=H(fe,we.blotName,we.formats(ce)));return fe}function pe(ce,fe){return X(fe,`
`)||fe.insert(`
`),fe}function ge(){return new f.default}function Ce(ce,fe){var we=m.default.query(ce);if(we==null||we.blotName!=="list-item"||!X(fe,`
`))return fe;for(var xe=-1,he=ce.parentNode;!he.classList.contains("ql-clipboard");)(m.default.query(he)||{}).blotName==="list"&&(xe+=1),he=he.parentNode;return xe<=0?fe:fe.compose(new f.default().retain(fe.length()-1).retain(1,{indent:xe}))}function $e(ce,fe){return X(fe,`
`)||(W(ce)||fe.length()>0&&ce.nextSibling&&W(ce.nextSibling))&&fe.insert(`
`),fe}function De(ce,fe){if(W(ce)&&ce.nextElementSibling!=null&&!X(fe,`

`)){var we=ce.offsetHeight+parseFloat(Q(ce).marginTop)+parseFloat(Q(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+we*1.5&&fe.insert(`
`)}return fe}function nt(ce,fe){var we={},xe=ce.style||{};return xe.fontStyle&&Q(ce).fontStyle==="italic"&&(we.italic=!0),xe.fontWeight&&(Q(ce).fontWeight.startsWith("bold")||parseInt(Q(ce).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(fe=H(fe,we)),parseFloat(xe.textIndent||0)>0&&(fe=new f.default().insert("	").concat(fe)),fe}function Xe(ce,fe){var we=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(we.trim());if(we.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!Q(ce.parentNode).whiteSpace.startsWith("pre")){var xe=function(Be,Ie){return Ie=Ie.replace(/[^\u00a0]/g,""),Ie.length<1&&Be?" ":Ie};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,xe.bind(xe,!0)),(ce.previousSibling==null&&W(ce.parentNode)||ce.previousSibling!=null&&W(ce.previousSibling))&&(we=we.replace(/^\s+/,xe.bind(xe,!1))),(ce.nextSibling==null&&W(ce.parentNode)||ce.nextSibling!=null&&W(ce.nextSibling))&&(we=we.replace(/\s+$/,xe.bind(xe,!1)))}return fe.insert(we)}r.default=V,r.matchAttributor=te,r.matchBlot=le,r.matchNewline=$e,r.matchSpacing=De,r.matchText=Xe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(D,M){var F=[],q=!0,L=!1,B=void 0;try{for(var Y=D[Symbol.iterator](),z;!(q=(z=Y.next()).done)&&(F.push(z.value),!(M&&F.length===M));q=!0);}catch(j){L=!0,B=j}finally{try{!q&&Y.return&&Y.return()}finally{if(L)throw B}}return F}return function(D,M){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return A(D,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(D,M){for(var F=0;F<M.length;F++){var q=M[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,M,F){return M&&A(D.prototype,M),F&&A(D,F),D}}(),a=i(2),l=b(a),h=i(0),c=b(h),f=i(5),p=b(f),m=i(10),g=b(m),y=i(9),w=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function x(A,D,M){return D in A?Object.defineProperty(A,D,{value:M,enumerable:!0,configurable:!0,writable:!0}):A[D]=M,A}function E(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function S(A,D){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:A}function k(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);A.prototype=Object.create(D&&D.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(A,D):A.__proto__=D)}var N=(0,g.default)("quill:toolbar"),O=function(A){k(D,A);function D(M,F){E(this,D);var q=S(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M,F));if(Array.isArray(q.options.container)){var L=document.createElement("div");I(L,q.options.container),M.container.parentNode.insertBefore(L,M.container),q.container=L}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var B;return B=N.error("Container required for toolbar",q.options),S(q,B)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Y){q.addHandler(Y,q.options.handlers[Y])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Y){q.attach(Y)}),q.quill.on(p.default.events.EDITOR_CHANGE,function(Y,z){Y===p.default.events.SELECTION_CHANGE&&q.update(z)}),q.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var Y=q.quill.selection.getRange(),z=s(Y,1),j=z[0];q.update(j)}),q}return o(D,[{key:"addHandler",value:function(F,q){this.handlers[F]=q}},{key:"attach",value:function(F){var q=this,L=[].find.call(F.classList,function(Y){return Y.indexOf("ql-")===0});if(L){if(L=L.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[L]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[L]==null){N.warn("ignoring attaching to disabled format",L,F);return}if(c.default.query(L)==null){N.warn("ignoring attaching to nonexistent format",L,F);return}}var B=F.tagName==="SELECT"?"change":"click";F.addEventListener(B,function(Y){var z=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var j=F.options[F.selectedIndex];j.hasAttribute("selected")?z=!1:z=j.value||!1}else F.classList.contains("ql-active")?z=!1:z=F.value||!F.hasAttribute("value"),Y.preventDefault();q.quill.focus();var U=q.quill.selection.getRange(),V=s(U,1),H=V[0];if(q.handlers[L]!=null)q.handlers[L].call(q,z);else if(c.default.query(L).prototype instanceof c.default.Embed){if(z=prompt("Enter "+L),!z)return;q.quill.updateContents(new l.default().retain(H.index).delete(H.length).insert(x({},L,z)),p.default.sources.USER)}else q.quill.format(L,z,p.default.sources.USER);q.update(H)}),this.controls.push([L,F])}}},{key:"update",value:function(F){var q=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(L){var B=s(L,2),Y=B[0],z=B[1];if(z.tagName==="SELECT"){var j=void 0;if(F==null)j=null;else if(q[Y]==null)j=z.querySelector("option[selected]");else if(!Array.isArray(q[Y])){var U=q[Y];typeof U=="string"&&(U=U.replace(/\"/g,'\\"')),j=z.querySelector('option[value="'+U+'"]')}j==null?(z.value="",z.selectedIndex=-1):j.selected=!0}else if(F==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var V=q[Y]===z.getAttribute("value")||q[Y]!=null&&q[Y].toString()===z.getAttribute("value")||q[Y]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",V)}else z.classList.toggle("ql-active",q[Y]!=null)})}}]),D}(w.default);O.DEFAULTS={};function C(A,D,M){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+D),M!=null&&(F.value=M),A.appendChild(F)}function I(A,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(M){var F=document.createElement("span");F.classList.add("ql-formats"),M.forEach(function(q){if(typeof q=="string")C(F,q);else{var L=Object.keys(q)[0],B=q[L];Array.isArray(B)?R(F,L,B):C(F,L,B)}}),A.appendChild(F)})}function R(A,D,M){var F=document.createElement("select");F.classList.add("ql-"+D),M.forEach(function(q){var L=document.createElement("option");q!==!1?L.setAttribute("value",q):L.setAttribute("selected","selected"),F.appendChild(L)}),A.appendChild(F)}O.DEFAULTS={container:null,handlers:{clean:function(){var D=this,M=this.quill.getSelection();if(M!=null)if(M.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(q){c.default.query(q,c.default.Scope.INLINE)!=null&&D.quill.format(q,!1)})}else this.quill.removeFormat(M,p.default.sources.USER)},direction:function(D){var M=this.quill.getFormat().align;D==="rtl"&&M==null?this.quill.format("align","right",p.default.sources.USER):!D&&M==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",D,p.default.sources.USER)},indent:function(D){var M=this.quill.getSelection(),F=this.quill.getFormat(M),q=parseInt(F.indent||0);if(D==="+1"||D==="-1"){var L=D==="+1"?1:-1;F.direction==="rtl"&&(L*=-1),this.quill.format("indent",q+L,p.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,p.default.sources.USER)},list:function(D){var M=this.quill.getSelection(),F=this.quill.getFormat(M);D==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",D,p.default.sources.USER)}}},r.default=O,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var x=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),x}return s(y,[{key:"buildItem",value:function(b){var x=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,x);var E=this.label.querySelector(".ql-color-label"),S=b&&b.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=S:E.style.fill=S)}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(28),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(w,b){c(this,y);var x=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=b[E.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(y,[{key:"selectItem",value:function(b,x){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(h,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){var f=this;o(this,l),this.quill=h,this.boundsContainer=c||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,p=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>m.right&&(y=m.right-g.right,this.root.style.left=f+y+"px"),g.left<m.left&&(y=m.left-g.left,this.root.style.left=f+y+"px"),g.bottom>m.bottom){var w=g.bottom-g.top,b=c.bottom-c.top+w;this.root.style.top=p-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function R(A,D){var M=[],F=!0,q=!1,L=void 0;try{for(var B=A[Symbol.iterator](),Y;!(F=(Y=B.next()).done)&&(M.push(Y.value),!(D&&M.length===D));F=!0);}catch(z){q=!0,L=z}finally{try{!F&&B.return&&B.return()}finally{if(q)throw L}}return M}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return R(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function R(A,D,M){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,D);if(F===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:R(q,D,M)}else{if("value"in F)return F.value;var L=F.get;return L===void 0?void 0:L.call(M)}},a=function(){function R(A,D){for(var M=0;M<D.length;M++){var F=D[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,D,M){return D&&R(A.prototype,D),M&&R(A,M),A}}(),l=i(3),h=E(l),c=i(8),f=E(c),p=i(43),m=E(p),g=i(27),y=E(g),w=i(15),b=i(41),x=E(b);function E(R){return R&&R.__esModule?R:{default:R}}function S(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function k(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function N(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(R){N(A,R);function A(D,M){S(this,A),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=O);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,M));return F.quill.container.classList.add("ql-snow"),F}return a(A,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),x.default),this.tooltip=new I(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,q){M.handlers.link.call(M,!q.format.link)})}}]),A}(m.default);C.DEFAULTS=(0,h.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var D=this.quill.getSelection();if(D==null||D.length==0)return;var M=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M);var F=this.quill.theme.tooltip;F.edit("link",M)}else this.quill.format("link",!1)}}}}});var I=function(R){N(A,R);function A(D,M){S(this,A);var F=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,M));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(A,[{key:"listen",value:function(){var M=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(M.linkRange!=null){var q=M.linkRange;M.restoreFocus(),M.quill.formatText(q,"link",!1,f.default.sources.USER),delete M.linkRange}F.preventDefault(),M.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(F,q,L){if(F!=null){if(F.length===0&&L===f.default.sources.USER){var B=M.quill.scroll.descendant(y.default,F.index),Y=s(B,2),z=Y[0],j=Y[1];if(z!=null){M.linkRange=new w.Range(F.index-j,z.length());var U=y.default.formats(z.domNode);M.preview.textContent=U,M.preview.setAttribute("href",U),M.show(),M.position(M.quill.getBounds(M.linkRange));return}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(p.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=he(s),a=i(36),l=i(38),h=i(64),c=i(65),f=he(c),p=i(66),m=he(p),g=i(67),y=he(g),w=i(37),b=i(26),x=i(39),E=i(40),S=i(56),k=he(S),N=i(68),O=he(N),C=i(27),I=he(C),R=i(69),A=he(R),D=i(70),M=he(D),F=i(71),q=he(F),L=i(72),B=he(L),Y=i(73),z=he(Y),j=i(13),U=he(j),V=i(74),H=he(V),Q=i(75),X=he(Q),W=i(57),J=he(W),Z=i(41),te=he(Z),le=i(28),pe=he(le),ge=i(59),Ce=he(ge),$e=i(60),De=he($e),nt=i(61),Xe=he(nt),ce=i(108),fe=he(ce),we=i(62),xe=he(we);function he(Be){return Be&&Be.__esModule?Be:{default:Be}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":E.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":U.default,"formats/header":m.default,"formats/list":y.default,"formats/bold":k.default,"formats/code":j.Code,"formats/italic":O.default,"formats/link":I.default,"formats/script":A.default,"formats/strike":M.default,"formats/underline":q.default,"formats/image":B.default,"formats/video":z.default,"formats/list/item":g.ListItem,"modules/formula":H.default,"modules/syntax":X.default,"modules/toolbar":J.default,"themes/bubble":fe.default,"themes/snow":xe.default,"ui/icons":te.default,"ui/picker":pe.default,"ui/icon-picker":De.default,"ui/color-picker":Ce.default,"ui/tooltip":Xe.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(w,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,b,x){return b&&y(w.prototype,b),x&&y(w,x),w}}(),o=function y(w,b,x){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,b);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:y(S,b,x)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(x)}},a=i(0),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var m=function(y){p(w,y);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(x,E){if(E==="+1"||E==="-1"){var S=this.value(x)||0;E=E==="+1"?S+1:S-1}return E===0?(this.remove(x),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,x,E)}},{key:"canAdd",value:function(x,E){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,x,E)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,x,parseInt(E))}},{key:"value",value:function(x){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,x))||void 0}}]),w}(l.default.Attributor.Class),g=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(g,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,w){return y&&m(g.prototype,y),w&&m(g,w),g}}(),o=i(4),a=l(o);function l(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){f(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function S(k,N){for(var O=0;O<N.length;O++){var C=N[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,N,O){return N&&S(k.prototype,N),O&&S(k,O),k}}(),o=function S(k,N,O){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,N);if(C===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:S(I,N,O)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(O)}},a=i(0),l=m(a),h=i(4),c=m(h),f=i(25),p=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function g(S,k,N){return k in S?Object.defineProperty(S,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[k]=N,S}function y(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function w(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function b(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var x=function(S){b(k,S);function k(){return y(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(O,C){O===E.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,O,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,C){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,C),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,O,C))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,O)}}]),k}(c.default);x.blotName="list-item",x.tagName="LI";var E=function(S){b(k,S),s(k,null,[{key:"create",value:function(O){var C=O==="ordered"?"OL":"UL",I=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,C);return(O==="checked"||O==="unchecked")&&I.setAttribute("data-checked",O==="checked"),I}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(N){y(this,k);var O=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N)),C=function(R){if(R.target.parentNode===N){var A=O.statics.formats(N),D=l.default.find(R.target);A==="checked"?D.format("list","unchecked"):A==="unchecked"&&D.format("list","checked")}};return N.addEventListener("touchstart",C),N.addEventListener("mousedown",C),O}return s(k,[{key:"format",value:function(O,C){this.children.length>0&&this.children.tail.format(O,C)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,C){if(O instanceof x)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,C);else{var I=C==null?this.length():C.offset(this),R=this.split(I);R.parent.insertBefore(O,R)}}},{key:"optimize",value:function(O){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);O.moveChildren(C),this.appendChild(C)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,O)}}]),k}(p.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[x],r.ListItem=x,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(y,w){for(var b=0;b<w.length;b++){var x=w[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,w,b){return w&&g(y.prototype,w),b&&g(y,b),y}}(),o=function g(y,w,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,w);if(x===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,w,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},a=i(6),l=h(a);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){p(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(p){c(m,p);function m(){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(0),l=c(a),h=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["alt","height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(E,S){g.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return typeof E=="string"&&S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return g.reduce(function(S,k){return E.hasAttribute(k)&&(S[k]=E.getAttribute(k)),S},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,h.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,x){for(var E=0;E<x.length;E++){var S=x[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,E){return x&&w(b.prototype,x),E&&w(b,E),b}}(),o=function w(b,x,E){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:w(k,x,E)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(E)}},a=i(4),l=i(27),h=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["height","width"],y=function(w){m(b,w);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(E,S){g.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return g.reduce(function(S,k){return E.hasAttribute(k)&&(S[k]=E.getAttribute(k)),S},{})}},{key:"sanitize",value:function(E){return h.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function E(S,k){for(var N=0;N<k.length;N++){var O=k[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,N){return k&&E(S.prototype,k),N&&E(S,N),S}}(),o=function E(S,k,N){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,k);if(O===void 0){var C=Object.getPrototypeOf(S);return C===null?void 0:E(C,k,N)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(N)}},a=i(35),l=m(a),h=i(5),c=m(h),f=i(9),p=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var b=function(E){w(S,E);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,null,[{key:"create",value:function(N){var O=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",N)),O}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),S}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=function(E){w(S,E),s(S,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function S(){g(this,S);var k=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return S}(p.default);r.FormulaBlot=b,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function N(O,C){for(var I=0;I<C.length;I++){var R=C[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,C,I){return C&&N(O.prototype,C),I&&N(O,I),O}}(),o=function N(O,C,I){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,C);if(R===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:N(A,C,I)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(I)}},a=i(0),l=y(a),h=i(5),c=y(h),f=i(9),p=y(f),m=i(13),g=y(m);function y(N){return N&&N.__esModule?N:{default:N}}function w(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function b(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function x(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var E=function(N){x(O,N);function O(){return w(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),O}(g.default);E.className="ql-syntax";var S=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(N){x(O,N),s(O,null,[{key:"register",value:function(){c.default.register(S,!0),c.default.register(E,!0)}}]);function O(C,I){w(this,O);var R=b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,I));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return R.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){R.highlight(),A=null},R.options.interval)}),R.highlight(),R}return s(O,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(A){A.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),R!=null&&this.quill.setSelection(R,c.default.sources.SILENT)}}}]),O}(p.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var O=window.hljs.highlightAuto(N);return O.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=S,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function O(C,I,R){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,I);if(A===void 0){var D=Object.getPrototypeOf(C);return D===null?void 0:O(D,I,R)}else{if("value"in A)return A.value;var M=A.get;return M===void 0?void 0:M.call(R)}},o=function(){function O(C,I){for(var R=0;R<I.length;R++){var A=I[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,I,R){return I&&O(C.prototype,I),R&&O(C,R),C}}(),a=i(3),l=w(a),h=i(8),c=w(h),f=i(43),p=w(f),m=i(15),g=i(41),y=w(g);function w(O){return O&&O.__esModule?O:{default:O}}function b(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function x(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function E(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(O){E(C,O);function C(I,R){b(this,C),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var A=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,R));return A.quill.container.classList.add("ql-bubble"),A}return o(C,[{key:"extendToolbar",value:function(R){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),y.default)}}]),C}(p.default);k.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(O){E(C,O);function C(I,R){b(this,C);var A=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,R));return A.quill.on(c.default.events.EDITOR_CHANGE,function(D,M,F,q){if(D===c.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&q===c.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var L=A.quill.getLines(M.index,M.length);if(L.length===1)A.position(A.quill.getBounds(M));else{var B=L[L.length-1],Y=A.quill.getIndex(B),z=Math.min(B.length()-1,M.index+M.length-Y),j=A.quill.getBounds(new m.Range(Y,z));A.position(j)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(C,[{key:"listen",value:function(){var R=this;s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var A=R.quill.getSelection();A!=null&&R.position(R.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var A=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,R),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",A===0)return A;D.style.marginLeft=-1*A-D.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=k},function(n,r,i){n.exports=i(63)}]).default})}(jp)),jp.exports}var $i,oI;function _se(){if(oI)return $i;oI=1;var t=$i&&$i.__extends||function(){var c=function(f,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])},c(f,p)};return function(f,p){c(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=$i&&$i.__assign||function(){return e=Object.assign||function(c){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},e.apply(this,arguments)},n=$i&&$i.__spreadArrays||function(){for(var c=0,f=0,p=arguments.length;f<p;f++)c+=arguments[f].length;for(var m=Array(c),g=0,f=0;f<p;f++)for(var y=arguments[f],w=0,b=y.length;w<b;w++,g++)m[g]=y[w];return m},r=$i&&$i.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},i=r(ag()),s=r(__()),o=r(wse()),a=r(xse()),l=function(c){t(f,c);function f(p){var m=c.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(y,w,b,x){var E,S,k,N;y==="text-change"?(S=(E=m).onEditorChangeText)===null||S===void 0||S.call(E,m.editor.root.innerHTML,w,x,m.unprivilegedEditor):y==="selection-change"&&((N=(k=m).onEditorChangeSelection)===null||N===void 0||N.call(k,w,x,m.unprivilegedEditor))};var g=m.isControlled()?p.value:p.defaultValue;return m.value=g??"",m}return f.prototype.validateProps=function(p){var m;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var g=i.default.Children.only(p.children);if(((m=g)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(p,m){var g=this,y;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var w=this.getEditorContents(),b=(y=p.value,y??"");this.isEqualValue(b,w)||this.setEditorContents(this.editor,b)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!o.default(p[x],g.props[x])})},f.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(g){return!o.default(p[g],m.props[g])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(p,m){var g=this;if(this.editor&&this.shouldComponentRegenerate(p)){var y=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var b=this.regenerationSnapshot,y=b.delta,x=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var E=this.editor;E.setContents(y),h(function(){return g.setEditorSelection(E,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(p,m){var g=new a.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(g,m.tabIndex),this.hookEditor(g),g},f.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(p){return p&&p.ops},f.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?o.default(p.ops,m.ops):o.default(p,m)},f.prototype.setEditorContents=function(p,m){var g=this;this.value=m;var y=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),h(function(){return g.setEditorSelection(p,y)})},f.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var g=p.getLength();m.index=Math.max(0,Math.min(m.index,g-1)),m.length=Math.max(0,Math.min(m.length,g-1-m.index)),p.setSelection(m)}},f.prototype.setEditorTabIndex=function(p,m){var g,y;!((y=(g=p)===null||g===void 0?void 0:g.scroll)===null||y===void 0)&&y.domNode&&(p.scroll.domNode.tabIndex=m)},f.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},f.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=s.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},f.prototype.renderEditingArea=function(){var p=this,m=this.props,g=m.children,y=m.preserveWhitespace,w=this.state.generation,b={key:w,ref:function(x){p.editingArea=x}};return i.default.Children.count(g)?i.default.cloneElement(i.default.Children.only(g),b):y?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(p,m,g,y){var w,b;if(this.editor){var x=this.isDelta(this.value)?y.getContents():y.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=x,(b=(w=this.props).onChange)===null||b===void 0||b.call(w,p,m,g,y))}},f.prototype.onEditorChangeSelection=function(p,m,g){var y,w,b,x,E,S;if(this.editor){var k=this.getEditorSelection(),N=!k&&p,O=k&&!p;o.default(p,k)||(this.selection=p,(w=(y=this.props).onChangeSelection)===null||w===void 0||w.call(y,p,m,g),N?(x=(b=this.props).onFocus)===null||x===void 0||x.call(b,p,m,g):O&&((S=(E=this.props).onBlur)===null||S===void 0||S.call(E,k,m,g)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=a.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(i.default.Component);function h(c){Promise.resolve().then(c)}return $i=l,$i}var Sse=_se();const Ese=ef(Sse),Y3=({placeholder:t,text:e,setText:n})=>{const r=K.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large"]}],[{color:[]}],["italic","underline","blockquote","bold"],[{list:"ordered"},{list:"bullet"}],["link"]]}}),[]);return _.jsx(Ese,{value:e,onChange:n,modules:r,placeholder:t,className:"mb-2 w-full rounded-xl border-0 bg-white scrollbar-hide"})};function kse({postType:t,post:e,collName:n}){const{onEditSubmit:r,setEditedData:i,editedData:s}=tc({dataToUpdate:{text:e.text,updatedAt:(e==null?void 0:e.updatedAt)||""},collName:n,docId:e.id}),o=a=>{i({text:a})};return _.jsx(Or,{title:`${t} `,children:_.jsxs("form",{onSubmit:r,children:[_.jsx(Y3,{placeholder:"  .",text:s.text,setText:o}),_.jsx(ht,{name:"",type:"submit",className:"ml-auto"})]})})}function Tse({collName:t,postType:e,post:n}){const{showModal:r,hideModal:i}=St(),s=()=>{i(),r({element:_.jsx(kse,{postType:e,post:n,collName:t})})};return _.jsx("button",{onClick:s,children:_.jsx(PE,{fontSize:14,stroke:"#aaa"})})}const G3=({collName:t,post:e,postType:n})=>_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Tse,{collName:t,post:e,postType:n}),_.jsx(sie,{docId:e.id,collName:t})]}),Cse=({postId:t,postType:e})=>{const{uid:n}=Pe(Ct),r=Pe(ga),[i,s]=K.useState({}),{docId:o,monthId:a}=t,{showModal:l}=St(),h=()=>{if(e==="")return Zr(a,Af);if(e===" ")return Zr(a,SE);if(e===" ")return Zr(a,pv)};K.useEffect(()=>{o&&Cr(h(),o,s)},[]);const{thumbnail:c,title:f,createdAt:p,creatorId:m,text:g}=i,y=n===m,w=r==null?void 0:r.find(E=>E.id===m),b=y?"":w==null?void 0:w.displayName,x=()=>l({element:_.jsx(Or,{title:`${b} ${e}`,children:_.jsxs("div",{className:"overflow-scroll",children:[_.jsx(jE,{text:g}),_.jsx("div",{className:"mb-4 mt-10 flex justify-end",children:n===m&&_.jsx(G3,{post:i,collName:h(),postType:e})}),_.jsx(yv,{createdAt:p,footerType:"likes",post:i})]})})});return _.jsx(_.Fragment,{children:Of(i)&&_.jsx("button",{type:"button",onClick:x,children:_.jsx(an,{thumbnail:c,title:f,className:"w-full overflow-hidden"})})})};function Nse({userRecords:t,postType:e}){const n=(t==null?void 0:t.subjects)||[],r=(t==null?void 0:t.hostReviews)||[],i=(t==null?void 0:t.reviews)||[],s={:n," ":i," ":r};return _.jsx("ul",{className:"grid grid-cols-7 gap-5 max-md:grid-cols-6 max-sm:grid-cols-4 max-sm:gap-4",children:s[e].length!==0?s[e].map(o=>_.jsx(Cse,{postId:o,postType:e},o.docId)):_.jsxs("span",{children:["  ",e," ."]})})}function Ose({percentage:t}){return _.jsx("div",{className:"mt-2 flex items-center gap-4",children:_.jsx("div",{className:`flex h-[14px] w-full items-center rounded-2xl border p-0.5 ${t==="100%"?"border-green1":"border-yellow-600"}`,children:_.jsx("div",{style:{width:t},className:`relative h-full rounded-3xl ${t==="100%"?"w-full bg-green1":"bg-yellow-300"}`})})})}function lr({text:t,color:e="lightBlue",children:n,shape:r="square",className:i,onClick:s}){const o={lightGray:"bg-gray4 text-gray1",lightGreen:"bg-green3 text-green-700",lightBlue:"bg-blue4 text-blue2",yellow:"bg-amber-100 text-yellow-700",purple:"bg-purple4 text-purple-700",green:"bg-green1 text-white",red:"bg-pointCoral text-white"},a={rounded:"rounded-full",square:"rounded-lg"};return s?_.jsxs("button",{type:"button",onClick:s,className:`${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 text-sm ${i}`,children:[_.jsx("span",{children:t&&t}),n&&n]}):_.jsxs("div",{className:`min-w-fit text-sm ${a[r]} ${o[e]} flex h-fit min-h-6 w-fit min-w-6 items-center gap-1 rounded-2xl px-4 py-2.5 ${i}`,children:[_.jsx("span",{children:t&&t}),n&&n]})}function Os({authors:t,publisher:e,className:n}){return _.jsxs("span",{className:`line-clamp-1 truncate whitespace-pre-wrap text-sm tracking-tight text-gray1 ${n}`,children:[t.length!==0?_.jsxs("span",{children:[t[0],t.length!==1&&`( ${t.length-1})`]}):_.jsx("span",{className:"text-gray1",children:" "}),e&&_.jsxs("span",{children:["  ",e]})]})}function Ase({currentPage:t,wholePage:e}){const n=Cm(t,e);return _.jsxs("span",{className:`text-sm font-medium tracking-tighter ${n===100?"text-green2":"text-pointCoral"}`,children:[n===100?"":""," ",t," / ",e," (",n,"%)"]})}function Dse({docId:t,creatorId:e,challengeBook:n}){const{title:r,thumbnail:i,authors:s,publisher:o,wholePage:a,currentPage:l}=n,[h]=K.useState(l),{uid:c}=Pe(Ct),{pathname:f}=ur(),p=dn(sn,ll,t),m=async()=>{window.confirm(" ?")&&await Gg(p)},g=`${Cm(l,a)}%`;return _.jsxs("li",{className:`rounded-xl border bg-white px-4 pb-3 pt-4 shadow-card ${g==="100%"?"border-green1":"border-pointCoral opacity-50"}`,children:[_.jsxs("div",{className:"mb-2.5 flex flex-1",children:[_.jsxs("div",{className:"mr-4 flex flex-1 flex-col gap-1",children:[_.jsx(lr,{text:g==="100%"?"  ":"  ",color:g==="100%"?"green":"red",className:"mb-1.5 min-w-fit font-medium"}),_.jsx("h3",{className:"font-medium leading-5",children:r}),_.jsx(Os,{authors:s,publisher:o}),f==="/challenge"&&c===e&&_.jsx("div",{className:"absolute right-3 top-3 flex gap-3",children:_.jsx("button",{type:"button",onClick:m,children:_.jsx(Rf,{fontSize:15})})}),_.jsx(Ase,{currentPage:h,wholePage:a})]}),_.jsx(an,{title:r,thumbnail:i,className:"w-20"})]}),_.jsx(Ose,{percentage:g})]})}const bs=({text:t,color:e="gray",icon:n=!0})=>{const r={red:"text-pointCoral stroke-pointCoral",green:"text-green1 stroke-green1",gray:"text-gray1 stroke-gray1"};return _.jsxs("div",{className:"mb-2 gap-1",children:[n&&(e==="red"?_.jsx(Mre,{className:`mb-0.5 inline text-base ${r[e]}`}):_.jsx(Xre,{className:`mb-0.5 inline text-base ${r[e]}`})),_.jsx("span",{className:`ml-1 text-base leading-6 ${r[e]}`,children:t})]})};function Ise(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h10v10"},child:[]},{tag:"path",attr:{d:"M7 17 17 7"},child:[]}]})(t)}function Rse(t){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7"},child:[]},{tag:"path",attr:{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"},child:[]}]})(t)}function rc({size:t=200,className:e=""}){return _.jsx("div",{className:`flex items-center justify-center ${e}`,children:_.jsxs("div",{className:"relative flex items-center justify-center rounded-full",style:{height:`${t}px`,width:`${t}px`},children:[_.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"11",fill:"none",className:"stroke-purple4"}),_.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:10,strokeLinecap:"round",strokeDasharray:"45 240",strokeDashoffset:"100",className:"origin-center animate-spin border stroke-purple2"})]}),_.jsx(Rse,{className:"absolute size-[40%] text-purple2"})]})})}const Am=({title:t,className:e})=>_.jsx("h3",{className:`flex w-fit items-center text-[17px] font-medium text-blue1 ${e}`,children:t});function Rt({children:t,title:e,titleBtn:n,className:r=""}){return _.jsxs("section",{className:`relative flex flex-col pb-20 pt-2.5 max-md:pb-16 ${r}`,children:[e&&(n?_.jsxs("div",{className:"mb-2 flex items-center justify-between px-1",children:[_.jsx(Am,{title:e}),n]}):_.jsx(Am,{title:e,className:"mb-2 pl-1"})),t]})}function Pse(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function K3(t,e){return new Promise(function(n,r){let i;return Mse(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Mse=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const h=o+10;let c;switch(s.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(h+2,c)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(h+4,c),p=h+f+2+12*s.getUint16(h+f,c);for(let m=h+f+2;m<p;m+=12)if(s.getUint16(m,c)==274){if(s.getUint16(m+2,c)!==3)return n("Orientation data type is invalid");if(s.getUint32(m+4,c)!==1)return n("Orientation data count is invalid");s.setUint16(m+8,1,c);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Dm={},Lse={get exports(){return Dm},set exports(t){Dm=t}};(function(t){var e,n,r={};Lse.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,h={},c=new Uint8Array(i),f=c.length-4;a(c,f)!=101010256;)f--;l=f,l+=4;var p=o(c,l+=4);o(c,l+=2);var m=a(c,l+=2),g=a(c,l+=4);l+=4,l=g;for(var y=0;y<p;y++){a(c,l),l+=4,l+=4,l+=4,a(c,l+=4),m=a(c,l+=4);var w=a(c,l+=4),b=o(c,l+=4),x=o(c,l+2),E=o(c,l+4);l+=6;var S=a(c,l+=8);l+=4,l+=b+x+E,r._readLocal(c,S,h,m,w,s)}return h},r._readLocal=function(i,s,o,a,l,h){var c=r.bin.readUshort,f=r.bin.readUint;f(i,s),c(i,s+=4),c(i,s+=2);var p=c(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var m=c(i,s+=8),g=c(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,m);if(s+=m,s+=g,h)o[y]={size:l,csize:a};else{var w=new Uint8Array(i.buffer,s);if(p==0)o[y]=new Uint8Array(w.buffer.slice(s,s+a));else{if(p!=8)throw"unknown compression method: "+p;var b=new Uint8Array(l);r.inflateRaw(w,b),o[y]=b}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,h={};for(var c in i){var f=!r._noNeed(c)&&!s,p=i[c],m=r.crc.crc(p,0,p.length);h[c]={cpr:f,usize:p.length,crc:m,file:f?r.deflateRaw(p):p}}for(var c in h)o+=h[c].file.length+30+46+2*r.bin.sizeUTF8(c);o+=22;var g=new Uint8Array(o),y=0,w=[];for(var c in h){var b=h[c];w.push(y),y=r._writeHeader(g,y,c,b,0)}var x=0,E=y;for(var c in h)b=h[c],w.push(y),y=r._writeHeader(g,y,c,b,1,w[x++]);var S=y-E;return a(g,y,101010256),y+=4,l(g,y+=4,x),l(g,y+=2,x),a(g,y+=2,S),a(g,y+=4,E),y+=4,y+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,h){var c=r.bin.writeUint,f=r.bin.writeUshort,p=a.file;return c(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,a.cpr?8:0),c(i,s+=2,0),c(i,s+=4,a.crc),c(i,s+=4,p.length),c(i,s+=4,a.usize),f(i,s+=4,r.bin.sizeUTF8(o)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,c(i,s+=6,h),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(p,s),s+=p.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,h=s,c=s+o;h<c;){for(var f=Math.min(h+5552,c);h<f;)l+=a+=i[h++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",h=0;h<o;h++)l+="%"+r.bin.pad(i[s+h].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,h=0;h<a;h++){var c=o.charCodeAt(h);if((4294967168&c)==0)i[s+l]=c,l++;else if((4294965248&c)==0)i[s+l]=192|c>>6,i[s+l+1]=128|c>>0&63,l+=2;else if((4294901760&c)==0)i[s+l]=224|c>>12,i[s+l+1]=128|c>>6&63,i[s+l+2]=128|c>>0&63,l+=3;else{if((4292870144&c)!=0)throw"e";i[s+l]=240|c>>18,i[s+l+1]=128|c>>12&63,i[s+l+2]=128|c>>6&63,i[s+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if((4294967168&l)==0)o++;else if((4294965248&l)==0)o+=2;else if((4294901760&l)==0)o+=3;else{if((4292870144&l)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,p=0,m=o<<3,g=0,y=i.length;if(a==0){for(;p<y;)f(s,m,p+(A=Math.min(65535,y-p))==y?1:0),m=r.F._copyExact(i,p,A,s,m+8),p+=A;return m>>>3}var w=h.lits,b=h.strt,x=h.prev,E=0,S=0,k=0,N=0,O=0,C=0;for(y>2&&(b[C=r.F._hash(i,0)]=0),p=0;p<y;p++){if(O=C,p+1<y-2){C=r.F._hash(i,p+1);var I=p+1&32767;x[I]=b[C],b[C]=I}if(g<=p){(E>14e3||S>26697)&&y-p>100&&(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(p==y-1||g==y?1:0,w,E,N,i,k,p-k,s,m),E=S=N=0,k=p);var R=0;p<y-2&&(R=r.F._bestMatch(i,p,x,O,Math.min(l[2],y-p),l[3]));var A=R>>>16,D=65535&R;if(R!=0){D=65535&R;var M=c(A=R>>>16,h.of0);h.lhst[257+M]++;var F=c(D,h.df0);h.dhst[F]++,N+=h.exb[M]+h.dxb[F],w[E]=A<<23|p-g,w[E+1]=D<<16|M<<8|F,E+=2,g=p+A}else h.lhst[i[p]]++;S++}}for(k==p&&i.length!=0||(g<p&&(w[E]=p-g,E+=2,g=p),m=r.F._writeBlock(1,w,E,N,i,k,p-k,s,m),E=0,S=0,E=S=N=0,k=p);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,s,o,a,l,h){var c=32767&s,f=o[c],p=c-f+32768&32767;if(f==c||a!=r.F._hash(i,s-p))return 0;for(var m=0,g=0,y=Math.min(32767,s);p<=y&&--h!=0&&f!=c;){if(m==0||i[s+m]==i[s+m-p]){var w=r.F._howLong(i,s,p);if(w>m){if(g=p,(m=w)>=l)break;p+2<w&&(w=p+2);for(var b=0,x=0;x<w-2;x++){var E=s-p+x+32768&32767,S=E-o[E]+32768&32767;S>b&&(b=S,f=E)}}}p+=(c=f)-(f=o[c])+32768&32767}return m<<16|g},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,h,c,f,p){var m,g,y,w,b,x,E,S,k,N=r.F.U,O=r.F._putsF,C=r.F._putsE;N.lhst[256]++,g=(m=r.F.getTrees())[0],y=m[1],w=m[2],b=m[3],x=m[4],E=m[5],S=m[6],k=m[7];var I=32+((p+3&7)==0?0:8-(p+3&7))+(c<<3),R=a+r.F.contSize(N.fltree,N.lhst)+r.F.contSize(N.fdtree,N.dhst),A=a+r.F.contSize(N.ltree,N.lhst)+r.F.contSize(N.dtree,N.dhst);A+=14+3*E+r.F.contSize(N.itree,N.ihst)+(2*N.ihst[16]+3*N.ihst[17]+7*N.ihst[18]);for(var D=0;D<286;D++)N.lhst[D]=0;for(D=0;D<30;D++)N.dhst[D]=0;for(D=0;D<19;D++)N.ihst[D]=0;var M=I<R&&I<A?0:R<A?1:2;if(O(f,p,i),O(f,p+1,M),p+=3,M==0){for(;(7&p)!=0;)p++;p=r.F._copyExact(l,h,c,f,p)}else{var F,q;if(M==1&&(F=N.fltree,q=N.fdtree),M==2){r.F.makeCodes(N.ltree,g),r.F.revCodes(N.ltree,g),r.F.makeCodes(N.dtree,y),r.F.revCodes(N.dtree,y),r.F.makeCodes(N.itree,w),r.F.revCodes(N.itree,w),F=N.ltree,q=N.dtree,C(f,p,b-257),C(f,p+=5,x-1),C(f,p+=5,E-4),p+=4;for(var L=0;L<E;L++)C(f,p+3*L,N.itree[1+(N.ordr[L]<<1)]);p+=3*E,p=r.F._codeTiny(S,N.itree,f,p),p=r.F._codeTiny(k,N.itree,f,p)}for(var B=h,Y=0;Y<o;Y+=2){for(var z=s[Y],j=z>>>23,U=B+(8388607&z);B<U;)p=r.F._writeLit(l[B++],F,f,p);if(j!=0){var V=s[Y+1],H=V>>16,Q=V>>8&255,X=255&V;C(f,p=r.F._writeLit(257+Q,F,f,p),j-N.of0[Q]),p+=N.exb[Q],O(f,p=r.F._writeLit(X,q,f,p),H-N.df0[X]),p+=N.dxb[X],B+=j}}p=r.F._writeLit(256,F,f,p)}return p},r.F._copyExact=function(i,s,o,a,l){var h=l>>>3;return a[h]=o,a[h+1]=o>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(i.buffer,s,o),h),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),h=[],c=r.F._lenCodes(i.dtree,h),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<h.length;f+=2)i.ihst[h[f]]++;for(var p=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[s,o,p,l,c,m,a,h]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var h=i[l],c=i[l+1];a=r.F._writeLit(h,s,o,a);var f=h==16?2:h==17?3:7;h>15&&(r.F._putsE(o,a,c,f),a+=f)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],h=a+3<o?i[a+3]:-1,c=a+5<o?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&h==l&&c==l){for(var p=a+5;p+2<o&&i[p+2]==l;)p+=2;(m=Math.min(p+1-a>>>1,138))<11?s.push(17,m-3):s.push(18,m-11),a+=2*m-2}else if(l==f&&h==l&&c==l){for(p=a+5;p+2<o&&i[p+2]==l;)p+=2;var m=Math.min(p+1-a>>>1,6);s.push(16,m-3),a+=2*m-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,h=s.length,c=0;for(c=0;c<h;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&a.push({lit:c,f:i[c]});var f=a.length,p=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return p=m==0?1:0,s[1+(m<<1)]=1,s[1+(p<<1)]=1,1}a.sort(function(S,k){return S.f-k.f});var g=a[0],y=a[1],w=0,b=1,x=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};b!=f-1;)g=w!=b&&(x==f||a[w].f<a[x].f)?a[w++]:a[x++],y=w!=b&&(x==f||a[w].f<a[x].f)?a[w++]:a[x++],a[b++]={lit:-1,f:g.f+y.f,l:g,r:y};var E=r.F.setDepth(a[b-1],0);for(E>o&&(r.F.restrictDepth(p,o,E),E=o),c=0;c<f;c++)s[1+(p[c].lit<<1)]=p[c].d;return E},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,h=0;for(i.sort(function(f,p){return p.d==f.d?f.f-p.f:p.d-f.d}),a=0;a<i.length&&i[a].d>s;a++){var c=i[a].d;i[a].d=s,h+=l-(1<<o-c)}for(h>>>=o-s;h>0;)(c=i[a].d)<s?(i[a].d++,h-=1<<s-c-1):a++;for(;a>=0;a--)i[a].d==s&&h<0&&(i[a].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,p=a.codes2map,m=a._get17,g=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var w,b,x=0,E=0,S=0,k=0,N=0,O=0,C=0,I=0,R=0;x==0;)if(x=l(i,R,1),E=l(i,R+1,2),R+=3,E!=0){if(y&&(s=r.F._check(s,I+(1<<17))),E==1&&(w=g.flmap,b=g.fdmap,O=511,C=31),E==2){S=h(i,R,5)+257,k=h(i,R+5,5)+1,N=h(i,R+10,4)+4,R+=14;for(var A=0;A<38;A+=2)g.itree[A]=0,g.itree[A+1]=0;var D=1;for(A=0;A<N;A++){var M=h(i,R+3*A,3);g.itree[1+(g.ordr[A]<<1)]=M,M>D&&(D=M)}R+=3*N,f(g.itree,D),p(g.itree,D,g.imap),w=g.lmap,b=g.dmap,R=c(g.imap,(1<<D)-1,S+k,i,R,g.ttree);var F=a._copyOut(g.ttree,0,S,g.ltree);O=(1<<F)-1;var q=a._copyOut(g.ttree,S,k,g.dtree);C=(1<<q)-1,f(g.ltree,F),p(g.ltree,F,w),f(g.dtree,q),p(g.dtree,q,b)}for(;;){var L=w[m(i,R)&O];R+=15&L;var B=L>>>4;if(!(B>>>8))s[I++]=B;else{if(B==256)break;var Y=I+B-254;if(B>264){var z=g.ldef[B-257];Y=I+(z>>>3)+h(i,R,7&z),R+=7&z}var j=b[m(i,R)&C];R+=15&j;var U=j>>>4,V=g.ddef[U],H=(V>>>4)+l(i,R,15&V);for(R+=15&V,y&&(s=r.F._check(s,I+(1<<17)));I<Y;)s[I]=s[I++-H],s[I]=s[I++-H],s[I]=s[I++-H],s[I]=s[I++-H];I=Y}}}else{(7&R)!=0&&(R+=8-(7&R));var Q=4+(R>>>3),X=i[Q-4]|i[Q-3]<<8;y&&(s=r.F._check(s,I+X)),s.set(new o(i.buffer,i.byteOffset+Q,X),I),R=Q+X<<3,I+=X}return s.length==I?s:s.slice(0,I)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,h){for(var c=r.F._bitsE,f=r.F._get17,p=0;p<o;){var m=i[f(a,l)&s];l+=15&m;var g=m>>>4;if(g<=15)h[p]=g,p++;else{var y=0,w=0;g==16?(w=3+c(a,l,2),l+=2,y=h[p-1]):g==17?(w=3+c(a,l,3),l+=3):g==18&&(w=11+c(a,l,7),l+=7);for(var b=p+w;p<b;)h[p]=y,p++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,h=0,c=a.length>>>1;h<o;){var f=i[h+s];a[h<<1]=0,a[1+(h<<1)]=f,f>l&&(l=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,h,c=r.F.U,f=i.length,p=c.bl_count,m=0;m<=s;m++)p[m]=0;for(m=1;m<f;m+=2)p[i[m]]++;var g=c.next_code;for(o=0,p[0]=0,a=1;a<=s;a++)o=o+p[a-1]<<1,g[a]=o;for(l=0;l<f;l+=2)(h=i[l+1])!=0&&(i[l]=g[h],g[h]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,h=0;h<a;h+=2)if(i[h+1]!=0)for(var c=h>>1,f=i[h+1],p=c<<4|f,m=s-f,g=i[h]<<m,y=g+(1<<m);g!=y;)o[l[g]>>>15-s]=p,g++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var h=i[l]<<s-i[l+1];i[l]=o[h]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,h,c){for(;h--!=0;)l.push(0,c)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var jse=Pse({__proto__:null,default:Dm},[Dm]);const Ui=function(){var t={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,p){c[f]=p>>8&255,c[f+1]=255&p},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,p){c[f]=p>>24&255,c[f+1]=p>>16&255,c[f+2]=p>>8&255,c[f+3]=255&p},readASCII(c,f,p){let m="";for(let g=0;g<p;g++)m+=String.fromCharCode(c[f+g]);return m},writeASCII(c,f,p){for(let m=0;m<p.length;m++)c[f+m]=p.charCodeAt(m)},readBytes(c,f,p){const m=[];for(let g=0;g<p;g++)m.push(c[f+g]);return m},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,p){let m,g="";for(let y=0;y<p;y++)g+=`%${t.pad(c[f+y].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(c,f,p)}return m}};function e(c,f,p,m){const g=f*p,y=s(m),w=Math.ceil(f*y/8),b=new Uint8Array(4*g),x=new Uint32Array(b.buffer),{ctype:E}=m,{depth:S}=m,k=t.readUshort;if(E==6){const z=g<<2;if(S==8)for(var N=0;N<z;N+=4)b[N]=c[N],b[N+1]=c[N+1],b[N+2]=c[N+2],b[N+3]=c[N+3];if(S==16)for(N=0;N<z;N++)b[N]=c[N<<1]}else if(E==2){const z=m.tabs.tRNS;if(z==null){if(S==8)for(N=0;N<g;N++){var O=3*N;x[N]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O]}if(S==16)for(N=0;N<g;N++)O=6*N,x[N]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O]}else{var C=z[0];const j=z[1],U=z[2];if(S==8)for(N=0;N<g;N++){var I=N<<2;O=3*N,x[N]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O],c[O]==C&&c[O+1]==j&&c[O+2]==U&&(b[I+3]=0)}if(S==16)for(N=0;N<g;N++)I=N<<2,O=6*N,x[N]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O],k(c,O)==C&&k(c,O+2)==j&&k(c,O+4)==U&&(b[I+3]=0)}}else if(E==3){const z=m.tabs.PLTE,j=m.tabs.tRNS,U=j?j.length:0;if(S==1)for(var R=0;R<p;R++){var A=R*w,D=R*f;for(N=0;N<f;N++){I=D+N<<2;var M=3*(F=c[A+(N>>3)]>>7-((7&N)<<0)&1);b[I]=z[M],b[I+1]=z[M+1],b[I+2]=z[M+2],b[I+3]=F<U?j[F]:255}}if(S==2)for(R=0;R<p;R++)for(A=R*w,D=R*f,N=0;N<f;N++)I=D+N<<2,M=3*(F=c[A+(N>>2)]>>6-((3&N)<<1)&3),b[I]=z[M],b[I+1]=z[M+1],b[I+2]=z[M+2],b[I+3]=F<U?j[F]:255;if(S==4)for(R=0;R<p;R++)for(A=R*w,D=R*f,N=0;N<f;N++)I=D+N<<2,M=3*(F=c[A+(N>>1)]>>4-((1&N)<<2)&15),b[I]=z[M],b[I+1]=z[M+1],b[I+2]=z[M+2],b[I+3]=F<U?j[F]:255;if(S==8)for(N=0;N<g;N++){var F;I=N<<2,M=3*(F=c[N]),b[I]=z[M],b[I+1]=z[M+1],b[I+2]=z[M+2],b[I+3]=F<U?j[F]:255}}else if(E==4){if(S==8)for(N=0;N<g;N++){I=N<<2;var q=c[L=N<<1];b[I]=q,b[I+1]=q,b[I+2]=q,b[I+3]=c[L+1]}if(S==16)for(N=0;N<g;N++){var L;I=N<<2,q=c[L=N<<2],b[I]=q,b[I+1]=q,b[I+2]=q,b[I+3]=c[L+2]}}else if(E==0)for(C=m.tabs.tRNS?m.tabs.tRNS:-1,R=0;R<p;R++){const z=R*w,j=R*f;if(S==1)for(var B=0;B<f;B++){var Y=(q=255*(c[z+(B>>>3)]>>>7-(7&B)&1))==255*C?0:255;x[j+B]=Y<<24|q<<16|q<<8|q}else if(S==2)for(B=0;B<f;B++)Y=(q=85*(c[z+(B>>>2)]>>>6-((3&B)<<1)&3))==85*C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(S==4)for(B=0;B<f;B++)Y=(q=17*(c[z+(B>>>1)]>>>4-((1&B)<<2)&15))==17*C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(S==8)for(B=0;B<f;B++)Y=(q=c[z+B])==C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q;else if(S==16)for(B=0;B<f;B++)q=c[z+(B<<1)],Y=k(c,z+(B<<1))==C?0:255,x[j+B]=Y<<24|q<<16|q<<8|q}return b}function n(c,f,p,m){const g=s(c),y=Math.ceil(p*g/8),w=new Uint8Array((y+1+c.interlace)*m);return f=c.tabs.CgBI?i(f,w):r(f,w),c.interlace==0?f=o(f,c,0,p,m):c.interlace==1&&(f=function(x,E){const S=E.width,k=E.height,N=s(E),O=N>>3,C=Math.ceil(S*N/8),I=new Uint8Array(k*C);let R=0;const A=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const B=M[q],Y=F[q];let z=0,j=0,U=A[q];for(;U<k;)U+=B,j++;let V=D[q];for(;V<S;)V+=Y,z++;const H=Math.ceil(z*N/8);o(x,E,R,z,j);let Q=0,X=A[q];for(;X<k;){let W=D[q],J=R+Q*H<<3;for(;W<S;){var L;if(N==1&&(L=(L=x[J>>3])>>7-(7&J)&1,I[X*C+(W>>3)]|=L<<7-((7&W)<<0)),N==2&&(L=(L=x[J>>3])>>6-(7&J)&3,I[X*C+(W>>2)]|=L<<6-((3&W)<<1)),N==4&&(L=(L=x[J>>3])>>4-(7&J)&15,I[X*C+(W>>1)]|=L<<4-((1&W)<<2)),N>=8){const Z=X*C+W*O;for(let te=0;te<O;te++)I[Z+te]=x[(J>>3)+te]}J+=N,W+=Y}Q++,X+=B}z*j!=0&&(R+=j*(1+H)),q+=1}return I}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,p){const m=Uint8Array;let g,y,w=0,b=0,x=0,E=0,S=0,k=0,N=0,O=0,C=0;if(f[0]==3&&f[1]==0)return p||new m(0);const I=c.H,R=I.b,A=I.e,D=I.R,M=I.n,F=I.A,q=I.Z,L=I.m,B=p==null;for(B&&(p=new m(f.length>>>2<<5));w==0;)if(w=R(f,C,1),b=R(f,C+1,2),C+=3,b!=0){if(B&&(p=c.H.W(p,O+(1<<17))),b==1&&(g=L.J,y=L.h,k=511,N=31),b==2){x=A(f,C,5)+257,E=A(f,C+5,5)+1,S=A(f,C+10,4)+4,C+=14;let z=1;for(var Y=0;Y<38;Y+=2)L.Q[Y]=0,L.Q[Y+1]=0;for(Y=0;Y<S;Y++){const V=A(f,C+3*Y,3);L.Q[1+(L.X[Y]<<1)]=V,V>z&&(z=V)}C+=3*S,M(L.Q,z),F(L.Q,z,L.u),g=L.w,y=L.d,C=D(L.u,(1<<z)-1,x+E,f,C,L.v);const j=I.V(L.v,0,x,L.C);k=(1<<j)-1;const U=I.V(L.v,x,E,L.D);N=(1<<U)-1,M(L.C,j),F(L.C,j,g),M(L.D,U),F(L.D,U,y)}for(;;){const z=g[q(f,C)&k];C+=15&z;const j=z>>>4;if(!(j>>>8))p[O++]=j;else{if(j==256)break;{let U=O+j-254;if(j>264){const W=L.q[j-257];U=O+(W>>>3)+A(f,C,7&W),C+=7&W}const V=y[q(f,C)&N];C+=15&V;const H=V>>>4,Q=L.c[H],X=(Q>>>4)+R(f,C,15&Q);for(C+=15&Q;O<U;)p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X],p[O]=p[O++-X];O=U}}}}else{(7&C)!=0&&(C+=8-(7&C));const z=4+(C>>>3),j=f[z-4]|f[z-3]<<8;B&&(p=c.H.W(p,O+j)),p.set(new m(f.buffer,f.byteOffset+z,j),O),C=z+j<<3,O+=j}return p.length==O?p:p.slice(0,O)},c.H.W=function(f,p){const m=f.length;if(p<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},c.H.R=function(f,p,m,g,y,w){const b=c.H.e,x=c.H.Z;let E=0;for(;E<m;){const S=f[x(g,y)&p];y+=15&S;const k=S>>>4;if(k<=15)w[E]=k,E++;else{let N=0,O=0;k==16?(O=3+b(g,y,2),y+=2,N=w[E-1]):k==17?(O=3+b(g,y,3),y+=3):k==18&&(O=11+b(g,y,7),y+=7);const C=E+O;for(;E<C;)w[E]=N,E++}}return y},c.H.V=function(f,p,m,g){let y=0,w=0;const b=g.length>>>1;for(;w<m;){const x=f[w+p];g[w<<1]=0,g[1+(w<<1)]=x,x>y&&(y=x),w++}for(;w<b;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},c.H.n=function(f,p){const m=c.H.m,g=f.length;let y,w,b,x;const E=m.j;for(var S=0;S<=p;S++)E[S]=0;for(S=1;S<g;S+=2)E[f[S]]++;const k=m.K;for(y=0,E[0]=0,w=1;w<=p;w++)y=y+E[w-1]<<1,k[w]=y;for(b=0;b<g;b+=2)x=f[b+1],x!=0&&(f[b]=k[x],k[x]++)},c.H.A=function(f,p,m){const g=f.length,y=c.H.m.r;for(let w=0;w<g;w+=2)if(f[w+1]!=0){const b=w>>1,x=f[w+1],E=b<<4|x,S=p-x;let k=f[w]<<S;const N=k+(1<<S);for(;k!=N;)m[y[k]>>>15-p]=E,k++}},c.H.l=function(f,p){const m=c.H.m.r,g=15-p;for(let y=0;y<f.length;y+=2){const w=f[y]<<p-f[y+1];f[y]=m[w]>>>g}},c.H.M=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8},c.H.I=function(f,p,m){m<<=7&p;const g=p>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},c.H.e=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8)>>>(7&p)&(1<<m)-1},c.H.b=function(f,p,m){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)&(1<<m)-1},c.H.Z=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)},c.H.i=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16|f[3+(p>>>3)]<<24)>>>(7&p)},c.H.m=function(){const f=Uint16Array,p=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[p]=(g>>>16|g<<16)>>>17}function m(g,y,w){for(;y--!=0;)g.push(0,w)}for(p=0;p<32;p++)f.q[p]=f.S[p]<<3|f.T[p],f.c[p]=f.p[p]<<4|f.z[p];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),m(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function o(c,f,p,m,g){let y=s(f);const w=Math.ceil(m*y/8);let b,x;y=Math.ceil(y/8);let E=c[p],S=0;if(E>1&&(c[p]=[0,0,1][E-2]),E==3)for(S=y;S<w;S++)c[S+1]=c[S+1]+(c[S+1-y]>>>1)&255;for(let k=0;k<g;k++)if(b=p+k*w,x=b+k+1,E=c[x-1],S=0,E==0)for(;S<w;S++)c[b+S]=c[x+S];else if(E==1){for(;S<y;S++)c[b+S]=c[x+S];for(;S<w;S++)c[b+S]=c[x+S]+c[b+S-y]}else if(E==2)for(;S<w;S++)c[b+S]=c[x+S]+c[b+S-w];else if(E==3){for(;S<y;S++)c[b+S]=c[x+S]+(c[b+S-w]>>>1);for(;S<w;S++)c[b+S]=c[x+S]+(c[b+S-w]+c[b+S-y]>>>1)}else{for(;S<y;S++)c[b+S]=c[x+S]+a(0,c[b+S-w],0);for(;S<w;S++)c[b+S]=c[x+S]+a(c[b+S-y],c[b+S-w],c[b+S-y-w])}return c}function a(c,f,p){const m=c+f-p,g=m-c,y=m-f,w=m-p;return g*g<=y*y&&g*g<=w*w?c:y*y<=w*w?f:p}function l(c,f,p){p.width=t.readUint(c,f),f+=4,p.height=t.readUint(c,f),f+=4,p.depth=c[f],f++,p.ctype=c[f],f++,p.compress=c[f],f++,p.filter=c[f],f++,p.interlace=c[f],f++}function h(c,f,p,m,g,y,w,b,x){const E=Math.min(f,g),S=Math.min(p,y);let k=0,N=0;for(let q=0;q<S;q++)for(let L=0;L<E;L++)if(w>=0&&b>=0?(k=q*f+L<<2,N=(b+q)*g+w+L<<2):(k=(-b+q)*f-w+L<<2,N=q*g+L<<2),x==0)m[N]=c[k],m[N+1]=c[k+1],m[N+2]=c[k+2],m[N+3]=c[k+3];else if(x==1){var O=c[k+3]*.00392156862745098,C=c[k]*O,I=c[k+1]*O,R=c[k+2]*O,A=m[N+3]*(1/255),D=m[N]*A,M=m[N+1]*A,F=m[N+2]*A;const B=1-O,Y=O+A*B,z=Y==0?0:1/Y;m[N+3]=255*Y,m[N+0]=(C+D*B)*z,m[N+1]=(I+M*B)*z,m[N+2]=(R+F*B)*z}else if(x==2)O=c[k+3],C=c[k],I=c[k+1],R=c[k+2],A=m[N+3],D=m[N],M=m[N+1],F=m[N+2],O==A&&C==D&&I==M&&R==F?(m[N]=0,m[N+1]=0,m[N+2]=0,m[N+3]=0):(m[N]=C,m[N+1]=I,m[N+2]=R,m[N+3]=O);else if(x==3){if(O=c[k+3],C=c[k],I=c[k+1],R=c[k+2],A=m[N+3],D=m[N],M=m[N+1],F=m[N+2],O==A&&C==D&&I==M&&R==F)continue;if(O<220&&A>20)return!1}return!0}return{decode:function(f){const p=new Uint8Array(f);let m=8;const g=t,y=g.readUshort,w=g.readUint,b={tabs:{},frames:[]},x=new Uint8Array(p.length);let E,S=0,k=0;const N=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(p[O]!=N[O])throw"The input is not a PNG file!";for(;m<p.length;){const q=g.readUint(p,m);m+=4;const L=g.readASCII(p,m,4);if(m+=4,L=="IHDR")l(p,m,b);else if(L=="iCCP"){for(var C=m;p[C]!=0;)C++;g.readASCII(p,m,C-m),p[C+1];const B=p.slice(C+2,m+q);let Y=null;try{Y=r(B)}catch{Y=i(B)}b.tabs[L]=Y}else if(L=="CgBI")b.tabs[L]=p.slice(m,m+4);else if(L=="IDAT"){for(O=0;O<q;O++)x[S+O]=p[m+O];S+=q}else if(L=="acTL")b.tabs[L]={num_frames:w(p,m),num_plays:w(p,m+4)},E=new Uint8Array(p.length);else if(L=="fcTL"){k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height),k=0);const B={x:w(p,m+12),y:w(p,m+16),width:w(p,m+4),height:w(p,m+8)};let Y=y(p,m+22);Y=y(p,m+20)/(Y==0?100:Y);const z={rect:B,delay:Math.round(1e3*Y),dispose:p[m+24],blend:p[m+25]};b.frames.push(z)}else if(L=="fdAT"){for(O=0;O<q-4;O++)E[k+O]=p[m+O+4];k+=q-4}else if(L=="pHYs")b.tabs[L]=[g.readUint(p,m),g.readUint(p,m+4),p[m+8]];else if(L=="cHRM")for(b.tabs[L]=[],O=0;O<8;O++)b.tabs[L].push(g.readUint(p,m+4*O));else if(L=="tEXt"||L=="zTXt"){b.tabs[L]==null&&(b.tabs[L]={});var I=g.nextZero(p,m),R=g.readASCII(p,m,I-m),A=m+q-I-1;if(L=="tEXt")M=g.readASCII(p,I+1,A);else{var D=r(p.slice(I+2,I+2+A));M=g.readUTF8(D,0,D.length)}b.tabs[L][R]=M}else if(L=="iTXt"){b.tabs[L]==null&&(b.tabs[L]={}),I=0,C=m,I=g.nextZero(p,C),R=g.readASCII(p,C,I-C);const B=p[C=I+1];var M;p[C+1],C+=2,I=g.nextZero(p,C),g.readASCII(p,C,I-C),C=I+1,I=g.nextZero(p,C),g.readUTF8(p,C,I-C),A=q-((C=I+1)-m),B==0?M=g.readUTF8(p,C,A):(D=r(p.slice(C,C+A)),M=g.readUTF8(D,0,D.length)),b.tabs[L][R]=M}else if(L=="PLTE")b.tabs[L]=g.readBytes(p,m,q);else if(L=="hIST"){const B=b.tabs.PLTE.length/3;for(b.tabs[L]=[],O=0;O<B;O++)b.tabs[L].push(y(p,m+2*O))}else if(L=="tRNS")b.ctype==3?b.tabs[L]=g.readBytes(p,m,q):b.ctype==0?b.tabs[L]=y(p,m):b.ctype==2&&(b.tabs[L]=[y(p,m),y(p,m+2),y(p,m+4)]);else if(L=="gAMA")b.tabs[L]=g.readUint(p,m)/1e5;else if(L=="sRGB")b.tabs[L]=p[m];else if(L=="bKGD")b.ctype==0||b.ctype==4?b.tabs[L]=[y(p,m)]:b.ctype==2||b.ctype==6?b.tabs[L]=[y(p,m),y(p,m+2),y(p,m+4)]:b.ctype==3&&(b.tabs[L]=p[m]);else if(L=="IEND")break;m+=q,g.readUint(p,m),m+=4}var F;return k!=0&&((F=b.frames[b.frames.length-1]).data=n(b,E.slice(0,k),F.rect.width,F.rect.height)),b.data=n(b,x,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(f){const p=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,p,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=p*m*4,w=new Uint8Array(y),b=new Uint8Array(y),x=new Uint8Array(y);for(let S=0;S<f.frames.length;S++){const k=f.frames[S],N=k.rect.x,O=k.rect.y,C=k.rect.width,I=k.rect.height,R=e(k.data,C,I,f);if(S!=0)for(var E=0;E<y;E++)x[E]=w[E];if(k.blend==0?h(R,C,I,w,p,m,N,O,0):k.blend==1&&h(R,C,I,w,p,m,N,O,1),g.push(w.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)h(b,C,I,w,p,m,N,O,0);else if(k.dispose==2)for(E=0;E<y;E++)w[E]=x[E]}}return g},_paeth:a,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=Ui,{_bin:e}=Ui,n=Ui._paeth;var r={table:function(){const C=new Uint32Array(256);for(let I=0;I<256;I++){let R=I;for(let A=0;A<8;A++)1&R?R=3988292384^R>>>1:R>>>=1;C[I]=R}return C}(),update(C,I,R,A){for(let D=0;D<A;D++)C=r.table[255&(C^I[R+D])]^C>>>8;return C},crc:(C,I,R)=>4294967295^r.update(4294967295,C,I,R)};function i(C,I,R,A){I[R]+=C[0]*A>>4,I[R+1]+=C[1]*A>>4,I[R+2]+=C[2]*A>>4,I[R+3]+=C[3]*A>>4}function s(C){return Math.max(0,Math.min(255,C))}function o(C,I){const R=C[0]-I[0],A=C[1]-I[1],D=C[2]-I[2],M=C[3]-I[3];return R*R+A*A+D*D+M*M}function a(C,I,R,A,D,M,F){F==null&&(F=1);const q=A.length,L=[];for(var B=0;B<q;B++){const X=A[B];L.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(B=0;B<q;B++){let X=4294967295;for(var Y=0,z=0;z<q;z++){var j=o(L[B],L[z]);z!=B&&j<X&&(X=j,Y=z)}}const U=new Uint32Array(D.buffer),V=new Int16Array(I*R*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<H.length;B++)H[B]=255*((H[B]+.5)/16-.5);for(let X=0;X<R;X++)for(let W=0;W<I;W++){var Q;B=4*(X*I+W),F!=2?Q=[s(C[B]+V[B]),s(C[B+1]+V[B+1]),s(C[B+2]+V[B+2]),s(C[B+3]+V[B+3])]:(j=H[4*(3&X)+(3&W)],Q=[s(C[B]+j),s(C[B+1]+j),s(C[B+2]+j),s(C[B+3]+j)]),Y=0;let J=16777215;for(z=0;z<q;z++){const le=o(Q,L[z]);le<J&&(J=le,Y=z)}const Z=L[Y],te=[Q[0]-Z[0],Q[1]-Z[1],Q[2]-Z[2],Q[3]-Z[3]];F==1&&(W!=I-1&&i(te,V,B+4,7),X!=R-1&&(W!=0&&i(te,V,B+4*I-4,3),i(te,V,B+4*I,5),W!=I-1&&i(te,V,B+4*I+4,1))),M[B>>2]=Y,U[B>>2]=A[Y]}}function l(C,I,R,A,D){D==null&&(D={});const{crc:M}=r,F=e.writeUint,q=e.writeUshort,L=e.writeASCII;let B=8;const Y=C.frames.length>1;let z,j=!1,U=33+(Y?20:0);if(D.sRGB!=null&&(U+=13),D.pHYs!=null&&(U+=21),D.iCCP!=null&&(z=pako.deflate(D.iCCP),U+=21+z.length+4),C.ctype==3){for(var V=C.plte.length,H=0;H<V;H++)C.plte[H]>>>24!=255&&(j=!0);U+=8+3*V+4+(j?8+1*V+4:0)}for(var Q=0;Q<C.frames.length;Q++)Y&&(U+=38),U+=(Z=C.frames[Q]).cimg.length+12,Q!=0&&(U+=4);U+=12;const X=new Uint8Array(U),W=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)X[H]=W[H];if(F(X,B,13),B+=4,L(X,B,"IHDR"),B+=4,F(X,B,I),B+=4,F(X,B,R),B+=4,X[B]=C.depth,B++,X[B]=C.ctype,B++,X[B]=0,B++,X[B]=0,B++,X[B]=0,B++,F(X,B,M(X,B-17,17)),B+=4,D.sRGB!=null&&(F(X,B,1),B+=4,L(X,B,"sRGB"),B+=4,X[B]=D.sRGB,B++,F(X,B,M(X,B-5,5)),B+=4),D.iCCP!=null){const te=13+z.length;F(X,B,te),B+=4,L(X,B,"iCCP"),B+=4,L(X,B,"ICC profile"),B+=11,B+=2,X.set(z,B),B+=z.length,F(X,B,M(X,B-(te+4),te+4)),B+=4}if(D.pHYs!=null&&(F(X,B,9),B+=4,L(X,B,"pHYs"),B+=4,F(X,B,D.pHYs[0]),B+=4,F(X,B,D.pHYs[1]),B+=4,X[B]=D.pHYs[2],B++,F(X,B,M(X,B-13,13)),B+=4),Y&&(F(X,B,8),B+=4,L(X,B,"acTL"),B+=4,F(X,B,C.frames.length),B+=4,F(X,B,D.loop!=null?D.loop:0),B+=4,F(X,B,M(X,B-12,12)),B+=4),C.ctype==3){for(F(X,B,3*(V=C.plte.length)),B+=4,L(X,B,"PLTE"),B+=4,H=0;H<V;H++){const te=3*H,le=C.plte[H],pe=255&le,ge=le>>>8&255,Ce=le>>>16&255;X[B+te+0]=pe,X[B+te+1]=ge,X[B+te+2]=Ce}if(B+=3*V,F(X,B,M(X,B-3*V-4,3*V+4)),B+=4,j){for(F(X,B,V),B+=4,L(X,B,"tRNS"),B+=4,H=0;H<V;H++)X[B+H]=C.plte[H]>>>24&255;B+=V,F(X,B,M(X,B-V-4,V+4)),B+=4}}let J=0;for(Q=0;Q<C.frames.length;Q++){var Z=C.frames[Q];Y&&(F(X,B,26),B+=4,L(X,B,"fcTL"),B+=4,F(X,B,J++),B+=4,F(X,B,Z.rect.width),B+=4,F(X,B,Z.rect.height),B+=4,F(X,B,Z.rect.x),B+=4,F(X,B,Z.rect.y),B+=4,q(X,B,A[Q]),B+=2,q(X,B,1e3),B+=2,X[B]=Z.dispose,B++,X[B]=Z.blend,B++,F(X,B,M(X,B-30,30)),B+=4);const te=Z.cimg;F(X,B,(V=te.length)+(Q==0?0:4)),B+=4;const le=B;L(X,B,Q==0?"IDAT":"fdAT"),B+=4,Q!=0&&(F(X,B,J++),B+=4),X.set(te,B),B+=V,F(X,B,M(X,le,B-le)),B+=4}return F(X,B,0),B+=4,L(X,B,"IEND"),B+=4,F(X,B,M(X,B-4,4)),B+=4,X.buffer}function h(C,I,R){for(let A=0;A<C.frames.length;A++){const D=C.frames[A];D.rect.width;const M=D.rect.height,F=new Uint8Array(M*D.bpl+M);D.cimg=m(D.img,M,D.bpp,D.bpl,F,I,R)}}function c(C,I,R,A,D){const M=D[0],F=D[1],q=D[2],L=D[3],B=D[4],Y=D[5];let z=6,j=8,U=255;for(var V=0;V<C.length;V++){const nt=new Uint8Array(C[V]);for(var H=nt.length,Q=0;Q<H;Q+=4)U&=nt[Q+3]}const X=U!=255,W=function(Xe,ce,fe,we,xe,he){const Be=[];for(var Ie=0;Ie<Xe.length;Ie++){const ct=new Uint8Array(Xe[Ie]),zt=new Uint32Array(ct.buffer);var Ye;let Jn=0,Vr=0,Dr=ce,oe=fe,ie=we?1:0;if(Ie!=0){const be=he||we||Ie==1||Be[Ie-2].dispose!=0?1:2;let ke=0,Te=1e9;for(let Oe=0;Oe<be;Oe++){var Ht=new Uint8Array(Xe[Ie-1-Oe]);const Ge=new Uint32Array(Xe[Ie-1-Oe]);let Ue=ce,ze=fe,rt=-1,Et=-1;for(let jt=0;jt<fe;jt++)for(let ln=0;ln<ce;ln++)zt[it=jt*ce+ln]!=Ge[it]&&(ln<Ue&&(Ue=ln),ln>rt&&(rt=ln),jt<ze&&(ze=jt),jt>Et&&(Et=jt));rt==-1&&(Ue=ze=rt=Et=0),xe&&((1&Ue)==1&&Ue--,(1&ze)==1&&ze--);const An=(rt-Ue+1)*(Et-ze+1);An<Te&&(Te=An,ke=Oe,Jn=Ue,Vr=ze,Dr=rt-Ue+1,oe=Et-ze+1)}Ht=new Uint8Array(Xe[Ie-1-ke]),ke==1&&(Be[Ie-1].dispose=2),Ye=new Uint8Array(Dr*oe*4),t(Ht,ce,fe,Ye,Dr,oe,-Jn,-Vr,0),ie=t(ct,ce,fe,Ye,Dr,oe,-Jn,-Vr,3)?1:0,ie==1?p(ct,ce,fe,Ye,{x:Jn,y:Vr,width:Dr,height:oe}):t(ct,ce,fe,Ye,Dr,oe,-Jn,-Vr,0)}else Ye=ct.slice(0);Be.push({rect:{x:Jn,y:Vr,width:Dr,height:oe},img:Ye,blend:ie,dispose:0})}if(we)for(Ie=0;Ie<Be.length;Ie++){if((Ur=Be[Ie]).blend==1)continue;const ct=Ur.rect,zt=Be[Ie-1].rect,Jn=Math.min(ct.x,zt.x),Vr=Math.min(ct.y,zt.y),Dr={x:Jn,y:Vr,width:Math.max(ct.x+ct.width,zt.x+zt.width)-Jn,height:Math.max(ct.y+ct.height,zt.y+zt.height)-Vr};Be[Ie-1].dispose=1,Ie-1!=0&&f(Xe,ce,fe,Be,Ie-1,Dr,xe),f(Xe,ce,fe,Be,Ie,Dr,xe)}let On=0;if(Xe.length!=1)for(var it=0;it<Be.length;it++){var Ur;On+=(Ur=Be[it]).rect.width*Ur.rect.height}return Be}(C,I,R,M,F,q),J={},Z=[],te=[];if(A!=0){const nt=[];for(Q=0;Q<W.length;Q++)nt.push(W[Q].img.buffer);const Xe=function(xe){let he=0;for(var Be=0;Be<xe.length;Be++)he+=xe[Be].byteLength;const Ie=new Uint8Array(he);let Ye=0;for(Be=0;Be<xe.length;Be++){const Ht=new Uint8Array(xe[Be]),On=Ht.length;for(let it=0;it<On;it+=4){let Ur=Ht[it],ct=Ht[it+1],zt=Ht[it+2];const Jn=Ht[it+3];Jn==0&&(Ur=ct=zt=0),Ie[Ye+it]=Ur,Ie[Ye+it+1]=ct,Ie[Ye+it+2]=zt,Ie[Ye+it+3]=Jn}Ye+=On}return Ie.buffer}(nt),ce=y(Xe,A);for(Q=0;Q<ce.plte.length;Q++)Z.push(ce.plte[Q].est.rgba);let fe=0;for(Q=0;Q<W.length;Q++){const we=(pe=W[Q]).img.length;var le=new Uint8Array(ce.inds.buffer,fe>>2,we>>2);te.push(le);const xe=new Uint8Array(ce.abuf,fe,we);Y&&a(pe.img,pe.rect.width,pe.rect.height,Z,xe,le),pe.img.set(xe),fe+=we}}else for(V=0;V<W.length;V++){var pe=W[V];const nt=new Uint32Array(pe.img.buffer);var ge=pe.rect.width;for(H=nt.length,le=new Uint8Array(H),te.push(le),Q=0;Q<H;Q++){const Xe=nt[Q];if(Q!=0&&Xe==nt[Q-1])le[Q]=le[Q-1];else if(Q>ge&&Xe==nt[Q-ge])le[Q]=le[Q-ge];else{let ce=J[Xe];if(ce==null&&(J[Xe]=ce=Z.length,Z.push(Xe),Z.length>=300))break;le[Q]=ce}}}const Ce=Z.length;for(Ce<=256&&B==0&&(j=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,j=Math.max(j,L)),V=0;V<W.length;V++){(pe=W[V]).rect.x,pe.rect.y,ge=pe.rect.width;const nt=pe.rect.height;let Xe=pe.img;new Uint32Array(Xe.buffer);let ce=4*ge,fe=4;if(Ce<=256&&B==0){ce=Math.ceil(j*ge/8);var $e=new Uint8Array(ce*nt);const we=te[V];for(let xe=0;xe<nt;xe++){Q=xe*ce;const he=xe*ge;if(j==8)for(var De=0;De<ge;De++)$e[Q+De]=we[he+De];else if(j==4)for(De=0;De<ge;De++)$e[Q+(De>>1)]|=we[he+De]<<4-4*(1&De);else if(j==2)for(De=0;De<ge;De++)$e[Q+(De>>2)]|=we[he+De]<<6-2*(3&De);else if(j==1)for(De=0;De<ge;De++)$e[Q+(De>>3)]|=we[he+De]<<7-1*(7&De)}Xe=$e,z=3,fe=1}else if(X==0&&W.length==1){$e=new Uint8Array(ge*nt*3);const we=ge*nt;for(Q=0;Q<we;Q++){const xe=3*Q,he=4*Q;$e[xe]=Xe[he],$e[xe+1]=Xe[he+1],$e[xe+2]=Xe[he+2]}Xe=$e,z=2,fe=3,ce=3*ge}pe.img=Xe,pe.bpl=ce,pe.bpp=fe}return{ctype:z,depth:j,plte:Z,frames:W}}function f(C,I,R,A,D,M,F){const q=Uint8Array,L=Uint32Array,B=new q(C[D-1]),Y=new L(C[D-1]),z=D+1<C.length?new q(C[D+1]):null,j=new q(C[D]),U=new L(j.buffer);let V=I,H=R,Q=-1,X=-1;for(let J=0;J<M.height;J++)for(let Z=0;Z<M.width;Z++){const te=M.x+Z,le=M.y+J,pe=le*I+te,ge=U[pe];ge==0||A[D-1].dispose==0&&Y[pe]==ge&&(z==null||z[4*pe+3]!=0)||(te<V&&(V=te),te>Q&&(Q=te),le<H&&(H=le),le>X&&(X=le))}Q==-1&&(V=H=Q=X=0),F&&((1&V)==1&&V--,(1&H)==1&&H--),M={x:V,y:H,width:Q-V+1,height:X-H+1};const W=A[D];W.rect=M,W.blend=1,W.img=new Uint8Array(M.width*M.height*4),A[D-1].dispose==0?(t(B,I,R,W.img,M.width,M.height,-M.x,-M.y,0),p(j,I,R,W.img,M)):t(j,I,R,W.img,M.width,M.height,-M.x,-M.y,0)}function p(C,I,R,A,D){t(C,I,R,A,D.width,D.height,-D.x,-D.y,2)}function m(C,I,R,A,D,M,F){const q=[];let L,B=[0,1,2,3,4];M!=-1?B=[M]:(I*A>5e5||R==1)&&(B=[0]),F&&(L={level:0});const Y=jse;for(var z=0;z<B.length;z++){for(let V=0;V<I;V++)g(D,C,V,A,R,B[z]);q.push(Y.deflate(D,L))}let j,U=1e9;for(z=0;z<q.length;z++)q[z].length<U&&(j=z,U=q[z].length);return q[j]}function g(C,I,R,A,D,M){const F=R*A;let q=F+R;if(C[q]=M,q++,M==0)if(A<500)for(var L=0;L<A;L++)C[q+L]=I[F+L];else C.set(new Uint8Array(I.buffer,F,A),q);else if(M==1){for(L=0;L<D;L++)C[q+L]=I[F+L];for(L=D;L<A;L++)C[q+L]=I[F+L]-I[F+L-D]+256&255}else if(R==0){for(L=0;L<D;L++)C[q+L]=I[F+L];if(M==2)for(L=D;L<A;L++)C[q+L]=I[F+L];if(M==3)for(L=D;L<A;L++)C[q+L]=I[F+L]-(I[F+L-D]>>1)+256&255;if(M==4)for(L=D;L<A;L++)C[q+L]=I[F+L]-n(I[F+L-D],0,0)+256&255}else{if(M==2)for(L=0;L<A;L++)C[q+L]=I[F+L]+256-I[F+L-A]&255;if(M==3){for(L=0;L<D;L++)C[q+L]=I[F+L]+256-(I[F+L-A]>>1)&255;for(L=D;L<A;L++)C[q+L]=I[F+L]+256-(I[F+L-A]+I[F+L-D]>>1)&255}if(M==4){for(L=0;L<D;L++)C[q+L]=I[F+L]+256-n(0,I[F+L-A],0)&255;for(L=D;L<A;L++)C[q+L]=I[F+L]+256-n(I[F+L-D],I[F+L-A],I[F+L-D-A])&255}}}function y(C,I){const R=new Uint8Array(C),A=R.slice(0),D=new Uint32Array(A.buffer),M=w(A,I),F=M[0],q=M[1],L=R.length,B=new Uint8Array(L>>2);let Y;if(R.length<2e7)for(var z=0;z<L;z+=4)Y=b(F,j=R[z]*(1/255),U=R[z+1]*(1/255),V=R[z+2]*(1/255),H=R[z+3]*(1/255)),B[z>>2]=Y.ind,D[z>>2]=Y.est.rgba;else for(z=0;z<L;z+=4){var j=R[z]*.00392156862745098,U=R[z+1]*(1/255),V=R[z+2]*(1/255),H=R[z+3]*(1/255);for(Y=F;Y.left;)Y=x(Y.est,j,U,V,H)<=0?Y.left:Y.right;B[z>>2]=Y.ind,D[z>>2]=Y.est.rgba}return{abuf:A.buffer,inds:B,plte:q}}function w(C,I,R){R==null&&(R=1e-4);const A=new Uint32Array(C.buffer),D={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=k(C,D.i0,D.i1),D.est=N(D.bst);const M=[D];for(;M.length<I;){let q=0,L=0;for(var F=0;F<M.length;F++)M[F].est.L>q&&(q=M[F].est.L,L=F);if(q<R)break;const B=M[L],Y=E(C,A,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=Y||B.i1<=Y){B.est.L=0;continue}const z={i0:B.i0,i1:Y,bst:null,est:null,tdst:0,left:null,right:null};z.bst=k(C,z.i0,z.i1),z.est=N(z.bst);const j={i0:Y,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:B.bst.N-z.bst.N},F=0;F<16;F++)j.bst.R[F]=B.bst.R[F]-z.bst.R[F];for(F=0;F<4;F++)j.bst.m[F]=B.bst.m[F]-z.bst.m[F];j.est=N(j.bst),B.left=z,B.right=j,M[L]=z,M.push(j)}for(M.sort((q,L)=>L.bst.N-q.bst.N),F=0;F<M.length;F++)M[F].ind=F;return[D,M]}function b(C,I,R,A,D){if(C.left==null)return C.tdst=function(z,j,U,V,H){const Q=j-z[0],X=U-z[1],W=V-z[2],J=H-z[3];return Q*Q+X*X+W*W+J*J}(C.est.q,I,R,A,D),C;const M=x(C.est,I,R,A,D);let F=C.left,q=C.right;M>0&&(F=C.right,q=C.left);const L=b(F,I,R,A,D);if(L.tdst<=M*M)return L;const B=b(q,I,R,A,D);return B.tdst<L.tdst?B:L}function x(C,I,R,A,D){const{e:M}=C;return M[0]*I+M[1]*R+M[2]*A+M[3]*D-C.eMq}function E(C,I,R,A,D,M){for(A-=4;R<A;){for(;S(C,R,D)<=M;)R+=4;for(;S(C,A,D)>M;)A-=4;if(R>=A)break;const F=I[R>>2];I[R>>2]=I[A>>2],I[A>>2]=F,R+=4,A-=4}for(;S(C,R,D)>M;)R-=4;return R+4}function S(C,I,R){return C[I]*R[0]+C[I+1]*R[1]+C[I+2]*R[2]+C[I+3]*R[3]}function k(C,I,R){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],M=R-I>>2;for(let F=I;F<R;F+=4){const q=C[F]*.00392156862745098,L=C[F+1]*(1/255),B=C[F+2]*(1/255),Y=C[F+3]*(1/255);D[0]+=q,D[1]+=L,D[2]+=B,D[3]+=Y,A[0]+=q*q,A[1]+=q*L,A[2]+=q*B,A[3]+=q*Y,A[5]+=L*L,A[6]+=L*B,A[7]+=L*Y,A[10]+=B*B,A[11]+=B*Y,A[15]+=Y*Y}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:D,N:M}}function N(C){const{R:I}=C,{m:R}=C,{N:A}=C,D=R[0],M=R[1],F=R[2],q=R[3],L=A==0?0:1/A,B=[I[0]-D*D*L,I[1]-D*M*L,I[2]-D*F*L,I[3]-D*q*L,I[4]-M*D*L,I[5]-M*M*L,I[6]-M*F*L,I[7]-M*q*L,I[8]-F*D*L,I[9]-F*M*L,I[10]-F*F*L,I[11]-F*q*L,I[12]-q*D*L,I[13]-q*M*L,I[14]-q*F*L,I[15]-q*q*L],Y=B,z=O;let j=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,V=0;if(A!=0)for(let Q=0;Q<16&&(j=z.multVec(Y,j),V=Math.sqrt(z.dot(j,j)),j=z.sml(1/V,j),!(Q!=0&&Math.abs(V-U)<1e-9));Q++)U=V;const H=[D*L,M*L,F*L,q*L];return{Cov:B,q:H,e:j,L:U,eMq255:z.dot(z.sml(255,H),j),eMq:z.dot(j,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var O={multVec:(C,I)=>[C[0]*I[0]+C[1]*I[1]+C[2]*I[2]+C[3]*I[3],C[4]*I[0]+C[5]*I[1]+C[6]*I[2]+C[7]*I[3],C[8]*I[0]+C[9]*I[1]+C[10]*I[2]+C[11]*I[3],C[12]*I[0]+C[13]*I[1]+C[14]*I[2]+C[15]*I[3]],dot:(C,I)=>C[0]*I[0]+C[1]*I[1]+C[2]*I[2]+C[3]*I[3],sml:(C,I)=>[C*I[0],C*I[1],C*I[2],C*I[3]]};Ui.encode=function(I,R,A,D,M,F,q){D==null&&(D=0),q==null&&(q=!1);const L=c(I,R,A,D,[!1,!1,!1,0,q,!1]);return h(L,-1),l(L,R,A,M,F)},Ui.encodeLL=function(I,R,A,D,M,F,q,L){const B={ctype:0+(D==1?0:2)+(M==0?0:4),depth:F,frames:[]},Y=(D+M)*F,z=Y*R;for(let j=0;j<I.length;j++)B.frames.push({rect:{x:0,y:0,width:R,height:A},img:new Uint8Array(I[j]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(z/8)});return h(B,0,!0),l(B,R,A,q,L)},Ui.encode.compress=c,Ui.encode.dither=a,Ui.quantize=y,Ui.quantize.getKDtree=w,Ui.quantize.getNearest=b})();const Q3={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,h=122+l,c=new ArrayBuffer(h),f=new DataView(c),p=1<<20;let m,g,y,w,b=p,x=0,E=0,S=0;function k(C){f.setUint16(E,C,!0),E+=2}function N(C){f.setUint32(E,C,!0),E+=4}function O(C){E+=C}k(19778),N(h),O(4),N(122),N(108),N(n),N(-r>>>0),k(1),k(32),N(3),N(l),N(2835),N(2835),O(8),N(16711680),N(65280),N(255),N(4278190080),N(1466527264),function C(){for(;x<r&&b>0;){for(w=122+x*a,m=0;m<i;)b--,g=o[S++],y=g>>>24,f.setUint32(w+m,g<<8|y),m+=4;x++}S<o.length?(b=p,setTimeout(C,Q3._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Qr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Fse={[Qr.CHROME]:16384,[Qr.FIREFOX]:11180,[Qr.DESKTOP_SAFARI]:16384,[Qr.IE]:8192,[Qr.IOS]:4096,[Qr.ETC]:8192};const UE=typeof window<"u",X3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Im=UE&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$se=(UE||X3)&&(Im&&Im.getOriginalSymbol(window,"File")||typeof File<"u"&&File),J3=(UE||X3)&&(Im&&Im.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function VE(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const h=new Blob([l],{type:s});h.name=e,h.lastModified=n,r(h)})}function Z3(t){return new Promise((e,n)=>{const r=new J3;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function e5(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ba(){if(Ba.cachedResult!==void 0)return Ba.cachedResult;let t=Qr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Qr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Qr.IOS:/Safari/i.test(e)?t=Qr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Qr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Qr.IE),Ba.cachedResult=t,Ba.cachedResult}function t5(t,e){const n=Ba(),r=Fse[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,h=(r+s)/2;l<h?(s=h,i=h*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function kv(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function n5(t,e){const{width:n,height:r}=t5(t.width,t.height),[i,s]=kv(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Fp(){return Fp.cachedResult!==void 0||(Fp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Fp.cachedResult}function Rm(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=n5(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var h=function(c){try{throw c}catch(f){return r(f)}};try{let c;return Z3(t).then(function(f){try{return c=f,e5(c).then(function(p){try{return i=p,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return h(m)}},h)}catch(p){return h(p)}},h)}catch(c){h(c)}}catch(c){return r(c)}};try{if(Fp()||[Qr.DESKTOP_SAFARI,Qr.MOBILE_SAFARI].includes(Ba()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Pm(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,p,m;return f=t.getContext("2d"),{data:p}=f.getImageData(0,0,t.width,t.height),m=Ui.encode([p.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var h=f;if(e==="image/bmp")return new Promise(p=>Q3.toBlob(t,p)).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p=function(){return f.call(this)};var c=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,p.call(this)}catch(g){return o(g)}}).bind(this),o);{let m;return m=t.toDataURL(e,i),VE(m,n,r).then((function(g){try{return a=g,p.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function rs(t){t.width=0,t.height=0}function au(){return new Promise(function(t,e){let n,r,i,s;return au.cachedResult!==void 0?t(au.cachedResult):VE("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Rm(n).then(function(a){try{return r=a[1],Pm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,rs(r),Rm(i).then(function(h){try{return s=h[0],au.cachedResult=s.width===1&&s.height===2,t(au.cachedResult)}catch(c){return e(c)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function r5(t){return new Promise((e,n)=>{const r=new J3;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const h=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,h);const c=s.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(s.getUint16(a+12*f,h)==274)return e(s.getUint16(a+12*f+8,h))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function i5(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=kv(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),rs(t)),o}function s5(t,e){const{width:n}=t,{height:r}=t,[i,s]=kv(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),rs(t),i}function aI(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,h,c,f,p,m,g,y,w,b,x,E,S,k,N,O,C;function I(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function R(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,I(),Rm(t,e).then((function(A){try{return[,l]=A,I(),h=i5(l,e),I(),new Promise(function(D,M){var F;if(!(F=e.exifOrientation))return r5(t).then((function(L){try{return F=L,q.call(this)}catch(B){return M(B)}}).bind(this),M);function q(){return D(F)}return q.call(this)}).then((function(D){try{return c=D,I(),au().then((function(M){try{return f=M?h:s5(h,c),I(),p=e.initialQuality||1,m=e.fileType||t.type,Pm(f,m,t.name,t.lastModified,p).then((function(F){try{{let Y=function(){if(o--&&(E>a||E>b)){let j,U;return j=C?.95*O.width:O.width,U=C?.95*O.height:O.height,[k,N]=kv(j,U),N.drawImage(O,0,0,j,U),p*=m==="image/png"?.85:.95,Pm(k,m,t.name,t.lastModified,p).then(function(V){try{return S=V,rs(O),O=k,E=S.size,R(Math.min(99,Math.floor((x-E)/(x-a)*100))),Y}catch(H){return i(H)}},i)}return[1]},z=function(){return rs(O),rs(k),rs(h),rs(f),rs(l),R(100),r(S)};var L=Y,B=z;if(g=F,I(),y=g.size>a,w=g.size>t.size,!y&&!w)return R(100),r(g);var q;return b=t.size,x=g.size,E=x,O=f,C=!e.alwaysKeepResolution&&y,(q=(function(j){for(;j;){if(j.then)return void j.then(q,i);try{if(j.pop){if(j.length)return j.pop()?z.call(this):j;j=Y}else j=j.call(this)}catch(U){return i(U)}}}).bind(this))(Y)}}catch(Y){return i(Y)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)})}const Bse=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ab;function Use(t,e){return new Promise((n,r)=>{Ab||(Ab=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(Bse));const i=new Worker(Ab);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function nr(t,e){return new Promise(function(n,r){let i,s,o,a,l,h;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof $se))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||h)return aI(t,i).then((function(m){try{return s=m,p.call(this)}catch(g){return r(g)}}).bind(this),r);var c=(function(){try{return p.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return aI(t,i).then(function(g){try{return s=g,c()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Use(t,i).then(function(m){try{return s=m,c()}catch{return f()}},f)}catch{f()}function p(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=K3(t,s))}catch{}return n(s)}})}nr.getDataUrlFromFile=Z3,nr.getFilefromDataUrl=VE,nr.loadImage=e5,nr.drawImageInCanvas=n5,nr.drawFileInCanvas=Rm,nr.canvasToFile=Pm,nr.getExifOrientation=r5,nr.handleMaxWidthOrHeight=i5,nr.followExifOrientation=s5,nr.cleanupCanvasMemory=rs,nr.isAutoOrientationInBrowser=au,nr.approximateBelowMaximumCanvasSizeOfBrowser=t5,nr.copyExifWithoutOrientation=K3,nr.getBrowserName=Ba,nr.version="2.0.2";function Vse({onImageChange:t,className:e=""}){const n=K.useRef(null);return _.jsxs(_.Fragment,{children:[_.jsx("button",{type:"button",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},className:`absolute bottom-2 right-3 flex size-11 cursor-pointer items-center justify-center rounded-full border-0 bg-purple2 max-sm:size-8 ${e}`,children:_.jsx(Qre,{fontSize:13,className:"size-4 text-white"})}),_.jsx("input",{type:"file",style:{display:"none"},accept:"image/jpg,image/png,image/jpeg",name:"profile_img",onChange:t,ref:n})]})}const o5=({isEditing:t,setNewUserImgUrl:e,imgUrl:n})=>{const[r,i]=K.useState(!0),[s,o]=K.useState(""),a=Pe(AE),l=async h=>{const{currentTarget:{files:c}}=h;if(!c||!c[0])return;const f=c[0],p=new FileReader,m={maxSizeMB:.1,useWebWorker:!0,maxWidthOrHeight:100,initialQuality:.8},g={maxSizeMB:1,useWebWorker:!0,maxWidthOrHeight:600,initialQuality:1},y=await nr(f,m),w=await nr(f,g);p.onload=b=>{const{target:{result:x}}=b;o(x)},e({compressed:y,original:f.size>1e5?w:f}),p.readAsDataURL(f),i(!1)};return _.jsxs("div",{className:"relative m-3 mx-auto flex w-fit items-center justify-center",children:[_.jsx("img",{src:r?n||a:s,alt:" ",onContextMenu:h=>h.preventDefault(),className:"size-52 min-h-52 min-w-52 rounded-full bg-white object-cover shadow-card max-sm:size-40"}),t&&_.jsx(Vse,{onImageChange:l})]})},qse=()=>{var y;const[t,e]=fn(N3),{state:n}=ur(),{absenteeList:r}=Pe(T3(Nn)),{uid:i}=Pe(Ct),s=Pe(ga),o=s==null?void 0:s.find(w=>w.id===((n==null?void 0:n.userId)||i)),{id:a,favoriteBookField:l,userRecords:h,displayName:c,photoURL:f}=o||{},p=i===a,m=p?"":c,g=r==null?void 0:r.includes(n==null?void 0:n.userId);return K.useEffect(()=>{(t==null?void 0:t.creatorId)!==a&&a&&Cr(ll,`2024-${a}`,e)},[a]),_.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${m} `,backBtn:!p,backTo:"/bookshelf",children:p&&_.jsx(br,{to:"/setting",children:_.jsx(Zre,{fontSize:18})})}),o&&_.jsxs("main",{children:[_.jsxs(Rt,{children:[_.jsx(o5,{isEditing:!1,imgUrl:(f==null?void 0:f.original)||f}),_.jsx("span",{className:"mx-auto text-lg font-medium",children:c}),_.jsx("div",{className:"mt-3 flex flex-col items-center gap-1",children:g?_.jsx(lr,{text:"  ",color:"red",shape:"square"}):_.jsx(lr,{text:"  ",color:"lightGreen",shape:"square"})})]}),_.jsx(Rt,{title:`${m}   `,children:_.jsx("ul",{className:"flex min-h-14 flex-wrap gap-2",children:l&&(l==null?void 0:l.length)!==0?l.map(({id:w,name:b})=>_.jsx(lr,{text:b,color:"lightBlue",shape:"rounded"},w)):_.jsx(rc,{size:100,className:"h-[30vh] w-full"})})}),(t==null?void 0:t.books)&&_.jsx(Rt,{title:`${m} 2024  `,children:_.jsx("ul",{className:"grid grid-cols-2 gap-4 max-sm:flex max-sm:flex-col",children:(y=t==null?void 0:t.books)==null?void 0:y.map(w=>_.jsx(Dse,{challengeBook:w,creatorId:t.creatorId,docId:`2024-${t.creatorId}`},w.title))})}),[""," "," "].map(w=>_.jsxs(Rt,{title:`${m} ${w}`,children:[_.jsx(bs,{text:"2022 6   ."}),_.jsx(Nse,{userRecords:h,postType:w})]},w))]})]})};function zse({bookWithRank:t}){const{counts:e,readers:n,title:r,thumbnail:i,authors:s,publisher:o,impressionList:a}=t;return _.jsxs(Or,{title:"  ",children:[_.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[_.jsx(an,{title:r,thumbnail:i,className:"float-left w-14"}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-0.5 line-clamp-1 w-full font-medium",children:r}),_.jsx(Os,{authors:s,publisher:o}),_.jsxs("div",{className:"mt-2 flex gap-1",children:[_.jsx(lr,{text:` ${e} `,color:"yellow",shape:"rounded",className:"!px-3 !py-1 text-sm"}),_.jsx(lr,{text:`${n} `,color:"lightBlue",shape:"rounded",className:"!px-3 !py-1 text-sm"})]})]})]}),_.jsx("h3",{className:"font-bold text-blue1",children:"  "}),_.jsx("ul",{className:"mt-2 flex flex-col gap-y-4 overflow-scroll scrollbar-hide",children:a==null?void 0:a.map(({text:l,creatorId:h,createdAt:c})=>_.jsxs("li",{className:"gap-2 border-l-4 border-gray3 pl-3",children:[_.jsxs("div",{className:"mb-2 flex justify-between",children:[_.jsx(zn,{userId:h}),_.jsx("span",{className:"text-[15px] text-gray1",children:new Date(c).toLocaleDateString()})]}),_.jsx("p",{children:l})]},l))})]})}function Hse({bookWithRank:t}){const{title:e,thumbnail:n}=t,{showModal:r}=St(),i=()=>{r({element:_.jsx(zse,{bookWithRank:t})})};return _.jsx("li",{className:"flex items-center justify-center",children:_.jsx("button",{type:"button",onClick:i,className:"relative",children:_.jsx(an,{title:e,thumbnail:n,className:"w-full"})})})}function Wse({coll:t,onChallengeBookClick:e}){const[n,r]=K.useState([]);return K.useEffect(()=>{n.length===0&&qn(t,r)},[]),_.jsx(_.Fragment,{children:n.map(({recommendedBook:i,text:s,creatorId:o})=>_.jsx("li",{children:_.jsx("button",{type:"button",className:"w-full",onClick:()=>e(i,s,o),children:_.jsx(an,{title:i.title,thumbnail:i.thumbnail})})},i.title))})}function Yse({selectedBook:t,readers:e,counts:n,reason:r,recommendedUser:i,yearMonthId:s}){const o=K.useRef(),{uid:a,displayName:l}=Pe(Ct),[h,c]=K.useState(null),{anonymous:f}=mi("register");K.useEffect(()=>{Cr(ll,`${_t}-${a}`,c)},[a]);const{hideModal:p}=St(),{sendPushNotificationToAllUser:m}=Ns(),g=async E=>{E.preventDefault();try{if(o.current.value==="")return window.alert("  .");const S=h==null?void 0:h.creatorId,k=h[y],N=dn(sn,ll,`${_t}-${a}`),O={text:o.current.value,createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:a},C={[y]:{yearMonthId:"",book:{title:y,thumbnail:w,authors:b,publisher:x},counts:1,impressionList:[{id:1,...O}]}};S?await kn(N,k?{[y]:{...k,counts:k.counts+1,impressionList:[...k.impressionList,{id:k.impressionList.length+1,...O}]}}:C):await ks(N,{creatorId:a,...C}),alert("  .  !"),m({title:`${l}  !`,body:`${l} ${y}  .    !`,subPath:"/challenge"})}catch{window.alert("    .  .")}finally{p()}},{title:y,thumbnail:w,authors:b,publisher:x}=t;return _.jsx(Or,{title:" ",children:_.jsxs("div",{className:"overflow-scroll scrollbar-hide",children:[_.jsxs("div",{className:"mb-4",children:[_.jsx(an,{title:y,thumbnail:w,className:"float-left mb-3 mr-3 w-16"}),_.jsxs("div",{children:[s&&_.jsx(lr,{color:"purple",shape:"rounded",className:"!py-2",text:`${wt(s,"yyyy M")} `}),_.jsx("h2",{className:"mb-0.5 mt-1.5 w-full font-medium",children:y}),_.jsx(Os,{authors:b,publisher:x}),i&&_.jsxs("div",{className:"mt-2 flex items-center",children:[_.jsx(zn,{userId:i,isLink:!1}),_.jsx("span",{className:"text-[15px]",children:" "})]}),r&&_.jsx("p",{className:"mt-2 border-l-4 border-gray3 pl-2 text-[15px]",children:r})]})]}),_.jsxs("div",{className:"mt-4 flex w-full flex-wrap gap-2",children:[_.jsx(lr,{text:` ${e}  `,color:"lightBlue",className:"!py-1.5"}),_.jsx(lr,{text:`  ${n} `,color:"yellow",className:"!py-1.5"})]}),_.jsxs("form",{onSubmit:g,className:"mt-5 flex flex-col gap-3",children:[_.jsx("textarea",{ref:o,placeholder:"    .",className:"min-h-32 resize-none rounded-xl border p-3 outline-none"}),_.jsx(ht,{name:"",color:"blue",type:"submit",className:"self-end",disabled:f}),f&&_.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})]})})}function Gse(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96 42.98 96 96 96 96-42.98 96-96zM233.59 241.1c-59.33-36.32-155.43-46.3-203.79-49.05C13.55 191.13 0 203.51 0 219.14v222.8c0 14.33 11.59 26.28 26.49 27.05 43.66 2.29 131.99 10.68 193.04 41.43 9.37 4.72 20.48-1.71 20.48-11.87V252.56c-.01-4.67-2.32-8.95-6.42-11.46zm248.61-49.05c-48.35 2.74-144.46 12.73-203.78 49.05-4.1 2.51-6.41 6.96-6.41 11.63v245.79c0 10.19 11.14 16.63 20.54 11.9 61.04-30.72 149.32-39.11 192.97-41.4 14.9-.78 26.49-12.73 26.49-27.06V219.14c-.01-15.63-13.56-28.01-29.81-27.09z"},child:[]}]})(t)}function Kse(t){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function Qse(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Xse(t){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Jse(t){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Zse(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Tv(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function eoe(t){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function toe(t){return ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Pf({title:t,children:e,headerChildren:n,iconClassName:r,className:i="",initialOpen:s=!1}){const[o,a]=K.useState(s),l=()=>a(h=>!h);return _.jsxs("li",{className:`h-fit rounded-xl bg-white shadow-card ${i}`,children:[_.jsxs("div",{className:"flex w-full items-center pl-4",children:[n||_.jsx("h1",{children:t}),_.jsx("button",{type:"button",onClick:l,className:"ml-auto p-4",children:o?_.jsx(Jse,{className:`size-3.5 text-blue3 ${r}`}):_.jsx(Xse,{className:`size-3.5 text-blue3 ${r}`})})]}),_.jsx("div",{className:`flex overflow-hidden px-4 transition-[max-height] duration-500 ease-in-out max-sm:flex-col ${o?"max-h-[5000px]":"max-h-0"}`,children:e})]})}function a5({userRank:t,color:e="light"}){const{creatorId:n,rank:r,rereadingBookList:i,totalRereadingCounts:s}=t;return _.jsx(Pf,{className:`!py-[1px] ${e==="dark"?"!bg-darkGray":""}`,headerChildren:_.jsxs("div",{className:"flex w-full items-center gap-x-2",children:[r===1&&_.jsx(Tv,{className:"size-5 text-yellow-300"}),s!==0&&_.jsxs("span",{className:`font-RomanticGumi text-lg font-bold ${e==="dark"?"text-white":"text-blue3"}`,children:[r,_.jsx("span",{className:`text-sm font-bold ${e==="dark"?"text-white":"text-blue3"}`,children:""})]}),_.jsx(zn,{userId:n,className:`ml-2 font-medium ${e==="dark"?"text-white":""}`}),_.jsxs("span",{className:`ml-auto mr-1 font-GiantsInline font-medium ${e==="dark"?"text-yellow-200":"text-blue3"}`,children:[i.length,""]})]}),children:_.jsxs("div",{className:"mb-4 flex items-start gap-x-3",children:[_.jsx("ul",{className:"mt-1 w-[85px]",children:[{key:"  ",value:`${s}`},{key:" ",value:`${i.length}`}].map(({key:o,value:a})=>_.jsxs("li",{className:"flex items-center justify-between pb-1",children:[_.jsx("span",{className:"min-w-14 text-sm text-blue4",children:o}),_.jsx("span",{className:"min-w-fit text-sm font-semibold text-white",children:a})]},o))}),i.length!==0&&_.jsx("div",{className:"flex flex-1 gap-x-2.5 overflow-scroll rounded-lg p-2 scrollbar-hide",children:i.map(o=>_.jsx("button",{type:"button",onClick:()=>{},children:_.jsx(an,{thumbnail:o.thumbnail,title:o.title,className:"w-12 min-w-12"})},o.title))})]})})}function l5({selectedYear:t,handleChangeYear:e,buttonClassName:n=""}){return _.jsx("ul",{className:"flex flex-wrap gap-2",children:$ne.map(r=>_.jsx("li",{children:_.jsx(ht,{color:r===t?"blue":"gray",name:`${r}`,type:"button",handleClick:()=>e(r),className:n})},r))})}function noe(){const[t,e]=K.useState(!1),{showModal:n}=St(),{bookWithRankList:r,userRankList:i}=O3(),{selectedYear:s,setSelectedYear:o,clubBookListByYear:a}=If(),l=K.useMemo(()=>(s===_t?VO.filter(f=>+f<=+Ws):VO).map(f=>Zr(`${s}-${f}`,h3)),[s]),h=(c,f,p)=>{const m=r.find(({title:g})=>g===c.title);n({element:_.jsx(Yse,{selectedBook:m||c,readers:(m==null?void 0:m.readers)||0,counts:(m==null?void 0:m.counts)||0,reason:f,recommendedUser:p,yearMonthId:c.yearMonthId})})};return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${_t}  `,backBtn:!0,backTo:"/"}),_.jsxs("main",{children:[_.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-y-3 rounded-xl bg-white p-4 shadow-card",children:[_.jsx("h4",{className:"font-GiantsInline font-semibold leading-6 text-blue2",children:"2025: Challenge"}),_.jsx("span",{className:"font-RomanticGumi font-bold text-blue1",children:"   "})]}),_.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-white p-4 shadow-card",children:[_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/dday.png",alt:"dday",className:"aspect-auto h-7 w-fit"}),_.jsxs("div",{className:"mt-1 flex flex-col items-center",children:[_.jsxs("span",{className:"font-RomanticGumi text-[28px] text-blue2",children:[+Lu(`${_t}-12-21`)>0?"+":"",Lu(`${_t}-12-21`)]}),_.jsx("span",{className:"font-RomanticGumi text-sm tracking-tighter text-gray2",children:wt(`${_t}-12-21`,"yy.M.d")})]})]})]}),r&&(r==null?void 0:r.length)>0&&_.jsx(Rt,{className:"!mb-10 !mt-16 flex",title:"      ?",children:_.jsx("ul",{className:"mt-2 grid grid-cols-8 gap-4 max-md:grid-cols-6 max-sm:grid-cols-4",children:r.map(c=>_.jsx(Hse,{bookWithRank:c},c.title))})}),_.jsx(Rt,{className:"!mt-10",title:"   ",children:(i==null?void 0:i.length)!==0&&_.jsxs(_.Fragment,{children:[_.jsx("ul",{className:"flex flex-col gap-y-3",children:i==null?void 0:i.slice(0,t?void 0:4).map(c=>_.jsx(a5,{userRank:c},c.creatorId))}),_.jsx("button",{type:"button",className:"mt-7 flex items-center self-center rounded-full bg-gray4 px-6 py-2 text-sm text-blue3",onClick:()=>e(c=>!c),children:t?"":""})]})}),_.jsxs(Rt,{title:" ",children:[_.jsx("p",{className:"mb-4 text-sm text-gray1",children:"        !      ?!"}),_.jsx(l5,{selectedYear:s,handleChangeYear:o,buttonClassName:"shadow-none"}),_.jsxs("ul",{className:"mt-5 grid grid-cols-10 gap-4 max-md:grid-cols-8 max-sm:grid-cols-4 max-sm:gap-4",children:[a.map(c=>_.jsx("li",{children:_.jsx("button",{type:"button",className:"w-full",onClick:()=>h(c),children:_.jsx(an,{title:c.title,thumbnail:c.thumbnail})})},c.title)),l.map(c=>_.jsx(Wse,{coll:c,onChallengeBookClick:h},c))]})]})]})]})}function lI({title:t,memberList:e}){return _.jsxs("div",{className:"rounded-card bg-white shadow-card",children:[_.jsxs("h3",{className:`rounded-t-card border-b-2 border-dotted px-4 pb-3 pt-4 text-[15px] font-medium ${t.includes("")?"border-green3 text-green1":"border-red-100 text-pointCoral"}`,children:[t.includes("")?"":""," ",t]}),e.length!==0?_.jsx("ul",{className:"mt-4 flex flex-wrap items-center gap-x-4 gap-y-3 px-4 pb-4",children:e.map(n=>_.jsx("li",{children:_.jsx(zn,{userId:n,isLink:!0})},n))}):_.jsx("span",{className:"mt-4 block px-4 pb-4 text-gray2",children:"  !"})]})}function u5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function or(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u5(t))&&(r&&(r+=" "),r+=e);return r}function Me(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ut(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function zi(t,e){const n=Me(t);return isNaN(e)?Ut(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ki(t,e){const n=Me(t);if(isNaN(e))return Ut(t,NaN);if(!e)return n;const r=n.getDate(),i=Ut(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function qE(t,e){const n=+Me(t);return Ut(t,n+e)}const c5=6048e5,roe=864e5,Cv=6e4,Nv=36e5,ioe=1e3;function soe(t,e){return qE(t,e*Nv)}let ooe={};function Tl(){return ooe}function oo(t,e){var a,l,h,c;const n=Tl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,i=Me(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ju(t){return oo(t,{weekStartsOn:1})}function d5(t){const e=Me(t),n=e.getFullYear(),r=Ut(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ju(r),s=Ut(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=ju(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cl(t){const e=Me(t);return e.setHours(0,0,0,0),e}function Mm(t){const e=Me(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Fu(t,e){const n=cl(t),r=cl(e),i=+n-Mm(n),s=+r-Mm(r);return Math.round((i-s)/roe)}function aoe(t){const e=d5(t),n=Ut(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ju(n)}function s_(t,e){return qE(t,e*Cv)}function zE(t,e){const n=e*3;return Ki(t,n)}function loe(t,e){return qE(t,e*1e3)}function Lm(t,e){const n=e*7;return zi(t,n)}function Ks(t,e){return Ki(t,e*12)}function uI(t){let e;return t.forEach(function(n){const r=Me(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function cI(t){let e;return t.forEach(n=>{const r=Me(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function uoe(t,e){const n=cl(t),r=cl(e);return+n==+r}function Qs(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jm(t){if(!Qs(t)&&typeof t!="number")return!1;const e=Me(t);return!isNaN(Number(e))}function Fm(t,e){const n=Me(t),r=Me(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Wa(t){const e=Me(t);return Math.trunc(e.getMonth()/3)+1}function $m(t,e){const n=Me(t),r=Me(e),i=n.getFullYear()-r.getFullYear(),s=Wa(n)-Wa(r);return i*4+s}function Bm(t,e){const n=Me(t),r=Me(e);return n.getFullYear()-r.getFullYear()}function coe(t,e){const n=Me(t),r=Me(e),i=dI(n,r),s=Math.abs(Fu(n,r));n.setDate(n.getDate()-i*s);const o=+(dI(n,r)===-i),a=i*(s-o);return a===0?0:a}function dI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function f5(t){const e=Me(t);return e.setHours(23,59,59,999),e}function h5(t){const e=Me(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function o_(t){const e=Me(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function p5(t){const e=Me(t);return e.setDate(1),e.setHours(0,0,0,0),e}function m5(t){const e=Me(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Ov(t){const e=Me(t),n=Ut(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function doe(t,e){var a,l;const n=Tl(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=Me(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const foe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hoe=(t,e,n)=>{let r;const i=foe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Db(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const poe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},moe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},goe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},voe={date:Db({formats:poe,defaultWidth:"full"}),time:Db({formats:moe,defaultWidth:"full"}),dateTime:Db({formats:goe,defaultWidth:"full"})},yoe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},woe=(t,e,n,r)=>yoe[t];function Gc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const boe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_oe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Soe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},koe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Toe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Coe={ordinalNumber:Toe,era:Gc({values:boe,defaultWidth:"wide"}),quarter:Gc({values:xoe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gc({values:_oe,defaultWidth:"wide"}),day:Gc({values:Soe,defaultWidth:"wide"}),dayPeriod:Gc({values:Eoe,defaultWidth:"wide",formattingValues:koe,defaultFormattingWidth:"wide"})};function Kc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Ooe(a,f=>f.test(o)):Noe(a,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(l):l,h=n.valueCallback?n.valueCallback(h):h;const c=e.slice(o.length);return{value:h,rest:c}}}function Noe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ooe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Aoe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Doe=/^(\d+)(th|st|nd|rd)?/i,Ioe=/\d+/i,Roe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Poe={any:[/^b/i,/^(a|c)/i]},Moe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Loe={any:[/1/i,/2/i,/3/i,/4/i]},joe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Foe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$oe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Boe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Voe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qoe={ordinalNumber:Aoe({matchPattern:Doe,parsePattern:Ioe,valueCallback:t=>parseInt(t,10)}),era:Kc({matchPatterns:Roe,defaultMatchWidth:"wide",parsePatterns:Poe,defaultParseWidth:"any"}),quarter:Kc({matchPatterns:Moe,defaultMatchWidth:"wide",parsePatterns:Loe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kc({matchPatterns:joe,defaultMatchWidth:"wide",parsePatterns:Foe,defaultParseWidth:"any"}),day:Kc({matchPatterns:$oe,defaultMatchWidth:"wide",parsePatterns:Boe,defaultParseWidth:"any"}),dayPeriod:Kc({matchPatterns:Uoe,defaultMatchWidth:"any",parsePatterns:Voe,defaultParseWidth:"any"})},g5={code:"en-US",formatDistance:hoe,formatLong:voe,formatRelative:woe,localize:Coe,match:qoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zoe(t){const e=Me(t);return Fu(e,Ov(e))+1}function HE(t){const e=Me(t),n=+ju(e)-+aoe(e);return Math.round(n/c5)+1}function WE(t,e){var c,f,p,m;const n=Me(t),r=n.getFullYear(),i=Tl(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ut(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=oo(o,e),l=Ut(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const h=oo(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function Hoe(t,e){var a,l,h,c;const n=Tl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(h=n.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,i=WE(t,e),s=Ut(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),oo(s,e)}function v5(t,e){const n=Me(t),r=+oo(n,e)-+Hoe(n,e);return Math.round(r/c5)+1}function Bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Po={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Bt(n+1,2)},d(t,e){return Bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Bt(t.getHours()%12||12,e.length)},H(t,e){return Bt(t.getHours(),e.length)},m(t,e){return Bt(t.getMinutes(),e.length)},s(t,e){return Bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Bt(i,e.length)}},Zl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Po.y(t,e)},Y:function(t,e,n,r){const i=WE(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Bt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Bt(s,e.length)},R:function(t,e){const n=d5(t);return Bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Po.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=v5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Bt(i,e.length)},I:function(t,e,n){const r=HE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Po.d(t,e)},D:function(t,e,n){const r=zoe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Zl.noon:r===0?i=Zl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Zl.evening:r>=12?i=Zl.afternoon:r>=4?i=Zl.morning:i=Zl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Po.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Po.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Po.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Po.s(t,e)},S:function(t,e){return Po.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return pI(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return pI(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hI(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hI(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Bt(r,e.length)}};function hI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Bt(s,2)}function pI(t,e){return t%60===0?(t>0?"-":"+")+Bt(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Bt(Math.trunc(r/60),2),s=Bt(r%60,2);return n+i+e+s}const mI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Woe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return mI(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",mI(r,e)).replace("{{time}}",y5(i,e))},Um={p:y5,P:Woe},Yoe=/^D+$/,Goe=/^Y+$/,Koe=["D","DD","YY","YYYY"];function w5(t){return Yoe.test(t)}function b5(t){return Goe.test(t)}function a_(t,e,n){const r=Qoe(t,e,n);if(console.warn(r),Koe.includes(t))throw new RangeError(r)}function Qoe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Joe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zoe=/^'([^]*?)'?$/,eae=/''/g,tae=/[a-zA-Z]/;function gI(t,e,n){var c,f,p,m,g,y,w,b;const r=Tl(),i=(n==null?void 0:n.locale)??r.locale??g5,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Me(t);if(!jm(a))throw new RangeError("Invalid time value");let l=e.match(Joe).map(x=>{const E=x[0];if(E==="p"||E==="P"){const S=Um[E];return S(x,i.formatLong)}return x}).join("").match(Xoe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:nae(x)};if(fI[E])return{isToken:!0,value:x};if(E.match(tae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const E=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&b5(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&w5(E))&&a_(E,e,String(t));const S=fI[E[0]];return S(a,E,i.localize,h)}).join("")}function nae(t){const e=t.match(Zoe);return e?e[1].replace(eae,"'"):t}function vI(t){return Me(t).getDate()}function rae(t){return Me(t).getDay()}function iae(t){const e=Me(t),n=e.getFullYear(),r=e.getMonth(),i=Ut(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function sae(){return Object.assign({},Tl())}function xs(t){return Me(t).getHours()}function oae(t){let n=Me(t).getDay();return n===0&&(n=7),n}function _s(t){return Me(t).getMinutes()}function jr(t){return Me(t).getMonth()}function Xs(t){return Me(t).getSeconds()}function l_(t){return Me(t).getTime()}function gt(t){return Me(t).getFullYear()}function ra(t,e){const n=Me(t),r=Me(e);return n.getTime()>r.getTime()}function dl(t,e){const n=Me(t),r=Me(e);return+n<+r}function aae(t,e){const n=Me(t),r=Me(e);return+n==+r}function lae(t,e){const n=e instanceof Date?Ut(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const uae=10;class x5{constructor(){Le(this,"subPriority",0)}validate(e,n){return!0}}class cae extends x5{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class dae extends x5{constructor(){super(...arguments);Le(this,"priority",uae);Le(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ut(n,lae(n,Date))}}class Mt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new cae(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class fae extends Mt{constructor(){super(...arguments);Le(this,"priority",140);Le(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},cs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cn(t,e){return t&&{value:e(t.value),rest:t.rest}}function mn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ds(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Nv+s*Cv+o*ioe),rest:e.slice(n[0].length)}}function _5(t){return mn(Tn.anyDigitsSigned,t)}function xn(t,e){switch(t){case 1:return mn(Tn.singleDigit,e);case 2:return mn(Tn.twoDigits,e);case 3:return mn(Tn.threeDigits,e);case 4:return mn(Tn.fourDigits,e);default:return mn(new RegExp("^\\d{1,"+t+"}"),e)}}function Vm(t,e){switch(t){case 1:return mn(Tn.singleDigitSigned,e);case 2:return mn(Tn.twoDigitsSigned,e);case 3:return mn(Tn.threeDigitsSigned,e);case 4:return mn(Tn.fourDigitsSigned,e);default:return mn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function YE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function S5(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function E5(t){return t%400===0||t%4===0&&t%100!==0}class hae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Cn(xn(4,n),s);case"yo":return Cn(i.ordinalNumber(n,{unit:"year"}),s);default:return Cn(xn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=S5(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class pae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Cn(xn(4,n),s);case"Yo":return Cn(i.ordinalNumber(n,{unit:"year"}),s);default:return Cn(xn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=WE(n,s);if(i.isTwoDigitYear){const l=S5(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),oo(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),oo(n,s)}}class mae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Vm(r==="R"?4:r.length,n)}set(n,r,i){const s=Ut(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),ju(s)}}class gae extends Mt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Vm(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class vae extends Mt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return xn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class yae extends Mt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return xn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class wae extends Mt{constructor(){super(...arguments);Le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Le(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Cn(mn(Tn.month,n),s);case"MM":return Cn(xn(2,n),s);case"Mo":return Cn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class bae extends Mt{constructor(){super(...arguments);Le(this,"priority",110);Le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Cn(mn(Tn.month,n),s);case"LL":return Cn(xn(2,n),s);case"Lo":return Cn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function xae(t,e,n){const r=Me(t),i=v5(r,n)-e;return r.setDate(r.getDate()-i*7),r}class _ae extends Mt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return mn(Tn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return xn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return oo(xae(n,i,s),s)}}function Sae(t,e){const n=Me(t),r=HE(n)-e;return n.setDate(n.getDate()-r*7),n}class Eae extends Mt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return mn(Tn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return xn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return ju(Sae(n,i))}}const kae=[31,28,31,30,31,30,31,31,30,31,30,31],Tae=[31,29,31,30,31,30,31,31,30,31,30,31];class Cae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subPriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return mn(Tn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return xn(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=E5(i),o=n.getMonth();return s?r>=1&&r<=Tae[o]:r>=1&&r<=kae[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Nae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subpriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return mn(Tn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return xn(r.length,n)}}validate(n,r){const i=n.getFullYear();return E5(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function GE(t,e,n){var f,p,m,g;const r=Tl(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=Me(t),o=s.getDay(),l=(e%7+7)%7,h=7-i,c=e<0||e>6?e-(o+h)%7:(l+h)%7-(o+h)%7;return zi(s,c)}class Oae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=GE(n,i,s),n.setHours(0,0,0,0),n}}class Aae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Cn(xn(r.length,n),o);case"eo":return Cn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=GE(n,i,s),n.setHours(0,0,0,0),n}}class Dae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Cn(xn(r.length,n),o);case"co":return Cn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=GE(n,i,s),n.setHours(0,0,0,0),n}}function Iae(t,e){const n=Me(t),r=oae(n),i=e-r;return zi(n,i)}class Rae extends Mt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return xn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Cn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Cn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Cn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Cn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Iae(n,i),n.setHours(0,0,0,0),n}}class Pae extends Mt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(YE(i),0,0,0),n}}class Mae extends Mt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(YE(i),0,0,0),n}}class Lae extends Mt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(YE(i),0,0,0),n}}class jae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return mn(Tn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return xn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Fae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return mn(Tn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return xn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class $ae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return mn(Tn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return xn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Bae extends Mt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return mn(Tn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return xn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class Uae extends Mt{constructor(){super(...arguments);Le(this,"priority",60);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return mn(Tn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return xn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Vae extends Mt{constructor(){super(...arguments);Le(this,"priority",50);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return mn(Tn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return xn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class qae extends Mt{constructor(){super(...arguments);Le(this,"priority",30);Le(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Cn(xn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class zae extends Mt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ds(cs.basicOptionalMinutes,n);case"XX":return ds(cs.basic,n);case"XXXX":return ds(cs.basicOptionalSeconds,n);case"XXXXX":return ds(cs.extendedOptionalSeconds,n);case"XXX":default:return ds(cs.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ut(n,n.getTime()-Mm(n)-i)}}class Hae extends Mt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ds(cs.basicOptionalMinutes,n);case"xx":return ds(cs.basic,n);case"xxxx":return ds(cs.basicOptionalSeconds,n);case"xxxxx":return ds(cs.extendedOptionalSeconds,n);case"xxx":default:return ds(cs.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ut(n,n.getTime()-Mm(n)-i)}}class Wae extends Mt{constructor(){super(...arguments);Le(this,"priority",40);Le(this,"incompatibleTokens","*")}parse(n){return _5(n)}set(n,r,i){return[Ut(n,i*1e3),{timestampIsSet:!0}]}}class Yae extends Mt{constructor(){super(...arguments);Le(this,"priority",20);Le(this,"incompatibleTokens","*")}parse(n){return _5(n)}set(n,r,i){return[Ut(n,i),{timestampIsSet:!0}]}}const Gae={G:new fae,y:new hae,Y:new pae,R:new mae,u:new gae,Q:new vae,q:new yae,M:new wae,L:new bae,w:new _ae,I:new Eae,d:new Cae,D:new Nae,E:new Oae,e:new Aae,c:new Dae,i:new Rae,a:new Pae,b:new Mae,B:new Lae,h:new jae,H:new Fae,K:new $ae,k:new Bae,m:new Uae,s:new Vae,S:new qae,X:new zae,x:new Hae,t:new Wae,T:new Yae},Kae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xae=/^'([^]*?)'?$/,Jae=/''/g,Zae=/\S/,ele=/[a-zA-Z]/;function Ib(t,e,n,r){var y,w,b,x,E,S,k,N;const i=sae(),s=(r==null?void 0:r.locale)??i.locale??g5,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((S=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((N=(k=i.locale)==null?void 0:k.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?Me(n):Ut(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},h=[new dae],c=e.match(Qae).map(O=>{const C=O[0];if(C in Um){const I=Um[C];return I(O,s.formatLong)}return O}).join("").match(Kae),f=[];for(let O of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&b5(O)&&a_(O,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&w5(O)&&a_(O,e,t);const C=O[0],I=Gae[C];if(I){const{incompatibleTokens:R}=I;if(Array.isArray(R)){const D=f.find(M=>R.includes(M.token)||M.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${O}\` at the same time`)}else if(I.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);f.push({token:C,fullToken:O});const A=I.run(t,O,s.match,l);if(!A)return Ut(n,NaN);h.push(A.setter),t=A.rest}else{if(C.match(ele))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(O==="''"?O="'":C==="'"&&(O=tle(O)),t.indexOf(O)===0)t=t.slice(O.length);else return Ut(n,NaN)}}if(t.length>0&&Zae.test(t))return Ut(n,NaN);const p=h.map(O=>O.priority).sort((O,C)=>C-O).filter((O,C,I)=>I.indexOf(O)===C).map(O=>h.filter(C=>C.priority===O).sort((C,I)=>I.subPriority-C.subPriority)).map(O=>O[0]);let m=Me(n);if(isNaN(m.getTime()))return Ut(n,NaN);const g={};for(const O of p){if(!O.validate(m,l))return Ut(n,NaN);const C=O.set(m,g,l);Array.isArray(C)?(m=C[0],Object.assign(g,C[1])):m=C}return Ut(n,m)}function tle(t){return t.match(Xae)[1].replace(Jae,"'")}function nle(t,e){const n=Me(t),r=Me(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function rle(t,e){const n=o_(t),r=o_(e);return+n==+r}function ile(t,e){const n=Me(t),r=Me(e);return n.getFullYear()===r.getFullYear()}function Yd(t,e){const n=+Me(t),[r,i]=[+Me(e.start),+Me(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function sle(t,e){return zi(t,-1)}function ole(t,e){const r=cle(t);let i;if(r.date){const l=dle(r.date,2);i=fle(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=hle(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=ple(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),h=new Date(0);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return new Date(s+o+a)}const mp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ale=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ule=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cle(t){const e={},n=t.split(mp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],mp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(mp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=mp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function dle(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function fle(t,e){if(e===null)return new Date(NaN);const n=t.match(ale);if(!n)return new Date(NaN);const r=!!n[4],i=Qc(n[1]),s=Qc(n[2])-1,o=Qc(n[3]),a=Qc(n[4]),l=Qc(n[5])-1;if(r)return wle(e,a,l)?mle(e,a,l):new Date(NaN);{const h=new Date(0);return!vle(e,s,o)||!yle(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,o)),h)}}function Qc(t){return t?parseInt(t):1}function hle(t){const e=t.match(lle);if(!e)return NaN;const n=Rb(e[1]),r=Rb(e[2]),i=Rb(e[3]);return ble(n,r,i)?n*Nv+r*Cv+i*1e3:NaN}function Rb(t){return t&&parseFloat(t.replace(",","."))||0}function ple(t){if(t==="Z")return 0;const e=t.match(ule);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return xle(r,i)?n*(r*Nv+i*Cv):NaN}function mle(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const gle=[31,null,31,30,31,30,31,31,30,31,30,31];function k5(t){return t%400===0||t%4===0&&t%100!==0}function vle(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(gle[e]||(k5(t)?29:28))}function yle(t,e){return e>=1&&e<=(k5(t)?366:365)}function wle(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ble(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function xle(t,e){return e>=0&&e<=59}function oi(t,e){const n=Me(t),r=n.getFullYear(),i=n.getDate(),s=Ut(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=iae(s);return n.setMonth(e,Math.min(i,o)),n}function _le(t,e){let n=Me(t);return isNaN(+n)?Ut(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=oi(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function $p(t,e){const n=Me(t);return n.setHours(e),n}function Bp(t,e){const n=Me(t);return n.setMinutes(e),n}function ru(t,e){const n=Me(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return oi(n,n.getMonth()+i*3)}function Up(t,e){const n=Me(t);return n.setSeconds(e),n}function ns(t,e){const n=Me(t);return isNaN(+n)?Ut(t,NaN):(n.setFullYear(e),n)}function Ya(t,e){return Ki(t,-e)}function T5(t,e){return zE(t,-1)}function yI(t,e){return Lm(t,-1)}function $u(t,e){return Ks(t,-e)}function Av(){return typeof window<"u"}function ia(t){return C5(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function co(t){var e;return(e=(C5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function C5(t){return Av()?t instanceof Node||t instanceof ci(t).Node:!1}function Jr(t){return Av()?t instanceof Element||t instanceof ci(t).Element:!1}function Cs(t){return Av()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function wI(t){return!Av()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}function Mf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Sle(t){return["table","td","th"].includes(ia(t))}function Ele(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function KE(t){const e=QE(),n=Jr(t)?pi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function N5(t){let e=Bu(t);for(;Cs(e)&&!Dv(e);){if(KE(e))return e;if(Ele(e))return null;e=Bu(e)}return null}function QE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dv(t){return["html","body","#document"].includes(ia(t))}function pi(t){return ci(t).getComputedStyle(t)}function Iv(t){return Jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bu(t){if(ia(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wI(t)&&t.host||co(t);return wI(e)?e.host:e}function O5(t){const e=Bu(t);return Dv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cs(e)&&Mf(e)?e:O5(e)}function Gd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=O5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ci(i);if(s){const a=kle(o);return e.concat(o,o.visualViewport||[],Mf(i)?i:[],a&&n?Gd(a):[])}return e.concat(i,Gd(i,[],n))}function kle(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Uu=Math.min,Ga=Math.max,qm=Math.round,gp=Math.floor,sa=t=>({x:t,y:t}),Tle={left:"right",right:"left",bottom:"top",top:"bottom"},Cle={start:"end",end:"start"};function Nle(t,e,n){return Ga(t,Uu(e,n))}function Rv(t,e){return typeof t=="function"?t(e):t}function Vu(t){return t.split("-")[0]}function Lf(t){return t.split("-")[1]}function Ole(t){return t==="x"?"y":"x"}function XE(t){return t==="y"?"height":"width"}function JE(t){return["top","bottom"].includes(Vu(t))?"y":"x"}function ZE(t){return Ole(JE(t))}function Ale(t,e,n){n===void 0&&(n=!1);const r=Lf(t),i=ZE(t),s=XE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zm(o)),[o,zm(o)]}function Dle(t){const e=zm(t);return[u_(t),e,u_(e)]}function u_(t){return t.replace(/start|end/g,e=>Cle[e])}function Ile(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Rle(t,e,n,r){const i=Lf(t);let s=Ile(Vu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(u_)))),s}function zm(t){return t.replace(/left|right|bottom|top/g,e=>Tle[e])}function Ple(t){return{top:0,right:0,bottom:0,left:0,...t}}function A5(t){return typeof t!="number"?Ple(t):{top:t,right:t,bottom:t,left:t}}function Hm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bI(t,e,n){let{reference:r,floating:i}=t;const s=JE(e),o=ZE(e),a=XE(o),l=Vu(e),h=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-i.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Lf(e)){case"start":m[o]-=p*(n&&h?-1:1);break;case"end":m[o]+=p*(n&&h?-1:1);break}return m}const Mle=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=bI(h,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x,y:E,data:S,reset:k}=await b({x:c,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:h,platform:o,elements:{reference:t,floating:e}});c=x??c,f=E??f,m={...m,[w]:{...m[w],...S}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(h=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:c,y:f}=bI(h,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:i,middlewareData:m}};async function Lle(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Rv(e,t),g=A5(m),w=a[p?f==="floating"?"reference":"floating":f],b=Hm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),x=f==="floating"?{...o.floating,x:r,y:i}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Hm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:E,strategy:l}):x);return{top:(b.top-k.top+g.top)/S.y,bottom:(k.bottom-b.bottom+g.bottom)/S.y,left:(b.left-k.left+g.left)/S.x,right:(k.right-b.right+g.right)/S.x}}const jle=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:h,padding:c=0}=Rv(t,e)||{};if(h==null)return{};const f=A5(c),p={x:n,y:r},m=ZE(i),g=XE(m),y=await o.getDimensions(h),w=m==="y",b=w?"top":"left",x=w?"bottom":"right",E=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[m]-p[m]-s.floating[g],k=p[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let O=N?N[E]:0;(!O||!await(o.isElement==null?void 0:o.isElement(N)))&&(O=a.floating[E]||s.floating[g]);const C=S/2-k/2,I=O/2-y[g]/2-1,R=Uu(f[b],I),A=Uu(f[x],I),D=R,M=O-y[g]-A,F=O/2-y[g]/2+C,q=Nle(D,F,M),L=!l.arrow&&Lf(i)!=null&&F!==q&&s.reference[g]/2-(F<D?R:A)-y[g]/2<0,B=L?F<D?F-D:F-M:0;return{[m]:p[m]+B,data:{[m]:q,centerOffset:F-q-B,...L&&{alignmentOffset:B}},reset:L}}}),Fle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=Rv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Vu(i),x=Vu(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(h.floating)),S=p||(x||!y?[zm(a)]:Dle(a));!p&&g!=="none"&&S.push(...Rle(a,y,g,E));const k=[a,...S],N=await Lle(e,w),O=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&O.push(N[b]),f){const D=Ale(i,o,E);O.push(N[D[0]],N[D[1]])}if(C=[...C,{placement:i,overflows:O}],!O.every(D=>D<=0)){var I,R;const D=(((I=s.flip)==null?void 0:I.index)||0)+1,M=k[D];if(M)return{data:{index:D,overflows:C},reset:{placement:M}};let F=(R=C.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(m){case"bestFit":{var A;const q=(A=C.map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:A[0];q&&(F=q);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function $le(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Vu(n),a=Lf(n),l=JE(n)==="y",h=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=Rv(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*c,y:p*h}:{x:p*h,y:m*c}}const Ble=function(t){return{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await $le(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function D5(t){const e=pi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Cs(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=qm(n)!==s||qm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ek(t){return Jr(t)?t:t.contextElement}function yu(t){const e=ek(t);if(!Cs(e))return sa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=D5(e);let o=(s?qm(n.width):n.width)/r,a=(s?qm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ule=sa(0);function I5(t){const e=ci(t);return!QE()||!e.visualViewport?Ule:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Vle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ci(t)?!1:e}function fl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ek(t);let o=sa(1);e&&(r?Jr(r)&&(o=yu(r)):o=yu(t));const a=Vle(s,n,r)?I5(s):sa(0);let l=(i.left+a.x)/o.x,h=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const p=ci(s),m=r&&Jr(r)?ci(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=yu(g),w=g.getBoundingClientRect(),b=pi(g),x=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,h*=y.y,c*=y.x,f*=y.y,l+=x,h+=E,g=ci(g).frameElement}}return Hm({width:c,height:f,x:l,y:h})}const qle=[":popover-open",":modal"];function R5(t){let e=!1,n=0,r=0;function i(s){try{e=e||t.matches(s)}catch{}}if(qle.forEach(s=>{i(s)}),e){const s=N5(t);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[e,n,r]}function zle(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=co(r),[o]=e?R5(e.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=sa(1);const h=sa(0),c=Cs(r);if((c||!c&&i!=="fixed")&&((ia(r)!=="body"||Mf(s))&&(a=Iv(r)),Cs(r))){const f=fl(r);l=yu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+h.x,y:n.y*l.y-a.scrollTop*l.y+h.y}}function Hle(t){return Array.from(t.getClientRects())}function P5(t){return fl(co(t)).left+Iv(t).scrollLeft}function Wle(t){const e=co(t),n=Iv(t),r=t.ownerDocument.body,i=Ga(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ga(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+P5(t);const a=-n.scrollTop;return pi(r).direction==="rtl"&&(o+=Ga(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Yle(t,e){const n=ci(t),r=co(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const h=QE();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Gle(t,e){const n=fl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Cs(t)?yu(t):sa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,h=r*s.y;return{width:o,height:a,x:l,y:h}}function xI(t,e,n){let r;if(e==="viewport")r=Yle(t,n);else if(e==="document")r=Wle(co(t));else if(Jr(e))r=Gle(e,n);else{const i=I5(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Hm(r)}function M5(t,e){const n=Bu(t);return n===e||!Jr(n)||Dv(n)?!1:pi(n).position==="fixed"||M5(n,e)}function Kle(t,e){const n=e.get(t);if(n)return n;let r=Gd(t,[],!1).filter(a=>Jr(a)&&ia(a)!=="body"),i=null;const s=pi(t).position==="fixed";let o=s?Bu(t):t;for(;Jr(o)&&!Dv(o);){const a=pi(o),l=KE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mf(o)&&!l&&M5(t,o))?r=r.filter(c=>c!==o):i=a,o=Bu(o)}return e.set(t,r),r}function Qle(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Kle(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((h,c)=>{const f=xI(e,c,i);return h.top=Ga(f.top,h.top),h.right=Uu(f.right,h.right),h.bottom=Uu(f.bottom,h.bottom),h.left=Ga(f.left,h.left),h},xI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xle(t){const{width:e,height:n}=D5(t);return{width:e,height:n}}function Jle(t,e,n,r){const i=Cs(e),s=co(e),o=n==="fixed",a=fl(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const h=sa(0);if(i||!i&&!o)if((ia(e)!=="body"||Mf(s))&&(l=Iv(e)),i){const y=fl(e,!0,o,e);h.x=y.x+e.clientLeft,h.y=y.y+e.clientTop}else s&&(h.x=P5(s));let c=a.left+l.scrollLeft-h.x,f=a.top+l.scrollTop-h.y;const[p,m,g]=R5(r);return p&&(c+=m,f+=g,i&&(c+=e.clientLeft,f+=e.clientTop)),{x:c,y:f,width:a.width,height:a.height}}function _I(t,e){return!Cs(t)||pi(t).position==="fixed"?null:e?e(t):t.offsetParent}function L5(t,e){const n=ci(t);if(!Cs(t))return n;let r=_I(t,e);for(;r&&Sle(r)&&pi(r).position==="static";)r=_I(r,e);return r&&(ia(r)==="html"||ia(r)==="body"&&pi(r).position==="static"&&!KE(r))?n:r||N5(t)||n}const Zle=async function(t){const e=this.getOffsetParent||L5,n=this.getDimensions;return{reference:Jle(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function eue(t){return pi(t).direction==="rtl"}const tue={convertOffsetParentRelativeRectToViewportRelativeRect:zle,getDocumentElement:co,getClippingRect:Qle,getOffsetParent:L5,getElementRects:Zle,getClientRects:Hle,getDimensions:Xle,getScale:yu,isElement:Jr,isRTL:eue};function nue(t,e){let n=null,r;const i=co(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:h,top:c,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=gp(c),g=gp(i.clientWidth-(h+f)),y=gp(i.clientHeight-(c+p)),w=gp(h),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ga(0,Uu(1,l))||1};let E=!0;function S(k){const N=k[0].intersectionRatio;if(N!==l){if(!E)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),s}function j5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=ek(t),c=i||s?[...h?Gd(h):[],...Gd(e)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=h&&a?nue(h,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===h&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),h&&!l&&m.observe(h),m.observe(e));let g,y=l?fl(t):null;l&&w();function w(){const b=fl(t);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const rue=Fle,SI=jle,iue=(t,e,n)=>{const r=new Map,i={platform:tue,...n},s={...i.platform,_c:r};return Mle(t,e,{...i,platform:s})};var Vp=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Wm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Wm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function F5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EI(t,e){const n=F5(t);return Math.round(e*n)/n}function Pb(t){const e=K.useRef(t);return Vp(()=>{e.current=t}),e}function sue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:h}=t,[c,f]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=K.useState(r);Wm(p,r)||m(r);const[g,y]=K.useState(null),[w,b]=K.useState(null),x=K.useCallback(Y=>{Y!==N.current&&(N.current=Y,y(Y))},[]),E=K.useCallback(Y=>{Y!==O.current&&(O.current=Y,b(Y))},[]),S=s||g,k=o||w,N=K.useRef(null),O=K.useRef(null),C=K.useRef(c),I=l!=null,R=Pb(l),A=Pb(i),D=Pb(h),M=K.useCallback(()=>{if(!N.current||!O.current)return;const Y={placement:e,strategy:n,middleware:p};A.current&&(Y.platform=A.current),iue(N.current,O.current,Y).then(z=>{const j={...z,isPositioned:D.current!==!1};F.current&&!Wm(C.current,j)&&(C.current=j,S_.flushSync(()=>{f(j)}))})},[p,e,n,A,D]);Vp(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[h]);const F=K.useRef(!1);Vp(()=>(F.current=!0,()=>{F.current=!1}),[]),Vp(()=>{if(S&&(N.current=S),k&&(O.current=k),S&&k){if(R.current)return R.current(S,k,M);M()}},[S,k,M,R,I]);const q=K.useMemo(()=>({reference:N,floating:O,setReference:x,setFloating:E}),[x,E]),L=K.useMemo(()=>({reference:S,floating:k}),[S,k]),B=K.useMemo(()=>{const Y={position:n,left:0,top:0};if(!L.floating)return Y;const z=EI(L.floating,c.x),j=EI(L.floating,c.y);return a?{...Y,transform:"translate("+z+"px, "+j+"px)",...F5(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:j}},[n,a,L.floating,c.x,c.y]);return K.useMemo(()=>({...c,update:M,refs:q,elements:L,floatingStyles:B}),[c,M,q,L,B])}const oue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SI({element:r.current,padding:i}).fn(n):{}:r?SI({element:r,padding:i}).fn(n):{}}}},aue=(t,e)=>({...Ble(t),options:[t,e]}),lue=(t,e)=>({...rue(t),options:[t,e]}),uue=(t,e)=>({...oue(t),options:[t,e]}),$5={...Qp},cue=$5.useInsertionEffect,due=cue||(t=>t());function fue(t){const e=K.useRef(()=>{});return due(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Ym=typeof document<"u"?K.useLayoutEffect:K.useEffect;let kI=!1,hue=0;const TI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hue++;function pue(){const[t,e]=K.useState(()=>kI?TI():void 0);return Ym(()=>{t==null&&e(TI())},[]),K.useEffect(()=>{kI=!0},[]),t}const mue=$5.useId,B5=mue||pue,gue=K.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:h=0,strokeWidth:c=0,staticOffset:f,stroke:p,d:m,style:{transform:g,...y}={},...w}=e,b=B5(),[x,E]=K.useState(!1);if(Ym(()=>{if(!i)return;pi(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[S,k]=r.split("-"),N=S==="top"||S==="bottom";let O=f;(N&&o!=null&&o.x||!N&&o!=null&&o.y)&&(O=null);const C=c*2,I=C/2,R=a/2*(h/-8+1),A=l/2*h/4,D=!!m,M=O&&k==="end"?"bottom":"top";let F=O&&k==="end"?"right":"left";O&&x&&(F=k==="end"?"left":"right");const q=(s==null?void 0:s.x)!=null?O||s.x:"",L=(s==null?void 0:s.y)!=null?O||s.y:"",B=m||"M0,0"+(" H"+a)+(" L"+(a-R)+","+(l-A))+(" Q"+a/2+","+l+" "+R+","+(l-A))+" Z",Y={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[S];return _.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:D?a:a+C,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[F]:q,[M]:L,[S]:N||D?"100%":"calc(100% - "+C/2+"px)",transform:[Y,g].filter(z=>!!z).join(" "),...y},children:[C>0&&_.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:p,strokeWidth:C+(m?0:1),d:B}),_.jsx("path",{stroke:C&&!m?w.fill:"none",d:B}),_.jsx("clipPath",{id:b,children:_.jsx("rect",{x:-I,y:I*(D?-1:1),width:a+C,height:a})})]})});function vue(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const yue=K.createContext(null),wue=K.createContext(null),bue=()=>{var t;return((t=K.useContext(yue))==null?void 0:t.id)||null},xue=()=>K.useContext(wue);function _ue(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=B5(),s=K.useRef({}),[o]=K.useState(()=>vue()),a=bue()!=null,[l,h]=K.useState(r.reference),c=fue((m,g,y)=>{s.current.openEvent=m?g:void 0,o.emit("openchange",{open:m,event:g,reason:y,nested:a}),n==null||n(m,g,y)}),f=K.useMemo(()=>({setPositionReference:h}),[]),p=K.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:p,events:o,floatingId:i,refs:f}),[e,c,p,o,i,f])}function Sue(t){t===void 0&&(t={});const{nodeId:e}=t,n=_ue({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[a,l]=K.useState(null),c=(i==null?void 0:i.domReference)||s,f=K.useRef(null),p=xue();Ym(()=>{c&&(f.current=c)},[c]);const m=sue({...t,elements:{...i,...a&&{reference:a}}}),g=K.useCallback(E=>{const S=Jr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(S),m.refs.setReference(S)},[m.refs]),y=K.useCallback(E=>{(Jr(E)||E===null)&&(f.current=E,o(E)),(Jr(m.refs.reference.current)||m.refs.reference.current===null||E!==null&&!Jr(E))&&m.refs.setReference(E)},[m.refs]),w=K.useMemo(()=>({...m.refs,setReference:y,setPositionReference:g,domReference:f}),[m.refs,y,g]),b=K.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),x=K.useMemo(()=>({...m,...r,refs:w,elements:b,nodeId:e}),[m,w,b,e,r]);return Ym(()=>{r.dataRef.current.floatingContext=x;const E=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);E&&(E.context=x)}),K.useMemo(()=>({...m,context:x,refs:w,elements:b}),[m,w,b,x])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var c_=function(e,n){return c_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},c_(e,n)};function Xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tt=function(){return Tt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Tt.apply(this,arguments)};function ms(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Eue=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},kue=function(t,e){var n=K.useRef(null),r=K.useRef(t);r.current=t;var i=K.useCallback(function(s){var o;n.current&&!n.current.contains(s.target)&&(e&&s.target instanceof HTMLElement&&s.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Pv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=kue(n,o);return se.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ae;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ae||(Ae={}));function U5(){var t=typeof window<"u"?window:globalThis;return t}var jf=12,Tue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Vt(t){if(t==null)return new Date;var e=typeof t=="string"?ole(t):Me(t);return Vs(e)?e:new Date}function Mb(t,e,n,r,i){var s,o=null,a=Ka(n)||Ka(_d()),l=!0;if(Array.isArray(e))return e.forEach(function(c){var f=Ib(t,c,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Vs(f,i)&&t===nn(f,c,n)),Vs(f,i)&&l&&(o=f)}),o;if(o=Ib(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Vs(o)&&t===nn(o,e,n);else if(!Vs(o)){var h=((s=e.match(Tue))!==null&&s!==void 0?s:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var p=Um[f];return a?p(c,a.formatLong):f}return c}).join("");t.length>0&&(o=Ib(t,h.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Vs(o)||(o=new Date(t))}return Vs(o)&&l?o:null}function Vs(t,e){return jm(t)&&!dl(t,e??new Date("1/1/1800"))}function nn(t,e,n){if(n==="en")return gI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ka(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&_d()&&Ka(_d())&&(r=Ka(_d())),gI(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Si(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&nn(t,i,r)||""}function Cue(t,e,n){if(!t)return"";var r=Si(t,n),i=e?Si(e,n):"";return"".concat(r," - ").concat(i)}function Nue(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Si(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Si(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Lb(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return $p(Bp(Up(t,a),s),r)}function Oue(t){return HE(t)}function Aue(t,e){return nn(t,"ddd",e)}function qp(t){return cl(t)}function Jo(t,e,n){var r=Ka(e||_d());return oo(t,{locale:r,weekStartsOn:n})}function Js(t){return p5(t)}function cd(t){return Ov(t)}function CI(t){return o_(t)}function NI(){return cl(Vt())}function OI(t){return f5(t)}function Due(t){return doe(t)}function Iue(t){return h5(t)}function is(t,e){return t&&e?ile(t,e):!t&&!e}function Mr(t,e){return t&&e?nle(t,e):!t&&!e}function Gm(t,e){return t&&e?rle(t,e):!t&&!e}function xt(t,e){return t&&e?uoe(t,e):!t&&!e}function Ua(t,e){return t&&e?aae(t,e):!t&&!e}function dd(t,e,n){var r,i=cl(e),s=f5(n);try{r=Yd(t,{start:i,end:s})}catch{r=!1}return r}function _d(){var t=U5();return t.__localeId__}function Ka(t){if(typeof t=="string"){var e=U5();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Rue(t,e,n){return e(nn(t,"EEEE",n))}function Pue(t,e){return nn(t,"EEEEEE",e)}function Mue(t,e){return nn(t,"EEE",e)}function tk(t,e){return nn(oi(Vt(),t),"LLLL",e)}function V5(t,e){return nn(oi(Vt(),t),"LLL",e)}function Lue(t,e){return nn(ru(Vt(),t),"QQQ",e)}function Ei(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,h=n.filterDate;return Ff(t,{minDate:r,maxDate:i})||s&&s.some(function(c){return c instanceof Date?xt(t,c):xt(t,c.date)})||o&&o.some(function(c){var f=c.start,p=c.end;return Yd(t,{start:f,end:p})})||a&&!a.some(function(c){return xt(t,c)})||l&&!l.some(function(c){var f=c.start,p=c.end;return Yd(t,{start:f,end:p})})||h&&!h(Vt(t))||!1}function nk(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Yd(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?xt(t,s):xt(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function q5(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Ff(t,{minDate:r?p5(r):void 0,maxDate:i?h5(i):void 0})||(s==null?void 0:s.some(function(l){return Mr(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Mr(t,l)})||a&&!a(Vt(t))||!1}function vp(t,e,n,r){var i=gt(t),s=jr(t),o=gt(e),a=jr(e),l=gt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function jue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Ff(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return Mr(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Mr(a,t)})||!1}function yp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Ff(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return Gm(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Gm(t,l)})||a&&!a(Vt(t))||!1}function wp(t,e,n){if(!e||!n||!jm(e)||!jm(n))return!1;var r=gt(e),i=gt(n);return r<=t&&i>=t}function zp(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Ff(l,{minDate:r?Ov(r):void 0,maxDate:i?m5(i):void 0})||(s==null?void 0:s.some(function(h){return is(l,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return is(l,h)})||a&&!a(Vt(l))||!1}function bp(t,e,n,r){var i=gt(t),s=Wa(t),o=gt(e),a=Wa(e),l=gt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Ff(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&Fu(t,i)<0||s&&Fu(t,s)>0)!==null&&n!==void 0?n:!1}function AI(t,e){return e.some(function(n){return xs(n)===xs(t)&&_s(n)===_s(t)&&Xs(n)===Xs(t)})}function DI(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&AI(t,r)||i&&!AI(t,i)||s&&!s(t)||!1}function II(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Vt();i=$p(i,xs(t)),i=Bp(i,_s(t)),i=Up(i,Xs(t));var s=Vt();s=$p(s,xs(n)),s=Bp(s,_s(n)),s=Up(s,Xs(n));var o=Vt();o=$p(o,xs(r)),o=Bp(o,_s(r)),o=Up(o,Xs(r));var a;try{a=!Yd(i,{start:s,end:o})}catch{a=!1}return a}function RI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Ya(t,1);return r&&Fm(r,s)>0||i&&i.every(function(o){return Fm(o,s)>0})||!1}function PI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Ki(t,1);return r&&Fm(s,r)>0||i&&i.every(function(o){return Fm(s,o)>0})||!1}function Fue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Ov(t),o=T5(s);return r&&$m(r,o)>0||i&&i.every(function(a){return $m(a,o)>0})||!1}function $ue(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=m5(t),o=zE(s,1);return r&&$m(o,r)>0||i&&i.every(function(a){return $m(o,a)>0})||!1}function MI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=$u(t,1);return r&&Bm(r,s)>0||i&&i.every(function(o){return Bm(o,s)>0})||!1}function Bue(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?jf:i,o=cd($u(t,s)),a=Ho(o,s).endPeriod,l=r&&gt(r);return l&&l>a||!1}function LI(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Ks(t,1);return r&&Bm(s,r)>0||i&&i.every(function(o){return Bm(s,o)>0})||!1}function Uue(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?jf:i,o=Ks(t,s),a=Ho(o,s).startPeriod,l=r&&gt(r);return l&&l<a||!1}function z5(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Fu(i,e)>=0});return cI(r)}else return n?cI(n):e}function H5(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Fu(i,e)<=0});return uI(r)}else return n?uI(n):e}function jI(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(Qs(o)){var a=nn(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var h=Object.keys(o),c=(n=h[0])!==null&&n!==void 0?n:"",f=o[c];if(typeof c=="string"&&Array.isArray(f))for(var p=0,m=f.length;p<m;p++){var g=f[p];if(g){var a=nn(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function Vue(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function que(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(Qs(i)){var o=nn(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&Vue(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?ms(ms([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function zue(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,h=i[a];h&&(l=soe(l,xs(h)),l=s_(l,_s(h)),l=loe(l,Xs(h)));var c=s_(t,(n+1)*r);ra(l,e)&&dl(l,c)&&h!=null&&o.push(h)}return o}function FI(t){return t<10?"0".concat(t):"".concat(t)}function Ho(t,e){e===void 0&&(e=jf);var n=Math.ceil(gt(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function Hue(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function $I(t){var e=t.getSeconds(),n=t.getMilliseconds();return Me(t.getTime()-e*1e3-n)}function Wue(t,e){return $I(t).getTime()===$I(e).getTime()}function BI(t){if(!Qs(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function UI(t,e){if(!Qs(t)||!Qs(e))throw new Error("Invalid date received");var n=BI(t),r=BI(e);return dl(n,r)}function W5(t){return t.key===Ae.Space}var Yue=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),h=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),f=c[0],p=c[1];h.setHours(Number(f)),h.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,h)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?K.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){r.onTimeChange(h.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(K.Component),Gue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=K.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return xt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return nk(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return xt(n.props.day,Jo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&xt(r,Jo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=nn(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=nn(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:dd(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,h=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!p||!h&&n.isDisabled()?!1:o&&f&&(dl(p,f)||Ua(p,f))?dd(s,p,f):a&&c&&(ra(p,c)||Ua(p,c))||l&&c&&!f&&(ra(p,c)||Ua(p,c))?dd(s,c,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?xt(s,l):xt(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?xt(s,h):xt(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:xt(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:xt(o,i)},n.isWeekend=function(){var r=rae(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===jr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(jr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Vt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return or("react-datepicker__day",i,"react-datepicker__day--"+Aue(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,h=n.isDisabled()||n.isExcluded()?l:o;return"".concat(h," ").concat(nn(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=nn(i,"MM.dd.yyyy"),h=[];return o.has(l)&&h.push.apply(h,o.get(l).holidayNames),n.isExcluded()&&h.push(a==null?void 0:a.filter(function(c){return c instanceof Date?xt(c,i):xt(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),h.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&xt(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(vI(n.props.day),n.props.day):vI(n.props.day)},n.render=function(){return se.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&se.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(K.Component),Kue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=K.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!xt(n.props.date,n.props.selected)&&xt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||xt(n.props.date,n.props.selected)&&xt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&xt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&xt(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:or(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(K.Component),Que=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,h=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var p=!n.isDisabled(f);if(p){h=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(h,i,s),n.props.showWeekPicker&&n.handleDayClick(h,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):Oue(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=zi(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=zi(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(se.createElement(Kue,Tt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(r,a);return se.createElement(Gue,Tt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Jo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!xt(n.startOfWeek(),n.props.selected)&&xt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return se.createElement("div",{className:or(n)},this.renderDays())},e}(K.Component),Xc,Xue=6,wu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},jb=(Xc={},Xc[wu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Xc[wu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Xc[wu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Xc),xp=1;function VI(t,e){return t?wu.FOUR_COLUMNS:e?wu.TWO_COLUMNS:wu.THREE_COLUMNS}var Jue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=ms([],Array(12),!0).map(function(){return K.createRef()}),n.QUARTER_REFS=ms([],Array(4),!0).map(function(){return K.createRef()}),n.isDisabled=function(r){return Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return nk(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Mr(oi(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Gm(ru(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Mr(oi(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Gm(ru(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?vp(p,f,r,o):l&&c||h&&c&&!f?vp(c,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,h=oi(o,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Mr(h,c):Mr(h,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,h=s.selectsRange,c=oi(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||h?Mr(c,f):Mr(c,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,h=s.selectsRange,c=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||h)||!p?!1:a&&f?bp(p,f,r,o):l&&c||h&&c&&!f?bp(c,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=zi(r,6);return Mr(r,i)||Mr(s,i)},n.isCurrentMonth=function(r,i){return gt(r)===gt(Vt())&&i===jr(Vt())},n.isCurrentQuarter=function(r,i){return gt(r)===gt(Vt())&&i===Wa(Vt())},n.isSelectedMonth=function(r,i,s){return jr(s)===i&&gt(r)===gt(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Wa(r)===i&&gt(r)===gt(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Jo(Js(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Jo(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},h=function(g){return n.props.showWeekPicker?Jo(g,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?h(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(se.createElement(Que,Tt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:jr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=Lm(a,1);var p=i&&s>=Xue,m=!i&&!n.isWeekInMonth(a);if(p||m)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Js(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Js(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,h=a.preSelection,c=a.setPreSelection,f=a.minDate,p=a.maxDate,m=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(h){var y=VI(m,g),w=n.getVerticalOffset(y),b=(o=jb[y])===null||o===void 0?void 0:o.grid,x=function(O,C,I){var R,A,D=C,M=I;switch(O){case Ae.ArrowRight:D=Ki(C,xp),M=I===11?0:I+xp;break;case Ae.ArrowLeft:D=Ya(C,xp),M=I===0?11:I-xp;break;case Ae.ArrowUp:D=Ya(C,w),M=!((R=b==null?void 0:b[0])===null||R===void 0)&&R.includes(I)?I+12-w:I-w;break;case Ae.ArrowDown:D=Ki(C,w),M=!((A=b==null?void 0:b[b.length-1])===null||A===void 0)&&A.includes(I)?I-12+w:I+w;break}return{newCalculatedDate:D,newCalculatedMonth:M}},E=function(O,C,I){for(var R=40,A=O,D=!1,M=0,F=x(A,C,I),q=F.newCalculatedDate,L=F.newCalculatedMonth;!D;){if(M>=R){q=C,L=I;break}if(f&&q<f){A=Ae.ArrowRight;var B=x(A,q,L);q=B.newCalculatedDate,L=B.newCalculatedMonth}if(p&&q>p){A=Ae.ArrowLeft;var B=x(A,q,L);q=B.newCalculatedDate,L=B.newCalculatedMonth}if(jue(q,n.props)){var B=x(A,q,L);q=B.newCalculatedDate,L=B.newCalculatedMonth}else D=!0;M++}return{newCalculatedDate:q,newCalculatedMonth:L}};if(i===Ae.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),c==null||c(l));return}var S=E(i,h,s),k=S.newCalculatedDate,N=S.newCalculatedMonth;switch(i){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:n.handleMonthNavigation(N,k);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=jb[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ae.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=ru(n.props.day,i);yp(s,n.props)||n.handleDayClick(CI(s),r)},n.onQuarterMouseEnter=function(r){var i=ru(n.props.day,r);yp(i,n.props)||n.handleDayMouseEnter(CI(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ae.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Ae.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,zE(n.props.preSelection,1));break;case Ae.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,T5(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,h=s.excludeDates,c=s.includeDates,f=oi(o,r);return{isDisabled:(i=(a||l||h||c)&&q5(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,h=i.monthClassName,c=h?h(oi(s,r)):void 0,f=n.getSelection();return or("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?vp(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=jr(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Wa(n.props.preSelection),s=yp(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,h=i.day,c=i.locale,f=oi(h,r),p=n.isDisabled(f)||n.isExcluded(f)?l:o;return"".concat(p," ").concat(nn(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,h=i.minDate,c=i.maxDate,f=i.excludeDates,p=i.includeDates,m=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,w=(h||c||f||p||m)&&yp(ru(s,r),n.props);return or("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(s,r,g)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?bp(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,h=V5(r,a),c=tk(r,a);return o?o(r,h,c,l):s?c:h},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=Lue(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,h=(r=jb[VI(o,s)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(c,f){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(p,m){return se.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(g){n.onMonthClick(g,p)},onKeyDown:function(g){W5(g)&&(g.preventDefault(),g.key=Ae.Enter),n.onMonthKeyDown(g,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return se.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(h){n.onQuarterClick(h,a)},onKeyDown:function(h){n.onQuarterKeyDown(h,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,h=r.showWeekPicker;return or("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":h})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(nn(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(K.Component),Zue=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return se.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return se.createElement(Pv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),ece=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return se.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return se.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return se.createElement(Zue,Tt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return V5(s,n.props.locale)}:function(s){return tk(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(K.Component);function tce(t,e){for(var n=[],r=Js(t),i=Js(e);!ra(r,i);)n.push(Vt(r)),r=Ki(r,1);return n}var nce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=l_(i),o=is(r.props.date,i)&&Mr(r.props.date,i);return se.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",nn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:tce(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=or({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(Pv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),rce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Js(n.props.minDate),i=Js(n.props.maxDate),s=[];!ra(r,i);){var o=l_(r);s.push(se.createElement("option",{key:o,value:o},nn(r,n.props.dateFormat,n.props.locale))),r=Ki(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:l_(Js(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=nn(n.props.date,n.props.dateFormat,n.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return se.createElement(nce,Tt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Vt(r);is(n.props.date,i)&&Mr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(K.Component),ice=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&II(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&DI(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&Wue(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&II(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&DI(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(xs(r)*3600+_s(r)*60+Xs(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Vt(),l=qp(a),h=n.props.injectTimes&&n.props.injectTimes.sort(function(w,b){return w.getTime()-b.getTime()}),c=60*Hue(a),f=c/o,p=0;p<f;p++){var m=s_(l,p*o);if(i.push(m),h){var g=zue(l,m,p,o,h);i=i.concat(g)}}var y=i.reduce(function(w,b){return b.getTime()<=a.getTime()?b:w},i[0]);return i.map(function(w){return se.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(b){w===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},nn(w,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(K.Component),qI=3,sce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=ms([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return Ei(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return nk(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,h,c=r.props,f=c.date,p=c.yearItemNumber;if(!(f===void 0||p===void 0)){var m=Ho(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-m<0?r.updateFocusOnPaginate(p-(m-i)):i-m>=p?r.updateFocusOnPaginate(Math.abs(p-(i-m))):(h=(l=r.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||h===void 0||h.focus())}},r.isSameDay=function(i,s){return xt(i,s)},r.isCurrentYear=function(i){return i===gt(Vt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&is(ns(Vt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&is(ns(Vt(),i),r.props.endDate)},r.isInRange=function(i){return wp(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,h=s.startDate,c=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&c?wp(i,r.selectingDate(),c):a&&h||l&&h&&!c?wp(i,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,h=ns(Vt(),i);return l?is(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):is(h,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,h=o.selectsRange,c=ns(Vt(),i);return l||h?is(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):is(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,h=s.includeDates,c=s.filterDate,f=cd(ns(r.props.date,i)),p=(o||a||l||h||c)&&zp(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!xt(f,cd(r.props.selected))&&xt(f,cd(r.props.preSelection))&&!p}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(cd(ns(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,h=r.props,c=h.date,f=h.yearItemNumber,p=h.handleOnKeyDown;if(l!==Ae.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ks(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,$u(r.props.preSelection,1));break;case Ae.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var m=Ho(c,f).startPeriod,g=qI,y=s-g;if(y<m){var w=f%g;s>=m&&s<m+w?g=w:g+=w,y=s-g}r.handleYearNavigation(y,$u(r.props.preSelection,g));break}case Ae.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var b=Ho(c,f).endPeriod,g=qI,y=s+g;if(y>b){var w=f%g;s<=b&&s>b-w?g=w:g+=w,y=s+g}r.handleYearNavigation(y,Ks(r.props.preSelection,g));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,h=s.selected,c=s.excludeDates,f=s.includeDates,p=s.filterDate,m=s.yearClassName;return or("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(ns(o,i)):void 0,{"react-datepicker__year-text--selected":h?i===gt(h):void 0,"react-datepicker__year-text--disabled":(a||l||c||f||p)&&zp(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=gt(r.props.preSelection),o=zp(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var h=Ho(s,o),c=h.startPeriod,f=h.endPeriod,p=function(y){r.push(se.createElement("div",{ref:m.YEAR_REFS[y-c],onClick:function(w){n.onYearClick(w,y)},onKeyDown:function(w){W5(w)&&(w.preventDefault(),w.key=Ae.Enter),n.onYearKeyDown(w,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return a(w,y)},onPointerEnter:m.props.usePointerEvent?function(w){return a(w,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return l(w,y)},onPointerLeave:m.props.usePointerEvent?function(w){return l(w,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,g=c;g<=f;g++)p(g);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(K.Component);function oce(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=gt(n)<=o),r&&a&&(a=gt(r)>=o),a&&i.push(o)}return i}var ace=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return se.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),h=r.props.minDate?gt(r.props.minDate):null,c=r.props.maxDate?gt(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(f){return f===h}))&&l.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(h){return h+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:oce(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=or({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(Pv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),lce=function(t){Xn(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?gt(n.props.minDate):1900,i=n.props.maxDate?gt(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(se.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return se.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return se.createElement(ace,Tt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(K.Component),uce=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],cce=function(t){var e=(t.className||"").split(/\s+/);return uce.some(function(n){return e.indexOf(n)>=0})},dce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;cce(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=z5(r.props),h=H5(r.props),c=Vt(),f=a||o||s;return f||(l&&dl(c,l)?l:h&&ra(c,h)?h:c)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ki(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ya(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:ns(Vt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ei(i,r.props))return i;for(var s=Js(i),o=Iue(i),a=coe(o,s),l=null,h=0;h<=a;h++){var c=zi(s,h);if(!Ei(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:ns(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:oi(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:ns(oi(o,jr(i)),gt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Jo(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=zi(s,a),h=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return se.createElement("div",{key:a,"aria-label":nn(l,"EEEE",r.props.locale),className:or("react-datepicker__day-name",c)},h)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?Rue(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Mue(i,s):Pue(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:$u(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,c=Ya(r.state.date,h),f;switch(!0){case r.props.showMonthYearPicker:f=MI(r.state.date,r.props);break;case r.props.showYearPicker:f=Bue(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=Fue(r.state.date,r.props);break;default:f=RI(c,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,b=w.previousMonthButtonLabel,x=b===void 0?e.defaultProps.previousMonthButtonLabel:b,E=w.previousYearButtonLabel,S=E===void 0?e.defaultProps.previousYearButtonLabel:E,k=r.props,N=k.previousMonthAriaLabel,O=N===void 0?typeof x=="string"?x:"Previous Month":N,C=k.previousYearAriaLabel,I=C===void 0?typeof S=="string"?S:"Previous Year":C;return se.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?I:O},se.createElement("span",{className:p.join(" ")},y?S:x))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Ks(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=LI(r.state.date,r.props);break;case r.props.showYearPicker:s=Uue(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=$ue(r.state.date,r.props);break;default:s=PI(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,m=c.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=r.props,w=y.nextMonthAriaLabel,b=w===void 0?typeof p=="string"?p:"Next Month":w,x=y.nextYearAriaLabel,E=x===void 0?typeof g=="string"?g:"Next Year":x;return se.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?E:b},se.createElement("span",{className:a.join(" ")},h?g:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:s.join(" ")},nn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(lce,Tt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:gt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(ece,Tt({},e.defaultProps,r.props,{month:jr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(rce,Tt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(NI(),i),r.props.setPreSelection&&r.props.setPreSelection(NI())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),se.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=RI(r.state.date,r.props),c=PI(r.state.date,r.props),f=MI(r.state.date,r.props),p=LI(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Tt(Tt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),m&&se.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,h=l===void 0?e.defaultProps.yearItemNumber:l,c=Ho(s,h),f=c.startPeriod,p=c.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):gt(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ks(r.state.date,l):Ya(r.state.date,l),c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<a;++f){var p=f-c+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ks(h,p):Ki(h,p),g="month-".concat(f),y=f<a-1,w=f>0;o.push(se.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:f}),se.createElement(Jue,Tt({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(sce,Tt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(ice,Tt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Vs(i)&&!!r.props.selected,o=s?"".concat(FI(i.getHours()),":").concat(FI(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(Yue,Tt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Ho(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=gt(r.state.date):l="".concat(tk(jr(r.state.date),r.props.locale)," ").concat(gt(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:jf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!xt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Mr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!xt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||Eue;return se.createElement(Pv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},se.createElement(n,{className:or("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(K.Component),fce=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):se.isValidElement(e)?se.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Y5=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return E_.createPortal(this.props.children,this.el)},e}(K.Component),hce="[tabindex], a, button, input, select, textarea",pce=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},G5=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(hce),1,-1).filter(pce)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(K.Component);function mce(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=K.useRef(null),o=Sue(Tt({open:!i,whileElementsMounted:j5,placement:n.popperPlacement,middleware:ms([lue({padding:15}),aue(10),uue({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=Tt(Tt({},n),{hidePopper:i,popperProps:Tt(Tt({},o),{arrowRef:s})});return se.createElement(t,Tt({},a))};return e}var gce=function(t){Xn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,h=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,m=n.popperProps,g=n.showArrow,y=void 0;if(!o){var w=or("react-datepicker-popper",r);y=se.createElement(G5,{enableTabLoop:h},se.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},a,g&&se.createElement(gue,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=K.createElement(this.props.popperContainer,{},y)),f&&!o&&(y=se.createElement(Y5,{portalId:f,portalHost:p},y));var b=or("react-datepicker-wrapper",i);return se.createElement(se.Fragment,null,se.createElement("div",{ref:m.refs.setReference,className:b},l),y)},e}(K.Component),vce=mce(gce),zI="react-datepicker-ignore-onclickoutside";function yce(t,e){return t&&e?jr(t)!==jr(e)||gt(t)!==gt(e):t!==e}var Fb="Date input not valid.",wce=function(t){Xn(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Vt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Vs(a)?ms(ms([],s,!0),[Tt(Tt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=z5(r.props),a=H5(r.props),l=o&&dl(s,qp(o))?o:a&&ra(s,OI(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:jI(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Tt(Tt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Tt(Tt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:$b},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Qs(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:bce});var h=r.props,c=h.dateFormat,f=c===void 0?e.defaultProps.dateFormat:c,p=h.strictParsing,m=p===void 0?e.defaultProps.strictParsing:p,g=h.selectsRange,y=h.startDate,w=h.endDate,b=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(g){var x=b.split("-",2).map(function(R){return R.trim()}),E=x[0],S=x[1],k=Mb(E??"",f,r.props.locale,m),N=Mb(S??"",f,r.props.locale,m),O=(y==null?void 0:y.getTime())!==(k==null?void 0:k.getTime()),C=(w==null?void 0:w.getTime())!==(N==null?void 0:N.getTime());if(!O&&!C||k&&Ei(k,r.props)||N&&Ei(N,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[k,N],l)}else{var I=Mb(b,f,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&I&&!xt(I,r.props.selected)&&(I=_le(r.props.selected,{hours:xs(I),minutes:_s(I),seconds:Xs(I)})),(I||!b)&&r.setSelected(I,l,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,h=a.endDate;l&&!h&&(r.props.swapRange||!UI(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,h,c=i;if(r.props.showYearPicker){if(c!==null&&zp(gt(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&q5(c,r.props))return}else if(c!==null&&Ei(c,r.props))return;var f=r.props,p=f.onChange,m=f.selectsRange,g=f.startDate,y=f.endDate,w=f.selectsMultiple,b=f.selectedDates,x=f.minTime,E=f.swapRange;if(!Ua(r.props.selected,c)||r.props.allowSameDay||m||w)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Lb(c,{hour:xs(r.props.selected),minute:_s(r.props.selected),second:Xs(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&x&&(c=Lb(c,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var S=!g&&!y,k=g&&!y,N=g&&y;S?p==null||p([c,null],s):k&&(c===null?p==null||p([null,null],s):UI(c,g)?E?p==null||p([c,g],s):p==null||p([c,null],s):p==null||p([g,c],s)),N&&(p==null||p([c,null],s))}else if(w){if(c!==null)if(!(b!=null&&b.length))p==null||p([c],s);else{var O=b.some(function(I){return xt(I,c)});if(O){var C=b.filter(function(I){return!xt(I,c)});p==null||p(C,s)}else p==null||p(ms(ms([],b,!0),[c],!1),s)}}else p==null||p(c,s);o||((h=(l=r.props).onSelect)===null||h===void 0||h.call(l,c,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=Qs(r.props.minDate),o=Qs(r.props.maxDate),a=!0;if(i){var l=qp(i);if(s&&o)a=dd(i,r.props.minDate,r.props.maxDate);else if(s){var h=qp(r.props.minDate);a=ra(i,h)||Ua(l,h)}else if(o){var c=OI(r.props.maxDate);a=dl(i,c)||Ua(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Lb(a,{hour:xs(i),minute:_s(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,h,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Ae.ArrowDown||f===Ae.ArrowUp||f===Ae.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Ae.ArrowDown||f===Ae.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=Vt(r.state.preSelection);f===Ae.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===$b?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===Ae.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Ae.Tab&&r.setOpen(!1),r.inputOk()||(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:Fb})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,h,c,f=r.props,p=f.minDate,m=f.maxDate,g=f.disabledKeyboardNavigation,y=f.showWeekPicker,w=f.shouldCloseOnSelect,b=f.locale,x=f.calendarStartDay,E=f.adjustDateOnChange,S=f.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var k=i.key,N=i.shiftKey,O=Vt(r.state.preSelection),C=function(q,L){var B=L;switch(q){case Ae.ArrowRight:B=y?Lm(L,1):zi(L,1);break;case Ae.ArrowLeft:B=y?yI(L):sle(L);break;case Ae.ArrowUp:B=yI(L);break;case Ae.ArrowDown:B=Lm(L,1);break;case Ae.PageUp:B=N?$u(L,1):Ya(L,1);break;case Ae.PageDown:B=N?Ks(L,1):Ki(L,1);break;case Ae.Home:B=Jo(L,b,x);break;case Ae.End:B=Due(L);break}return B},I=function(q,L){for(var B=40,Y=q,z=!1,j=0,U=C(q,L);!z;){if(j>=B){U=L;break}p&&U<p&&(Y=Ae.ArrowRight,U=Ei(p,r.props)?C(Y,U):p),m&&U>m&&(Y=Ae.ArrowLeft,U=Ei(m,r.props)?C(Y,U):m),Ei(U,r.props)?((Y===Ae.PageUp||Y===Ae.Home)&&(Y=Ae.ArrowRight),(Y===Ae.PageDown||Y===Ae.End)&&(Y=Ae.ArrowLeft),U=C(Y,U)):z=!0,j++}return U};if(k===Ae.Enter){i.preventDefault(),r.handleSelect(O,i),!w&&r.setPreSelection(O);return}else if(k===Ae.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Fb});return}var R=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:R=I(k,O);break}if(!R){(c=(h=r.props).onInputError)===null||c===void 0||c.call(h,{code:1,msg:Fb});return}if(i.preventDefault(),r.setState({lastPreSelectChange:$b}),E&&r.setSelected(R),r.setPreSelection(R),S){var A=jr(O),D=jr(R),M=gt(O),F=gt(R);A!==D||M!==F?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ae.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(dce,Tt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:que(r.modifyHolidays()),outsideClickIgnoreClass:zI,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,h=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Si(r.props.startDate,{dateFormat:h,locale:a}),". ").concat(r.props.endDate?"End date: "+Si(r.props.endDate,{dateFormat:h,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Si(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(Si(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(Si(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Si(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(Si(r.props.selected,{dateFormat:h,locale:a})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o,a=or(r.props.className,(i={},i[zI]=r.state.open,i)),l=r.props.customInput||se.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,m=c.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Cue(r.props.startDate,r.props.endDate,{dateFormat:p,locale:m}):r.props.selectsMultiple?Nue((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:m}):Si(r.props.selected,{dateFormat:p,locale:m});return K.cloneElement(l,(s={},s[h]=function(y){r.input=y},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=or(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,h=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,m=i.ariaLabelClose,g=m===void 0?"Close":m,y=i.selectedDates;return s&&(a!=null||l!=null||h!=null||y!=null&&y.length)?se.createElement("button",{type:"button",className:or("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:jf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&yce(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:jI(this.props.highlightDates)}),!r.focused&&!Ua(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(fce,Tt({icon:i,className:or(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?se.createElement(G5,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(Y5,Tt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(vce,Tt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(K.Component),bce="input",$b="navigate";function Ti({text:t,htmlFor:e,className:n}){return _.jsx("label",{htmlFor:e||t,className:`flex flex-col py-1 pl-1 text-sm font-medium text-blue1 ${n}`,children:t})}function rk({label:t,resetDate:e,...n}){return _.jsxs("div",{className:"flex flex-col",children:[t&&_.jsx(Ti,{text:t}),_.jsxs("div",{className:"relative",children:[_.jsx(I3,{className:"absolute left-3 top-3.5 z-[1] size-5"}),_.jsx(wce,{...n,locale:u3,minDate:new Date,shouldCloseOnSelect:!0,popperPlacement:"bottom",timeCaption:"",timeInputLabel:":",timeFormat:"HH:mm",timeIntervals:10,onFocus:r=>r.target.blur(),className:`h-12 w-full rounded-xl border border-gray1 px-3 py-2 pl-10 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none ${n.className}`}),e&&_.jsx("button",{type:"button",onClick:e,children:_.jsx(M3,{className:"absolute right-3 top-3 z-[1] size-[23px] text-gray1"})})]})]})}const Kt=se.forwardRef(function({iconName:t,inputType:e,label:n,errorMsg:r,containerClassName:i,children:s,tailIconChildren:o,...a},l){const h={FiMapPin:_.jsx(R3,{className:"absolute left-3 top-3.5 size-[20px]"}),FiSearch:_.jsx(ME,{className:"absolute left-3 top-3.5 size-[20px]"}),FiHash:_.jsx(Yre,{className:"absolute left-3 top-3.5 size-[20px]"}),FiChevronsDown:_.jsx(qre,{className:"absolute left-3 top-3.5 size-[20px]"}),FaMedal:_.jsx(Tv,{className:"absolute left-3 top-3.5 size-[20px]"})},c="h-12 w-full rounded-xl border focus:border-purple2 border-gray1 focus:read-only:border-gray1 focus:read-only:border focus:border-2 placeholder:text-gray2 hover:bg-blue-50 focus:outline-none py-2";return _.jsxs("div",{className:`relative flex w-full flex-col ${i}`,children:[n&&_.jsx(Ti,{text:n}),t?_.jsxs("div",{className:"relative w-full",children:[h[t],_.jsx("input",{...a,ref:l,id:n||a.id,className:`pl-10 pr-3 ${c} ${a.className}`}),o]}):_.jsxs(_.Fragment,{children:[_.jsx("input",{...a,ref:l,id:n||a.id,className:`px-3 ${c} ${a.className}`}),o]}),r&&_.jsx("p",{className:"pl-2 pt-1 text-sm text-red-500",children:r}),s]})});function HI({initialContent:t,contents:e}){const{onEditSubmit:n,setEditedData:r,editedData:i}=tc({collName:lo,docId:`${_t}-12`,dataToUpdate:{"meeting.eventMonth.contents":e}}),s=i["meeting.eventMonth.contents"].find(({id:a})=>a===t.id),o=a=>{const l=i["meeting.eventMonth.contents"],h={...s,...a},c=l.map(f=>f.id===h.id?h:f);r({"meeting.eventMonth.contents":c})};return _.jsx(Or,{title:" ",children:_.jsxs("form",{className:"mb-4 flex flex-col gap-y-2 overflow-scroll",onSubmit:n,children:[_.jsx(Kt,{value:(s==null?void 0:s.title)||"",onChange:a=>o({title:a.target.value}),label:" ",placeholder:"  ."}),_.jsxs("div",{children:[_.jsx(Ti,{text:" "}),_.jsx("textarea",{id:" ",placeholder:"    .",value:s==null?void 0:s.detail,onChange:a=>o({detail:a.target.value}),className:"min-h-40 w-full resize-none rounded-xl border border-gray1 bg-white p-2.5 outline-none"})]}),_.jsx(Kt,{value:(s==null?void 0:s.reward)||"",onChange:a=>o({reward:a.target.value}),label:"",placeholder:"  .",iconName:"FaMedal"}),_.jsx(rk,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:s!=null&&s.deadline?new Date(s==null?void 0:s.deadline):null,dateFormat:"MM dd",onChange:a=>o({deadline:wt(a,"yyyy-MM-dd")}),resetDate:()=>o({deadline:null})}),_.jsx(ht,{type:"submit",name:"",className:"ml-auto",size:"md"})]})})}function Kd({onClick:t,disabled:e,className:n=""}){return _.jsx("button",{type:"button",onClick:t,disabled:e,className:`flex size-[26px] items-center justify-center p-1 disabled:text-gray2 ${n}`,children:_.jsx(PE,{className:"size-full"})})}function As({text:t,children:e,createBtnTitle:n,onCreateClick:r}){return _.jsxs("div",{className:"flex h-full min-h-[200px] w-full flex-col items-center justify-center gap-5 rounded-card bg-white p-4 shadow-card max-md:h-[200px]",children:[_.jsx("span",{className:"text-sm text-gray1",children:t}),r&&_.jsx(ht,{name:n,color:"purple",handleClick:r,tailChildren:_.jsx(Ise,{size:18})}),e]})}function xce({eventDetail:t}){const{showModal:e}=St(),n=async o=>{e({element:_.jsx(HI,{initialContent:o,contents:t.contents})})},r=()=>{const o={id:on(),title:"",detail:""};e({element:_.jsx(HI,{initialContent:o,contents:[...t.contents,o]})})},i=N_(),s=Nn===i.id||!i;return _.jsx(Rt,{title:" ",titleBtn:s&&_.jsx("button",{type:"button",onClick:r,children:_.jsx(vv,{className:"text-lg text-blue1"})}),children:t.contents.length>0?_.jsx("ul",{className:"flex flex-col gap-y-3",children:t.contents.map(o=>_.jsxs(Pf,{title:`${o.title} ${o!=null&&o.reward?"":""} ${o!=null&&o.deadline?"":""}`,children:[_.jsxs("div",{className:"flex items-start gap-x-1",children:[(o==null?void 0:o.reward)&&_.jsx(lr,{text:`${o!=null&&o.reward?"":""} `,shape:"rounded",className:"!mb-2 border border-blue3 !px-2.5 !py-1.5 !text-[13px] font-medium"}),(o==null?void 0:o.deadline)&&_.jsx(lr,{text:`${o!=null&&o.deadline?"":""} ${wt(o.deadline,"yy.M.d")} `,color:"lightGreen",shape:"rounded",className:"!mb-2 border border-green-500 !px-2.5 !py-1.5 !text-[13px] font-medium"})]}),_.jsx("p",{className:"whitespace-pre-wrap px-0.5 text-[15px] text-gray1",children:o.detail||"   ."}),_.jsx("div",{className:"mb-4 ml-auto flex gap-x-2",children:_.jsx(Kd,{onClick:()=>n(o),className:"size-[24px] text-gray1"})})]},o.id))}):_.jsx(As,{text:" "})})}function K5({field:t}){return _.jsxs("div",{className:"mt-2 flex flex-1 items-center gap-x-0.5",children:[_.jsx(Fre,{className:"text-[15px] text-purple2"}),_.jsx("span",{className:"text-[15px] text-purple2",children:t})]})}function Q5({yearMonthId:t,className:e=""}){const n=Pe(Nr(t)),r=Pe(IE(t)),i=+(t==null?void 0:t.slice(-2)),{title:s,thumbnail:o,authors:a,publisher:l,url:h}=(n==null?void 0:n.book)||{},{pathname:c}=ur();return _.jsxs("div",{className:`flex justify-between gap-x-2 rounded-card bg-white px-4 py-5 shadow-card ${e}`,children:[_.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[_.jsx(lr,{text:`${+i} `,color:+t==+Nn?"lightBlue":"purple",shape:"rounded",className:"font-medium"}),_.jsxs("div",{className:"ml-1",children:[_.jsx("h1",{className:"mb-0.5 mt-2.5 line-clamp-2 w-full text-lg font-medium leading-[22px]",children:s}),a&&l&&_.jsx(Os,{authors:a,publisher:l}),(r==null?void 0:r.field)&&_.jsx(K5,{field:r==null?void 0:r.field})]})]}),_.jsx(an,{title:s,thumbnail:o,url:c==="/previous-bookclub"?void 0:h,className:"w-[84px]"})]})}function X5({yearMonthId:t,className:e=""}){const n=Pe(Nr(t)),r=+t.slice(-2),{pathname:i}=ur();return _.jsxs("div",{className:`flex flex-col rounded-card bg-white px-4 py-5 shadow-card ${e}`,children:[(i==="/"||i==="/previous-bookclub")&&_.jsx(lr,{text:`${r} `,color:+t==+Nn?"green":"purple",shape:"rounded",className:"mb-3 font-medium shadow-2xl"}),_.jsx("h1",{className:"mb-1.5 line-clamp-2 w-full text-lg font-medium leading-6",children:n.meeting.eventMonth.title}),_.jsxs("span",{className:"text-gray1",children:["  ",n.meeting.eventMonth.contents.length,""]})]})}function J5({title:t,currentValue:e,yearMonthId:n,registerBook:r}){var S;const i=Pe(Ct),s=Pe(Nr(n)),o=s?{...s.meeting,...e}:e,{currMeeting:a,onMeetingChange:l,savedPlaceList:h,onMeetingEdit:c,onNewBookClubSubmit:f}=Ere(o,n),{anonymous:p}=mi("register"),{isPending:m}=Ns(),{hideModal:g}=St(),{errorMsg:y,handleErrorMsg:w}=C3(),b={place:[{condition:a.place==="",error:" ."}]},x=+n.slice(-2),E=async k=>{k.preventDefault();try{if(w(b))return;if(s)await c({meeting:a}),alert(`${x}   !`);else{const O={meeting:a,createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:i.uid,book:r};await f(O),alert(`${x}   !`)}g()}catch{window.alert("     .  ."),g()}};return _.jsx(Or,{title:t,className:"max-w-96 max-sm:mt-[30%]",children:_.jsxs("form",{onSubmit:E,className:"flex flex-col gap-y-3",children:["time"in e&&_.jsx(rk,{id:"",label:"",placeholderText:"  .",selectsEnd:!0,selected:new Date(a.time),dateFormat:"M d EEEE a hh:mm",onChange:k=>{l({time:wt(k,"yyyy-MM-dd'T'HH:mm:ss")})},showTimeInput:!0}),"place"in e&&_.jsx(Kt,{label:"",value:a.place,onChange:k=>{l({place:k.target.value})},placeholder:"  ",iconName:"FiMapPin",errorMsg:y==null?void 0:y.place,children:_.jsx("ul",{className:"mx-0.5 mt-2 flex flex-wrap gap-2",children:(S=h==null?void 0:h.place)==null?void 0:S.map(k=>_.jsx(lr,{text:k,shape:"square",color:"green",className:"!px-2.5 !py-1.5 !text-xs",onClick:()=>l({place:k})},k))})}),_.jsx(ht,{type:"submit",name:s!=null&&s.meeting?"":`${x}  `,className:"ml-auto",disabled:m||p,color:"blue"}),p&&_.jsx("p",{className:"ml-auto text-sm text-red-500",children:"    ."})]})})}function _ce({label:t,value:e,editable:n}){const{showModal:r}=St(),i={:_.jsx(R3,{className:"inline"}),:_.jsx(I3,{className:"inline"}),:_.jsx(Wd,{className:"inline"}),:_.jsx(Wd,{className:"inline"})},s=a=>a===""?wt(e,"yyyy.M.d. a HH:mm"):a===""||a===""?e.includes("no_host")||e.length===0?" ":e==null?void 0:e.map(l=>_.jsx(zn,{userId:l,className:"mr-1"},l)):e,o=()=>r({element:typeof e=="string"&&_.jsx(J5,{title:t,currentValue:t===""?{time:e}:{place:e},yearMonthId:Nn})});return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"relative flex h-full items-center overflow-hidden rounded-card bg-white px-4 py-3 shadow-card max-sm:px-4",children:[_.jsxs("h4",{className:"flex min-w-20 items-center gap-0.5 tracking-tight text-gray2",children:[i[t],t]}),e&&_.jsx("span",{className:"flex gap-x-2 tracking-tight",children:s(t)}),!e&&_.jsx("span",{className:"text-gray2",children:"  "}),n&&_.jsx("button",{type:"button",onClick:o,className:"absolute bottom-0 right-0 p-3",children:_.jsx(Hre,{stroke:"#aaa",size:16})})]})})}function d_({yearMonthId:t}){var o,a,l;const e=Pe(Nr(t)),n=Pe(IE(t)),{pathname:r}=ur(),i=Br(),s=e&&[{label:"",value:(o=e.meeting)==null?void 0:o.time,editable:r==="/bookclub"},{label:"",value:(a=e.meeting)==null?void 0:a.place,editable:r==="/bookclub"},{label:e.meeting.eventMonth?"":"",value:e.meeting.eventMonth?(l=e.meeting.eventMonth)==null?void 0:l.hosts:n==null?void 0:n.hosts}];return _.jsx(_.Fragment,{children:e?_.jsxs("div",{className:"grid grid-cols-2 gap-6 max-sm:flex max-sm:flex-col max-sm:gap-4",children:[e!=null&&e.book?_.jsx(Q5,{yearMonthId:e.id}):_.jsx(X5,{yearMonthId:t}),_.jsx("ul",{className:"col-span-1 flex flex-col gap-3",children:s.map(({label:h,value:c})=>_.jsx("li",{children:_.jsx(_ce,{label:h,value:c,editable:!1})},h))})]}):_.jsx(As,{text:"    .",createBtnTitle:"  ",onCreateClick:()=>i("/search",{state:{registerYearMonth:t}})})})}function Sce(){const t=Ts(n3),e=Pe(N3),n=Pe(t3),{uid:r}=Pe(Ct),[i,s]=K.useState({wholePage:0,currentPage:0}),o=e,{title:a,thumbnail:l,authors:h,publisher:c}=n,{anonymous:f,alertAskJoinMember:p}=mi("write"),{hideModal:m}=St(),g=async w=>{var E;if(w.preventDefault(),f)return p();if(Number.isNaN(i.currentPage)||Number.isNaN(i.wholePage))return alert(" .");if(i.wholePage===0)return alert("   0   .   !");if(i.currentPage>i.wholePage)return alert("       .   !");if((E=o==null?void 0:o.books)==null?void 0:E.find(S=>S.title===a))return alert("    .");const x=o?{...o,books:[...o.books,{...n,...i}]}:{createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),creatorId:r,books:[{...n,...i}]};await ks(dn(sn,ll,r),x),t([]),m(),alert("2024    !   !")},y=(w,b)=>{const{value:x}=w.target,E=b==="wholePage"?{wholePage:+x}:{currentPage:+x};s({...i,...E})};return _.jsxs("form",{onSubmit:g,children:[_.jsx("h3",{children:"  "}),_.jsxs("div",{children:[_.jsx(an,{title:a,thumbnail:l}),_.jsxs("div",{children:[_.jsx("h4",{children:a}),_.jsx(Os,{authors:h,publisher:c})]})]}),_.jsxs("div",{children:[_.jsx(Kt,{label:"  ",name:"wholePage",value:`${i.wholePage}`,placeholder:"   .",onChange:w=>y(w,"wholePage")}),_.jsx(Kt,{label:"  ",name:"currentPage",value:`${i.currentPage}`,placeholder:"   .",onChange:w=>y(w,"currentPage")})]}),_.jsx(ht,{type:"submit",name:" "})]})}function Cl({book:t,className:e}){const{authors:n,publisher:r,thumbnail:i,title:s}=t;return _.jsxs("div",{className:`flex w-full items-center gap-2 py-1 ${e}`,children:[_.jsx(an,{thumbnail:i,title:s,className:"ml-1 w-8"}),_.jsxs("div",{className:"flex w-full flex-1 flex-col items-start",children:[_.jsx("h5",{className:"line-clamp-1 truncate whitespace-pre-wrap text-start font-medium",children:s}),n&&r&&_.jsx(Os,{authors:n,publisher:r})]})]})}function Ece(){const{book:t}=Pe(Nr(Nn)),e=Pe(_E),{uid:n}=Pe(Ct),{sendPostPushNotification:r,isPending:i}=Ns(),s=Zr(Nn,h3),o={text:"",createdAt:"",creatorId:n,clubBook:t||null,recommendedBook:e},{onAddDocSubmit:a,onDataChange:l,newDocData:h}=NE({collName:s,initialDocData:o}),{hideModal:c}=St(),f=async p=>{if(p.preventDefault(),e.title==="")return window.alert("    .");if(h.text==="")return window.alert("  .");try{await a(p),l({text:""}),await r("")}catch{window.alert("    .  .")}finally{c()}};return _.jsxs("form",{onSubmit:f,children:[_.jsx("textarea",{placeholder:"   .",onChange:p=>l({text:p.target.value}),value:h.text,className:"h-32 w-full resize-none rounded-xl border border-gray2 p-3 outline-none"}),_.jsxs("div",{className:"mt-3 flex items-end justify-between gap-3",children:[e.thumbnail&&_.jsx(Cl,{book:e,className:"h-14"}),_.jsx(ht,{name:"",type:"submit",className:"ml-auto h-fit min-w-max",disabled:i})]})]})}function Z5(){return _.jsx("div",{className:"border-b-2 border-dotted border-gray2"})}function ik({searchList:t,onSelectBtnClick:e,className:n}){return _.jsx("ul",{className:`h-52 overflow-scroll ${n}`,children:t.map(({isbn:r,title:i,thumbnail:s,authors:o,publisher:a,url:l},h)=>_.jsxs(K.Fragment,{children:[_.jsx("li",{className:"py-2",children:_.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-x-2",onClick:()=>e({title:i,thumbnail:s,authors:o,publisher:a,url:l}),children:[_.jsx(Cl,{book:{title:i,thumbnail:s,authors:o,publisher:a,url:l},className:"h-14"}),_.jsx($re,{className:"text-lg text-blue1"})]})}),(t==null?void 0:t.length)-1!==h&&_.jsx(Z5,{})]},`${i}-${r}`))})}function kce({title:t}){const e=Ts(_E),n=Ts(t3),[r,i]=K.useState(1),{searchInputRef:s,onBookQueryChange:o,searchList:a}=gv();K.useEffect(()=>{s&&!a.length&&s.current.focus()},[]);const l=c=>{h(2),t===" "?e(c):n(c)},h=c=>i(c);return _.jsxs(Or,{title:t,children:[r===1&&_.jsxs("div",{className:"relative mt-3 min-h-64 max-sm:mt-0",children:[_.jsx(Kt,{ref:s,placeholder:`${t===" "?"":" "} .`,onChange:o,className:"bg-gray-50 pl-9",iconName:"FiSearch"}),(a==null?void 0:a.length)!==0&&_.jsx(ik,{searchList:a,onSelectBtnClick:l})]}),r===2&&(t===" "?_.jsx(Ece,{}):_.jsx(Sce,{}))]})}const Tce=()=>{const{showModal:t}=St();return _.jsx(_.Fragment,{children:_.jsxs("button",{className:"mb-[10px] flex w-1/2 items-center gap-1 rounded-full bg-white px-4 py-3 shadow-card max-sm:w-full",onClick:()=>t({element:_.jsx(kce,{title:" "})}),children:[_.jsx(ME,{fontSize:18}),_.jsx("span",{className:"text-sm text-gray2",children:" "})]})})},eF=jn({key:`subjectDocs/${on()}`,default:null}),tF=jn({key:`hostReviews/${on()}`,default:null}),Cce=jn({key:`meetingReviewDocs/${on()}`,default:[]});function Nce(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(t)}function Oce(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"},child:[]}]})(t)}function Ace(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.965 8.521C19.988 8.347 20 8.173 20 8c0-2.379-2.143-4.288-4.521-3.965C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.035C6.138 3.712 4 5.621 4 8c0 .173.012.347.035.521C2.802 9.215 2 10.535 2 12s.802 2.785 2.035 3.479A3.976 3.976 0 0 0 4 16c0 2.379 2.138 4.283 4.521 3.965C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.035C17.857 20.283 20 18.379 20 16c0-.173-.012-.347-.035-.521C21.198 14.785 22 13.465 22 12s-.802-2.785-2.035-3.479zm-9.01 7.895-3.667-3.714 1.424-1.404 2.257 2.286 4.327-4.294 1.408 1.42-5.749 5.706z"},child:[]}]})(t)}const Dce=({docMonth:t})=>{const[e,n]=K.useState(!1),{book:r}=Pe(Nr(Nn)),{uid:i}=Pe(Ct),s=Zr(t,SE),o={text:"",createdAt:"",creatorId:i,clubBook:r||null,isAnonymous:e},{onAddDocSubmit:a,onDataChange:l,newDocData:h}=NE({collName:s,initialDocData:o}),{isPending:c,sendPostPushNotification:f}=Ns(),p=async m=>{if(m.preventDefault(),h.text!=="")try{await a(m),l({text:""}),await f(" ")}catch{window.alert("     .  .")}};return _.jsx("form",{onSubmit:p,className:"mb-5 rounded-2xl bg-purple4 p-4 shadow-card max-sm:p-4",children:_.jsxs("div",{className:"flex flex-col",children:[_.jsx("textarea",{placeholder:"     (  !).",value:h.text,onChange:m=>{l({text:m.target.value})},className:"mb-1 min-h-40 w-full resize-none rounded-xl bg-white p-2.5 outline-none"}),_.jsxs("div",{className:"flex items-end",children:[_.jsxs("button",{type:"button",className:`flex items-center ${e?"text-blue3":"text-gray2"} py-1`,onClick:()=>n(m=>!m),children:[_.jsx(Nce,{}),_.jsx("span",{className:"pl-1",children:" "})]}),_.jsx(ht,{name:"",type:"submit",color:"blue",className:"ml-auto mt-2 !px-5 !py-2",disabled:c})]})]})})};function nF({creatorId:t,isAnonymous:e}){return _.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[_.jsx(eie,{fontSize:14}),_.jsx("span",{className:"mr-2 text-sm",children:""}),e?_.jsx("span",{className:"text-sm",children:" "}):_.jsx(zn,{userId:t,isLink:!1})]})}function rF({collName:t,post:e,postType:n}){const{uid:r}=Pe(Ct),{creatorId:i,isAnonymous:s}=e;return _.jsxs("header",{className:"flex items-center justify-between gap-1 rounded-xl",children:[_.jsx(nF,{creatorId:i,isAnonymous:s}),r===i&&t&&_.jsx(G3,{post:e,collName:t,postType:n})]})}function sk({type:t,post:e,collName:n,className:r,children:i}){const{text:s}=e;return _.jsxs("article",{className:`flex min-h-[80px] w-full flex-col gap-2.5 ${r}`,children:[_.jsx(rF,{collName:n,post:e,postType:t}),_.jsx(jE,{text:s}),i]})}const Ice=({yearMonthId:t=Nn})=>{const[e,n]=fn(Cce),r=Zr(t,SE);K.useEffect(()=>{qn(r,n)},[r]);const i=t===Nn;return _.jsxs("div",{className:`${!i&&e.length===0?"columns-1":"columns-2"} max-sm:columns-1`,children:[i&&_.jsx(Dce,{docMonth:t}),(e==null?void 0:e.length)!==0?_.jsx("ul",{children:e==null?void 0:e.map(s=>_.jsx("li",{className:"mb-6 flex w-full break-inside-avoid flex-col gap-4",children:_.jsx(sk,{type:" ",post:s,collName:r,className:"rounded-2xl bg-white p-4 shadow-card",children:_.jsx(yv,{createdAt:s.createdAt,footerType:"likes",post:s,collName:r})})},s.id))}):_.jsx(As,{text:"   ."})]})};function WI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ok(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:WI(e[n])&&WI(t[n])&&Object.keys(e[n]).length>0&&ok(t[n],e[n])})}const iF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ci(){const t=typeof document<"u"?document:{};return ok(t,iF),t}const Rce={document:iF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ar(){const t=typeof window<"u"?window:{};return ok(t,Rce),t}function Mo(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Pce(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Km(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Qm(){return Date.now()}function Mce(t){const e=Ar();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Lce(t,e){e===void 0&&(e="x");const n=Ar();let r,i,s;const o=Mce(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function _p(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function jce(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ai(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!jce(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(_p(t[a])&&_p(r[a])?r[a].__swiper__?t[a]=r[a]:ai(t[a],r[a]):!_p(t[a])&&_p(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:ai(t[a],r[a])):t[a]=r[a])}}}return t}function Sp(t,e,n){t.style.setProperty(e,n)}function sF(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Ar(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const h=n>s?"next":"prev",c=(p,m)=>h==="next"&&p>=m||h==="prev"&&p<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let g=s+m*(n-s);if(c(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),c(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function gs(t,e){e===void 0&&(e="");const n=Ar(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function Fce(t,e){var r,i;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((r=s.shadowRoot)==null?void 0:r.children)||[],...((i=s.assignedElements)==null?void 0:i.call(s))||[])}}function $ce(t,e){const n=Ar();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Fce(t,e))),r}function Xm(t){try{console.warn(t);return}catch{}}function Qd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Mo(e)),n}function Bce(t){const e=Ar(),n=Ci(),r=t.getBoundingClientRect(),i=n.body,s=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:r.top+a-s,left:r.left+l-o}}function Uce(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Vce(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Wo(t,e){return Ar().getComputedStyle(t,null).getPropertyValue(e)}function Jm(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function oF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function f_(t,e,n){const r=Ar();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Un(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Bb;function qce(){const t=Ar(),e=Ci();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function aF(){return Bb||(Bb=qce()),Bb}let Ub;function zce(t){let{userAgent:e}=t===void 0?{}:t;const n=aF(),r=Ar(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let g=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),h&&!m&&(o.os="android",o.android=!0),(c||p||f)&&(o.os="ios",o.ios=!0),o}function lF(t){return t===void 0&&(t={}),Ub||(Ub=zce(t)),Ub}let Vb;function Hce(){const t=Ar(),e=lF();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,h]=a.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));n=l<16||l===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function Wce(){return Vb||(Vb=Hce()),Vb}function Yce(t){let{swiper:e,on:n,emit:r}=t;const i=Ar();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:p,height:m}=e;let g=p,y=m;f.forEach(w=>{let{contentBoxSize:b,contentRect:x,target:E}=w;E&&E!==e.el||(g=x?x.width:(b[0]||b).inlineSize,y=x?x.height:(b[0]||b).blockSize)}),(g!==p||y!==m)&&a()})}),s.observe(e.el))},h=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),n("destroy",()=>{h(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Gce(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Ar(),a=function(c,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const y=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=oF(e.hostEl);for(let f=0;f<c.length;f+=1)a(c[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",h)}var Kce={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(h=>{h.apply(r,n)})}),t}};function Qce(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Wo(r,"padding-left")||0,10)-parseInt(Wo(r,"padding-right")||0,10),n=n-parseInt(Wo(r,"padding-top")||0,10)-parseInt(Wo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Xce(){const t=this;function e(R,A){return parseFloat(R.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,c=gs(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let p=[];const m=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,x=t.slidesGrid.length;let E=n.spaceBetween,S=-y,k=0,N=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,c.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Sp(r,"--swiper-centered-offset-before",""),Sp(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let C;const I=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<f;R+=1){C=0;let A;if(c[R]&&(A=c[R]),O&&t.grid.updateSlide(R,A,c),!(c[R]&&Wo(A,"display")==="none")){if(n.slidesPerView==="auto"){I&&(c[R].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(A),M=A.style.transform,F=A.style.webkitTransform;if(M&&(A.style.transform="none"),F&&(A.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?f_(A,"width"):f_(A,"height");else{const q=e(D,"width"),L=e(D,"padding-left"),B=e(D,"padding-right"),Y=e(D,"margin-left"),z=e(D,"margin-right"),j=D.getPropertyValue("box-sizing");if(j&&j==="border-box")C=q+Y+z;else{const{clientWidth:U,offsetWidth:V}=A;C=q+L+B+Y+z+(V-U)}}M&&(A.style.transform=M),F&&(A.style.webkitTransform=F),n.roundLengths&&(C=Math.floor(C))}else C=(s-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),c[R]&&(c[R].style[t.getDirectionLabel("width")]=`${C}px`);c[R]&&(c[R].swiperSlideSize=C),g.push(C),n.centeredSlides?(S=S+C/2+k/2+E,k===0&&R!==0&&(S=S-s/2-E),R===0&&(S=S-s/2-E),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),N%n.slidesPerGroup===0&&p.push(S),m.push(S)):(n.roundLengths&&(S=Math.floor(S)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&p.push(S),m.push(S),S=S+C+E),t.virtualSize+=C+E,k=C,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),O&&t.grid.updateWrapperSize(C,p),!n.centeredSlides){const R=[];for(let A=0;A<p.length;A+=1){let D=p[A];n.roundLengths&&(D=Math.floor(D)),p[A]<=t.virtualSize-s&&R.push(D)}p=R,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const R=g[0]+E;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=R*n.slidesPerGroup;for(let M=0;M<A;M+=1)p.push(p[p.length-1]+D)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+R),m.push(m[m.length-1]+R),t.virtualSize+=R}if(p.length===0&&(p=[0]),E!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");c.filter((A,D)=>!n.cssMode||n.loop?!0:D!==c.length-1).forEach(A=>{A.style[R]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;g.forEach(D=>{R+=D+(E||0)}),R-=E;const A=R>s?R-s:0;p=p.map(D=>D<=0?-y:D>A?A+w:D)}if(n.centerInsufficientSlides){let R=0;g.forEach(D=>{R+=D+(E||0)}),R-=E;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+A<s){const D=(s-R-A)/2;p.forEach((M,F)=>{p[F]=M-D}),m.forEach((M,F)=>{m[F]=M+D})}}if(Object.assign(t,{slides:c,snapGrid:p,slidesGrid:m,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Sp(r,"--swiper-centered-offset-before",`${-p[0]}px`),Sp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const R=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+R),t.slidesGrid=t.slidesGrid.map(D=>D+A)}if(f!==h&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(R);f<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(R):A&&t.el.classList.remove(R)}}function Jce(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function Zce(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const YI=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ede(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const h=r[l];let c=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(h.swiperSlideSize+a),m=-(o-c),g=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||g>1&&g<=e.size||m<=0&&g>=e.size;w&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l)),YI(h,w,n.slideVisibleClass),YI(h,y,n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-p:p}}function tde(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,h=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;s=c||i<=0,o=f||i>=1,c&&(i=0),f&&(i=1)}if(n.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[c],m=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?a=(y-p)/g:a=(y+g-m)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!h&&e.emit("reachEnd toEdge"),(l&&!s||h&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const qb=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function nde(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>gs(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,h,c;if(s)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),c=e.find(f=>f.column===i+1),h=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(c=Vce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=e[0]),h=Uce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(f=>{qb(f,f===l,n.slideActiveClass),qb(f,f===c,n.slideNextClass),qb(f,f===h,n.slidePrevClass)}),t.emitSlidesClasses()}const Hp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},zb=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},h_=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,h)=>o+r+h)),t.slides.forEach((l,h)=>{a.includes(l.column)&&zb(t,h)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&zb(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&zb(t,o)};function rde(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function ide(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,h;const c=m=>{let g=m-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=rde(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);h=m+Math.floor((l-m)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===s&&!e.params.loop){h!==a&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=c(l);else if(f){const m=e.slides.find(y=>y.column===l);let g=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(m),0)),p=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:h,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&h_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function sde(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var ode={updateSize:Qce,updateSlides:Xce,updateAutoHeight:Jce,updateSlidesOffset:Zce,updateSlidesProgress:ede,updateProgress:tde,updateSlidesClasses:nde,updateActiveIndex:ide,updateClickedSlide:sde};function ade(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=Lce(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function lde(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const h=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${h}px)`);let c;const f=n.maxTranslate()-n.minTranslate();f===0?c=0:c=(t-n.minTranslate())/f,c!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function ude(){return-this.snapGrid[0]}function cde(){return-this.snapGrid[this.snapGrid.length-1]}function dde(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),h=s.maxTranslate();let c;if(r&&t>l?c=l:r&&t<h?c=h:c=t,s.updateProgress(c),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return sF({swiper:s,targetPosition:-c,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var fde={getTranslate:ade,setTranslate:lde,minTranslate:ude,maxTranslate:cde,translateTo:dde};function hde(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function uF(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function pde(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),uF({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function mde(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),uF({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var gde={setTransition:hde,transitionStart:pde,transitionEnd:mde};function vde(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:g}=s;if(!g&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let w=y+Math.floor((o-y)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let k=0;k<h.length;k+=1){const N=-Math.floor(b*100),O=Math.floor(h[k]*100),C=Math.floor(h[k+1]*100);typeof h[k+1]<"u"?N>=O&&N<C-(C-O)/2?o=k:N>=O&&N<C&&(o=k+1):N>=O&&(o=k)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(p?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(f||0)!==o))return!1;o!==(c||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let x;o>f?x="next":o<f?x="prev":x="reset";const E=s.virtual&&s.params.virtual.enabled;if(!(E&&i)&&(p&&-b===s.translate||!p&&b===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(b),x!=="reset"&&(s.transitionStart(n,x),s.transitionEnd(n,x)),!1;if(a.cssMode){const k=s.isHorizontal(),N=p?b:-b;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[k?"scrollLeft":"scrollTop"]=N})):m[k?"scrollLeft":"scrollTop"]=N,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return sF({swiper:s,targetPosition:N,side:k?"left":"top"}),!0;m.scrollTo({[k?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(b),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,x),e===0?s.transitionEnd(n,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function yde(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const p=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&c%2===0&&(c=c+1));let f=l-a<c;if(h&&(f=f||a<Math.ceil(c/2)),r&&h&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const p=h?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(s){const p=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function wde(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,h=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!h&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function bde(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:h}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const c=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(f),g=s.map(b=>p(b));let y=s[g.indexOf(m)-1];if(typeof y>"u"&&i.cssMode){let b;s.forEach((x,E)=>{m>=x&&(b=E)}),typeof b<"u"&&(y=s[b>0?b-1:b])}let w=0;if(typeof y<"u"&&(w=o.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function xde(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function _de(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const h=i.snapGrid[a],c=i.snapGrid[a+1];l-h>(c-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[a-1],c=i.snapGrid[a];l-h<=(c-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Sde(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(gs(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Km(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(gs(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Km(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var Ede={slideTo:vde,slideToLoop:yde,slideNext:wde,slidePrev:bde,slideReset:xde,slideToClosest:_de,slideToClickedSlide:Sde};function kde(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{gs(r,`.${n.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,h=c=>{for(let f=0;f<c;f+=1){const p=e.isElement?Qd("swiper-slide",[n.slideBlankClass]):Qd("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const c=o-e.slides.length%o;h(c),e.recalcSlides(),e.updateSlides()}else Xm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const c=n.grid.rows-e.slides.length%n.grid.rows;h(c),e.recalcSlides(),e.updateSlides()}else Xm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Tde(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:h,allowSlidePrev:c,allowSlideNext:f,slidesEl:p,params:m}=l,{centeredSlides:g}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=m.loopAdditionalSlides,l.loopedSlides=b;const x=l.grid&&m.grid&&m.grid.rows>1;h.length<y+b?Xm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&m.grid.fill==="row"&&Xm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],S=[];let k=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(h.find(M=>M.classList.contains(m.slideActiveClass))):k=s;const N=r==="next"||!r,O=r==="prev"||!r;let C=0,I=0;const R=x?Math.ceil(h.length/m.grid.rows):h.length,D=(x?h[s].column:s)+(g&&typeof i>"u"?-y/2+.5:0);if(D<b){C=Math.max(b-D,w);for(let M=0;M<b-D;M+=1){const F=M-Math.floor(M/R)*R;if(x){const q=R-F-1;for(let L=h.length-1;L>=0;L-=1)h[L].column===q&&E.push(L)}else E.push(R-F-1)}}else if(D+y>R-b){I=Math.max(D-(R-b*2),w);for(let M=0;M<I;M+=1){const F=M-Math.floor(M/R)*R;x?h.forEach((q,L)=>{q.column===F&&S.push(L)}):S.push(F)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),O&&E.forEach(M=>{h[M].swiperLoopMoveDOM=!0,p.prepend(h[M]),h[M].swiperLoopMoveDOM=!1}),N&&S.forEach(M=>{h[M].swiperLoopMoveDOM=!0,p.append(h[M]),h[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():x&&(E.length>0&&O||S.length>0&&N)&&l.slides.forEach((M,F)=>{l.grid.updateSlide(F,M,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(E.length>0&&O){if(typeof e>"u"){const M=l.slidesGrid[k],q=l.slidesGrid[k+C]-M;a?l.setTranslate(l.translate-q):(l.slideTo(k+Math.ceil(C),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else if(i){const M=x?E.length/m.grid.rows:E.length;l.slideTo(l.activeIndex+M,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&N)if(typeof e>"u"){const M=l.slidesGrid[k],q=l.slidesGrid[k-I]-M;a?l.setTranslate(l.translate-q):(l.slideTo(k-I,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else{const M=x?S.length/m.grid.rows:S.length;l.slideTo(l.activeIndex-M,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const M={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(F=>{!F.destroyed&&F.params.loop&&F.loopFix({...M,slideTo:F.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...M,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Cde(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Nde={loopCreate:kde,loopFix:Tde,loopDestroy:Cde};function Ode(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ade(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Dde={setGrabCursor:Ode,unsetGrabCursor:Ade};function Ide(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Ci()||r===Ar())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function GI(t,e,n){const r=Ar(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Rde(t){const e=this,n=Ci();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){GI(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!$ce(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",c=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&c&&(l=c[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(p?Ide(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,g=o.currentY;if(!GI(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,i.touchStartTime=Qm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let y=!0;l.matches(i.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Pde(t){const e=Ci(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].find(k=>k.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=h.pageX,f=h.pageY;if(l.preventedByNestedSwiper){s.startX=c,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=Qm());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=c,s.currentY=f;const p=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let k;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+m*m>=25&&(k=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?k>i.touchAngle:90-k>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?p:m,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=g,g*=i.touchRatio,o&&(g=-g,y=-y);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!i.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&b&&x&&Math.abs(g)>=1){Object.assign(s,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let E=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),g>0?(b&&x&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(b&&x&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),E&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Mde(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(k=>k.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:h,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Qm(),p=f-n.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Qm(),Km(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const g=m>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let k=0;k<h.length;k+=k<o.slidesPerGroupSkip?1:o.slidesPerGroup){const N=k<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof h[k+N]<"u"?(g||m>=h[k]&&m<h[k+N])&&(y=k,w=h[k+N]-h[k]):(g||m>=h[k])&&(y=k,w=h[h.length-1]-h[h.length-2])}let b=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const E=(m-h[y])/w,S=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?b:y+S):e.slideTo(y)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(y+S):x!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+S):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+S),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function KI(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Lde(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function jde(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Fde(t){const e=this;Hp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function $de(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const cF=(t,e)=>{const n=Ci(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[h](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",KI,!0):t[h]("observerUpdate",KI,!0),i[l]("load",t.onLoad,{capture:!0}))};function Bde(){const t=this,{params:e}=t;t.onTouchStart=Rde.bind(t),t.onTouchMove=Pde.bind(t),t.onTouchEnd=Mde.bind(t),t.onDocumentTouchStart=$de.bind(t),e.cssMode&&(t.onScroll=jde.bind(t)),t.onClick=Lde.bind(t),t.onLoad=Fde.bind(t),cF(t,"on")}function Ude(){cF(this,"off")}var Vde={attachEvents:Bde,detachEvents:Ude};const QI=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function qde(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Ci(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),h=t.getBreakpoint(s,a,l);if(!h||t.currentBreakpoint===h)return;const f=(h in s?s[h]:void 0)||t.originalParams,p=QI(t,r),m=QI(t,f),g=t.params.grabCursor,y=f.grabCursor,w=r.enabled;p&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof f[N]>"u")return;const O=r[N]&&r[N].enabled,C=f[N]&&f[N].enabled;O&&!C&&t[N].disable(),!O&&C&&t[N].enable()});const b=f.direction&&f.direction!==r.direction,x=r.loop&&(f.slidesPerView!==r.slidesPerView||b),E=r.loop;b&&n&&t.changeDirection(),ai(t.params,f);const S=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!S?t.disable():!w&&S&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",f),n&&(x?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&k?(t.loopCreate(e),t.updateSlides()):E&&!k&&t.loopDestroy()),t.emit("breakpoint",f)}function zde(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Ar(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:h}=o[a];e==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=n.clientWidth&&(r=l)}return r||"max"}var Hde={setBreakpoint:qde,getBreakpoint:zde};function Wde(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Yde(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=Wde(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function Gde(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Kde={addClasses:Yde,removeClasses:Gde};function Qde(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Xde={checkOverflow:Qde},p_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Jde(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){ai(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){ai(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),ai(e,r)}}const Hb={eventsEmitter:Kce,update:ode,translate:fde,transition:gde,slide:Ede,loop:Nde,grabCursor:Dde,events:Vde,breakpoints:Hde,checkOverflow:Xde,classes:Kde},Wb={};let ak=class Bs{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=ai({},n),e&&!n.el&&(n.el=e);const o=Ci();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const c=[];return o.querySelectorAll(n.el).forEach(f=>{const p=ai({},n,{el:f});c.push(new Bs(p))}),c}const a=this;a.__swiper__=!0,a.support=aF(),a.device=lF({userAgent:n.userAgent}),a.browser=Wce(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(c=>{c({params:n,swiper:a,extendParams:Jde(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const h=ai({},p_,l);return a.params=ai({},h,Wb,n),a.originalParams=ai({},a.params),a.passedParams=ai({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=gs(n,`.${r.slideClass}, swiper-slide`),s=Jm(i[0]);return Jm(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=gs(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:h}=r;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[h]?Math.ceil(s[h].swiperSlideSize):0,p;for(let m=h+1;m<s.length;m+=1)s[m]&&!p&&(f+=Math.ceil(s[m].swiperSlideSize),c+=1,f>l&&(p=!0));for(let m=h-1;m>=0;m-=1)s[m]&&!p&&(f+=s[m].swiperSlideSize,c+=1,f>l&&(p=!0))}else if(e==="current")for(let f=h+1;f<s.length;f+=1)(n?o[f]+a[f]-o[h]<l:o[f]-o[h]<l)&&(c+=1);else for(let f=h-1;f>=0;f-=1)o[h]-o[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Hp(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):gs(r,i())[0];return!o&&n.params.createElements&&(o=Qd("div",n.params.wrapperClass),r.append(o),gs(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Wo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Wo(r,"direction")==="rtl"),wrongRTL:Wo(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Hp(n,s):s.addEventListener("load",o=>{Hp(n,o.target)})}),h_(n),n.initialized=!0,h_(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Pce(r)),r.destroyed=!0),null}static extendDefaults(e){ai(Wb,e)}static get extendedDefaults(){return Wb}static get defaults(){return p_}static installModule(e){Bs.prototype.__modules__||(Bs.prototype.__modules__=[]);const n=Bs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Bs.installModule(n)),Bs):(Bs.installModule(e),Bs)}};Object.keys(Hb).forEach(t=>{Object.keys(Hb[t]).forEach(e=>{ak.prototype[e]=Hb[t][e]})});ak.use([Yce,Gce]);const dF=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function hl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function bu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:hl(e[r])&&hl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:bu(t[r],e[r]):t[r]=e[r]})}function fF(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function hF(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function pF(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function mF(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Zde(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function efe(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const h=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:c,pagination:f,navigation:p,scrollbar:m,virtual:g,thumbs:y}=e;let w,b,x,E,S,k,N,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(b=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(c.scrollbar||c.scrollbar===!1)&&m&&!m.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(S=!0);const C=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),c[I].prevEl=void 0,c[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),c[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!r.loop?k=!0:!c.loop&&r.loop?N=!0:O=!0),h.forEach(I=>{if(hl(c[I])&&hl(r[I]))Object.assign(c[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&C(I);else{const R=r[I];(R===!0||R===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?R===!1&&C(I):c[I]=r[I]}}),h.includes("controller")&&!b&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&n&&g&&c.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&c.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&c.loop&&(O=!0),w&&y.init()&&y.update(!0),b&&(e.controller.control=c.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),S&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(k||O)&&e.loopDestroy(),(N||O)&&e.loopCreate(),e.update()}function tfe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};bu(n,p_),n._emitClasses=!0,n.init=!1;const s={},o=dF.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?hl(t[l])?(n[l]={},i[l]={},bu(n[l],t[l]),bu(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function nfe(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;fF(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),hF(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),pF(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function rfe(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),h=n.map(i);l.join("")!==h.join("")&&o("children"),r.length!==n.length&&o("children")}return dF.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(hl(t[l])&&hl(e[l])){const h=Object.keys(t[l]),c=Object.keys(e[l]);h.length!==c.length?o(l):(h.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const ife=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function gF(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function vF(t){const e=[];return se.Children.toArray(t).forEach(n=>{gF(n)?e.push(n):n.props&&n.props.children&&vF(n.props.children).forEach(r=>e.push(r))}),e}function sfe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return se.Children.toArray(t).forEach(r=>{if(gF(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=vF(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function ofe(t,e,n){if(!n)return null;const r=c=>{let f=c;return c<0?f=e.length+c:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,h=[];for(let c=a;c<l;c+=1)c>=s&&c<=o&&h.push(e[r(c)]);return h.map((c,f)=>se.cloneElement(c,{swiper:t,style:i,key:c.props.virtualIndex||c.key||`slide-${f}`}))}function Sd(t,e){return typeof window>"u"?K.useEffect(t,e):K.useLayoutEffect(t,e)}const XI=K.createContext(null),afe=K.createContext(null),yF=K.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[h,c]=K.useState("swiper"),[f,p]=K.useState(null),[m,g]=K.useState(!1),y=K.useRef(!1),w=K.useRef(null),b=K.useRef(null),x=K.useRef(null),E=K.useRef(null),S=K.useRef(null),k=K.useRef(null),N=K.useRef(null),O=K.useRef(null),{params:C,passedParams:I,rest:R,events:A}=tfe(a),{slides:D,slots:M}=sfe(s),F=()=>{g(!m)};Object.assign(C.on,{_containerClasses(z,j){c(j)}});const q=()=>{Object.assign(C.on,A),l=!0;const z={...C};if(delete z.wrapperClass,b.current=new ak(z),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=D;const j={cache:!1,slides:D,renderExternal:p,renderExternalUpdate:!1};bu(b.current.params.virtual,j),bu(b.current.originalParams.virtual,j)}};w.current||q(),b.current&&b.current.on("_beforeBreakpoint",F);const L=()=>{l||!A||!b.current||Object.keys(A).forEach(z=>{b.current.on(z,A[z])})},B=()=>{!A||!b.current||Object.keys(A).forEach(z=>{b.current.off(z,A[z])})};K.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",F)}),K.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),Sd(()=>{if(e&&(e.current=w.current),!!w.current)return b.current.destroyed&&q(),nfe({el:w.current,nextEl:S.current,prevEl:k.current,paginationEl:N.current,scrollbarEl:O.current,swiper:b.current},C),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Sd(()=>{L();const z=rfe(I,x.current,D,E.current,j=>j.key);return x.current=I,E.current=D,z.length&&b.current&&!b.current.destroyed&&efe({swiper:b.current,slides:D,passedParams:I,changedParams:z,nextEl:S.current,prevEl:k.current,scrollbarEl:O.current,paginationEl:N.current}),()=>{B()}}),Sd(()=>{ife(b.current)},[f]);function Y(){return C.virtual?ofe(b.current,D,f):D.map((z,j)=>se.cloneElement(z,{swiper:b.current,swiperSlideIndex:j}))}return se.createElement(r,Zm({ref:w,className:mF(`${h}${n?` ${n}`:""}`)},R),se.createElement(afe.Provider,{value:b.current},M["container-start"],se.createElement(i,{className:Zde(C.wrapperClass)},M["wrapper-start"],Y(),M["wrapper-end"]),fF(C)&&se.createElement(se.Fragment,null,se.createElement("div",{ref:k,className:"swiper-button-prev"}),se.createElement("div",{ref:S,className:"swiper-button-next"})),pF(C)&&se.createElement("div",{ref:O,className:"swiper-scrollbar"}),hF(C)&&se.createElement("div",{ref:N,className:"swiper-pagination"}),M["container-end"]))});yF.displayName="Swiper";const $f=K.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:h,...c}=t===void 0?{}:t;const f=K.useRef(null),[p,m]=K.useState("swiper-slide"),[g,y]=K.useState(!1);function w(S,k,N){k===f.current&&m(N)}Sd(()=>{if(typeof h<"u"&&(f.current.swiperSlideIndex=h),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),Sd(()=>{s&&f.current&&!s.destroyed&&m(s.getSlideClasses(f.current))},[s]);const b={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(b):r,E=()=>{y(!0)};return se.createElement(n,Zm({ref:f,className:mF(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:E},c),o&&se.createElement(XI.Provider,{value:b},se.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&se.createElement(XI.Provider,{value:b},x(),a&&!g&&se.createElement("div",{className:"swiper-lazy-preloader"})))});$f.displayName="SwiperSlide";function eg({title:t,to:e,state:n,className:r="",onClick:i}){return _.jsxs(br,{to:e,state:n,className:`mt-3 flex items-center justify-end gap-1 text-sm text-gray1 ${r}`,onClick:i,children:[t&&_.jsx("span",{className:"font-medium",children:t}),_.jsx(RE,{className:""})]})}function lfe({to:t,name:e,state:n}){return _.jsxs(br,{to:t,state:n,className:"mb-2 flex items-center gap-1 rounded-xl px-4 py-3",children:[_.jsx(P3,{className:"text-lg text-blue3"}),_.jsx("span",{className:"font-medium text-blue3",children:e})]})}function lk(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=gs(t.el,`.${r[i]}`)[0];s||(s=Qd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function ufe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function o(g,y){const w=e.params.navigation;g=Un(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const g=e.params.navigation;if(e.params.navigation=lk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=s(g.nextEl),w=s(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=Un(y),w=Un(w);const b=(x,E)=>{x&&x.addEventListener("click",E==="next"?h:l),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>b(x,"next")),w.forEach(x=>b(x,"prev"))}function f(){let{nextEl:g,prevEl:y}=e.navigation;g=Un(g),y=Un(y);const w=(b,x)=>{b.removeEventListener("click",x==="next"?h:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>w(b,"next")),y.forEach(b=>w(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(c(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=Un(g),y=Un(y),e.enabled){a();return}[...g,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:w,prevEl:b}=e.navigation;w=Un(w),b=Un(b);const x=y.target;let E=b.includes(x)||w.includes(x);if(e.isElement&&!E){const S=y.path||y.composedPath&&y.composedPath();S&&(E=S.find(k=>w.includes(k)||b.includes(k)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let S;w.length?S=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(S=b[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...w,...b].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:c,destroy:f})}function iu(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function cfe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(x,E){const{bulletActiveClass:S}=e.params.pagination;x&&(x=x[`${E==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${S}-${E}`),x=x[`${E==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${S}-${E}-${E}`)))}function c(x,E,S){if(x=x%S,E=E%S,E===x+1)return"next";if(E===x-1)return"previous"}function f(x){const E=x.target.closest(iu(e.params.pagination.bulletClass));if(!E)return;x.preventDefault();const S=Jm(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const k=c(e.realIndex,S,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function p(){const x=e.rtl,E=e.params.pagination;if(l())return;let S=e.pagination.el;S=Un(S);let k,N;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,k=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let R,A,D;if(E.dynamicBullets&&(o=f_(I[0],e.isHorizontal()?"width":"height"),S.forEach(M=>{M.style[e.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&N!==void 0&&(a+=k-(N||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(k-a,0),A=R+(Math.min(I.length,E.dynamicMainBullets)-1),D=(A+R)/2),I.forEach(M=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${E.bulletActiveClass}${q}`)].map(q=>typeof q=="string"&&q.includes(" ")?q.split(" "):q).flat();M.classList.remove(...F)}),S.length>1)I.forEach(M=>{const F=Jm(M);F===k?M.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&M.setAttribute("part","bullet"),E.dynamicBullets&&(F>=R&&F<=A&&M.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),F===R&&h(M,"prev"),F===A&&h(M,"next"))});else{const M=I[k];if(M&&M.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&I.forEach((F,q)=>{F.setAttribute("part",q===k?"bullet-active":"bullet")}),E.dynamicBullets){const F=I[R],q=I[A];for(let L=R;L<=A;L+=1)I[L]&&I[L].classList.add(...`${E.bulletActiveClass}-main`.split(" "));h(F,"prev"),h(q,"next")}}if(E.dynamicBullets){const M=Math.min(I.length,E.dynamicMainBullets+4),F=(o*M-o)/2-D*o,q=x?"right":"left";I.forEach(L=>{L.style[e.isHorizontal()?q:"top"]=`${F}px`})}}S.forEach((I,R)=>{if(E.type==="fraction"&&(I.querySelectorAll(iu(E.currentClass)).forEach(A=>{A.textContent=E.formatFractionCurrent(k+1)}),I.querySelectorAll(iu(E.totalClass)).forEach(A=>{A.textContent=E.formatFractionTotal(C)})),E.type==="progressbar"){let A;E.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const D=(k+1)/C;let M=1,F=1;A==="horizontal"?M=D:F=D,I.querySelectorAll(iu(E.progressbarFillClass)).forEach(q=>{q.style.transform=`translate3d(0,0,0) scaleX(${M}) scaleY(${F})`,q.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(I.innerHTML=E.renderCustom(e,k+1,C),R===0&&i("paginationRender",I)):(R===0&&i("paginationRender",I),i("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](E.lockClass)})}function m(){const x=e.params.pagination;if(l())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=Un(S);let k="";if(x.type==="bullets"){let N=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>E&&(N=E);for(let O=0;O<N;O+=1)x.renderBullet?k+=x.renderBullet.call(e,O,x.bulletClass):k+=`<${x.bulletElement} ${e.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?k=x.renderFraction.call(e,x.currentClass,x.totalClass):k=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?k=x.renderProgressbar.call(e,x.progressbarFillClass):k=`<span class="${x.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(N=>{x.type!=="custom"&&(N.innerHTML=k||""),x.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(iu(x.bulletClass)))}),x.type!=="custom"&&i("paginationRender",S[0])}function g(){e.params.pagination=lk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const x=e.params.pagination;if(!x.el)return;let E;typeof x.el=="string"&&e.isElement&&(E=e.el.querySelector(x.el)),!E&&typeof x.el=="string"&&(E=[...document.querySelectorAll(x.el)]),E||(E=x.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(x.el)],E.length>1&&(E=E.find(S=>oF(S,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Un(E),E.forEach(S=>{x.type==="bullets"&&x.clickable&&S.classList.add(...(x.clickableClass||"").split(" ")),S.classList.add(x.modifierClass+x.type),S.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(S.classList.add(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&S.classList.add(x.progressbarOppositeClass),x.clickable&&S.addEventListener("click",f),e.enabled||S.classList.add(x.lockClass)}))}function y(){const x=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=Un(E),E.forEach(S=>{S.classList.remove(x.hiddenClass),S.classList.remove(x.modifierClass+x.type),S.classList.remove(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(S.classList.remove(...(x.clickableClass||"").split(" ")),S.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...x.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const x=e.params.pagination;let{el:E}=e.pagination;E=Un(E),E.forEach(S=>{S.classList.remove(x.horizontalClass,x.verticalClass),S.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),m(),p())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),r("snapIndexChange",()=>{p()}),r("snapGridLengthChange",()=>{m(),p()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:x}=e.pagination;x&&(x=Un(x),x.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{p()}),r("click",(x,E)=>{const S=E.target,k=Un(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const N=k[0].classList.contains(e.params.pagination.hiddenClass);i(N===!0?"paginationShow":"paginationHide"),k.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Un(x),x.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),g(),m(),p()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=Un(x),x.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:b,render:m,update:p,init:g,destroy:y})}function dfe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=Ci();let o=!1,a=null,l=null,h,c,f,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D,rtlTranslate:M}=e,{dragEl:F,el:q}=D,L=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress;let Y=c,z=(f-c)*B;M?(z=-z,z>0?(Y=c-z,z=0):-z+c>f&&(Y=f+z)):z<0?(Y=c+z,z=0):z+c>f&&(Y=f-z),e.isHorizontal()?(F.style.transform=`translate3d(${z}px, 0, 0)`,F.style.width=`${Y}px`):(F.style.transform=`translate3d(0px, ${z}px, 0)`,F.style.height=`${Y}px`),L.hide&&(clearTimeout(a),q.style.opacity=1,a=setTimeout(()=>{q.style.opacity=0,q.style.transitionDuration="400ms"},1e3))}function g(D){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${D}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:D}=e,{dragEl:M,el:F}=D;M.style.width="",M.style.height="",f=e.isHorizontal()?F.offsetWidth:F.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=f*p:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?M.style.width=`${c}px`:M.style.height=`${c}px`,p>=1?F.style.display="none":F.style.display="",e.params.scrollbar.hide&&(F.style.opacity=0),e.params.watchOverflow&&e.enabled&&D.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(D){return e.isHorizontal()?D.clientX:D.clientY}function b(D){const{scrollbar:M,rtlTranslate:F}=e,{el:q}=M;let L;L=(w(D)-Bce(q)[e.isHorizontal()?"left":"top"]-(h!==null?h:c/2))/(f-c),L=Math.max(Math.min(L,1),0),F&&(L=1-L);const B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*L;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function x(D){const M=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:L,dragEl:B}=F;o=!0,h=D.target===B?w(D)-D.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,D.preventDefault(),D.stopPropagation(),q.style.transitionDuration="100ms",B.style.transitionDuration="100ms",b(D),clearTimeout(l),L.style.transitionDuration="0ms",M.hide&&(L.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",D)}function E(D){const{scrollbar:M,wrapperEl:F}=e,{el:q,dragEl:L}=M;o&&(D.preventDefault&&D.cancelable?D.preventDefault():D.returnValue=!1,b(D),F.style.transitionDuration="0ms",q.style.transitionDuration="0ms",L.style.transitionDuration="0ms",i("scrollbarDragMove",D))}function S(D){const M=e.params.scrollbar,{scrollbar:F,wrapperEl:q}=e,{el:L}=F;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",q.style.transitionDuration=""),M.hide&&(clearTimeout(l),l=Km(()=>{L.style.opacity=0,L.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",D),M.snapOnRelease&&e.slideToClosest())}function k(D){const{scrollbar:M,params:F}=e,q=M.el;if(!q)return;const L=q,B=F.passiveListeners?{passive:!1,capture:!1}:!1,Y=F.passiveListeners?{passive:!0,capture:!1}:!1;if(!L)return;const z=D==="on"?"addEventListener":"removeEventListener";L[z]("pointerdown",x,B),s[z]("pointermove",E,B),s[z]("pointerup",S,Y)}function N(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function O(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function C(){const{scrollbar:D,el:M}=e;e.params.scrollbar=lk(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const F=e.params.scrollbar;if(!F.el)return;let q;if(typeof F.el=="string"&&e.isElement&&(q=e.el.querySelector(F.el)),!q&&typeof F.el=="string"){if(q=s.querySelectorAll(F.el),!q.length)return}else q||(q=F.el);e.params.uniqueNavElements&&typeof F.el=="string"&&q.length>1&&M.querySelectorAll(F.el).length===1&&(q=M.querySelector(F.el)),q.length>0&&(q=q[0]),q.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass);let L;q&&(L=q.querySelector(iu(e.params.scrollbar.dragClass)),L||(L=Qd("div",e.params.scrollbar.dragClass),q.append(L))),Object.assign(D,{el:q,dragEl:L}),F.draggable&&N(),q&&q.classList[e.enabled?"remove":"add"](...Mo(e.params.scrollbar.lockClass))}function I(){const D=e.params.scrollbar,M=e.scrollbar.el;M&&M.classList.remove(...Mo(e.isHorizontal()?D.horizontalClass:D.verticalClass)),O()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const D=e.params.scrollbar;let{el:M}=e.scrollbar;M=Un(M),M.forEach(F=>{F.classList.remove(D.horizontalClass,D.verticalClass),F.classList.add(e.isHorizontal()?D.horizontalClass:D.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?A():(C(),y(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{y()}),r("setTranslate",()=>{m()}),r("setTransition",(D,M)=>{g(M)}),r("enable disable",()=>{const{el:D}=e.scrollbar;D&&D.classList[e.enabled?"remove":"add"](...Mo(e.params.scrollbar.lockClass))}),r("destroy",()=>{I()});const R=()=>{e.el.classList.remove(...Mo(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Mo(e.params.scrollbar.scrollbarDisabledClass)),C(),y(),m()},A=()=>{e.el.classList.add(...Mo(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Mo(e.params.scrollbar.scrollbarDisabledClass)),I()};Object.assign(e.scrollbar,{enable:R,disable:A,updateSize:y,setTranslate:m,init:C,destroy:I})}function ffe(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,h=s&&s.autoplay?s.autoplay.delay:3e3,c,f=new Date().getTime(),p,m,g,y,w,b,x;function E(Y){!e||e.destroyed||!e.wrapperEl||Y.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(x||Y.detail&&Y.detail.bySwiperTouchMove)&&R())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(h=c,p=!1);const Y=e.autoplay.paused?c:f+h-new Date().getTime();e.autoplay.timeLeft=Y,i("autoplayTimeLeft",Y,Y/l),a=requestAnimationFrame(()=>{S()})},k=()=>{let Y;return e.virtual&&e.params.virtual.enabled?Y=e.slides.find(j=>j.classList.contains("swiper-slide-active")):Y=e.slides[e.activeIndex],Y?parseInt(Y.getAttribute("data-swiper-autoplay"),10):void 0},N=Y=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),S();let z=typeof Y>"u"?e.params.autoplay.delay:Y;l=e.params.autoplay.delay,h=e.params.autoplay.delay;const j=k();!Number.isNaN(j)&&j>0&&typeof Y>"u"&&(z=j,l=j,h=j),c=z;const U=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,U,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(U,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,U,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return z>0?(clearTimeout(o),o=setTimeout(()=>{V()},z)):requestAnimationFrame(()=>{V()}),z},O=()=>{f=new Date().getTime(),e.autoplay.running=!0,N(),i("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},I=(Y,z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),Y||(b=!0);const j=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):R()};if(e.autoplay.paused=!0,z){w&&(c=e.params.autoplay.delay),w=!1,j();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),j())},R=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,N(c)):N(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const Y=Ci();Y.visibilityState==="hidden"&&(b=!0,I(!0)),Y.visibilityState==="visible"&&R()},D=Y=>{Y.pointerType==="mouse"&&(b=!0,x=!0,!(e.animating||e.autoplay.paused)&&I(!0))},M=Y=>{Y.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&R())},F=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",M))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",M))},L=()=>{Ci().addEventListener("visibilitychange",A)},B=()=>{Ci().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(F(),L(),O())}),r("destroy",()=>{q(),B(),e.autoplay.running&&C()}),r("_freeModeStaticRelease",()=>{(g||b)&&R()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():I(!0,!0)}),r("beforeTransitionStart",(Y,z,j)=>{e.destroyed||!e.autoplay.running||(j||!e.params.autoplay.disableOnInteraction?I(!0,!0):C())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}m=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,I(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,m=!1;return}g&&e.params.cssMode&&R(),g=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:O,stop:C,pause:I,resume:R})}const Mv=K.forwardRef(({children:t,options:e},n)=>{const r={modules:[ffe,cfe,ufe,dfe],spaceBetween:15,slidesPerView:"auto",speed:800,autoplay:{disableOnInteraction:!0},navigation:!0,pagination:{type:"bullets"},scrollbar:{draggable:!0},...e};return _.jsx(yF,{ref:n,className:"sample-slider h-full",...r,children:t})}),hfe={spaceBetween:8,pagination:!1,scrollbar:!1,navigation:!1,autoplay:!1};function pfe({yearMonthId:t}){const[e,n]=K.useState(""),[r,i]=fn(tF),[s,o]=fn(eF);K.useEffect(()=>{qn(Zr(t,pv),i),qn(Zr(t,Af),o)},[t,s==null?void 0:s.length]);const{pathname:a}=ur(),l={:{postList:s,linkTo:"subjects",access:""}," ":{postList:r,linkTo:"host-review",access:""}},{postList:h,linkTo:c,access:f}=l[e],{blockLinkAndAlertJoinMember:p}=mi("see");return _.jsxs("div",{className:"w-full",children:[_.jsx("ul",{className:"flex gap-1",children:Object.keys(l).map(m=>_.jsx("li",{children:_.jsx("button",{onClick:()=>n(m),className:`rounded-t-xl px-3 py-2 ${m===e?"bg-blue4 font-medium text-blue3":"bg-white text-text"}`,children:m})},m))}),_.jsx("div",{className:`flex min-h-48 w-full flex-col items-center justify-center rounded-b-2xl rounded-tr-2xl p-4 shadow-card ${e?"bg-blue4":""}`,children:(h==null?void 0:h.length)!==0?_.jsxs(_.Fragment,{children:[_.jsx(Mv,{options:hfe,children:h==null?void 0:h.map((m,g)=>_.jsx($f,{className:`!mt-0 min-h-fit !py-0 ${h.length===1?"w-full":"max-w-[70vw]"}`,children:_.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-xl bg-white p-3",children:[_.jsx(sk,{type:e,post:m,className:"relative [&>p]:line-clamp-[6]"}),_.jsxs("span",{className:"absolute right-4 top-3 text-sm text-gray1",children:[g+1," / ",h.length]}),_.jsx(eg,{title:"",state:{postId:m.id},to:c,onClick:p,className:"bg-purple4 w-fit self-end rounded-xl px-4 py-3 !text-[15px] text-purple2 shadow-card"})]})},m.id))}),_.jsx(eg,{title:` ${e} `,to:c,onClick:p,className:"w-fit self-end px-2 !text-[15px] text-blue-500"})]}):_.jsx(_.Fragment,{children:a.includes("previous-club")?_.jsxs("span",{className:"text-sm text-blue3",children:[" ",e," "]}):_.jsxs(_.Fragment,{children:[_.jsx(lfe,{to:c,name:`${e}  `}),_.jsxs("span",{className:"text-sm text-gray1",children:[f,"   "]})]})})})]})}function mfe({collName:t,recommendedBookDetail:e}){const{creatorId:n,createdAt:r,text:i,clubBook:s,recommendedBook:{url:o,authors:a,publisher:l,title:h,thumbnail:c}}=e;return _.jsxs(Or,{title:" ",className:"w-[40%]",children:[_.jsx(rF,{collName:t,post:e,postType:""}),_.jsxs("div",{className:"mt-4 gap-2 overflow-scroll scrollbar-hide",children:[_.jsx(an,{title:h,thumbnail:c,url:o,className:"float-left mb-2 mr-4 w-20"}),_.jsx("h4",{className:"text-lg",children:_.jsx("span",{className:"pr-1",children:h})}),_.jsx(Os,{authors:a,publisher:l}),_.jsxs("h3",{className:"mt-1 flex items-center border-t-2 border-dotted border-gray3 pt-2",children:[_.jsx(zn,{userId:n,isLink:!1}),"  "]}),_.jsx("p",{dangerouslySetInnerHTML:{__html:i},className:"mt-2 whitespace-pre-wrap break-all"}),(s||e.title)&&_.jsxs(_.Fragment,{children:[_.jsx("h3",{className:"mt-6 text-sm text-gray1",children:"  "}),e.recommendedBook&&_.jsx(Cl,{book:s||{title:e.title,thumbnail:e.thumbnail},className:"h-14"})]}),_.jsx(yv,{collName:t,createdAt:r,post:e,footerType:"likes"})]})]})}function gfe({docIds:{docId:t,monthId:e}}){const[n,r]=K.useState(),{showModal:i}=St(),o=`BookClub-${e.slice(0,4)}/${e}/RecommendedBooks`;K.useEffect(()=>{Cr(o,t,r)},[]);const{recommendedBook:a,creatorId:l}=n||{},h=()=>i({element:_.jsx(mfe,{recommendedBookDetail:n,collName:o})});return _.jsx(_.Fragment,{children:(n==null?void 0:n.recommendedBook)&&_.jsxs("button",{type:"button",onClick:h,className:"relative mx-2 mt-7 min-h-[102px] w-full rounded-xl bg-white px-6 py-3 shadow-card",children:[_.jsx(an,{title:a.title,thumbnail:a.thumbnail,className:"!absolute bottom-4 w-[80px]"}),_.jsxs("div",{className:"ml-[90px] flex h-full flex-col items-start",children:[_.jsxs("div",{className:"flex items-center gap-0.5 text-gray1",children:[_.jsx(Wd,{fontSize:14,className:"text-gray2"}),_.jsx("span",{className:"mr-2 text-sm text-gray2",children:""}),_.jsx(zn,{userId:l,isLink:!1})]}),_.jsxs("div",{className:"mb-1 mt-1.5 flex flex-1 flex-col items-start",children:[_.jsx("span",{className:"mb-1 line-clamp-2 text-start text-base font-medium leading-[20px]",children:a.title}),_.jsx(Os,{authors:a==null?void 0:a.authors,publisher:a==null?void 0:a.publisher})]})]})]})})}const vfe={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},500:{slidesPerView:1},320:{slidesPerView:1}},scrollbar:!1};function wF({yearMonthId:t,maxLength:e}){const n=Pe(ga),r=K.useMemo(()=>{const i=n.map(o=>{var a;return(a=o==null?void 0:o.userRecords)==null?void 0:a.recommendedBooks}).filter(o=>!!(o!=null&&o.length)).flat().sort(UO).slice(0,e),s=i.filter(o=>t?o.monthId===t:o).sort(UO);return t?s:i},[n,t]);return r.length!==0?_.jsx(Mv,{options:vfe,children:r.map(i=>_.jsx($f,{children:_.jsx(gfe,{docIds:i})},i.docId))}):_.jsx(As,{text:"  ."})}const yfe=()=>{var c,f;const t=N_(),e=(t==null?void 0:t.id)||Nn,n=e.slice(0,4),r=e===Nn,{absenteeList:i,participantList:s}=Pe(T3(e)),o=Ts(kl(_t)),a=Pe(Nr(e)),l=Ts(Df),h=(c=a==null?void 0:a.meeting)==null?void 0:c.eventMonth;return K.useEffect(()=>{r&&qn(lo,l)},[r]),K.useEffect(()=>{Cr(`BookClub-${n}`,ul,o)},[n]),_.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${r?"":wt(e,"yyyy M")} `,backBtn:!r,backTo:"/previous-bookclub"}),Of(e)?_.jsx("main",{children:a?_.jsxs(_.Fragment,{children:[_.jsx(Rt,{title:`${r?"":""}  `,children:_.jsx(d_,{yearMonthId:a.id})}),_.jsxs("div",{className:"grid grid-cols-5 gap-x-6 max-sm:flex max-sm:flex-col [&>section:first-child]:col-span-2 [&>section:last-child]:col-span-3",children:[i&&_.jsx(Rt,{title:`${r?"":""}  `,children:_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx(lI,{title:`  ${s.length}`,memberList:s}),_.jsx(lI,{title:`  ${i.length}`,memberList:i})]})}),!h&&_.jsxs(Rt,{title:`${r?"":""}   `,children:[r&&_.jsx(bs,{text:"  ,           .    ,            ."}),_.jsx(pfe,{yearMonthId:e})]})]}),_.jsxs(Rt,{title:r?" ":"",children:[r&&_.jsx(Tce,{}),_.jsx(wF,{yearMonthId:e})]}),h&&_.jsx(xce,{eventDetail:(f=a.meeting)==null?void 0:f.eventMonth}),_.jsx(Rt,{title:`${r?"":""}  `,children:_.jsx(Ice,{yearMonthId:e})})]}):_.jsx(As,{text:"   ."})}):_.jsx(rc,{size:150,className:"h-[80vh]"})]})};function wfe(){return _.jsx("footer",{className:"border-t border-gray3 bg-blue1 px-4 pb-40 pt-10",children:_.jsx("span",{className:"mb-10 text-white",children:"   All rights reserved"})})}function bF({hyphenDate:t,isDateMark:e=!0,className:n}){return _.jsxs("div",{className:`flex items-center gap-x-1 ${n}`,children:[_.jsx("span",{className:"text-[15px] tracking-tighter",children:"DDAY"}),_.jsxs("span",{className:"font-bold text-red-500",children:[": ",Lu(t)]}),e&&_.jsx("span",{className:"ml-2 text-sm text-gray1",children:wt(t,"yyyy M d")})]})}const xF=({voteDetail:t})=>{const{id:e,title:n,voteItems:r,deadline:i,creatorId:s}=t;return _.jsxs("div",{className:"relative flex w-full flex-col justify-between rounded-card bg-white p-4 shadow-card",children:[_.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[_.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium",children:[_.jsx(LE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),r3(n,40)]}),_.jsx(zn,{userId:s})]}),_.jsx("ul",{className:"my-3 flex items-center justify-center gap-x-5",children:r.map(({book:{title:o,thumbnail:a},id:l})=>_.jsx("li",{className:"relative",children:_.jsx(an,{title:o,thumbnail:a,className:"w-16"})},l))}),_.jsxs("div",{className:"mt-5 flex items-end justify-between gap-2",children:[_.jsx(bF,{hyphenDate:i,isDateMark:!1}),_.jsxs(br,{to:`/vote/${e}`,state:{docId:e},className:"flex items-center justify-end gap-0.5 py-0.5",children:[_.jsx("span",{className:"text-sm font-semibold text-gray1",children:" "}),_.jsx(RE,{className:"text-sm text-gray1"})]})]})]})},bfe=()=>{const[t,e]=fn(OE),n=t==null?void 0:t.filter(s=>s.deadline>=Tm);K.useEffect(()=>{t!=null&&t.length||qn(zo,e)},[]);const r=Br(),i={breakpoints:{1024:{slidesPerView:3},800:{slidesPerView:2},320:{slidesPerView:1}}};return _.jsx(_.Fragment,{children:n!=null&&n.length?_.jsx(Mv,{options:i,children:n==null?void 0:n.map(s=>_.jsx($f,{children:_.jsx(xF,{voteDetail:s})},s.id))}):_.jsx(As,{text:"  .",onCreateClick:()=>r("/vote"),createBtnTitle:"  "})})},xfe=()=>{const t=Br(),e=Ts(Df),n=Ts(k3);K.useEffect(()=>{qn(lo,e),qn(Pne,n)},[]);const r=[{name:" ",onClick:()=>t("/monthlyinfo",{state:"fieldAndHost"}),color:"blue"},{name:"",onClick:()=>t("/monthlyinfo",{state:"absence"}),color:"blue"},{name:"",onClick:()=>t("/challenge"),color:"blue"},{name:"",onClick:()=>t("/yearClosingEvent"),color:"blue"}];return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:" "}),_.jsxs("main",{children:[_.jsx(Rt,{title:" ",children:_.jsx(d_,{yearMonthId:Nn})}),_.jsxs(Rt,{title:" ",children:[_.jsx(d_,{yearMonthId:d3}),+Ine==12&&_.jsx(eg,{to:"/bookclub/2025-12",title:""})]}),_.jsx(Rt,{className:"!my-28 grid w-full grid-cols-4 gap-4 max-sm:my-20 max-sm:grid-cols-2 max-sm:gap-2.5",children:r.map(({name:i,onClick:s,color:o})=>_.jsx(ht,{name:`${_t} ${i}`,className:"h-fit w-full rounded-xl !px-0 py-4",color:o,handleClick:s},i))}),_.jsx(Rt,{title:"   ",children:_.jsx(wF,{maxLength:5})}),_.jsx(Rt,{title:" ",children:_.jsx(bfe,{})})]}),_.jsx(wfe,{})]})},Yb=({isLoggedIn:t})=>{var l;const e=(l=Qt.currentUser)==null?void 0:l.isAnonymous,{currEmail:n,currPassword:r,onSubmit:i,onChange:s,onAnonymousLoginClick:o}=Tre(t),a=Br();return _.jsx(_.Fragment,{children:_.jsxs("main",{className:"mx-auto flex h-screen w-[50%] flex-col items-center justify-center max-sm:w-[90%]",children:[_.jsxs("header",{className:"mt-[45%] flex w-full flex-col items-center",children:[_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:"size-40"}),_.jsx("h1",{className:"text-lg font-medium",children:" "})]}),_.jsxs("form",{onSubmit:i,className:"mt-5 flex w-full flex-col gap-3",children:[_.jsx(Kt,{name:"email",type:"email",value:n.email,placeholder:"  .",onChange:s,autoComplete:"email",errorMsg:n.error}),_.jsx(Kt,{name:"password",type:"password",placeholder:" .",value:r.password,onChange:s,autoComplete:"current-password",errorMsg:r.error}),_.jsx(ht,{type:"submit",name:"",color:"blue",className:"w-full"}),_.jsx(ht,{type:"button",handleClick:()=>a("/create_account"),name:"",className:"w-full"}),!e&&_.jsx(ht,{type:"button",color:"blue",name:" ",handleClick:o,className:"w-full"})]}),_.jsx(br,{to:"/find_pw",className:"mt-7 text-[13px] text-gray1",children:" "})]})})};function Da({isMulti:t=!1,data:e,label:n,color:r,detail:i}){const s="px-1.5 py-4 text-center text-sm ",o={bold:{dark:"text-white",lightBlue:"text-blue2",yellow:"text-yellow-600"},regular:{dark:"text-white",lightBlue:"text-blue3",yellow:"text-yellow-600"},text:{dark:"text-white",lightBlue:"text-black",yellow:"text-black"}},{showModal:a}=St(),l=()=>{a({element:_.jsx(Or,{title:`${e}  `,children:_.jsx("textarea",{value:i,readOnly:!0,className:"min-h-60 resize-none"})})})};return _.jsxs(_.Fragment,{children:[t&&_.jsx("td",{className:`${s}`,children:_.jsx("ul",{className:"flex flex-wrap items-center justify-center gap-3",children:e!=null&&e.length&&e?e.map(h=>h==="no_host"?_.jsx("span",{className:"text-gray2",children:" "},h):_.jsx(zn,{userId:h,className:`!${o.text[r]}`},h)):_.jsx("span",{className:"text-gray2",children:""})})}),!t&&_.jsxs(_.Fragment,{children:[n===""&&_.jsxs("td",{className:`${s} !text-[15px] ${+Ws===e?`font-semibold ${o.bold[r]}`:`${o.regular[r]}`}`,children:[e,""]}),(n===""||n==="")&&_.jsx("td",{className:`${s}`,children:e?n===""?"":"":""}),n!==""&&n!==""&&n!==""&&_.jsxs("td",{className:`${s} flex items-center justify-center ${o.text[r]}`,children:[e||_.jsx("span",{className:"text-gray2",children:""}),i&&_.jsx("button",{type:"button",className:"ml-1 text-blue2",onClick:l,children:_.jsx(Jre,{})})]})]})]})}function uk({color:t="lightBlue",labels:e,rowDataList:n,isEditable:r,onEditClick:i}){const s={body:{dark:"bg-[#333]",lightBlue:"bg-white",yellow:"bg-white"},header:{dark:"bg-[#464646] text-gray3",lightBlue:"bg-blue4 text-blue3",yellow:"bg-yellow-100 text-yellow-600"},border:{dark:"border-[#424242]",lightBlue:"border-[#dcebfc]",yellow:"border-[#f8ee80]"}};return _.jsx("div",{className:`relative overflow-hidden rounded-xl shadow-card ${s.body[t]}`,children:_.jsxs("table",{className:"w-full",children:[_.jsxs("colgroup",{children:[e.includes("")&&_.jsx("col",{width:"18%"}),_.jsx("col",{width:"40%"}),_.jsx("col",{width:"40%"}),r&&_.jsx("col",{width:"10%"})]}),_.jsx("thead",{children:_.jsxs("tr",{className:`${s.header[t]} relative rounded-t-xl`,children:[e.map(o=>_.jsx("th",{className:"py-3 text-[15px] font-medium",children:o},o)),r&&_.jsx("th",{"aria-label":""})]})}),_.jsx("tbody",{children:n==null?void 0:n.map(o=>_.jsx(K.Fragment,{children:_.jsxs("tr",{className:`border-b ${s.border[t]} last:border-0`,children:["month"in o&&e.includes("")&&_.jsx(Da,{label:"",data:o.month,color:t}),"field"in o&&_.jsx(Da,{label:"",data:o.field,detail:o.detail,color:t}),"hosts"in o&&_.jsx(Da,{isMulti:!0,label:"",data:o.hosts,color:t}),"onceAbsenceMembers"in o&&_.jsx(Da,{isMulti:!0,label:"",data:o.onceAbsenceMembers,color:t}),"breakMembers"in o&&_.jsx(Da,{isMulti:!0,label:"",data:o.breakMembers,color:t}),"onceAbsenceMonth"in o&&_.jsx(Da,{label:"",data:o.onceAbsenceMonth,color:t}),"breakMonth"in o&&_.jsx(Da,{label:"",data:o.breakMonth,color:t}),r&&"month"in o&&_.jsx("td",{className:"px-4 text-center",children:_.jsx("button",{type:"button",onClick:()=>i(o.month),children:_.jsx(PE,{className:"stroke-gray2"})})})]})},o.month))})]})})}function _fe({isMonth:t,isEditable:e,year:n}){const[r,i]=fn(kl(n)),s=`BookClub-${n}`;K.useEffect(()=>{Cr(`BookClub-${n}`,ul,i)},[]);const o=["",""],a=t?["",...o]:o,l=async()=>{await ks(dn(sn,s,ul),Fne)};return _.jsx(_.Fragment,{children:r!=null&&r.absenceMembers?_.jsx(uk,{labels:a,rowDataList:r==null?void 0:r.absenceMembers,isEditable:e,color:"yellow"}):_.jsx(As,{text:"    .",createBtnTitle:`${n}    `,onCreateClick:l})})}function _F({label:t,containerClassName:e,...n}){return _.jsxs("div",{className:`relative flex flex-col ${e}`,children:[t&&_.jsx(Ti,{text:t}),_.jsx("textarea",{...n,className:`h-32 w-full resize-none rounded-xl border border-gray1 p-3 outline-none hover:bg-blue-50 ${n.className}`})]})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Sfe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SF(t){var e=Sfe(t,"string");return pl(e)=="symbol"?e:String(e)}function fd(t,e,n){return e=SF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SF(r.key),r)}}function kfe(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function Tfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function Cfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nfe(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cfe(t)}function Ofe(t){var e=EF();return function(){var r=tg(t),i;if(e){var s=tg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Nfe(this,i)}}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Afe(t){if(Array.isArray(t))return g_(t)}function Dfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kF(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function Ife(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xu(t){return Afe(t)||Dfe(t)||kF(t)||Ife()}function Rfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Pfe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Mfe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Pfe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Rfe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),gr="-ms-",ng="-moz-",At="-webkit-",TF="comm",ck="rule",dk="decl",Lfe="@import",CF="@keyframes",jfe="@layer",Ffe=Math.abs,Lv=String.fromCharCode,$fe=Object.assign;function Bfe(t,e){return ir(t,0)^45?(((e<<2^ir(t,0))<<2^ir(t,1))<<2^ir(t,2))<<2^ir(t,3):0}function NF(t){return t.trim()}function Ufe(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function v_(t,e){return t.indexOf(e)}function ir(t,e){return t.charCodeAt(e)|0}function Xd(t,e,n){return t.slice(e,n)}function ss(t){return t.length}function fk(t){return t.length}function Ep(t,e){return e.push(t),t}function Vfe(t,e){return t.map(e).join("")}var jv=1,qu=1,OF=0,ti=0,Pn=0,ic="";function Fv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:jv,column:qu,length:o,return:""}}function Jc(t,e){return $fe(Fv("",null,null,"",null,null,0),t,{length:-t.length},e)}function qfe(){return Pn}function zfe(){return Pn=ti>0?ir(ic,--ti):0,qu--,Pn===10&&(qu=1,jv--),Pn}function di(){return Pn=ti<OF?ir(ic,ti++):0,qu++,Pn===10&&(qu=1,jv++),Pn}function Ss(){return ir(ic,ti)}function Wp(){return ti}function Bf(t,e){return Xd(ic,t,e)}function Jd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AF(t){return jv=qu=1,OF=ss(ic=t),ti=0,[]}function DF(t){return ic="",t}function Yp(t){return NF(Bf(ti-1,y_(t===91?t+2:t===40?t+1:t)))}function Hfe(t){for(;(Pn=Ss())&&Pn<33;)di();return Jd(t)>2||Jd(Pn)>3?"":" "}function Wfe(t,e){for(;--e&&di()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return Bf(t,Wp()+(e<6&&Ss()==32&&di()==32))}function y_(t){for(;di();)switch(Pn){case t:return ti;case 34:case 39:t!==34&&t!==39&&y_(Pn);break;case 40:t===41&&y_(t);break;case 92:di();break}return ti}function Yfe(t,e){for(;di()&&t+Pn!==57;)if(t+Pn===84&&Ss()===47)break;return"/*"+Bf(e,ti-1)+"*"+Lv(t===47?t:di())}function Gfe(t){for(;!Jd(Ss());)di();return Bf(t,ti)}function Kfe(t){return DF(Gp("",null,null,null,[""],t=AF(t),0,[0],t))}function Gp(t,e,n,r,i,s,o,a,l){for(var h=0,c=0,f=o,p=0,m=0,g=0,y=1,w=1,b=1,x=0,E="",S=i,k=s,N=r,O=E;w;)switch(g=x,x=di()){case 40:if(g!=108&&ir(O,f-1)==58){v_(O+=Dt(Yp(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:O+=Yp(x);break;case 9:case 10:case 13:case 32:O+=Hfe(g);break;case 92:O+=Wfe(Wp()-1,7);continue;case 47:switch(Ss()){case 42:case 47:Ep(Qfe(Yfe(di(),Wp()),e,n),l);break;default:O+="/"}break;case 123*y:a[h++]=ss(O)*b;case 125*y:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+c:b==-1&&(O=Dt(O,/\f/g,"")),m>0&&ss(O)-f&&Ep(m>32?tR(O+";",r,n,f-1):tR(Dt(O," ","")+";",r,n,f-2),l);break;case 59:O+=";";default:if(Ep(N=eR(O,e,n,h,c,i,a,E,S=[],k=[],f),s),x===123)if(c===0)Gp(O,e,N,N,S,s,f,a,k);else switch(p===99&&ir(O,3)===110?100:p){case 100:case 108:case 109:case 115:Gp(t,N,N,r&&Ep(eR(t,N,N,0,0,i,a,E,i,S=[],f),k),i,k,f,a,r?S:k);break;default:Gp(O,N,N,N,[""],k,0,a,k)}}h=c=m=0,y=b=1,E=O="",f=o;break;case 58:f=1+ss(O),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&zfe()==125)continue}switch(O+=Lv(x),x*y){case 38:b=c>0?1:(O+="\f",-1);break;case 44:a[h++]=(ss(O)-1)*b,b=1;break;case 64:Ss()===45&&(O+=Yp(di())),p=Ss(),c=f=ss(E=O+=Gfe(Wp())),x++;break;case 45:g===45&&ss(O)==2&&(y=0)}}return s}function eR(t,e,n,r,i,s,o,a,l,h,c){for(var f=i-1,p=i===0?s:[""],m=fk(p),g=0,y=0,w=0;g<r;++g)for(var b=0,x=Xd(t,f+1,f=Ffe(y=o[g])),E=t;b<m;++b)(E=NF(y>0?p[b]+" "+x:Dt(x,/&\f/g,p[b])))&&(l[w++]=E);return Fv(t,e,n,i===0?ck:a,l,h,c)}function Qfe(t,e,n){return Fv(t,e,n,TF,Lv(qfe()),Xd(t,2,-2),0)}function tR(t,e,n,r){return Fv(t,e,n,dk,Xd(t,0,r),Xd(t,r+1,-1),r)}function _u(t,e){for(var n="",r=fk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Xfe(t,e,n,r){switch(t.type){case jfe:if(t.children.length)break;case Lfe:case dk:return t.return=t.return||t.value;case TF:return"";case CF:return t.return=t.value+"{"+_u(t.children,r)+"}";case ck:t.value=t.props.join(",")}return ss(n=_u(t.children,r))?t.return=t.value+"{"+n+"}":""}function Jfe(t){var e=fk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Zfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ehe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var the=function(e,n,r){for(var i=0,s=0;i=s,s=Ss(),i===38&&s===12&&(n[r]=1),!Jd(s);)di();return Bf(e,ti)},nhe=function(e,n){var r=-1,i=44;do switch(Jd(i)){case 0:i===38&&Ss()===12&&(n[r]=1),e[r]+=the(ti-1,n,r);break;case 2:e[r]+=Yp(i);break;case 4:if(i===44){e[++r]=Ss()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Lv(i)}while(i=di());return e},rhe=function(e,n){return DF(nhe(AF(e),n))},nR=new WeakMap,ihe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nR.get(r))&&!i){nR.set(e,!0);for(var s=[],o=rhe(n,s),a=r.props,l=0,h=0;l<o.length;l++)for(var c=0;c<a.length;c++,h++)e.props[h]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},she=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function IF(t,e){switch(Bfe(t,e)){case 5103:return At+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return At+t+ng+t+gr+t+t;case 6828:case 4268:return At+t+gr+t+t;case 6165:return At+t+gr+"flex-"+t+t;case 5187:return At+t+Dt(t,/(\w+).+(:[^]+)/,At+"box-$1$2"+gr+"flex-$1$2")+t;case 5443:return At+t+gr+"flex-item-"+Dt(t,/flex-|-self/,"")+t;case 4675:return At+t+gr+"flex-line-pack"+Dt(t,/align-content|flex-|-self/,"")+t;case 5548:return At+t+gr+Dt(t,"shrink","negative")+t;case 5292:return At+t+gr+Dt(t,"basis","preferred-size")+t;case 6060:return At+"box-"+Dt(t,"-grow","")+At+t+gr+Dt(t,"grow","positive")+t;case 4554:return At+Dt(t,/([^-])(transform)/g,"$1"+At+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+t+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,At+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ss(t)-1-e>6)switch(ir(t,e+1)){case 109:if(ir(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+ng+(ir(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~v_(t,"stretch")?IF(Dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ir(t,e+1)!==115)break;case 6444:switch(ir(t,ss(t)-3-(~v_(t,"!important")&&10))){case 107:return Dt(t,":",":"+At)+t;case 101:return Dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(ir(t,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+gr+"$2box$3")+t}break;case 5936:switch(ir(t,e+11)){case 114:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return At+t+gr+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return At+t+gr+t+t}return t}var ohe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case dk:e.return=IF(e.value,e.length);break;case CF:return _u([Jc(e,{value:Dt(e.value,"@","@"+At)})],i);case ck:if(e.length)return Vfe(e.props,function(s){switch(Ufe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _u([Jc(e,{props:[Dt(s,/:(read-\w+)/,":"+ng+"$1")]})],i);case"::placeholder":return _u([Jc(e,{props:[Dt(s,/:(plac\w+)/,":"+At+"input-$1")]}),Jc(e,{props:[Dt(s,/:(plac\w+)/,":"+ng+"$1")]}),Jc(e,{props:[Dt(s,/:(plac\w+)/,gr+"input-$1")]})],i)}return""})}},ahe=[ohe],lhe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||ahe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)s[w[b]]=!0;a.push(y)});var l,h=[ihe,she];{var c,f=[Xfe,Zfe(function(y){c.insert(y)})],p=Jfe(h.concat(i,f)),m=function(w){return _u(Kfe(w),p)};l=function(w,b,x,E){c=x,m(w?w+"{"+b.styles+"}":b.styles),E&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new Mfe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},Gb={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function uhe(){if(rR)return Lt;rR=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function E(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case l:case h:case r:case s:case i:case f:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case g:case m:case o:return k;default:return N}}case n:return N}}}function S(k){return E(k)===h}return Lt.AsyncMode=l,Lt.ConcurrentMode=h,Lt.ContextConsumer=a,Lt.ContextProvider=o,Lt.Element=e,Lt.ForwardRef=c,Lt.Fragment=r,Lt.Lazy=g,Lt.Memo=m,Lt.Portal=n,Lt.Profiler=s,Lt.StrictMode=i,Lt.Suspense=f,Lt.isAsyncMode=function(k){return S(k)||E(k)===l},Lt.isConcurrentMode=S,Lt.isContextConsumer=function(k){return E(k)===a},Lt.isContextProvider=function(k){return E(k)===o},Lt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Lt.isForwardRef=function(k){return E(k)===c},Lt.isFragment=function(k){return E(k)===r},Lt.isLazy=function(k){return E(k)===g},Lt.isMemo=function(k){return E(k)===m},Lt.isPortal=function(k){return E(k)===n},Lt.isProfiler=function(k){return E(k)===s},Lt.isStrictMode=function(k){return E(k)===i},Lt.isSuspense=function(k){return E(k)===f},Lt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===h||k===s||k===i||k===f||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===o||k.$$typeof===a||k.$$typeof===c||k.$$typeof===w||k.$$typeof===b||k.$$typeof===x||k.$$typeof===y)},Lt.typeOf=E,Lt}var iR;function che(){return iR||(iR=1,Gb.exports=uhe()),Gb.exports}var Kb,sR;function dhe(){if(sR)return Kb;sR=1;var t=che(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(g){return t.isMemo(g)?i:s[g.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(g,y,w){if(typeof y!="string"){if(p){var b=f(y);b&&b!==p&&m(g,b,w)}var x=l(y);h&&(x=x.concat(h(y)));for(var E=o(g),S=o(y),k=0;k<x.length;++k){var N=x[k];if(!n[N]&&!(w&&w[N])&&!(S&&S[N])&&!(E&&E[N])){var O=c(y,N);try{a(g,N,O)}catch{}}}}return g}return Kb=m,Kb}dhe();var fhe=!0;function hhe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var RF=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||fhe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},phe=function(e,n,r){RF(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mhe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ghe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vhe=/[A-Z]|^ms/g,yhe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PF=function(e){return e.charCodeAt(1)===45},oR=function(e){return e!=null&&typeof e!="boolean"},Qb=ehe(function(t){return PF(t)?t:t.replace(vhe,"-$&").toLowerCase()}),aR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(yhe,function(r,i,s){return os={name:i,styles:s,next:os},i})}return ghe[e]!==1&&!PF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return os={name:n.name,styles:n.styles,next:os},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)os={name:r.name,styles:r.styles,next:os},r=r.next;var i=n.styles+";";return i}return whe(t,e,n)}case"function":{if(t!==void 0){var s=os,o=n(t);return os=s,Zd(t,e,o)}break}}return n}function whe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")oR(o)&&(r+=Qb(s)+":"+aR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var a=0;a<o.length;a++)oR(o[a])&&(r+=Qb(s)+":"+aR(s,o[a])+";");else{var l=Zd(t,e,o);switch(s){case"animation":case"animationName":{r+=Qb(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var lR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,os,MF=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";os=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Zd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Zd(r,n,e[a]),i&&(s+=o[a]);lR.lastIndex=0;for(var l="",h;(h=lR.exec(s))!==null;)l+="-"+h[1];var c=mhe(s)+l;return{name:c,styles:s,next:os}},bhe=function(e){return e()},xhe=Qp.useInsertionEffect?Qp.useInsertionEffect:!1,_he=xhe||bhe,hk={}.hasOwnProperty,LF=K.createContext(typeof HTMLElement<"u"?lhe({key:"css"}):null);LF.Provider;var She=function(e){return K.forwardRef(function(n,r){var i=K.useContext(LF);return e(n,i,r)})},Ehe=K.createContext({}),w_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",khe=function(e,n){var r={};for(var i in n)hk.call(n,i)&&(r[i]=n[i]);return r[w_]=e,r},The=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return RF(n,r,i),_he(function(){return phe(n,r,i)}),null},Che=She(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[w_],s=[r],o="";typeof t.className=="string"?o=hhe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=MF(s,void 0,K.useContext(Ehe));o+=e.key+"-"+a.name;var l={};for(var h in t)hk.call(t,h)&&h!=="css"&&h!==w_&&(l[h]=t[h]);return l.ref=n,l.className=o,K.createElement(K.Fragment,null,K.createElement(The,{cache:e,serialized:a,isStringTag:typeof i=="string"}),K.createElement(i,l))}),Nhe=Che,Je=function(e,n){var r=arguments;if(n==null||!hk.call(n,"css"))return K.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Nhe,s[1]=khe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return K.createElement.apply(null,s)};function pk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return MF(e)}var Ohe=function(){var e=pk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Ahe(t){if(Array.isArray(t))return t}function Dhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){h=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function Ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zs(t,e){return Ahe(t)||Dhe(t,e)||kF(t,e)||Ihe()}function Rhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ds(t,e){if(t==null)return{};var n=Rhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Phe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var b_=K.useLayoutEffect,Mhe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rg=function(){};function Lhe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function jhe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Lhe(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var ig=function(e){return Whe(e)?e.filter(Boolean):pl(e)==="object"&&e!==null?[e]:[]},jF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ds(e,Mhe);return Ke({},n)},yn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function $v(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Fhe(t){return $v(t)?window.innerHeight:t.clientHeight}function FF(t){return $v(t)?window.pageYOffset:t.scrollTop}function sg(t,e){if($v(t)){window.scrollTo(0,e);return}t.scrollTop=e}function $he(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Bhe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function kp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:rg,i=FF(t),s=e-i,o=10,a=0;function l(){a+=o;var h=Bhe(a,i,s,n);sg(t,h),a<n?window.requestAnimationFrame(l):r(t)}l()}function uR(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?sg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&sg(t,Math.max(e.offsetTop-i,0))}function Uhe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function cR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Vhe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $F=!1,qhe={get passive(){return $F=!0}},Tp=typeof window<"u"?window:{};Tp.addEventListener&&Tp.removeEventListener&&(Tp.addEventListener("p",rg,qhe),Tp.removeEventListener("p",rg,!1));var zhe=$F;function Hhe(t){return t!=null}function Whe(t){return Array.isArray(t)}function hd(t,e,n){return t?e:n}var Yhe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Zs(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Zs(a,2),h=l[0],c=l[1];return o[h]=c,o},{})},Ghe=["children","innerProps"],Khe=["children","innerProps"];function Qhe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=$he(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var c=l.getBoundingClientRect(),f=c.height,p=n.getBoundingClientRect(),m=p.bottom,g=p.height,y=p.top,w=n.offsetParent.getBoundingClientRect(),b=w.top,x=o?window.innerHeight:Fhe(l),E=FF(l),S=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),N=b-k,O=x-y,C=N+E,I=f-E-y,R=m-x+E+S,A=E+y-k,D=160;switch(i){case"auto":case"bottom":if(O>=g)return{placement:"bottom",maxHeight:e};if(I>=g&&!o)return s&&kp(l,R,D),{placement:"bottom",maxHeight:e};if(!o&&I>=r||o&&O>=r){s&&kp(l,R,D);var M=o?O-S:I-S;return{placement:"bottom",maxHeight:M}}if(i==="auto"||o){var F=e,q=o?N:C;return q>=r&&(F=Math.min(q-S-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return s&&sg(l,R),{placement:"bottom",maxHeight:e};break;case"top":if(N>=g)return{placement:"top",maxHeight:e};if(C>=g&&!o)return s&&kp(l,A,D),{placement:"top",maxHeight:e};if(!o&&C>=r||o&&N>=r){var L=e;return(!o&&C>=r||o&&N>=r)&&(L=o?N-k:C-k),s&&kp(l,A,D),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function Xhe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var BF=function(e){return e==="auto"?"bottom":e},Jhe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return Ke((r={label:"menu"},fd(r,Xhe(i),"100%"),fd(r,"position","absolute"),fd(r,"width","100%"),fd(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},UF=K.createContext(null),Zhe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,h=K.useContext(UF)||{},c=h.setPortalPlacement,f=K.useRef(null),p=K.useState(i),m=Zs(p,2),g=m[0],y=m[1],w=K.useState(null),b=Zs(w,2),x=b[0],E=b[1],S=l.spacing.controlHeight;return b_(function(){var k=f.current;if(k){var N=o==="fixed",O=a&&!N,C=Qhe({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:O,isFixedPosition:N,controlHeight:S});y(C.maxHeight),E(C.placement),c==null||c(C.placement)}},[i,s,o,a,r,c,S]),n({ref:f,placerProps:Ke(Ke({},e),{},{placement:x||BF(s),maxHeight:g})})},epe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Je("div",tt({},yn(e,"menu",{menu:!0}),{ref:r},i),n)},tpe=epe,npe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ke({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},rpe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Je("div",tt({},yn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},VF=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Ke({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},ipe=VF,spe=VF,ope=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Ds(e,Ghe);return Je("div",tt({},yn(Ke(Ke({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},ape=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Ds(e,Khe);return Je("div",tt({},yn(Ke(Ke({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},lpe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},upe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=K.useRef(null),h=K.useRef(null),c=K.useState(BF(o)),f=Zs(c,2),p=f[0],m=f[1],g=K.useMemo(function(){return{setPortalPlacement:m}},[]),y=K.useState(null),w=Zs(y,2),b=w[0],x=w[1],E=K.useCallback(function(){if(i){var O=Uhe(i),C=a==="fixed"?0:window.pageYOffset,I=O[p]+C;(I!==(b==null?void 0:b.offset)||O.left!==(b==null?void 0:b.rect.left)||O.width!==(b==null?void 0:b.rect.width))&&x({offset:I,rect:O})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);b_(function(){E()},[E]);var S=K.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&l.current&&(h.current=j5(i,l.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);b_(function(){S()},[S]);var k=K.useCallback(function(O){l.current=O,S()},[S]);if(!n&&a!=="fixed"||!b)return null;var N=Je("div",tt({ref:k},yn(Ke(Ke({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Je(UF.Provider,{value:g},n?S_.createPortal(N,n):N)},cpe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},dpe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Je("div",tt({},yn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},fpe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ke({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},hpe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Je("div",tt({},yn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},ppe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},mpe=function(e){var n=e.children,r=e.innerProps;return Je("div",tt({},yn(e,"indicatorsContainer",{indicators:!0}),r),n)},dR,gpe=["size"],vpe=["innerProps","isRtl","size"],ype={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},qF=function(e){var n=e.size,r=Ds(e,gpe);return Je("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ype},r))},mk=function(e){return Je(qF,tt({size:20},e),Je("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},zF=function(e){return Je(qF,tt({size:20},e),Je("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},HF=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ke({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},wpe=HF,bpe=function(e){var n=e.children,r=e.innerProps;return Je("div",tt({},yn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Je(zF,null))},xpe=HF,_pe=function(e){var n=e.children,r=e.innerProps;return Je("div",tt({},yn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Je(mk,null))},Spe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ke({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Epe=function(e){var n=e.innerProps;return Je("span",tt({},n,yn(e,"indicatorSeparator",{"indicator-separator":!0})))},kpe=Ohe(dR||(dR=Phe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Tpe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Ke({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Xb=function(e){var n=e.delay,r=e.offset;return Je("span",{css:pk({animation:"".concat(kpe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Cpe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=Ds(e,vpe);return Je("div",tt({},yn(Ke(Ke({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Je(Xb,{delay:0,offset:r}),Je(Xb,{delay:160,offset:!0}),Je(Xb,{delay:320,offset:!r}))},Npe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return Ke({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Ope=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Je("div",tt({ref:s},yn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},Ape=Ope,Dpe=["data"],Ipe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Rpe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,h=e.label,c=e.theme,f=e.selectProps;return Je("div",tt({},yn(e,"group",{group:!0}),l),Je(o,tt({},a,{selectProps:f,theme:c,getStyles:i,getClassNames:s,cx:r}),h),Je("div",null,n))},Ppe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Ke({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Mpe=function(e){var n=jF(e);n.data;var r=Ds(n,Dpe);return Je("div",tt({},yn(e,"groupHeading",{"group-heading":!0}),r))},Lpe=Rpe,jpe=["innerRef","isDisabled","isHidden","inputClassName"],Fpe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return Ke(Ke({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},$pe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},WF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$pe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ke({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},WF)},Bpe=function(e){return Ke({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},WF)},Upe=function(e){var n=e.cx,r=e.value,i=jF(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,h=Ds(i,jpe);return Je("div",tt({},yn(e,"input",{"input-container":!0}),{"data-value":r||""}),Je("input",tt({className:n({input:!0},l),ref:s,style:Bpe(a),disabled:o},h)))},Vpe=Upe,qpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Ke({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},zpe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Ke({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Hpe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Ke({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},YF=function(e){var n=e.children,r=e.innerProps;return Je("div",r,n)},Wpe=YF,Ype=YF;function Gpe(t){var e=t.children,n=t.innerProps;return Je("div",tt({role:"button"},n),e||Je(mk,{size:14}))}var Kpe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,h=r.Container,c=r.Label,f=r.Remove;return Je(h,{data:i,innerProps:Ke(Ke({},yn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Je(c,{data:i,innerProps:Ke({},yn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Je(f,{data:i,innerProps:Ke(Ke({},yn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Qpe=Kpe,Xpe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return Ke({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Jpe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Je("div",tt({},yn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Zpe=Jpe,eme=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Ke({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},tme=function(e){var n=e.children,r=e.innerProps;return Je("div",tt({},yn(e,"placeholder",{placeholder:!0}),r),n)},nme=tme,rme=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Ke({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},ime=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Je("div",tt({},yn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},sme=ime,ome={ClearIndicator:_pe,Control:Ape,DropdownIndicator:bpe,DownChevron:zF,CrossIcon:mk,Group:Lpe,GroupHeading:Mpe,IndicatorsContainer:mpe,IndicatorSeparator:Epe,Input:Vpe,LoadingIndicator:Cpe,Menu:tpe,MenuList:rpe,MenuPortal:upe,LoadingMessage:ape,NoOptionsMessage:ope,MultiValue:Qpe,MultiValueContainer:Wpe,MultiValueLabel:Ype,MultiValueRemove:Gpe,Option:Zpe,Placeholder:nme,SelectContainer:dpe,SingleValue:sme,ValueContainer:hpe},ame=function(e){return Ke(Ke({},ome),e.components)},fR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lme(t,e){return!!(t===e||fR(t)&&fR(e))}function ume(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lme(t[n],e[n]))return!1;return!0}function cme(t,e){e===void 0&&(e=ume);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var dme={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},fme=function(e){return Je("span",tt({css:dme},e))},hR=fme,hme={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,h=e.isSelected,c=e.isAppleDevice,f=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(f(a,r),".");if(n==="menu"&&c){var p=l?" disabled":"",m="".concat(h?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(f(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},pme=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,h=e.id,c=e.isAppleDevice,f=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,g=l.isMulti,y=l.isOptionDisabled,w=l.isSearchable,b=l.menuIsOpen,x=l.options,E=l.screenReaderStatus,S=l.tabSelectsValue,k=l.isLoading,N=l["aria-label"],O=l["aria-live"],C=K.useMemo(function(){return Ke(Ke({},hme),f||{})},[f]),I=K.useMemo(function(){var q="";if(n&&C.onChange){var L=n.option,B=n.options,Y=n.removedValue,z=n.removedValues,j=n.value,U=function(Z){return Array.isArray(Z)?null:Z},V=Y||L||U(j),H=V?p(V):"",Q=B||z||void 0,X=Q?Q.map(p):[],W=Ke({isDisabled:V&&y(V,a),label:H,labels:X},n);q=C.onChange(W)}return q},[n,C,y,a,p]),R=K.useMemo(function(){var q="",L=r||i,B=!!(r&&a&&a.includes(r));if(L&&C.onFocus){var Y={focused:L,label:p(L),isDisabled:y(L,a),isSelected:B,options:s,context:L===r?"menu":"value",selectValue:a,isAppleDevice:c};q=C.onFocus(Y)}return q},[r,i,p,y,C,s,a,c]),A=K.useMemo(function(){var q="";if(b&&x.length&&!k&&C.onFilter){var L=E({count:s.length});q=C.onFilter({inputValue:m,resultsMessage:L})}return q},[s,m,b,C,x,E,k]),D=(n==null?void 0:n.action)==="initial-input-focus",M=K.useMemo(function(){var q="";if(C.guidance){var L=i?"value":b?"menu":"input";q=C.guidance({"aria-label":N,context:L,isDisabled:r&&y(r,a),isMulti:g,isSearchable:w,tabSelectsValue:S,isInitialFocus:D})}return q},[N,r,i,g,y,w,b,C,a,S,D]),F=Je(K.Fragment,null,Je("span",{id:"aria-selection"},I),Je("span",{id:"aria-focused"},R),Je("span",{id:"aria-results"},A),Je("span",{id:"aria-guidance"},M));return Je(K.Fragment,null,Je(hR,{id:h},D&&F),Je(hR,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!D&&F))},mme=pme,x_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],gme=new RegExp("["+x_.map(function(t){return t.letters}).join("")+"]","g"),GF={};for(var Jb=0;Jb<x_.length;Jb++)for(var Zb=x_[Jb],ex=0;ex<Zb.letters.length;ex++)GF[Zb.letters[ex]]=Zb.base;var KF=function(e){return e.replace(gme,function(n){return GF[n]})},vme=cme(KF),pR=function(e){return e.replace(/^\s+|\s+$/g,"")},yme=function(e){return"".concat(e.label," ").concat(e.value)},wme=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ke({ignoreCase:!0,ignoreAccents:!0,stringify:yme,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,h=i.matchFrom,c=l?pR(r):r,f=l?pR(a(n)):a(n);return s&&(c=c.toLowerCase(),f=f.toLowerCase()),o&&(c=vme(c),f=KF(f)),h==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},bme=["innerRef"];function xme(t){var e=t.innerRef,n=Ds(t,bme),r=Yhe(n,"onExited","in","enter","exit","appear");return Je("input",tt({ref:e},r,{css:pk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _me=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Sme(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=K.useRef(!1),a=K.useRef(!1),l=K.useRef(0),h=K.useRef(null),c=K.useCallback(function(w,b){if(h.current!==null){var x=h.current,E=x.scrollTop,S=x.scrollHeight,k=x.clientHeight,N=h.current,O=b>0,C=S-k-E,I=!1;C>b&&o.current&&(r&&r(w),o.current=!1),O&&a.current&&(s&&s(w),a.current=!1),O&&b>C?(n&&!o.current&&n(w),N.scrollTop=S,I=!0,o.current=!0):!O&&-b>E&&(i&&!a.current&&i(w),N.scrollTop=0,I=!0,a.current=!0),I&&_me(w)}},[n,r,i,s]),f=K.useCallback(function(w){c(w,w.deltaY)},[c]),p=K.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=K.useCallback(function(w){var b=l.current-w.changedTouches[0].clientY;c(w,b)},[c]),g=K.useCallback(function(w){if(w){var b=zhe?{passive:!1}:!1;w.addEventListener("wheel",f,b),w.addEventListener("touchstart",p,b),w.addEventListener("touchmove",m,b)}},[m,p,f]),y=K.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,f]);return K.useEffect(function(){if(e){var w=h.current;return g(w),function(){y(w)}}},[e,g,y]),function(w){h.current=w}}var mR=["boxSizing","height","overflow","paddingRight","position"],gR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function vR(t){t.preventDefault()}function yR(t){t.stopPropagation()}function wR(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function bR(){return"ontouchstart"in window||navigator.maxTouchPoints}var xR=!!(typeof window<"u"&&window.document&&window.document.createElement),Zc=0,eu={capture:!1,passive:!1};function Eme(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=K.useRef({}),s=K.useRef(null),o=K.useCallback(function(l){if(xR){var h=document.body,c=h&&h.style;if(r&&mR.forEach(function(g){var y=c&&c[g];i.current[g]=y}),r&&Zc<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(gR).forEach(function(g){var y=gR[g];c&&(c[g]=y)}),c&&(c.paddingRight="".concat(m,"px"))}h&&bR()&&(h.addEventListener("touchmove",vR,eu),l&&(l.addEventListener("touchstart",wR,eu),l.addEventListener("touchmove",yR,eu))),Zc+=1}},[r]),a=K.useCallback(function(l){if(xR){var h=document.body,c=h&&h.style;Zc=Math.max(Zc-1,0),r&&Zc<1&&mR.forEach(function(f){var p=i.current[f];c&&(c[f]=p)}),h&&bR()&&(h.removeEventListener("touchmove",vR,eu),l&&(l.removeEventListener("touchstart",wR,eu),l.removeEventListener("touchmove",yR,eu)))}},[r]);return K.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var kme=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Tme={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Cme(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,h=Sme({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=Eme({isEnabled:n}),f=function(m){h(m),c(m)};return Je(K.Fragment,null,n&&Je("div",{onClick:kme,css:Tme}),e(f))}var Nme={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ome=function(e){var n=e.name,r=e.onFocus;return Je("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Nme,value:"",onChange:function(){}})},Ame=Ome;function gk(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Dme(){return gk(/^iPhone/i)}function QF(){return gk(/^Mac/i)}function Ime(){return gk(/^iPad/i)||QF()&&navigator.maxTouchPoints>1}function Rme(){return Dme()||Ime()}function Pme(){return QF()||Rme()}var Mme=function(e){return e.label},XF=function(e){return e.label},JF=function(e){return e.value},Lme=function(e){return!!e.isDisabled},jme={clearIndicator:xpe,container:cpe,control:Npe,dropdownIndicator:wpe,group:Ipe,groupHeading:Ppe,indicatorsContainer:ppe,indicatorSeparator:Spe,input:Fpe,loadingIndicator:Tpe,loadingMessage:spe,menu:Jhe,menuList:npe,menuPortal:lpe,multiValue:qpe,multiValueLabel:zpe,multiValueRemove:Hpe,noOptionsMessage:ipe,option:Xpe,placeholder:eme,singleValue:rme,valueContainer:fpe},Fme={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},$me=4,ZF=4,Bme=38,Ume=ZF*2,Vme={baseUnit:ZF,controlHeight:Bme,menuGutter:Ume},tx={borderRadius:$me,colors:Fme,spacing:Vme},qme={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:cR(),captureMenuScroll:!cR(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:wme(),formatGroupLabel:Mme,getOptionLabel:XF,getOptionValue:JF,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Lme,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Vhe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function _R(t,e,n,r){var i=n6(t,e,n),s=r6(t,e,n),o=t6(t,e),a=og(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function Kp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return _R(t,o,e,a)}).filter(function(o){return ER(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=_R(t,n,e,r);return ER(t,s)?s:void 0}).filter(Hhe)}function e6(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,xu(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function SR(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,xu(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function zme(t,e){return e6(Kp(t,e))}function ER(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!s6(t)||!s)&&i6(t,{label:o,value:a,data:i},r)}function Hme(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Wme(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var nx=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},t6=function(e,n){return e.getOptionLabel(n)},og=function(e,n){return e.getOptionValue(n)};function n6(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function r6(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=og(t,e);return n.some(function(i){return og(t,i)===r})}function i6(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var s6=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Yme=1,vk=function(t){Tfe(n,t);var e=Ofe(n);function n(r){var i;if(Efe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=Pme(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,h){var c=i.props,f=c.onChange,p=c.name;h.name=p,i.ariaOnChange(l,h),f(l,h)},i.setValue=function(l,h,c){var f=i.props,p=f.closeMenuOnSelect,m=f.isMulti,g=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:h,option:c})},i.selectOption=function(l){var h=i.props,c=h.blurInputOnSelect,f=h.isMulti,p=h.name,m=i.state.selectValue,g=f&&i.isOptionSelected(l,m),y=i.isOptionDisabled(l,m);if(g){var w=i.getOptionValue(l);i.setValue(m.filter(function(b){return i.getOptionValue(b)!==w}),"deselect-option",l)}else if(!y)f?i.setValue([].concat(xu(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:p});return}c&&i.blurInput()},i.removeValue=function(l){var h=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),p=c.filter(function(g){return i.getOptionValue(g)!==f}),m=hd(h,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(hd(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,h=i.state.selectValue,c=h[h.length-1],f=h.slice(0,h.length-1),p=hd(l,f,f[0]||null);i.onChange(p,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return nx(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return SR(Kp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,h=new Array(l),c=0;c<l;c++)h[c]=arguments[c];return jhe.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(l){return t6(i.props,l)},i.getOptionValue=function(l){return og(i.props,l)},i.getStyles=function(l,h){var c=i.props.unstyled,f=jme[l](h,c);f.boxSizing="border-box";var p=i.props.styles[l];return p?p(f,h):f},i.getClassNames=function(l,h){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,h)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return ame(i.props)},i.buildCategorizedOptions=function(){return Kp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return e6(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,h){i.setState({ariaSelection:Ke({value:l},h)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var h=i.props,c=h.isMulti,f=h.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&$v(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var h=l.touches,c=h&&h.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var h=l.touches,c=h&&h.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),p=Math.abs(c.clientY-i.initialTouchY),m=5;i.userIsDragging=f>m||p>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var h=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var h=i.getFocusableOptions(),c=h.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return s6(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var h=i.props,c=h.isMulti,f=h.backspaceRemovesValue,p=h.escapeClearsValue,m=h.inputValue,g=h.isClearable,y=h.isDisabled,w=h.menuIsOpen,b=h.onKeyDown,x=h.tabSelectsValue,E=h.openMenuOnFocus,S=i.state,k=S.focusedOption,N=S.focusedValue,O=S.selectValue;if(!y&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||m)return;i.focusValue("previous");break;case"ArrowRight":if(!c||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(N)i.removeValue(N);else{if(!f)return;c?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!w||!x||!k||E&&i.isOptionSelected(k,O))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(w){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):g&&p&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Yme),i.state.selectValue=ig(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=nx(s,o[a])}return i}return kfe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&uR(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(uR(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,h=this.buildFocusableOptions(),c=i==="first"?0:h.length-1;if(!this.props.isMulti){var f=h.indexOf(a[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[c],focusedOptionId:this.getFocusedOptionId(h[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var h=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=h:c=l-1;break;case"next":l>-1&&l<h&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,h=a.indexOf(o);o||(h=-1),i==="up"?l=h>0?h-1:a.length-1:i==="down"?l=(h+1)%a.length:i==="pageup"?(l=h-s,l<0&&(l=0)):i==="pagedown"?(l=h+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(tx):Ke(Ke({},tx),this.props.theme):tx}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,h=this.selectOption,c=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:g,selectOption:h,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return n6(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return r6(this.props,i,s)}},{key:"filterOption",value:function(i,s){return i6(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,h=i.tabIndex,c=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),g=m.Input,y=this.state,w=y.inputIsHidden,b=y.ariaSelection,x=this.commonProps,E=a||this.getElementId("input"),S=Ke(Ke(Ke({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?K.createElement(g,tt({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:c,type:"text",value:l},S)):K.createElement(xme,tt({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rg,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:c,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,h=s.MultiValueRemove,c=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,y=m.isDisabled,w=m.isMulti,b=m.inputValue,x=m.placeholder,E=this.state,S=E.selectValue,k=E.focusedValue,N=E.isFocused;if(!this.hasValue()||!g)return b?null:K.createElement(f,tt({},p,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),x);if(w)return S.map(function(C,I){var R=C===k,A="".concat(i.getOptionLabel(C),"-").concat(i.getOptionValue(C));return K.createElement(o,tt({},p,{components:{Container:a,Label:l,Remove:h},isFocused:R,isDisabled:y,key:A,index:I,removeProps:{onClick:function(){return i.removeValue(C)},onTouchEnd:function(){return i.removeValue(C)},onMouseDown:function(M){M.preventDefault()}},data:C}),i.formatOptionLabel(C,"value"))});if(b)return null;var O=S[0];return K.createElement(c,tt({},p,{data:O,isDisabled:y}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||h)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,c=this.state.isFocused;if(!s||!h)return null;var f={"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,h=this.state.isFocused;return K.createElement(o,tt({},a,{isDisabled:l,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return K.createElement(s,tt({},o,{innerProps:h,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,h=s.MenuList,c=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,g=this.commonProps,y=this.state.focusedOption,w=this.props,b=w.captureMenuScroll,x=w.inputValue,E=w.isLoading,S=w.loadingMessage,k=w.minMenuHeight,N=w.maxMenuHeight,O=w.menuIsOpen,C=w.menuPlacement,I=w.menuPosition,R=w.menuPortalTarget,A=w.menuShouldBlockScroll,D=w.menuShouldScrollIntoView,M=w.noOptionsMessage,F=w.onMenuScrollToTop,q=w.onMenuScrollToBottom;if(!O)return null;var L=function(H,Q){var X=H.type,W=H.data,J=H.isDisabled,Z=H.isSelected,te=H.label,le=H.value,pe=y===W,ge=J?void 0:function(){return i.onOptionHover(W)},Ce=J?void 0:function(){return i.selectOption(W)},$e="".concat(i.getElementId("option"),"-").concat(Q),De={id:$e,onClick:Ce,onMouseMove:ge,onMouseOver:ge,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return K.createElement(m,tt({},g,{innerProps:De,data:W,isDisabled:J,isSelected:Z,key:$e,label:te,type:X,value:le,isFocused:pe,innerRef:pe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var H=V.data,Q=V.options,X=V.index,W="".concat(i.getElementId("group"),"-").concat(X),J="".concat(W,"-heading");return K.createElement(o,tt({},g,{key:W,data:H,options:Q,Heading:a,headingProps:{id:J,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(Z){return L(Z,"".concat(X,"-").concat(Z.index))}))}else if(V.type==="option")return L(V,"".concat(V.index))});else if(E){var Y=S({inputValue:x});if(Y===null)return null;B=K.createElement(f,g,Y)}else{var z=M({inputValue:x});if(z===null)return null;B=K.createElement(p,g,z)}var j={minMenuHeight:k,maxMenuHeight:N,menuPlacement:C,menuPosition:I,menuShouldScrollIntoView:D},U=K.createElement(Zhe,tt({},g,j),function(V){var H=V.ref,Q=V.placerProps,X=Q.placement,W=Q.maxHeight;return K.createElement(l,tt({},g,j,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:X}),K.createElement(Cme,{captureEnabled:b,onTopArrive:F,onBottomArrive:q,lockEnabled:A},function(J){return K.createElement(h,tt({},g,{innerRef:function(te){i.getMenuListRef(te),J(te)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:W,focusedOption:y}),B)}))});return R||I==="fixed"?K.createElement(c,tt({},g,{appendTo:R,controlElement:this.controlRef,menuPlacement:C,menuPosition:I}),U):U}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,h=s.name,c=s.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!a)return K.createElement(Ame,{name:h,onFocus:this.onValueInputFocus});if(!(!h||a))if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return K.createElement("input",{name:h,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,w){return K.createElement("input",{key:"i-".concat(w),name:h,type:"hidden",value:i.getOptionValue(y)})}):K.createElement("input",{name:h,type:"hidden",value:""});return K.createElement("div",null,m)}else{var g=f[0]?this.getOptionValue(f[0]):"";return K.createElement("input",{name:h,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,h=s.isFocused,c=s.selectValue,f=this.getFocusableOptions();return K.createElement(mme,tt({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:h,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,h=this.props,c=h.className,f=h.id,p=h.isDisabled,m=h.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return K.createElement(a,tt({},y,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),K.createElement(s,tt({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),K.createElement(l,tt({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),K.createElement(o,tt({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,c=s.isFocused,f=s.prevWasFocused,p=s.instancePrefix,m=i.options,g=i.value,y=i.menuIsOpen,w=i.inputValue,b=i.isMulti,x=ig(g),E={};if(o&&(g!==o.value||m!==o.options||y!==o.menuIsOpen||w!==o.inputValue)){var S=y?zme(i,x):[],k=y?SR(Kp(i,x),"".concat(p,"-option")):[],N=a?Hme(s,x):null,O=Wme(s,S),C=nx(k,O);E={selectValue:x,focusedOption:O,focusedOptionId:C,focusableOptionsWithIds:k,focusedValue:N,clearFocusValueOnUpdate:!1}}var I=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=h,A=c&&f;return c&&!A&&(R={value:hd(b,x,x[0]||null),options:x,action:"initial-input-focus"},A=!f),(h==null?void 0:h.action)==="initial-input-focus"&&(R=null),Ke(Ke(Ke({},E),I),{},{prevProps:i,ariaSelection:R,prevWasFocused:A})}}]),n}(K.Component);vk.defaultProps=qme;var Gme=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function o6(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,h=t.onChange,c=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,g=Ds(t,Gme),y=K.useState(a!==void 0?a:n),w=Zs(y,2),b=w[0],x=w[1],E=K.useState(l!==void 0?l:i),S=Zs(E,2),k=S[0],N=S[1],O=K.useState(m!==void 0?m:o),C=Zs(O,2),I=C[0],R=C[1],A=K.useCallback(function(Y,z){typeof h=="function"&&h(Y,z),R(Y)},[h]),D=K.useCallback(function(Y,z){var j;typeof c=="function"&&(j=c(Y,z)),x(j!==void 0?j:Y)},[c]),M=K.useCallback(function(){typeof p=="function"&&p(),N(!0)},[p]),F=K.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),q=a!==void 0?a:b,L=l!==void 0?l:k,B=m!==void 0?m:I;return Ke(Ke({},g),{},{inputValue:q,menuIsOpen:L,onChange:A,onInputChange:D,onMenuClose:F,onMenuOpen:M,value:B})}var Kme=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],kR=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},rx={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return kR(e,s,i)})||r.some(function(s){return kR(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function Qme(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,o=s===void 0?rx.formatCreateLabel:s,a=t.isValidNewOption,l=a===void 0?rx.isValidNewOption:a,h=t.getNewOptionData,c=h===void 0?rx.getNewOptionData:h,f=t.onCreateOption,p=t.options,m=p===void 0?[]:p,g=t.onChange,y=Ds(t,Kme),w=y.getOptionValue,b=w===void 0?JF:w,x=y.getOptionLabel,E=x===void 0?XF:x,S=y.inputValue,k=y.isLoading,N=y.isMulti,O=y.value,C=y.name,I=K.useMemo(function(){return l(S,ig(O),m,{getOptionValue:b,getOptionLabel:E})?c(S,o(S)):void 0},[o,c,E,b,S,l,m,O]),R=K.useMemo(function(){return(n||!k)&&I?i==="first"?[I].concat(xu(m)):[].concat(xu(m),[I]):m},[n,i,k,I,m]),A=K.useCallback(function(D,M){if(M.action!=="select-option")return g(D,M);var F=Array.isArray(D)?D:[D];if(F[F.length-1]===I){if(f)f(S);else{var q=c(S,S),L={action:"create-option",name:C,option:q};g(hd(N,[].concat(xu(ig(O)),[q]),q),L)}return}g(D,M)},[c,S,N,C,I,f,g,O]);return Ke(Ke({},y),{},{options:R,onChange:A})}var Xme=K.forwardRef(function(t,e){var n=o6(t),r=Qme(n);return K.createElement(vk,tt({ref:e},r))}),Jme=Xme;function a6({msg:t}){return _.jsx("p",{className:"pl-1 pt-1 text-sm text-red-500",children:t})}function Zme({field:t,setSelectedValues:e,errorMsg:n}){const r=xd.map(o=>({value:`${o.id}`,label:o.name})),i=r.find(({label:o})=>o===t),s=o=>{e(a=>({...a,field:o?o.label:""}))};return _.jsxs("div",{children:[_.jsx(Ti,{text:""}),_.jsx(Jme,{isClearable:!0,className:"h-12 [&>div]:h-full [&>div]:rounded-xl [&>div]:border-gray1",menuPosition:"fixed",options:r,value:i||r[12],onChange:s,placeholder:" ",formatCreateLabel:o=>`"${o}"  `}),n&&_.jsx(a6,{msg:n})]})}var ege=K.forwardRef(function(t,e){var n=o6(t);return K.createElement(vk,tt({ref:e},n))}),tge=ege;const nge={id:"no_host",displayName:" "};function rge({label:t,selectedHosts:e,onChange:n,errorMsg:r}){const s=[...Pe(ga),nge].map(a=>({value:a.id,label:a.displayName})),o=s.filter(({value:a})=>e==null?void 0:e.includes(a));return _.jsxs("div",{className:"flex flex-col",children:[_.jsx(Ti,{text:t}),_.jsx(tge,{className:"h-12 shadow-none shadow-purple2 focus-within:border-pointCoral [&>div:nth-child(3)]:h-full [&>div:nth-child(3)]:rounded-xl [&>div:nth-child(3)]:border-gray1",menuPosition:"fixed",name:"host",placeholder:`${t} `,defaultValue:o.length?[...o]:[],isMulti:!0,options:s,isClearable:!1,isSearchable:!1,onChange:a=>n(a)}),r&&_.jsx(a6,{msg:r})]})}function ige({year:t,month:e}){const{errorMsg:n,onSubmit:r,selectedValues:i,setSelectedValues:s}=bre({year:t,monthKey:`${e}`}),{hosts:o,field:a,detail:l}=i;return _.jsx(Or,{title:`${e}   `,children:_.jsxs("form",{onSubmit:r,className:"flex flex-col gap-y-4",children:[_.jsx(Zme,{field:a,setSelectedValues:s,errorMsg:n==null?void 0:n.field}),_.jsx(rge,{label:"",selectedHosts:o,onChange:h=>{const c=h.map(({value:f})=>f);s(f=>({...f,hosts:c}))},errorMsg:n==null?void 0:n.hosts}),_.jsx(_F,{label:"",placeholder:" ",value:l,onChange:h=>{s(c=>({...c,detail:h.target.value}))}}),_.jsx(ht,{type:"submit",name:"",className:"self-end"})]})})}const sge=({isMonth:t=!1,isEditable:e=!1,color:n="lightBlue",year:r})=>{const{id:i,...s}=Pe(DE(r)),{showModal:o}=St(),a=async()=>{const f=Object.fromEntries(Array.from({length:12},(p,m)=>[`${m+1}`,{detail:"",hosts:[],field:""}]));g3(`BookClub-${r}`,EE,f)},l=t?["","",""]:["",""],h=f=>{o({element:_.jsx(ige,{year:r,month:f})})},c=Object.entries(s).map(([f,p])=>({...p,month:+f.slice(0,-1)})).sort((f,p)=>f.month-p.month);return _.jsx(_.Fragment,{children:c.length!==0?_.jsx(uk,{color:n,labels:l,rowDataList:c,onEditClick:h,isEditable:e}):_.jsx(As,{text:"     .",createBtnTitle:`${r}    `,onCreateClick:a})})};function oge(){const{state:t}=ur(),n={fieldAndHost:" ",absence:""}[t];return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${n} `,backBtn:!0}),_.jsxs("main",{children:[n===""&&_.jsxs(Rt,{title:"2025 ",children:[_.jsx(_fe,{year:"2025",isMonth:!0}),_.jsx(eg,{title:"   ",to:"/setting/absence",state:{year:"2025"},className:"pt-3"})]}),n===" "&&_.jsx(Rt,{title:`${_t}   `,children:_.jsx(sge,{year:_t,isEditable:!0,isMonth:!0})})]})]})}function age(){const{clubByYear:t,selectedYear:e,setSelectedYear:n}=If(),r=K.useMemo(()=>t.filter(i=>new Date(i.id).getTime()<new Date(Nn).getTime()),[t]);return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:" "}),_.jsxs("main",{children:[_.jsx(l5,{selectedYear:e,handleChangeYear:n,buttonClassName:"!shadow-sm !px-3 !py-2"}),_.jsx(Rt,{title:`${e} `,className:"!mt-10",children:r.length!==0?_.jsx("ul",{className:"grid grid-cols-4 gap-4 max-md:grid-cols-3 max-sm:mt-2 max-sm:flex max-sm:flex-col [&>div]:col-span-4",children:r.map(i=>_.jsx(br,{to:`/bookclub${Nn===i.id?"":`/${i.id}`}`,children:i.meeting.eventMonth?_.jsx(X5,{yearMonthId:i.id}):_.jsx(Q5,{yearMonthId:i.id})},i.id))}):_.jsx(As,{text:"    ."})})]})]})}const lge=({searchedBook:t,registerYearMonth:e})=>{const n=Pe(Nr(e)),[r,i]=K.useState(!1),s=+e.slice(-2),o=+e.slice(0,4),{showModal:a}=St(),l={place:" ",time:wt(Dne(o,s,11,0),"yyyy-MM-dd'T'HH:mm:ss")},h=async()=>{a({element:_.jsx(J5,{title:`${s}  `,currentValue:l,yearMonthId:e,registerBook:t})})};return K.useEffect(()=>{n&&i(!0)},[r]),_.jsx(_.Fragment,{children:r&&t.title===(n==null?void 0:n.book.title)?_.jsx(ht,{name:" ",disabled:!0,className:"ml-auto py-2"}):_.jsx(ht,{name:`${s}  ${n!=null&&n.book?"":""}`,type:"button",handleClick:h,color:"blue",className:"ml-auto py-2"})})},uge=({searchedBook:t})=>{const{state:e}=ur(),{thumbnail:n,title:r,authors:i,publisher:s,url:o,datetime:a,price:l,contents:h}=t;return _.jsx(_.Fragment,{children:_.jsx(Pf,{headerChildren:_.jsx(Cl,{book:{thumbnail:n,title:r,authors:i,publisher:s,url:o},className:"py-4"}),children:_.jsxs("div",{className:"px-1 pb-4 pt-1",children:[_.jsx(an,{thumbnail:n,title:r,url:o,className:"float-left mr-3 w-24"}),_.jsxs("div",{className:"mb-4 h-full [&>div]:text-text",children:[_.jsx("h1",{className:"mb-1 text-lg font-medium",children:r!==""?` ${r} `:""}),i&&_.jsx(Os,{authors:i,publisher:s}),a&&_.jsxs("div",{className:"mb-0.5 mt-3",children:[_.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",wt(a,"yyyy M d")]}),l&&_.jsxs("div",{className:"mb-0.5",children:[_.jsx("span",{className:"mr-1 text-gray1",children:":"})," ",t.price.toLocaleString(),""]}),h&&_.jsxs("p",{className:"my-3",children:[h,"..."]})]}),_.jsx(lge,{searchedBook:t,registerYearMonth:e==null?void 0:e.registerYearMonth})]})})})},cge=()=>{const{onBookQueryChange:t,searchList:e,setSearchList:n}=gv(),r=K.useRef(null);return K.useEffect(()=>{n([]),r.current.focus()},[]),_.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:" ",backBtn:!0}),_.jsx("main",{children:_.jsxs(Rt,{title:" ",children:[_.jsxs("form",{className:"mb-8 flex w-1/2 gap-3 max-sm:mb-4 max-sm:w-full",children:[_.jsx(Kt,{ref:r,placeholder:"  .",onChange:t,className:"flex-1"}),_.jsx(ht,{name:"",className:"min-w-fit"})]}),_.jsxs("span",{children:[" ",e.length,""," ",_.jsx("span",{className:"text-gray1",children:"( 10 .)"})]}),_.jsx("ul",{className:"mt-4 columns-2 gap-x-4 max-sm:mt-2 max-sm:columns-1 max-sm:gap-x-0",children:e.map((i,s)=>_.jsx("li",{className:"mb-4 w-full items-center justify-between",children:_.jsx(uge,{searchedBook:i})},`${i.isbn}-${s}`))})]})})]})},dge=()=>{const{anonymous:t}=mi("see"),e=Br(),n=()=>{if(t)return window.alert(" !");window.confirm("  ?")===!0&&(Qt.signOut(),e("/"))};return _.jsx("button",{className:"border-none bg-transparent",onClick:n,children:""})},fge=()=>{var s;const{email:t}=Pe(Ct),{blockLinkAndAlertJoinMember:e}=mi("see"),n=[{to:"edit-profile",name:" "},{to:"edit-password",name:" "},{to:"absence",name:""}],r=[{to:"",name:""},{to:"delete-account",name:""}],i=(s=Qt.currentUser)==null?void 0:s.isAnonymous;return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:"",backBtn:!0,showDesktop:!1,backTo:"/bookshelf"}),_.jsxs("main",{children:[_.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:" "}),_.jsxs("ul",{className:"mb-14 divide-y divide-gray3",children:[n.map(({to:o,name:a})=>_.jsx("li",{className:"py-3",children:_.jsx(br,{to:o,onClick:e,children:a})},o)),!i&&_.jsx("li",{className:"py-3",children:_.jsx(br,{to:"notification",children:""})})]}),_.jsx("h4",{className:"block pb-1 text-sm text-blue3 max-md:text-sm",children:""}),_.jsxs("ul",{className:"divide-y divide-gray3",children:[r.map(({to:o,name:a})=>_.jsx("li",{className:"py-3",children:o===""?_.jsx(dge,{}):_.jsx(br,{to:o,onClick:e,children:a})},o)),t===kE&&_.jsx("li",{className:"py-3",children:_.jsx(br,{to:"developer",children:""})})]})]})]})};function hge({voteId:t,book:e,onCreateClick:n,onDeleteClick:r}){return _.jsxs("div",{className:"relative min-w-fit",children:[e.title===""?_.jsx("button",{type:"button",className:"flex aspect-[0.68/1] w-[70px] items-center justify-center rounded-r-lg border border-gray1 shadow-card",onClick:n,children:_.jsx(ME,{className:"size-[28px] text-gray2"})}):_.jsx(an,{thumbnail:e.thumbnail,title:e.title,className:"w-[70px]"}),t>2&&_.jsx("button",{type:"button",onClick:()=>r(t),className:"absolute -right-1.5 -top-1.5 p-0.5",children:_.jsx(Rf,{className:"size-[25px] rounded bg-white p-0.5 text-2xl shadow-card"})})]})}const pge={isOpenSearchBook:!1,itemId:1},mge=()=>{const[t,e]=K.useState(pge),[n,r]=K.useState(!1),{newVote:i,setNewVote:s,onNewVoteSubmit:o,onVoteTitleChange:a,onDateChange:l,onAddVoteItemBtn:h,onDeleteVoteItemClick:c,isPending:f}=gre(),{searchInputRef:p,onBookQueryChange:m,searchList:g,resetSearchList:y}=gv(),w=N=>{y(),e(({isOpenSearchBook:O,itemId:C})=>({itemId:N||C,isOpenSearchBook:!O}))},b=()=>r(N=>!N),x=N=>{const{title:O,url:C,thumbnail:I}=N,R={title:O,url:C,thumbnail:I},A=i.voteItems.map(D=>D.id===t.itemId?{...D,book:R}:D);s({...i,voteItems:A}),b()},E=N=>{const{value:O}=N.currentTarget,C={...i,voteItems:i.voteItems.map(I=>I.id===t.itemId?{...I,selectReason:O}:I)};s(C)},{title:S,voteItems:k}=i;return _.jsxs(Or,{title:"  ",className:"max-w-[500px]",children:[!t.isOpenSearchBook&&_.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4 overflow-y-scroll scrollbar-hide",children:[_.jsx(Kt,{label:"",type:"text",placeholder:": 1  ",value:S,onChange:a,required:!0}),_.jsxs("div",{children:[_.jsx("span",{className:"py-1 pl-1 text-sm font-medium text-blue1",children:"  "}),_.jsxs("ul",{className:"flex gap-x-3 overflow-x-scroll py-1 scrollbar-hide",children:[k.map(({id:N,book:O})=>_.jsx(hge,{voteId:N,book:O,onCreateClick:()=>w(N),onDeleteClick:()=>c(N)},N)),_.jsx("button",{type:"button",onClick:h,disabled:k.length>=4,className:"flex h-[inherit] items-center justify-center px-2 text-blue1 disabled:text-gray2",children:_.jsx(vv,{className:"text-xl"})})]})]}),_.jsx(rk,{id:" ",label:" ",selected:new Date(i.deadline),onChange:l,selectsEnd:!0,endDate:new Date(i.deadline),dateFormat:"yyyy MM dd"}),_.jsx(ht,{type:"submit",name:"  ",className:"mt-3 self-end",disabled:f,color:"blue"})]}),t.isOpenSearchBook&&(n?_.jsxs(_.Fragment,{children:[_.jsx(_F,{label:" 2",id:"select-reason",placeholder:"      .",value:k[t.itemId-1].selectReason,onChange:E}),_.jsx(ht,{type:"button",name:" ",handleClick:()=>{b(),w()},className:"mt-3 self-end"})]}):_.jsxs(_.Fragment,{children:[_.jsx(Kt,{id:"search-book",label:" ",ref:p,placeholder:"  .",onChange:m,iconName:"FiSearch"}),_.jsx(ik,{searchList:g,onSelectBtnClick:x})]}))]})};function gge({vote:t}){const[e,n]=K.useState([]),{voteItems:r,title:i,id:s,createdAt:o,creatorId:a}=t;return K.useEffect(()=>{e!=null&&e.length||qn(`${zo}/VoteId-${s}/${i_}`,n)},[]),_.jsxs("div",{className:"group relative flex w-full flex-col justify-between rounded-card bg-white bg-opacity-65 p-4 opacity-70 shadow-card",children:[_.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[_.jsxs("h4",{className:"line-clamp-1 w-4/5 flex-1 gap-1 truncate font-medium text-gray1",children:[_.jsx(LE,{className:"mb-1 inline size-5 pr-0.5 text-base"}),r3(i,40)]}),_.jsx(zn,{userId:a})]}),_.jsx("ul",{className:"my-3 flex items-center justify-center gap-x-5",children:r.map(({book:{title:l,thumbnail:h},id:c})=>_.jsx("li",{className:"relative",children:_.jsx(an,{title:l,thumbnail:h,className:"w-16"})},c))}),_.jsx(br,{to:`/vote/${s}`,state:{docId:s},"aria-label":"",className:"absolute right-4 top-[40%] flex size-12 items-center justify-center rounded-full border bg-blue1 opacity-20 group-hover:opacity-100",children:_.jsx(RE,{className:"text-xl text-white"})}),_.jsx("span",{className:"mt-3 text-end text-sm text-gray1",children:new Date(o).toLocaleDateString()})]})}const vge=()=>{const[t,e]=fn(OE),{showModal:n}=St();K.useEffect(()=>{t!=null&&t.length||qn(zo,e)},[]);const r=t==null?void 0:t.filter(s=>s.deadline>=Tm),i=t==null?void 0:t.filter(s=>s.deadline<Tm);return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:" "}),_.jsxs("main",{children:[_.jsx(Rt,{title:" ",titleBtn:_.jsx("button",{type:"button",onClick:()=>n({element:_.jsx(mge,{})}),children:_.jsx(vv,{className:"text-lg text-blue1"})}),children:r&&(r==null?void 0:r.length)!==0?_.jsx("ul",{className:"flex gap-6 max-sm:flex-col",children:r==null?void 0:r.slice(0,1).map(s=>_.jsx(xF,{voteDetail:s},s.id))}):_.jsx(As,{text:"   ."})}),_.jsx(Rt,{title:"  ",children:(i==null?void 0:i.length)!==0&&_.jsx("ul",{className:"grid grid-cols-3 gap-7 max-md:grid-cols-2 max-sm:flex max-sm:flex-col max-sm:gap-5",children:i==null?void 0:i.map(s=>_.jsx(gge,{vote:s},s.id))})})]})]})},Bv=jn({key:`currUserFcm/${on()}`,default:null});jn({key:`notification/${on()}`,default:"default"});function TR({voteItem:t,children:e,selected:n}){const{book:{title:r,thumbnail:i}}=t;return _.jsxs("li",{className:`flex min-h-48 w-full flex-col items-center justify-center gap-y-1.5 overflow-hidden rounded-card bg-white shadow-card ${e?"pt-4":""}`,children:[_.jsxs("div",{className:"relative flex w-full justify-center max-sm:px-3",children:[n&&_.jsx(Ace,{className:"absolute -top-2 right-4 z-10 size-10 rounded-full bg-white text-blue2"}),_.jsx(an,{thumbnail:i,title:r,className:"w-24 max-sm:w-[70px]"})]}),_.jsxs("span",{className:"mt-2 line-clamp-2 h-fit w-4/5 text-center leading-5",children:["",r,""]}),e]})}const yge=({vote:t,onVoteDeleteClick:e})=>{const{creatorId:n,createdAt:r,title:i}=t,{uid:s}=Pe(Ct);return _.jsxs("header",{className:"flex flex-col items-center justify-between pb-3 max-sm:pb-0 max-sm:pt-3",children:[_.jsxs("div",{className:"mb-2 flex w-full items-center justify-between gap-4",children:[i&&_.jsx("h3",{className:"text-xl font-medium max-sm:text-lg",children:i}),s===n&&_.jsx("button",{type:"button",onClick:e,children:_.jsx(Rf,{})})]}),_.jsxs("div",{className:"flex w-full justify-between gap-2",children:[_.jsx(nF,{creatorId:n}),_.jsx("span",{className:"text-gray1 max-sm:text-sm",children:wt(r,"yyyy.M.d. HH:mm")})]})]})};function wge({voteItems:t}){return _.jsx(Pf,{title:"    ",className:"my-4",children:_.jsx("ul",{className:"mb-4",children:t.map(({selectReason:e,id:n,book:r})=>_.jsxs("li",{className:"flex w-full flex-col p-2 max-sm:px-0",children:[_.jsxs("span",{className:"mb-2 bg-green3 py-0.5 font-medium",children:[" ",r.title]}),e?_.jsx("p",{children:e}):_.jsx("span",{children:" ."}),_.jsx(L3,{url:r.url,title:"  ",className:"text-purple2"})]},n))})})}function bge({selected:t,onVoteItemClick:e}){return _.jsx("button",{type:"button",onClick:e,className:"flex w-full flex-col items-center justify-center bg-green1 py-5 text-white",children:t?_.jsx(Qse,{className:"size-5"}):_.jsx(Zse,{className:"size-5"})})}const xge=()=>{const{state:t}=ur(),{email:e}=Pe(Ct),n=Pe(Bv),r=Br();K.useEffect(()=>{t!=null&&t.docId||r("/vote")},[]);const{currentVote:i,votedItemsByMember:s,voteCountsById:o,totalVoteCount:a,selectedItem:l,onVotingSubmit:h,onVoteItemClick:c,myVotedItems:f,onVoteDeleteClick:p,isRevote:m,onToggleRevoteClick:g}=kre({docId:t==null?void 0:t.docId}),{sendPushNotificationToUser:y,sendPushNotificationToAllUser:w,isPending:b}=Ns(),x=(i==null?void 0:i.deadline)<Tm,E=o==null?void 0:o.filter((N,O,C)=>N.voteCount===Math.max(...C.map(I=>I.voteCount))),S=N=>!!E.find(O=>O.title===N),k=Lu(i.deadline);return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${x?" ":""} `,backBtn:!0}),(i==null?void 0:i.voteItems)&&_.jsxs("main",{children:[_.jsx(yge,{vote:i,onVoteDeleteClick:p}),_.jsx(wge,{voteItems:i.voteItems}),x||f&&!m?_.jsxs(_.Fragment,{children:[_.jsx("ul",{className:"mb-6 mt-2 grid grid-cols-2 gap-4 max-sm:mb-10",children:i.voteItems.map(N=>_.jsx(TR,{voteItem:N,selected:S(N.book.title)},N.id))}),o.map(({id:N,title:O,voteCount:C})=>_.jsxs("div",{className:"relative mx-auto mt-2 flex w-2/3 overflow-hidden rounded-xl bg-white px-3 py-1 shadow-sm max-sm:w-full",children:[_.jsx("div",{style:{width:`${Cm(C,a)}%`},className:`absolute inset-y-0 left-0 z-0 rounded-r-lg ${S(O)?"bg-blue2":"bg-gray3"}`}),_.jsx("span",{className:`z-10 inline-block w-full pt-[1px] text-[15px] ${S(O)?"font-medium text-white":"text-gray2"}`,children:O}),_.jsxs("span",{className:`z-10 pt-[1px] text-sm ${S(O)?"font-medium text-blue2":"text-gray2"}`,children:[Cm(C,a),"%"]})]},N)),_.jsxs("div",{className:"mt-14 flex items-center justify-center gap-4 max-sm:mb-12",children:[_.jsx(ht,{name:" ",disabled:!0,color:"gray",className:"px-8"}),!x&&_.jsx(ht,{disabled:x,type:"button",name:" ",handleClick:g})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(bs,{text:"  "}),_.jsxs("form",{onSubmit:h,className:"mb-10 flex flex-col items-center",children:[_.jsx("ul",{className:"mb-8 flex flex-wrap items-center gap-4 max-sm:justify-center",children:i.voteItems.map(N=>_.jsx(TR,{voteItem:N,children:_.jsx(bge,{selected:!!l(N.id),onVoteItemClick:()=>c(N.id)})},N.id))}),_.jsx(ht,{type:"submit",name:"",className:"px-10 py-2 max-sm:px-6"})]})]}),!x&&_.jsx(bF,{hyphenDate:i.deadline}),_.jsxs("div",{className:"mt-10",children:[_.jsxs("h4",{className:"flex items-center gap-2",children:[_.jsx(tie,{}),`: ${s==null?void 0:s.length}`]}),_.jsx("ul",{className:"mt-2 flex flex-wrap gap-x-3 gap-y-2",children:s.map(N=>_.jsx("li",{children:_.jsx(zn,{userId:N.id})},N.id))})]}),e===kE&&+k>=0&&_.jsx(ht,{className:"mt-10",color:"blue",name:`  : ${+k>0?`${k}`:" "}`,handleClick:async()=>{const N={title:"   !",body:`${+k>0?`${k} `:" "}  .     `,notification:n.notification};await y(N),await w(N),window.alert("     !")},disabled:b})]})]})};function Uv({userIdList:t,className:e,children:n,title:r,marqueeText:i}){return _.jsxs("div",{className:`relative flex w-full flex-col py-6 ${e}`,children:[_.jsx("img",{src:"/han-bookclub-app/confetti.png",alt:"",className:"absolute left-0 right-0 top-0 mx-auto rounded-2xl opacity-80"}),_.jsxs("div",{className:"z-10",children:[_.jsx("h3",{className:"text-center font-RomanticGumi text-2xl text-white",children:r}),(t==null?void 0:t.length)!==0&&_.jsx("ul",{className:"mx-auto my-4 flex justify-center gap-x-2",children:t==null?void 0:t.map(s=>_.jsxs("li",{className:"relative flex aspect-square size-24 items-center justify-center rounded-2xl border-[4px] border-yellow-400 bg-[#312a2a] text-base shadow-card",children:[_.jsx(Tv,{className:"absolute -top-0.5 right-2 size-8 text-yellow-400"}),_.jsx(zn,{className:"mt-2 flex flex-col gap-y-2 font-semibold text-white [&>img]:!size-10 [&>img]:shadow-card [&>img]:shadow-gray1",userId:s})]},s))}),i&&_.jsx("h3",{className:"-mx-5 mt-4 animate-marquee whitespace-nowrap font-RomanticGumi font-bold italic text-purple4",children:i}),n||n]})]})}function _ge({rank:t,userId:e,data:n}){return _.jsxs("li",{className:"bg-darkGray flex w-full items-center gap-x-2 rounded-xl px-4 py-2.5 shadow-card",children:[t===1&&_.jsx(Tv,{className:"size-5 text-yellow-300"}),_.jsxs("span",{className:"font-RomanticGumi text-lg font-bold text-white",children:[t,_.jsx("span",{className:"text-sm font-bold text-white",children:""})]}),_.jsx(zn,{userId:e,className:"ml-2 text-white"}),_.jsx("span",{className:"ml-auto flex font-medium text-white",children:n})]},t)}function Sge(){const t=Pe(ga),[e,n]=fn(kl(_t)),r=K.useCallback((s,o)=>{var m;if((e==null?void 0:e.absenceMembers)===void 0)return[];const a=(m=e==null?void 0:e.absenceMembers)==null?void 0:m.flatMap(({breakMembers:g,onceAbsenceMembers:y})=>[...g,...y]),l=new Set(a),h=t.filter(({id:g})=>!l.has(g)).map(({id:g})=>({[g]:0})),c=Object.entries(a.reduce((g,y)=>(g[y]=(g[y]||0)+1,g),{})).map(([g,y])=>({[g]:y}));return[...h,...c].sort((g,y)=>+Object.values(g)-+Object.values(y)).reduce((g,y,w,b)=>{var k;const[x,E]=Object.entries(y)[0];let S;if(w===0)S=1;else{const[N,O]=Object.entries(b[w-1])[0],C=(k=Object.values(g[w-1])[0])==null?void 0:k.rank;S=E===O?C:C+1}return g.push({[x]:{rank:S,absenceCount:E}}),g},[]).filter(g=>{const y=Object.keys(g)[0],w=g[y].rank;return Array.from({length:o-s+1},(x,E)=>s+E).includes(w)})},[e,t]);K.useEffect(()=>{Cr(lo,ul,n)},[]);const i=r(1,1).map(s=>Object.keys(s)[0]);return _.jsxs("div",{children:[_.jsx(Uv,{title:" ",userIdList:i,marqueeText:"    !"}),_.jsx("ul",{className:"mt-3 grid grid-cols-3 gap-3 max-md:grid-cols-2 max-sm:flex max-sm:flex-col",children:r(1,10).map(s=>{const o=Object.keys(s)[0],{rank:a,absenceCount:l}=s[o];return _.jsx(_ge,{rank:a,userId:o,data:` ${l}`},o)})})]})}function Ege({firstRank:t,secondRank:e,thirdRank:n,children:r}){return _.jsxs("div",{className:"relative mx-auto min-h-60 w-[290px]",children:[_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/stage.png",alt:"stage",className:"mt-24 w-full"}),_.jsxs("div",{className:"absolute bottom-[88px] flex h-32 w-full items-end justify-around",children:[_.jsx("div",{className:"mb-1.5 flex h-fit items-end justify-center",children:e.length!==0?e.map(r):[{rank:2}].map(r)}),_.jsx("div",{className:"mb-[52px] flex h-fit max-w-20 items-end justify-center",children:t.length!==0?t.map(r):[{rank:1}].map(r)}),_.jsx("div",{className:"flex h-fit max-w-20 items-end justify-center",children:e.length+t.length<3&&(n.length!==0?n.map(r):[{rank:3}].map(r))})]})]})}function kge({rank:t,isEditing:e}){const{meeting:n}=Pe(Nr(`${_t}-12`)),{hideModal:r}=St(),{clubBookListByYear:i}=If(),{onEditSubmitClick:s}=tc({collName:`${lo}`,docId:`${_t}-12`,dataToUpdate:{"meeting.eventMonth.contents":[]}}),o=({clubBook:a})=>{var l;try{const h=((l=n==null?void 0:n.eventMonth)==null?void 0:l.contents)||[],c={clubBook:a,rank:t},f=h==null?void 0:h.map(p=>{var g,y,w;if(!p.title.includes(" "))return p;const m=e?(g=p==null?void 0:p.result.books)==null?void 0:g.map(b=>b.rank===t?c:b):(y=p==null?void 0:p.result)!=null&&y.books?[...(w=p==null?void 0:p.result)==null?void 0:w.books,c]:[c];return{...p,result:{...p==null?void 0:p.result,books:m}}});s({"meeting.eventMonth.contents":f}),alert(`2025   ${t} ${a.title}  ${e?"":""}.`)}catch(h){console.log(h)}finally{r()}};return _.jsx(Or,{title:`2025   ${t} ${e?"":""}`,children:_.jsx("ul",{className:"grid grid-cols-4 gap-4",children:i.map(({yearMonthId:a,...l})=>_.jsx("li",{children:_.jsx("button",{type:"button",onClick:()=>o({clubBook:l}),children:_.jsx(an,{thumbnail:l.thumbnail,title:l.title})})},a))})})}function Tge({books:t}){const{showModal:e}=St(),n=({rank:i,isEditing:s})=>{e({element:_.jsx(kge,{rank:i,isEditing:s})})},r=i=>t==null?void 0:t.filter(({rank:s})=>s===i);return _.jsxs("div",{className:"flex flex-col items-center justify-center",children:[_.jsx(Uv,{title:" "}),_.jsx(Ege,{firstRank:r(1),secondRank:r(2),thirdRank:r(3),children:({clubBook:i,rank:s})=>_.jsx("button",{type:"button",onClick:()=>n({rank:s,isEditing:!!i}),style:{transform:"rotateX(20deg)"},children:_.jsx(an,{iconName:"FiPlus",title:i?i.title:void 0,thumbnail:i?i.thumbnail:void 0,className:"rotate-x-12 w-[74px] min-w-16 origin-bottom transform bg-white"})},s)})]})}function Cge({rank:t,isEditing:e}){var w;const[n,r]=K.useState(1),[i,s]=K.useState([]),o=K.useRef(null),{meeting:a}=Pe(Nr(`${_t}-12`)),{hideModal:l}=St(),{clubBookListByYear:h}=If(),{editedData:c,setEditedData:f,onEditSubmitClick:p}=tc({collName:`${lo}`,docId:`${_t}-12`,dataToUpdate:{"meeting.eventMonth.contents":[]}}),m=(w=c["meeting.eventMonth.contents"].find(b=>b.title.includes(" ")))==null?void 0:w.result.subjects.find(b=>b.rank===t),g=({step:b,clubBook:x,yearMonthId:E})=>{var N;r(b);const S={yearMonthId:E,clubBook:x,rank:t,bestSubject:""},k=(N=a==null?void 0:a.eventMonth)==null?void 0:N.contents.map(O=>O.title.includes("  ")?{...O,result:{...O.result,subjects:e?O.result.subjects.map(C=>C.rank!==t?C:S):[...O.result.subjects,S]}}:O);f({"meeting.eventMonth.contents":k})},y=()=>{const b=i[0].text.split("").find(E=>{var S;return E.includes((S=o==null?void 0:o.current)==null?void 0:S.value)})||"",x=c["meeting.eventMonth.contents"].map(E=>E.title.includes("  ")?{...E,result:{...E.result,subjects:E.result.subjects.map(S=>S.rank!==t?S:{...S,bestSubject:b})}}:E);p({"meeting.eventMonth.contents":x}),l()};return K.useEffect(()=>{m&&qn(Zr(m.yearMonthId,Af),s)},[m]),_.jsxs(Or,{title:`2025   ${t} ${e?"":""}`,children:[n===1&&_.jsxs(_.Fragment,{children:[_.jsx(bs,{text:"  ."}),_.jsx("ul",{className:"grid grid-cols-4 gap-4",children:h.map(({yearMonthId:b,...x})=>_.jsx("li",{children:_.jsx("button",{type:"button",onClick:()=>g({step:2,clubBook:x,yearMonthId:b}),children:_.jsx(an,{thumbnail:x.thumbnail,title:x.title})})},b))})]}),n===2&&_.jsxs(_.Fragment,{children:[_.jsx(Kt,{ref:o,iconName:"FiHash",placeholder:"    ?",className:"mb-3"}),_.jsx("div",{className:"mb-4 overflow-scroll rounded-xl border border-gray3 bg-[#f5f5f5] p-3 scrollbar-hide",children:i.map(b=>_.jsx(jE,{text:b.text},b.id))}),_.jsxs("div",{className:"flex items-center",children:[(m==null?void 0:m.clubBook)&&_.jsx(Cl,{book:m==null?void 0:m.clubBook}),_.jsx(ht,{name:"",color:"purple",handleClick:()=>y(),type:"submit"})]})]})]})}function Nge({subjects:t}){const{showModal:e}=St(),n=({rank:r,isEditing:i})=>{e({element:_.jsx(Cge,{rank:r,isEditing:i})})};return _.jsxs("div",{className:"flex flex-col items-center justify-center",children:[_.jsx(Uv,{title:" "}),_.jsx("ul",{className:"z-10 flex flex-col gap-y-4",children:t.length>0&&(t==null?void 0:t.map(({bestSubject:r,clubBook:i,yearMonthId:s,rank:o},a)=>_.jsxs("li",{className:`flex flex-col items-center shadow-card ${t.length===a+1?"":"border-b-2 border-dotted pb-4"}`,children:[_.jsxs("div",{className:"mb-3 flex w-full items-center justify-between gap-x-3",children:[_.jsx(Cl,{book:i,className:"text-white [&>div>img]:!shadow-white [&>div>span]:text-white"}),_.jsxs("div",{className:"flex aspect-square size-14 flex-col items-center justify-center rounded-full bg-purple4",children:[_.jsx("span",{className:"font-GiantsInline text-xs leading-4 text-purple2",children:"Rank"}),_.jsx("span",{className:"font-GiantsInline text-lg leading-5 text-purple1",children:o})]})]}),_.jsxs("p",{children:[_.jsx(eoe,{className:"float-left mr-3 size-12 text-purple3"}),_.jsx("span",{className:"text-white",dangerouslySetInnerHTML:{__html:r}})]}),_.jsxs("div",{className:"flex w-full items-center",children:[_.jsx(Kd,{className:"text-white",onClick:()=>n({rank:o,isEditing:!0})}),_.jsx(br,{to:`/bookclub/${s}/subjects`,className:"ml-auto w-fit px-2 py-1 text-sm font-medium text-purple3 underline",children:"  "})]})]},i.title)))}),_.jsx("div",{className:"z-10 mt-4 grid grid-cols-2 gap-4",children:3-t.length>0&&Array.from({length:3-t.length}).map((r,i)=>_.jsxs("div",{className:`flex flex-col items-center gap-y-4 p-5 ${i===0&&(t.length===0||t.length===3)?"col-span-2":""}`,children:[_.jsx("button",{type:"button",onClick:()=>n({rank:t.length+i+1}),children:_.jsx(an,{iconName:"FiPlus",className:"w-16 bg-white"})}),_.jsxs("h3",{className:"font-RomanticGumi tracking-tighter text-blue3",children:[" ",t.length+i+1,""]})]},i))})]})}function l6({questionTitle:t,answerType:e}){const n=Pe(Ct),{meeting:r}=Pe(Nr(`${_t}-12`)),{onEditSubmit:i,setEditedData:s,editedData:o}=tc({collName:lo,docId:`${_t}-12`,dataToUpdate:{"meeting.eventMonth.contents":r.eventMonth.contents}}),a=o["meeting.eventMonth.contents"],l=a.find(({title:w})=>w.includes("")),h=l.result.readingLifeQuestions.find(({question:w})=>w===t),c=h.answerList.find(({userId:w})=>w===n.uid),f=async w=>{const b=l==null?void 0:l.result.readingLifeQuestions,x=b.find(({id:O})=>O===w.id),E={id:on(),answerType:"sentence",question:"",answerList:[]},S=x?b.map(O=>O.id===w.id?{...O,...w}:O):[...b,{...E,...w}],k={...l,result:{readingLifeQuestions:S}},N=a.map(O=>O.id===l.id?{...O,...k}:O);s({"meeting.eventMonth.contents":N})},{onBookQueryChange:p,searchList:m,setSearchList:g}=gv(),y=K.useRef(null);return K.useEffect(()=>{var w;return g([]),(w=y.current)==null||w.focus(),g([])},[]),_.jsx(Or,{title:"  ",children:_.jsxs("form",{className:"relative flex flex-col overflow-scroll scrollbar-hide",onSubmit:i,children:[_.jsx(Kt,{defaultValue:h.question,readOnly:!0,className:"!h-14 border-purple3 bg-purple4",placeholder:"    "}),_.jsx("div",{className:"absolute left-3 top-[55px] h-1 w-[90%] border-t-2 border-dashed border-purple4"}),_.jsxs("div",{className:"rounded-xl border border-purple3 bg-purple4 px-3 pb-5 pt-3",children:[e==="book"&&_.jsx(_.Fragment,{children:c!=null&&c.book?_.jsxs("div",{className:"mb-4",children:[_.jsx(Ti,{htmlFor:"  ",text:"  "}),_.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-purple2 bg-white px-3 py-2",children:[_.jsx(Cl,{book:c.book}),_.jsx("button",{type:"button",onClick:()=>{const w=h.answerList.map(b=>b.userId===n.uid?{userId:b.userId,answer:b.answer}:b);f({...h,answerList:w})},children:_.jsx(Rf,{className:"size-5 text-gray1"})})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(Kt,{label:" ",ref:y,placeholder:"  .",onChange:p}),_.jsx(ik,{className:"!mt-2 mb-4 h-[20vh] rounded-xl bg-white px-4",searchList:m,onSelectBtnClick:w=>{const b=h.answerList.find(({userId:S})=>S===n.uid),x={userId:n.uid,book:w,answer:""},E=b?h.answerList.map(S=>S.userId===n.uid?{...S,book:w}:S):[...h.answerList,x];f({...h,answerList:E})}})]})}),_.jsx(Kt,{className:"border-purple2",label:e==="sentence"?" ":"   ()",value:(c==null?void 0:c.answer)||"",onChange:w=>{const b=h.answerList.find(({userId:S})=>S===n.uid),x={userId:n.uid,answer:w.target.value},E=b?h.answerList.map(S=>S.userId===n.uid?{...S,answer:w.target.value}:S):[...h.answerList,x];f({...h,answerList:E})},placeholder:" "})]}),_.jsx(ht,{type:"submit",name:"",className:"ml-auto mt-4",size:"md"})]})})}function Oge({question:t,answerType:e,userAnswer:n}){const r=Pe(Ct),{showModal:i}=St(),s=(h,c)=>{i({element:_.jsx(l6,{questionTitle:h,answerType:c})})},{userId:o,book:a,answer:l}=n;return _.jsxs("li",{className:"bg-darkGray flex flex-col gap-y-2 rounded-xl p-3",children:[_.jsxs("div",{className:"flex w-full items-center justify-between gap-x-1",children:[_.jsx(zn,{isLink:!1,userId:o,size:"sm",className:"w-fit min-w-fit font-medium"}),o===r.uid&&_.jsx(Kd,{className:"!size-[22px] text-gray2",onClick:()=>s(t,e)})]}),e==="sentence"&&_.jsx("span",{className:"w-fit break-words font-medium tracking-tight text-purple3",children:l}),e==="book"&&_.jsx(an,{title:a.title,thumbnail:a.thumbnail,className:"mx-auto mb-1 w-[90%] [&>img]:!shadow-sm [&>img]:!shadow-gray1"})]})}function Age({questionList:t}){const e=Pe(Ct),{showModal:n}=St(),r=(s,o)=>{n({element:_.jsx(l6,{questionTitle:s,answerType:o})})},i=s=>s.find(({userId:o})=>o===e.uid);return _.jsx("ul",{className:"flex flex-col gap-y-8",children:t.map(({question:s,answerType:o,answerList:a})=>_.jsx(Pf,{title:s,initialOpen:!0,className:"!bg-transparent !text-white [&>div:first-child]:!pb-0 [&>div]:px-0",children:_.jsxs("ul",{className:`mt-2 ${o==="sentence"?"flex flex-wrap gap-3":"grid grid-cols-3 gap-3"}`,children:[a.map(l=>_.jsx(Oge,{question:s,answerType:o,userAnswer:l},l.userId)),!i(a)&&_.jsx("li",{className:"col-span-2",children:_.jsxs("button",{type:"button",onClick:()=>r(s,o),className:"flex flex-col items-center justify-center rounded-xl border p-4",children:[_.jsx(zn,{userId:e.uid,isLink:!1,className:"w-fit min-w-fit rounded-lg pb-2 font-medium text-purple3"}),s.includes("")?_.jsx(Oce,{className:"size-5 text-gray2"}):_.jsx(vv,{className:"size-5 text-gray2"})]})})]},s)},s))})}const Dge={breakpoints:{1024:{slidesPerView:11},800:{slidesPerView:8},500:{slidesPerView:7},320:{slidesPerView:4}},loop:!0,centeredSlides:!0,spaceBetween:5,navigation:!1,pagination:!1,scrollbar:!1,speed:4e3,autoplay:{delay:0,disableOnInteraction:!1,pauseOnMouseEnter:!0}};function Ige(){var l;const[t,e]=K.useState(""),{meeting:n}=Pe(Nr(`${_t}-12`)),{clubBookListByYear:r}=If(),{userRankList:i}=O3(),s=K.useMemo(()=>n.eventMonth.contents.filter(c=>c.result).find(c=>c.title.includes(t)),[t,n]),o=K.useMemo(()=>n.eventMonth.contents.filter(c=>c.result).find(c=>c.title.includes("")),[n]),a={:{name:" ",result:_.jsx(Sge,{})},:{name:" ",result:_.jsxs("div",{children:[_.jsx(Uv,{title:" ",marqueeText:"    !",userIdList:i.filter(({rank:h})=>h===1).map(h=>h.creatorId)||[]}),_.jsx("ul",{className:"mt-3 grid grid-cols-3 gap-3 max-md:grid-cols-2 max-sm:flex max-sm:flex-col",children:i.map(h=>_.jsx(a5,{userRank:h,color:"dark"},h.creatorId))})]})},:{name:" ",result:_.jsx(Tge,{books:s.result.books})},:{name:" ",result:_.jsx(Nge,{subjects:s.result.subjects})}};return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${_t}  `,backBtn:!0,className:"!bg-black !text-white"}),_.jsxs("main",{className:"bg-black pb-40 pt-4",children:[_.jsxs("div",{className:"relative mb-3 rounded-2xl bg-[#2a2a2a] px-4 py-6 shadow-card",children:[_.jsxs("h2",{className:"font-RomanticGumi leading-5 text-white",children:[_.jsx("span",{className:"mr-0.5 text-3xl tracking-[-0.1em] text-purple2",children:_t})," ",_.jsx("br",{}),_.jsx("span",{className:"text-3xl tracking-[-0.1em] text-pointCoral",children:r.length}),"  ."]}),_.jsx("ul",{className:"mt-6 flex flex-col gap-y-1",children:[{title:"  ",anwser:`${r.length}`,icon:_.jsx(Kse,{className:"mb-0.5 min-w-fit text-blue4"})},{title:"  ",anwser:"12",icon:_.jsx(toe,{className:"mb-0.5 min-w-fit text-blue4"})},{title:" ",anwser:`${i.filter(h=>h.totalRereadingCounts).length}`,icon:_.jsx(Gse,{className:"mb-0.5 min-w-fit text-white"})}].map(({anwser:h,title:c,icon:f})=>_.jsxs("li",{className:"flex items-center",children:[f,_.jsxs("h4",{className:"ml-1 mr-2 min-w-40 font-RomanticGumi text-[15px] font-medium tracking-tighter text-white",children:[c,_.jsx("div",{className:"border border-dotted"})]}),_.jsx("span",{className:"font-RomanticGumi text-[15px] font-semibold tracking-tighter text-white",children:h})]},c))}),_.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/books.png",alt:" 3D ",className:"absolute right-0 top-2 w-[35%]"})]}),_.jsx("div",{className:"max-sm:-mx-5",children:_.jsx(Mv,{options:Dge,children:r.map(h=>_.jsx($f,{children:_.jsx(an,{title:h.title,thumbnail:h.thumbnail,className:"w-[82px] shadow-md shadow-white"})},h.title))})}),_.jsx("ul",{className:"mb-5 mt-24 flex flex-wrap gap-1.5",children:Object.entries(a).map(h=>_.jsx("li",{children:_.jsx(ht,{name:h[1].name,handleClick:()=>e(h[0]),className:`rounded-t-xl !px-3 !text-sm tracking-tighter ${t.includes(h[0])?"!bg-darkGray font-bold !text-white":"!text-darkGray !bg-gray2"}`})},h[0]))}),_.jsx(Rt,{className:"min-h-72",children:(l=a[t])==null?void 0:l.result}),_.jsx(Rt,{title:"  ",className:"!mt-4 [&>h3]:text-white",children:_.jsx(Age,{questionList:o.result.readingLifeQuestions})})]})]})}function Rge({className:t=""}){return _.jsx("img",{src:"https://talentforest.github.io/han-bookclub-app/hanpage_logo.png",alt:"  ",className:`${t}`})}function CR({type:t}){const{pathname:e}=ur(),{blockLinkAndAlertJoinMember:n}=mi("see"),r="text-[15px]",i=location.pathname.match(/\/bookclub\/(\d{4}-\d{2})(?:\/|$)/),s=i?i[1]:null,o=new Date(s).getTime()<new Date().getTime(),a=[{name:"",to:"/",icon:_.jsx(Kre,{className:`${r}`}),active:e==="/"},{name:" ",to:"/previous-bookclub",icon:_.jsx(Lre,{className:`${r}`}),active:!!(e.includes("previous-bookclub")||e.includes("/bookclub")&&s&&o)},{name:" ",to:"/bookclub",icon:_.jsx(zre,{className:`${r}`}),active:e.includes("/bookclub")&&!s},{name:"",to:"/vote",icon:_.jsx(LE,{className:`${r}`}),active:e.includes("vote")},{name:" ",to:"/bookshelf",icon:_.jsx(Wd,{className:`${r}`}),onClick:n,active:e==="/bookshelf"}];return _.jsxs(_.Fragment,{children:[t==="top"&&!e.includes("create_account")&&e!=="/login"&&_.jsxs("nav",{className:`header flex items-center justify-between px-4 pb-12 pt-8 max-sm:hidden ${e==="/yearClosingEvent"?"!bg-black !text-white":""}`,children:[_.jsxs(br,{to:"/",className:"flex items-center gap-1",children:[_.jsx(Rge,{className:"size-6"}),_.jsx("span",{className:"text-[17px] font-medium",children:" "})]}),_.jsx("ul",{className:"flex gap-x-8",children:a.map(({name:l,to:h,state:c,onClick:f,active:p})=>_.jsx("li",{children:_.jsx(br,{to:h,state:c,onClick:f,children:_.jsx("span",{className:`${p?`${e==="/yearClosingEvent"?"font-semibold !text-white":"font-semibold text-text"}`:`${e==="/yearClosingEvent"?"text-gray3":"text-gray1"}`}`,children:l})})},h))})]}),t==="bottom"&&e!=="/login"&&!e.includes("setting")&&_.jsx("nav",{className:`fixed bottom-0 left-0 z-10 hidden w-full rounded-t-2xl py-3.5 shadow-card max-sm:block ${e==="/yearClosingEvent"?"!bg-black !text-white":"bg-white"}`,children:_.jsx("ul",{className:"flex justify-evenly",children:a.map(({to:l,name:h,icon:c,state:f,onClick:p,active:m})=>_.jsx("li",{className:`flex w-[20%] cursor-pointer flex-col items-center justify-center text-[10px] ${m?"text-text":"text-gray2"}`,children:_.jsxs(br,{to:l,state:f,onClick:p,className:"flex w-full flex-col items-center justify-center gap-1",children:[c,_.jsx("span",{children:h})]})},l))})})]})}const Pge=({bookFieldName:t,checkedBoxHandler:e,bookFields:n})=>{const[r,i]=K.useState(!1),s=async o=>{const{currentTarget:{checked:a}}=o;i(l=>!l),e(n,a)};return _.jsxs("div",{children:[_.jsx(Ti,{text:t}),_.jsx("input",{id:t,type:"checkbox",name:"bookFields",checked:r,onChange:s})]})},NR=()=>{const{currentStep:t,keyword:e,onFirstStepChange:n,onFirstStepSubmit:r,email:i,password:s,checkPassword:o,showErrorMsg:a,onSecondStepChange:l,onSecondStepSubmit:h,username:c,onThirdStepChange:f,onThirdStepSubmit:p,checkedBoxHandler:m}=hre();return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{showDesktop:!0,title:" ",backBtn:!0}),_.jsxs("main",{children:[_.jsxs("header",{children:[_.jsx(lr,{color:"lightBlue",shape:"rounded",text:`${t.step} / ${p3.length}`,className:"mb-2"}),_.jsx(Am,{title:t.stepName,className:"mb-2"})]}),t.step===1&&_.jsxs("form",{onSubmit:r,children:[_.jsx(bs,{text:"     ."}),_.jsx(Kt,{label:" ",type:"text",placeholder:" ",value:e,onChange:n,required:!0}),_.jsx(ht,{type:"submit",name:"",className:"mx-auto mt-10 !px-6"})]}),t.step===2&&_.jsxs("form",{onSubmit:h,className:"flex flex-col gap-3",children:[_.jsxs("div",{children:[_.jsx(bs,{text:"    ."}),i&&_.jsx(bs,{text:"           .     ."})]}),_.jsx(Kt,{name:"email",type:"email",placeholder:"    .",value:i,autoComplete:"email",onChange:l}),_.jsx(Kt,{name:"password",type:"password",autoComplete:"current-password",placeholder:" 8  .",value:s,onChange:l}),_.jsx(Kt,{name:"checkPassword",type:"password",autoComplete:"current-password",placeholder:"   .",value:o,onChange:l}),a&&_.jsx("span",{className:"text-sm text-pointCoral",children:a}),_.jsx(ht,{type:"submit",name:" ",className:"mx-auto mt-4"})]}),t.step===3&&_.jsxs("form",{onSubmit:p,children:[_.jsx(Kt,{label:"",name:"username",value:c,placeholder:" .",onChange:f}),_.jsx(Ti,{htmlFor:"gender",text:""}),_.jsx("fieldset",{children:jne.map(g=>_.jsxs("div",{children:[_.jsx(Ti,{text:g}),_.jsx("input",{id:g,type:"radio",name:"gender",value:g,onChange:f,required:!0})]},g))}),_.jsx(Ti,{htmlFor:"bookFields",text:" "}),_.jsx("fieldset",{className:"bookfield",children:xd.map(g=>_.jsx(Pge,{bookFieldName:g.name,bookFields:g,checkedBoxHandler:m},g.id))}),a&&_.jsx("span",{children:a}),_.jsx(ht,{type:"submit",name:""})]})]})]})},Mge=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(!1),i=o=>{o.preventDefault(),AV(Qt,t).catch(a=>{console.log(a)}),r(!0),e("")},s=o=>{r(!1),e(o.currentTarget.value)};return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{showDesktop:!0,title:" ",backBtn:!0}),_.jsxs("main",{children:[_.jsx(Am,{title:"  ?",className:"mb-2"}),_.jsx("p",{children:"     ."}),_.jsxs("form",{onSubmit:i,className:"mb-3 mt-1 flex w-full gap-x-3",children:[_.jsx(Kt,{name:"email",type:"email",value:t,placeholder:"  .",onChange:s,autoComplete:"email",className:"min-w-10 flex-grow whitespace-nowrap"}),_.jsx(ht,{type:"submit",name:""})]}),n?_.jsxs("span",{children:["     .",_.jsx("br",{}),"      ."]}):_.jsx(_.Fragment,{})]})]})};function Lge(){const{pathname:t}=ur();return K.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function jge({bookClub:t,fieldAndHosts:e,className:n=""}){var i;const{book:r}=t;return _.jsxs("div",{className:`flex gap-x-4 rounded-card bg-white p-5 shadow-card ${n}`,children:[_.jsx(an,{thumbnail:r.thumbnail,title:r.title,iconName:r.title.includes("")?"MdEventAvailable":void 0,url:r.url,className:"w-28"}),_.jsxs("div",{className:"flex w-full flex-col justify-between",children:[_.jsx("h1",{className:"mb-1 line-clamp-2 pr-1 text-lg font-medium leading-5",children:r.title}),r.authors&&_.jsx(Os,{authors:r.authors,publisher:r.publisher}),(e==null?void 0:e.field)&&_.jsx(K5,{field:e==null?void 0:e.field}),_.jsxs("div",{className:"flex items-center gap-x-1",children:[_.jsx(Wd,{className:"text-[16px] text-purple2"}),_.jsx("ul",{className:"flex gap-x-2",children:(i=e==null?void 0:e.hosts)==null?void 0:i.map(s=>_.jsx("li",{children:_.jsx(zn,{userId:s,size:"sm"})},s))})]})]})]})}const Fge=({postType:t})=>{const e=Pe(Nr(Nn)),{uid:n}=Pe(Ct),{sendPostPushNotification:r,isPending:i}=Ns(),{id:s,book:{thumbnail:o,title:a,url:l,publisher:h,authors:c}}=e,f=t===""?Zr(s,Af):Zr(s,pv),p={text:"",createdAt:"",creatorId:n,clubBook:{title:a,thumbnail:o,url:l,publisher:h,authors:c}},{onAddDocSubmit:m,newDocData:g,onDataChange:y}=NE({collName:f,initialDocData:p}),{hideModal:w}=St(),b=async x=>{if(g.text!=="")try{await m(x),y({text:""}),await r(t),w()}catch{window.alert("   .")}};return _.jsx(Or,{title:`${t} `,children:_.jsxs("form",{onSubmit:b,className:"flex h-[90vh] flex-col overflow-scroll scrollbar-hide",children:[_.jsx(Y3,{placeholder:`${t} `,text:g.text,setText:x=>y({text:x})}),_.jsx(ht,{name:" ",type:"submit",className:"ml-auto px-7 !shadow-none max-sm:px-4",disabled:i,color:"blue"})]})})};function OR(){var N;const t=N_(),e=(t==null?void 0:t.id)??Nn,n=Pe(Nr(e)),r=Pe(IE(e)),[i,s]=fn(tF),[o,a]=fn(eF),{pathname:l,state:h}=ur(),c=Zr(e,Af),f=Zr(e,pv);K.useEffect(()=>{qn(f,s),qn(c,a)},[]);const{alertAskJoinMember:p,anonymous:m}=mi("write"),{showModal:g}=St(),y=l.includes("host-review")?" ":"",w=(h==null?void 0:h.postId)??"",b=()=>{if(m)return p();g({element:_.jsx(Fge,{postType:y})})},x={:{postList:o,collName:c}," ":{postList:i,collName:f}},{postList:E,collName:S}=x[y],k=w?E==null?void 0:E.filter(O=>O.id===w):E;return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:`${e===Nn?"":wt(e,"yyyy M")}  ${y}`,backBtn:!0}),_.jsxs("main",{children:[document&&_.jsx(jge,{bookClub:n,fieldAndHosts:r}),!(t!=null&&t.id)&&_.jsx(ht,{type:"button",color:"blue",name:`${y} `,handleClick:b,className:"mt-5 w-full !py-3"}),(N=x[y])!=null&&N.postList?(k==null?void 0:k.length)!==0&&k.map((O,C)=>_.jsxs(K.Fragment,{children:[_.jsx(sk,{type:y,post:O,collName:S,className:"relative mt-4 max-sm:pb-4",children:_.jsx(yv,{createdAt:O.createdAt,footerType:"likes",post:O,collName:S})}),k.length-1!==C&&_.jsx(Z5,{})]},O.id)):_.jsx(rc,{size:150,className:"h-[55vh]"})]})]})}function $ge({label:t,checked:e,checkedBoxHandler:n,detail:r}){const i=async s=>{const{currentTarget:{checked:o}}=s;n(t,o)};return _.jsxs("div",{className:"flex items-start gap-1",children:[_.jsx("input",{type:"checkbox",id:t,checked:e,onChange:i,className:"mt-1 size-[15px]"}),_.jsxs("div",{className:"flex-1",children:[_.jsx(Ti,{text:t,className:"py-0 !text-base"}),r&&_.jsx(bs,{color:"gray",text:r})]})]})}function Bge({year:t,month:e}){const n=Pe(kl(_t)),{uid:r}=Pe(Ct),{onSubmit:i,selectedValues:s,setSelectedValues:o}=wre(t);K.useEffect(()=>{const{absenceMembers:l}=n,h=l==null?void 0:l.find(g=>g.month===e);if(!h)return;const{breakMembers:c,onceAbsenceMembers:f}=h,p=c==null?void 0:c.find(g=>g===r),m=f==null?void 0:f.find(g=>g===r);o({month:e,breakMonth:!!p,onceAbsenceMonth:!!m})},[e]);const a=(l,h)=>{const c=l==="  "&&h&&s.breakMonth||l===" "&&h&&s.onceAbsenceMonth;o(c?{...l===" "?{month:e,onceAbsenceMonth:!h,breakMonth:h}:{month:e,breakMonth:!h,onceAbsenceMonth:h}}:{...s,...l===" "?{breakMonth:h}:{onceAbsenceMonth:h}})};return _.jsxs("form",{onSubmit:l=>i(l,e),className:"mt-4 flex flex-col gap-2.5",children:[["  "," "].map(l=>_.jsx($ge,{label:l,checked:l===" "?s.breakMonth:s.onceAbsenceMonth,checkedBoxHandler:a,detail:l===" "?"      .(  X)":"     .(  O)"},l)),_.jsx(ht,{type:"submit",name:"",className:"!ml-auto !py-0"})]})}function Uge({year:t,userId:e,isEditable:n=!1}){var l;const[r,i]=fn(kl(t));K.useEffect(()=>{Of(r)||Cr(lo,ul,i)},[r]);const s=(l=r==null?void 0:r.absenceMembers)==null?void 0:l.map(({month:h,onceAbsenceMembers:c,breakMembers:f})=>({month:h,onceAbsenceMonth:c.includes(e),breakMonth:f.includes(e)})),{showModal:o}=St(),a=async h=>{o({element:_.jsx(Or,{title:`${h}   `,children:_.jsx(Bge,{year:t,month:h})})})};return _.jsx(_.Fragment,{children:r?_.jsx(uk,{labels:["","",""],rowDataList:s,onEditClick:a,isEditable:n}):_.jsx(rc,{size:150,className:"h-[60vh]"})})}function Vge(){const{uid:t}=Pe(Ct),{state:e}=ur();return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:` ${_t}   `,backBtn:!0}),_.jsxs("main",{children:[_.jsx(bs,{text:"     "}),_.jsx(Uge,{userId:t,isEditable:!0,year:e==null?void 0:e.year})]})]})}const qge=()=>{const t=Qt==null?void 0:Qt.currentUser,{onSubmit:e,originPassword:n,onOriginChange:r,newPassword:i,onNewChange:s,checkNewPassword:o,onCheckNewChange:a}=fre();return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:" ",backBtn:!0}),_.jsx("main",{children:_.jsxs("form",{onSubmit:e,className:"flex flex-col gap-y-3",children:[_.jsx("input",{hidden:!0,type:"text",autoComplete:"username",defaultValue:t==null?void 0:t.email}),_.jsx(Kt,{name:"password",type:"password",value:n,placeholder:"  .",onChange:r,autoComplete:"current-password"}),_.jsx(Kt,{name:"password",type:"password",value:i,placeholder:"  .",onChange:s,autoComplete:"new-password"}),_.jsx(Kt,{name:"password",type:"password",value:o,placeholder:"    .",onChange:a,autoComplete:"new-password"}),_.jsx(ht,{type:"submit",name:"",className:"mx-auto mt-5"})]})})]})},zge=()=>{const{onDeleteSubmit:t,showMessage:e,password:n,onChange:r}=vre();return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:"",backBtn:!0}),_.jsxs("main",{children:[_.jsx(bs,{text:"       ,   ."}),_.jsxs("form",{className:"gap-1",onSubmit:t,children:[e&&_.jsx("span",{className:"text-sm",children:"  ."}),_.jsx(Kt,{label:" ",name:"password",type:"password",placeholder:"  .",value:n,onChange:r,autoComplete:"current-password"}),_.jsx(ht,{type:"submit",name:"",className:"my-2 ml-auto !h-8 py-1"})]})]})]})};function Hge(){const{email:t}=Pe(Ct),e=Pe(Bv),n=Pe(Nr(Nn)),[r,i]=K.useState([]),{sendPushNotificationToUser:s,sendPushNotificationToAllUser:o,isPending:a}=Ns(),l=Br();K.useEffect(()=>{t!==kE&&l(-1),qn(Hd,i)},[]);const h=Lu(n.meeting.time),c=Lu("2025-12-21");return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:"",backBtn:!0}),_.jsxs("main",{children:[_.jsx(Rt,{title:" ",children:_.jsxs("div",{className:"flex flex-wrap gap-3",children:[_.jsx(ht,{name:" ",handleClick:async()=>{const f={title:"",body:"  ",notification:e.notification};(await s(f)).result==="success"&&window.alert(" !")},disabled:a}),_.jsx(ht,{color:"purple",name:"  ",handleClick:async()=>{const f={title:"",body:"  ?"};await s({...f,notification:e.notification}),await o(f),window.alert(" !")},disabled:a})]})}),_.jsx(Rt,{title:"   ",children:_.jsx("ul",{className:"flex flex-wrap gap-3",children:r.map(f=>_.jsx("li",{children:_.jsx(ht,{color:"blue",name:" ",handleClick:async()=>{const p={title:" ",body:"  ?",notification:e.notification},m=await s(p,f);(m==null?void 0:m.result)==="success"&&window.alert(" !")},disabled:a,children:_.jsx(zn,{userId:f.id,isLink:!1})})},f.id))})}),_.jsx(Rt,{title:"  ",children:_.jsx(ht,{name:`${+Ws}   `,handleClick:async()=>{const f={title:`${+Ws}  `,body:" .       ",notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),_.jsx(Rt,{title:"  ",children:_.jsx(ht,{name:`${+Ws}    DDAY: ${h}`,handleClick:async()=>{const f={title:`${+Ws}  !`,body:`${h}   .  `,notification:e.notification};await s(f),await o(f),window.alert("     !")},disabled:a})}),_.jsx(Rt,{title:"  ",children:_.jsx(ht,{name:`${+_t}  DDAY: ${c}`,handleClick:async()=>{const f={title:`${+_t}   DDAY `,body:`  ${c} .   !`,notification:e.notification};await s(f),await o(f),window.alert("    !")},disabled:a})})]})]})}const Wge=()=>{var m,g,y;const{displayName:t,email:e}=Pe(Ct),{isEditing:n,onToggleEditClick:r,userDoc:i,setNewUserImgUrl:s,newDisplayName:o,setNewDisplayName:a,onHandleFieldClick:l,onProfileSubmit:h,onDisplayNameChange:c,isSelected:f}=Sre();K.useEffect(()=>{o||a(t)},[]);const p=[{name:"",data:_.jsx("span",{className:"w-full",children:e}),form:_.jsx("span",{className:"w-full text-gray1",children:e})},{name:"",data:_.jsx("span",{children:t}),form:_.jsx(Kt,{onChange:c,placeholder:" ",value:o||""})},{name:" ",data:_.jsx("ul",{className:"flex flex-wrap gap-2",children:(m=i==null?void 0:i.favoriteBookField)==null?void 0:m.map(w=>_.jsx(lr,{text:w.name,color:"lightBlue",shape:"rounded"},w.id))}),form:_.jsxs("ul",{className:"flex flex-wrap gap-2",children:[xd==null?void 0:xd.map(({id:w,name:b})=>_.jsx("button",{type:"button",name:b,onClick:x=>l(w,x),children:_.jsx(lr,{text:b,color:f(w)?"lightBlue":"lightGray",shape:"rounded"})},w)),((g=i==null?void 0:i.favoriteBookField)==null?void 0:g.length)===0&&_.jsx("span",{className:"block w-full text-end text-sm text-pointCoral",children:"    "})]})}];return _.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:" ",backBtn:!0,backTo:"/setting",children:_.jsx(Kd,{onClick:r,disabled:n})}),i!=null&&i.displayName?_.jsxs("main",{className:"flex items-start gap-x-4 max-sm:flex-col",children:[_.jsx(o5,{imgUrl:(y=i.photoURL)==null?void 0:y.original,isEditing:n,setNewUserImgUrl:s}),_.jsxs("div",{className:"flex-1",children:[_.jsx(Kd,{onClick:r,disabled:n,className:"ml-auto max-sm:hidden"}),n?_.jsxs("form",{onSubmit:h,className:"mt-8",children:[_.jsx("ul",{className:"flex flex-col gap-4",children:p.map(({name:w,form:b})=>_.jsxs("li",{className:"flex justify-between gap-6",children:[_.jsx("h3",{className:"min-w-24",children:w}),b]},w))}),_.jsx(ht,{name:"",type:"submit",className:"mx-auto mt-12"})]}):_.jsx("ul",{className:"mt-10 flex w-full flex-col gap-y-5",children:p.map(({name:w,data:b})=>_.jsxs("li",{className:"flex gap-6",children:[_.jsx("h3",{className:"min-w-24",children:w}),b]},w))})]})]}):_.jsx(rc,{size:150,className:"h-[80vh]"})]})};function Yge(){var g;const[t,e]=K.useState(!1),[n,r]=K.useState(!1),[i,s]=fn(Bv),{uid:o}=Pe(Ct),a=(g=Qt.currentUser)==null?void 0:g.isAnonymous,{sendPushNotificationToUser:l,isPending:h}=Ns(),c=async()=>{var x,E;const y=await _m();if((x=i==null?void 0:i.tokens)!=null&&x.includes(y))return;const w=dn(sn,Hd,o),b={createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),notification:!0,tokens:i.tokens&&((E=i.tokens)==null?void 0:E.length)>0?[...i==null?void 0:i.tokens,y]:[y]};i.notification||await ks(w,b),i.notification&&await kn(w,b),s(b)},f=async()=>{if(!("Notification"in window)){alert("    .");return}if(a){alert("     .");return}if(Notification.permission==="denied")return alert("   .        .        .   .");const y={title:"  ",body:"     ",notification:!0};Notification.permission==="granted"?(await c(),await l(y)):await Notification.requestPermission()==="granted"&&(await c(),await l(y)),e(!0),r(!1)},p=async()=>{const y=dn(sn,Hd,o),w={notification:!1,createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss")};await ks(y,w),e(b=>!b),r(!1)},m=()=>{r(!0),t?p():f()};return K.useEffect(()=>{i!=null&&i.notification&&Notification.permission==="granted"&&e(!0)},[i==null?void 0:i.notification]),_.jsxs(_.Fragment,{children:[_.jsx(Fn,{title:"",backBtn:!0}),_.jsxs("main",{className:"flex justify-between",children:[_.jsx("h3",{className:"font-medium text-gray1",children:""}),_.jsx("button",{type:"button",className:`flex h-7 w-12 items-center rounded-full p-1 disabled:opacity-20 ${t?"bg-green-500":"bg-gray3"}`,"aria-label":"  ",onClick:m,disabled:h||n,children:_.jsx("div",{className:`size-5 rounded-full shadow-md transition-transform ${t?"translate-x-5 bg-white":"translate-x-0 bg-gray4"}`})})]})]})}function Gge({isLoggedIn:t}){var i;const e=(i=Qt.currentUser)==null?void 0:i.isAnonymous,n=Pe(e3),{hideModal:r}=St();return _.jsxs(u9,{basename:"/han-bookclub-app",children:[_.jsx(Lge,{}),t?_.jsxs(_.Fragment,{children:[_.jsx(CR,{type:"top"}),_.jsxs(cC,{children:[_.jsx(Yt,{path:"/",element:_.jsx(xfe,{})}),_.jsx(Yt,{path:"/monthlyinfo",element:_.jsx(oge,{})}),_.jsx(Yt,{path:"/challenge",element:_.jsx(noe,{})}),_.jsx(Yt,{path:"/yearClosingEvent",element:_.jsx(Ige,{})}),_.jsx(Yt,{path:"/search",element:_.jsx(cge,{})}),_.jsx(Yt,{path:"/previous-bookclub",element:_.jsx(age,{})}),_.jsx(Yt,{path:"/bookclub/:id?",element:_.jsx(yfe,{})}),_.jsx(Yt,{path:"/bookclub/:id?/subjects",element:_.jsx(OR,{})}),_.jsx(Yt,{path:"/bookclub/:id?/host-review",element:_.jsx(OR,{})}),_.jsx(Yt,{path:"/vote",element:_.jsx(vge,{})}),_.jsx(Yt,{path:"/vote/:id",element:_.jsx(xge,{})}),_.jsx(Yt,{path:"/bookshelf/:username?",element:_.jsx(qse,{})}),_.jsx(Yt,{path:"/setting",element:_.jsx(fge,{})}),_.jsx(Yt,{path:"/setting/absence",element:_.jsx(Vge,{})}),_.jsx(Yt,{path:"/setting/edit-profile",element:_.jsx(Wge,{})}),_.jsx(Yt,{path:"/setting/edit-password",element:_.jsx(qge,{})}),_.jsx(Yt,{path:"/setting/delete-account",element:_.jsx(zge,{})}),_.jsx(Yt,{path:"/setting/developer",element:_.jsx(Hge,{})}),_.jsx(Yt,{path:"/setting/notification",element:_.jsx(Yge,{})}),e&&_.jsxs(_.Fragment,{children:[_.jsx(Yt,{path:"/login",element:_.jsx(Yb,{isLoggedIn:t})}),_.jsx(Yt,{path:"/create_account",element:_.jsx(NR,{})})]})]}),_.jsx(CR,{type:"bottom"})]}):_.jsxs(cC,{children:[_.jsx(Yt,{path:"/",element:_.jsx(Yb,{isLoggedIn:t})}),_.jsx(Yt,{path:"/find_pw",element:_.jsx(Mge,{})}),_.jsx(Yt,{path:"/*",element:_.jsx(Yb,{isLoggedIn:t})}),_.jsx(Yt,{path:"/create_account",element:_.jsx(NR,{})})]}),n.length>0&&n.map(({key:s,element:o,hideDim:a,dimUnclickable:l})=>_.jsxs(K.Fragment,{children:[!a&&_.jsx("div",{role:"presentation",className:`fixed inset-0 z-10 size-full ${l?"cursor-default":"cursor-pointer"} bg-black opacity-60`,onClick:s?()=>r(s):()=>r()}),o]},s||"modal"))]})}function Kge(){const[t,e]=K.useState(!1),[n,r]=fn(Ct),[i,s]=fn(Bv),o=Ts(AE),a=async()=>{const l=Kx(Qx,"avatars/.jpeg");Gx(l).then(h=>{o(h)})};return K.useEffect(()=>{const l=pg(),h=dg(l,c=>{if(c){const{uid:f,displayName:p,email:m,photoURL:g}=c;r({uid:f,displayName:p,email:m,photoURL:g}),a()}else r(null);e(!0)});return()=>h()},[]),K.useEffect(()=>{n!=null&&n.uid&&Cr(Hd,n.uid,s)},[n==null?void 0:n.uid]),K.useEffect(()=>{t&&(i==null?void 0:i.notification)===!0&&(async()=>{var h,c;if(Notification.permission==="granted"){const f=await _m(),p=(h=i==null?void 0:i.tokens)==null?void 0:h.find(m=>m===f);if(p)return;if(!p&&(n!=null&&n.uid)){const m=dn(sn,Hd,n.uid),g={createdAt:wt(new Date,"yyyy-MM-dd'T'HH:mm:ss"),tokens:((c=i==null?void 0:i.tokens)==null?void 0:c.length)!==0?[...i==null?void 0:i.tokens,f]:[f]};await kn(m,g)}}})()},[i]),t?_.jsx(Gge,{isLoggedIn:!!n}):_.jsx(rc,{size:120,className:"h-screen"})}const Qge=hB.createRoot(document.getElementById("root"));Qge.render(_.jsx(qee,{children:_.jsx(Kge,{})}));
